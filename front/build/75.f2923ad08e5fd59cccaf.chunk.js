(window.webpackJsonp=window.webpackJsonp||[]).push([[75],{"+teW":function(e,t,n){"use strict";n("SuFq"),n("4mDm"),n("07d7"),n("PKPk"),n("ENF9"),n("3bBZ"),n("5DmW");var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("pVnL")),l=r(n("lwsE")),i=r(n("W8MJ")),u=r(n("7W2i")),c=r(n("a1gu")),s=r(n("Nsbk")),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=o?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),f=r(n("PF6L")),p=r(n("3A/8")),m=n("Rw3A"),h=r(n("eonP")),v=n("KLnl"),y=n("T89o");function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.default)(e);if(t){var a=(0,s.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var O="purple",P=function(e){(0,u.default)(n,e);var t=g(n);function n(){return(0,l.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"render",value:function(){var e=this.props,t=e.node,n=e.hovered,r=e.topic,a=e.intl;return(0,v.isNilOrError)(r)?null:d.default.createElement(p.default,{value:r.attributes.title_multiloc},(function(e){var r=7*e.length+50,o=-r/2,l=-(0,y.round)(t.r+60+2);return d.default.createElement("svg",{x:o+t.x,y:l+t.y,width:r,height:60,style:{display:"".concat(n?"block":"none")}},d.default.createElement("rect",{x:"0",y:"0",width:r,height:60,rx:5,ry:5,stroke:O,strokeWidth:"2",fill:"#fff"}),d.default.createElement("text",{fill:O,fontSize:"16"},d.default.createElement("tspan",{x:r/2,y:20,fontWeight:"bold",textAnchor:"middle",alignmentBaseline:"central"},a.formatMessage(h.default.topic)),d.default.createElement("tspan",{x:r/2,y:40,fontWeight:"normal",textAnchor:"middle",alignmentBaseline:"central"},e)))}))}}]),n}(d.PureComponent),k=(0,m.injectIntl)(P);t.default=function(e){return d.default.createElement(f.default,{id:e.topicId},(function(t){return d.default.createElement(k,(0,o.default)({},e,{topic:t}))}))}},"0EIH":function(e,t,n){"use strict";n("SuFq"),n("4mDm"),n("07d7"),n("PKPk"),n("ENF9"),n("3bBZ"),n("5DmW");var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("pVnL")),l=r(n("lwsE")),i=r(n("W8MJ")),u=r(n("7W2i")),c=r(n("a1gu")),s=r(n("Nsbk")),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=o?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),f=r(n("OL75")),p=n("KLnl"),m=r(n("3A/8")),h=r(n("vOnD")),v=n("96Cm");function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.default)(e);if(t){var a=(0,s.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var g=h.default.div.withConfig({displayName:"IdeaDetails__Container",componentId:"uz2ql1-0"})(["p{font-size:","px;}"],v.fontSizes.base),O=function(e){(0,u.default)(n,e);var t=b(n);function n(){return(0,l.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"render",value:function(){var e=this.props.idea;return(0,p.isNilOrError)(e)?null:d.default.createElement(g,{className:this.props.className},d.default.createElement(m.default,{value:e.attributes.body_multiloc,supportHtml:!0}))}}]),n}(d.PureComponent);t.default=function(e){return d.default.createElement(f.default,{ideaId:e.ideaId},(function(t){return d.default.createElement(O,(0,o.default)({},e,{idea:t}))}))}},"2tdd":function(e,t,n){"use strict";n("SuFq"),n("4mDm"),n("07d7"),n("PKPk"),n("ENF9"),n("3bBZ"),n("5DmW");var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("pVnL")),l=r(n("lwsE")),i=r(n("W8MJ")),u=r(n("7W2i")),c=r(n("a1gu")),s=r(n("Nsbk")),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=o?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),f=r(n("OL75")),p=r(n("3A/8")),m=n("Rw3A"),h=r(n("eonP")),v=n("KLnl"),y=n("T89o");function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.default)(e);if(t){var a=(0,s.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var O="#00a2b1",P=function(e){(0,u.default)(n,e);var t=g(n);function n(){return(0,l.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"render",value:function(){var e=this.props,t=e.node,n=e.hovered,r=e.idea,a=e.intl;return(0,v.isNilOrError)(r)?null:d.default.createElement(d.default.Fragment,null,d.default.createElement(p.default,{value:r.attributes.title_multiloc},(function(e){var r=7*e.length+50,o=-r/2,l=-(0,y.round)(t.r+60+2);return d.default.createElement("svg",{x:o+t.x,y:l+t.y,width:r,height:60,style:{display:"".concat(n?"block":"none")}},d.default.createElement("rect",{x:"0",y:"0",width:r,height:60,rx:5,ry:5,stroke:O,strokeWidth:"2",fill:"#fff"}),d.default.createElement("text",{fill:O,fontSize:"16"},d.default.createElement("tspan",{x:r/2,y:20,fontWeight:"bold",textAnchor:"middle",alignmentBaseline:"central"},a.formatMessage(h.default.title)),d.default.createElement("tspan",{x:r/2,y:40,fontWeight:"normal",textAnchor:"middle",alignmentBaseline:"central"},e)))})))}}]),n}(d.PureComponent),k=(0,m.injectIntl)(P);t.default=function(e){return d.default.createElement(f.default,{ideaId:e.ideaId},(function(t){return d.default.createElement(k,(0,o.default)({},e,{idea:t}))}))}},"5Qbz":function(e,t,n){"use strict";n("x0AG"),n("fbCW"),n("SuFq"),n("4mDm"),n("07d7"),n("PKPk"),n("ENF9"),n("3bBZ"),n("5DmW");var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("2B1R");var o=r(n("pVnL")),l=r(n("lwsE")),i=r(n("W8MJ")),u=r(n("PJYZ")),c=r(n("7W2i")),s=r(n("a1gu")),d=r(n("Nsbk")),f=r(n("lSNA")),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=j(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=o?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),m=n("yUfG"),h=n("T89o"),v=r(n("vOnD")),y=n("iP56"),b=r(n("9+ks")),g=r(n("2tdd")),O=r(n("RFvV")),P=r(n("PFr1")),k=r(n("IEH7")),C=r(n("XVBt")),w=r(n("6jU1")),E=r(n("+teW")),x=r(n("QIBX")),M=r(n("anjn"));n("9JnV");function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(j=function(e){return e?n:t})(e)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var N=v.default.div.withConfig({displayName:"Circles__Container",componentId:"ujevab-0"})(["display:flex;align-items:center;justify-content:center;position:relative;"]),_=v.default.div.withConfig({displayName:"Circles__LegendCorner",componentId:"ujevab-1"})(["position:absolute;bottom:0;left:0;"]),R=(0,v.default)(y.Icon).withConfig({displayName:"Circles__StyledIcon",componentId:"ujevab-2"})(["width:30px;height:30px;"]),S=function(e){(0,c.default)(n,e);var t=I(n);function n(e){var r;return(0,l.default)(this,n),r=t.call(this,e),(0,f.default)((0,u.default)(r),"containerRef",void 0),(0,f.default)((0,u.default)(r),"calculateNodePositions",(function(){if(r.containerRef){var e=(0,h.keyBy)(r.props.ideas.list,"id"),t=(0,m.hierarchy)(r.props.structure).sum((function(t){return e[t.id]?e[t.id].attributes.upvotes_count+e[t.id].attributes.downvotes_count+1:1})),n=r.containerRef.offsetWidth,a=r.containerRef.offsetHeight,o=(n>=a?a:n)-30;(0,m.pack)().size([o,o]).padding(10)(t),r.setState({svgSize:o,nodes:t.descendants()})}})),(0,f.default)((0,u.default)(r),"comparisonSet",(function(){return r.props.selectedNodes[r.props.activeComparison]})),(0,f.default)((0,u.default)(r),"setContainerRef",(function(e){r.containerRef=e})),(0,f.default)((0,u.default)(r),"handleOnClickNode",(function(e,t){t.shiftKey?r.props.onShiftClickNode(e.data):r.state.ctrlKeyPressed?r.props.onCtrlClickNode(e.data):r.props.onClickNode(e.data)})),(0,f.default)((0,u.default)(r),"handleContextMenu",(function(e){e.preventDefault(),r.setState({ctrlKeyPressed:!0}),r.state.hoveredNode&&r.props.onCtrlClickNode(r.state.hoveredNode.data)})),(0,f.default)((0,u.default)(r),"handleOnKeyDown",(function(e){"Control"===e.key&&r.setState({ctrlKeyPressed:!0})})),(0,f.default)((0,u.default)(r),"handleOnKeyUp",(function(e){"Control"===e.key&&r.setState({ctrlKeyPressed:!1})})),(0,f.default)((0,u.default)(r),"handleOnMouseEnter",(function(e,t){r.setState({hoveredNode:e})})),(0,f.default)((0,u.default)(r),"handleOnMouseLeave",(function(e,t){r.setState({hoveredNode:null})})),(0,f.default)((0,u.default)(r),"selectionIndex",(function(e){var t=(0,h.findIndex)(r.props.selectedNodes,(function(t){return!!(0,h.find)(t,{id:e.data.id})}));return-1===t?null:t})),(0,f.default)((0,u.default)(r),"onShowLegend",(function(){r.setState({showLegend:!0})})),(0,f.default)((0,u.default)(r),"onHideLegend",(function(){r.setState({showLegend:!1})})),r.state={svgSize:null,nodes:[],hoveredNode:null,ctrlKeyPressed:!1,showLegend:!1},r.containerRef=null,r}return(0,i.default)(n,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.calculateNodePositions),window.addEventListener("keydown",this.handleOnKeyDown),window.addEventListener("keyup",this.handleOnKeyUp),window.addEventListener("contextmenu",this.handleContextMenu),this.calculateNodePositions()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.calculateNodePositions),window.removeEventListener("keydown",this.handleOnKeyDown),window.removeEventListener("keyup",this.handleOnKeyUp),window.removeEventListener("contextmenu",this.handleContextMenu)}},{key:"render",value:function(){var e=this,t=this.state,n=t.nodes,r=t.svgSize,a=t.hoveredNode,o=t.showLegend,l=[],i=[],u=[];return n.map((function(t,n){"idea"===t.data.type&&(l.push(p.default.createElement(b.default,{key:n,node:t,ideaId:t.data.id,hovered:t===a,selectionIndex:e.selectionIndex(t),onClick:e.handleOnClickNode,onMouseEnter:e.handleOnMouseEnter,onMouseLeave:e.handleOnMouseLeave})),i.push(p.default.createElement(g.default,{key:n,node:t,ideaId:t.data.id,hovered:t===a,selectionIndex:e.selectionIndex(t),onClick:e.handleOnClickNode,onMouseEnter:e.handleOnMouseEnter,onMouseLeave:e.handleOnMouseLeave}))),"custom"===t.data.type&&(l.push(p.default.createElement(O.default,{key:n,node:t,onClick:e.handleOnClickNode,selectionIndex:e.selectionIndex(t),onMouseEnter:e.handleOnMouseEnter,onMouseLeave:e.handleOnMouseLeave})),u.push(p.default.createElement(P.default,{key:n,node:t,onClick:e.handleOnClickNode,selectionIndex:e.selectionIndex(t),onMouseEnter:e.handleOnMouseEnter,onMouseLeave:e.handleOnMouseLeave}))),"project"===t.data.type&&(l.push(p.default.createElement(k.default,{key:n,node:t,projectId:t.data.id,hovered:t===a,selectionIndex:e.selectionIndex(t),onClick:e.handleOnClickNode,onMouseEnter:e.handleOnMouseEnter,onMouseLeave:e.handleOnMouseLeave})),i.push(p.default.createElement(C.default,{key:n,node:t,projectId:t.data.id,hovered:t===a,selectionIndex:e.selectionIndex(t),onClick:e.handleOnClickNode,onMouseEnter:e.handleOnMouseEnter,onMouseLeave:e.handleOnMouseLeave}))),"topic"===t.data.type&&(l.push(p.default.createElement(w.default,{key:n,node:t,topicId:t.data.id,hovered:t===a,selectionIndex:e.selectionIndex(t),onClick:e.handleOnClickNode,onMouseEnter:e.handleOnMouseEnter,onMouseLeave:e.handleOnMouseLeave})),i.push(p.default.createElement(E.default,{key:n,node:t,topicId:t.data.id,hovered:t===a,selectionIndex:e.selectionIndex(t),onClick:e.handleOnClickNode,onMouseEnter:e.handleOnMouseEnter,onMouseLeave:e.handleOnMouseLeave})))})),p.default.createElement(N,{ref:this.setContainerRef,className:this.props.className},r&&p.default.createElement("svg",{width:r,height:r,preserveAspectRatio:"xMidYMid meet",style:{overflow:"visible"}},p.default.createElement("g",{className:"circles"},l),p.default.createElement("g",{className:"labels"},u,i)),p.default.createElement(_,null,o?p.default.createElement(x.default,{onClickOutside:this.onHideLegend}):p.default.createElement("button",{onClick:this.onShowLegend},p.default.createElement(R,{name:"info"}))))}}]),n}(p.PureComponent);t.default=function(e){return p.default.createElement(M.default,{type:"load-more",pageSize:1e3,sort:"new"},(function(t){return t.list?p.default.createElement(S,(0,o.default)({},e,{ideas:t})):null}))}},"6jU1":function(e,t,n){"use strict";n("SuFq"),n("4mDm"),n("07d7"),n("PKPk"),n("ENF9"),n("3bBZ"),n("5DmW");var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("ma9I");var o=r(n("pVnL")),l=r(n("lwsE")),i=r(n("W8MJ")),u=r(n("PJYZ")),c=r(n("7W2i")),s=r(n("a1gu")),d=r(n("Nsbk")),f=r(n("lSNA")),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=o?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),m=r(n("vOnD")),h=r(n("PF6L")),v=n("KLnl"),y=n("T89o");function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var O=m.default.circle.withConfig({displayName:"TopicCircle__StyledCircle",componentId:"dnygg1-0"})(["position:relative;fill:green;fill-opacity:0.2;cursor:pointer;&:hover{stroke:",";stroke-width:2px;}",""],"purple",(function(e){return!(0,y.isNil)(e.selectionIndex)&&"\n    stroke: black;\n    stroke-width: 2px;\n    fill: ".concat(e.theme.comparisonColors[e.selectionIndex],";\n  ")})),P=function(e){(0,c.default)(n,e);var t=g(n);function n(){var e;(0,l.default)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,f.default)((0,u.default)(e),"handleOnClick",(function(t){var n=e.props.node;e.props.onClick&&e.props.onClick(n,t)})),(0,f.default)((0,u.default)(e),"handleOnMouseEnter",(function(t){var n=e.props.node;e.props.onMouseEnter&&e.props.onMouseEnter(n,t)})),(0,f.default)((0,u.default)(e),"handleOnMouseLeave",(function(t){var n=e.props.node;e.props.onMouseLeave&&e.props.onMouseLeave(n,t)})),e}return(0,i.default)(n,[{key:"render",value:function(){var e=this.props,t=e.node,n=e.selectionIndex,r=e.hovered,a=e.topic;return(0,v.isNilOrError)(a)?null:p.default.createElement(O,{transform:"translate(".concat(t.x,",").concat(t.y,")"),r:t.r,onClick:this.handleOnClick,onMouseEnter:this.handleOnMouseEnter,onMouseLeave:this.handleOnMouseLeave,selectionIndex:n,hovered:r})}}]),n}(p.PureComponent);t.default=function(e){return p.default.createElement(h.default,{id:e.topicId},(function(t){return p.default.createElement(P,(0,o.default)({},e,{topic:t}))}))}},"9+ks":function(e,t,n){"use strict";n("SuFq"),n("4mDm"),n("07d7"),n("PKPk"),n("ENF9"),n("3bBZ"),n("5DmW");var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("ma9I");var o=r(n("pVnL")),l=r(n("lwsE")),i=r(n("W8MJ")),u=r(n("PJYZ")),c=r(n("7W2i")),s=r(n("a1gu")),d=r(n("Nsbk")),f=r(n("lSNA")),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=o?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),m=r(n("vOnD")),h=n("ufqH"),v=r(n("OL75")),y=n("KLnl"),b=n("T89o");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var P=m.default.circle.withConfig({displayName:"IdeaCircle__StyledCircle",componentId:"sc-1igrjqy-0"})(["position:relative;fill:",";fill-opacity:0.75;cursor:pointer;"," ",""],(function(e){return(0,h.mix)(e.upvoteRatio,"green","red")}),(function(e){return e.hovered&&"\n    stroke: ".concat("#00a2b1",";\n    stroke-width: 2px;\n  ")}),(function(e){return!(0,b.isNil)(e.selectionIndex)&&"\n    stroke: black;\n    stroke-width: 2px;\n    fill: ".concat(e.theme.comparisonColors[e.selectionIndex],";\n  ")})),k=function(e){(0,c.default)(n,e);var t=O(n);function n(){var e;(0,l.default)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,f.default)((0,u.default)(e),"upvoteRatio",(function(e,t){return e/(e+t)})),(0,f.default)((0,u.default)(e),"handleOnClick",(function(t){var n=e.props.node;e.props.onClick(n,t)})),(0,f.default)((0,u.default)(e),"handleOnMouseEnter",(function(t){var n=e.props.node;e.props.onMouseEnter(n,t)})),(0,f.default)((0,u.default)(e),"handleOnMouseLeave",(function(t){var n=e.props.node;e.props.onMouseLeave(n,t)})),e}return(0,i.default)(n,[{key:"render",value:function(){var e=this.props,t=e.node,n=e.selectionIndex,r=e.hovered,a=e.idea;return(0,y.isNilOrError)(a)?null:p.default.createElement(P,{r:t.r,transform:"translate(".concat(t.x,",").concat(t.y,")"),onClick:this.handleOnClick,onMouseEnter:this.handleOnMouseEnter,onMouseLeave:this.handleOnMouseLeave,selectionIndex:n,hovered:r,upvoteRatio:this.upvoteRatio(a.attributes.upvotes_count,a.attributes.downvotes_count)})}}]),n}(p.PureComponent);t.default=function(e){return p.default.createElement(v.default,{ideaId:e.ideaId},(function(t){return p.default.createElement(k,(0,o.default)({},e,{idea:t}))}))}},"9JnV":function(e,t,n){"use strict";n("tkto"),n("pNMO"),n("TeQF"),n("5DmW"),n("FZtP"),n("27RR");var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.clusteringByIdStream=function(e){return i.default.get({apiEndpoint:"".concat(s,"/").concat(e)})},t.clusteringsStream=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return i.default.get(c({apiEndpoint:s},e))},t.addClustering=function(e){return i.default.add(s,{clustering:e})},t.updateClustering=function(e,t){return i.default.update("".concat(s,"/").concat(e),e,{clustering:t})},t.deleteClustering=function(e){return i.default.delete("".concat(s,"/").concat(e),e)},t.ideasUnder=void 0;var a=r(n("lSNA"));n("2B1R"),n("ma9I");var o=n("T89o"),l=n("p0gT"),i=r(n("1Kqg"));function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s="".concat(l.API_PATH,"/clusterings");t.ideasUnder=function e(t){return"idea"===t.type?[t.id]:(0,o.flatten)(t.children.map((function(t){return e(t)})))}},"B/fO":function(e,t,n){"use strict";n("SuFq"),n("4mDm"),n("07d7"),n("PKPk"),n("ENF9"),n("3bBZ"),n("5DmW");var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("2B1R"),n("sMBO");var o=r(n("lwsE")),l=r(n("W8MJ")),i=r(n("PJYZ")),u=r(n("7W2i")),c=r(n("a1gu")),s=r(n("Nsbk")),d=r(n("lSNA")),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=j(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=o?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),p=r(n("vOnD")),m=n("T89o"),h=n("96Cm"),v=n("9JnV"),y=r(n("b7Nt")),b=r(n("xf9i")),g=r(n("Ul93")),O=r(n("0EIH")),P=r(n("HNfV")),k=n("iP56"),C=r(n("lfyI")),w=n("Rw3A"),E=r(n("eonP")),x=n("KuRP"),M=r(n("pif9"));function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(j=function(e){return e?n:t})(e)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.default)(e);if(t){var a=(0,s.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var N=p.default.div.withConfig({displayName:"InfoPane__Container",componentId:"i85qz6-0"})(["width:100%;display:flex;flex-direction:column;"]),_=p.default.nav.withConfig({displayName:"InfoPane__TabbedNav",componentId:"i85qz6-1"})(["flex:0 0 55px;background:#fcfcfc;border-radius:"," "," 0 0;padding-left:30px;display:flex;align-items:stretch;border:solid 1px ",";border-bottom:none;"],(function(e){return e.theme.borderRadius}),(function(e){return e.theme.borderRadius}),h.colors.separation),R=p.default.li.withConfig({displayName:"InfoPane__Tab",componentId:"i85qz6-2"})(["color:",";font-size:","px;font-weight:400;list-style:none;cursor:pointer;display:flex;align-items:center;border-bottom:solid 3px transparent;&:not(:last-child){margin-right:40px;}&.active{color:",";border-color:",";}&:not(.active):hover{border-color:transparent;}&:first-letter{text-transform:uppercase;}"],h.colors.label,h.fontSizes.base,h.colors.adminTextColor,h.colors.clBlueDark),S=p.default.div.withConfig({displayName:"InfoPane__Content",componentId:"i85qz6-3"})(["flex:1;display:flex;flex-direction:column;background:#fff;border:solid 1px ",";border-radius:0 0 "," ",";padding-left:10px;padding-right:10px;padding-top:30px;padding-bottom:10px;overflow-y:scroll;"],h.colors.adminBorder,(function(e){return e.theme.borderRadius}),(function(e){return e.theme.borderRadius})),D=p.default.div.withConfig({displayName:"InfoPane__RadioButtons",componentId:"i85qz6-4"})(["flex:0 0 40px;display:flex;align-items:center;margin-top:5px;margin-left:20px;margin-bottom:25px;"]),q=(0,p.default)(k.Radio).withConfig({displayName:"InfoPane__StyledRadio",componentId:"i85qz6-5"})(["margin:0;padding:0;margin-right:25px;"]),B=p.default.div.withConfig({displayName:"InfoPane__Details",componentId:"i85qz6-6"})(["padding:20px;padding-top:0;"]),W=p.default.h3.withConfig({displayName:"InfoPane__ChartTitle",componentId:"i85qz6-7"})(["margin:0;margin-left:20px;"]),L=(0,p.default)(y.default).withConfig({displayName:"InfoPane__StyledGenderChart",componentId:"i85qz6-8"})(["margin-top:15px;margin-bottom:25px;"]),T=(0,p.default)(b.default).withConfig({displayName:"InfoPane__StyledAgeChart",componentId:"i85qz6-9"})(["margin-top:15px;margin-bottom:25px;"]),F=(0,p.default)(g.default).withConfig({displayName:"InfoPane__StyledDomicileChart",componentId:"i85qz6-10"})(["margin-top:15px;margin-bottom:25px;"]),z=function(e){(0,u.default)(n,e);var t=I(n);function n(e){var r;return(0,o.default)(this,n),r=t.call(this,e),(0,d.default)((0,i.default)(r),"selectedIdeas",(function(){return(0,m.uniq)((0,m.flatten)((0,m.map)(r.comparisonSet(),v.ideasUnder)))})),(0,d.default)((0,i.default)(r),"comparisonIdeas",(function(){return r.props.selectedNodes.map((function(e){return(0,m.uniq)((0,m.flatten)((0,m.map)(e,v.ideasUnder)))}))})),(0,d.default)((0,i.default)(r),"handleOnChangeNormalization",(function(e){(0,x.trackEventByName)(M.default.switchNormalization.name,{extra:{normalization:e}}),r.setState({normalization:e})})),(0,d.default)((0,i.default)(r),"comparisonSet",(function(){return r.props.selectedNodes[r.props.activeComparison]||[]})),(0,d.default)((0,i.default)(r),"handleTabOnClick",(function(e){return function(t){t.preventDefault(),(0,x.trackEventByName)(M.default.changeTab.name,{extra:{tab:e}}),r.setState({selectedTab:e})}})),r.state={normalization:"absolute",selectedTab:"votes"},r}return(0,l.default)(n,[{key:"render",value:function(){var e=this.props.selectedNodes,t=this.state,n=t.normalization,r=t.selectedTab,a=this.comparisonSet();return f.default.createElement(N,{className:this.props.className},f.default.createElement(_,null,f.default.createElement(R,{onClick:this.handleTabOnClick("votes"),"data-tab":"votes",className:"".concat("votes"===r&&"active")},f.default.createElement(w.FormattedMessage,E.default.votes)),f.default.createElement(R,{onClick:this.handleTabOnClick("details"),"data-tab":"details",className:"".concat("details"===r&&"active")},f.default.createElement(w.FormattedMessage,E.default.details))),f.default.createElement(S,null,f.default.createElement(C.default,{selectedNodes:this.props.selectedNodes}),"details"===r&&f.default.createElement(B,null,1===e.length&&a.length>=1&&"idea"===a[0].type&&f.default.createElement(O.default,{ideaId:a[0].id}),1===e.length&&a.length>=1&&"idea"!==a[0].type&&f.default.createElement(P.default,{node:a[0],ideaIds:this.selectedIdeas()})),"votes"===r&&f.default.createElement(f.default.Fragment,null,f.default.createElement(D,null,f.default.createElement(q,{key:"absolute",onChange:this.handleOnChangeNormalization,currentValue:this.state.normalization,value:"absolute",label:f.default.createElement(w.FormattedMessage,E.default.absolute),name:"normalization"}),f.default.createElement(q,{key:"relative",onChange:this.handleOnChangeNormalization,currentValue:this.state.normalization,value:"relative",label:f.default.createElement(f.default.Fragment,null,f.default.createElement(w.FormattedMessage,E.default.relative),f.default.createElement(k.IconTooltip,{content:f.default.createElement(w.FormattedMessage,E.default.relativeImportanceInputsTooltip)})),name:"normalization"})),f.default.createElement(W,null,f.default.createElement(w.FormattedMessage,E.default.gender)),f.default.createElement(L,{ideaIdsComparisons:this.comparisonIdeas(),normalization:n}),f.default.createElement(W,null,f.default.createElement(w.FormattedMessage,E.default.age)),f.default.createElement(T,{ideaIdsComparisons:this.comparisonIdeas(),normalization:n}),f.default.createElement(W,null,f.default.createElement(w.FormattedMessage,E.default.domicile)),f.default.createElement(F,{ideaIdsComparisons:this.comparisonIdeas(),normalization:n}))))}}]),n}(f.PureComponent);t.default=z},BjdT:function(e,t,n){"use strict";n("TeQF"),n("2B1R"),n("tkto"),n("pNMO"),n("5DmW"),n("FZtP"),n("27RR");var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.globalState=void 0;var a=r(n("lwsE")),o=r(n("W8MJ")),l=r(n("lSNA")),i=n("DtyJ"),u=n("ahDk"),c=n("T89o"),s=r(n("aTp4"));function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,l.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=new(function(){function e(){var t=this;(0,a.default)(this,e),(0,l.default)(this,"stream",void 0),this.stream={observer:null,observable:null},this.stream.observable=new i.Observable((function(e){t.stream.observer=e})).pipe((0,u.startWith)({}),(0,u.scan)((function(e,t){var n=t.propertyName,r=t.updatedStateProperties;return f(f({},e),{},(0,l.default)({},n,f(f({},e[n]),r)))})),(0,u.filter)((function(e){return(0,c.isObject)(e)&&!(0,c.isEmpty)(e)})),(0,u.publishReplay)(1),(0,u.refCount)()),this.stream.observable.subscribe()}return(0,o.default)(e,[{key:"init",value:function(e,t){var n=this,r=this.stream.observable.pipe((0,u.map)((function(t){return t[e]})),(0,u.filter)((function(e){return(0,c.isObject)(e)&&!(0,c.isEmpty)(e)})),(0,u.distinctUntilChanged)((function(e,t){return(0,s.default)(e,t)}))),a=function(t){return n.set(e,t)};return t&&(0,c.isObject)(t)&&!(0,c.isEmpty)(t)&&(this.stream.observer?a(t):setTimeout((function(){return a(t)}),0)),{observable:r,set:a,get:function(){return n.get(e)}}}},{key:"set",value:function(e,t){this.stream.observer.next({propertyName:e,updatedStateProperties:t})}},{key:"get",value:function(e){return this.stream.observable.pipe((0,u.map)((function(t){return(0,c.has)(t,e)?t[e]:null})),(0,u.first)()).toPromise()}}]),e}());t.globalState=p},HNfV:function(e,t,n){"use strict";n("SuFq"),n("4mDm"),n("07d7"),n("PKPk"),n("ENF9"),n("3bBZ"),n("5DmW");var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("ma9I"),n("2B1R"),n("sMBO");var o=r(n("lwsE")),l=r(n("W8MJ")),i=r(n("PJYZ")),u=r(n("7W2i")),c=r(n("a1gu")),s=r(n("Nsbk")),d=r(n("lSNA")),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=o?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),p=n("KLnl"),m=n("T89o"),h=r(n("OL75")),v=r(n("vOnD")),y=n("96Cm"),b=n("Rw3A"),g=r(n("3A/8")),O=r(n("eonP"));function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.default)(e);if(t){var a=(0,s.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var C=v.default.div.withConfig({displayName:"ClusterDetails__Container",componentId:"sc-1pwpxf3-0"})([""]),w=v.default.ul.withConfig({displayName:"ClusterDetails__List",componentId:"sc-1pwpxf3-1"})(["padding:0;padding-left:20px;padding-right:20px;margin:0;"]),E=v.default.li.withConfig({displayName:"ClusterDetails__ListItem",componentId:"sc-1pwpxf3-2"})(["font-size:","px;padding-top:5px;padding-bottom:5px;"],y.fontSizes.base),x=function(e){(0,u.default)(n,e);var t=k(n);function n(){var e;(0,o.default)(this,n);for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a)),(0,d.default)((0,i.default)(e),"keywords",(function(){var t=e.props.node;return"custom"===t.type&&t.keywords||[]})),e}return(0,l.default)(n,[{key:"render",value:function(){var e=this.props,t=e.ideaIds;if(!e.node)return null;var n=this.keywords();return f.default.createElement(C,{className:this.props.className},!(0,m.isEmpty)(n)&&f.default.createElement(f.default.Fragment,null,f.default.createElement("h4",null,f.default.createElement(b.FormattedMessage,O.default.keywords)),f.default.createElement(w,null,n.map((function(e){return f.default.createElement(E,{key:e.name},e.name)})))),f.default.createElement("h4",null,f.default.createElement(b.FormattedMessage,O.default.clusterContainsSelectedInputs)),f.default.createElement(w,null,t.map((function(e){return f.default.createElement(h.default,{key:e,ideaId:e},(function(e){return(0,p.isNilOrError)(e)?null:f.default.createElement(E,{key:e.id},f.default.createElement(g.default,{value:e.attributes.title_multiloc}))}))}))))}}]),n}(f.PureComponent);t.default=x},IEH7:function(e,t,n){"use strict";n("SuFq"),n("4mDm"),n("07d7"),n("PKPk"),n("ENF9"),n("3bBZ"),n("5DmW");var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("ma9I");var o=r(n("pVnL")),l=r(n("lwsE")),i=r(n("W8MJ")),u=r(n("PJYZ")),c=r(n("7W2i")),s=r(n("a1gu")),d=r(n("Nsbk")),f=r(n("lSNA")),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=o?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),m=r(n("vOnD")),h=r(n("M7uY")),v=n("KLnl"),y=n("T89o");function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var O=m.default.circle.withConfig({displayName:"ProjectCircle__StyledCircle",componentId:"sc-9rf48z-0"})(["position:relative;fill:green;fill-opacity:0.2;cursor:pointer;&:hover{stroke:",";stroke-width:2px;}",""],"#003348",(function(e){return!(0,y.isNil)(e.selectionIndex)&&"\n    stroke: black;\n    stroke-width: 2px;\n    fill: ".concat(e.theme.comparisonColors[e.selectionIndex],";\n  ")})),P=function(e){(0,c.default)(n,e);var t=g(n);function n(){var e;(0,l.default)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,f.default)((0,u.default)(e),"handleOnClick",(function(t){var n=e.props.node;e.props.onClick&&e.props.onClick(n,t)})),(0,f.default)((0,u.default)(e),"handleOnMouseEnter",(function(t){var n=e.props.node;e.props.onMouseEnter&&e.props.onMouseEnter(n,t)})),(0,f.default)((0,u.default)(e),"handleOnMouseLeave",(function(t){var n=e.props.node;e.props.onMouseLeave&&e.props.onMouseLeave(n,t)})),e}return(0,i.default)(n,[{key:"render",value:function(){var e=this.props,t=e.node,n=e.selectionIndex,r=e.hovered,a=e.project;return(0,v.isNilOrError)(a)?null:p.default.createElement(O,{r:t.r,onClick:this.handleOnClick,onMouseEnter:this.handleOnMouseEnter,onMouseLeave:this.handleOnMouseLeave,selectionIndex:n,hovered:r,transform:"translate(".concat(t.x,",").concat(t.y,")")})}}]),n}(p.PureComponent);t.default=function(e){return p.default.createElement(h.default,{projectId:e.projectId},(function(t){return p.default.createElement(P,(0,o.default)({},e,{project:t}))}))}},P5nV:function(e,t,n){"use strict";n("SuFq"),n("tkto"),n("pNMO"),n("TeQF"),n("5DmW"),n("FZtP"),n("27RR"),n("4mDm"),n("07d7"),n("PKPk"),n("ENF9"),n("3bBZ");var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("ma9I"),n("pDQq"),n("x0AG");var o,l=r(n("pVnL")),i=r(n("RIqP")),u=r(n("lwsE")),c=r(n("W8MJ")),s=r(n("PJYZ")),d=r(n("7W2i")),f=r(n("a1gu")),p=r(n("Nsbk")),m=r(n("lSNA")),h=r(n("VkAN")),v=S(n("q1tI")),y=n("T89o"),b=n("dtw8"),g=n("KLnl"),O=r(n("JUYq")),P=r(n("5Qbz")),k=r(n("B/fO")),C=r(n("y5tA")),w=n("Loij"),E=r(n("3A/8")),x=n("BjdT"),M=r(n("au5q")),j=S(n("vOnD")),I=n("96Cm"),N=n("KuRP"),_=r(n("pif9"));function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(R=function(e){return e?n:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=R(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=o?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}return r.default=e,n&&n.set(e,r),r}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){(0,m.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.default)(e);if(t){var a=(0,p.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,f.default)(this,n)}}var W=j.default.div.withConfig({displayName:"Show__TwoColumns",componentId:"j714q3-0"})(["flex-shrink:0;flex-grow:1;flex-basis:auto;width:100%;height:calc(100vh - ","px - 85px);display:flex;flex-wrap:nowrap;align-items:stretch;margin-bottom:35px;"],(function(e){return e.theme.menuHeight})),L=(0,j.default)(P.default).withConfig({displayName:"Show__StyledCircles",componentId:"j714q3-1"})(["flex-shrink:1;flex-grow:1;flex-basis:auto;display:flex;justify-content:center;align-items:center;background:#fff;border:solid 1px ",";border-radius:",";padding:25px;"],I.colors.separation,(function(e){return e.theme.borderRadius})),T=(0,j.default)(k.default).withConfig({displayName:"Show__StyledInfoPane",componentId:"j714q3-2"})(["flex:0 0 350px;margin-left:20px;",""],I.media.smallerThan1280px(o||(o=(0,h.default)(["\n    flex:  0 0 300px;\n  "])))),F=(0,j.default)(C.default).withConfig({displayName:"Show__StyledGoBackButton",componentId:"j714q3-3"})(["margin-bottom:20px;"]),z=function(e){(0,d.default)(n,e);var t=B(n);function n(e){var r;return(0,u.default)(this,n),r=t.call(this,e),(0,m.default)((0,s.default)(r),"globalState",void 0),(0,m.default)((0,s.default)(r),"theme",(function(e){return q(q({},e),{},{comparisonColors:["#fbbd08","#a333c8","#f2711c","#00b5ad"],upvotes:e.colors.clGreen,downvotes:e.colors.clRed,chartLabelColor:"#999999",chartLabelSize:13})})),(0,m.default)((0,s.default)(r),"handleOnChangeActiveComparison",(function(e){r.setState({activeComparisonCount:e})})),(0,m.default)((0,s.default)(r),"handleOnAddComparison",(function(){r.setState((function(e){var t=e.selectedNodes;return{selectedNodes:[].concat((0,i.default)(t),[[]]),activeComparisonCount:t.length}}))})),(0,m.default)((0,s.default)(r),"handleOnDeleteComparison",(function(e){var t=r.state,n=t.activeComparisonCount,a=t.selectedNodes,o=(0,y.clone)(a);o.splice(e,1);var l=n>=e?o.length-1:n;r.setState({selectedNodes:o,activeComparisonCount:l})})),(0,m.default)((0,s.default)(r),"handleOnClickNode",(function(e){"idea"===e.type?r.props.trackClickIdea({extra:{id:e.id}}):r.props.trackClickCluster({extra:{type:e.type,id:e.id}}),r.setState({selectedNodes:[[e]],activeComparisonCount:0})})),(0,m.default)((0,s.default)(r),"handleOnShiftClickNode",(function(e){"idea"===e.type?r.props.trackShiftClickIdea({extra:{id:e.id}}):r.props.trackShiftClickCluster({extra:{type:e.type,id:e.id}});var t=(0,y.clone)(r.state.selectedNodes);t[r.state.activeComparisonCount]=[].concat((0,i.default)(r.state.selectedNodes[r.state.activeComparisonCount]),[e]),r.setState({selectedNodes:t})})),(0,m.default)((0,s.default)(r),"handleOnCtrlClickNode",(function(e){"idea"===e.type?r.props.trackCtrlClickIdea({extra:{id:e.id}}):r.props.trackCtrlClickCluster({extra:{type:e.type,id:e.id}});var t=r.state.selectedNodes;t.length<4&&t.findIndex((function(t){return 1===t.length&&t[0].id===e.id}))<0&&r.setState((function(t){var n=t.selectedNodes;return{selectedNodes:[].concat((0,i.default)(n),[[e]]),activeComparisonCount:n.length}}))})),(0,m.default)((0,s.default)(r),"goBack",(function(){O.default.push("/admin/dashboard/insights")})),r.state={activeComparisonCount:0,selectedNodes:[[]]},r.globalState=x.globalState.init("AdminFullWidth"),r}return(0,c.default)(n,[{key:"componentDidMount",value:function(){this.globalState.set({enabled:!0})}},{key:"componentWillUnmount",value:function(){this.globalState.set({enabled:!1})}},{key:"render",value:function(){var e=this.props.clustering,t=this.state,n=t.activeComparisonCount,r=t.selectedNodes;return(0,g.isNilOrError)(e)?null:v.default.createElement(v.default.Fragment,null,v.default.createElement(F,{onClick:this.goBack}),v.default.createElement(w.PageTitle,null,v.default.createElement(E.default,{value:e.attributes.title_multiloc})),v.default.createElement(j.ThemeProvider,{theme:this.theme},v.default.createElement(W,null,v.default.createElement(L,{activeComparison:n,selectedNodes:r,structure:e.attributes.structure,onClickNode:this.handleOnClickNode,onShiftClickNode:this.handleOnShiftClickNode,onCtrlClickNode:this.handleOnCtrlClickNode}),v.default.createElement(T,{activeComparison:n,selectedNodes:r,onAddComparison:this.handleOnAddComparison,onChangeActiveComparison:this.handleOnChangeActiveComparison,onDeleteComparison:this.handleOnDeleteComparison}))))}}]),n}(v.PureComponent),A=(0,N.injectTracks)({trackClickCluster:_.default.clickCluster,trackCtrlClickCluster:_.default.ctrlClickCluster,trackShiftClickCluster:_.default.shiftClickCluster,trackClickIdea:_.default.clickIdea,trackCtrlClickIdea:_.default.ctrlClickIdea,trackShiftClickIdea:_.default.shiftClickIdea})(z),K=(0,b.withRouter)((function(e){return v.default.createElement(M.default,{id:e.params.clusteringId},(function(t){return v.default.createElement(A,(0,l.default)({},e,{clustering:t}))}))}));t.default=K},PF6L:function(e,t,n){"use strict";n("TeQF"),n("SuFq");var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("FZtP");var a=r(n("lwsE")),o=r(n("W8MJ")),l=r(n("PJYZ")),i=r(n("7W2i")),u=r(n("a1gu")),c=r(n("Nsbk")),s=r(n("lSNA")),d=r(n("q1tI")),f=n("T89o"),p=n("DtyJ"),m=n("ahDk"),h=r(n("aTp4")),v=n("Sxt5"),y=n("KLnl");function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var a=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var g=function(e){(0,i.default)(n,e);var t=b(n);function n(e){var r;return(0,a.default)(this,n),r=t.call(this,e),(0,s.default)((0,l.default)(r),"inputProps$",void 0),(0,s.default)((0,l.default)(r),"subscriptions",void 0),r.state={topic:void 0},r}return(0,o.default)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.id;this.inputProps$=new p.BehaviorSubject({id:t}),this.subscriptions=[this.inputProps$.pipe((0,m.distinctUntilChanged)((function(e,t){return(0,h.default)(e,t)})),(0,m.filter)((function(e){var t=e.id;return(0,f.isString)(t)})),(0,m.switchMap)((function(e){var t=e.id;return(0,v.topicByIdStream)(t).observable}))).subscribe((function(t){return e.setState({topic:(0,y.isNilOrError)(t)?t:t.data})}))]}},{key:"componentDidUpdate",value:function(){var e=this.props.id;this.inputProps$.next({id:e})}},{key:"componentWillUnmount",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"render",value:function(){return(0,this.props.children)(this.state.topic)}}]),n}(d.default.Component);t.default=g},PFr1:function(e,t,n){"use strict";n("SuFq"),n("4mDm"),n("07d7"),n("PKPk"),n("ENF9"),n("3bBZ"),n("5DmW");var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("ma9I"),n("oVuX"),n("2B1R"),n("sMBO");var o=r(n("lwsE")),l=r(n("W8MJ")),i=r(n("PJYZ")),u=r(n("7W2i")),c=r(n("a1gu")),s=r(n("Nsbk")),d=r(n("lSNA")),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=o?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),p=n("T89o");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.default)(e);if(t){var a=(0,s.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var v=r(n("vOnD")).default.text.withConfig({displayName:"CustomCircleLabel__StyledText",componentId:"sc-124o0z6-0"})(["font-size:","px;text-shadow:white 0px 0px 10px;"],(function(e){return e.size})),y=function(e){(0,u.default)(n,e);var t=h(n);function n(){var e;(0,o.default)(this,n);for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a)),(0,d.default)((0,i.default)(e),"nodeLabel",(function(){var t=e.props.node.data;return t.title||t.keywords&&(0,p.take)(t.keywords.map((function(e){return e.name})),1).join(" ")})),e}return(0,l.default)(n,[{key:"render",value:function(){var e=this.props,t=e.node,n=e.selectionIndex,r=e.hovered;return f.default.createElement(v,{transform:"translate(".concat(t.x,",").concat(t.y-t.r,")"),textAnchor:"middle",alignmentBaseline:"central",show:!(0,p.isNil)(n)||r,size:12+2*t.height},this.nodeLabel())}}]),n}(f.PureComponent);t.default=y},QIBX:function(e,t,n){"use strict";n("SuFq"),n("4mDm"),n("07d7"),n("PKPk"),n("ENF9"),n("3bBZ"),n("5DmW");var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("lwsE")),l=r(n("W8MJ")),i=r(n("PJYZ")),u=r(n("7W2i")),c=r(n("a1gu")),s=r(n("Nsbk")),d=r(n("lSNA")),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=o?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),p=r(n("vOnD")),m=n("96Cm"),h=r(n("EvcW")),v=n("Rw3A"),y=r(n("eonP"));function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.default)(e);if(t){var a=(0,s.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var O=(0,p.default)(h.default).withConfig({displayName:"LegendPanel__Container",componentId:"sc-4z7pv-0"})(["width:100%;display:flex;flex-direction:column;"]),P=p.default.nav.withConfig({displayName:"LegendPanel__TabbedNav",componentId:"sc-4z7pv-1"})(["flex:0 0 55px;background:#fcfcfc;border-radius:"," "," 0 0;padding-left:30px;display:flex;align-items:stretch;border:solid 1px ",";border-bottom:none;"],(function(e){return e.theme.borderRadius}),(function(e){return e.theme.borderRadius}),m.colors.separation),k=p.default.li.withConfig({displayName:"LegendPanel__Tab",componentId:"sc-4z7pv-2"})(["color:",";font-size:",";font-weight:400;list-style:none;cursor:pointer;display:flex;align-items:center;border-bottom:solid 3px transparent;margin-right:40px;&:first-letter{text-transform:uppercase;}&.active{color:",";border-color:",";}&:not(.active):hover{border-color:transparent;}"],m.colors.label,m.fontSizes.base,m.colors.adminTextColor,m.colors.clBlueDark),C=p.default.div.withConfig({displayName:"LegendPanel__Content",componentId:"sc-4z7pv-3"})(["flex:1;display:flex;flex-direction:column;background:#fff;border:solid 1px ",";border-radius:0 0 "," ",";padding-left:10px;padding-right:10px;padding-top:20px;overflow:hidden;display:",";"],m.colors.adminBorder,(function(e){return e.theme.borderRadius}),(function(e){return e.theme.borderRadius}),(function(e){return e.showContent?"block":"none"})),w=p.default.div.withConfig({displayName:"LegendPanel__ListItem",componentId:"sc-4z7pv-4"})(["display:flex;flex-direction:row;align-items:center;margin-bottom:10px;svg{margin-right:15px;}.key{margin-right:15px;border-radius:",";padding:2px 5px;border:1px solid;font-weight:600;}"],(function(e){return e.theme.borderRadius})),E=p.default.circle.withConfig({displayName:"LegendPanel__StyledCircle",componentId:"sc-4z7pv-5"})(["position:relative;fill:",";"],(function(e){return e.color})),x=p.default.circle.withConfig({displayName:"LegendPanel__StyledEmptyCircle",componentId:"sc-4z7pv-6"})(["position:relative;fill:transparent;stroke:",";stroke-width:2;"],m.colors.adminTextColor),M=p.default.line.withConfig({displayName:"LegendPanel__StyledLine",componentId:"sc-4z7pv-7"})(["position:relative;fill:transparent;stroke:",";stroke-width:2;"],m.colors.adminTextColor),j=function(e){(0,u.default)(n,e);var t=g(n);function n(e){var r;return(0,o.default)(this,n),r=t.call(this,e),(0,d.default)((0,i.default)(r),"handleTabOnClick",(function(e){return function(t){t.preventDefault(),r.setState({selectedTab:e})}})),r.state={selectedTab:"legend"},r}return(0,l.default)(n,[{key:"render",value:function(){var e=this.state.selectedTab,t=this.props.onClickOutside;return f.default.createElement(O,{className:this.props.className,onClickOutside:t},f.default.createElement(P,null,f.default.createElement(k,{onClick:this.handleTabOnClick("legend"),"data-tab":"legend",className:"".concat("legend"===e&&"active")},f.default.createElement(v.FormattedMessage,y.default.legend)),f.default.createElement(k,{onClick:this.handleTabOnClick("controls"),"data-tab":"controls",className:"".concat("controls"===e&&"active")},f.default.createElement(v.FormattedMessage,y.default.controls))),f.default.createElement(C,{showContent:"legend"===e},f.default.createElement(w,null,f.default.createElement("svg",{height:20,width:20},f.default.createElement(E,{r:10,transform:"translate(10,10)",color:"green"})),f.default.createElement(v.FormattedMessage,y.default.upvotes)),f.default.createElement(w,null,f.default.createElement("svg",{height:20,width:20},f.default.createElement(E,{r:10,transform:"translate(10,10)",color:"red"})),f.default.createElement(v.FormattedMessage,y.default.downvotes)),f.default.createElement(w,null,f.default.createElement("svg",{height:20,width:20},f.default.createElement(E,{r:10,transform:"translate(10,10)",color:"blue"})),f.default.createElement(v.FormattedMessage,y.default.noVotes)),f.default.createElement(w,null,f.default.createElement("svg",{height:20,width:20},f.default.createElement(M,{x1:"0",y1:"20",x2:"20",y2:"0"}),f.default.createElement(x,{r:9,transform:"translate(10,10)"})),f.default.createElement(v.FormattedMessage,y.default.numVotes))),f.default.createElement(C,{showContent:"controls"===e},f.default.createElement(w,null,f.default.createElement("span",{className:"key"},"Click"),f.default.createElement(v.FormattedMessage,y.default.clickLegend)),f.default.createElement(w,null,f.default.createElement("span",{className:"key"},"Shift"),f.default.createElement(v.FormattedMessage,y.default.shiftLegend)),f.default.createElement(w,null,f.default.createElement("span",{className:"key"},"Ctrl"),f.default.createElement(v.FormattedMessage,y.default.ctrlLegend))))}}]),n}(f.PureComponent);t.default=j},RFvV:function(e,t,n){"use strict";n("SuFq"),n("4mDm"),n("07d7"),n("PKPk"),n("ENF9"),n("3bBZ"),n("5DmW");var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("ma9I");var o=r(n("lwsE")),l=r(n("W8MJ")),i=r(n("PJYZ")),u=r(n("7W2i")),c=r(n("a1gu")),s=r(n("Nsbk")),d=r(n("lSNA")),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=o?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),p=n("T89o");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.default)(e);if(t){var a=(0,s.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var v=r(n("vOnD")).default.circle.withConfig({displayName:"CustomCircle__StyledCircle",componentId:"sc-1a8t6tg-0"})(["position:relative;fill:green;fill-opacity:0.2;cursor:pointer;",""],(function(e){return!(0,p.isNil)(e.selectionIndex)&&"\n    stroke: black;\n    stroke-width: 2px;\n    fill: ".concat(e.theme.comparisonColors[e.selectionIndex],";\n  ")})),y=function(e){(0,u.default)(n,e);var t=h(n);function n(){var e;(0,o.default)(this,n);for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a)),(0,d.default)((0,i.default)(e),"handleOnClick",(function(t){var n=e.props.node;e.props.onClick&&e.props.onClick(n,t)})),(0,d.default)((0,i.default)(e),"handleOnMouseEnter",(function(t){var n=e.props.node;e.props.onMouseEnter&&e.props.onMouseEnter(n,t)})),(0,d.default)((0,i.default)(e),"handleOnMouseLeave",(function(t){var n=e.props.node;e.props.onMouseLeave&&e.props.onMouseLeave(n,t)})),e}return(0,l.default)(n,[{key:"render",value:function(){var e=this.props,t=e.node,n=e.selectionIndex;return f.default.createElement(v,{transform:"translate(".concat(t.x,",").concat(t.y,")"),r:t.r,onClick:this.handleOnClick,onMouseEnter:this.handleOnMouseEnter,onMouseLeave:this.handleOnMouseLeave,selectionIndex:n})}}]),n}(f.PureComponent);t.default=y},Ul93:function(e,t,n){"use strict";n("SuFq"),n("4mDm"),n("07d7"),n("PKPk"),n("ENF9"),n("3bBZ"),n("5DmW");var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("2B1R"),n("FZtP"),n("ma9I");var o=r(n("pVnL")),l=r(n("RIqP")),i=r(n("lwsE")),u=r(n("W8MJ")),c=r(n("PJYZ")),s=r(n("7W2i")),d=r(n("a1gu")),f=r(n("Nsbk")),p=r(n("lSNA")),m=x(n("q1tI")),h=n("DtyJ"),v=n("T89o"),y=n("4XXU"),b=n("8iCy"),g=r(n("6YSP")),O=n("KLnl"),P=r(n("V3HD")),k=x(n("vOnD")),C=n("Rw3A"),w=r(n("eonP"));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function x(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=o?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}return r.default=e,n&&n.set(e,r),r}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,d.default)(this,n)}}var j=k.default.div.withConfig({displayName:"DomicileChart__Container",componentId:"sc-8vdek4-0"})([""]),I=function(e){(0,s.default)(n,e);var t=M(n);function n(e){var r;return(0,i.default)(this,n),r=t.call(this,e),(0,p.default)((0,c.default)(r),"subscription",void 0),(0,p.default)((0,c.default)(r),"convertToGraphFormat",(function(e){if((0,O.isNilOrError)(r.props.areas))return[];var t=r.props.areas.map((function(t){var n={label:r.props.localize(t.attributes.title_multiloc)};return e.forEach((function(e,r){n["up ".concat(r+1)]=e.series.up[t.id]||0,n["down ".concat(r+1)]=-e.series.down[t.id]||0,n["total ".concat(r+1)]=e.series.total[t.id]||0})),n})),n={label:r.props.intl.formatMessage(w.default._blank)};return e.forEach((function(e,t){n["up ".concat(t+1)]=e.series.up._blank||0,n["down ".concat(t+1)]=-e.series.down._blank||0,n["total ".concat(t+1)]=e.series.total._blank||0})),[].concat((0,l.default)(t),[n])})),r.state={series:[]},r}return(0,u.default)(n,[{key:"componentDidMount",value:function(){this.resubscribe()}},{key:"componentDidUpdate",value:function(e){(0,v.isEqual)(this.props.ideaIdsComparisons,e.ideaIdsComparisons)&&(0,v.isEqual)(this.props.normalization,e.normalization)||this.resubscribe()}},{key:"componentWillUnmount",value:function(){this.subscription.unsubscribe()}},{key:"resubscribe",value:function(){var e=this;this.subscription&&this.subscription.unsubscribe(),this.subscription=(0,h.combineLatest)(this.props.ideaIdsComparisons.map((function(t){return(0,b.votesByDomicileStream)({queryParameters:{ideas:t,normalization:e.props.normalization}}).observable}))).subscribe((function(t){e.setState({series:e.convertToGraphFormat(t)})}))}},{key:"render",value:function(){var e=this.state.series,t=this.props,n=t.ideaIdsComparisons,r=t.theme;return(0,v.isEmpty)(e)?null:m.default.createElement(j,{className:this.props.className},m.default.createElement(y.ResponsiveContainer,{width:"100%",aspect:2},m.default.createElement(y.BarChart,{data:e,stackOffset:"sign",margin:{right:20,top:10}},m.default.createElement(y.XAxis,{dataKey:"label"}),m.default.createElement(y.YAxis,null),m.default.createElement(y.Tooltip,null),m.default.createElement(y.ReferenceLine,{y:0,stroke:"#000"}),n.length>1&&n.map((function(e,t){return m.default.createElement(y.Bar,{key:"up ".concat(t+1),dataKey:"up ".concat(t+1),fill:r.comparisonColors[t],stackId:"votes ".concat(t),maxBarSize:20})})),n.length>1&&n.map((function(e,t){return m.default.createElement(y.Bar,{key:"down ".concat(t+1),dataKey:"down ".concat(t+1),fill:r.comparisonColors[t],stackId:"votes ".concat(t),maxBarSize:20})})),1===n.length&&m.default.createElement(y.Bar,{key:"up 1",dataKey:"up 1",fill:r.upvotes,stackId:"votes 1",maxBarSize:20}),1===n.length&&m.default.createElement(y.Bar,{key:"down 1",dataKey:"down 1",fill:r.downvotes,stackId:"votes 1",maxBarSize:20}))))}}]),n}(m.PureComponent),N=(0,k.withTheme)((0,P.default)((0,C.injectIntl)(I)));t.default=function(e){return m.default.createElement(g.default,null,(function(t){return t?m.default.createElement(N,(0,o.default)({},e,{areas:t})):null}))}},XVBt:function(e,t,n){"use strict";n("SuFq"),n("4mDm"),n("07d7"),n("PKPk"),n("ENF9"),n("3bBZ"),n("5DmW");var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("pVnL")),l=r(n("lwsE")),i=r(n("W8MJ")),u=r(n("7W2i")),c=r(n("a1gu")),s=r(n("Nsbk")),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=o?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),f=r(n("M7uY")),p=r(n("3A/8")),m=n("Rw3A"),h=r(n("eonP")),v=n("KLnl"),y=n("T89o");function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.default)(e);if(t){var a=(0,s.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var O="#003348",P=function(e){(0,u.default)(n,e);var t=g(n);function n(){return(0,l.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"render",value:function(){var e=this.props,t=e.node,n=e.hovered,r=e.project,a=e.intl;return(0,v.isNilOrError)(r)?null:d.default.createElement(p.default,{value:r.attributes.title_multiloc},(function(e){var r=7*e.length+50,o=-r/2,l=-(0,y.round)(t.r+60+2);return d.default.createElement("svg",{x:o+t.x,y:l+t.y,width:r,height:60,style:{display:"".concat(n?"block":"none")}},d.default.createElement("rect",{x:"0",y:"0",width:r,height:60,rx:5,ry:5,stroke:O,strokeWidth:"2",fill:"#fff"}),d.default.createElement("text",{fill:O,fontSize:"16"},d.default.createElement("tspan",{x:r/2,y:20,fontWeight:"bold",textAnchor:"middle",alignmentBaseline:"central"},a.formatMessage(h.default.project)),d.default.createElement("tspan",{x:r/2,y:40,fontWeight:"normal",textAnchor:"middle",alignmentBaseline:"central"},e)))}))}}]),n}(d.PureComponent),k=(0,m.injectIntl)(P);t.default=function(e){return d.default.createElement(f.default,{projectId:e.projectId},(function(t){return d.default.createElement(k,(0,o.default)({},e,{project:t}))}))}},anjn:function(e,t,n){"use strict";n("2B1R"),n("SuFq"),n("pNMO"),n("5DmW"),n("27RR");var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("QILm"));n("ToJy"),n("FZtP"),n("TeQF"),n("tkto"),n("rB9j"),n("hByQ");var o=r(n("lwsE")),l=r(n("W8MJ")),i=r(n("PJYZ")),u=r(n("7W2i")),c=r(n("a1gu")),s=r(n("Nsbk")),d=r(n("lSNA")),f=r(n("q1tI")),p=n("T89o"),m=n("DtyJ"),h=n("ahDk"),v=n("ngE2"),y=(n("uZm3"),n("ErwY")),b=["children"],g=["children"];function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,d.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.default)(e);if(t){var a=(0,s.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var C=function(e){(0,u.default)(n,e);var t=k(n);function n(e){var r;(0,o.default)(this,n),r=t.call(this,e),(0,d.default)((0,i.default)(r),"defaultQueryParameters",void 0),(0,d.default)((0,i.default)(r),"queryParameters$",void 0),(0,d.default)((0,i.default)(r),"subscriptions",void 0),(0,d.default)((0,i.default)(r),"propsToQueryParamsShape",(function(){return{projects:r.props.projectIds,"page[number]":r.props.pageNumber,"page[size]":r.props.pageSize,phase:r.props.phaseId,author:r.props.authorId,sort:r.props.sort,topics:r.props.topics,areas:r.props.areas,idea_status:r.props.ideaStatusId,publication_status:r.props.publicationStatus,project_publication_status:r.props.projectPublicationStatus,bounding_box:r.props.boundingBox,assignee:r.props.assignee,feedback_needed:r.props.feedbackNeeded,search:void 0}})),(0,d.default)((0,i.default)(r),"getQueryParametersFromProps",(function(){var e=r.propsToQueryParamsShape();return Object.keys(e).filter((function(t){return null===e[t]})).forEach((function(t){return e[t]=void 0})),e})),(0,d.default)((0,i.default)(r),"getQueryParameters",(function(e,t){var n=void 0;(0,p.isNil)(t.projectIds)?n=e.projects:(0,p.isArray)(t.projectIds)&&(n=t.projectIds);var r={projects:n,"page[number]":t.pageNumber,"page[size]":t.pageSize,phase:t.phaseId,author:t.authorId,sort:t.sort,search:t.search,topics:t.topics,areas:t.areas,idea_status:t.ideaStatusId,publication_status:t.publicationStatus,project_publication_status:t.projectPublicationStatus,bounding_box:t.boundingBox,assignee:t.assignee,feedback_needed:t.feedbackNeeded};return P(P(P({},e),(0,p.omitBy)(r,p.isNil)),{},{projects:n})})),(0,d.default)((0,i.default)(r),"loadMore",(function(){r.state.loadingMore||r.queryParameters$.next(P(P({},r.state.queryParameters),{},{"page[number]":r.state.queryParameters["page[number]"]+1}))})),(0,d.default)((0,i.default)(r),"handleChangePage",(function(e){r.queryParameters$.next(P(P({},r.state.queryParameters),{},{"page[number]":e}))})),(0,d.default)((0,i.default)(r),"handlePhaseOnChange",(function(e){r.queryParameters$.next(P(P({},r.state.queryParameters),{},{phase:e,"page[number]":1}))})),(0,d.default)((0,i.default)(r),"handleSearchOnChange",(function(e){r.queryParameters$.next(P(P({},r.state.queryParameters),{},{search:e||void 0,"page[number]":1}))})),(0,d.default)((0,i.default)(r),"handleSortOnChange",(function(e){r.queryParameters$.next(P(P({},r.state.queryParameters),{},{sort:e,"page[number]":1}))})),(0,d.default)((0,i.default)(r),"handleProjectsOnChange",(function(e){r.queryParameters$.next(P(P({},r.state.queryParameters),{},{projects:e,"page[number]":1}))})),(0,d.default)((0,i.default)(r),"handleTopicsOnChange",(function(e){r.queryParameters$.next(P(P({},r.state.queryParameters),{},{topics:e,"page[number]":1}))})),(0,d.default)((0,i.default)(r),"handleAreasOnchange",(function(e){r.queryParameters$.next(P(P({},r.state.queryParameters),{},{areas:e,"page[number]":1}))})),(0,d.default)((0,i.default)(r),"handleStatusOnChange",(function(e){r.queryParameters$.next(P(P({},r.state.queryParameters),{},{idea_status:e||void 0,"page[number]":1}))})),(0,d.default)((0,i.default)(r),"handlePublicationStatusOnChange",(function(e){r.queryParameters$.next(P(P({},r.state.queryParameters),{},{publication_status:e,"page[number]":1}))})),(0,d.default)((0,i.default)(r),"handleProjectPublicationStatusOnChange",(function(e){r.queryParameters$.next(P(P({},r.state.queryParameters),{},{project_publication_status:e,"page[number]":1}))})),(0,d.default)((0,i.default)(r),"handleAssigneeOnChange",(function(e){r.queryParameters$.next(P(P({},r.state.queryParameters),{},{assignee:e,"page[number]":1}))})),(0,d.default)((0,i.default)(r),"handleFeedbackFilterOnChange",(function(e){r.queryParameters$.next(P(P({},r.state.queryParameters),{},{feedback_needed:e||void 0,"page[number]":1}))})),(0,d.default)((0,i.default)(r),"handleIdeaFiltering",(function(e){r.queryParameters$.next(P(P(P({},r.state.queryParameters),e),{},{"page[number]":1}))})),(0,d.default)((0,i.default)(r),"handleResetParamsToProps",(function(e){var t=r.getQueryParametersFromProps();e&&e.length>0?r.queryParameters$.next(P(P({},r.state.queryParameters),(0,p.omit)(t,e))):r.queryParameters$.next(t)})),r.defaultQueryParameters={"page[number]":e.pageNumber,"page[size]":e.pageSize,sort:e.sort,projects:void 0,phase:void 0,author:void 0,search:void 0,topics:void 0,areas:void 0,idea_status:void 0,publication_status:void 0,project_publication_status:void 0,bounding_box:void 0,assignee:void 0,feedback_needed:void 0};var a=r.getQueryParameters(r.defaultQueryParameters,e);return r.state={queryParameters:a,list:void 0,hasMore:!1,querying:!0,loadingMore:!1,sortAttribute:(0,y.getSortAttribute)(e.sort),sortDirection:(0,y.getSortDirection)(e.sort),currentPage:1,lastPage:1},r.queryParameters$=new m.BehaviorSubject(a),r.subscriptions=[],r}return(0,l.default)(n,[{key:"componentDidMount",value:function(){var e=this,t={queryParameters:this.getQueryParameters(this.state.queryParameters,this.props),ideas:null,hasMore:!1},n=this.queryParameters$.pipe((0,h.distinctUntilChanged)((function(e,t){return(0,p.isEqual)(e,t)})));this.props.type&&"load-more"!==this.props.type?this.subscriptions=[n.pipe((0,h.switchMap)((function(t){var n=e.state.queryParameters["page[number]"],r=t["page[number]"];return t["page[number]"]=r!==n?r:1,(e.props.mini?v.ideasMiniStream:v.ideasStream)({queryParameters:t}).observable.pipe((0,h.map)((function(e){return{queryParameters:t,ideas:e}})))}))).subscribe((function(t){var n=t.ideas,r=t.queryParameters;e.setState({queryParameters:r,list:n?n.data:null,querying:!1,loadingMore:!1,sortAttribute:(0,y.getSortAttribute)(r.sort),sortDirection:(0,y.getSortDirection)(r.sort),currentPage:(0,y.getPageNumberFromUrl)(n.links.self)||1,lastPage:(0,y.getPageNumberFromUrl)(n.links.last)||1})}))]:this.subscriptions=[n.pipe((0,h.mergeScan)((function(t,n){var r=(0,p.omit)((0,p.cloneDeep)(t.queryParameters),"page[number]"),a=(0,p.omit)((0,p.cloneDeep)(n),"page[number]"),o=t.queryParameters["page[number]"],l=n["page[number]"],i=(0,p.isEqual)(r,a)&&o!==l,u=i?n["page[number]"]:1,c=P(P({},n),{},{"page[number]":u});return e.setState({querying:!i,loadingMore:i}),(e.props.mini?v.ideasMiniStream:v.ideasStream)({queryParameters:c}).observable.pipe((0,h.map)((function(e){var n=(0,p.get)(e,"links.self"),r=(0,p.get)(e,"links.last"),a=(0,p.isString)(n)&&(0,p.isString)(r)&&n!==r;return{queryParameters:c,hasMore:a,ideas:i?(0,p.unionBy)(t.ideas||[],e.data,"id"):e.data}})))}),t)).subscribe((function(t){var n=t.ideas,r=t.queryParameters,a=t.hasMore;e.setState({queryParameters:r,hasMore:a,list:n,querying:!1,loadingMore:!1})}))]}},{key:"componentDidUpdate",value:function(e,t){e.children;var n=(0,a.default)(e,b),r=this.props,o=(r.children,(0,a.default)(r,g));if(!(0,p.isEqual)(n,o)){var l=this.getQueryParameters(this.state.queryParameters,this.props);this.queryParameters$.next(l)}}},{key:"componentWillUnmount",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"render",value:function(){return(0,this.props.children)(P(P({},this.state),{},{onLoadMore:this.loadMore,onChangePage:this.handleChangePage,onChangeProjects:this.handleProjectsOnChange,onChangePhase:this.handlePhaseOnChange,onChangeSearchTerm:this.handleSearchOnChange,onChangeSorting:this.handleSortOnChange,onChangeTopics:this.handleTopicsOnChange,onChangeAreas:this.handleAreasOnchange,onChangeStatus:this.handleStatusOnChange,onChangePublicationStatus:this.handlePublicationStatusOnChange,onChangeProjectPublicationStatus:this.handleProjectPublicationStatusOnChange,onChangeAssignee:this.handleAssigneeOnChange,onChangeFeedbackFilter:this.handleFeedbackFilterOnChange,onIdeaFiltering:this.handleIdeaFiltering,onResetParams:this.handleResetParamsToProps,type:"ideas"}))}}]),n}(f.default.Component);t.default=C,(0,d.default)(C,"defaultProps",{pageNumber:1,pageSize:12,sort:"random"})},au5q:function(e,t,n){"use strict";n("TeQF"),n("SuFq");var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("FZtP");var a=r(n("lwsE")),o=r(n("W8MJ")),l=r(n("PJYZ")),i=r(n("7W2i")),u=r(n("a1gu")),c=r(n("Nsbk")),s=r(n("lSNA")),d=n("q1tI"),f=n("T89o"),p=n("DtyJ"),m=n("ahDk"),h=r(n("aTp4")),v=n("9JnV"),y=n("KLnl");function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var a=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var g=function(e){(0,i.default)(n,e);var t=b(n);function n(e){var r;return(0,a.default)(this,n),r=t.call(this,e),(0,s.default)((0,l.default)(r),"inputProps$",void 0),(0,s.default)((0,l.default)(r),"subscriptions",void 0),r.state={clustering:void 0},r}return(0,o.default)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.id;this.inputProps$=new p.BehaviorSubject({id:t}),this.subscriptions=[this.inputProps$.pipe((0,m.distinctUntilChanged)((function(e,t){return(0,h.default)(e,t)})),(0,m.filter)((function(e){var t=e.id;return(0,f.isString)(t)})),(0,m.switchMap)((function(e){var t=e.id;return(0,v.clusteringByIdStream)(t).observable}))).subscribe((function(t){return e.setState({clustering:(0,y.isNilOrError)(t)?t:t.data})}))]}},{key:"componentDidUpdate",value:function(){var e=this.props.id;this.inputProps$.next({id:e})}},{key:"componentWillUnmount",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"render",value:function(){return(0,this.props.children)(this.state.clustering)}}]),n}(d.Component);t.default=g},b7Nt:function(e,t,n){"use strict";n("SuFq"),n("4mDm"),n("07d7"),n("PKPk"),n("ENF9"),n("3bBZ"),n("5DmW");var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("2B1R"),n("FZtP");var o=r(n("lwsE")),l=r(n("W8MJ")),i=r(n("PJYZ")),u=r(n("7W2i")),c=r(n("a1gu")),s=r(n("Nsbk")),d=r(n("lSNA")),f=P(n("q1tI")),p=n("DtyJ"),m=n("T89o"),h=n("4XXU"),v=n("8iCy"),y=P(n("vOnD")),b=n("Rw3A"),g=r(n("eonP"));function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function P(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=o?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}return r.default=e,n&&n.set(e,r),r}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.default)(e);if(t){var a=(0,s.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var C=y.default.div.withConfig({displayName:"GenderChart__Container",componentId:"sc-1u8howh-0"})([""]),w=function(e){(0,u.default)(n,e);var t=k(n);function n(e){var r;return(0,o.default)(this,n),r=t.call(this,e),(0,d.default)((0,i.default)(r),"subscription",void 0),(0,d.default)((0,i.default)(r),"convertToGraphFormat",(function(e){return["male","female","unspecified","_blank"].map((function(t){var n={gender:t,label:r.props.intl.formatMessage(g.default[t])};return e.forEach((function(e,r){n["up ".concat(r+1)]=e.series.up[t]||0,n["down ".concat(r+1)]=-e.series.down[t]||0,n["sum ".concat(r+1)]=e.series.up[t]-e.series.down[t]||0})),n}))})),r.state={series:[]},r}return(0,l.default)(n,[{key:"componentDidMount",value:function(){this.resubscribe()}},{key:"componentDidUpdate",value:function(e){(0,m.isEqual)(this.props.ideaIdsComparisons,e.ideaIdsComparisons)&&(0,m.isEqual)(this.props.normalization,e.normalization)||this.resubscribe()}},{key:"componentWillUnmount",value:function(){this.subscription.unsubscribe()}},{key:"resubscribe",value:function(){var e=this;this.subscription&&this.subscription.unsubscribe(),this.subscription=(0,p.combineLatest)(this.props.ideaIdsComparisons.map((function(t){return(0,v.votesByGenderStream)({queryParameters:{ideas:t,normalization:e.props.normalization}}).observable}))).subscribe((function(t){e.setState({series:e.convertToGraphFormat(t)})}))}},{key:"render",value:function(){var e=this.state.series,t=this.props,n=t.ideaIdsComparisons,r=t.theme;return(0,m.isEmpty)(e)?null:f.default.createElement(C,{className:this.props.className},f.default.createElement(h.ResponsiveContainer,{width:"100%",aspect:1.6},f.default.createElement(h.BarChart,{data:e,stackOffset:"sign",margin:{right:20,top:10}},f.default.createElement(h.XAxis,{dataKey:"label"}),f.default.createElement(h.YAxis,null),f.default.createElement(h.Tooltip,null),f.default.createElement(h.ReferenceLine,{y:0,stroke:"#000"}),n.length>1&&n.map((function(e,t){return f.default.createElement(h.Bar,{key:"up ".concat(t+1),dataKey:"up ".concat(t+1),fill:r.comparisonColors[t],stackId:"votes ".concat(t),maxBarSize:20})})),n.length>1&&n.map((function(e,t){return f.default.createElement(h.Bar,{key:"down ".concat(t+1),dataKey:"down ".concat(t+1),fill:r.comparisonColors[t],stackId:"votes ".concat(t),maxBarSize:20})})),1===n.length&&f.default.createElement(h.Bar,{key:"up 1",dataKey:"up 1",fill:r.upvotes,stackId:"votes 1",maxBarSize:20}),1===n.length&&f.default.createElement(h.Bar,{key:"down 1",dataKey:"down 1",fill:r.downvotes,stackId:"votes 1",maxBarSize:20}))))}}]),n}(f.PureComponent),E=(0,y.withTheme)((0,b.injectIntl)(w));t.default=E},ebFa:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,n("JRPe").defineMessages)({goBack:{id:"app.components.GoBackButton.group.edit.goBack",defaultMessage:"Go back"}});t.default=r},lfyI:function(e,t,n){"use strict";n("SuFq"),n("4mDm"),n("07d7"),n("PKPk"),n("ENF9"),n("3bBZ"),n("5DmW");var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("ma9I"),n("oVuX"),n("2B1R"),n("sMBO");var o=r(n("lwsE")),l=r(n("W8MJ")),i=r(n("PJYZ")),u=r(n("7W2i")),c=r(n("a1gu")),s=r(n("Nsbk")),d=r(n("lSNA")),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=o?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),p=r(n("vOnD")),m=r(n("OL75")),h=r(n("3A/8")),v=n("KLnl"),y=r(n("M7uY")),b=r(n("PF6L"));function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.default)(e);if(t){var a=(0,s.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var P=p.default.div.withConfig({displayName:"ComparisonLegend__Container",componentId:"iefku9-0"})(["width:280px;margin:0 0 10px 20px;"]),k=p.default.div.withConfig({displayName:"ComparisonLegend__Row",componentId:"iefku9-1"})(["display:flex;flex-direction:row;align-items:center;"]),C=p.default.div.withConfig({displayName:"ComparisonLegend__ColorIndicator",componentId:"iefku9-2"})(["flex:0 0 1.2rem;height:1.2rem;margin:0.2rem 1rem 0.2rem 0;background-color:",";"],(function(e){return e.theme.comparisonColors[e.index]})),w=p.default.div.withConfig({displayName:"ComparisonLegend__TitleContainer",componentId:"iefku9-3"})(["flex:1;min-width:0;"]),E=p.default.h3.withConfig({displayName:"ComparisonLegend__Title",componentId:"iefku9-4"})(["text-overflow:ellipsis;overflow:hidden;white-space:nowrap;"]),x=p.default.div.withConfig({displayName:"ComparisonLegend__LegendTitle",componentId:"iefku9-5"})(["text-overflow:ellipsis;overflow:hidden;white-space:nowrap;"]),M=function(e){(0,u.default)(n,e);var t=O(n);function n(){var e;(0,o.default)(this,n);for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a)),(0,d.default)((0,i.default)(e),"selectionTitle",(function(e){var t=e[0];if(!t)return null;switch(t.type){case"idea":return f.default.createElement(m.default,{ideaId:t.id},(function(e){return(0,v.isNilOrError)(e)?null:f.default.createElement(h.default,{value:e&&e.attributes.title_multiloc})}));case"project":return f.default.createElement(y.default,{projectId:t.id},(function(e){return(0,v.isNilOrError)(e)?null:f.default.createElement(h.default,{value:e&&e.attributes.title_multiloc})}));case"topic":return f.default.createElement(b.default,{id:t.id},(function(e){return(0,v.isNilOrError)(e)?null:f.default.createElement(h.default,{value:e&&e.attributes.title_multiloc})}));case"custom":return f.default.createElement("span",null,t.title||t.keywords&&t.keywords.map((function(e){return e.name})).join(" "));default:return null}})),e}return(0,l.default)(n,[{key:"render",value:function(){var e=this,t=this.props.selectedNodes;return f.default.createElement(P,null,1===t.length&&f.default.createElement(E,null,this.selectionTitle(t[0])),t.length>1&&t.map((function(t,n){return f.default.createElement(k,{key:n},f.default.createElement(C,{index:n}),f.default.createElement(w,null,f.default.createElement(x,null,e.selectionTitle(t))))})))}}]),n}(f.PureComponent);t.default=M},pif9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={clickCluster:{name:"Cluster circle clicked"},ctrlClickCluster:{name:"Cluster circle CTRL-clicked"},shiftClickCluster:{name:"Cluster circle SHIFT-clicked"},clickIdea:{name:"Idea circle clicked"},ctrlClickIdea:{name:"Idea circle CTRL-clicked"},shiftClickIdea:{name:"Idea circle SHIFT-clicked"},switchNormalization:{name:"Normalization switched"},changeTab:{name:"Clustering tab switched"}}},xf9i:function(e,t,n){"use strict";n("SuFq"),n("4mDm"),n("07d7"),n("PKPk"),n("ENF9"),n("3bBZ"),n("5DmW");var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("2B1R"),n("ma9I");var o=r(n("RIqP")),l=r(n("J4zp")),i=r(n("lwsE")),u=r(n("W8MJ")),c=r(n("PJYZ")),s=r(n("7W2i")),d=r(n("a1gu")),f=r(n("Nsbk")),p=r(n("lSNA")),m=w(n("q1tI")),h=r(n("wd/R")),v=n("DtyJ"),y=n("T89o"),b=n("4XXU"),g=n("8iCy"),O=w(n("vOnD")),P=n("Rw3A"),k=r(n("eonP"));function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function w(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=o?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}return r.default=e,n&&n.set(e,r),r}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,d.default)(this,n)}}var x=O.default.div.withConfig({displayName:"AgeChart__Container",componentId:"lcuic5-0"})([""]),M=function(e){(0,s.default)(n,e);var t=E(n);function n(e){var r;return(0,i.default)(this,n),r=t.call(this,e),(0,p.default)((0,c.default)(r),"subscription",void 0),(0,p.default)((0,c.default)(r),"convertToGraphFormat",(function(e){var t=(0,h.default)().year(),n=[[0,20],[20,30],[30,40],[40,50],[50,60],[60,100]].map((function(n){var r=(0,l.default)(n,2),a=r[0],o=r[1],i={label:"".concat(a,"-").concat(o)};return(0,y.each)(e,(function(e,n){["up","down","total"].forEach((function(r){(0,y.forOwn)(e.series[r],(function(e,l){var u=t-parseInt(l,10);u>=a&&u<o&&(i["".concat(r," ").concat(n+1)]||(i["".concat(r," ").concat(n+1)]=0),i["".concat(r," ").concat(n+1)]+=("down"===r?-1:1)*e)}))}))})),i})),a={label:r.props.intl.formatMessage(k.default._blank)};return(0,y.each)(e,(function(e,t){["up","down","total"].forEach((function(n){a["".concat(n," ").concat(t+1)]=("down"===n?-1:1)*(0,y.get)(e.series,"".concat(n,"._blank"))}))})),[].concat((0,o.default)(n),[a])})),r.state={series:[]},r}return(0,u.default)(n,[{key:"componentDidMount",value:function(){this.resubscribe()}},{key:"componentDidUpdate",value:function(e){(0,y.isEqual)(this.props.ideaIdsComparisons,e.ideaIdsComparisons)&&(0,y.isEqual)(this.props.normalization,e.normalization)||this.resubscribe()}},{key:"componentWillUnmount",value:function(){this.subscription.unsubscribe()}},{key:"resubscribe",value:function(){var e=this;this.subscription&&this.subscription.unsubscribe(),this.subscription=(0,v.combineLatest)(this.props.ideaIdsComparisons.map((function(t){return(0,g.votesByBirthyearStream)({queryParameters:{ideas:t,normalization:e.props.normalization}}).observable}))).subscribe((function(t){e.setState({series:e.convertToGraphFormat(t)})}))}},{key:"render",value:function(){var e=this.state.series,t=this.props,n=t.ideaIdsComparisons,r=t.theme;return(0,y.isEmpty)(e)?null:m.default.createElement(x,{className:this.props.className},m.default.createElement(b.ResponsiveContainer,{width:"100%",aspect:1.6},m.default.createElement(b.BarChart,{data:e,stackOffset:"sign",margin:{right:20,top:10}},m.default.createElement(b.XAxis,{dataKey:"label"}),m.default.createElement(b.YAxis,null),m.default.createElement(b.Tooltip,null),m.default.createElement(b.ReferenceLine,{y:0,stroke:"#000"}),n.length>1&&n.map((function(e,t){return m.default.createElement(b.Bar,{key:"up ".concat(t+1),dataKey:"up ".concat(t+1),fill:r.comparisonColors[t],stackId:"votes ".concat(t),maxBarSize:20})})),n.length>1&&n.map((function(e,t){return m.default.createElement(b.Bar,{key:"down ".concat(t+1),dataKey:"down ".concat(t+1),fill:r.comparisonColors[t],stackId:"votes ".concat(t),maxBarSize:20})})),1===n.length&&m.default.createElement(b.Bar,{key:"up 1",dataKey:"up 1",fill:r.upvotes,stackId:"votes 1",maxBarSize:20}),1===n.length&&m.default.createElement(b.Bar,{key:"down 1",dataKey:"down 1",fill:r.downvotes,stackId:"votes 1",maxBarSize:20}))))}}]),n}(m.PureComponent),j=(0,O.withTheme)((0,P.injectIntl)(M));t.default=j},y5tA:function(e,t,n){"use strict";n("SuFq"),n("4mDm"),n("07d7"),n("PKPk"),n("ENF9"),n("3bBZ"),n("5DmW");var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("lwsE")),l=r(n("W8MJ")),i=r(n("7W2i")),u=r(n("a1gu")),c=r(n("Nsbk")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=o?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),d=r(n("vOnD")),f=r(n("2fl8")),p=n("Rw3A"),m=r(n("ebFa"));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var a=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var y=d.default.div.withConfig({displayName:"GoBackButton__Container",componentId:"a15d5t-0"})(["display:inline-block;"]),b=function(e){(0,i.default)(n,e);var t=v(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,l.default)(n,[{key:"render",value:function(){var e=this.props,t=e.onClick,n=e.className;return s.default.createElement(y,{className:n||""},s.default.createElement(f.default,{onClick:t,buttonStyle:"text",icon:"arrow-back",size:"2",padding:"0px",text:s.default.createElement(p.FormattedMessage,m.default.goBack)}))}}]),n}(s.PureComponent);t.default=b}}]);
//# sourceMappingURL=75.f2923ad08e5fd59cccaf.chunk.js.map