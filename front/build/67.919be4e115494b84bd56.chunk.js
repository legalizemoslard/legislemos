(window.webpackJsonp=window.webpackJsonp||[]).push([[67,15,167,188],{"+wgy":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("q1tI")),o=n(a("ITo9")),r=n(a("NHb+")),l=function(e){var t=e.className,a=e.url,n=e.twitterMessage,l=e.whatsAppMessage,u=e.emailSubject,d=e.emailBody,s=e.utmParams,c=e.buttonComponent;return i.default.createElement(o.default,{className:t,buttonComponent:c,dropdownContent:i.default.createElement(r.default,{url:a,twitterMessage:n,whatsAppMessage:l,emailSubject:u,emailBody:d,utmParams:s})})};t.default=l},"/92W":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("q1tI")),o=a("Rw3A"),r=n(a("cRzy")),l=n(a("vOnD")),u=a("96Cm"),d=l.default.div.withConfig({displayName:"LoadingComments__Container",componentId:"sc-19iey05-0"})(["width:100%;display:flex;align-items:center;justify-content:center;"]),s=l.default.div.withConfig({displayName:"LoadingComments__LoadingMessage",componentId:"sc-19iey05-1"})(["color:",";font-size:","px;font-weight:400;"],u.colors.label,u.fontSizes.medium);t.default=function(e){return i.default.createElement(d,{className:e.className},i.default.createElement(s,null,i.default.createElement(o.FormattedMessage,r.default.loadingComments)))}},"/R6m":function(e,t,a){"use strict";a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a("pVnL"));a("yWo2");var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=y(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),l=a("KLnl"),u=n(a("jWBj")),d=n(a("x3zm")),s=n(a("uN1B")),c=n(a("dcoO")),f=n(a("3A/8")),p=a("JRPe"),m=a("Rw3A"),g=a("iH/W"),h=n(a("vOnD")),v=a("96Cm"),b=a("ufqH");function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(y=function(e){return e?a:t})(e)}var w=h.default.div.withConfig({displayName:"VotingDisabled__Container",componentId:"qrl9tc-0"})(["width:100%;color:",";font-size:","px;font-weight:300;line-height:20px;> span{overflow-wrap:break-word;word-wrap:break-word;word-break:break-word;hyphens:auto;}"],v.colors.label,v.fontSizes.small),I=(0,h.default)(u.default).withConfig({displayName:"VotingDisabled__StyledLink",componentId:"qrl9tc-1"})(["color:",";text-decoration:underline;&:hover{color:",";text-decoration:underline;}"],v.colors.clBlueDark,(0,b.darken)(.15,v.colors.clBlueDark)),x=h.default.button.withConfig({displayName:"VotingDisabled__StyledButton",componentId:"qrl9tc-2"})(["color:",";text-decoration:underline;transition:all 80ms ease-out;display:inline-block;margin:0;padding:0;cursor:pointer;&:hover{color:",";text-decoration:underline;}"],v.colors.clBlueDark,(0,b.darken)(.15,v.colors.clBlueDark)),E=(0,r.memo)((function(e){var t,a,n,i=e.projectId,u=e.votingDescriptor,h=(0,d.default)({projectId:i}),v=(0,s.default)(),b=function(e){e.stopPropagation()};if(!(0,l.isNilOrError)(h)){var y,E,M,_=(a=u.disabled_reason,n=u.future_enabled,"project_inactive"===a?n?c.default.votingPossibleLater:c.default.votingDisabledProjectInactive:"voting_disabled"===a&&n?c.default.votingPossibleLater:"voting_limited_max_reached"===a?c.default.votingDisabledMaxReached:"idea_not_in_current_phase"===a?n?c.default.votingDisabledFutureEnabled:c.default.votingDisabledPhaseOver:"not_permitted"===a?c.default.votingNotPermitted:v&&"not_verified"===a?c.default.votingNotVerified:c.default.votingNotEnabled),S=u.future_enabled?r.default.createElement(p.FormattedDate,{value:u.future_enabled,year:"numeric",month:"long",day:"numeric"}):null,P=(t=h.attributes.title_multiloc,r.default.createElement(I,{to:"/projects/".concat(h.attributes.slug),onClick:b},r.default.createElement(f.default,{value:t}))),O="continuous"===h.attributes.process_type?"project":"phase",C="project"===O?h.id:null===(y=h.relationships)||void 0===y||null===(E=y.current_phase)||void 0===E||null===(M=E.data)||void 0===M?void 0:M.id,k=r.default.createElement(x,{className:"e2e-verify-button",onClick:function(e,t){return function(a){a.stopPropagation(),a.preventDefault(),t&&e&&(0,g.openVerificationModal)({context:{action:"voting_idea",id:t,type:e}})}}(O,C),onMouseDown:function(e){e.preventDefault()}},r.default.createElement(m.FormattedMessage,c.default.linkToVerificationText));return r.default.createElement(w,{"data-testid":"votingDisabled_Container"},r.default.createElement(m.FormattedMessage,(0,o.default)({},_,{values:{enabledFromDate:S,projectName:P,verificationLink:k}})))}return null}));t.default=E},"/VeQ":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.statusId,a=(0,o.useState)(null),n=(0,i.default)(a,2),l=n[0],u=n[1];return(0,o.useEffect)((function(){var e=(0,r.ideaStatusStream)(t).observable.subscribe((function(e){u(e.data)}));return function(){return e.unsubscribe()}}),[t]),l};var i=n(a("J4zp")),o=a("q1tI"),r=a("X7fv")},"0524":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,a("JRPe").defineMessages)({xComments:{id:"app.components.InitiativeCard.xComments",defaultMessage:"{commentsCount, plural, =0 {no comments} one {1 comment} other {# comments}}"},xVotesOfY:{id:"app.components.InitiativeCard.xVotesOfY",defaultMessage:"{xVotes, plural, =0 {no votes} one {1 vote} other {# votes}} out of {votingThreshold}"}});t.default=n},"0Pyc":function(e,t,a){"use strict";a("SuFq"),a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("ma9I"),a("sMBO");var o,r,l,u=n(a("pVnL")),d=n(a("lwsE")),s=n(a("W8MJ")),c=n(a("PJYZ")),f=n(a("7W2i")),p=n(a("a1gu")),m=n(a("Nsbk")),g=n(a("lSNA")),h=n(a("VkAN")),v=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=V(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),b=a("KLnl"),y=a("ifvJ"),w=a("DbO4"),I=n(a("T5Cy")),x=a("iP56"),E=n(a("yiTP")),M=n(a("yYlr")),_=n(a("YLV/")),S=n(a("OL75")),P=n(a("FSVo")),O=n(a("M7uY")),C=n(a("M8tl")),k=n(a("sL4G")),j=n(a("V3HD")),T=n(a("aJX8")),N=a("9FT3"),D=a("KuRP"),B=n(a("bPnU")),R=n(a("vOnD")),A=a("96Cm"),W=n(a("5hLL"));function V(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(V=function(e){return e?a:t})(e)}function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,m.default)(e);if(t){var i=(0,m.default)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,p.default)(this,a)}}var q=R.default.div.withConfig({displayName:"SharingModalContent__Loading",componentId:"tkeccj-0"})(["width:100%;height:460px;display:flex;align-items:center;justify-content:center;"]),L=R.default.div.withConfig({displayName:"SharingModalContent__Container",componentId:"tkeccj-1"})(["width:100%;display:flex;flex-direction:column;align-items:center;"]),z=R.default.img.withConfig({displayName:"SharingModalContent__Rocket",componentId:"tkeccj-2"})(["width:40px;height:40px;",""],A.media.smallerThanMaxTablet(o||(o=(0,h.default)(["\n    width: 35px;\n    height: 35px;\n  "])))),H=R.default.h1.withConfig({displayName:"SharingModalContent__Title",componentId:"tkeccj-3"})(["flex-shrink:0;width:100%;color:",";font-size:","px;line-height:40px;font-weight:500;text-align:center;margin:0;margin-top:20px;margin-bottom:10px;padding:0;",""],(function(e){return e.theme.colorText}),A.fontSizes.xxxxl,A.media.smallerThanMaxTablet(r||(r=(0,h.default)(["\n    max-width: auto;\n    font-size: ","px;\n    line-height: 36px;\n  "])),A.fontSizes.xxxl)),U=R.default.p.withConfig({displayName:"SharingModalContent__Description",componentId:"tkeccj-4"})(["flex-shrink:0;width:100%;max-width:500px;color:",";font-size:","px;line-height:25px;font-weight:300;text-align:center;margin:0;margin-top:10px;margin-bottom:50px;padding:0;",""],(function(e){return e.theme.colorText}),A.fontSizes.large,A.media.smallerThanMaxTablet(l||(l=(0,h.default)(["\n    font-size: ","px;\n    line-height: 21px;\n  "])),A.fontSizes.base)),J=R.default.div.withConfig({displayName:"SharingModalContent__SharingWrapper",componentId:"tkeccj-5"})(["flex-shrink:0;width:100%;max-width:300px;display:flex;flex-direction:column;"]),G=function(e){(0,f.default)(a,e);var t=F(a);function a(){var e;(0,d.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,g.default)((0,c.default)(e),"getPostValues",(function(){var t=e.props,a=t.postType,n=t.idea,i=t.initiative,o=t.localize,r=t.locale,l=null,u=null;return"idea"!==a||(0,b.isNilOrError)(n)||(l=o(n.attributes.title_multiloc),u="".concat(location.origin,"/").concat(r,"/").concat(a,"s/").concat(n.attributes.slug)),"initiative"!==a||(0,b.isNilOrError)(i)||(l=o(i.attributes.title_multiloc),u="".concat(location.origin,"/").concat(r,"/").concat(a,"s/").concat(i.attributes.slug)),{postTitle:l,postUrl:u}})),(0,g.default)((0,c.default)(e),"getIdeaMessages",(function(){var t=e.props,a=t.project,n=t.phases,i=null,o=null,r=null;if(!(0,b.isNilOrError)(a)){var l=(0,w.getInputTerm)(a.attributes.process_type,a,n);i=(0,N.getInputTermMessage)(l,{idea:T.default.ideaEmailSharingSubjectText,option:T.default.optionEmailSharingSubject,project:T.default.projectEmailSharingSubject,question:T.default.questionEmailSharingSubject,issue:T.default.issueEmailSharingSubject,contribution:T.default.contributionEmailSharingSubject}),o=(0,N.getInputTermMessage)(l,{idea:T.default.ideaEmailSharingBody,option:T.default.optionEmailSharingBody,project:T.default.projectEmailSharingBody,question:T.default.questionEmailSharingModalContentBody,issue:T.default.issueEmailSharingBody,contribution:T.default.contributionEmailSharingBody}),r=(0,N.getInputTermMessage)(l,{idea:T.default.ideaWhatsAppMessage,option:T.default.optionWhatsAppMessage,project:T.default.projectWhatsAppMessage,question:T.default.questionWhatsAppMessage,issue:T.default.issueWhatsAppMessage,contribution:T.default.contributionWhatsAppMessage})}return{emailSharingSubject:i,emailSharingBody:o,whatsAppMessage:r}})),(0,g.default)((0,c.default)(e),"getInitiativeMessages",(function(){return{emailSharingSubject:T.default.initiativeEmailSharingSubject,emailSharingBody:T.default.initiativeEmailSharingBody,whatsAppMessage:T.default.whatsAppMessageProposal}})),(0,g.default)((0,c.default)(e),"getMessages",(function(){return"idea"===e.props.postType?e.getIdeaMessages():e.getInitiativeMessages()})),e}return(0,s.default)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.postId,a=e.postType;(0,D.trackEventByName)(B.default.sharingModalOpened.name,{postId:t,postType:a})}},{key:"render",value:function(){var e=this.props,t=e.postType,a=e.authUser,n=e.className,i=e.title,o=e.subtitle,r=this.props.intl.formatMessage,l=this.getPostValues(),u=l.postTitle,d=l.postUrl,s=this.getMessages(),c=s.emailSharingBody,f=s.emailSharingSubject,p=s.whatsAppMessage;return!(0,b.isNilOrError)(a)&&d&&c&&f&&p?v.default.createElement(L,{className:n},v.default.createElement(z,{src:W.default,alt:"rocket"}),v.default.createElement(H,{className:"e2e-".concat(t,"-social-sharing-modal-title")},i),v.default.createElement(U,null,o),v.default.createElement(J,null,v.default.createElement(I.default,{context:t,isInModal:!0,url:d,twitterMessage:r(T.default.twitterMessage,{postTitle:u}),whatsAppMessage:r(p,{postTitle:u}),emailSubject:r(f,{postTitle:u}),emailBody:r(c,{postTitle:u,postUrl:d}),utmParams:{source:"share_".concat(t),campaign:"".concat(t,"flow"),content:a.id}}))):v.default.createElement(q,null,v.default.createElement(x.Spinner,null))}}]),a}(v.PureComponent),Z=(0,k.default)((0,j.default)(G)),K=(0,y.adopt)({locale:v.default.createElement(E.default,null),tenant:v.default.createElement(M.default,null),authUser:v.default.createElement(_.default,null),idea:function(e){var t=e.postId,a=e.postType,n=e.render;return v.default.createElement(S.default,{ideaId:t&&"idea"===a?t:null},n)},initiative:function(e){var t=e.postId,a=e.postType,n=e.render;return v.default.createElement(P.default,{id:t&&"initiative"===a?t:null},n)},project:function(e){var t=e.idea,a=e.render;return v.default.createElement(O.default,{projectId:(0,b.isNilOrError)(t)?null:t.relationships.project.data.id},a)},phases:function(e){var t=e.idea,a=e.render;return v.default.createElement(C.default,{projectId:(0,b.isNilOrError)(t)?null:t.relationships.project.data.id},a)}});t.default=function(e){return v.default.createElement(K,e,(function(t){return v.default.createElement(Z,(0,u.default)({},e,t))}))}},"1Zvv":function(e,t,a){"use strict";a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a("q1tI")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("vOnD")),l=a("iP56"),u=a("96Cm");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}var s=(0,r.keyframes)(["0%{transform:scale(1,0);opacity:0;}5%{transform:scale(1,0.17942745647835484);}10%{transform:scale(1,0.5453767165955569);}15%{transform:scale(1,0.894404964443162);}20%{transform:scale(1,1.1203760160160154);}25%{transform:scale(1,1.2051533263082377);}30%{transform:scale(1,1.1848074616294655);}35%{transform:scale(1,1.1134007773010595);}40%{transform:scale(1,1.037247338664745);}45%{transform:scale(1,0.9833121263387835);}50%{transform:scale(1,0.9591514931191875);opacity:1;}55%{transform:scale(1,0.9592070055589312);}60%{transform:scale(1,0.9725345308087797);}65%{transform:scale(1,0.9888015967917715);}70%{transform:scale(1,1.0013794350134355);}75%{transform:scale(1,1.0078326552211365);}80%{transform:scale(1,1.008821093113004);}85%{transform:scale(1,1.0064881982177143);}90%{transform:scale(1,1.0030929569279976);}95%{transform:scale(1,1.00022141474777);}100%{transform:scale(1,1);}"]),c=r.default.div.withConfig({displayName:"PopContainer__Container",componentId:"cx52ay-0"})(["background-color:#fff;position:relative;border-radius:",";border:solid 1px ",";margin-top:0px;padding:15px;display:flex;flex-direction:column;align-items:center;justify-content:center;background:#fff;animation:",";transform-origin:center center;"],(function(e){return e.theme.borderRadius}),u.colors.separation,(0,r.css)([""," 450ms linear"],s)),f=r.default.div.withConfig({displayName:"PopContainer__IconWrapper",componentId:"cx52ay-1"})(["width:42px;height:42px;display:flex;justify-content:center;align-items:center;border-radius:50%;background:#f0f0f0;margin-bottom:15px;"]),p=(0,r.default)(l.Icon).withConfig({displayName:"PopContainer__StyledIcon",componentId:"cx52ay-2"})(["height:20px;fill:#333;"]),m=function(e){var t=e.icon,a=e.children;return o.default.createElement(c,null,t&&o.default.createElement(f,null,o.default.createElement(p,{name:t})),a)};t.default=m},"1fT+":function(e,t,a){"use strict";a("SuFq"),a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a("pVnL")),r=n(a("lwsE")),l=n(a("W8MJ")),u=n(a("PJYZ")),d=n(a("7W2i")),s=n(a("a1gu")),c=n(a("Nsbk")),f=n(a("lSNA")),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=P(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),m=n(a("vOnD")),g=a("ifvJ"),h=a("KLnl"),v=n(a("N4mL")),b=n(a("6yyz")),y=n(a("1hFV")),w=n(a("baeH")),I=a("Rw3A"),x=n(a("r5eU")),E=n(a("sL4G")),M=a("fM+I"),_=n(a("JUYq")),S=n(a("YLV/"));function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(P=function(e){return e?a:t})(e)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,s.default)(this,a)}}var C=m.default.div.withConfig({displayName:"InitiativeMoreActions__Container",componentId:"lmf5ac-0"})([""]),k=m.default.div.withConfig({displayName:"InitiativeMoreActions__MoreActionsMenuWrapper",componentId:"lmf5ac-1"})(["display:flex;align-items:center;margin-left:35px;"]),j=function(e){(0,d.default)(a,e);var t=O(a);function a(e){var n;return(0,r.default)(this,a),n=t.call(this,e),(0,f.default)((0,u.default)(n),"openSpamModal",(function(){n.setState({spamModalVisible:!0})})),(0,f.default)((0,u.default)(n),"closeSpamModal",(function(){n.setState({spamModalVisible:!1})})),(0,f.default)((0,u.default)(n),"onEditInitiative",(function(){_.default.push("/initiatives/edit/".concat(n.props.initiative.id))})),(0,f.default)((0,u.default)(n),"onDeleteInitiative",(function(e){return function(){var t=n.props.intl.formatMessage(x.default.deleteInitiativeConfirmation);window.confirm(t)&&((0,M.deleteInitiative)(e),_.default.goBack())}})),n.state={spamModalVisible:!1},n}return(0,l.default)(a,[{key:"render",value:function(){var e=this.props,t=e.initiative,a=e.className,n=e.authUser,i=e.color,o=e.id,r=this.state.spamModalVisible;return(0,h.isNilOrError)(n)||(0,h.isNilOrError)(t)?null:p.default.createElement(C,{className:a},p.default.createElement(k,null,p.default.createElement(v.default,{item:t,action:"edit",context:t},p.default.createElement(b.default,{label:p.default.createElement(I.FormattedMessage,x.default.moreOptions),color:i,id:o,actions:[{label:p.default.createElement(I.FormattedMessage,x.default.reportAsSpam),handler:this.openSpamModal},{label:p.default.createElement(I.FormattedMessage,x.default.editInitiative),handler:this.onEditInitiative},{label:p.default.createElement(I.FormattedMessage,x.default.deleteInitiative),handler:this.onDeleteInitiative(t.id)}]}),p.default.createElement(v.default.No,null,p.default.createElement(b.default,{label:p.default.createElement(I.FormattedMessage,x.default.moreOptions),color:i,id:o,actions:[{label:p.default.createElement(I.FormattedMessage,x.default.reportAsSpam),handler:this.openSpamModal}]})))),p.default.createElement(y.default,{opened:r,close:this.closeSpamModal,header:p.default.createElement(I.FormattedMessage,x.default.reportAsSpamModalTitle)},p.default.createElement(w.default,{resourceId:t.id,resourceType:"initiatives"})))}}]),a}(p.PureComponent),T=(0,E.default)(j),N=(0,g.adopt)({authUser:p.default.createElement(S.default,null)});t.default=function(e){return p.default.createElement(N,e,(function(t){return p.default.createElement(T,(0,o.default)({},e,t))}))}},"3SKu":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("fHP9"));t.default=function(e){var t=e.children,a=e.action;return t((0,i.default)(a))}},"4sB7":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,a("JRPe").defineMessages)({remove:{id:"app.components.AssignBudgetControl.remove",defaultMessage:"Remove"},removeFromMyBasket:{id:"app.components.AssignBudgetControl.removeFromMyBasket",defaultMessage:"Remove from my basket"},add:{id:"app.components.AssignBudgetControl.add",defaultMessage:"Add"},addToMyBasket:{id:"app.components.AssignBudgetControl.addToMyBasket",defaultMessage:"Add to my basket"},budgetingNotPossible:{id:"app.components.VoteControl.budgetingNotPossible",defaultMessage:"Making changes to your budget is not possible at this time."},budgetingFutureEnabled:{id:"app.components.VoteControl.budgetingFutureEnabled",defaultMessage:"You can allocate your budget starting from {enabledFromDate}."},budgetingNotPermitted:{id:"app.components.VoteControl.budgetingNotPermitted",defaultMessage:"Participatory budgeting is only enabled for certain groups."},budgetingNotVerified:{id:"app.components.VoteControl.budgetingNotVerified",defaultMessage:"Please {verifyAccountLink} to continue."},verifyAccountLinkText:{id:"app.components.AssignBudgetControl.verifyAccountLinkText",defaultMessage:"verify your account"},a11y_price:{id:"app.components.AssignBudgetControl.a11y_price",defaultMessage:"Price: "},backToOverview:{id:"app.components.AssignBudgetControl.backToOverview",defaultMessage:"Back to overview"}});t.default=n},"5Rlm":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pageContentMaxWidth=t.rightColumnWidthTablet=t.columnsGapTablet=t.rightColumnWidthDesktop=t.columnsGapDesktop=void 0;t.columnsGapDesktop=100;t.rightColumnWidthDesktop=360;t.columnsGapTablet=60;t.rightColumnWidthTablet=300;t.pageContentMaxWidth=1210},"5hLL":function(e,t,a){"use strict";a.r(t),t.default=a.p+"aaae759b408aa34fd8afbcefb716a1ab.png"},"5y+3":function(e,t,a){"use strict";a("tkto"),a("pNMO"),a("TeQF"),a("5DmW"),a("FZtP"),a("27RR");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.ideaFormSchemaStream=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a="".concat(o.API_PATH,"/projects/").concat(e,"/custom_fields/schema");return r.default.get(u({apiEndpoint:a},t))};var i=n(a("lSNA"));a("ma9I");var o=a("p0gT"),r=n(a("1Kqg"));function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}},"72sj":function(e,t,a){"use strict";a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),r=n(a("vOnD")),l=a("96Cm");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}var d=r.default.img.withConfig({displayName:"Image",componentId:"sc-3ry5gv-0"})(["width:100%;margin-bottom:25px;border-radius:",";border:1px solid ",";"],(function(e){return e.theme.borderRadius}),l.colors.separation),s=(0,o.memo)((function(e){var t=e.src,a=e.alt,n=e.id;return o.default.createElement(d,{src:t,alt:a,id:n})}));t.default=s},"9Y8i":function(e,t,a){"use strict";a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),r=a("KLnl"),l=n(a("/VeQ")),u=n(a("3A/8")),d=n(a("vOnD")),s=a("ufqH"),c=a("96Cm");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}var p=d.default.div.withConfig({displayName:"StatusBadge__Container",componentId:"sc-1cz6lfu-0"})(["color:",";font-size:","px;font-weight:600;text-transform:uppercase;text-align:center;line-height:normal;overflow-wrap:break-word;word-wrap:break-word;word-break:break-word;hyphens:auto;padding:5px 8px;display:inline-block;border-radius:",";border:1px solid ",";"],(function(e){return e.color}),c.fontSizes.xs,(function(e){return e.theme.borderRadius}),(function(e){var t=e.color;return(0,s.transparentize)(.7,t)})),m=(0,o.memo)((function(e){var t=e.statusId,a=e.id,n=e.className,i=(0,l.default)({statusId:t});if(!(0,r.isNilOrError)(i)){var d,s=(null==i||null===(d=i.attributes)||void 0===d?void 0:d.color)||"#bbb";return o.default.createElement(p,{id:a||"",className:n||"",color:s},o.default.createElement(u.default,{value:i.attributes.title_multiloc}))}return null}));t.default=m},A4tC:function(e,t,a){"use strict";a("TeQF"),a("SuFq");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("FZtP");var i=n(a("lwsE")),o=n(a("W8MJ")),r=n(a("PJYZ")),l=n(a("7W2i")),u=n(a("a1gu")),d=n(a("Nsbk")),s=n(a("lSNA")),c=n(a("q1tI")),f=a("T89o"),p=a("DtyJ"),m=a("ahDk"),g=n(a("aTp4")),h=a("Nv6i"),v=a("jtPO"),b=a("pQfs"),y=a("vDWu"),w=a("c95D"),I=a("OKda"),x=a("KLnl");function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,d.default)(e);if(t){var i=(0,d.default)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,u.default)(this,a)}}var M=function(e){(0,l.default)(a,e);var t=E(a);function a(e){var n;return(0,i.default)(this,a),n=t.call(this,e),(0,s.default)((0,r.default)(n),"inputProps$",void 0),(0,s.default)((0,r.default)(n),"subscriptions",void 0),n.state={files:void 0},n}return(0,o.default)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.resourceId,n=t.resourceType,i=t.resetOnChange;this.inputProps$=new p.BehaviorSubject({resourceId:a,resourceType:n}),this.subscriptions=[this.inputProps$.pipe((0,m.distinctUntilChanged)((function(e,t){return(0,g.default)(e,t)})),(0,m.tap)((function(){return i&&e.setState({files:void 0})})),(0,m.filter)((function(e){var t=e.resourceId;return(0,f.isString)(t)})),(0,m.switchMap)((function(e){var t,a=e.resourceId,n=e.resourceType;return"project"===n&&(t=h.projectFilesStream),"phase"===n&&(t=v.phaseFilesStream),"event"===n&&(t=b.eventFilesStream),"page"===n&&(t=y.pageFilesStream),"idea"===n&&(t=w.ideaFilesStream),"initiative"===n&&(t=I.initiativeFilesStream),t(a).observable}))).subscribe((function(t){e.setState({files:(0,x.isNilOrError)(t)?t:t.data})}))]}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.resourceId,a=e.resourceType,n=e.resetOnChange;this.inputProps$.next({resourceId:t,resourceType:a,resetOnChange:n})}},{key:"componentWillUnmount",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"render",value:function(){return(0,this.props.children)(this.state.files)}}]),a}(c.default.Component);t.default=M,(0,s.default)(M,"defaultProps",{resetOnChange:!0})},AJij:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,a("JRPe").defineMessages)({postedBy:{id:"app.containers.IdeasShow.MetaInformation.postedBy",defaultMessage:"Posted by"},currentStatus:{id:"app.containers.IdeasShow.MetaInformation.currentStatus",defaultMessage:"Current status"},topics:{id:"app.containers.IdeasShow.MetaInformation.topics",defaultMessage:"Topics"},location:{id:"app.containers.IdeasShow.MetaInformation.location",defaultMessage:"Location"},attachments:{id:"app.containers.IdeasShow.MetaInformation.attachments",defaultMessage:"Attachments"},byUserOnDate:{id:"app.containers.IdeasShow.MetaInformation.byUserOnDate",defaultMessage:"{userName} on {date}"}});t.default=n},AM3C:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2B1R");var i=n(a("q1tI")),o=a("akep"),r=n(a("Uj4o")),l=n(a("38aM")),u=a("KLnl"),d=a("Rw3A"),s=n(a("AJij")),c=(0,d.injectIntl)((function(e){var t=e.ideaId,a=e.compact,n=e.className,d=e.intl.formatMessage,c=(0,l.default)({ideaId:t});if(!(0,u.isNilOrError)(c)){var f,p=(null===(f=c.relationships.topics)||void 0===f?void 0:f.data.map((function(e){return e.id})))||[];if(p.length>0)return i.default.createElement(o.Item,{className:n||"",compact:a},i.default.createElement(o.Header,null,d(s.default.topics)),i.default.createElement(r.default,{postType:"idea",topicIds:p}))}return null}));t.default=c},"CA+D":function(e,t,a){"use strict";a("SuFq");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("FZtP");var i=n(a("lwsE")),o=n(a("W8MJ")),r=n(a("PJYZ")),l=n(a("7W2i")),u=n(a("a1gu")),d=n(a("Nsbk")),s=n(a("lSNA")),c=n(a("q1tI")),f=a("DtyJ"),p=a("ahDk"),m=n(a("aTp4")),g=a("EP0W"),h=a("T89o");function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,d.default)(e);if(t){var i=(0,d.default)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,u.default)(this,a)}}var b=function(e){(0,l.default)(a,e);var t=v(a);function a(e){var n;return(0,i.default)(this,a),n=t.call(this,e),(0,s.default)((0,r.default)(n),"inputProps$",void 0),(0,s.default)((0,r.default)(n),"subscriptions",void 0),n.state={ideaImages:void 0},n}return(0,o.default)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.ideaId;this.inputProps$=new f.BehaviorSubject({ideaId:t}),this.subscriptions=[this.inputProps$.pipe((0,p.distinctUntilChanged)((function(e,t){return(0,m.default)(e,t)})),(0,p.switchMap)((function(e){var t=e.ideaId;return(0,h.isString)(t)?(0,g.ideaImagesStream)(t).observable:(0,f.of)(null)}))).subscribe((function(t){e.setState({ideaImages:t?t.data:null})}))]}},{key:"componentDidUpdate",value:function(){var e=this.props.ideaId;this.inputProps$.next({ideaId:e})}},{key:"componentWillUnmount",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"render",value:function(){return(0,this.props.children)(this.state.ideaImages)}}]),a}(c.default.Component);t.default=b},CmRk:function(e,t,a){"use strict";a("yq1k"),a("JTJg"),a("SuFq"),a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a("o0o1"));a("ma9I"),a("2B1R"),a("TeQF"),a("FZtP"),a("oVuX");var r,l,u,d=n(a("pVnL")),s=n(a("J4zp")),c=n(a("yXPU")),f=n(a("lwsE")),p=n(a("W8MJ")),m=n(a("PJYZ")),g=n(a("7W2i")),h=n(a("a1gu")),v=n(a("Nsbk")),b=n(a("lSNA")),y=n(a("VkAN")),w=L(a("q1tI")),I=a("T89o"),x=a("DtyJ"),E=a("ahDk"),M=a("KLnl"),_=a("dtw8"),S=a("Rw3A"),P=n(a("dcoO")),O=a("P92B"),C=a("iP56"),k=a("x303"),j=a("ngE2"),T=a("lq1v"),N=a("uZm3"),D=a("MfpC"),B=a("+9pX"),R=a("q3BX"),A=a("iH/W"),W=L(a("vOnD")),V=a("96Cm"),F=a("ufqH");function q(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(q=function(e){return e?a:t})(e)}function L(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=q(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,v.default)(e);if(t){var i=(0,v.default)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,h.default)(this,a)}}var H=(0,W.keyframes)(["from{transform:scale3d(1,1,1);}40%{transform:scale3d(1.25,1.25,1.25);}to{transform:scale3d(1,1,1);}"]),U=W.default.div.withConfig({displayName:"VoteControl__Container",componentId:"h9cg2l-0"})(["display:flex;align-items:center;"," *{user-select:none;}"],(0,V.isRtl)(r||(r=(0,y.default)(["\n    flex-direction: row-reverse;\n  "])))),J=W.default.div.withConfig({displayName:"VoteControl__VoteIconContainer",componentId:"h9cg2l-1"})(["display:flex;align-items:center;justify-content:center;margin-right:1px;border-radius:50%;transition:all 60ms ease-out;background-color:white;"," "," ",""],(function(e){return"border"===e.styleType&&(0,W.css)(["border:solid 1px ",";"],(0,F.lighten)(.2,V.colors.label))}),(function(e){var t=e.styleType,a=e.votingEnabled;return"shadow"===t&&a&&(0,W.css)(["box-shadow:",";&:hover{box-shadow:",";}"],V.defaultStyles.boxShadow,V.defaultStyles.boxShadowHoverSmall)}),(function(e){var t=e.votingEnabled,a=e.size;if(t){if("1"===a)return(0,W.css)(["width:35px;height:35px;"]);if("2"===a)return(0,W.css)(["width:45px;height:45px;"]);if("3"===a)return(0,W.css)(["width:48px;height:48px;"]);if("4"===a)return(0,W.css)(["width:50px;height:50px;"])}return(0,W.css)(["margin-left:5px;"])})),G=(0,W.default)(C.Icon).withConfig({displayName:"VoteControl__VoteIcon",componentId:"h9cg2l-2"})(["width:19px;height:19px;fill:",";transition:all 100ms ease-out;"," "," "," ",""],V.colors.label,(function(e){return"1"===e.size?(0,W.css)(["width:17px;height:17px;"]):(0,W.css)([""])}),(function(e){return"2"===e.size?(0,W.css)(["width:18px;height:18px;"]):(0,W.css)([""])}),(function(e){return"3"===e.size?(0,W.css)(["width:20px;height:20px;"]):(0,W.css)([""])}),(function(e){return"4"===e.size?(0,W.css)(["width:21px;height:21px;"]):(0,W.css)([""])})),Z=W.default.div.withConfig({displayName:"VoteControl__VoteCount",componentId:"h9cg2l-3"})(["color:",";font-size:","px;font-weight:400;display:flex;align-items:center;justify-content:flex-start;margin-left:5px;transition:all 100ms ease-out;&:not(.enabled){margin-left:3px;}"],V.colors.label,V.fontSizes.base),K=W.default.button.withConfig({displayName:"VoteControl__Vote",componentId:"h9cg2l-4"})(["display:flex;align-items:center;padding:0;margin:0;cursor:pointer;border:none;"," &.voteClick ","{animation:",";}&:not(.enabled){","{width:auto;border:none;background:none;}","{margin-right:4px;}}"],(0,V.isRtl)(l||(l=(0,y.default)(["\n    flex-direction: row-reverse;\n  "]))),J,(0,W.css)([""," 350ms"],H),J,G),Y=(0,W.default)(K).withConfig({displayName:"VoteControl__Upvote",componentId:"h9cg2l-5"})(["margin-right:8px;&:not(.enabled){","{","}}","{","}","{margin-bottom:4px;",";}","{min-width:20px;margin-right:5px;","}&:hover.enabled{","{","}","{","}","{","}}"],Z,(0,V.isRtl)(u||(u=(0,y.default)(["\n        margin-right: 5px;\n      "]))),J,(function(e){return e.active&&"border-color: ".concat(V.colors.clGreen,"; background: ").concat(V.colors.clGreen,";")}),G,(function(e){var t=e.active,a=e.enabled;return t&&a?(0,W.css)(["fill:#fff;"]):t&&!a?(0,W.css)(["fill:",";"],V.colors.clGreen):void 0}),Z,(function(e){return e.active&&"color: ".concat(V.colors.clGreen,";")}),J,(function(e){return!e.active&&"border: 1px solid ".concat(V.colors.clGreen,";")}),G,(function(e){return!e.active&&"fill: ".concat(V.colors.clGreen,";")}),Z,(function(e){return!e.active&&"color: ".concat(V.colors.clGreen,";")})),Q=(0,W.default)(K).withConfig({displayName:"VoteControl__Downvote",componentId:"h9cg2l-6"})(["","{","}","{margin-top:4px;",";}","{","}&:hover.enabled{","{","}","{","}","{","}}"],J,(function(e){return e.active&&"border-color: ".concat(V.colors.clRed,"; background: ").concat(V.colors.clRed,";")}),G,(function(e){var t=e.active,a=e.enabled;return t&&a?(0,W.css)(["fill:#fff;"]):t&&!a?(0,W.css)(["fill:",";"],V.colors.clRed):void 0}),Z,(function(e){return e.active&&"color: ".concat(V.colors.clRed,";")}),J,(function(e){return!e.active&&"border: 1px solid ".concat(V.colors.clRed,";")}),G,(function(e){return!e.active&&"fill: ".concat(V.colors.clRed,";")}),Z,(function(e){return!e.active&&"color: ".concat(V.colors.clRed,";")})),$=function(e){(0,g.default)(n,e);var t,a=z(n);function n(e){var t;return(0,f.default)(this,n),t=a.call(this,e),(0,b.default)((0,m.default)(t),"voting$",void 0),(0,b.default)((0,m.default)(t),"id$",void 0),(0,b.default)((0,m.default)(t),"subscriptions",void 0),(0,b.default)((0,m.default)(t),"upvoteElement",void 0),(0,b.default)((0,m.default)(t),"downvoteElement",void 0),(0,b.default)((0,m.default)(t),"votingAnimationDone",(function(){t.setState({votingAnimation:null})})),(0,b.default)((0,m.default)(t),"onClickUpvote",(function(e){e.preventDefault(),e.stopPropagation(),t.vote("up")})),(0,b.default)((0,m.default)(t),"onClickDownvote",(function(e){e.preventDefault(),e.stopPropagation(),t.vote("down")})),(0,b.default)((0,m.default)(t),"vote",function(){var e=(0,c.default)(o.default.mark((function e(a){var n,i,r,l,u,d,s,c,f,p,m,g,h,v,b,y,w,I,x,E;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.state,i=n.authUser,r=n.myVoteId,l=n.myVoteMode,u=n.voting,d=n.idea,s=n.participationContext,c=n.participationContextId,f=n.participationContextType,p=t.props,m=p.ideaId,g=p.disabledVoteClick,h=null==d?void 0:d.data.attributes.action_descriptor.voting_idea.enabled,v=null==d?void 0:d.data.attributes.action_descriptor.voting_idea.cancelling_enabled,b=null==d?void 0:d.data.attributes.action_descriptor.voting_idea.disabled_reason,y=!(0,M.isNilOrError)(i),w=!(!l||a!==l),I=!(0,M.isNilOrError)(i)&&i.data.attributes.verified,u){e.next=42;break}if((0,M.isNilOrError)(i)||!(h||v&&w)){e.next=41;break}if(e.prev=10,t.voting$.next(a),E="limited"===(null==s||null===(x=s.attributes)||void 0===x?void 0:x.voting_method),!r||!l||l===a){e.next=19;break}return t.setState((function(e){return{upvotesCount:"up"===a?e.upvotesCount+1:e.upvotesCount-1,downvotesCount:"down"===a?e.downvotesCount+1:e.downvotesCount-1,myVoteMode:a}})),e.next=17,(0,T.deleteVote)(m,r,E);case 17:return e.next=19,(0,T.addVote)(m,{user_id:i.data.id,mode:a},E);case 19:if(!r||!l||l!==a){e.next=23;break}return t.setState((function(e){return{upvotesCount:"up"===a?e.upvotesCount-1:e.upvotesCount,downvotesCount:"down"===a?e.downvotesCount-1:e.downvotesCount,myVoteMode:null}})),e.next=23,(0,T.deleteVote)(m,r,E);case 23:if(l){e.next=27;break}return t.setState((function(e){return{upvotesCount:"up"===a?e.upvotesCount+1:e.upvotesCount,downvotesCount:"down"===a?e.downvotesCount+1:e.downvotesCount,myVoteMode:a}})),e.next=27,(0,T.addVote)(m,{user_id:i.data.id,mode:a},E);case 27:return e.next=29,(0,j.ideaByIdStream)(m).fetch();case 29:return t.voting$.next(null),e.abrupt("return","success");case 33:return e.prev=33,e.t0=e.catch(10),t.voting$.next(null),e.next=38,(0,j.ideaByIdStream)(m).fetch();case 38:throw"error";case 39:e.next=42;break;case 41:y&&!I&&"not_verified"===b?(0,A.openVerificationModal)():y||!h&&"not_verified"!==b&&"not_signed_in"!==b&&"not_permitted"!==b?b&&(null==g||g(b)):(0,R.openSignUpInModal)({verification:"not_verified"===b,verificationContext:"not_verified"===b&&c&&f?{action:"voting_idea",id:c,type:f}:void 0,action:function(){return t.vote(a)}});case 42:return e.abrupt("return");case 43:case"end":return e.stop()}}),e,null,[[10,33]])})));return function(t){return e.apply(this,arguments)}}()),(0,b.default)((0,m.default)(t),"setContainerRef",(function(e){var a,n;null===(a=t.props)||void 0===a||null===(n=a.setRef)||void 0===n||n.call(a,e)})),(0,b.default)((0,m.default)(t),"setUpvoteRef",(function(e){t.upvoteElement=e})),(0,b.default)((0,m.default)(t),"setDownvoteRef",(function(e){t.downvoteElement=e})),(0,b.default)((0,m.default)(t),"removeFocus",(function(e){e.preventDefault()})),t.state={showVoteControl:!1,authUser:null,upvotesCount:0,downvotesCount:0,voting:null,votingAnimation:null,myVoteId:void 0,myVoteMode:void 0,idea:null,participationContext:null,participationContextId:null,participationContextType:null,loaded:!1},t.voting$=new x.BehaviorSubject(null),t.id$=new x.BehaviorSubject(null),t.subscriptions=[],t.upvoteElement=null,t.downvoteElement=null,t}return(0,p.default)(n,[{key:"componentDidMount",value:function(){var e,t,a=this,n=(0,k.authUserStream)().observable,i=this.voting$.pipe((0,E.distinctUntilChanged)()),o=this.id$.pipe((0,E.filter)((function(e){return(0,I.isString)(e)})),(0,E.distinctUntilChanged)());this.id$.next(this.props.ideaId),null===(e=this.upvoteElement)||void 0===e||e.addEventListener("animationend",this.votingAnimationDone),null===(t=this.downvoteElement)||void 0===t||t.addEventListener("animationend",this.votingAnimationDone);var r=o.pipe((0,E.switchMap)((function(e){var t=(0,j.ideaByIdStream)(e).observable;return(0,x.combineLatest)(t,i)})),(0,E.filter)((function(e){var t=(0,s.default)(e,2);t[0];return null===t[1]})),(0,E.map)((function(e){var t=(0,s.default)(e,2),a=t[0];t[1];return a}))),l=(0,x.combineLatest)(n,r).pipe((0,E.switchMap)((function(e){var t=(0,s.default)(e,2),a=t[0],n=t[1];if(a&&n&&n.data.relationships.user_vote&&null!==n.data.relationships.user_vote.data){var o=n.data.relationships.user_vote.data.id,r=(0,T.voteStream)(o).observable;return(0,x.combineLatest)(r,i).pipe((0,E.filter)((function(e){var t=(0,s.default)(e,2);t[0];return null===t[1]})),(0,E.map)((function(e){var t=(0,s.default)(e,2),a=t[0];t[1];return a})))}return(0,x.of)(null)})));this.subscriptions=[i.subscribe((function(e){a.setState((function(t){return{voting:e,votingAnimation:null!==e&&null===t.voting?e:t.votingAnimation}}))})),r.pipe((0,E.switchMap)((function(e){var t=(0,x.of)(null),a=(0,x.of)(null),i=!(0,I.isEmpty)((0,I.get)(e.data.relationships.phases,"data",null));return!i&&e.data.relationships.project.data&&(t=(0,N.projectByIdStream)(e.data.relationships.project.data.id).observable),i&&e.data.relationships.phases.data.length>0&&(a=(0,x.combineLatest)(e.data.relationships.phases.data.map((function(e){return(0,D.phaseStream)(e.id).observable})))),(0,x.combineLatest)(t,a,n).pipe((0,E.map)((function(t){var a=(0,s.default)(t,3),n=a[0],i=a[1],o=a[2];return{idea:e,project:n,phases:i,authUser:o}})))}))).subscribe((function(e){var t,n,i,o,r=e.idea,l=e.project,u=e.phases,d=e.authUser,s=!(0,M.isNilOrError)(d),c=r.data.attributes.upvotes_count,f=r.data.attributes.downvotes_count,p=r.data.attributes.action_descriptor.voting_idea.enabled,m=r.data.attributes.action_descriptor.voting_idea.cancelling_enabled,g=r.data.attributes.action_descriptor.voting_idea.disabled_reason,h=r.data.attributes.action_descriptor.voting_idea.future_enabled,v="continuous"===(null==l?void 0:l.data.attributes.process_type),b=null==r||null===(t=r.data)||void 0===t||null===(n=t.relationships)||void 0===n||null===(i=n.phases)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.map((function(e){return e.id})),y=null==u?void 0:u.filter((function(e){return(0,I.includes)(b,e.data.id)})).map((function(e){return e.data})),w=y?(0,D.getLatestRelevantPhase)(y):null,x=v?"project":"phase",E=v?(null==l?void 0:l.data.id)||null:(null==w?void 0:w.id)||null,_=v?(null==l?void 0:l.data)||null:w,S=!p&&"not_verified"===g&&s,P=!("budgeting"===(null==_?void 0:_.attributes.participation_method)||!(p||!p&&("not_signed_in"===g||"not_verified"===g&&!s)||m||h||c>0||f>0||S||!S&&"not_permitted"===g));a.setState({idea:r,participationContext:_,participationContextId:E,participationContextType:x,showVoteControl:P,upvotesCount:c,downvotesCount:f,authUser:d,loaded:!0})})),l.subscribe((function(e){a.setState({myVoteId:e?e.data.id:null,myVoteMode:e?e.data.attributes.mode:null})}))]}},{key:"componentDidUpdate",value:(t=(0,c.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.id$.next(this.props.ideaId);case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){var e,t;null===(e=this.upvoteElement)||void 0===e||e.removeEventListener("animationend",this.votingAnimationDone),null===(t=this.downvoteElement)||void 0===t||t.removeEventListener("animationend",this.votingAnimationDone),this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"render",value:function(){var e=this.props,t=e.size,a=e.className,n=e.intl.formatMessage,i=e.ariaHidden,o=e.styleType,r=this.state,l=r.idea,u=r.authUser,s=r.showVoteControl,c=r.myVoteMode,f=r.votingAnimation,p=r.upvotesCount,m=r.downvotesCount,g=null==l?void 0:l.data.attributes.action_descriptor.voting_idea,h=null==g?void 0:g.enabled,v=null==g?void 0:g.cancelling_enabled,b=null==g?void 0:g.disabled_reason,y=!(0,M.isNilOrError)(u),I=!(0,M.isNilOrError)(u)&&u.data.attributes.verified,x="up"!==c&&h||"up"===c&&v||!I&&"not_verified"===b||!y&&"not_signed_in"===b,E="down"!==c&&h||"down"===c&&v||!I&&"not_verified"===b||!y&&"not_signed_in"===b,_="boolean"!=typeof(null==g?void 0:g.downvoting_enabled)||(null==g?void 0:g.downvoting_enabled);if(!s)return null;var C=w.default.createElement(w.default.Fragment,null,w.default.createElement(B.ScreenReaderOnly,null,w.default.createElement(S.FormattedMessage,(0,d.default)({},P.default.a11y_upvotesDownvotes,{values:{upvotesCount:p,downvotesCount:m}}))),w.default.createElement(O.LiveMessage,{message:n(P.default.a11y_upvotesDownvotes,{upvotesCount:p,downvotesCount:m}),"aria-live":"polite"}));return w.default.createElement(w.default.Fragment,null,C,w.default.createElement(U,{className:[a,"e2e-vote-controls",null===c?"neutral":c].filter((function(e){return e})).join(" "),"aria-hidden":i,ref:this.setContainerRef},w.default.createElement(Y,{active:"up"===c,enabled:x,onMouseDown:this.removeFocus,onClick:this.onClickUpvote,ref:this.setUpvoteRef,className:["e2e-ideacard-upvote-button","up"===f?"voteClick":"upvote",x?"enabled":"disabled","up"===c?"active":""].join(" "),tabIndex:i?-1:0},w.default.createElement(J,{styleType:o,size:t,votingEnabled:x},w.default.createElement(G,{name:"upvote",size:t,enabled:x}),w.default.createElement(B.ScreenReaderOnly,null,w.default.createElement(S.FormattedMessage,P.default.upvote))),w.default.createElement(Z,{"aria-hidden":!0,className:[h?"enabled":""].join(" ")},p)),_&&w.default.createElement(Q,{active:"down"===c,enabled:E,onMouseDown:this.removeFocus,onClick:this.onClickDownvote,ref:this.setDownvoteRef,className:["e2e-ideacard-downvote-button","down"===f?"voteClick":"downvote",E?"enabled":"disabled"].join(" "),tabIndex:i?-1:0},w.default.createElement(J,{styleType:o,size:t,votingEnabled:E},w.default.createElement(G,{name:"downvote",size:t,enabled:E}),w.default.createElement(B.ScreenReaderOnly,null,w.default.createElement(S.FormattedMessage,P.default.downvote))),w.default.createElement(Z,{"aria-hidden":!0,className:h?"enabled":""},m))))}}]),n}(w.PureComponent);(0,b.default)($,"defaultProps",{ariaHidden:!1});var X=(0,_.withRouter)((0,S.injectIntl)($));t.default=X},D51O:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("q1tI")),o=a("akep"),r=n(a("/VeQ")),l=n(a("9Y8i")),u=n(a("AJij")),d=a("Rw3A"),s=a("KLnl"),c=function(e){var t=e.statusId,a=e.compact,n=e.className,c=(0,r.default)({statusId:t});return(0,s.isNilOrError)(c)?null:i.default.createElement(o.Item,{className:n||"",compact:a},i.default.createElement(o.Header,null,i.default.createElement(d.FormattedMessage,u.default.currentStatus)),i.default.createElement(l.default,{id:"e2e-idea-status-badge",statusId:t}))};t.default=c},EP0W:function(e,t,a){"use strict";a("tkto"),a("pNMO"),a("TeQF"),a("5DmW"),a("FZtP"),a("27RR");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.ideaImageStream=function(e,t){var a="".concat(l.API_PATH,"/ideas/").concat(e,"/images/").concat(t);return u.default.get({apiEndpoint:a})},t.ideaImagesStream=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a="".concat(l.API_PATH,"/ideas/").concat(e,"/images");return u.default.get(c({apiEndpoint:a},t))},t.deleteIdeaImage=function(e,t){return u.default.delete("".concat(l.API_PATH,"/ideas/").concat(e,"/images/").concat(t),t)},t.addIdeaImage=function(e,t){return f.apply(this,arguments)};var i=n(a("o0o1")),o=n(a("yXPU")),r=n(a("lSNA"));a("ma9I");var l=a("p0gT"),u=n(a("1Kqg")),d=a("ngE2");function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function f(){return(f=(0,o.default)(i.default.mark((function e(t,a){var n,o,r,s,c=arguments;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>2&&void 0!==c[2]?c[2]:null,o="".concat(l.API_PATH,"/ideas/").concat(t,"/images"),r={image:{ordering:n,image:a}},e.next=5,u.default.add(o,r);case 5:return s=e.sent,e.next=8,(0,d.ideaByIdStream)(t).fetch();case 8:return e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},EW5Z:function(e,t,a){"use strict";a("SuFq"),a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("ma9I");var o=n(a("pVnL")),r=n(a("lwsE")),l=n(a("W8MJ")),u=n(a("PJYZ")),d=n(a("7W2i")),s=n(a("a1gu")),c=n(a("Nsbk")),f=n(a("lSNA")),p=E(a("q1tI")),m=E(a("vOnD")),g=a("96Cm"),h=a("iP56"),v=a("oGDI"),b=n(a("2fl8")),y=n(a("3A/8")),w=n(a("mzbP")),I=a("Rw3A");function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(x=function(e){return e?a:t})(e)}function E(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=x(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,s.default)(this,a)}}var _=m.default.div.withConfig({displayName:"ThresholdReached__Container",componentId:"sc-1fw53qw-0"})([""]),S=(0,m.default)(h.Icon).withConfig({displayName:"ThresholdReached__StatusIcon",componentId:"sc-1fw53qw-1"})(["path{fill:",";}width:40px;height:40px;margin-bottom:20px;"],(function(e){return e.theme.colorText})),P=m.default.div.withConfig({displayName:"ThresholdReached__VoteText",componentId:"sc-1fw53qw-2"})(["font-size:","px;color:",";margin-top:20px;"],g.fontSizes.base,(function(e){return e.theme.colorText})),O=(0,m.default)(b.default).withConfig({displayName:"ThresholdReached__StyledButton",componentId:"sc-1fw53qw-3"})(["margin-top:20px;"]),C=function(e){(0,d.default)(a,e);var t=M(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,f.default)((0,u.default)(e),"handleOnVote",(function(){e.props.onVote()})),e}return(0,l.default)(a,[{key:"render",value:function(){var e=this.props,t=e.initiative,a=e.initiativeSettings,n=a.voting_threshold,i=a.threshold_reached_message,r=e.initiativeStatus,l=e.userVoted,u=t.attributes.upvotes_count,d=n;return p.default.createElement(_,null,p.default.createElement(v.StatusWrapper,null,p.default.createElement(y.default,{value:r.attributes.title_multiloc})),p.default.createElement(S,{ariaHidden:!0,name:"envelope-check"}),p.default.createElement(v.StatusExplanation,null,p.default.createElement(I.FormattedMessage,(0,o.default)({},w.default.thresholdReachedStatusExplanation,{values:{thresholdReachedStatusExplanationBold:p.default.createElement("b",null,p.default.createElement(I.FormattedMessage,w.default.thresholdReachedStatusExplanationBold))}})),i?p.default.createElement(h.IconTooltip,{icon:"info",iconColor:this.props.theme.colorText,theme:"light",placement:"bottom",content:p.default.createElement(y.default,{value:i,supportHtml:!0})}):p.default.createElement(p.default.Fragment,null)),p.default.createElement(P,null,p.default.createElement(I.FormattedMessage,(0,o.default)({},w.default.xVotesOfY,{values:{votingThreshold:d,xVotes:p.default.createElement("b",null,p.default.createElement(I.FormattedMessage,(0,o.default)({},w.default.xVotes,{values:{count:u}})))}}))),!l&&p.default.createElement(O,{icon:"upvote",onClick:this.handleOnVote},p.default.createElement(I.FormattedMessage,w.default.vote)))}}]),a}(p.PureComponent),k=(0,m.withTheme)(C);t.default=k},FSVo:function(e,t,a){"use strict";a("SuFq");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("FZtP");var i=n(a("lwsE")),o=n(a("W8MJ")),r=n(a("PJYZ")),l=n(a("7W2i")),u=n(a("a1gu")),d=n(a("Nsbk")),s=n(a("lSNA")),c=n(a("q1tI")),f=a("T89o"),p=a("KLnl"),m=a("DtyJ"),g=a("ahDk"),h=n(a("aTp4")),v=a("fM+I");function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,d.default)(e);if(t){var i=(0,d.default)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,u.default)(this,a)}}var y=function(e){(0,l.default)(a,e);var t=b(a);function a(e){var n;return(0,i.default)(this,a),n=t.call(this,e),(0,s.default)((0,r.default)(n),"inputProps$",void 0),(0,s.default)((0,r.default)(n),"subscriptions",void 0),n.state={initiative:void 0},n}return(0,o.default)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.id,n=t.slug,i=t.resetOnChange;this.inputProps$=new m.BehaviorSubject({id:a,slug:n}),this.subscriptions=[this.inputProps$.pipe((0,g.distinctUntilChanged)((function(e,t){return(0,h.default)(e,t)})),(0,g.tap)((function(){return i&&e.setState({initiative:void 0})})),(0,g.switchMap)((function(e){var t=e.id,a=e.slug;return(0,f.isString)(t)?(0,v.initiativeByIdStream)(t).observable:(0,f.isString)(a)?(0,v.initiativeBySlugStream)(a).observable:(0,m.of)(null)}))).subscribe((function(t){e.setState({initiative:(0,p.isNilOrError)(t)?t:t.data})}))]}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.id,a=e.slug;this.inputProps$.next({id:t,slug:a})}},{key:"componentWillUnmount",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"render",value:function(){return(0,this.props.children)(this.state.initiative)}}]),a}(c.default.Component);t.default=y,(0,s.default)(y,"defaultProps",{resetOnChange:!0})},GpY6:function(e,t,a){"use strict";a("yq1k"),a("JTJg"),a("SuFq"),a("ENF9"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.IdeasShow=void 0;var o=n(a("pVnL")),r=n(a("lwsE")),l=n(a("W8MJ")),u=n(a("PJYZ")),d=n(a("7W2i")),s=n(a("a1gu")),c=n(a("Nsbk")),f=n(a("lSNA")),p=n(a("VkAN"));a("4mDm"),a("07d7"),a("5s+n"),a("PKPk"),a("3bBZ"),a("2B1R"),a("TeQF");var m,g,h,v=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=fe(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),b=a("T89o"),y=a("KLnl"),w=a("ifvJ"),I=a("DbO4"),x=a("MfpC"),E=a("KuRP"),M=n(a("oHY+")),_=a("dtw8"),S=n(a("IEAL")),P=n(a("YOT+")),O=n(a("zJWc")),C=n(a("K5Dz")),k=n(a("Mh2d")),j=n(a("72sj")),T=n(a("/Eug")),N=n(a("1hFV")),D=n(a("kemx")),B=n(a("0Pyc")),R=n(a("UjkJ")),A=n(a("NSTN")),W=a("iP56"),V=n(a("xksB")),F=n(a("/92W")),q=n(a("w6e4")),L=n(a("L2JE")),z=n(a("JBro")),H=n(a("zFVC")),U=n(a("yiTP")),J=n(a("CA+D")),G=n(a("M7uY")),Z=n(a("OL75")),K=n(a("M8tl")),Y=n(a("17nk")),Q=n(a("mjsl")),$=n(a("oRVF")),X=n(a("vztX")),ee=n(a("YLV/")),te=n(a("zIn5")),ae=a("Rw3A"),ne=n(a("sL4G")),ie=n(a("UQTo")),oe=n(a("V3HD")),re=a("9FT3"),le=n(a("pQ8y")),ue=n(a("vOnD")),de=a("96Cm"),se=a("qGqp"),ce=n(a("Yjdl"));function fe(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(fe=function(e){return e?a:t})(e)}function pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,s.default)(this,a)}}var me=(0,v.lazy)((function(){return Promise.all([a.e(6),a.e(167)]).then(a.t.bind(null,"LtqC",7))})),ge=ue.default.main.withConfig({displayName:"IdeasShow__Container",componentId:"sc-10cplty-0"})(["width:100%;max-width:","px;position:relative;display:flex;flex-direction:column;align-items:stretch;margin-left:auto;margin-right:auto;background:#fff;&.loading{flex:1;justify-content:center;}&.loaded{opacity:0;&.content-enter{opacity:0;&.content-enter-active{opacity:1;transition:opacity ","ms "," ","ms;}}&.content-enter-done{opacity:1;}}"],se.pageContentMaxWidth,250,"cubic-bezier(0.19, 1, 0.22, 1)",150),he=ue.default.div.withConfig({displayName:"IdeasShow__Content",componentId:"sc-10cplty-1"})(["display:flex;"]),ve=ue.default.div.withConfig({displayName:"IdeasShow__LeftColumn",componentId:"sc-10cplty-2"})(["flex:1 1 100%;"]),be=(0,ue.default)(z.default).withConfig({displayName:"IdeasShow__StyledRightColumnDesktop",componentId:"sc-10cplty-3"})(["margin-left:","px;"],se.columnsGapDesktop),ye=ue.default.div.withConfig({displayName:"IdeasShow__IdeaHeader",componentId:"sc-10cplty-4"})(["display:flex;align-items:center;justify-content:space-between;margin-top:-5px;margin-bottom:25px;"," ",""],(0,de.isRtl)(m||(m=(0,p.default)(["\n    flex-direction: row-reverse;\n  "]))),de.media.smallerThanMaxTablet(g||(g=(0,p.default)(["\n    margin-top: 0px;\n  "])))),we=(0,ue.default)(A.default).withConfig({displayName:"IdeasShow__MobileIdeaMoreActions",componentId:"sc-10cplty-5"})(["margin-left:30px;"]),Ie=ue.default.div.withConfig({displayName:"IdeasShow__TopBar",componentId:"sc-10cplty-6"})(["display:flex;justify-content:space-between;align-items:center;",""],(0,de.isRtl)(h||(h=(0,p.default)(["\n    flex-direction: row-reverse;\n  "])))),xe=(0,ue.default)(V.default).withConfig({displayName:"IdeasShow__StyledGoBackButton",componentId:"sc-10cplty-7"})(["margin-bottom:40px;"]),Ee=ue.default.h2.withConfig({displayName:"IdeasShow__BodySectionTitle",componentId:"sc-10cplty-8"})(["font-size:","px;font-weight:500;line-height:28px;padding:0;margin:0;margin-bottom:15px;"],(function(e){return e.theme.fontSizes.large})),Me=(0,ue.default)(k.default).withConfig({displayName:"IdeasShow__StyledBody",componentId:"sc-10cplty-9"})(["margin-bottom:40px;"]),_e=(0,ue.default)(C.default).withConfig({displayName:"IdeasShow__StyledIdeaProposedBudget",componentId:"sc-10cplty-10"})(["margin-bottom:20px;"]),Se=(0,ue.default)(q.default).withConfig({displayName:"IdeasShow__MobileMetaInformation",componentId:"sc-10cplty-11"})(["margin-bottom:30px;"]),Pe=(0,ue.default)(D.default).withConfig({displayName:"IdeasShow__StyledAssignBudgetControl",componentId:"sc-10cplty-12"})(["margin-top:30px;margin-bottom:30px;"]),Oe=(0,ue.default)(S.default).withConfig({displayName:"IdeasShow__MobileIdeaSharingButton",componentId:"sc-10cplty-13"})([""]),Ce=(0,ue.default)(T.default).withConfig({displayName:"IdeasShow__StyledOfficialFeedback",componentId:"sc-10cplty-14"})(["margin-top:80px;margin-bottom:80px;"]),ke=ue.default.div.withConfig({displayName:"IdeasShow__Comments",componentId:"sc-10cplty-15"})(["margin-bottom:100px;"]),je=function(e){(0,d.default)(a,e);var t=pe(a);function a(e){var n;return(0,r.default)(this,a),n=t.call(this,e),(0,f.default)((0,u.default)(n),"setLoaded",(function(){var e=n.state.loaded,t=n.props,a=t.idea,i=t.ideaImages,o=t.project,r=t.officialFeedbacks;e||(0,y.isNilOrError)(a)||(0,b.isUndefined)(i)||(0,y.isNilOrError)(o)||(0,b.isUndefined)(r.officialFeedbacksList)||n.setState({loaded:!0})})),(0,f.default)((0,u.default)(n),"closeIdeaSocialSharingModal",(function(){n.setState({ideaIdForSocialSharing:null})})),(0,f.default)((0,u.default)(n),"onTranslateIdea",(function(){n.setState((function(e){return!0===e.translateButtonClicked?(0,E.trackEvent)(M.default.clickGoBackToOriginalIdeaCopyButton):!1===e.translateButtonClicked&&(0,E.trackEvent)(M.default.clickTranslateIdeaButton),{translateButtonClicked:!e.translateButtonClicked}}))})),(0,f.default)((0,u.default)(n),"handleContainerRef",(function(e){var t,a;null===(t=(a=n.props).setRef)||void 0===t||t.call(a,e)})),(0,f.default)((0,u.default)(n),"getLatestRelevantPhaseId",(function(){var e=n.props,t=e.idea,a=e.phases;if(!(0,y.isNilOrError)(t)&&!(0,y.isNilOrError)(a)){var i,o,r,l,u=null==t||null===(i=t.relationships)||void 0===i||null===(o=i.phases)||void 0===o||null===(r=o.data)||void 0===r?void 0:r.map((function(e){return e.id})),d=a.filter((function(e){return(0,b.includes)(u,e.id)}));return null===(l=(0,x.getLatestRelevantPhase)(d))||void 0===l?void 0:l.id}})),n.state={loaded:!1,spamModalVisible:!1,ideaIdForSocialSharing:null,translateButtonClicked:!1},n}return(0,l.default)(a,[{key:"componentDidMount",value:function(){var e,t=this,a=null===(e=this.props.location.query)||void 0===e?void 0:e.new_idea_id;this.setLoaded(),(0,b.isString)(a)&&(setTimeout((function(){t.setState({ideaIdForSocialSharing:a})}),1500),window.history.replaceState(null,"",window.location.pathname))}},{key:"componentDidUpdate",value:function(){this.setLoaded()}},{key:"render",value:function(){var e=this.props,t=e.locale,a=e.idea,n=e.localize,i=e.ideaImages,o=e.windowSize,r=e.className,l=e.postOfficialFeedbackPermission,u=e.projectId,d=e.ideaCustomFieldsSchemas,s=e.insideModal,c=e.project,f=e.phases,p=e.compact,m=this.state,g=m.loaded,h=m.ideaIdForSocialSharing,b=m.translateButtonClicked,w=this.props.intl.formatMessage,x=null;if(!(0,y.isNilOrError)(c)&&!(0,y.isNilOrError)(a)&&!(0,y.isNilOrError)(t)&&!(0,y.isNilOrError)(d)&&g){var E,M,_,S,C,k,T,D,V,q,z,U=(null===(E=a.relationships)||void 0===E||null===(M=E.author)||void 0===M||null===(_=M.data)||void 0===_?void 0:_.id)||null,J=n(a.attributes.title_multiloc),G=null==a||null===(S=a.relationships)||void 0===S||null===(C=S.idea_status)||void 0===C||null===(k=C.data)||void 0===k?void 0:k.id,Z=(null==i||null===(T=i[0])||void 0===T||null===(D=T.attributes)||void 0===D||null===(V=D.versions)||void 0===V?void 0:V.large)||null,K=a.id,Y=null===(q=a.attributes)||void 0===q?void 0:q.proposed_budget,Q=n(null==a||null===(z=a.attributes)||void 0===z?void 0:z.body_multiloc),$=!0===p||!!o&&o<=de.viewportWidths.largeTablet,X=(0,H.default)("proposed_budget",d,t);x=v.default.createElement(v.default.Fragment,null,v.default.createElement(P.default,{ideaId:K}),!$&&v.default.createElement(Ie,null,v.default.createElement(xe,{projectId:u,insideModal:s}),v.default.createElement(A.default,{idea:a,projectId:u})),v.default.createElement(he,{id:"e2e-idea-show-page-content"},v.default.createElement(ve,null,v.default.createElement(ye,null,v.default.createElement(O.default,{postType:"idea",postId:K,title:J,locale:t,translateButtonClicked:b}),$&&v.default.createElement(we,{idea:a,projectId:u})),Z&&v.default.createElement(j.default,{src:Z,alt:"",id:"e2e-idea-image"}),v.default.createElement(ce.default,{id:"app.containers.IdeasShow.left",idea:a,locale:t,onClick:this.onTranslateIdea,translateButtonClicked:b}),X&&Y&&v.default.createElement(v.default.Fragment,null,v.default.createElement(Ee,null,v.default.createElement(ae.FormattedMessage,ie.default.proposedBudgetTitle)),v.default.createElement(_e,{proposedBudget:Y}),v.default.createElement(Ee,null,v.default.createElement(ae.FormattedMessage,ie.default.bodyTitle))),v.default.createElement(Me,{postType:"idea",postId:K,locale:t,body:Q,translateButtonClicked:b}),$&&v.default.createElement(Pe,{view:"ideaPage",ideaId:K,projectId:u}),$&&v.default.createElement(Se,{ideaId:K,projectId:u,statusId:G,authorId:U,compact:$}),$&&v.default.createElement(Oe,{ideaId:K,buttonComponent:v.default.createElement(L.default,null)}),v.default.createElement(Ce,{postId:K,postType:"idea",permissionToPost:l}),v.default.createElement(ke,null,v.default.createElement(v.Suspense,{fallback:v.default.createElement(F.default,null)},v.default.createElement(me,{postId:K,postType:"idea"})))),!$&&u&&v.default.createElement(be,{ideaId:K,projectId:u,statusId:G,authorId:U,insideModal:s})))}if(!(0,y.isNilOrError)(c)){var ee=(0,I.getInputTerm)(c.attributes.process_type,c,f);return v.default.createElement(v.default.Fragment,null,!g&&v.default.createElement(ge,{className:"loading ".concat(r||"")},v.default.createElement(W.Spinner,null)),v.default.createElement(le.default,{classNames:"content",in:g,timeout:{enter:400,exit:0},enter:!0,exit:!1},v.default.createElement(ge,{id:"e2e-idea-show",className:"loaded ".concat(r||""),ref:this.handleContainerRef},x)),v.default.createElement(R.default,{name:"ideaflow_social_sharing"},v.default.createElement(N.default,{opened:!!h,close:this.closeIdeaSocialSharingModal,hasSkipButton:!0,skipText:v.default.createElement(ae.FormattedMessage,ie.default.skipSharing)},h&&v.default.createElement(B.default,{postType:"idea",postId:h,title:w((0,re.getInputTermMessage)(ee,{idea:ie.default.sharingModalTitle,option:ie.default.optionSharingModalTitle,project:ie.default.projectSharingModalTitle,question:ie.default.questionSharingModalTitle,issue:ie.default.issueSharingModalTitle,contribution:ie.default.contributionSharingModalTitle})),subtitle:w(ie.default.sharingModalSubtitle)}))))}return null}}]),a}(v.PureComponent);t.IdeasShow=je;var Te=(0,oe.default)((0,ne.default)((0,_.withRouter)(je))),Ne=(0,w.adopt)({locale:v.default.createElement(U.default,null),authUser:v.default.createElement(ee.default,null),windowSize:v.default.createElement(Y.default,null),idea:function(e){var t=e.ideaId,a=e.render;return v.default.createElement(Z.default,{ideaId:t},a)},ideaImages:function(e){var t=e.ideaId,a=e.render;return v.default.createElement(J.default,{ideaId:t},a)},project:function(e){var t=e.projectId,a=e.render;return v.default.createElement(G.default,{projectId:t},a)},phases:function(e){var t=e.projectId,a=e.render;return v.default.createElement(K.default,{projectId:t},a)},officialFeedbacks:function(e){var t=e.ideaId,a=e.render;return v.default.createElement(Q.default,{postId:t,postType:"idea"},a)},postOfficialFeedbackPermission:function(e){var t=e.project,a=e.render;return v.default.createElement($.default,{item:(0,y.isNilOrError)(t)?null:t,action:"moderate"},a)},ideaCustomFieldsSchemas:function(e){var t=e.projectId,a=e.render;return v.default.createElement(X.default,{projectId:t},a)},comments:function(e){var t=e.ideaId,a=e.render;return v.default.createElement(te.default,{postId:t,postType:"idea"},a)}});t.default=function(e){return v.default.createElement(Ne,e,(function(t){return v.default.createElement(Te,(0,o.default)({},e,t))}))}},IEAL:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("q1tI")),o=n(a("+wgy")),r=a("KLnl"),l=a("DbO4"),u=a("Rw3A"),d=n(a("UQTo")),s=a("9FT3"),c=n(a("38aM")),f=n(a("PagR")),p=n(a("uN1B")),m=n(a("x3zm")),g=n(a("dpb+")),h=(0,u.injectIntl)((function(e){var t=e.className,a=e.ideaId,n=e.buttonComponent,u=e.intl.formatMessage,h=(0,c.default)({ideaId:a}),v=(0,r.isNilOrError)(h)?null:h.relationships.project.data.id,b=(0,m.default)({projectId:v}),y=(0,g.default)(v),w=(0,p.default)(),I=(0,f.default)();if(!(0,r.isNilOrError)(h)&&!(0,r.isNilOrError)(b)){var x=location.href,E=I(h.attributes.title_multiloc),M=(0,l.getInputTerm)(b.attributes.process_type,b,y),_=(0,r.isNilOrError)(w)?{source:"share_idea",campaign:"share_content"}:{source:"share_idea",campaign:"share_content",content:w.id};return i.default.createElement(o.default,{className:t,url:x,whatsAppMessage:u((0,s.getInputTermMessage)(M,{idea:d.default.ideaWhatsAppMessage,option:d.default.optionWhatsAppMessage,project:d.default.projectWhatsAppMessage,question:d.default.questionWhatsAppMessage,issue:d.default.issueWhatsAppMessage,contribution:d.default.contributionWhatsAppMessage}),{postTitle:E}),twitterMessage:u((0,s.getInputTermMessage)(M,{idea:d.default.ideaTwitterMessage,option:d.default.optionTwitterMessage,project:d.default.projectTwitterMessage,question:d.default.questionTwitterMessage,issue:d.default.issueTwitterMessage,contribution:d.default.contributionTwitterMessage}),{postTitle:E}),emailSubject:u((0,s.getInputTermMessage)(M,{idea:d.default.ideaEmailSharingSubject,option:d.default.optionEmailSharingSubject,project:d.default.projectEmailSharingSubject,question:d.default.questionEmailSharingSubject,issue:d.default.issueEmailSharingSubject,contribution:d.default.contributionEmailSharingSubject}),{ideaTitle:E}),emailBody:u((0,s.getInputTermMessage)(M,{idea:d.default.ideaEmailSharingBody,option:d.default.optionEmailSharingBody,project:d.default.projectEmailSharingBody,question:d.default.questionEmailSharingBody,issue:d.default.issueEmailSharingBody,contribution:d.default.contributionEmailSharingBody}),{ideaUrl:x,ideaTitle:E}),utmParams:_,buttonComponent:n})}return null}));t.default=h},IcsR:function(e,t,a){"use strict";a("SuFq"),a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("ma9I");var o,r=n(a("pVnL")),l=n(a("lwsE")),u=n(a("W8MJ")),d=n(a("PJYZ")),s=n(a("7W2i")),c=n(a("a1gu")),f=n(a("Nsbk")),p=n(a("lSNA")),m=n(a("VkAN")),g=S(a("q1tI")),h=S(a("vOnD")),v=a("96Cm"),b=a("+9pX"),y=a("ufqH"),w=a("di2/"),I=a("iP56"),x=n(a("doQp")),E=a("Rw3A"),M=n(a("mzbP"));function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(_=function(e){return e?a:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=_(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,f.default)(e);if(t){var i=(0,f.default)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,c.default)(this,a)}}var O=h.default.div.withConfig({displayName:"ProposedVoted__Container",componentId:"sitr54-0"})(["display:flex;flex-direction:column;align-items:center;"]),C=(0,h.keyframes)(["0%{transform:scale(0);opacity:1;}100%{transform:scale(1);opacity:1;}"]),k=(0,h.default)(I.Icon).withConfig({displayName:"ProposedVoted__StyledIcon",componentId:"sitr54-1"})(["fill:",";width:63px;height:63px;animation:"," 0.3s cubic-bezier(0.25,0.46,0.45,0.94) both;"],v.colors.clGreenSuccess,C),j=h.default.h4.withConfig({displayName:"ProposedVoted__VotedTitle",componentId:"sitr54-2"})(["color:",";font-size:","px;font-weight:600;text-align:center;margin:0;margin-top:25px;margin-bottom:5px;width:100%;"],(function(e){return e.theme.colorText}),v.fontSizes.base),T=h.default.p.withConfig({displayName:"ProposedVoted__VotedText",componentId:"sitr54-3"})(["color:",";font-size:","px;font-weight:300;line-height:21px;text-align:center;margin:0 0 20px 0;width:100%;"],(function(e){return e.theme.colorText}),v.fontSizes.base),N=h.default.button.withConfig({displayName:"ProposedVoted__UnvoteButton",componentId:"sitr54-4"})(["color:",";font-size:","px;text-decoration:underline;&:hover{color:",";text-decoration:underline;cursor:pointer;}"],(function(e){return e.theme.colorText}),v.fontSizes.base,(function(e){return(0,y.darken)(.12,e.theme.colorText)})),D=h.default.div.withConfig({displayName:"ProposedVoted__VoteCounter",componentId:"sitr54-5"})(["margin-top:15px;width:100%;",""],v.media.smallerThanMaxTablet(o||(o=(0,m.default)(["\n    display: none;\n  "])))),B=h.default.div.withConfig({displayName:"ProposedVoted__VoteText",componentId:"sitr54-6"})(["display:flex;justify-content:space-between;align-items:flex-start;padding-bottom:4px;"]),R=h.default.div.withConfig({displayName:"ProposedVoted__VoteTextLeft",componentId:"sitr54-7"})(["font-size:","px;color:",";"],v.fontSizes.base,v.colors.clGreyOnGreyBackground),A=h.default.div.withConfig({displayName:"ProposedVoted__VoteTextRight",componentId:"sitr54-8"})(["font-size:","px;color:",";"],v.fontSizes.base,(function(e){return e.theme.colorText})),W=(0,h.default)(x.default).withConfig({displayName:"ProposedVoted__StyledProgressBar",componentId:"sitr54-9"})(["height:12px;width:100%;"]),V=function(e){(0,s.default)(a,e);var t=P(a);function a(){var e;(0,l.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,p.default)((0,d.default)(e),"handleOnCancelVote",(function(){e.props.onCancelVote()})),e}return(0,u.default)(a,[{key:"render",value:function(){var e=this.props,t=e.initiative,a=e.initiativeSettings.voting_threshold,n=e.theme,i=t.attributes.upvotes_count,o=a,l=(0,w.getDaysRemainingUntil)(t.attributes.expires_at);return g.default.createElement(O,null,g.default.createElement(k,{ariaHidden:!0,name:"round-checkmark"}),g.default.createElement(j,null,g.default.createElement(E.FormattedMessage,M.default.votedTitle)),g.default.createElement(T,null,g.default.createElement(E.FormattedMessage,(0,r.default)({},M.default.votedText,{values:{x:l,xDays:g.default.createElement("b",null,g.default.createElement(E.FormattedMessage,(0,r.default)({},M.default.xDays,{values:{x:l}})))}}))),g.default.createElement(N,{id:"e2e-initiative-cancel-upvote-button",onClick:this.handleOnCancelVote},g.default.createElement(E.FormattedMessage,M.default.unvoteLink)),g.default.createElement(D,null,g.default.createElement(B,{"aria-hidden":!0},g.default.createElement(R,{id:"e2e-initiative-voted-vote-count"},g.default.createElement(E.FormattedMessage,(0,r.default)({},M.default.xVotes,{values:{count:i}}))),g.default.createElement(A,null,o)),g.default.createElement(b.ScreenReaderOnly,null,g.default.createElement(E.FormattedMessage,(0,r.default)({},M.default.xVotesOfY,{values:{xVotes:g.default.createElement(E.FormattedMessage,(0,r.default)({},M.default.xVotes,{values:{count:i}})),votingThreshold:o}}))),g.default.createElement(W,{progress:i/o,color:n.colorText,bgColor:v.colors.lightGreyishBlue})))}}]),a}(g.PureComponent),F=(0,h.withTheme)(V);t.default=F},JBro:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("q1tI")),o=n(a("w6e4")),r=n(a("T8eC")),l=n(a("jxG7")),u=n(a("kemx")),d=n(a("vOnD")),s=a("qGqp"),c=a("96Cm"),f=d.default.div.withConfig({displayName:"RightColumnDesktop__Container",componentId:"teggtx-0"})(["flex:0 0 ","px;width:","px;position:sticky;top:",";align-self:flex-start;"],s.rightColumnWidthDesktop,s.rightColumnWidthDesktop,(function(e){return e.insideModal?"30px":"110px"})),p=d.default.div.withConfig({displayName:"RightColumnDesktop__InnerContainer",componentId:"teggtx-1"})(["display:flex;flex-direction:column;"]),m=d.default.div.withConfig({displayName:"RightColumnDesktop__Box",componentId:"teggtx-2"})(["padding:20px;border-radius:",";background:",";margin-bottom:30px;"],(function(e){return e.theme.borderRadius}),c.colors.backgroundLightGrey),g=(0,d.default)(r.default).withConfig({displayName:"RightColumnDesktop__StyledVoting",componentId:"teggtx-3"})(["padding-bottom:23px;margin-bottom:23px;"]),h=(0,d.default)(u.default).withConfig({displayName:"RightColumnDesktop__StyledAssignBudgetControl",componentId:"teggtx-4"})(["padding-bottom:23px;margin-bottom:23px;border-bottom:solid 1px #ccc;"]),v=(0,d.default)(o.default).withConfig({displayName:"RightColumnDesktop__StyledMetaInformation",componentId:"teggtx-5"})(["margin-bottom:40px;"]),b=function(e){var t=e.ideaId,a=e.projectId,n=e.statusId,o=e.authorId,r=e.insideModal,u=e.className;return i.default.createElement(f,{insideModal:r,className:u||""},i.default.createElement(p,null,i.default.createElement(m,null,i.default.createElement(g,{ideaId:t,projectId:a}),i.default.createElement(h,{view:"ideaPage",ideaId:t,projectId:a}),i.default.createElement(l.default,{ideaId:t})),i.default.createElement(v,{ideaId:t,projectId:a,statusId:n,authorId:o})))};t.default=b},K5Dz:function(e,t,a){"use strict";a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,r=n(a("VkAN")),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=c(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),u=n(a("6L1S")),d=n(a("vOnD")),s=a("96Cm");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(c=function(e){return e?a:t})(e)}var f=d.default.div.withConfig({displayName:"IdeaProposedBudget__Container",componentId:"yjz91s-0"})(["color:",";font-size:","px;line-height:29px;font-weight:300;",""],(function(e){return e.theme.colorText}),(function(e){return e.theme.fontSizes.large}),s.media.smallerThanMinTablet(o||(o=(0,r.default)(["\n    font-size: ","px;\n  "])),(function(e){return e.theme.fontSizes.base}))),p=(0,l.memo)((function(e){var t=e.className,a=e.proposedBudget;return l.default.createElement(f,{className:t},l.default.createElement(u.default,{value:a}))}));t.default=p},"L0i+":function(e,t,a){"use strict";a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),r=n(a("XgTl")),l=a("Rw3A"),u=n(a("UQTo"));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}var s=(0,o.memo)((function(e){var t=e.className,a=e.intl.formatMessage,n=(0,o.useCallback)((function(){var e=document.getElementById("submit-comment-anchor"),t=document.getElementById("submit-comment");e&&t&&(t.focus({preventScroll:!0}),setTimeout((function(){e.scrollIntoView({behavior:"smooth",block:"start"})}),200))}),[]);return o.default.createElement(r.default,{onClick:n,className:t,buttonText:a(u.default.commentCTA),iconName:"comments"})})),c=(0,l.injectIntl)(s);t.default=c},L2JE:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("q1tI")),o=n(a("2fl8")),r=a("Rw3A"),l=n(a("UQTo")),u=(0,r.injectIntl)((function(e){var t=e.onClick,a=e.ariaExpanded,n=e.intl.formatMessage;return i.default.createElement(o.default,{buttonStyle:"white",borderColor:"#ccc",icon:"share-arrow",onClick:t,iconAriaHidden:!0,ariaExpanded:a},n(l.default.share))}));t.default=u},"LK/g":function(e,t,a){"use strict";a("SuFq"),a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,r=n(a("pVnL")),l=n(a("lwsE")),u=n(a("W8MJ")),d=n(a("7W2i")),s=n(a("a1gu")),c=n(a("Nsbk")),f=n(a("VkAN")),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=M(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),m=n(a("vOnD")),g=a("96Cm"),h=a("+9pX"),v=a("iP56"),b=a("oGDI"),y=n(a("doQp")),w=n(a("2fl8")),I=n(a("3A/8")),x=n(a("mzbP")),E=a("Rw3A");function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(M=function(e){return e?a:t})(e)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,s.default)(this,a)}}var S=m.default.div.withConfig({displayName:"Expired__Container",componentId:"sc-16rkvmd-0"})([""]),P=(0,m.default)(v.Icon).withConfig({displayName:"Expired__StatusIcon",componentId:"sc-16rkvmd-1"})(["path{fill:",";}width:30px;height:30px;margin-bottom:20px;"],g.colors.clGreyOnGreyBackground),O=m.default.div.withConfig({displayName:"Expired__VoteCounter",componentId:"sc-16rkvmd-2"})(["margin-top:15px;",""],g.media.smallerThanMaxTablet(o||(o=(0,f.default)(["\n    display: none;\n  "])))),C=m.default.div.withConfig({displayName:"Expired__VoteTexts",componentId:"sc-16rkvmd-3"})(["display:flex;justify-content:space-between;align-items:flex-start;padding-bottom:4px;"]),k=m.default.div.withConfig({displayName:"Expired__VoteText",componentId:"sc-16rkvmd-4"})(["font-size:","px;color:",";"],g.fontSizes.base,g.colors.clGreyOnGreyBackground),j=(0,m.default)(y.default).withConfig({displayName:"Expired__StyledProgressBar",componentId:"sc-16rkvmd-5"})(["height:12px;width:100%;"]),T=(0,m.default)(w.default).withConfig({displayName:"Expired__StyledButton",componentId:"sc-16rkvmd-6"})(["margin-top:20px;"]),N=function(e){(0,d.default)(a,e);var t=_(a);function a(){return(0,l.default)(this,a),t.apply(this,arguments)}return(0,u.default)(a,[{key:"render",value:function(){var e=this.props,t=e.initiative,a=e.initiativeSettings.voting_threshold,n=e.initiativeStatus,i=e.userVoted,o=t.attributes.upvotes_count,l=a;return p.default.createElement(S,null,p.default.createElement(b.StatusWrapper,null,p.default.createElement(I.default,{value:n.attributes.title_multiloc})),p.default.createElement(P,{ariaHidden:!0,name:"clock"}),p.default.createElement(b.StatusExplanation,null,p.default.createElement(E.FormattedMessage,(0,r.default)({},x.default.expiredStatusExplanation,{values:{expiredStatusExplanationBold:p.default.createElement("b",null,p.default.createElement(E.FormattedMessage,(0,r.default)({},x.default.expiredStatusExplanationBold,{values:{votingThreshold:a}})))}}))),p.default.createElement(O,null,p.default.createElement(C,{"aria-hidden":!0},p.default.createElement(k,null,p.default.createElement(E.FormattedMessage,(0,r.default)({},x.default.xVotes,{values:{count:o}}))),p.default.createElement(k,null,l)),p.default.createElement(h.ScreenReaderOnly,null,p.default.createElement(E.FormattedMessage,(0,r.default)({},x.default.xVotesOfY,{values:{xVotes:p.default.createElement(E.FormattedMessage,(0,r.default)({},x.default.xVotes,{values:{count:o}})),votingThreshold:l}}))),p.default.createElement(j,{progress:o/l,color:"linear-gradient(270deg, #84939E 0%, #C8D0D6 100%)",bgColor:g.colors.lightGreyishBlue,bgShaded:!0})),p.default.createElement(T,{icon:"halt",disabled:!0},i?p.default.createElement(E.FormattedMessage,x.default.cancelVote):p.default.createElement(E.FormattedMessage,x.default.vote)))}}]),a}(p.PureComponent);t.default=N},LL2z:function(e,t,a){"use strict";a.r(t),t.default="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4wLy9FTiIKCSJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy1TVkctMjAwMTA5MDQvRFREL3N2ZzEwLmR0ZCI+CjxzdmcgaGVpZ2h0PSIyMCIgd2lkdGg9IjIwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogIDxkZWZzPgogICAgPHBhdHRlcm4gaGVpZ2h0PSIyMCIgaWQ9Indhcm5pbmctMSIgcGF0dGVybkNvbnRlbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHBhdHRlcm5Vbml0cz0idXNlclNwYWNlT25Vc2UiIHdpZHRoPSIyMCI+CiAgICAgIDxwb2x5Z29uIHBvaW50cz0iMCwxMCAwLDAgMTAsMCIgc3R5bGU9ImZpbGw6cmdiYSgwLDAsMCwwKTsiLz4KICAgICAgPHBvbHlnb24gcG9pbnRzPSIwLDIwIDIwLDAgMTAsMCAwLDEwIiBzdHlsZT0iZmlsbDpyZ2JhKDAsMCwwLDAuMSk7Ii8+CiAgICAgIDxwb2x5Z29uIHBvaW50cz0iMTAsMjAgMjAsMTAgMjAsMjAiIHN0eWxlPSJmaWxsOnJnYmEoMCwwLDAsMC4xKTsiLz4KICAgICAgPHBvbHlnb24gcG9pbnRzPSIwLDIwIDEwLDIwIDIwLDEwIDIwLDAiIHN0eWxlPSJmaWxsOnJnYmEoMCwwLDAsMCk7Ii8+CiAgICA8L3BhdHRlcm4+CiAgPC9kZWZzPgogIDxyZWN0IGZpbGw9InVybCgjd2FybmluZy0xKSIgaGVpZ2h0PSIyMCIgd2lkdGg9IjIwIiB4PSIwIiB5PSIwIi8+Cjwvc3ZnPgo="},Lj9J:function(e,t,a){"use strict";a("tkto"),a("pNMO"),a("TeQF"),a("5DmW"),a("FZtP"),a("27RR"),a("ENF9");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a("pVnL")),r=n(a("lSNA")),l=n(a("J4zp")),u=n(a("VkAN"));a("4mDm"),a("07d7"),a("5s+n"),a("PKPk"),a("3bBZ");var d,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=b(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),c=a("KLnl"),f=a("iP56"),p=n(a("Yjdl")),m=n(a("I9mC")),g=a("04NW"),h=n(a("vOnD")),v=a("96Cm");function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(b=function(e){return e?a:t})(e)}function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var w=(0,s.lazy)((function(){return Promise.all([a.e(12),a.e(115),a.e(97)]).then(a.t.bind(null,"YkGb",7))})),I=h.default.div.withConfig({displayName:"Map__Container",componentId:"sc-1a1d6xp-0"})(["",";background:transparent;border:solid 1px #ccc;"],v.defaultCardStyle),x=h.default.div.withConfig({displayName:"Map__MapWrapper",componentId:"sc-1a1d6xp-1"})(["flex:1;display:flex;position:relative;"]),E=h.default.div.withConfig({displayName:"Map__BoxContainer",componentId:"sc-1a1d6xp-2"})(["display:flex;flex-direction:column;align-items:stretch;position:absolute;top:0;z-index:1001;background:#fff;width:100%;height:80%;max-height:550px;"]),M=h.default.button.withConfig({displayName:"Map__CloseButton",componentId:"sc-1a1d6xp-3"})(["width:28px;height:28px;position:absolute;top:10px;right:10px;cursor:pointer;margin:0;padding:0;display:flex;justify-content:center;align-items:center;z-index:2;border-radius:50%;border:solid 1px transparent;background:#fff;transition:all 100ms ease-out;outline:none !important;&:hover{background:#ececec;}&.focus-visible{",";}",""],v.defaultOutline,v.media.smallerThanMinTablet(d||(d=(0,u.default)(["\n    top: 4px;\n    right: 4px;\n  "])))),_=(0,h.default)(f.Icon).withConfig({displayName:"Map__CloseIcon",componentId:"sc-1a1d6xp-4"})(["width:12px;height:12px;fill:#000;"]),S=(0,s.memo)((function(e){var t=e.projectId,a=e.centerLatLng,n=e.zoomLevel,i=e.mapHeight,u=e.points,d=e.noMarkerClustering,f=e.zoomControlPosition,h=e.layersControlPosition,v=e.boxContent,b=e.onInit,S=e.onBoxClose,P=e.className,O=e.hideLegend,C=(0,m.default)(),k=(0,s.useState)(null),j=(0,l.default)(k,2),T=j[0],N=j[1],D=(0,s.useMemo)((function(){return(0,g.getCenter)(a,C)}),[a,C]),B=(0,s.useMemo)((function(){return(0,g.getZoomLevel)(n,C)}),[n,C]),R=(0,s.useMemo)((function(){return(0,g.getTileProvider)(C)}),[C]),A=(0,s.useMemo)((function(){return(0,g.getTileOptions)()}),[R]),W=(0,s.useMemo)((function(){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({points:u,noMarkerClustering:d,zoom:B,center:D,tileProvider:R,tileOptions:A,zoomControlPosition:f,layersControlPosition:h},T)}),[u,d,B,D,R,A,f,h,T]),V=(0,s.useCallback)((function(e){N(e)}),[]);return s.default.createElement(I,{className:P||""},s.default.createElement(x,null,!(0,c.isNilOrError)(v)&&s.default.createElement(E,null,s.default.createElement(M,{onClick:function(e){e.preventDefault(),null==S||S(e)}},s.default.createElement(_,{name:"close"})),v),s.default.createElement(s.Suspense,{fallback:!1},s.default.createElement(w,(0,o.default)({id:"mapid",className:"e2e-leafletmap",mapHeight:i,onInit:function(e){null==b||b(e)}},W))),s.default.createElement(p.default,{id:"app.components.Map.leafletConfig",projectId:t,onLeafletConfigChange:V,centerLatLng:a,zoomLevel:n,points:u})),!O&&s.default.createElement(p.default,{id:"app.components.Map.Legend",projectId:t}))}));t.default=S},LoHC:function(e,t,a){"use strict";a("PKPk"),a("ENF9"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("yWo2"),a("2B1R"),a("4mDm"),a("07d7"),a("3bBZ");var o,r=n(a("pVnL")),l=n(a("VkAN")),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=v(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),d=n(a("V3HD")),s=a("Rw3A"),c=n(a("d1qu")),f=a("iP56"),p=n(a("jWBj")),m=n(a("vOnD")),g=a("96Cm"),h=a("ufqH");function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(v=function(e){return e?a:t})(e)}var b=m.default.div.withConfig({displayName:"Breadcrumbs__Container",componentId:"sc-8a88sp-0"})(["width:100%;display:flex;align-items:center;"]),y=(0,m.default)(p.default).withConfig({displayName:"Breadcrumbs__HomeLink",componentId:"sc-8a88sp-1"})(["width:16px;"]),w=(0,m.default)(f.Icon).withConfig({displayName:"Breadcrumbs__HomeIcon",componentId:"sc-8a88sp-2"})(["flex:0 0 14px;height:14px;fill:",";margin-top:-3px;&:hover{fill:",";}"],g.colors.label,(0,h.darken)(.25,g.colors.label)),I=m.default.div.withConfig({displayName:"Breadcrumbs__Separator",componentId:"sc-8a88sp-3"})(["margin:0 15px;font-size:","px;font-weight:300;line-height:normal;",""],g.fontSizes.large,g.media.smallerThanMaxTablet(o||(o=(0,l.default)(["\n    margin: 0 10px;\n  "])))),x=(0,m.default)(p.default).withConfig({displayName:"Breadcrumbs__StyledLink",componentId:"sc-8a88sp-4"})(["font-size:","px;color:",";text-decoration:none;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;&:hover{color:",";text-decoration:underline;}"],g.fontSizes.small,g.colors.label,(0,h.darken)(.2,g.colors.label)),E=m.default.span.withConfig({displayName:"Breadcrumbs__LinkText",componentId:"sc-8a88sp-5"})([""]);var M=(0,u.memo)((function(e){var t=e.localize,a=e.intl,n=e.className,i=e.links,o=e.postType;return u.default.createElement(b,{className:n},u.default.createElement(y,{id:"e2e-home-page-link",to:"/"},u.default.createElement(w,{title:a.formatMessage(c.default.linkToHomePage),name:"homeFilled"})),u.default.createElement(I,null,"/"),i.map((function(e){return u.default.createElement(x,{key:e.to,id:"e2e-".concat(o,"-other-link"),to:e.to},u.default.createElement(E,null,void 0!==e.text.message?u.default.createElement(s.FormattedMessage,(0,r.default)({},e.text.message,{values:e.text.values})):t(e.text)))})))})),_=(0,s.injectIntl)((0,d.default)(M));t.default=_},LvTI:function(e,t,a){"use strict";a("SuFq"),a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("ma9I");var o,r=n(a("pVnL")),l=n(a("lwsE")),u=n(a("W8MJ")),d=n(a("PJYZ")),s=n(a("7W2i")),c=n(a("a1gu")),f=n(a("Nsbk")),p=n(a("lSNA")),m=n(a("VkAN")),g=S(a("q1tI")),h=S(a("vOnD")),v=a("96Cm"),b=a("iP56"),y=a("oGDI"),w=n(a("doQp")),I=n(a("2fl8")),x=n(a("3A/8")),E=n(a("mzbP")),M=a("Rw3A");function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(_=function(e){return e?a:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=_(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,f.default)(e);if(t){var i=(0,f.default)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,c.default)(this,a)}}var O=h.default.div.withConfig({displayName:"Ineligible__Container",componentId:"sc-145mpu-0"})([""]),C=(0,h.default)(b.Icon).withConfig({displayName:"Ineligible__StatusIcon",componentId:"sc-145mpu-1"})(["path{fill:",";}width:30px;height:30px;margin-bottom:20px;"],v.colors.clGreyOnGreyBackground),k=h.default.div.withConfig({displayName:"Ineligible__VoteCounter",componentId:"sc-145mpu-2"})(["margin-top:15px;",""],v.media.smallerThanMaxTablet(o||(o=(0,m.default)(["\n    display: none;\n  "])))),j=h.default.div.withConfig({displayName:"Ineligible__VoteTexts",componentId:"sc-145mpu-3"})(["display:flex;justify-content:space-between;align-items:flex-start;padding-bottom:4px;"]),T=h.default.div.withConfig({displayName:"Ineligible__VoteText",componentId:"sc-145mpu-4"})(["font-size:","px;color:",";"],v.fontSizes.base,v.colors.clGreyOnGreyBackground),N=(0,h.default)(w.default).withConfig({displayName:"Ineligible__StyledProgressBar",componentId:"sc-145mpu-5"})(["height:12px;width:100%;"]),D=(0,h.default)(I.default).withConfig({displayName:"Ineligible__StyledButton",componentId:"sc-145mpu-6"})(["margin-top:20px;"]),B=function(e){(0,s.default)(a,e);var t=P(a);function a(){var e;(0,l.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,p.default)((0,d.default)(e),"handleOnReadAnswer",(function(){e.props.onScrollToOfficialFeedback()})),e}return(0,u.default)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.initiative,n=t.initiativeSettings,i=n.eligibility_criteria,o=n.voting_threshold,l=t.initiativeStatus,u=a.attributes.upvotes_count,d=o;return g.default.createElement(O,null,g.default.createElement(y.StatusWrapper,null,g.default.createElement(x.default,{value:l.attributes.title_multiloc})),g.default.createElement(C,{ariaHidden:!0,name:"halt"}),g.default.createElement(y.StatusExplanation,null,g.default.createElement(M.FormattedMessage,(0,r.default)({},E.default.ineligibleStatusExplanation,{values:{ineligibleStatusExplanationBold:g.default.createElement("b",null,g.default.createElement(M.FormattedMessage,E.default.ineligibleStatusExplanationBold))}}),(function(t){return g.default.createElement(g.default.Fragment,null,t,i&&g.default.createElement(b.IconTooltip,{icon:"info",iconColor:e.props.theme.colorText,theme:"light",placement:"bottom",content:g.default.createElement(x.default,{value:i,supportHtml:!0})}))}))),g.default.createElement(k,null,g.default.createElement(j,null,g.default.createElement(T,null,g.default.createElement(M.FormattedMessage,(0,r.default)({},E.default.xVotes,{values:{count:u}}))),g.default.createElement(T,null,d)),g.default.createElement(N,{progress:u/d,color:"linear-gradient(270deg, #84939E 0%, #C8D0D6 100%)",bgColor:v.colors.lightGreyishBlue})),g.default.createElement(D,{onClick:this.handleOnReadAnswer},g.default.createElement(M.FormattedMessage,E.default.readAnswer)))}}]),a}(g.PureComponent),R=(0,h.withTheme)(B);t.default=R},MqdI:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("q1tI")),o=n(a("XgTl")),r=a("Rw3A"),l=n(a("UQTo")),u=(0,r.injectIntl)((function(e){var t=e.intl.formatMessage,a=e.onClick,n=e.ariaExpanded;return i.default.createElement(o.default,{iconName:"share-arrow",buttonText:t(l.default.share),onClick:a,ariaExpanded:n})}));t.default=u},N6Fc:function(e,t,a){"use strict";a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("yWo2");var o,r,l,u=n(a("J4zp")),d=n(a("VkAN")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=M(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),c=n(a("vOnD")),f=a("ufqH"),p=n(a("38aM")),m=a("KLnl"),g=a("T89o"),h=a("iP56"),v=n(a("1hFV")),b=n(a("Lj9J")),y=a("akep"),w=a("04NW"),I=a("Rw3A"),x=n(a("AJij")),E=a("96Cm");function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(M=function(e){return e?a:t})(e)}var _=c.default.div.withConfig({displayName:"Location__Container",componentId:"sc-1hw9j5c-0"})(["display:flex;align-items:center;",""],(0,E.isRtl)(o||(o=(0,d.default)(["\n    flex-direction: row-reverse;\n  "])))),S=(0,c.default)(h.Icon).withConfig({displayName:"Location__StyledIcon",componentId:"sc-1hw9j5c-1"})(["flex:0 0 16px;width:16px;fill:",";margin-right:8px;",""],h.colors.label,(0,E.isRtl)(r||(r=(0,d.default)(["\n    margin-right: 0;\n    margin-left: 8px;\n  "])))),P=c.default.button.withConfig({displayName:"Location__OpenMapModalButton",componentId:"sc-1hw9j5c-2"})(["color:",";font-size:","px;line-height:22px;text-decoration:underline;text-align:left;margin:0;padding:0;border:none;appearance:none;cursor:pointer;&:hover{color:",";}"],h.colors.label,E.fontSizes.small,(0,f.darken)(.2,h.colors.label)),O=c.default.div.withConfig({displayName:"Location__Address",componentId:"sc-1hw9j5c-3"})(["width:calc(100% - 35px);overflow-wrap:break-word;word-wrap:break-word;word-break:break-word;"]),C=c.default.div.withConfig({displayName:"Location__MapContainer",componentId:"sc-1hw9j5c-4"})(["padding:30px;",""],E.media.smallerThanMinTablet(l||(l=(0,d.default)(["\n    padding: 20px;\n  "])))),k=(0,s.memo)((function(e){var t,a,n,i=e.intl.formatMessage,o=e.projectId,r=e.ideaId,l=e.compact,d=e.className,c=(0,s.useState)(!1),f=(0,u.default)(c,2),h=f[0],I=f[1],E=(0,p.default)({ideaId:r}),M=!(0,m.isNilOrError)(E)&&(null===(t=E.attributes)||void 0===t?void 0:t.location_point_geojson)||null,k=(null==M||null===(a=M.coordinates)||void 0===a?void 0:a[1])||null,j=(null==M||null===(n=M.coordinates)||void 0===n?void 0:n[0])||null,T=(0,m.isNilOrError)(E)?null:(0,w.getAddressOrFallbackDMS)(E.attributes.location_description,E.attributes.location_point_geojson),N=(0,s.useMemo)((function(){return M?[M]:void 0}),[M]),D=(0,s.useMemo)((function(){if(!(0,g.isNil)(k)&&!(0,g.isNil)(j))return[k,j]}),[k,j]);return T&&N?s.default.createElement(y.Item,{className:d||"",compact:l},s.default.createElement(y.Header,null,i(x.default.location)),s.default.createElement(_,null,s.default.createElement(S,{name:"position",ariaHidden:!0}),s.default.createElement(P,{id:"e2e-map-popup",onClick:function(){I(!0)}},T)),s.default.createElement(v.default,{opened:h,close:function(){I(!1)},header:s.default.createElement(O,null,T),width:1150},s.default.createElement(C,null,s.default.createElement(b.default,{projectId:o,points:N,centerLatLng:D,zoomLevel:15})))):null})),j=(0,I.injectIntl)(k);t.default=j},"NHb+":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("sMBO");var i,o=n(a("VkAN")),r=n(a("q1tI")),l=n(a("Awes")),u=a("kb9m"),d=n(a("vOnD")),s=a("96Cm"),c=a("ufqH"),f=a("iP56"),p=n(a("54aW")),m=n(a("Vc6n")),g=n(a("aWpN")),h=n(a("8cOi")),v=n(a("ea/E")),b=a("KuRP"),y=d.default.div.withConfig({displayName:"SharingDropdownContent__Container",componentId:"sc-1vpdjs7-0"})(["display:flex;flex-direction:column;.sharingButton{display:flex;align-items:center;padding:10px 12px;border-radius:",";cursor:pointer;transition:all 100ms ease-out;text-align:left;color:",";font-size:","px;&:hover{background-color:",";}&.messenger{","}}"],(function(e){return e.theme.borderRadius}),s.colors.label,s.fontSizes.base,(0,c.darken)(.06,"white"),s.media.biggerThanMaxTablet(i||(i=(0,o.default)(["\n        display: none;\n      "])))),w=(0,d.default)(f.Icon).withConfig({displayName:"SharingDropdownContent__FacebookIcon",componentId:"sc-1vpdjs7-1"})(["width:22px;height:18px;margin-right:10px;fill:#3c5a99;"]),I=(0,d.default)(f.Icon).withConfig({displayName:"SharingDropdownContent__MessengerIcon",componentId:"sc-1vpdjs7-2"})(["width:22px;height:18px;margin-right:10px;fill:rgba(0,120,255,1);"]),x=(0,d.default)(f.Icon).withConfig({displayName:"SharingDropdownContent__WhatsAppIcon",componentId:"sc-1vpdjs7-3"})(["width:22px;height:22px;fill:#23b43a;margin-right:10px;"]),E=(0,d.default)(f.Icon).withConfig({displayName:"SharingDropdownContent__TwitterIcon",componentId:"sc-1vpdjs7-4"})(["width:22px;height:17px;fill:#1da1f2;margin-right:10px;"]),M=(0,d.default)(f.Icon).withConfig({displayName:"SharingDropdownContent__EmailIcon",componentId:"sc-1vpdjs7-5"})(["margin-right:10px;width:22px;height:17px;fill:",";"],s.colors.secondaryText),_=function(e){var t=e.id,a=e.url,n=e.className,i=e.utmParams,o=e.emailBody,d=e.emailSubject,s=e.twitterMessage,c=e.whatsAppMessage,f=function(e){return(0,u.getUrlWithUtm)(e,a,i)},_=function(e){return function(){(0,b.trackEventByName)(l.default.shareButtonClicked.name,{network:e})}},S=r.default.createElement(p.default,{url:f("facebook"),className:"sharingButton facebook",onClick:_("facebook")},r.default.createElement(w,{ariaHidden:!0,name:"facebook"}),r.default.createElement("span",{"aria-hidden":!0},"Facebook")),P=r.default.createElement(g.default,{className:"sharingButton messenger",onClick:_("messenger"),url:f("messenger")},r.default.createElement(I,{ariaHidden:!0,name:"messenger"}),r.default.createElement("span",{"aria-hidden":!0},"Messenger")),O=r.default.createElement(h.default,{className:"sharingButton whatsapp",onClick:_("whatsapp"),url:f("whatsapp"),whatsAppMessage:c},r.default.createElement(x,{ariaHidden:!0,name:"whatsapp"}),r.default.createElement("span",{"aria-hidden":!0},"WhatsApp")),C=r.default.createElement(m.default,{twitterMessage:s,url:f("twitter"),className:"sharingButton twitter",onClick:_("twitter")},r.default.createElement(E,{ariaHidden:!0,name:"twitter"}),r.default.createElement("span",{"aria-hidden":!0},"Twitter")),k=r.default.createElement(v.default,{className:"sharingButton email",onClick:_("email"),emailBody:o,emailSubject:d},r.default.createElement(M,{ariaHidden:!0,name:"email"}),r.default.createElement("span",{"aria-hidden":!0},"Email"));return r.default.createElement(y,{id:t||"",className:n||""},S,P,O,C,k)};t.default=_},NSTN:function(e,t,a){"use strict";a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a("J4zp")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=w(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),l=n(a("JUYq")),u=a("KLnl"),d=n(a("N4mL")),s=n(a("6yyz")),c=n(a("1hFV")),f=n(a("baeH")),p=n(a("uN1B")),m=n(a("x3zm")),g=a("Rw3A"),h=n(a("UQTo")),v=n(a("sL4G")),b=a("ngE2"),y=n(a("vOnD"));function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(w=function(e){return e?a:t})(e)}var I=y.default.div.withConfig({displayName:"IdeaMoreActions__Container",componentId:"ow1q2t-0"})([""]),x=y.default.div.withConfig({displayName:"IdeaMoreActions__MoreActionsMenuWrapper",componentId:"ow1q2t-1"})(["display:flex;align-items:center;"]),E=(0,r.memo)((function(e){var t=e.idea,a=e.className,n=e.projectId,i=e.intl.formatMessage,v=(0,r.useState)(!1),y=(0,o.default)(v,2),w=y[0],E=y[1],M=(0,p.default)(),_=(0,m.default)({projectId:n}),S=function(){E(!0)};if(!(0,u.isNilOrError)(M)&&!(0,u.isNilOrError)(t)&&!(0,u.isNilOrError)(_)){var P=t.id,O=_.attributes.process_type;return r.default.createElement(I,{className:a},r.default.createElement(x,null,r.default.createElement(d.default,{item:t,action:"edit",context:t},r.default.createElement(s.default,{ariaLabel:r.default.createElement(g.FormattedMessage,h.default.moreOptions),id:"e2e-idea-more-actions",actions:[{label:r.default.createElement(g.FormattedMessage,h.default.reportAsSpam),handler:S},{label:r.default.createElement(g.FormattedMessage,h.default.editPost),handler:function(){l.default.push("/ideas/edit/".concat(t.id))}},{label:r.default.createElement(g.FormattedMessage,h.default.deletePost),handler:function(e,t){return function(){var a={continuous:h.default.deleteInputConfirmation,timeline:h.default.deleteInputInTimelineConfirmation}[t];window.confirm(i(a))&&((0,b.deleteIdea)(e),l.default.goBack())}}(P,O)}]}),r.default.createElement(d.default.No,null,r.default.createElement(s.default,{id:"e2e-idea-more-actions",actions:[{label:r.default.createElement(g.FormattedMessage,h.default.reportAsSpam),handler:S}],ariaLabel:r.default.createElement(g.FormattedMessage,h.default.moreOptions)})))),r.default.createElement(c.default,{opened:w,close:function(){E(!1)},header:r.default.createElement(g.FormattedMessage,h.default.reportAsSpamModalTitle)},r.default.createElement(f.default,{resourceId:t.id,resourceType:"ideas"})))}return null})),M=(0,v.default)(E);t.default=M},"Nvc/":function(e,t,a){"use strict";a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a("pVnL"));a("ma9I"),a("sMBO");var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=M(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),l=a("ifvJ"),u=a("T89o"),d=a("qhky"),s=n(a("yiTP")),c=n(a("yYlr")),f=n(a("YLV/")),p=n(a("FSVo")),m=n(a("PC5P")),g=n(a("bc9h")),h=n(a("r5eU")),v=a("Rw3A"),b=n(a("V3HD")),y=a("N1C2"),w=a("KLnl"),I=a("1YJs"),x=n(a("wbnS")),E=n(a("+YyL"));function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(M=function(e){return e?a:t})(e)}var _=(0,r.memo)((function(e){var t=e.initiative,a=e.locale,n=e.tenant,i=e.authUser,o=e.initiativeImages,l=e.author,u=e.localize,s=e.intl.formatMessage;if(!(0,w.isNilOrError)(a)&&!(0,w.isNilOrError)(n)&&!(0,w.isNilOrError)(t)){var c=t.attributes,f=c.title_multiloc,p=c.body_multiloc,m=n.attributes.settings.core.locales,g=u(f,50),v=s(h.default.metaTitle,{initiativeTitle:g}),b=(0,y.stripHtml)(u(p),250),M=!(0,w.isNilOrError)(o)&&o.length>0?o[0].attributes.versions.fb:null,_=window.location.href,S=s(h.default.metaOgTitle,{initiativeTitle:g}),P={"@type":"Article",image:M,headline:v,author:(0,w.isNilOrError)(l)?"anonymous":"".concat(l.attributes.first_name," ").concat(l.attributes.last_name),mainEntityOfPage:{"@type":"WebPage","@id":_},datePublished:t.attributes.published_at},O={"@context":"http://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,item:{"@id":n.attributes.host,name:n.attributes.name,image:n.attributes.logo?n.attributes.logo.large:null}},{"@type":"ListItem",position:4,item:{"@id":"".concat(n.attributes.host,"/initiatives"),name:"Initiatives"}}]};return r.default.createElement(d.Helmet,null,r.default.createElement("title",null,"\n            ".concat(i&&i.attributes.unread_notifications?"(".concat(i.attributes.unread_notifications,") "):"","\n            ").concat(v)),(0,E.default)(),(0,x.default)(m),r.default.createElement("meta",{name:"title",content:v}),r.default.createElement("meta",{name:"description",content:b}),r.default.createElement("meta",{property:"og:type",content:"article"}),r.default.createElement("meta",{property:"og:title",content:S}),r.default.createElement("meta",{property:"og:description",content:s(h.default.initiativeOgDescription)}),M&&r.default.createElement("meta",{property:"og:image",content:M}),r.default.createElement("meta",{property:"og:image:width",content:"".concat(I.imageSizes.initiativeImg.fb[0])}),r.default.createElement("meta",{property:"og:image:height",content:"".concat(I.imageSizes.initiativeImg.fb[1])}),r.default.createElement("meta",{name:"twitter:title",content:S}),r.default.createElement("meta",{name:"twitter:description",content:s(h.default.initiativeOgDescription)}),M&&r.default.createElement("meta",{name:"twitter:image",content:M}),r.default.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),M&&r.default.createElement("script",{type:"application/ld+json"},JSON.stringify(P)),r.default.createElement("script",{type:"application/ld+json"},JSON.stringify(O)),r.default.createElement("meta",{property:"og:url",content:_}),r.default.createElement("meta",{property:"og:locale",content:a}))}return null})),S=(0,l.adopt)({initiative:function(e){var t=e.initiativeId,a=e.render;return r.default.createElement(p.default,{id:t},a)},initiativeImages:function(e){var t=e.initiativeId,a=e.render;return r.default.createElement(g.default,{initiativeId:t},a)},author:function(e){var t=e.initiative,a=e.render;return r.default.createElement(m.default,{id:(0,u.get)(t,"relationships.author.data.id",null)},a)},locale:r.default.createElement(s.default,null),tenant:r.default.createElement(c.default,null),authUser:r.default.createElement(f.default,null)}),P=(0,v.injectIntl)((0,b.default)(_));t.default=function(e){return r.default.createElement(S,e,(function(t){return r.default.createElement(P,(0,o.default)({},e,t))}))}},OjWy:function(e,t,a){"use strict";a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("sMBO");var o,r=n(a("VkAN")),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=c(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),u=n(a("vOnD")),d=a("ufqH"),s=a("iP56");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(c=function(e){return e?a:t})(e)}var f=u.default.div.withConfig({displayName:"Attachment__Container",componentId:"sc-14m5gdd-0"})(["display:flex;align-items:center;"]),p=u.default.a.withConfig({displayName:"Attachment__FileDownloadLink",componentId:"sc-14m5gdd-1"})(["color:",";display:inline-block;margin-right:10px;hyphens:auto;text-decoration:underline;&:hover{color:",";text-decoration:underline;}",""],s.colors.label,(0,d.darken)(.2,s.colors.label),s.media.smallerThanMinTablet(o||(o=(0,r.default)(["\n    margin-right: 0;\n  "])))),m=(0,u.default)(s.Icon).withConfig({displayName:"Attachment__PaperclipIcon",componentId:"sc-14m5gdd-2"})(["width:12px;height:20px;fill:",";margin-right:10px;"],s.colors.label),g=(0,l.memo)((function(e){var t=e.className,a=e.file;return l.default.createElement(f,{className:t},l.default.createElement(m,{name:"paperclip",ariaHidden:!0}),l.default.createElement(p,{href:a.attributes.file.url,download:a.attributes.name,target:"_blank",rel:"noopener noreferrer"},a.attributes.name))}));t.default=g},OrE6:function(e,t,a){"use strict";a("SuFq"),a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("ma9I");var o,r,l=n(a("pVnL")),u=n(a("lwsE")),d=n(a("W8MJ")),s=n(a("PJYZ")),c=n(a("7W2i")),f=n(a("a1gu")),p=n(a("Nsbk")),m=n(a("lSNA")),g=n(a("VkAN")),h=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=q(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),v=n(a("vOnD")),b=a("ifvJ"),y=a("KLnl"),w=a("96Cm"),I=a("+9pX"),x=a("Rw3A"),E=n(a("wd/R")),M=n(a("mzbP")),_=n(a("FSVo")),S=n(a("Z94D")),P=n(a("yYlr")),O=n(a("YLV/")),C=a("uPkB"),k=n(a("PQA5")),j=n(a("IcsR")),T=n(a("LK/g")),N=n(a("EW5Z")),D=n(a("u/sY")),B=n(a("LvTI")),R=n(a("fQSr")),A=a("q3BX"),W=n(a("3SKu")),V=a("KuRP"),F=a("iH/W");function q(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(q=function(e){return e?a:t})(e)}function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,p.default)(e);if(t){var i=(0,p.default)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,f.default)(this,a)}}var z=v.default.div.withConfig({displayName:"VoteControl__Container",componentId:"i7gv70-0"})([""," ",""],w.media.biggerThanMaxTablet(o||(o=(0,g.default)(["\n    margin-bottom: 45px;\n    padding: 35px;\n    border: 1px solid #e0e0e0;\n    ",";\n  "])),w.defaultCardStyle),w.media.smallerThanMaxTablet(r||(r=(0,g.default)(["\n    padding: 15px;\n  "])))),H={proposed:{voted:j.default,notVoted:k.default},expired:{voted:T.default,notVoted:T.default},threshold_reached:{voted:N.default,notVoted:N.default},answered:{voted:D.default,notVoted:D.default},ineligible:{voted:B.default,notVoted:B.default},custom:{voted:R.default,notVoted:R.default}},U=function(e){(0,c.default)(a,e);var t=L(a);function a(){var e;(0,u.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,m.default)((0,s.default)(e),"handleOnvote",(function(){var t=e.props.votingPermission;switch(null==t?void 0:t.action){case"sign_in_up":(0,V.trackEventByName)("Sign up/in modal opened in response to clicking vote initiative"),(0,A.openSignUpInModal)({flow:"signup",verification:!1,verificationContext:void 0,action:function(){return e.vote()}});break;case"sign_in_up_and_verify":(0,V.trackEventByName)("Sign up/in modal opened in response to clicking vote initiative"),(0,A.openSignUpInModal)({flow:"signup",verification:!0,verificationContext:{type:"initiative",action:"voting_initiative"},action:function(){return e.vote()}});break;case"verify":(0,V.trackEventByName)("Verification modal opened in response to clicking vote initiative"),(0,F.openVerificationModal)({context:{action:"voting_initiative",type:"initiative"}});break;default:e.vote()}})),(0,m.default)((0,s.default)(e),"vote",(function(){var t=e.props.initiative;(0,y.isNilOrError)(t)||(0,C.addVote)(t.id,{mode:"up"})})),(0,m.default)((0,s.default)(e),"handleOnCancelVote",(function(){var t,a,n,i=e.props.initiative;!(0,y.isNilOrError)(i)&&null!==(t=i.relationships)&&void 0!==t&&null!==(a=t.user_vote)&&void 0!==a&&null!==(n=a.data)&&void 0!==n&&n.id&&(0,C.deleteVote)(i.id,i.relationships.user_vote.data.id)})),e}return(0,d.default)(a,[{key:"render",value:function(){var e=this.props,t=e.initiative,a=e.initiativeStatus,n=e.tenant,i=e.className,o=e.onScrollToOfficialFeedback,r=e.id,u=e.votingPermission;if((0,y.isNilOrError)(t)||(0,y.isNilOrError)(a)||(0,y.isNilOrError)(n)||!n.attributes.settings.initiatives)return null;var d=(0,E.default)(t.attributes.expires_at,"YYYY-MM-DDThh:mm:ss.SSSZ"),s=E.default.duration(d.diff((0,E.default)())).asSeconds()<0,c="proposed"===a.attributes.code&&s?"expired":a.attributes.code,f=!(!t.relationships.user_vote||!t.relationships.user_vote.data),p=H[c][f?"voted":"notVoted"],m=n.attributes.settings.initiatives;return h.default.createElement(z,{id:r||"",className:i||"","aria-live":"polite"},h.default.createElement(I.ScreenReaderOnly,null,h.default.createElement(x.FormattedMessage,(0,l.default)({tagName:"h3"},M.default.invisibleTitle))),h.default.createElement(p,{initiative:t,initiativeStatus:a,initiativeSettings:m,userVoted:f,onVote:this.handleOnvote,onCancelVote:this.handleOnCancelVote,onScrollToOfficialFeedback:o,disabledReason:null==u?void 0:u.disabledReason}))}}]),a}(h.PureComponent),J=(0,b.adopt)({tenant:h.default.createElement(P.default,null),authUser:h.default.createElement(O.default,null),initiative:function(e){var t=e.initiativeId,a=e.render;return h.default.createElement(_.default,{id:t},a)},initiativeStatus:function(e){var t=e.initiative,a=e.render;return!(0,y.isNilOrError)(t)&&t.relationships.initiative_status&&t.relationships.initiative_status.data?h.default.createElement(S.default,{id:t.relationships.initiative_status.data.id},a):null},votingPermission:h.default.createElement(W.default,{action:"voting_initiative"})});t.default=function(e){return h.default.createElement(J,e,(function(t){return h.default.createElement(U,(0,l.default)({},e,t))}))}},OsxD:function(e,t,a){"use strict";a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,r,l=n(a("VkAN")),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),d=n(a("JUYq")),s=a("KLnl"),c=n(a("38aM")),f=n(a("x3zm")),p=n(a("uN1B")),m=n(a("CmRk")),g=a("iP56"),h=n(a("IAnr")),v=a("iH/W"),b=a("Rw3A"),y=n(a("mWLo")),w=n(a("vOnD")),I=a("96Cm"),x=a("ufqH");function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}var M=w.default.div.withConfig({displayName:"IdeaShowPageTopBar__Container",componentId:"sc-1mokc9a-0"})(["flex:0 0 ","px;height:","px;background-color:#fff;border-bottom:solid 1px ",";"],(function(e){return e.theme.mobileTopBarHeight}),(function(e){return e.theme.mobileTopBarHeight}),(0,x.lighten)(.3,I.colors.label)),_=w.default.div.withConfig({displayName:"IdeaShowPageTopBar__TopBarInner",componentId:"sc-1mokc9a-1"})(["height:100%;padding-left:15px;padding-right:15px;position:relative;display:flex;align-items:center;justify-content:space-between;",""],I.media.biggerThanMinTablet(o||(o=(0,l.default)(["\n    padding-left: 30px;\n    padding-right: 30px;\n  "])))),S=w.default.div.withConfig({displayName:"IdeaShowPageTopBar__Left",componentId:"sc-1mokc9a-2"})(["height:48px;align-items:center;display:flex;"]),P=w.default.div.withConfig({displayName:"IdeaShowPageTopBar__Right",componentId:"sc-1mokc9a-3"})([""]),O=(0,w.default)(g.Icon).withConfig({displayName:"IdeaShowPageTopBar__GoBackIcon",componentId:"sc-1mokc9a-4"})(["height:22px;fill:",";display:flex;align-items:center;justify-content:center;transition:fill 100ms ease-out;"],I.colors.label),C=w.default.button.withConfig({displayName:"IdeaShowPageTopBar__GoBackButton",componentId:"sc-1mokc9a-5"})(["width:45px;height:45px;display:flex;align-items:center;justify-content:center;padding:0;margin:0;margin-right:6px;margin-left:-2px;cursor:pointer;background:#fff;border-radius:50%;transition:all 100ms ease-out;border:solid 1px ",";&:hover{border-color:#000;","{fill:#000;}}"],(0,x.lighten)(.2,I.colors.label),O),k=w.default.div.withConfig({displayName:"IdeaShowPageTopBar__GoBackLabel",componentId:"sc-1mokc9a-6"})(["color:",";font-size:","px;font-weight:400;transition:fill 100ms ease-out;",""],I.colors.label,I.fontSizes.base,I.media.phone(r||(r=(0,l.default)(["\n    display: none;\n  "])))),j=(0,u.memo)((function(e){var t=e.ideaId,a=e.insideModal,n=e.goBackAction,i=e.className,o=(0,p.default)(),r=(0,c.default)({ideaId:t}),l=(0,f.default)({projectId:(0,s.isNilOrError)(r)?null:r.relationships.project.data.id}),g=(0,u.useCallback)((function(e){e.preventDefault(),n?null==n||n():a?h.default.emit("closeIdeaModal"):(0,s.isNilOrError)(l)?d.default.push("/"):d.default.push("/projects/".concat(l.attributes.slug))}),[a,l,n]),w=(0,u.useCallback)((function(e){if(!(0,s.isNilOrError)(o)&&!(0,s.isNilOrError)(l)&&"not_verified"===e){var t,a,n,i="continuous"===l.attributes.process_type?"project":"phase",r=(null===(t=l.relationships)||void 0===t||null===(a=t.current_phase)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.id)||l.id;r&&i&&(0,v.openVerificationModal)({context:{action:"voting_idea",id:r,type:i}})}}),[o,l]);return u.default.createElement(M,{className:i||""},u.default.createElement(_,null,u.default.createElement(S,null,u.default.createElement(C,{onClick:g},u.default.createElement(O,{ariaHidden:!0,name:"arrow-back"})),u.default.createElement(k,null,u.default.createElement(b.FormattedMessage,y.default.goBack))),u.default.createElement(P,null,u.default.createElement(m.default,{styleType:"border",size:"2",ideaId:t,disabledVoteClick:w}))))}));t.default=j},"PGV/":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.projectId,a=(0,o.useState)(void 0),n=(0,i.default)(a,2),u=n[0],d=n[1];return(0,o.useEffect)((function(){var e=(0,l.of)(null);t&&(e=(0,r.ideaFormSchemaStream)(t).observable);var a=e.subscribe((function(e){d(e)}));return function(){return a.unsubscribe()}}),[t]),u};var i=n(a("J4zp")),o=a("q1tI"),r=a("5y+3"),l=a("DtyJ")},PQA5:function(e,t,a){"use strict";a("SuFq"),a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("ma9I");var o,r,l,u,d=n(a("pVnL")),s=n(a("lwsE")),c=n(a("W8MJ")),f=n(a("PJYZ")),p=n(a("7W2i")),m=n(a("a1gu")),g=n(a("Nsbk")),h=n(a("lSNA")),v=n(a("VkAN")),b=D(a("q1tI")),y=D(a("vOnD")),w=a("96Cm"),I=a("+9pX"),x=a("oGDI"),E=a("di2/"),M=n(a("tOmD")),_=a("iP56"),S=n(a("doQp")),P=n(a("2fl8")),O=a("Rw3A"),C=n(a("mzbP")),k=n(a("3A/8")),j=a("ufqH"),T=n(a("8QT5"));function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(N=function(e){return e?a:t})(e)}function D(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=N(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,g.default)(e);if(t){var i=(0,g.default)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,m.default)(this,a)}}var R=y.default.div.withConfig({displayName:"ProposedNotVoted__Container",componentId:"sc-1wcgnfz-0"})([""]),A=y.default.div.withConfig({displayName:"ProposedNotVoted__CountDownWrapper",componentId:"sc-1wcgnfz-1"})(["display:flex;flex-direction:row-reverse;",""],w.media.smallerThanMaxTablet(o||(o=(0,v.default)(["\n    display: none;\n  "])))),W=(0,y.default)(_.Icon).withConfig({displayName:"ProposedNotVoted__StatusIcon",componentId:"sc-1wcgnfz-2"})(["path{fill:",";}width:31px;height:31px;margin-bottom:10px;"],(function(e){return e.theme.colorMain})),V=y.default.div.withConfig({displayName:"ProposedNotVoted__VoteCounter",componentId:"sc-1wcgnfz-3"})(["margin-top:15px;",""],w.media.smallerThanMaxTablet(r||(r=(0,v.default)(["\n    display: none;\n  "])))),F=y.default.div.withConfig({displayName:"ProposedNotVoted__VoteText",componentId:"sc-1wcgnfz-4"})(["display:flex;justify-content:space-between;align-items:flex-start;padding-bottom:4px;"]),q=y.default.div.withConfig({displayName:"ProposedNotVoted__VoteTextLeft",componentId:"sc-1wcgnfz-5"})(["font-size:","px;color:",";"],w.fontSizes.base,(function(e){return e.theme.colorMain})),L=y.default.div.withConfig({displayName:"ProposedNotVoted__VoteTextRight",componentId:"sc-1wcgnfz-6"})(["font-size:","px;color:",";"],w.fontSizes.base,(function(e){return e.theme.colorText})),z=(0,y.default)(S.default).withConfig({displayName:"ProposedNotVoted__StyledProgressBar",componentId:"sc-1wcgnfz-7"})(["height:12px;width:100%;"]),H=(0,y.default)(P.default).withConfig({displayName:"ProposedNotVoted__StyledButton",componentId:"sc-1wcgnfz-8"})(["margin-top:20px;svg{margin-top:-2px;}"]),U=y.default.span.withConfig({displayName:"ProposedNotVoted__OnDesktop",componentId:"sc-1wcgnfz-9"})(["display:inline;",""],w.media.smallerThanMaxTablet(l||(l=(0,v.default)(["\n    display: none;\n  "])))),J=y.default.span.withConfig({displayName:"ProposedNotVoted__OnMobile",componentId:"sc-1wcgnfz-10"})(["display:inline;",""],w.media.biggerThanMaxTablet(u||(u=(0,v.default)(["\n    display: none;\n  "])))),G=y.default.div.withConfig({displayName:"ProposedNotVoted__TooltipContent",componentId:"sc-1wcgnfz-11"})(["display:flex;align-items:center;padding:",";"],(function(e){return e.inMap?"0px":"15px"})),Z=(0,y.default)(_.Icon).withConfig({displayName:"ProposedNotVoted__TooltipContentIcon",componentId:"sc-1wcgnfz-12"})(["flex:0 0 25px;width:20px;height:25px;margin-right:1rem;"]),K=y.default.div.withConfig({displayName:"ProposedNotVoted__TooltipContentText",componentId:"sc-1wcgnfz-13"})(["flex:1 1 auto;color:",";font-size:","px;line-height:normal;font-weight:400;overflow-wrap:break-word;word-wrap:break-word;word-break:break-word;a,button{color:",";font-size:","px;line-height:normal;font-weight:400;text-align:left;text-decoration:underline;white-space:normal;overflow-wrap:break-word;word-wrap:break-word;word-break:break-all;word-break:break-word;hyphens:auto;display:inline;padding:0px;margin:0px;cursor:pointer;transition:all 100ms ease-out;&:hover{color:",";text-decoration:underline;}}"],w.colors.text,w.fontSizes.base,w.colors.clBlueDark,w.fontSizes.base,(0,j.darken)(.15,w.colors.clBlueDark)),Y={notPermitted:C.default.votingNotPermitted},Q=function(e){(0,p.default)(a,e);var t=B(a);function a(){var e;(0,s.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,h.default)((0,f.default)(e),"handleOnVote",(function(){e.props.onVote()})),e}return(0,c.default)(a,[{key:"render",value:function(){var e=this.props,t=e.initiative,a=e.initiativeSettings,n=a.voting_threshold,i=a.threshold_reached_message,o=e.theme,r=e.disabledReason,l=t.attributes.upvotes_count,u=n,s=(0,E.getDaysRemainingUntil)(t.attributes.expires_at),c=i?b.default.createElement(_.IconTooltip,{icon:"info",iconColor:this.props.theme.colorText,theme:"light",placement:"bottom",content:b.default.createElement(k.default,{value:i,supportHtml:!0})}):b.default.createElement(b.default.Fragment,null),f=r?b.default.createElement(G,{id:"tooltip-content",className:"e2e-disabled-tooltip"},b.default.createElement(Z,{name:"lock-outlined",ariaHidden:!0}),b.default.createElement(K,null,b.default.createElement(O.FormattedMessage,Y[r]))):null;return b.default.createElement(R,null,b.default.createElement(A,null,b.default.createElement(M.default,{targetTime:t.attributes.expires_at})),b.default.createElement(W,{ariaHidden:!0,name:"bullseye"}),b.default.createElement(x.StatusExplanation,null,b.default.createElement(U,null,b.default.createElement(O.FormattedMessage,(0,d.default)({},C.default.proposedStatusExplanation,{values:{votingThreshold:n,proposedStatusExplanationBold:b.default.createElement("b",null,b.default.createElement(O.FormattedMessage,C.default.proposedStatusExplanationBold))}})),c),b.default.createElement(J,null,b.default.createElement(O.FormattedMessage,(0,d.default)({},C.default.proposedStatusExplanationMobile,{values:{daysLeft:s,votingThreshold:n,proposedStatusExplanationMobileBold:b.default.createElement("b",null,b.default.createElement(O.FormattedMessage,C.default.proposedStatusExplanationMobileBold))}})),c)),b.default.createElement(V,null,b.default.createElement(F,{"aria-hidden":!0},b.default.createElement(q,{id:"e2e-initiative-not-voted-vote-count"},b.default.createElement(O.FormattedMessage,(0,d.default)({},C.default.xVotes,{values:{count:l}}))),b.default.createElement(L,null,u)),b.default.createElement(I.ScreenReaderOnly,null,b.default.createElement(O.FormattedMessage,(0,d.default)({},C.default.xVotesOfY,{values:{xVotes:b.default.createElement(O.FormattedMessage,(0,d.default)({},C.default.xVotes,{values:{count:l}})),votingThreshold:u}}))),b.default.createElement(z,{progress:l/u,color:o.colorMain,bgColor:w.colors.lightGreyishBlue})),b.default.createElement(T.default,{disabled:!f,interactive:!0,placement:"bottom",content:f||b.default.createElement(b.default.Fragment,null),theme:"light",hideOnClick:!1},b.default.createElement("div",{tabIndex:f?0:-1,className:"e2e-idea-button ".concat(f?"disabled":""," ").concat(r||"")},b.default.createElement(H,{icon:"upvote","aria-describedby":"tooltip-content",iconAriaHidden:!0,disabled:!!f,buttonStyle:"primary",onClick:this.handleOnVote,id:"e2e-initiative-upvote-button",ariaDisabled:!1},b.default.createElement(O.FormattedMessage,C.default.vote)))))}}]),a}(b.PureComponent),$=(0,y.withTheme)(Q);t.default=$},QLN2:function(e,t,a){"use strict";a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,r,l=n(a("J4zp")),u=n(a("VkAN")),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=g(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),s=a("iP56"),c=n(a("pQ8y")),f=n(a("vOnD")),p=a("96Cm"),m=a("ufqH");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(g=function(e){return e?a:t})(e)}var h=f.default.div.withConfig({displayName:"CollapsibleBox__Container",componentId:"qoxmo-0"})(["background:#fff;border:1px solid ",";border-radius:",";"],p.colors.separation,(function(e){return e.theme.borderRadius})),v=f.default.div.withConfig({displayName:"CollapsibleBox__Title",componentId:"qoxmo-1"})(["display:flex;align-items:center;"]),b=(0,f.default)(s.Icon).withConfig({displayName:"CollapsibleBox__TitleIcon",componentId:"qoxmo-2"})(["flex:0 0 16px;width:16px;height:23px;fill:",";margin-right:13px;",""],p.colors.label,p.media.smallerThanMinTablet(o||(o=(0,u.default)(["\n    flex: 0 0 14px;\n    width: 14px;\n    height: 20px;\n  "])))),y=f.default.div.withConfig({displayName:"CollapsibleBox__ContentLabel",componentId:"qoxmo-3"})(["color:",";font-size:","px;font-weight:400;margin-right:6px;text-align:left;transition:all 100ms ease-out;"],p.colors.label,p.fontSizes.base),w=f.default.button.withConfig({displayName:"CollapsibleBox__ContentToggleButton",componentId:"qoxmo-4"})(["background-color:#fff;display:flex;align-items:center;justify-content:space-between;cursor:pointer;width:100%;height:100%;padding-left:18px;padding-right:20px;padding-top:10px;padding-bottom:10px;color:",";font-size:","px;line-height:24px;font-weight:600;border-radius:",";&:hover{","{color:",";}}"],(function(e){return e.theme.colorText}),p.fontSizes.base,(function(e){return e.theme.borderRadius}),y,(0,m.darken)(.2,p.colors.label)),I=(0,f.default)(s.Icon).withConfig({displayName:"CollapsibleBox__ArrowIcon",componentId:"qoxmo-5"})(["flex:0 0 13px;width:13px;height:13px;fill:",";transform:rotate(90deg);transition:all 0.2s linear;&.open{transform:rotate(0deg);}"],p.colors.label),x=f.default.div.withConfig({displayName:"CollapsibleBox__Wrapper",componentId:"qoxmo-6"})(["position:relative;overflow:hidden;z-index:2;padding:20px;background-color:",";margin-top:1px;"," &.content-enter{height:0;opacity:0;&.content-enter-active{height:100%;opacity:1;transition:all ","ms ease-out;}}&.content-exit{height:100%;opacity:1;&.content-exit-active{height:0;opacity:0;transition:all ","ms ease-out;}}"],(function(e){return e.contentBackgroundColor||"#fff"}),p.media.largePhone(r||(r=(0,u.default)(["\n    padding: 30px 20px;\n  "]))),300,300),E=(0,d.memo)((function(e){var t=(0,d.useState)(!1),a=(0,l.default)(t,2),n=a[0],i=a[1],o=(0,d.useCallback)((function(){i(!n)}),[n]),r=e.className,u=e.titleIconName,s=e.title,f=e.children,p=e.contentBackgroundColor,m=e.e2eId;return d.default.createElement(h,{className:r},d.default.createElement(w,{id:m||"","aria-expanded":n,onClick:o},d.default.createElement(v,null,u&&d.default.createElement(b,{name:u}),d.default.createElement(y,null,s)),d.default.createElement(I,{name:"dropdown",className:n?"open":""})),d.default.createElement(c.default,{classNames:"content",in:n,timeout:300,mountOnEnter:!0,unmountOnExit:!0,exit:!0},d.default.createElement(x,{contentBackgroundColor:p},d.default.createElement(d.Suspense,{fallback:null},f))))}));t.default=E},"R+1c":function(e,t,a){"use strict";a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a("pVnL")),r=n(a("VkAN"));a("yWo2");var l,u,d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=w(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),s=a("KLnl"),c=n(a("Qs0S")),f=n(a("FrK0")),p=a("akep"),m=a("Rw3A"),g=a("JRPe"),h=n(a("AJij")),v=n(a("38aM")),b=n(a("vOnD")),y=a("96Cm");function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(w=function(e){return e?a:t})(e)}var I=b.default.div.withConfig({displayName:"PostedBy__UserWrapper",componentId:"sc-13oghdd-0"})(["display:flex;align-items:center;color:",";font-size:","px;margin-top:-4px;margin-bottom:-6px;",""],y.colors.label,y.fontSizes.small,(0,y.isRtl)(l||(l=(0,r.default)(["\n    flex-direction: row-reverse;\n  "])))),x=(0,b.default)(c.default).withConfig({displayName:"PostedBy__StyledAvatar",componentId:"sc-13oghdd-1"})(["margin-right:5px;margin-left:-4px;",""],(0,y.isRtl)(u||(u=(0,r.default)(["\n    margin-right: -4px;\n    margin-left: 5px;\n  "])))),E=(0,d.memo)((function(e){var t=e.authorId,a=e.ideaId,n=e.compact,i=e.className,r=e.intl.formatMessage,l=(0,v.default)({ideaId:a});if(!(0,s.isNilOrError)(l)){var u=l.attributes.published_at,c=d.default.createElement(f.default,{userId:t,isLinkToProfile:!0,underline:!0,color:y.colors.label,fontSize:y.fontSizes.small}),b=d.default.createElement(g.FormattedDate,{value:u,year:"numeric",month:"long",day:"numeric"});return d.default.createElement(p.Item,{className:"first ".concat(i||""),compact:n},d.default.createElement(p.Header,null,r(h.default.postedBy)),d.default.createElement(I,{className:"e2e-idea-author"},d.default.createElement(x,{userId:t,size:30,isLinkToProfile:!!t}),d.default.createElement(m.FormattedMessage,(0,o.default)({},h.default.byUserOnDate,{values:{userName:c,date:b}}))))}return null})),M=(0,m.injectIntl)(E);t.default=M},T8eC:function(e,t,a){"use strict";a("SuFq"),a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a("pVnL")),r=n(a("lwsE")),l=n(a("W8MJ")),u=n(a("PJYZ")),d=n(a("7W2i")),s=n(a("a1gu")),c=n(a("Nsbk")),f=n(a("lSNA")),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=I(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),m=n(a("vOnD")),g=a("ifvJ"),h=a("KLnl"),v=n(a("1Zvv")),b=n(a("CmRk")),y=n(a("/R6m")),w=n(a("OL75"));function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(I=function(e){return e?a:t})(e)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,s.default)(this,a)}}var E=m.default.div.withConfig({displayName:"Voting__Container",componentId:"sc-1f8x4xn-0"})([""]),M=m.default.div.withConfig({displayName:"Voting__VoteControlWrapper",componentId:"sc-1f8x4xn-1"})(["&.error{display:none;}"]),_=function(e){(0,d.default)(a,e);var t=x(a);function a(e){var n;return(0,r.default)(this,a),n=t.call(this,e),(0,f.default)((0,u.default)(n),"disabledVoteClick",(function(){n.setState({error:"votingDisabled"})})),(0,f.default)((0,u.default)(n),"setVoteControlRef",(function(){n.setState({isContainerVisible:!0})})),n.state={error:null,isContainerVisible:!1},n}return(0,l.default)(a,[{key:"componentDidUpdate",value:function(e){this.props.ideaId!==e.ideaId&&this.setState({isContainerVisible:!1,error:null})}},{key:"render",value:function(){var e=this.props,t=e.className,a=e.ideaId,n=e.projectId,i=e.idea,o=this.state,r=o.isContainerVisible,l=o.error,u=(0,h.isNilOrError)(i)?null:i.attributes.action_descriptor.voting_idea;if(!a||!u)return null;var d=p.default.createElement(b.default,{styleType:"shadow",ideaId:a,disabledVoteClick:this.disabledVoteClick,setRef:this.setVoteControlRef,size:"4"});return r?p.default.createElement(E,{className:t||""},p.default.createElement(M,{className:l?"error":""},d),"votingDisabled"===l&&p.default.createElement(v.default,{icon:"lock-outlined"},p.default.createElement(y.default,{votingDescriptor:u,projectId:n}))):d}}]),a}(p.PureComponent),S=(0,g.adopt)({idea:function(e){var t=e.ideaId,a=e.render;return p.default.createElement(w.default,{ideaId:t},a)}});t.default=function(e){return p.default.createElement(S,e,(function(t){return p.default.createElement(_,(0,o.default)({},e,t))}))}},UQTo:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,a("JRPe").defineMessages)({sharingModalTitle:{id:"app.containers.IdeasShow.sharingModalTitle",defaultMessage:"Thanks for submitting your idea!"},optionSharingModalTitle:{id:"app.containers.IdeasShow.optionSharingModalTitle",defaultMessage:"Your option has been successfully posted!"},projectSharingModalTitle:{id:"app.containers.IdeasShow.projectSharingModalTitle",defaultMessage:"Thanks for submitting your project!"},questionSharingModalTitle:{id:"app.containers.IdeasShow.questionSharingModalTitle",defaultMessage:"Your question has been successfully posted!"},issueSharingModalTitle:{id:"app.containers.IdeasShow.issueSharingModalTitle",defaultMessage:"Thanks for submitting your issue!"},contributionSharingModalTitle:{id:"app.containers.IdeasShow.contributionSharingModalTitle",defaultMessage:"Thanks for submitting your contribution!"},sharingModalSubtitle:{id:"app.containers.IdeasShow.sharingModalSubtitle",defaultMessage:"Reach more people and make your voice heard."},deletedUser:{id:"app.containers.IdeasShow.deletedUser",defaultMessage:"deleted user"},currentStatus:{id:"app.containers.IdeasShow.currentStatus",defaultMessage:"Current status"},moreOptions:{id:"app.components.IdeasShow.moreOptions",defaultMessage:"More options"},reportAsSpam:{id:"app.components.IdeasShow.reportAsSpam",defaultMessage:"Report as spam"},editPost:{id:"app.components.IdeasShow.editPost",defaultMessage:"Edit"},deletePost:{id:"app.components.IdeasShow.deletePost",defaultMessage:"Delete"},deleteInputConfirmation:{id:"app.components.IdeasShow.deleteInputConfirmation",defaultMessage:"Are you sure you want to delete this input? This action cannot be undone."},deleteInputInTimelineConfirmation:{id:"app.components.IdeasShow.deleteInputInTimelineConfirmation",defaultMessage:"Are you sure you want to delete this input? The input will be deleted from all project phases and cannot be recovered."},goBack:{id:"app.components.IdeasShow.goBack",defaultMessage:"Go back"},send:{id:"app.components.IdeasShow.send",defaultMessage:"Send"},skipSharing:{id:"app.components.IdeasShow.skipSharing",defaultMessage:"Skip it, I'll do it later"},reportAsSpamModalTitle:{id:"app.containers.IdeasShow.reportAsSpamModalTitle",defaultMessage:"Why do you want to report this as spam?"},byUserOnDate:{id:"app.components.IdeasShow.byUserOnDate",defaultMessage:"By {userName} on {date}"},createdTimeAgo:{id:"app.components.IdeasShow.createdTimeAgo",defaultMessage:"Created {timeAgo}"},or:{id:"app.components.IdeasShow.or",defaultMessage:"or"},proposedBudgetTitle:{id:"app.components.IdeasShow.proposedBudgetTitle",defaultMessage:"Proposed budget"},bodyTitle:{id:"app.components.IdeasShow.bodyTitle",defaultMessage:"Description"},ideaTwitterMessage:{id:"app.containers.IdeasShow.ideaTwitterMessage",defaultMessage:"Support this idea: {postTitle}"},optionTwitterMessage:{id:"app.containers.IdeasShow.optionTwitterMessage",defaultMessage:"Support this option: {postTitle}"},issueTwitterMessage:{id:"app.containers.IdeasShow.issueTwitterMessage",defaultMessage:"Support this issue: {postTitle}"},projectTwitterMessage:{id:"app.containers.IdeasShow.projectTwitterMessage",defaultMessage:"Support this project: {postTitle}"},questionTwitterMessage:{id:"app.containers.IdeasShow.questionTwitterMessage",defaultMessage:"Join the discussion: {postTitle}"},contributionTwitterMessage:{id:"app.containers.IdeasShow.contributionTwitterMessage",defaultMessage:"Support this contribution: {postTitle}"},ideaWhatsAppMessage:{id:"app.containers.IdeasShow.ideaWhatsAppMessage",defaultMessage:"Support this idea: {postTitle}"},optionWhatsAppMessage:{id:"app.containers.IdeasShow.optionWhatsAppMessage",defaultMessage:"Support this option: {postTitle}"},contributionWhatsAppMessage:{id:"app.containers.IdeasShow.contributionWhatsAppMessage",defaultMessage:"Support this contribution: {postTitle}"},projectWhatsAppMessage:{id:"app.containers.IdeasShow.projectWhatsAppMessage",defaultMessage:"Support this project: {postTitle}"},questionWhatsAppMessage:{id:"app.containers.IdeasShow.questionWhatsAppMessage",defaultMessage:"Join the discussion: {postTitle}"},issueWhatsAppMessage:{id:"app.containers.IdeasShow.ideasWhatsAppMessage",defaultMessage:"Support this issue: {postTitle}"},ideaEmailSharingSubject:{id:"app.containers.IdeasShow.ideaEmailSharingSubject",defaultMessage:"Support this idea: {ideaTitle}"},ideaEmailSharingBody:{id:"app.containers.IdeasShow.ideaEmailSharingBody",defaultMessage:"Support this idea '{ideaTitle}' at {ideaUrl}!"},optionEmailSharingSubject:{id:"app.containers.IdeasShow.optionEmailSharingSubject",defaultMessage:"Support this option: {ideaTitle}"},optionEmailSharingBody:{id:"app.containers.IdeasShow.optionEmailSharingBody",defaultMessage:"Support this option '{ideaTitle}' at {ideaUrl}!"},contributionEmailSharingSubject:{id:"app.containers.IdeasShow.contributionEmailSharingSubject",defaultMessage:"Support this contribution: {ideaTitle}"},contributionEmailSharingBody:{id:"app.containers.IdeasShow.contributionEmailSharingBody",defaultMessage:"Support this contribution '{ideaTitle}' at {ideaUrl}!"},questionEmailSharingSubject:{id:"app.containers.IdeasShow.questionEmailSharingSubject",defaultMessage:"Join the discussion: {ideaTitle}"},questionEmailSharingBody:{id:"app.containers.IdeasShow.questionEmailSharingBody",defaultMessage:"Join the discussion about this question '{ideaTitle}' at {ideaUrl}!"},issueEmailSharingSubject:{id:"app.containers.IdeasShow.issueEmailSharingSubject",defaultMessage:"Support this issue: {ideaTitle}"},issueEmailSharingBody:{id:"app.containers.IdeasShow.issueEmailSharingBody",defaultMessage:"Support this issue '{ideaTitle}' at {ideaUrl}!"},projectEmailSharingSubject:{id:"app.containers.IdeasShow.projectEmailSharingSubject",defaultMessage:"Support this project: {ideaTitle}"},projectEmailSharingBody:{id:"app.containers.IdeasShow.projectEmailSharingBody",defaultMessage:"Support this project '{ideaTitle}' at {ideaUrl}!"},share:{id:"app.containers.IdeasShow.share",defaultMessage:"Share"},commentCTA:{id:"app.containers.IdeasShow.commentCTA",defaultMessage:"Add a comment"}});t.default=n},Uj4o:function(e,t,a){"use strict";a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("yWo2"),a("2B1R"),a("TeQF");var o,r,l=n(a("VkAN")),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=g(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),d=a("KLnl"),s=n(a("vfLC")),c=n(a("V3HD")),f=n(a("vOnD")),p=a("96Cm"),m=a("ufqH");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(g=function(e){return e?a:t})(e)}var h=f.default.div.withConfig({displayName:"Topics__Container",componentId:"tfo4q2-0"})(["display:flex;flex-wrap:wrap;",""],(0,p.isRtl)(o||(o=(0,l.default)(["\n    flex-direction: row-reverse;\n  "])))),v=f.default.div.withConfig({displayName:"Topics__Topic",componentId:"tfo4q2-1"})(["color:",";font-size:","px;font-weight:400;padding:6px 12px;margin-right:5px;margin-bottom:5px;border:1px solid ",";border-radius:",";",""],(function(e){return e.theme.colorSecondary}),p.fontSizes.small,(function(e){var t=e.theme;return(0,m.transparentize)(.7,t.colorSecondary)}),(function(e){return e.theme.borderRadius}),(0,p.isRtl)(r||(r=(0,l.default)(["\n    margin-right: 0;\n    margin-left: 5px;\n  "])))),b=(0,u.memo)((function(e){var t=e.topicIds,a=e.className,n=e.postType,i=e.localize,o=(0,s.default)({topicIds:t});return!(0,d.isNilOrError)(o)&&o.length>0?u.default.createElement(h,{id:"e2e-".concat(n,"-topics"),className:a},o.filter((function(e){return!(0,d.isNilOrError)(e)})).map((function(e){return u.default.createElement(v,{key:e.id,className:"e2e-".concat(n,"-topic")},i(e.attributes.title_multiloc))}))):null})),y=(0,c.default)(b);t.default=y},UjZJ:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.initiativeStatusStream=function(e){return o.default.get({apiEndpoint:"".concat(i.API_PATH,"/initiative_statuses/").concat(e)})},t.initiativeStatusesStream=function(){return o.default.get({apiEndpoint:"".concat(i.API_PATH,"/initiative_statuses")})},a("ma9I");var i=a("p0gT"),o=n(a("1Kqg"))},VUEM:function(e,t,a){"use strict";a("ENF9"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("4mDm"),a("07d7"),a("5s+n"),a("PKPk"),a("3bBZ");var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=l(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var u=o?Object.getOwnPropertyDescriptor(e,r):null;u&&(u.get||u.set)?Object.defineProperty(n,r,u):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),r=n(a("QLN2"));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(l=function(e){return e?a:t})(e)}var u=o.default.lazy((function(){return a.e(151).then(a.t.bind(null,"jcw9",7))})),d=(0,o.memo)((function(e){var t=e.address,a=e.position,n=e.className,i=e.projectId;return o.default.createElement(r.default,{e2eId:"e2e-map-toggle",className:n,titleIconName:"position",title:t},o.default.createElement(u,{position:a,projectId:i}))}));t.default=d},XgTl:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("q1tI")),o=n(a("2fl8")),r=function(e){var t=e.className,a=e.buttonText,n=e.iconName,r=e.onClick,l=e.ariaExpanded;return i.default.createElement(o.default,{className:t,icon:n,iconAriaHidden:!0,buttonStyle:"white",fontWeight:"500",onClick:r,ariaExpanded:l},a)};t.default=r},Y6RB:function(e,t,a){"use strict";a("ENF9"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a("VkAN"));a("4mDm"),a("07d7"),a("5s+n"),a("PKPk"),a("3bBZ");var r,l,u,d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),s=n(a("/92W")),c=n(a("vOnD")),f=a("96Cm"),p=a("l8nb");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(m=function(e){return e?a:t})(e)}var g=(0,d.lazy)((function(){return Promise.all([a.e(6),a.e(188)]).then(a.t.bind(null,"LtqC",7))})),h=c.default.div.withConfig({displayName:"Footer__Container",componentId:"sc-1cicwgk-0"})(["flex:1 1 auto;width:100%;"]),v=c.default.div.withConfig({displayName:"Footer__Content",componentId:"sc-1cicwgk-1"})(["width:100%;max-width:","px;margin-left:auto;margin-right:auto;margin-top:50px;padding-left:60px;padding-right:60px;padding-bottom:80px;",""],p.postPageContentMaxWidth,f.media.smallerThanMinTablet(r||(r=(0,o.default)(["\n    margin-top: 30px;\n    padding-left: 15px;\n    padding-right: 15px;\n    padding-bottom: 30px;\n  "])))),b=c.default.div.withConfig({displayName:"Footer__ContentInner",componentId:"sc-1cicwgk-2"})(["padding-right:","px;"," ",""],p.rightColumnWidthDesktop+p.columnsGapDesktop,f.media.tablet(l||(l=(0,o.default)(["\n    padding-right: ","px;\n  "])),p.rightColumnWidthTablet+p.columnsGapTablet),f.media.smallerThanMaxTablet(u||(u=(0,o.default)(["\n    padding-right: 0px;\n  "])))),y=(0,d.memo)((function(e){var t=e.postId,a=e.postType,n=e.className;return d.default.createElement(h,{className:n||""},d.default.createElement(v,null,d.default.createElement(b,null,d.default.createElement(d.Suspense,{fallback:d.default.createElement(s.default,null)},d.default.createElement(g,{postId:t,postType:a})))))}));t.default=y},"YOT+":function(e,t,a){"use strict";a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a("pVnL"));a("ma9I"),a("sMBO");var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),l=a("ifvJ"),u=a("T89o"),d=a("qhky"),s=n(a("yiTP")),c=n(a("yYlr")),f=n(a("YLV/")),p=n(a("OL75")),m=n(a("M7uY")),g=n(a("PC5P")),h=n(a("CA+D")),v=n(a("V3HD")),b=a("N1C2"),y=a("KLnl"),w=a("1YJs"),I=n(a("wbnS")),x=n(a("+YyL"));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}var M=(0,r.memo)((function(e){var t=e.idea,a=e.locale,n=e.tenant,i=e.authUser,o=e.ideaImages,l=e.author,u=e.project,s=e.localize;if(!(0,y.isNilOrError)(a)&&!(0,y.isNilOrError)(n)&&!(0,y.isNilOrError)(t)){var c=t.attributes,f=c.title_multiloc,p=c.body_multiloc,m=n.attributes.settings.core.locales,g=s(f,50),h=(0,b.stripHtml)(s(p),250),v=!(0,y.isNilOrError)(o)&&o.length>0?o[0].attributes.versions.fb:null,E=window.location.href,M=!(0,y.isNilOrError)(u)&&s(u.attributes.title_multiloc,20),_=!(0,y.isNilOrError)(u)&&u.attributes.slug,S={"@type":"Article",image:v,headline:g,author:(0,y.isNilOrError)(l)?"anonymous":"".concat(l.attributes.first_name," ").concat(l.attributes.last_name),mainEntityOfPage:{"@type":"WebPage","@id":E},datePublished:t.attributes.published_at},P={"@context":"http://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,item:{"@id":n.attributes.host,name:n.attributes.name,image:n.attributes.logo?n.attributes.logo.large:null}},{"@type":"ListItem",position:2,item:{"@id":"".concat(n.attributes.host,"/projects"),name:"Projects"}},{"@type":"ListItem",position:2,item:{"@id":"".concat(n.attributes.host,"/projects/").concat(_),name:M}},{"@type":"ListItem",position:4,item:{"@id":"".concat(n.attributes.host,"/ideas"),name:"Ideas"}}]};return r.default.createElement(d.Helmet,null,r.default.createElement("title",null,"\n            ".concat(i&&i.attributes.unread_notifications?"(".concat(i.attributes.unread_notifications,") "):"","\n            ").concat(g)),(0,x.default)(),(0,I.default)(m),r.default.createElement("meta",{name:"title",content:g}),r.default.createElement("meta",{name:"description",content:h}),r.default.createElement("meta",{property:"og:type",content:"article"}),r.default.createElement("meta",{property:"og:title",content:g}),r.default.createElement("meta",{property:"ideaOgDescription",content:h}),v&&r.default.createElement("meta",{property:"og:image",content:v}),r.default.createElement("meta",{property:"og:image:width",content:"".concat(w.imageSizes.ideaImg.fb[0])}),r.default.createElement("meta",{property:"og:image:height",content:"".concat(w.imageSizes.ideaImg.fb[1])}),r.default.createElement("meta",{name:"twitter:title",content:g}),r.default.createElement("meta",{name:"twitter:description",content:h}),v&&r.default.createElement("meta",{name:"twitter:image",content:v}),r.default.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),v&&r.default.createElement("script",{type:"application/ld+json"},JSON.stringify(S)),r.default.createElement("script",{type:"application/ld+json"},JSON.stringify(P)),r.default.createElement("meta",{property:"og:url",content:E}),r.default.createElement("meta",{property:"og:locale",content:a}))}return null})),_=(0,l.adopt)({idea:function(e){var t=e.ideaId,a=e.render;return r.default.createElement(p.default,{ideaId:t},a)},ideaImages:function(e){var t=e.ideaId,a=e.render;return r.default.createElement(h.default,{ideaId:t},a)},project:function(e){var t=e.idea,a=e.render;return(0,y.isNilOrError)(t)?null:r.default.createElement(m.default,{projectId:t.relationships.project.data.id},a)},author:function(e){var t=e.idea,a=e.render;return r.default.createElement(g.default,{id:(0,u.get)(t,"relationships.author.data.id",null)},a)},locale:r.default.createElement(s.default,null),tenant:r.default.createElement(c.default,null),authUser:r.default.createElement(f.default,null)}),S=(0,v.default)(M);t.default=function(e){return r.default.createElement(_,e,(function(t){return r.default.createElement(S,(0,o.default)({},e,t))}))}},Z94D:function(e,t,a){"use strict";a("TeQF"),a("SuFq");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("FZtP");var i=n(a("lwsE")),o=n(a("W8MJ")),r=n(a("PJYZ")),l=n(a("7W2i")),u=n(a("a1gu")),d=n(a("Nsbk")),s=n(a("lSNA")),c=n(a("q1tI")),f=a("DtyJ"),p=a("ahDk"),m=n(a("aTp4")),g=a("UjZJ"),h=a("T89o"),v=a("KLnl");function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,d.default)(e);if(t){var i=(0,d.default)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,u.default)(this,a)}}var y=function(e){(0,l.default)(a,e);var t=b(a);function a(e){var n;return(0,i.default)(this,a),n=t.call(this,e),(0,s.default)((0,r.default)(n),"inputProps$",void 0),(0,s.default)((0,r.default)(n),"subscriptions",void 0),n.state={initiativeStatus:void 0},n}return(0,o.default)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.id;this.inputProps$=new f.BehaviorSubject({id:t}),this.subscriptions=[this.inputProps$.pipe((0,p.distinctUntilChanged)((function(e,t){return(0,m.default)(e,t)})),(0,p.filter)((function(e){var t=e.id;return(0,h.isString)(t)})),(0,p.switchMap)((function(e){var t=e.id;return(0,h.isString)(t)?(0,g.initiativeStatusStream)(t).observable:(0,f.of)(null)}))).subscribe((function(t){return e.setState({initiativeStatus:(0,v.isNilOrError)(t)?null:t.data})}))]}},{key:"componentDidUpdate",value:function(){var e=this.props.id;this.inputProps$.next({id:e})}},{key:"componentWillUnmount",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"render",value:function(){return(0,this.props.children)(this.state.initiativeStatus)}}]),a}(c.default.Component);t.default=y},aJX8:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,a("JRPe").defineMessages)({twitterMessage:{id:"app.components.PostComponents.SharingModalContent.twitterMessage",defaultMessage:"Vote for {postTitle} on"},ideaEmailSharingSubjectText:{id:"app.components.PostComponents.SharingModalContent.ideaEmailSharingSubjectText",defaultMessage:"Support my idea: {postTitle}"},optionEmailSharingSubject:{id:"app.components.PostComponents.SharingModalContent.optionEmailSharingSubject",defaultMessage:"Support my proposed option: {postTitle}."},issueEmailSharingSubject:{id:"app.components.PostComponents.SharingModalContent.issueEmailSharingSubject",defaultMessage:"I just posted an issue: {postTitle}."},questionEmailSharingSubject:{id:"app.components.PostComponents.SharingModalContent.questionEmailSharingSubject",defaultMessage:"Join the discussion: {postTitle}."},contributionEmailSharingSubject:{id:"app.components.PostComponents.SharingModalContent.contributionEmailSharingSubject",defaultMessage:"Support my contribution: {postTitle}."},projectEmailSharingSubject:{id:"app.components.PostComponents.SharingModalContent.projectEmailSharingSubject",defaultMessage:"Support my project: {postTitle}."},initiativeEmailSharingSubject:{id:"app.components.PostComponents.SharingModalContent.initiativeEmailSharingSubject",defaultMessage:"Support my initiative: {postTitle}."},ideaEmailSharingBody:{id:"app.components.PostComponents.SharingModalContent.ideaEmailSharingBody",defaultMessage:"Support my idea '{postTitle}' at {postUrl}!"},issueEmailSharingBody:{id:"app.components.PostComponents.SharingModalContent.issueEmailSharingBody",defaultMessage:"I posted an issue '{postTitle}' at {postUrl}!"},optionEmailSharingBody:{id:"app.components.PostComponents.SharingModalContent.optionEmailSharingBody",defaultMessage:"Support my proposed option '{postTitle}' at {postUrl}!"},contributionEmailSharingBody:{id:"app.components.PostComponents.SharingModalContent.contributionEmailSharingBody",defaultMessage:"Support my contribution '{postTitle}' at {postUrl}!"},questionEmailSharingModalContentBody:{id:"app.components.PostComponents.SharingModalContent.questionEmailSharingModalContentBody",defaultMessage:"Join the discussion about this question '{postTitle}' at {postUrl}!"},projectEmailSharingBody:{id:"app.components.PostComponents.SharingModalContent.projectEmailSharingBody",defaultMessage:"Support my project '{postTitle}' at {postUrl}!"},initiativeEmailSharingBody:{id:"app.components.PostComponents.SharingModalContent.initiativeEmailSharingBody",defaultMessage:"What do you think of this initiative? Vote on it and share the discussion at {postUrl} to make your voice heard!"},ideaWhatsAppMessage:{id:"app.components.PostComponents.SharingModalContent.ideaWhatsAppMessage",defaultMessage:"Support my idea: {postTitle}."},optionWhatsAppMessage:{id:"app.components.PostComponents.SharingModalContent.optionWhatsAppMessage",defaultMessage:"Support my option: {postTitle}."},questionWhatsAppMessage:{id:"app.components.PostComponents.SharingModalContent.questionWhatsAppMessage",defaultMessage:"Join the discussion: {postTitle}."},contributionWhatsAppMessage:{id:"app.components.PostComponents.SharingModalContent.contributionWhatsAppMessage",defaultMessage:"Support my contribution: {postTitle}."},projectWhatsAppMessage:{id:"app.components.PostComponents.SharingModalContent.projectWhatsAppMessage",defaultMessage:"Support my project: {postTitle}."},issueWhatsAppMessage:{id:"app.components.PostComponents.SharingModalContent.issueWhatsAppMessage",defaultMessage:"I just posted an issue: {postTitle}."},whatsAppMessageProposal:{id:"app.components.PostComponents.SharingModalContent.whatsAppMessageProposal",defaultMessage:"I just posted a proposal for {orgName}: {postTitle}"}});t.default=n},bPnU:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={sharingModalOpened:{name:"initiativeflow social sharing modal opened"}}},bc9h:function(e,t,a){"use strict";a("SuFq");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("FZtP");var i=n(a("lwsE")),o=n(a("W8MJ")),r=n(a("PJYZ")),l=n(a("7W2i")),u=n(a("a1gu")),d=n(a("Nsbk")),s=n(a("lSNA")),c=n(a("q1tI")),f=a("DtyJ"),p=a("ahDk"),m=n(a("aTp4")),g=a("gkAX"),h=a("T89o");function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,d.default)(e);if(t){var i=(0,d.default)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,u.default)(this,a)}}var b=function(e){(0,l.default)(a,e);var t=v(a);function a(e){var n;return(0,i.default)(this,a),n=t.call(this,e),(0,s.default)((0,r.default)(n),"inputProps$",void 0),(0,s.default)((0,r.default)(n),"subscriptions",void 0),n.state={initiativeImages:void 0},n}return(0,o.default)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.initiativeId;this.inputProps$=new f.BehaviorSubject({initiativeId:t}),this.subscriptions=[this.inputProps$.pipe((0,p.distinctUntilChanged)((function(e,t){return(0,m.default)(e,t)})),(0,p.switchMap)((function(e){var t=e.initiativeId;return(0,h.isString)(t)?(0,g.initiativeImagesStream)(t).observable:(0,f.of)(null)}))).subscribe((function(t){e.setState({initiativeImages:t?t.data:null})}))]}},{key:"componentDidUpdate",value:function(){var e=this.props.initiativeId;this.inputProps$.next({initiativeId:e})}},{key:"componentWillUnmount",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"render",value:function(){return(0,this.props.children)(this.state.initiativeImages)}}]),a}(c.default.Component);t.default=b},d1qu:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,a("JRPe").defineMessages)({linkToHomePage:{id:"app.components.PostComponents.linkToHomePage",defaultMessage:"Home page"},readMore:{id:"app.components.PostComponents.readMore",defaultMessage:"Read more..."}});t.default=n},dcoO:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,a("JRPe").defineMessages)({votingDisabledProjectInactive:{id:"app.components.VoteControl.votingDisabledProjectInactive",defaultMessage:"You can no longer vote on ideas in {projectName}"},votingDisabledPhaseOver:{id:"app.components.VoteControl.votingDisabledPhaseOver",defaultMessage:"It's no longer possible to vote in this phase"},votingDisabledFutureEnabled:{id:"app.components.VoteControl.votingDisabledFutureEnabled",defaultMessage:"Voting will be enabled once this phase starts"},votingPossibleLater:{id:"app.components.VoteControl.votingPossibleLater",defaultMessage:"Voting will start on {enabledFromDate}"},votingNotEnabled:{id:"app.components.VoteControl.votingNotEnabled",defaultMessage:"Voting is currently not enabled for this project"},votingDisabledMaxReached:{id:"app.components.VoteControl.votingDisabledMaxReached",defaultMessage:"You've reached your maximum number of votes in {projectName}"},votingNotPermitted:{id:"app.components.VoteControl.votingNotPermitted",defaultMessage:"Voting is only enabled for certain groups"},votingNotVerified:{id:"app.components.VoteControl.votingNotVerified",defaultMessage:"{linkToVerification} in order to vote."},linkToVerificationText:{id:"app.components.VoteControl.linkToVerificationText",defaultMessage:"Verify your identity"},upvote:{id:"app.components.VoteControl.upvote",defaultMessage:"Upvote"},downvote:{id:"app.components.VoteControl.downvote",defaultMessage:"Downvote"},a11y_upvotesDownvotes:{id:"app.containers.VoteControl.a11y_upvotesDownvotes",defaultMessage:"Total upvotes: {upvotesCount}, total downvotes: {downvotesCount}"},voteSuccessTitle:{id:"app.containers.VoteControl.voteSuccessTitle",defaultMessage:"Your vote was successfully registered!"},voteErrorTitle:{id:"app.containers.VoteControl.voteErrorTitle",defaultMessage:"Something went wrong"},voteErrorSubTitle:{id:"app.containers.VoteControl.voteErrorSubTitle",defaultMessage:"Due to an error your vote could not being registered. Please try again in a few minutes."},close:{id:"app.containers.VoteControl.close",defaultMessage:"Close"}});t.default=n},doQp:function(e,t,a){"use strict";a("SuFq"),a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a("lwsE")),r=n(a("W8MJ")),l=n(a("PJYZ")),u=n(a("7W2i")),d=n(a("a1gu")),s=n(a("Nsbk")),c=n(a("lSNA")),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=v(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),p=n(a("vOnD")),m=a("T89o"),g=n(a("fadw")),h=n(a("LL2z"));function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(v=function(e){return e?a:t})(e)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,s.default)(e);if(t){var i=(0,s.default)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,d.default)(this,a)}}var y=p.default.div.withConfig({displayName:"ProgressBar__Container",componentId:"sc-1ojipyb-0"})([""]),w=p.default.div.withConfig({displayName:"ProgressBar__ProgressBarOuter",componentId:"sc-1ojipyb-1"})(["width:100%;height:100%;border-radius:",";background:",";"],(function(e){return e.theme.borderRadius}),(function(e){return e.background})),I=p.default.div.withConfig({displayName:"ProgressBar__ProgressBarInner",componentId:"sc-1ojipyb-2"})(["width:0px;height:100%;border-radius:",";background:",";transition:width 1000ms cubic-bezier(0.19,1,0.22,1);will-change:width;&.visible{width:","%;}"],(function(e){return e.theme.borderRadius}),(function(e){return e.color}),(function(e){return 100*e.progress})),x=function(e){(0,u.default)(a,e);var t=b(a);function a(e){var n;return(0,o.default)(this,a),n=t.call(this,e),(0,c.default)((0,l.default)(n),"handleIntersection",(function(e,t){e.isIntersecting&&(n.setState({visible:!0}),t())})),n.state={visible:!1},n}return(0,r.default)(a,[{key:"render",value:function(){var e=this.props,t=e.progress,a=e.color,n=e.bgColor,i=e.className,o=e.bgShaded,r=this.state.visible;return f.default.createElement(y,{className:i,"aria-hidden":!0},f.default.createElement(g.default,{onChange:this.handleIntersection},f.default.createElement(w,{background:!0===o?'url("'.concat(h.default,'")'):n},f.default.createElement(I,{progress:(0,m.clamp)(t,0,1),className:r?"visible":"",color:a}))))}}]),a}(f.PureComponent);t.default=x},eTaz:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={clickTranslateInitiativeButton:{name:"Clicked button to translate initiative title/description"},clickGoBackToOriginalInitiativeCopyButton:{name:"Clicked button to go back to original, non-translated initiative title/description"}}},fHP9:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,o.useState)(void 0),a=(0,i.default)(t,2),n=a[0],c=a[1];return(0,o.useEffect)((function(){var t=(0,s.combineLatest)((0,r.getInitiativeActionDescriptors)().observable,(0,u.currentAppConfigurationStream)().observable,(0,d.authUserStream)().observable).subscribe((function(t){var a=(0,i.default)(t,3),n=a[0],o=a[1],r=a[2];if(!(0,l.isNilOrError)(o)&&!(0,l.isNilOrError)(n)){var u=n[e];if(u.enabled)c({show:!0,enabled:!0,disabledReason:null,action:null});else switch(u.disabled_reason){case"not_verified":(0,l.isNilOrError)(r)?c({show:!0,enabled:"maybe",disabledReason:null,action:"sign_in_up_and_verify"}):c({show:!0,enabled:"maybe",disabledReason:null,action:"verify"});break;case"not_signed_in":c({show:!0,enabled:"maybe",disabledReason:null,action:"sign_in_up"});break;default:c({show:!0,enabled:!1,disabledReason:"notPermitted",action:null})}}}));return function(){return t.unsubscribe()}}),[]),n};var i=n(a("J4zp")),o=a("q1tI"),r=a("fM+I"),l=a("KLnl"),u=a("H9u3"),d=a("x303"),s=a("DtyJ")},"fM+I":function(e,t,a){"use strict";a("tkto"),a("pNMO"),a("TeQF"),a("5DmW"),a("FZtP"),a("27RR");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.initiativeByIdStream=m,t.initiativeBySlugStream=function(e){return d.default.get({apiEndpoint:"".concat(u.API_PATH,"/initiatives/by_slug/").concat(e)})},t.initiativesStream=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return d.default.get(p({apiEndpoint:"".concat(u.API_PATH,"/initiatives")},e))},t.initiativesFilterCountsStream=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return d.default.get(p(p({apiEndpoint:"".concat(u.API_PATH,"/initiatives/filter_counts")},e),{},{cacheStream:!1}))},t.initiativesMarkersStream=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return d.default.get(p(p({apiEndpoint:"".concat(u.API_PATH,"/initiatives/as_markers")},e),{},{cacheStream:!1}))},t.addInitiative=function(e){return g.apply(this,arguments)},t.updateInitiative=function(e,t){return h.apply(this,arguments)},t.deleteInitiative=function(e){return v.apply(this,arguments)},t.initiativeAllowedTransitionsStream=function(e){return d.default.get({apiEndpoint:"".concat(u.API_PATH,"/initiatives/").concat(e,"/allowed_transitions")})},t.initiativeActivities=function(e){return d.default.get({apiEndpoint:"".concat(u.API_PATH,"/initiatives/").concat(e,"/activities")})},t.getInitiativeActionDescriptors=function(){return d.default.get({apiEndpoint:"".concat(u.API_PATH,"/action_descriptors/initiatives")})};var i=n(a("o0o1")),o=n(a("J4zp")),r=n(a("yXPU")),l=n(a("lSNA"));a("ma9I"),a("4mDm"),a("07d7"),a("5s+n"),a("PKPk"),a("3bBZ");var u=a("p0gT"),d=n(a("1Kqg")),s=a("ahDk"),c=a("T89o");function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function m(e){return d.default.get({apiEndpoint:"".concat(u.API_PATH,"/initiatives/").concat(e)})}function g(){return(g=(0,r.default)(i.default.mark((function e(t){var a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.default.add("".concat(u.API_PATH,"/initiatives"),{initiative:t});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=(0,r.default)(i.default.mark((function e(t,a){var n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.default.update("".concat(u.API_PATH,"/initiatives/").concat(t),t,{initiative:a});case 2:return n=e.sent,d.default.fetchAllWith({apiEndpoint:["".concat(u.API_PATH,"/stats/initiatives_count"),"".concat(u.API_PATH,"/initiatives"),"".concat(u.API_PATH,"/initiatives/").concat(t,"/activities")]}),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return(v=(0,r.default)(i.default.mark((function e(t){var a,n,r,l,f;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([m(t).observable.pipe((0,s.first)()).toPromise(),d.default.delete("".concat(u.API_PATH,"/initiatives/").concat(t),t)]);case 2:return a=e.sent,n=(0,o.default)(a,2),r=n[0],l=n[1],f=(0,c.get)(r,"relationships.author.data.id",!1),d.default.fetchAllWith({apiEndpoint:f?["".concat(u.API_PATH,"/users/").concat(f,"/initiatives_count")]:[]}),e.abrupt("return",l);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},fQSr:function(e,t,a){"use strict";a("SuFq"),a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("ma9I");var o,r=n(a("pVnL")),l=n(a("lwsE")),u=n(a("W8MJ")),d=n(a("PJYZ")),s=n(a("7W2i")),c=n(a("a1gu")),f=n(a("Nsbk")),p=n(a("lSNA")),m=n(a("VkAN")),g=P(a("q1tI")),h=P(a("vOnD")),v=a("96Cm"),b=a("+9pX"),y=a("oGDI"),w=n(a("tOmD")),I=n(a("doQp")),x=n(a("2fl8")),E=a("Rw3A"),M=n(a("mzbP")),_=n(a("3A/8"));function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(S=function(e){return e?a:t})(e)}function P(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=S(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,f.default)(e);if(t){var i=(0,f.default)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,c.default)(this,a)}}var C=h.default.div.withConfig({displayName:"Custom__Container",componentId:"a81lus-0"})([""]),k=h.default.div.withConfig({displayName:"Custom__CountDownWrapper",componentId:"a81lus-1"})(["display:flex;flex-direction:row-reverse;",""],v.media.smallerThanMaxTablet(o||(o=(0,m.default)(["\n    display: none;\n  "])))),j=h.default.div.withConfig({displayName:"Custom__VoteCounter",componentId:"a81lus-2"})(["margin-top:15px;"]),T=h.default.div.withConfig({displayName:"Custom__VoteText",componentId:"a81lus-3"})(["display:flex;justify-content:space-between;align-items:flex-start;padding-bottom:4px;"]),N=h.default.div.withConfig({displayName:"Custom__VoteTextLeft",componentId:"a81lus-4"})(["font-size:","px;color:",";"],v.fontSizes.base,(function(e){return e.theme.colorMain})),D=h.default.div.withConfig({displayName:"Custom__VoteTextRight",componentId:"a81lus-5"})(["font-size:","px;color:",";"],v.fontSizes.base,(function(e){return e.theme.colorText})),B=(0,h.default)(I.default).withConfig({displayName:"Custom__StyledProgressBar",componentId:"a81lus-6"})(["height:12px;width:100%;"]),R=(0,h.default)(x.default).withConfig({displayName:"Custom__StyledButton",componentId:"a81lus-7"})(["margin-top:20px;"]),A=function(e){(0,s.default)(a,e);var t=O(a);function a(){var e;(0,l.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,p.default)((0,d.default)(e),"handleOnVote",(function(){e.props.onVote()})),e}return(0,u.default)(a,[{key:"render",value:function(){var e=this.props,t=e.initiative,a=e.initiativeStatus,n=e.initiativeSettings.voting_threshold,i=e.theme,o=e.userVoted,l=t.attributes.upvotes_count,u=n;return g.default.createElement(C,null,g.default.createElement(k,null,g.default.createElement(w.default,{targetTime:t.attributes.expires_at})),g.default.createElement(y.StatusExplanation,null,g.default.createElement(_.default,{value:a.attributes.description_multiloc})),g.default.createElement(j,null,g.default.createElement(T,{"aria-hidden":!0},g.default.createElement(N,null,g.default.createElement(E.FormattedMessage,(0,r.default)({},M.default.xVotes,{values:{count:l}}))),g.default.createElement(D,null,u)),g.default.createElement(b.ScreenReaderOnly,null,g.default.createElement(E.FormattedMessage,(0,r.default)({},M.default.xVotesOfY,{values:{xVotes:g.default.createElement(E.FormattedMessage,(0,r.default)({},M.default.xVotes,{values:{count:l}})),votingThreshold:u}}))),g.default.createElement(B,{progress:l/u,color:i.colorMain,bgColor:v.colors.lightGreyishBlue})),!o&&g.default.createElement(R,{icon:"upvote",buttonStyle:"primary",onClick:this.handleOnVote},g.default.createElement(E.FormattedMessage,M.default.vote)))}}]),a}(g.PureComponent),W=(0,h.withTheme)(A);t.default=W},gZqF:function(e,t,a){"use strict";a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,r,l,u,d=n(a("VkAN")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=w(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),c=n(a("JUYq")),f=a("iP56"),p=n(a("je0/")),m=n(a("IAnr")),g=a("Rw3A"),h=n(a("xLus")),v=n(a("vOnD")),b=a("96Cm"),y=a("ufqH");function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(w=function(e){return e?a:t})(e)}var I=v.default.div.withConfig({displayName:"InitiativeShowPageTopBar__Container",componentId:"aqyjbz-0"})(["height:","px;background:#fff;border-bottom:solid 1px ",";",""],(function(e){return e.theme.mobileTopBarHeight}),(0,y.lighten)(.4,b.colors.label),b.media.biggerThanMaxTablet(o||(o=(0,d.default)(["\n    display: none;\n  "])))),x=v.default.div.withConfig({displayName:"InitiativeShowPageTopBar__TopBarInner",componentId:"aqyjbz-1"})(["height:100%;padding-left:15px;padding-right:15px;position:relative;display:flex;align-items:center;justify-content:space-between;",""],b.media.biggerThanMinTablet(r||(r=(0,d.default)(["\n    padding-left: 30px;\n    padding-right: 30px;\n  "])))),E=v.default.div.withConfig({displayName:"InitiativeShowPageTopBar__Left",componentId:"aqyjbz-2"})(["height:48px;align-items:center;display:none;",""],b.media.smallerThanMaxTablet(l||(l=(0,d.default)(["\n    display: flex;\n  "])))),M=v.default.div.withConfig({displayName:"InitiativeShowPageTopBar__Right",componentId:"aqyjbz-3"})([""]),_=(0,v.default)(f.Icon).withConfig({displayName:"InitiativeShowPageTopBar__GoBackIcon",componentId:"aqyjbz-4"})(["height:22px;fill:",";display:flex;align-items:center;justify-content:center;transition:fill 100ms ease-out;"],b.colors.label),S=v.default.button.withConfig({displayName:"InitiativeShowPageTopBar__GoBackButton",componentId:"aqyjbz-5"})(["width:45px;height:45px;display:flex;align-items:center;justify-content:center;padding:0;margin:0;margin-right:6px;margin-left:-2px;cursor:pointer;background:#fff;border-radius:50%;border:solid 1px ",";transition:all 100ms ease-out;&:hover{border-color:#000;","{fill:#000;}}"],(0,y.lighten)(.2,b.colors.label),_),P=v.default.div.withConfig({displayName:"InitiativeShowPageTopBar__GoBackLabel",componentId:"aqyjbz-6"})(["color:",";font-size:","px;font-weight:400;transition:fill 100ms ease-out;",""],b.colors.label,b.fontSizes.base,b.media.phone(u||(u=(0,d.default)(["\n    display: none;\n  "])))),O=(0,s.memo)((function(e){var t=e.initiativeId,a=e.insideModal,n=e.className,i=(0,s.useCallback)((function(e){e.preventDefault(),a?m.default.emit("closeIdeaModal"):c.default.push("/")}),[]);return s.default.createElement(I,{className:n||""},s.default.createElement(x,null,s.default.createElement(E,null,s.default.createElement(S,{onClick:i},s.default.createElement(_,{name:"arrow-back"})),s.default.createElement(P,null,s.default.createElement(g.FormattedMessage,h.default.goBack))),s.default.createElement(M,null,s.default.createElement(p.default,{initiativeId:t}))))}));t.default=O},gbtv:function(e,t,a){"use strict";a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a("pVnL")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),l=n(a("FrK0")),u=n(a("vOnD")),d=a("96Cm"),s=n(a("r5eU")),c=a("Rw3A");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}var p=u.default.div.withConfig({displayName:"PostedByMobile__Container",componentId:"sc-4rzz8u-0"})(["display:flex;align-items:center;margin-top:7px;margin-bottom:25px;"]),m=u.default.span.withConfig({displayName:"PostedByMobile__PostedByText",componentId:"sc-4rzz8u-1"})(["color:white;font-size:","px;margin-bottom:3px;"],d.fontSizes.base),g=(0,r.memo)((function(e){var t=e.authorId,a=e.className;if(t){var n=r.default.createElement(l.default,{userId:t,fontWeight:500,isLinkToProfile:!0,hideLastName:!0,color:"white"});return r.default.createElement(p,{className:"e2e-idea-author ".concat(a||"")},r.default.createElement(m,null,r.default.createElement(c.FormattedMessage,(0,o.default)({},s.default.postedByShort,{values:{authorName:n}}))))}return null}));t.default=g},gkAX:function(e,t,a){"use strict";a("tkto"),a("pNMO"),a("TeQF"),a("5DmW"),a("FZtP"),a("27RR");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.initiativeImageStream=function(e,t){var a="".concat(l.API_PATH,"/initiatives/").concat(e,"/images/").concat(t);return u.default.get({apiEndpoint:a})},t.initiativeImagesStream=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a="".concat(l.API_PATH,"/initiatives/").concat(e,"/images");return u.default.get(c({apiEndpoint:a},t))},t.deleteInitiativeImage=function(e,t){return u.default.delete("".concat(l.API_PATH,"/initiatives/").concat(e,"/images/").concat(t),t)},t.addInitiativeImage=function(e,t){return f.apply(this,arguments)};var i=n(a("o0o1")),o=n(a("yXPU")),r=n(a("lSNA"));a("ma9I");var l=a("p0gT"),u=n(a("1Kqg")),d=a("fM+I");function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function f(){return(f=(0,o.default)(i.default.mark((function e(t,a){var n,o,r,s,c=arguments;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>2&&void 0!==c[2]?c[2]:null,o="".concat(l.API_PATH,"/initiatives/").concat(t,"/images"),r={image:{ordering:n,image:a}},e.next=5,u.default.add(o,r);case 5:return s=e.sent,e.next=8,(0,d.initiativeByIdStream)(t).fetch();case 8:return e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},"je0/":function(e,t,a){"use strict";a("SuFq"),a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a("pVnL")),r=n(a("lwsE")),l=n(a("W8MJ")),u=n(a("7W2i")),d=n(a("a1gu")),s=n(a("Nsbk"));a("yWo2");var c=P(a("q1tI")),f=P(a("vOnD")),p=n(a("yYlr")),m=n(a("FSVo")),g=n(a("Z94D")),h=a("iP56"),v=n(a("doQp")),b=a("ifvJ"),y=a("KLnl"),w=a("96Cm"),I=a("+9pX"),x=a("Rw3A"),E=n(a("0524")),M=n(a("3A/8")),_=a("T89o");function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(S=function(e){return e?a:t})(e)}function P(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=S(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,s.default)(e);if(t){var i=(0,s.default)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,d.default)(this,a)}}var C=f.default.div.withConfig({displayName:"VoteIndicator__Container",componentId:"sc-1dscfyj-0"})([""]),k=f.default.div.withConfig({displayName:"VoteIndicator__StatusBadge",componentId:"sc-1dscfyj-1"})(["font-size:","px;line-height:18px;border-radius:",";padding:8px 12px;font-weight:400;background-color:",";display:flex;align-items:center;"],w.fontSizes.small,(function(e){return e.theme.borderRadius}),(function(e){return e.color})),j=f.default.div.withConfig({displayName:"VoteIndicator__BadgeLabel",componentId:"sc-1dscfyj-2"})(["&:first-letter{text-transform:uppercase;}"]),T=(0,f.default)(h.Icon).withConfig({displayName:"VoteIndicator__AnsweredBadgeIcon",componentId:"sc-1dscfyj-3"})(["width:1.6em;height:1.6em;fill:",";padding-right:7px;"],w.colors.clGreenSuccess),N=(0,f.default)(k).withConfig({displayName:"VoteIndicator__AnsweredStatusBadge",componentId:"sc-1dscfyj-4"})(["background-color:",";color:",";"],w.colors.clGreenSuccessBackground,w.colors.clGreenSuccess),D=(0,f.default)(h.Icon).withConfig({displayName:"VoteIndicator__IneligibleBadgeIcon",componentId:"sc-1dscfyj-5"})(["width:1.6em;height:1.6em;fill:",";padding-right:7px;"],w.colors.clGreyOnGreyBackground),B=(0,f.default)(k).withConfig({displayName:"VoteIndicator__IneligibleStatusBadge",componentId:"sc-1dscfyj-6"})(["background-color:",";color:",";"],w.colors.lightGreyishBlue,w.colors.clGreyOnGreyBackground),R=(0,f.default)(k).withConfig({displayName:"VoteIndicator__CustomStatusBadge",componentId:"sc-1dscfyj-7"})(["color:",";"],w.colors.clGreyOnGreyBackground),A=(0,f.default)(v.default).withConfig({displayName:"VoteIndicator__StyledProgressBar",componentId:"sc-1dscfyj-8"})(["height:9px;width:120px;"]),W=f.default.div.withConfig({displayName:"VoteIndicator__VoteCounter",componentId:"sc-1dscfyj-9"})(["display:flex;align-items:center;padding-bottom:5px;"]),V=f.default.div.withConfig({displayName:"VoteIndicator__VoteText",componentId:"sc-1dscfyj-10"})(["color:",";font-size:","px;b{font-weight:600;color:",";}span.division-bar{padding:0 4px;}"],w.colors.mediumGrey,w.fontSizes.small,(function(e){return e.theme.colorMain})),F=(0,f.default)(h.Icon).withConfig({displayName:"VoteIndicator__VoteIcon",componentId:"sc-1dscfyj-11"})(["fill:",";width:16px;height:16px;margin-top:-4px;margin-right:10px;"],w.colors.label),q=f.default.div.withConfig({displayName:"VoteIndicator__ExpiredText",componentId:"sc-1dscfyj-12"})(["display:flex;align-items:center;font-size:","px;text-transform:capitalize;padding-bottom:5px;color:",";"],w.fontSizes.small,w.colors.label),L=(0,f.default)(h.Icon).withConfig({displayName:"VoteIndicator__ExpiredIcon",componentId:"sc-1dscfyj-13"})(["path{fill:",";}width:14px;height:14px;margin:0 4px 2px 0;"],w.colors.clGreyOnGreyBackground),z=function(e){(0,u.default)(a,e);var t=O(a);function a(){return(0,r.default)(this,a),t.apply(this,arguments)}return(0,l.default)(a,[{key:"render",value:function(){var e=this.props,t=e.initiative,a=e.initiativeStatus,n=e.theme,i=e.tenant;if((0,y.isNilOrError)(t)||(0,y.isNilOrError)(a))return null;var r=a.attributes.code,l=t.attributes.upvotes_count,u=(0,_.get)(i,"attributes.settings.initiatives.voting_threshold",1);return c.default.createElement(C,{className:"e2e-initiative-card-vote-indicator"},"proposed"===r&&c.default.createElement("div",null,c.default.createElement(W,null,c.default.createElement(F,{name:"upvote",ariaHidden:!0}),c.default.createElement(V,{"aria-hidden":!0},c.default.createElement("b",{className:"e2e-initiative-card-vote-count"},l),c.default.createElement("span",{className:"division-bar"},"/"),u)),c.default.createElement(A,{progress:l/u,color:"linear-gradient(270deg, #DE7756 -30.07%, #FF672F 100%)",bgColor:w.colors.lightGreyishBlue,bgShaded:!1}),c.default.createElement(I.ScreenReaderOnly,null,c.default.createElement(x.FormattedMessage,(0,o.default)({},E.default.xVotesOfY,{values:{xVotes:l,votingThreshold:u}})))),"expired"===r&&c.default.createElement("div",null,c.default.createElement(q,null,c.default.createElement(L,{name:"clock",ariaHidden:!0}),c.default.createElement(M.default,{value:a.attributes.title_multiloc})),c.default.createElement(A,{progress:l/u,color:w.colors.label,bgColor:w.colors.lightGreyishBlue,bgShaded:!0})),"threshold_reached"===r&&c.default.createElement("div",null,c.default.createElement(W,null,c.default.createElement(F,{name:"upvote",ariaHidden:!0}),c.default.createElement(V,{"aria-hidden":!0},c.default.createElement("b",null,l),c.default.createElement("span",{className:"division-bar"},"/"),u),c.default.createElement(I.ScreenReaderOnly,null,c.default.createElement(x.FormattedMessage,(0,o.default)({},E.default.xVotesOfY,{values:{xVotes:l,votingThreshold:u}})))),c.default.createElement(A,{progress:l/u,color:n.colorMain,bgColor:w.colors.lightGreyishBlue,bgShaded:!1})),"answered"===r&&c.default.createElement(N,{color:a.attributes.color},c.default.createElement(T,{name:"round-checkmark",ariaHidden:!0}),c.default.createElement(j,null,c.default.createElement(M.default,{value:a.attributes.title_multiloc}))),"ineligible"===r&&c.default.createElement(B,{color:a.attributes.color},c.default.createElement(D,{name:"halt",ariaHidden:!0}),c.default.createElement(j,null,c.default.createElement(M.default,{value:a.attributes.title_multiloc}))),"custom"===r&&c.default.createElement(R,{color:a.attributes.color},c.default.createElement(j,null,c.default.createElement(M.default,{value:a.attributes.title_multiloc}))))}}]),a}(c.PureComponent),H=(0,b.adopt)({tenant:c.default.createElement(p.default,null),initiative:function(e){var t=e.initiativeId,a=e.render;return c.default.createElement(m.default,{id:t},a)},initiativeStatus:function(e){var t=e.initiative,a=e.render;return c.default.createElement(g.default,{id:(0,_.get)(t,"relationships.initiative_status.data.id")},a)}}),U=(0,f.withTheme)(z);t.default=function(e){return c.default.createElement(H,e,(function(t){return c.default.createElement(U,(0,o.default)({},e,t))}))}},jxG7:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("q1tI")),o=n(a("vOnD")),r=n(a("L0i+")),l=n(a("IEAL")),u=n(a("MqdI")),d=a("KLnl"),s=n(a("38aM")),c=o.default.div.withConfig({displayName:"Buttons__Container",componentId:"sc-6amf6j-0"})([""]),f=(0,o.default)(r.default).withConfig({displayName:"Buttons__StyledGoToCommentsButton",componentId:"sc-6amf6j-1"})(["margin-bottom:10px;"]),p=function(e){var t=e.ideaId,a=e.className,n=(0,s.default)({ideaId:t});if(!(0,d.isNilOrError)(n)){var o=n.attributes.action_descriptor.commenting_idea.enabled;return i.default.createElement(c,{className:a||""},o&&i.default.createElement(f,null),i.default.createElement(l.default,{ideaId:t,buttonComponent:i.default.createElement(u.default,null)}))}return null};t.default=p},kemx:function(e,t,a){"use strict";a("yq1k"),a("JTJg"),a("4mDm"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a("o0o1"));a("07d7"),a("5s+n"),a("2B1R"),a("TeQF"),a("ma9I");var r,l=n(a("RIqP")),u=n(a("yXPU")),d=n(a("J4zp")),s=n(a("VkAN")),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=B(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),f=a("T89o"),p=a("KLnl"),m=n(a("2fl8")),g=a("MfpC"),h=a("FSpq"),v=n(a("uN1B")),b=n(a("I9mC")),y=n(a("JvRQ")),w=n(a("38aM")),I=n(a("kqpI")),x=n(a("x3zm")),E=n(a("dpb+")),M=a("KuRP"),_=n(a("Y+nY")),S=n(a("1Kqg")),P=a("q3BX"),O=a("Rw3A"),C=n(a("4sB7")),k=n(a("6L1S")),j=n(a("vOnD")),T=a("96Cm"),N=a("+9pX"),D=n(a("2AJv"));function B(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(B=function(e){return e?a:t})(e)}var R=j.default.div.withConfig({displayName:"AssignBudgetControl__IdeaCardContainer",componentId:"sc-1e5jska-0"})(["display:flex;align-items:center;"]),A=j.default.div.withConfig({displayName:"AssignBudgetControl__IdeaPageContainer",componentId:"sc-1e5jska-1"})(["display:flex;flex-direction:column;align-items:stretch;",""],T.media.smallerThanMaxTablet(r||(r=(0,s.default)(["\n    padding: 20px;\n    background: ",";\n  "])),T.colors.backgroundLightGrey)),W=j.default.div.withConfig({displayName:"AssignBudgetControl__BudgetWithButtonWrapper",componentId:"sc-1e5jska-2"})(["width:100%;display:flex;flex-direction:column;align-items:stretch;justify-content:center;"]),V=j.default.div.withConfig({displayName:"AssignBudgetControl__Budget",componentId:"sc-1e5jska-3"})(["width:100%;height:90px;color:",";font-size:","px;font-weight:600;text-align:center;display:flex;align-items:center;justify-content:center;margin-bottom:3px;",";"],(function(e){return e.theme.colorText}),T.fontSizes.medium,T.defaultCardStyle),F=(0,j.default)(D.default).withConfig({displayName:"AssignBudgetControl__StyledPBExpenses",componentId:"sc-1e5jska-4"})(["margin-top:25px;padding:20px;"]),q=(0,c.memo)((function(e){var t,a,n,i=e.view,r=e.ideaId,s=e.authUser,v=e.tenant,b=e.locale,y=e.idea,w=e.phases,x=e.participationContext,E=e.participationContextId,j=e.participationContextType,D=e.intl,B=e.className,q=(0,I.default)(null==x||null===(t=x.relationships)||void 0===t||null===(a=t.user_basket)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.id),L=(0,c.useState)(!1),z=(0,d.default)(L,2),H=z[0],U=z[1],J=function(){var e=(0,u.default)(o.default.mark((function e(){var t,a,n,i,d,c,m,g,v;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=function(e){return new Promise((function(t){return setTimeout(t,e)}))},a=function(){var e=(0,u.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(200);case 2:U(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),(0,p.isNilOrError)(y)){e.next=39;break}if(d=null===(n=y.attributes.action_descriptor.budgeting)||void 0===n?void 0:n.enabled,c=(0,p.isNilOrError)(q)?[]:q.relationships.ideas.data.map((function(e){return e.id})),m=(0,f.includes)(c,r),g=null===(i=y.attributes.action_descriptor.budgeting)||void 0===i?void 0:i.disabled_reason,!(0,p.isNilOrError)(s)&&"not_verified"!==g){e.next=11;break}(0,P.openSignUpInModal)({verification:"not_verified"===g,verificationContext:"not_verified"===g?{action:"budgeting",id:E,type:j}:void 0}),e.next=39;break;case 11:if((0,p.isNilOrError)(s)||!d){e.next=39;break}if(U(!0),(0,p.isNilOrError)(q)){e.next=29;break}return v=[],v=m?q.relationships.ideas.data.filter((function(e){return e.id!==y.id})).map((function(e){return e.id})):[].concat((0,l.default)(q.relationships.ideas.data.map((function(e){return e.id}))),[y.id]),e.prev=16,e.next=19,(0,h.updateBasket)(q.id,{user_id:s.id,participation_context_id:E,participation_context_type:(0,p.capitalizeParticipationContextType)(j),idea_ids:v,submitted_at:null});case 19:a(),(0,M.trackEventByName)(_.default.ideaAddedToBasket),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(16),a(),S.default.fetchAllWith({dataId:[q.id]});case 27:e.next=39;break;case 29:return e.prev=29,e.next=32,(0,h.addBasket)({user_id:s.id,participation_context_id:E,participation_context_type:(0,p.capitalizeParticipationContextType)(j),idea_ids:[y.id]});case 32:a(),(0,M.trackEventByName)(_.default.basketCreated),e.next=39;break;case 36:e.prev=36,e.t1=e.catch(29),a();case 39:case"end":return e.stop()}}),e,null,[[16,23],[29,36]])})));return function(){return e.apply(this,arguments)}}();if(!(0,f.isUndefined)(s)&&!(0,p.isNilOrError)(b)&&!(0,p.isNilOrError)(v)&&!(0,p.isNilOrError)(y)&&!(0,f.isUndefined)(q)&&y.attributes.budget){var G,Z,K,Y,Q,$=(0,p.isNilOrError)(q)?[]:q.relationships.ideas.data.map((function(e){return e.id})),X=(0,f.includes)($,r),ee=null===(G=y.attributes.action_descriptor.budgeting)||void 0===G?void 0:G.enabled,te=!!s,ae="not_permitted"!==(null===(Z=y.attributes.action_descriptor.budgeting)||void 0===Z?void 0:Z.disabled_reason),ne=!(null===(K=y.attributes.action_descriptor.budgeting)||void 0===K||!K.disabled_reason),ie="budgeting"===(null==x||null===(Y=x.attributes)||void 0===Y?void 0:Y.participation_method),oe=(null===(Q=(0,g.getCurrentPhase)(w))||void 0===Q?void 0:Q.id)===(null==x?void 0:x.id),re="project"===j&&"archived"!==x.attributes.publication_status||oe;if(ie){var le=re&&ae?c.default.createElement(m.default,{onClick:function(e){null==e||e.preventDefault(),J()},disabled:te&&!ee&&!ne,processing:H,bgColor:X?T.colors.clRedError:T.colors.clGreen,iconSize:"18px",icon:X?"basket-minus":"basket-plus",className:"e2e-assign-budget-button ".concat(X?"in-basket":"not-in-basket"),ariaLabel:D.formatMessage(X?C.default.removeFromMyBasket:C.default.addToMyBasket)},c.default.createElement(O.FormattedMessage,X?"ideaCard"===i?C.default.remove:C.default.removeFromMyBasket:"ideaCard"===i?C.default.add:C.default.addToMyBasket)):null;if("ideaCard"===i)return c.default.createElement(R,{className:"e2e-assign-budget ".concat(B||""),"aria-live":"polite"},le);if("ideaPage"===i)return c.default.createElement(A,{className:"pbAssignBudgetControlContainer e2e-assign-budget ".concat(B||""),"aria-live":"polite"},c.default.createElement(W,null,c.default.createElement(V,null,c.default.createElement(N.ScreenReaderOnly,null,c.default.createElement(O.FormattedMessage,C.default.a11y_price)),c.default.createElement(k.default,{value:y.attributes.budget})),le),ae&&c.default.createElement(F,{participationContextId:E,participationContextType:j,viewMode:"column"}))}}return null})),L=(0,c.memo)((function(e){var t,a,n,i=e.view,o=e.projectId,r=e.ideaId,l=e.className,u=e.intl,d=(0,v.default)(),s=(0,b.default)(),m=(0,y.default)(),h=(0,w.default)({ideaId:r}),I=(0,x.default)({projectId:o}),M=(0,E.default)(o),_="continuous"===(null==I?void 0:I.attributes.process_type),S=(0,p.isNilOrError)(h)?null:null==h||null===(t=h.relationships)||void 0===t||null===(a=t.phases)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.map((function(e){return e.id})),P=(0,p.isNilOrError)(M)?null:null==M?void 0:M.filter((function(e){return(0,f.includes)(S,e.id)})),O=P?(0,g.getLatestRelevantPhase)(P):null,C=_?I:O,k=_?"project":"phase",j=(null==C?void 0:C.id)||null;return(0,p.isUndefinedOrError)(d)||(0,p.isNilOrError)(s)||(0,p.isNilOrError)(m)||(0,p.isNilOrError)(h)||(0,p.isNilOrError)(I)||(0,p.isUndefinedOrError)(M)||!C||!j?null:c.default.createElement(q,{view:i,projectId:o,ideaId:r,authUser:d,tenant:s.data,locale:m,idea:h,project:I,phases:M,participationContext:C,participationContextType:k,participationContextId:j,intl:u,className:l})})),z=(0,O.injectIntl)(L);t.default=z},l8nb:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postPageContentMaxWidth=t.rightColumnWidthTablet=t.columnsGapTablet=t.rightColumnWidthDesktop=t.columnsGapDesktop=void 0;t.columnsGapDesktop=100;t.rightColumnWidthDesktop=360;t.columnsGapTablet=60;t.rightColumnWidthTablet=300;t.postPageContentMaxWidth=1210},lq1v:function(e,t,a){"use strict";a("tkto"),a("pNMO"),a("TeQF"),a("5DmW"),a("FZtP"),a("27RR");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.voteStream=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return u.default.get(c({apiEndpoint:"".concat(l.API_PATH,"/votes/").concat(e)},t))},t.votesStream=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return u.default.get(c({apiEndpoint:"".concat(l.API_PATH,"/ideas/").concat(e,"/votes")},t))},t.addVote=function(e,t){return f.apply(this,arguments)},t.deleteVote=function(e,t){return p.apply(this,arguments)};var i=n(a("o0o1"));a("ma9I"),a("TWNs"),a("rB9j"),a("JfAA");var o=n(a("yXPU")),r=n(a("lSNA")),l=a("p0gT"),u=n(a("1Kqg")),d=a("KLnl");function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function f(){return(f=(0,o.default)(i.default.mark((function e(t,a){var n,o,r,s=arguments;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>2&&void 0!==s[2]&&s[2],e.next=3,u.default.add("".concat(l.API_PATH,"/ideas/").concat(t,"/votes"),{vote:a});case 3:return o=e.sent,n&&(r=new RegExp("/ideas/".concat(d.uuidRegExp,"$")),u.default.fetchAllWith({regexApiEndpoint:[r],onlyFetchActiveStreams:!0})),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return(p=(0,o.default)(i.default.mark((function e(t,a){var n,o,r,s=arguments;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>2&&void 0!==s[2]&&s[2],e.next=3,u.default.delete("".concat(l.API_PATH,"/votes/").concat(a),a);case 3:return o=e.sent,n&&(r=new RegExp("/ideas/".concat(d.uuidRegExp,"$")),u.default.fetchAllWith({regexApiEndpoint:[r],onlyFetchActiveStreams:!0})),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},mWLo:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,a("JRPe").defineMessages)({noResultsFound:{id:"app.components.IdeasShowPage.noResultsFound",defaultMessage:"No results found."},goBack:{id:"app.components.IdeasShowPage.goBack",defaultMessage:"Go back"},goBackToList:{id:"app.components.IdeasShowPage.goBackToList",defaultMessage:"Go back to the list"}});t.default=n},mzbP:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,a("JRPe").defineMessages)({invisibleTitle:{id:"app.containers.InitiativesShow.VoteControl.invisibleTitle",defaultMessage:"Status and votes"},moreInfo:{id:"app.containers.InitiativesShow.VoteControl.moreInfo",defaultMessage:"More info"},days:{id:"app.containers.InitiativesShow.VoteControl.days",defaultMessage:"days"},hours:{id:"app.containers.InitiativesShow.VoteControl.hours",defaultMessage:"hours"},minutes:{id:"app.containers.InitiativesShow.VoteControl.minutes",defaultMessage:"mins"},proposedStatusExplanation:{id:"app.containers.InitiativesShow.VoteControl.proposedStatusExplanation",defaultMessage:"{votingThreshold} votes needed to get this initiative {proposedStatusExplanationBold}"},proposedStatusExplanationBold:{id:"app.containers.InitiativesShow.VoteControl.proposedStatusExplanationBold",defaultMessage:"considered by {orgName}"},proposedStatusExplanationMobile:{id:"app.containers.InitiativesShow.VoteControl.proposedStatusExplanationMobile",defaultMessage:"{votingThreshold} votes needed within {daysLeft, plural, =0 {less than a day} one {one day} other {# days}} to get this initiative {proposedStatusExplanationMobileBold}"},proposedStatusExplanationMobileBold:{id:"app.containers.InitiativesShow.VoteControl.proposedStatusExplanationMobileBold",defaultMessage:"considered by {orgName}"},ineligibleStatusExplanation:{id:"app.containers.InitiativesShow.VoteControl.ineligibleStatusExplanation",defaultMessage:"This initiative doesn't meet the criteria {ineligibleStatusExplanationBold}"},ineligibleStatusExplanationBold:{id:"app.containers.InitiativesShow.VoteControl.ineligibleStatusExplanationBold",defaultMessage:"to be eligible"},expiredStatusExplanation:{id:"app.containers.InitiativesShow.VoteControl.expiredStatusExplanation",defaultMessage:"This initiative expired as it {expiredStatusExplanationBold}."},expiredStatusExplanationBold:{id:"app.containers.InitiativesShow.VoteControl.expiredStatusExplanationBold",defaultMessage:"didn't reach {votingThreshold} votes in time"},thresholdReachedStatusExplanation:{id:"app.containers.InitiativesShow.VoteControl.thresholdReachedStatusExplanation",defaultMessage:"{thresholdReachedStatusExplanationBold}. {orgName} got notified and will provide an answer. Voting remains open."},thresholdReachedStatusExplanationBold:{id:"app.containers.InitiativesShow.VoteControl.thresholdReachedStatusExplanationBold",defaultMessage:"The threshold has been reached"},answeredStatusExplanation:{id:"app.containers.InitiativesShow.VoteControl.answeredStatusExplanation",defaultMessage:"{answeredStatusExplanationBold} Voting remains open."},answeredStatusExplanationBold:{id:"app.containers.InitiativesShow.VoteControl.answeredStatusExplanationBold",defaultMessage:"{orgName} received the initiative and gave an official answer."},xVotes:{id:"app.containers.InitiativesShow.VoteControl.xVotes",defaultMessage:"{count, plural, =0 {no votes} one {1 vote} other {# votes}}"},vote:{id:"app.containers.InitiativesShow.VoteControl.vote",defaultMessage:"Vote"},cancelVote:{id:"app.containers.InitiativesShow.VoteControl.cancelVote",defaultMessage:"Cancel vote"},readAnswer:{id:"app.containers.InitiativesShow.VoteControl.readAnswer",defaultMessage:"Read answer"},votedTitle:{id:"app.containers.InitiativesShow.VoteControl.votedTitle",defaultMessage:"Your vote has been submitted!"},votedText:{id:"app.containers.InitiativesShow.VoteControl.votedText",defaultMessage:"You'll get notified when this initiative goes to the next step. {x, plural, =0 {There's {xDays} left.} one {There's {xDays} left.} other {There are {xDays} left.}}"},xDays:{id:"app.containers.InitiativesShow.VoteControl.xDays",defaultMessage:"{x, plural, =0 {less than a day} one {one day} other {# days}}"},unvoteLink:{id:"app.containers.InitiativesShow.VoteControl.unvoteLink",defaultMessage:"Cancel my vote"},xVotesOfY:{id:"app.containers.InitiativesShow.VoteControl.xVotesOfY",defaultMessage:"{xVotes} out of {votingThreshold}"},xPeopleVoted:{id:"app.containers.InitiativesShow.VoteControl.xPeopleVoted",defaultMessage:"{xPeople} voted for this initiative"},xPeople:{id:"app.containers.InitiativesShow.VoteControl.xPeople",defaultMessage:"{count, plural, =0 {No one} one {One person} other {# people}}"},or:{id:"app.containers.InitiativesShow.VoteControl.or",defaultMessage:"or"},votingNotPermitted:{id:"app.containers.InitiativesShow.VoteControl.votingNotPermitted",defaultMessage:"You don't have the rights to vote on this proposal."}});t.default=n},nYaD:function(e,t,a){"use strict";a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,r,l=n(a("VkAN")),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),d=n(a("vOnD")),s=a("96Cm"),c=a("l8nb"),f=n(a("Yjdl"));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}var m=d.default.div.withConfig({displayName:"ActionBar__Container",componentId:"sc-1aorc5t-0"})(["width:100%;height:50px;color:",";background:rgba(132,147,158,0.06);border-bottom:1px solid ",";"],s.colors.label,s.colors.adminSeparation),g=d.default.div.withConfig({displayName:"ActionBar__Inner",componentId:"sc-1aorc5t-1"})(["max-width:","px;height:100%;margin:0 auto;padding-left:60px;padding-right:60px;display:flex;align-items:center;justify-content:space-between;"," ",""],c.postPageContentMaxWidth,s.media.smallerThanMaxTablet(o||(o=(0,l.default)(["\n    max-width: 100vw;\n  "]))),s.media.smallerThanMinTablet(r||(r=(0,l.default)(["\n    width: 100%;\n    max-width: 100vw;\n    padding-left: 15px;\n    padding-right: 15px;\n  "])))),h=d.default.div.withConfig({displayName:"ActionBar__Left",componentId:"sc-1aorc5t-2"})(["flex:1;min-width:0;display:flex;align-items:center;margin-right:20px;"]),v=d.default.div.withConfig({displayName:"ActionBar__Right",componentId:"sc-1aorc5t-3"})(["display:flex;align-items:center;"]),b=(0,u.memo)((function(e){var t=e.rightContent,a=e.leftContent,n=e.translateButtonClicked,i=e.onTranslate,o=e.initiative,r=e.locale;return u.default.createElement(m,null,u.default.createElement(g,null,u.default.createElement(h,null,a),u.default.createElement(v,null,u.default.createElement(f.default,{id:"app.components.PostShowComponents.ActionBar.right",translateButtonClicked:n,onClick:i,initiative:o,locale:r}),t)))}));t.default=b},nq8s:function(e,t,a){"use strict";a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("ma9I");var o,r,l=n(a("VkAN")),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=w(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),d=n(a("sokT")),s=n(a("GpY6")),c=n(a("OsxD")),f=n(a("sQU+")),p=n(a("gZqF")),m=n(a("dp4Y")),g=n(a("38aM")),h=n(a("K/LT")),v=a("KLnl"),b=n(a("vOnD")),y=a("96Cm");function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(w=function(e){return e?a:t})(e)}var I=(0,b.default)(s.default).withConfig({displayName:"PostPageFullscreenModal__StyledIdeasShow",componentId:"wm9bhq-0"})(["min-height:calc( 100vh - ","px );padding-top:40px;padding-left:60px;padding-right:60px;"," ",""],(function(e){return e.theme.menuHeight+e.theme.footerHeight}),y.media.smallerThanMaxTablet(o||(o=(0,l.default)(["\n    min-height: calc(100vh - ","px);\n    padding-top: 35px;\n  "])),(function(e){var t=e.theme;return t.mobileMenuHeight+t.mobileTopBarHeight})),y.media.smallerThanMinTablet(r||(r=(0,l.default)(["\n    padding-top: 25px;\n    padding-left: 15px;\n    padding-right: 15px;\n  "])))),x=(0,u.memo)((function(e){var t=e.postId,a=e.slug,n=e.type,i=e.navbarRef,o=e.mobileNavbarRef,r=e.close,l=(0,h.default)().windowWidth<=y.viewportWidths.largeTablet,s=(0,g.default)({ideaId:t}),b=(0,u.useMemo)((function(){return t&&"idea"===n&&l?u.default.createElement(c.default,{ideaId:t,insideModal:!0}):t&&"initiative"===n?u.default.createElement(p.default,{initiativeId:t,insideModal:!0}):null}),[t,n,l]),w=(0,u.useMemo)((function(){if(t){if("idea"===n&&!(0,v.isNilOrError)(s)){var e=s.relationships.project.data.id;return u.default.createElement(u.default.Fragment,null,u.default.createElement(I,{ideaId:t,projectId:e,insideModal:!0}),u.default.createElement(m.default,{insideModal:!0}))}if("initiative"===n)return u.default.createElement(u.default.Fragment,null,u.default.createElement(f.default,{initiativeId:t}),u.default.createElement(m.default,{insideModal:!0}))}return null}),[t,s]),x=(0,u.useCallback)((function(){r()}),[r]);return u.default.createElement(d.default,{opened:!!(t&&a&&n),close:x,url:a?"/".concat(n,"s/").concat(a):null,topBar:b,navbarRef:i,mobileNavbarRef:o},w)}));t.default=x},oGDI:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.HelpIcon=t.TooltipWrapper=t.StatusExplanation=t.StatusWrapper=void 0;var i=n(a("VkAN"));a("yWo2");var o,r=n(a("vOnD")),l=a("96Cm"),u=a("iP56"),d=r.default.div.withConfig({displayName:"SharedStyles__StatusWrapper",componentId:"sc-1ru9hco-0"})(["display:flex;flex-direction:row-reverse;font-size:",";text-transform:uppercase;color:",";&.answered{color:",";}",""],l.fontSizes.small,l.colors.clGreyOnGreyBackground,l.colors.clGreen,l.media.smallerThanMaxTablet(o||(o=(0,i.default)(["\n    display: none;\n  "]))));t.StatusWrapper=d;var s=r.default.div.withConfig({displayName:"SharedStyles__StatusExplanation",componentId:"sc-1ru9hco-1"})(["font-size:","px;color:",";line-height:23px;.tooltip-icon{margin-left:3px;display:inline-block;}b{font-weight:600;background-color:rgba(255,197,47,0.16);}"],l.fontSizes.base,(function(e){return e.theme.colorText}));t.StatusExplanation=s;var c=r.default.div.withConfig({displayName:"SharedStyles__TooltipWrapper",componentId:"sc-1ru9hco-2"})(["padding:15px;min-width:150px;max-width:300px;font-size:","px;color:",";font-weight:400;line-height:16px;text-align:left;"],l.fontSizes.small,(function(e){return e.theme.colorText}));t.TooltipWrapper=c;var f=(0,r.default)(u.Icon).withConfig({displayName:"SharedStyles__HelpIcon",componentId:"sc-1ru9hco-3"})(["width:12px;height:12px;"]);t.HelpIcon=f},"oHY+":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={clickUpvote:{name:"Idea upvote clicked"},clickDownvote:{name:"Idea downvote clicked"},sharingModalOpened:{name:"ideaflow social sharing modal opened"},clickTranslateIdeaButton:{name:"Clicked button to translate idea title/description"},clickGoBackToOriginalIdeaCopyButton:{name:"Clicked button to go back to original, non-translated idea title/description"}}},oRVF:function(e,t,a){"use strict";a("SuFq");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("FZtP");var i=n(a("lwsE")),o=n(a("W8MJ")),r=n(a("PJYZ")),l=n(a("7W2i")),u=n(a("a1gu")),d=n(a("Nsbk")),s=n(a("lSNA")),c=n(a("q1tI")),f=a("DtyJ"),p=a("ahDk"),m=n(a("aTp4")),g=a("iamO"),h=a("KLnl");function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,d.default)(e);if(t){var i=(0,d.default)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,u.default)(this,a)}}var b=function(e){(0,l.default)(a,e);var t=v(a);function a(e){var n;return(0,i.default)(this,a),n=t.call(this,e),(0,s.default)((0,r.default)(n),"inputProps$",void 0),(0,s.default)((0,r.default)(n),"subscriptions",void 0),n.state={permission:void 0},n}return(0,o.default)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.item,n=t.action,i=t.context;this.inputProps$=new f.BehaviorSubject({item:a,action:n,context:i}),this.subscriptions=[this.inputProps$.pipe((0,p.distinctUntilChanged)((function(e,t){return(0,m.default)(e,t)})),(0,p.switchMap)((function(e){var t=e.item,a=e.action,n=e.context;return(0,h.isNilOrError)(t)?(0,f.of)(!1):(0,g.hasPermission)({item:t,action:a,context:n})}))).subscribe((function(t){return e.setState({permission:t})}))]}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.item,a=e.action,n=e.context;this.inputProps$.next({item:t,action:a,context:n})}},{key:"componentWillUnmount",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"render",value:function(){return(0,this.props.children)(this.state.permission)}}]),a}(c.default.Component);t.default=b},qGqp:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pageContentMaxWidth=t.rightColumnWidthTablet=t.columnsGapTablet=t.rightColumnWidthDesktop=t.columnsGapDesktop=void 0;t.columnsGapDesktop=90;t.rightColumnWidthDesktop=350;t.columnsGapTablet=60;t.rightColumnWidthTablet=300;t.pageContentMaxWidth=1210},r2I7:function(e,t,a){"use strict";a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a("pVnL")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=g(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),l=a("ifvJ"),u=n(a("LoHC")),d=n(a("nYaD")),s=n(a("1fT+")),c=n(a("FSVo")),f=n(a("yiTP")),p=n(a("r5eU")),m=a("KLnl");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(g=function(e){return e?a:t})(e)}var h=(0,n(a("vOnD")).default)(s.default).withConfig({displayName:"ActionBar__StyledInitiativeMoreActions",componentId:"bzz7vb-0"})([""]),v=(0,r.memo)((function(e){var t=e.onTranslateInitiative,a=e.translateButtonClicked,n=e.initiative,i=e.locale;return r.default.createElement(d.default,{leftContent:r.default.createElement(u.default,{postType:"initiative",links:[{text:{message:p.default.allInitiatives},to:"/initiatives"}]}),rightContent:(0,m.isNilOrError)(n)?null:r.default.createElement(h,{id:"e2e-initiative-more-actions-desktop",initiative:n}),initiative:n,locale:i,onTranslate:t,translateButtonClicked:a})})),b=(0,l.adopt)({locale:r.default.createElement(f.default,null),initiative:function(e){var t=e.initiativeId,a=e.render;return r.default.createElement(c.default,{id:t},a)}});t.default=function(e){return r.default.createElement(b,e,(function(t){return r.default.createElement(v,(0,o.default)({},e,t))}))}},r5eU:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,a("JRPe").defineMessages)({metaTitle:{id:"app.containers.InitiativesShow.metaTitle",defaultMessage:"Initiative: {initiativeTitle}"},invisibleTitleContent:{id:"app.containers.InitiativesShow.invisibleTitleContent",defaultMessage:"What is this initiative about?"},metaOgTitle:{id:"app.containers.InitiativesShow.metaOgTitle",defaultMessage:"Support this initiative: {initiativeTitle}"},initiativeOgDescription:{id:"app.containers.InitiativesShow.initiativeOgDescription",defaultMessage:"What do you think of this initiative? Join the discussion and vote to make your voice heard."},learnMore:{id:"app.containers.InitiativesShow.learnMore",defaultMessage:"Learn more about initiatives"},postedBy:{id:"app.containers.InitiativesShow.postedBy",defaultMessage:"Initiative posted by {authorName}"},postedByShort:{id:"app.containers.InitiativesShow.postedByShort",defaultMessage:"Posted by {authorName}"},twitterMessage:{id:"app.containers.InitiativesShow.twitterMessage",defaultMessage:"Vote for {initiativeTitle} on"},whatsAppMessage:{id:"app.containers.InitiativesShow.whatsAppMessage",defaultMessage:"{initiativeTitle} | from the participation platform of {orgName}"},emailSharingSubject:{id:"app.containers.InitiativesShow.emailSharingSubject",defaultMessage:"Support my initiative: {initiativeTitle}."},emailSharingBody:{id:"app.containers.InitiativesShow.emailSharingBody",defaultMessage:"What do you think of this initiative? Vote on it and share the discussion at {initiativeUrl} to make your voice heard!"},allInitiatives:{id:"app.containers.InitiativesShow.allInitiatives",defaultMessage:"All Initiatves"},moreOptions:{id:"app.components.InitiativesShow.moreOptions",defaultMessage:"More options"},reportAsSpam:{id:"app.components.InitiativesShow.reportAsSpam",defaultMessage:"Report as spam"},editInitiative:{id:"app.components.InitiativesShow.editInitiative",defaultMessage:"Edit initiative"},deleteInitiative:{id:"app.components.InitiativesShow.deleteInitiative",defaultMessage:"Delete initiative"},deleteInitiativeConfirmation:{id:"app.components.InitiativesShow.deleteInitiativeConfirmation",defaultMessage:"Are you sure you want to delete this initiative?"},reportAsSpamModalTitle:{id:"app.containers.InitiativesShow.reportAsSpamModalTitle",defaultMessage:"Why do you want to report this as spam?"},skipSharing:{id:"app.components.InitiativesShow.skipSharing",defaultMessage:"Skip it, I'll do it later"},shareTitle:{id:"app.components.InitiativesShow.shareTitle",defaultMessage:"Congratulations, your initiative was successfully posted!"},shareSubtitle:{id:"app.components.InitiativesShow.shareSubtitle",defaultMessage:"Share your initiative to reach {votingThreshold} votes in {daysLimit} days."},a11y_voteControl:{id:"app.containers.InitiativesShow.a11y_voteControl",defaultMessage:"Voting and status"}});t.default=n},sLV3:function(e,t,a){"use strict";a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a("pVnL"));a("yWo2");var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=g(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),l=a("iP56"),u=n(a("FrK0")),d=n(a("jWBj")),s=n(a("vOnD")),c=a("96Cm"),f=a("ufqH"),p=n(a("r5eU")),m=a("Rw3A");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(g=function(e){return e?a:t})(e)}var h=s.default.div.withConfig({displayName:"PostedBy__Container",componentId:"sc-1fb9rk5-0"})(["display:flex;align-items:center;margin-bottom:25px;"]),v=(0,s.default)(l.Icon).withConfig({displayName:"PostedBy__InitiativesIcon",componentId:"sc-1fb9rk5-1"})(["width:42px;height:42px;background-color:rgba(4,77,108,0.06);fill:",";border-radius:50%;padding:10px;margin-right:17px;"],c.colors.adminTextColor),b=s.default.div.withConfig({displayName:"PostedBy__PostedByWrapper",componentId:"sc-1fb9rk5-2"})(["display:flex;flex-direction:column;"]),y=s.default.div.withConfig({displayName:"PostedBy__PostedByText",componentId:"sc-1fb9rk5-3"})(["color:",";font-size:","px;margin-bottom:3px;"],(function(e){return e.theme.colorText}),c.fontSizes.base),w=(0,s.default)(d.default).withConfig({displayName:"PostedBy__AboutInitiativesLink",componentId:"sc-1fb9rk5-4"})(["font-size:","px;color:",";text-decoration:underline;&:hover{color:",";text-decoration:underline;}"],c.fontSizes.small,c.colors.clGreyOnGreyBackground,(0,f.darken)(.2,c.colors.clGreyOnGreyBackground)),I=(0,r.memo)((function(e){var t=e.authorId,a=e.className,n=e.showAboutInitiatives;if(t){var i=r.default.createElement(u.default,{userId:t,fontWeight:500,isLinkToProfile:!0,hideLastName:!0});return r.default.createElement(h,{id:"e2e-initiative-posted-by",className:a||""},r.default.createElement(v,{name:"initiatives"}),r.default.createElement(b,null,r.default.createElement(y,null,r.default.createElement(m.FormattedMessage,(0,o.default)({},p.default.postedBy,{values:{authorName:i}}))),n&&r.default.createElement(w,{to:"/pages/initiatives"},r.default.createElement(m.FormattedMessage,p.default.learnMore))))}return null}));t.default=I},"sQU+":function(e,t,a){"use strict";a("SuFq"),a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.InitiativesShow=void 0,a("2B1R");var o,r,l,u,d,s,c,f,p,m,g,h,v,b=n(a("pVnL")),y=n(a("lwsE")),w=n(a("W8MJ")),I=n(a("PJYZ")),x=n(a("7W2i")),E=n(a("a1gu")),M=n(a("Nsbk")),_=n(a("lSNA")),S=n(a("VkAN")),P=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=ye(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),O=a("T89o"),C=a("KLnl"),k=a("ifvJ"),j=a("KuRP"),T=n(a("eTaz")),N=a("dtw8"),D=n(a("1hFV")),B=n(a("vPs5")),R=a("iP56"),A=n(a("T5Cy")),W=n(a("UjkJ")),V=n(a("0Pyc")),F=n(a("Uj4o")),q=n(a("zJWc")),L=n(a("VUEM")),z=n(a("Mh2d")),H=n(a("72sj")),U=n(a("Y6RB")),J=n(a("/Eug")),G=n(a("Nvc/")),Z=n(a("sLV3")),K=n(a("gbtv")),Y=n(a("r2I7")),Q=n(a("OrE6")),$=n(a("1fT+")),X=n(a("A4tC")),ee=n(a("yiTP")),te=n(a("bc9h")),ae=n(a("FSVo")),ne=n(a("YLV/")),ie=n(a("17nk")),oe=n(a("mjsl")),re=n(a("oRVF")),le=n(a("yYlr")),ue=a("04NW"),de=a("Rw3A"),se=n(a("sL4G")),ce=n(a("r5eU")),fe=n(a("V3HD")),pe=n(a("pQ8y")),me=n(a("vOnD")),ge=a("96Cm"),he=a("+9pX"),ve=a("5Rlm"),be=n(a("Yjdl"));function ye(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(ye=function(e){return e?a:t})(e)}function we(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,M.default)(e);if(t){var i=(0,M.default)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,E.default)(this,a)}}var Ie=me.default.div.withConfig({displayName:"InitiativesShow__Loading",componentId:"sc-1f3uux6-0"})(["position:absolute;top:0;bottom:0;right:0;left:0;display:flex;align-items:center;justify-content:center;"]),xe=me.default.main.withConfig({displayName:"InitiativesShow__Container",componentId:"sc-1f3uux6-1"})(["display:flex;flex-direction:column;min-height:calc( 100vh - ","px );"," &.content-enter{opacity:0;&.content-enter-active{opacity:1;transition:opacity ","ms "," ","ms;}}&.content-enter-done{opacity:1;}"],(function(e){return e.theme.menuHeight+e.theme.footerHeight}),ge.media.smallerThanMaxTablet(o||(o=(0,S.default)(["\n    min-height: calc(100vh - ","px - ","px);\n  "])),(function(e){return e.theme.mobileMenuHeight}),(function(e){return e.theme.mobileTopBarHeight})),250,"cubic-bezier(0.19, 1, 0.22, 1)",150),Ee=me.default.div.withConfig({displayName:"InitiativesShow__InitiativeContainer",componentId:"sc-1f3uux6-2"})(["width:100%;max-width:","px;display:flex;flex-direction:column;margin:0;margin-left:auto;margin-right:auto;padding:0;padding-top:60px;padding-left:60px;padding-right:60px;position:relative;"," ",""],ve.pageContentMaxWidth,ge.media.smallerThanMaxTablet(r||(r=(0,S.default)(["\n    padding-top: 35px;\n  "]))),ge.media.smallerThanMinTablet(l||(l=(0,S.default)(["\n    padding-top: 25px;\n    padding-left: 15px;\n    padding-right: 15px;\n  "])))),Me=me.default.div.withConfig({displayName:"InitiativesShow__Content",componentId:"sc-1f3uux6-3"})(["width:100%;display:flex;",""],ge.media.smallerThanMaxTablet(u||(u=(0,S.default)(["\n    display: block;\n  "])))),_e=me.default.div.withConfig({displayName:"InitiativesShow__LeftColumn",componentId:"sc-1f3uux6-4"})(["flex:2;margin:0;padding:0;padding-right:","px;"," ",""],ve.columnsGapDesktop,ge.media.tablet(d||(d=(0,S.default)(["\n    padding-right: ","px;\n  "])),ve.columnsGapTablet),ge.media.smallerThanMaxTablet(s||(s=(0,S.default)(["\n    padding: 0;\n  "])))),Se=(0,me.default)(F.default).withConfig({displayName:"InitiativesShow__StyledTopics",componentId:"sc-1f3uux6-5"})(["margin-bottom:30px;",""],ge.media.smallerThanMaxTablet(c||(c=(0,S.default)(["\n    margin-bottom: 5px;\n  "])))),Pe=me.default.div.withConfig({displayName:"InitiativesShow__InitiativeHeader",componentId:"sc-1f3uux6-6"})(["margin-top:-5px;margin-bottom:28px;",""],ge.media.smallerThanMaxTablet(f||(f=(0,S.default)(["\n    margin-top: 0px;\n    margin-bottom: 45px;\n  "])))),Oe=me.default.div.withConfig({displayName:"InitiativesShow__InitiativeBannerContainer",componentId:"sc-1f3uux6-7"})(["width:100%;height:163px;display:flex;align-items:stretch;position:relative;background:",";",""],(function(e){return e.theme.colorMain}),ge.media.smallerThanMinTablet(p||(p=(0,S.default)(["\n    min-height: 200px;\n  "])))),Ce=me.default.div.withConfig({displayName:"InitiativesShow__InitiativeBannerImage",componentId:"sc-1f3uux6-8"})(["position:absolute;top:0;bottom:0;left:0;right:0;background-repeat:no-repeat;background-position:center center;background-size:cover;background-image:url(",");"],(function(e){return e.src})),ke=me.default.div.withConfig({displayName:"InitiativesShow__InitiativeHeaderOverlay",componentId:"sc-1f3uux6-9"})(["position:absolute;top:0;bottom:0;left:0;right:0;background:linear-gradient( 0deg,rgba(0,0,0,0.5) 0%,rgba(0,0,0,0) 100% ),linear-gradient(0deg,rgba(0,0,0,0.3),rgba(0,0,0,0.3));"]),je=me.default.div.withConfig({displayName:"InitiativesShow__InitiativeBannerContent",componentId:"sc-1f3uux6-10"})(["display:flex;flex-direction:column;justify-content:center;padding-left:20px;padding-right:20px;padding-top:40px;padding-bottom:40px;z-index:1;"]),Te=me.default.div.withConfig({displayName:"InitiativesShow__MobileMoreActionContainer",componentId:"sc-1f3uux6-11"})(["position:absolute;top:10px;right:10px;"]),Ne=(0,me.default)(L.default).withConfig({displayName:"InitiativesShow__StyledDropdownMap",componentId:"sc-1f3uux6-12"})(["margin-bottom:40px;",""],ge.media.smallerThanMaxTablet(m||(m=(0,S.default)(["\n    margin-bottom: 20px;\n  "])))),De=me.default.div.withConfig({displayName:"InitiativesShow__RightColumn",componentId:"sc-1f3uux6-13"})(["flex:1;margin:0;padding:0;"]),Be=(0,me.default)(De).withConfig({displayName:"InitiativesShow__RightColumnDesktop",componentId:"sc-1f3uux6-14"})(["flex:0 0 ","px;width:","px;"," ",""],ve.rightColumnWidthDesktop,ve.rightColumnWidthDesktop,ge.media.tablet(g||(g=(0,S.default)(["\n    flex: 0 0 ","px;\n    width: ","px;\n  "])),ve.rightColumnWidthTablet,ve.rightColumnWidthTablet),ge.media.smallerThanMaxTablet(h||(h=(0,S.default)(["\n    display: none;\n  "])))),Re=me.default.div.withConfig({displayName:"InitiativesShow__MetaContent",componentId:"sc-1f3uux6-15"})(["width:100%;display:flex;flex-direction:column;"]),Ae=me.default.div.withConfig({displayName:"InitiativesShow__SharingWrapper",componentId:"sc-1f3uux6-16"})(["display:flex;flex-direction:column;"]),We=(0,me.default)(A.default).withConfig({displayName:"InitiativesShow__SharingButtonsMobile",componentId:"sc-1f3uux6-17"})(["padding:0;margin:0;margin-top:40px;",""],ge.media.biggerThanMaxTablet(v||(v=(0,S.default)(["\n    display: none;\n  "])))),Ve=(0,me.default)(J.default).withConfig({displayName:"InitiativesShow__StyledOfficialFeedback",componentId:"sc-1f3uux6-18"})(["margin-top:80px;"]),Fe=(0,me.default)(Q.default).withConfig({displayName:"InitiativesShow__StyledVoteControl",componentId:"sc-1f3uux6-19"})(["box-shadow:1px 0px 15px rgba(0,0,0,0.06);border-bottom:1px solid rgba(0,0,0,0.06);padding:25px;"]),qe=function(e){(0,x.default)(a,e);var t=we(a);function a(e){var n;return(0,y.default)(this,a),n=t.call(this,e),(0,_.default)((0,I.default)(n),"officialFeedbackElement",(0,P.createRef)()),(0,_.default)((0,I.default)(n),"timeoutRef",void 0),(0,_.default)((0,I.default)(n),"setLoaded",(function(){var e=n.state.loaded,t=n.props,a=t.initiative,i=t.initiativeImages,o=t.officialFeedbacks;e||(0,C.isNilOrError)(a)||(0,O.isUndefined)(i)||(0,O.isUndefined)(o.officialFeedbacksList)||n.setState({loaded:!0})})),(0,_.default)((0,I.default)(n),"closeInitiativeSocialSharingModal",(function(){n.setState({initiativeIdForSocialSharing:null})})),(0,_.default)((0,I.default)(n),"onTranslateInitiative",(function(){n.setState((function(e){return!0===e.translateButtonClicked?(0,j.trackEvent)(T.default.clickGoBackToOriginalInitiativeCopyButton):!1===e.translateButtonClicked&&(0,j.trackEvent)(T.default.clickTranslateInitiativeButton),{translateButtonClicked:!e.translateButtonClicked}}))})),(0,_.default)((0,I.default)(n),"onScrollToOfficialFeedback",(function(){n.officialFeedbackElement.current&&n.officialFeedbackElement.current.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),n.setState({a11y_pronounceLatestOfficialFeedbackPost:!0}),n.timeoutRef=setTimeout((function(){return n.setState({a11y_pronounceLatestOfficialFeedbackPost:!1})}),2e3)})),n.state={loaded:!1,spamModalVisible:!1,initiativeIdForSocialSharing:null,translateButtonClicked:!1,a11y_pronounceLatestOfficialFeedbackPost:!1},n}return(0,w.default)(a,[{key:"componentDidMount",value:function(){var e,t=this,a=null===(e=this.props.location.query)||void 0===e?void 0:e.new_initiative_id;this.setLoaded(),(0,O.isString)(a)&&(setTimeout((function(){t.setState({initiativeIdForSocialSharing:a})}),1500),window.history.replaceState(null,"",window.location.pathname))}},{key:"componentDidUpdate",value:function(){this.setLoaded()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeoutRef)}},{key:"render",value:function(){var e=this.props,t=e.initiativeFiles,a=e.locale,n=e.initiative,i=e.localize,o=e.initiativeImages,r=e.authUser,l=e.windowSize,u=e.className,d=e.postOfficialFeedbackPermission,s=e.tenant,c=this.state,f=c.loaded,p=c.initiativeIdForSocialSharing,m=c.translateButtonClicked,g=c.a11y_pronounceLatestOfficialFeedbackPost,h=this.props.intl.formatMessage,v=(0,C.isNilOrError)(s)?null:s.attributes.settings.initiatives,y=v?v.voting_threshold:null,w=v?v.days_limit:null,I=null;if(v&&!(0,C.isNilOrError)(n)&&!(0,C.isNilOrError)(a)&&f){var x,E,M,_,S,O,k,j,T,N,F,L,J,X,ee,te,ae=null==n||null===(x=n.attributes)||void 0===x||null===(E=x.header_bg)||void 0===E?void 0:E.large,ne=null==n||null===(M=n.relationships)||void 0===M||null===(_=M.author)||void 0===_||null===(S=_.data)||void 0===S?void 0:S.id,ie=i(null==n||null===(O=n.attributes)||void 0===O?void 0:O.title_multiloc),oe=null==o||null===(k=o[0])||void 0===k||null===(j=k.attributes)||void 0===j||null===(T=j.versions)||void 0===T?void 0:T.large,re=null==n||null===(N=n.attributes)||void 0===N?void 0:N.location_point_geojson,le=(0,ue.getAddressOrFallbackDMS)(null==n||null===(F=n.attributes)||void 0===F?void 0:F.location_description,null==n||null===(L=n.attributes)||void 0===L?void 0:L.location_point_geojson),se=(null==n||null===(J=n.relationships)||void 0===J||null===(X=J.topics)||void 0===X||null===(ee=X.data)||void 0===ee?void 0:ee.map((function(e){return e.id})))||[],fe=location.href,me=null==n?void 0:n.id,ve=i(null==n||null===(te=n.attributes)||void 0===te?void 0:te.body_multiloc),ye=!l||l>ge.viewportWidths.largeTablet,we=!!l&&l<=ge.viewportWidths.largeTablet,De=(0,C.isNilOrError)(r)?{source:"share_initiative",campaign:"share_content"}:{source:"share_initiative",campaign:"share_content",content:r.id};I=P.default.createElement(P.default.Fragment,null,P.default.createElement(G.default,{initiativeId:me}),ye&&ae&&P.default.createElement(Oe,null,ae&&P.default.createElement(Ce,{src:ae})),we&&P.default.createElement(Oe,null,ae&&P.default.createElement(P.default.Fragment,null,P.default.createElement(Ce,{src:ae}),P.default.createElement(ke,null)),P.default.createElement(je,null,P.default.createElement(Te,null,P.default.createElement($.default,{initiative:n,id:"e2e-initiative-more-actions-mobile",color:"white"})),P.default.createElement(q.default,{postId:me,postType:"initiative",title:ie,locale:a,translateButtonClicked:m,color:"white",align:"left"}),P.default.createElement(K.default,{authorId:ne}))),ye&&P.default.createElement(Y.default,{initiativeId:me,translateButtonClicked:m,onTranslateInitiative:this.onTranslateInitiative}),we&&P.default.createElement(Fe,{initiativeId:me,onScrollToOfficialFeedback:this.onScrollToOfficialFeedback}),P.default.createElement(Ee,null,P.default.createElement(Me,null,P.default.createElement(_e,null,P.default.createElement(Se,{postType:"initiative",topicIds:se}),ye&&P.default.createElement(Pe,null,P.default.createElement(q.default,{postType:"initiative",postId:me,title:ie,locale:a,translateButtonClicked:m})),ye&&P.default.createElement(Z.default,{authorId:ne,showAboutInitiatives:!0}),oe&&P.default.createElement(H.default,{src:oe,alt:"",id:"e2e-initiative-image"}),P.default.createElement(be.default,{id:"app.containers.InitiativesShow.left",windowSize:l,translateButtonClicked:m,onClick:this.onTranslateInitiative,initiative:n,locale:a}),re&&le&&P.default.createElement(Ne,{address:le,position:re}),P.default.createElement(he.ScreenReaderOnly,null,P.default.createElement(de.FormattedMessage,(0,b.default)({tagName:"h2"},ce.default.invisibleTitleContent))),P.default.createElement(z.default,{postId:me,postType:"initiative",locale:a,body:ve,translateButtonClicked:m}),!(0,C.isNilOrError)(t)&&t.length>0&&P.default.createElement(B.default,{files:t}),P.default.createElement("div",{ref:this.officialFeedbackElement},P.default.createElement(Ve,{postId:me,postType:"initiative",permissionToPost:d,a11y_pronounceLatestOfficialFeedbackPost:g})),we&&P.default.createElement(We,{context:"initiative",url:fe,twitterMessage:h(ce.default.twitterMessage,{initiativeTitle:ie}),whatsAppMessage:h(ce.default.whatsAppMessage,{initiativeTitle:ie}),emailSubject:h(ce.default.emailSharingSubject,{initiativeTitle:ie}),emailBody:h(ce.default.emailSharingBody,{initiativeUrl:fe,initiativeTitle:ie}),utmParams:De})),ye&&P.default.createElement(Be,null,P.default.createElement(Re,null,P.default.createElement(he.ScreenReaderOnly,null,P.default.createElement(de.FormattedMessage,(0,b.default)({tagName:"h2"},ce.default.a11y_voteControl))),P.default.createElement(Q.default,{initiativeId:n.id,onScrollToOfficialFeedback:this.onScrollToOfficialFeedback,id:"e2e-initiative-vote-control"}),P.default.createElement(Ae,null,P.default.createElement(A.default,{id:"e2e-initiative-sharing-component",context:"initiative",url:fe,twitterMessage:h(ce.default.twitterMessage,{initiativeTitle:ie}),whatsAppMessage:h(ce.default.whatsAppMessage,{initiativeTitle:ie}),emailSubject:h(ce.default.emailSharingSubject,{initiativeTitle:ie}),emailBody:h(ce.default.emailSharingBody,{initiativeUrl:fe,initiativeTitle:ie}),utmParams:De})))))),f&&P.default.createElement(U.default,{postId:me,postType:"initiative"}))}return P.default.createElement(P.default.Fragment,null,!f&&P.default.createElement(Ie,null,P.default.createElement(R.Spinner,null)),P.default.createElement(pe.default,{classNames:"content",in:f,timeout:{enter:400,exit:0},enter:!0,exit:!1},P.default.createElement(xe,{id:"e2e-initiative-show",className:u},I)),P.default.createElement(W.default,{name:"initiativeflow_social_sharing"},P.default.createElement(D.default,{opened:!!p,close:this.closeInitiativeSocialSharingModal,hasSkipButton:!0,skipText:P.default.createElement(de.FormattedMessage,ce.default.skipSharing)},p&&P.default.createElement(V.default,{postType:"initiative",postId:p,title:h(ce.default.shareTitle),subtitle:h(ce.default.shareSubtitle,{votingThreshold:y,daysLimit:w})}))))}}]),a}(P.PureComponent);t.InitiativesShow=qe;var Le=(0,fe.default)((0,se.default)((0,N.withRouter)(qe))),ze=(0,k.adopt)({locale:P.default.createElement(ee.default,null),tenant:P.default.createElement(le.default,null),authUser:P.default.createElement(ne.default,null),windowSize:P.default.createElement(ie.default,null),initiative:function(e){var t=e.initiativeId,a=e.render;return P.default.createElement(ae.default,{id:t},a)},initiativeImages:function(e){var t=e.initiativeId,a=e.render;return P.default.createElement(te.default,{initiativeId:t},a)},initiativeFiles:function(e){var t=e.initiativeId,a=e.render;return P.default.createElement(X.default,{resourceId:t,resourceType:"initiative"},a)},officialFeedbacks:function(e){var t=e.initiativeId,a=e.render;return P.default.createElement(oe.default,{postId:t,postType:"initiative"},a)},postOfficialFeedbackPermission:function(e){var t=e.initiative,a=e.render;return P.default.createElement(re.default,{item:(0,C.isNilOrError)(t)?null:t,action:"moderate"},a)}});t.default=function(e){return P.default.createElement(ze,e,(function(t){return P.default.createElement(Le,(0,b.default)({},e,t))}))}},sokT:function(e,t,a){"use strict";a("SuFq"),a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a("pVnL")),r=n(a("lwsE")),l=n(a("W8MJ")),u=n(a("PJYZ")),d=n(a("7W2i")),s=n(a("a1gu")),c=n(a("Nsbk")),f=n(a("lSNA")),p=n(a("VkAN"));a("ma9I");var m,g=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=j(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),h=a("i8i4"),v=a("DtyJ"),b=a("ahDk"),y=a("ifvJ"),w=a("KLnl"),I=a("T89o"),x=n(a("JUYq")),E=n(a("pQ8y")),M=a("vIs2"),_=a("ChSC"),S=n(a("IAnr")),P=n(a("yiTP")),O=a("KuRP"),C=n(a("vOnD")),k=a("96Cm");function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(j=function(e){return e?a:t})(e)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,s.default)(this,a)}}var N=500,D="cubic-bezier(0.19, 1, 0.22, 1)",B=C.default.div.withConfig({displayName:"FullscreenModal__Container",componentId:"sc-1uev2a8-0"})(["width:100vw;height:",";position:fixed;top:","px;left:0;display:flex;overflow:hidden;background:#fff;z-index:1003;&.modal-enter{transform:translateY(100vh);&.modal-enter-active{transform:translateY(0px);transition:all ","ms ",";}}&.modal-exit{transform:translateY(0px);&.modal-exit-active{transform:translateY(100vh);transition:all ","ms ",";}}",""],(function(e){return"calc(".concat(e.windowHeight," - ").concat(e.theme.menuHeight,"px)")}),(function(e){return e.theme.menuHeight}),N,D,N,D,k.media.smallerThanMaxTablet(m||(m=(0,p.default)(["\n    height: ",";\n    top: 0;\n    bottom: ","px;\n    z-index: 1005; /* there is no top navbar at this screen size, so okay that it is higher than the z-index of NavBar here */\n\n    &.hasBottomBar {\n      height: ",";\n      bottom: 0;\n    }\n  "])),(function(e){return"calc(".concat(e.windowHeight," - ").concat(e.theme.mobileMenuHeight,"px)")}),(function(e){return e.theme.mobileMenuHeight}),(function(e){return e.windowHeight}))),R=(0,C.default)(_.FocusOn).withConfig({displayName:"FullscreenModal__StyledFocusOn",componentId:"sc-1uev2a8-1"})(["flex:1;display:flex;flex-direction:column;align-items:stretch;"]),A=C.default.div.withConfig({displayName:"FullscreenModal__Content",componentId:"sc-1uev2a8-2"})(["flex:1;overflow-y:scroll;-webkit-overflow-scrolling:touch;transform:translate3d(0,0,0);"]),W=!1,V=function(e){(0,d.default)(a,e);var t=T(a);function a(e){var n;return(0,r.default)(this,a),n=t.call(this,e),(0,f.default)((0,u.default)(n),"subscription",null),(0,f.default)((0,u.default)(n),"unlisten",null),(0,f.default)((0,u.default)(n),"url",null),(0,f.default)((0,u.default)(n),"goBackUrl",null),(0,f.default)((0,u.default)(n),"openModal",(function(){var e=n.props,t=e.locale,a=e.url,i=e.goBackUrl;if(!(0,w.isNilOrError)(t)&&a){var o=(0,M.removeLocale)(a).pathname;n.url="".concat(window.location.origin,"/").concat(t).concat(o),n.goBackUrl="".concat(window.location.origin,"/").concat(t).concat((0,M.removeLocale)(i||window.location.pathname).pathname),window.history.pushState({path:n.url},"",n.url),window.addEventListener("popstate",n.handlePopstateEvent,W),window.addEventListener("keydown",n.handleKeypress,W),n.unlisten=x.default.listen((function(){return n.props.close()})),(0,O.trackPage)(n.url,{modal:!0})}})),(0,f.default)((0,u.default)(n),"handleKeypress",(function(e){"keydown"===e.type&&"Escape"===e.key&&(e.preventDefault(),n.props.close())})),(0,f.default)((0,u.default)(n),"handlePopstateEvent",(function(){n.props.close()})),(0,f.default)((0,u.default)(n),"cleanup",(function(){n.goBackUrl&&(window.removeEventListener("popstate",n.handlePopstateEvent,W),window.removeEventListener("keydown",n.handleKeypress,W),window.location.href===n.url&&window.history.pushState({path:n.goBackUrl},"",n.goBackUrl)),n.url=null,n.goBackUrl=null,(0,I.isFunction)(n.unlisten)&&(n.unlisten(),n.unlisten=null),S.default.emit("fullscreenModalClosed")})),n.state={windowHeight:"".concat(window.innerHeight,"px")},n}return(0,l.default)(a,[{key:"componentDidMount",value:function(){var e=this;this.subscription=(0,v.fromEvent)(window,"resize").pipe((0,b.debounceTime)(50),(0,b.distinctUntilChanged)()).subscribe((function(t){if(t.target){var a=t.target.innerHeight;e.setState({windowHeight:"".concat(a,"px")})}}))}},{key:"componentDidUpdate",value:function(e){!e.opened&&this.props.opened?this.openModal():e.opened&&!this.props.opened&&this.cleanup()}},{key:"componentWillUnmount",value:function(){var e;null===(e=this.subscription)||void 0===e||e.unsubscribe(),this.cleanup()}},{key:"render",value:function(){var e,t=this.state.windowHeight,a=this.props,n=a.children,i=a.opened,o=a.topBar,r=a.bottomBar,l=a.animateInOut,u=a.navbarRef,d=a.mobileNavbarRef,s=(0,I.compact)([u,d]),c=null===(e=document)||void 0===e?void 0:e.getElementById("modal-portal"),f=null;return(l||!l&&i)&&(f=g.default.createElement(B,{id:"e2e-fullscreenmodal-content",className:r?"hasBottomBar":"",windowHeight:t},g.default.createElement(R,{autoFocus:!1,shards:s},o,g.default.createElement(A,{className:"fullscreenmodal-scrollcontainer"},n),r))),l?(0,h.createPortal)(g.default.createElement(E.default,{classNames:"modal",in:i,timeout:{enter:N,exit:N},mountOnEnter:!0,unmountOnExit:!0,enter:!0,exit:!0},f),document.getElementById("modal-portal")):!l&&i&&c?(0,h.createPortal)(f,c):null}}]),a}(g.PureComponent),F=(0,y.adopt)({locale:g.default.createElement(P.default,null)});t.default=function(e){return g.default.createElement(F,e,(function(t){return g.default.createElement(V,(0,o.default)({},e,t))}))}},tOmD:function(e,t,a){"use strict";a("SuFq"),a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a("lwsE")),r=n(a("W8MJ")),l=n(a("PJYZ")),u=n(a("7W2i")),d=n(a("a1gu")),s=n(a("Nsbk")),c=n(a("lSNA"));a("yWo2"),a("rB9j"),a("EnZy");var f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=y(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),p=n(a("wd/R")),m=n(a("vOnD")),g=a("96Cm"),h=a("Rw3A"),v=n(a("mzbP")),b=a("di2/");function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(y=function(e){return e?a:t})(e)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,s.default)(e);if(t){var i=(0,s.default)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,d.default)(this,a)}}var I=m.default.div.withConfig({displayName:"CountDown__Container",componentId:"d5xol3-0"})(["display:flex;"]),x=m.default.div.withConfig({displayName:"CountDown__TimeComponent",componentId:"d5xol3-1"})(["margin:0 5px 0 0;"]),E=m.default.div.withConfig({displayName:"CountDown__Count",componentId:"d5xol3-2"})(["display:flex;align-items:center;justify-content:center;width:40px;height:30px;border-radius:5px;background-color:",";font-size:","px;font-weight:500;color:",";"],g.colors.lightGreyishBlue,g.fontSizes.large,(function(e){return e.theme.colorText})),M=m.default.div.withConfig({displayName:"CountDown__Unit",componentId:"d5xol3-3"})(["display:flex;align-items:center;justify-content:center;margin:5px 0 0 0;color:",";font-size:","px;"],(function(e){return e.theme.colorText}),g.fontSizes.small),_=function(e){(0,u.default)(a,e);var t=w(a);function a(e){var n;return(0,o.default)(this,a),n=t.call(this,e),(0,c.default)((0,l.default)(n),"interval",void 0),n.state={refresh:Date.now()},n}return(0,r.default)(a,[{key:"componentDidMount",value:function(){var e=this;this.interval=setInterval((function(){e.setState({refresh:Date.now()})}),6e4)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=(0,p.default)(),t=(0,p.default)(this.props.targetTime,"YYYY-MM-DDThh:mm:ss.SSSZ"),a=p.default.duration(t.diff(e)).asSeconds(),n=(0,b.convertSecondsToDDHHMM)(a).split(":"),i=n[0],o=n[1],r=n[2];return f.default.createElement(I,{className:this.props.className},f.default.createElement(x,null,f.default.createElement(E,null,i),f.default.createElement(M,null,f.default.createElement(h.FormattedMessage,v.default.days))),f.default.createElement(x,null,f.default.createElement(E,null,o),f.default.createElement(M,null,f.default.createElement(h.FormattedMessage,v.default.hours))),f.default.createElement(x,null,f.default.createElement(E,null,r),f.default.createElement(M,null,f.default.createElement(h.FormattedMessage,v.default.minutes))))}}]),a}(f.PureComponent);t.default=_},"u/sY":function(e,t,a){"use strict";a("SuFq"),a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("ma9I");var o=n(a("pVnL")),r=n(a("lwsE")),l=n(a("W8MJ")),u=n(a("PJYZ")),d=n(a("7W2i")),s=n(a("a1gu")),c=n(a("Nsbk")),f=n(a("lSNA")),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=x(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),m=n(a("vOnD")),g=a("96Cm"),h=a("iP56"),v=a("oGDI"),b=n(a("2fl8")),y=n(a("3A/8")),w=n(a("mzbP")),I=a("Rw3A");function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(x=function(e){return e?a:t})(e)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,s.default)(this,a)}}var M=m.default.div.withConfig({displayName:"Answered__Container",componentId:"y4ozhf-0"})([""]),_=(0,m.default)(h.Icon).withConfig({displayName:"Answered__StatusIcon",componentId:"y4ozhf-1"})(["path{fill:",";}width:40px;height:40px;margin-bottom:20px;"],(function(e){return e.theme.colorText})),S=m.default.div.withConfig({displayName:"Answered__VoteText",componentId:"y4ozhf-2"})(["font-size:","px;color:",";margin-top:20px;"],g.fontSizes.base,(function(e){return e.theme.colorText})),P=m.default.div.withConfig({displayName:"Answered__Buttons",componentId:"y4ozhf-3"})(["margin-top:20px;display:flex;margin:20px -3px 0 -3px;& > *{flex:1;margin:3px;}"]),O=function(e){(0,d.default)(a,e);var t=E(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,f.default)((0,u.default)(e),"handleOnVote",(function(){e.props.onVote()})),(0,f.default)((0,u.default)(e),"handleOnReadAnswer",(function(){e.props.onScrollToOfficialFeedback()})),e}return(0,l.default)(a,[{key:"render",value:function(){var e=this.props,t=e.initiative,a=e.initiativeStatus,n=e.userVoted,i=t.attributes.upvotes_count;return p.default.createElement(M,null,p.default.createElement(v.StatusWrapper,null,p.default.createElement(y.default,{value:a.attributes.title_multiloc})),p.default.createElement(_,{name:"envelope-check"}),p.default.createElement(v.StatusExplanation,null,p.default.createElement(I.FormattedMessage,(0,o.default)({},w.default.answeredStatusExplanation,{values:{answeredStatusExplanationBold:p.default.createElement("b",null,p.default.createElement(I.FormattedMessage,w.default.answeredStatusExplanationBold))}}))),p.default.createElement(S,null,p.default.createElement(I.FormattedMessage,(0,o.default)({},w.default.xPeopleVoted,{values:{xPeople:p.default.createElement("b",null,p.default.createElement(I.FormattedMessage,(0,o.default)({},w.default.xPeople,{values:{count:i}})))}}))),p.default.createElement(P,null,p.default.createElement(b.default,{onClick:this.handleOnReadAnswer},p.default.createElement(I.FormattedMessage,w.default.readAnswer)),!n&&p.default.createElement(b.default,{buttonStyle:"primary-outlined",onClick:this.handleOnVote},p.default.createElement(I.FormattedMessage,w.default.vote))))}}]),a}(p.PureComponent);t.default=O},uPkB:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.addVote=function(e,t){return u.apply(this,arguments)},t.deleteVote=function(e,t){return d.apply(this,arguments)};var i=n(a("o0o1"));a("ma9I");var o=n(a("yXPU")),r=a("p0gT"),l=n(a("1Kqg"));function u(){return(u=(0,o.default)(i.default.mark((function e(t,a){var n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.default.add("".concat(r.API_PATH,"/initiatives/").concat(t,"/votes"),{vote:a});case 2:return n=e.sent,e.next=5,l.default.fetchAllWith({apiEndpoint:["".concat(r.API_PATH,"/initiatives/").concat(t),"".concat(r.API_PATH,"/initiative_statuses/").concat(t)]});case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){return(d=(0,o.default)(i.default.mark((function e(t,a){var n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.default.delete("".concat(r.API_PATH,"/votes/").concat(a),a);case 2:return n=e.sent,e.next=5,l.default.fetchAllWith({apiEndpoint:["".concat(r.API_PATH,"/initiatives/").concat(t)]});case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},vztX:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("PGV/"));t.default=function(e){var t=(0,i.default)({projectId:e.projectId});return e.children(t)}},w6e4:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("ma9I");var i=n(a("q1tI")),o=n(a("vOnD")),r=a("KLnl"),l=n(a("zFVC")),u=n(a("D51O")),d=n(a("N6Fc")),s=n(a("xP9l")),c=n(a("AM3C")),f=n(a("R+1c")),p=n(a("JvRQ")),m=n(a("PGV/")),g=n(a("Yjdl")),h=o.default.div.withConfig({displayName:"MetaInformation__Container",componentId:"sc-17wbhqz-0"})(["width:100%;display:flex;flex-direction:column;border-top:solid 1px #ccc;border-bottom:solid 1px #ccc;"]),v=function(e){var t=e.ideaId,a=e.projectId,n=e.statusId,o=e.authorId,v=e.compact,b=e.className,y=(0,p.default)(),w=(0,m.default)({projectId:a});if(!(0,r.isNilOrError)(y)&&!(0,r.isNilOrError)(w)){var I=(0,l.default)("topic_ids",w,y),x=(0,l.default)("location",w,y),E=(0,l.default)("attachments",w,y);return i.default.createElement(h,{className:"".concat(b||""," ").concat(v?"compact":"")},i.default.createElement(f.default,{authorId:o,ideaId:t,compact:v}),i.default.createElement(u.default,{statusId:n,compact:v}),I&&i.default.createElement(c.default,{ideaId:t,compact:v}),x&&i.default.createElement(d.default,{projectId:a,ideaId:t,compact:v}),E&&i.default.createElement(s.default,{ideaId:t,compact:v}),i.default.createElement(g.default,{id:"app.containers.IdeasShow.MetaInformation",ideaId:t,compact:v}))}return null};t.default=v},xLus:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,a("JRPe").defineMessages)({noInitiativeFoundHere:{id:"app.components.InitiativesShowPage.noInitiativeFoundHere",defaultMessage:"No initiative was found here."},goBack:{id:"app.components.InitiativesShowPage.goBack",defaultMessage:"Go back"},goBackToList:{id:"app.components.InitiativesShowPage.goBackToList",defaultMessage:"Go back to the list"}});t.default=n},xP9l:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2B1R");var i=n(a("q1tI")),o=n(a("vOnD")),r=n(a("OjWy")),l=n(a("dQ9y")),u=a("akep"),d=a("KLnl"),s=a("Rw3A"),c=n(a("AJij")),f=o.default.div.withConfig({displayName:"Attachments__Container",componentId:"sc-5mb91c-0"})([""]),p=(0,o.default)(r.default).withConfig({displayName:"Attachments__StyledAttachment",componentId:"sc-5mb91c-1"})(["margin-bottom:",";"],(function(e){return e.isLastItem?"0":"10px"})),m=(0,s.injectIntl)((function(e){var t=e.ideaId,a=e.compact,n=e.className,o=e.intl.formatMessage,r=(0,l.default)({resourceType:"idea",resourceId:t});return!(0,d.isNilOrError)(r)&&r.length>0?i.default.createElement(u.Item,{className:n||"",compact:a},i.default.createElement(u.Header,null,o(c.default.attachments)),i.default.createElement(f,{className:n},Array.isArray(r)&&r.map((function(e,t){return i.default.createElement(p,{isLastItem:t===r.length-1,file:e,key:e.id})})))):null}));t.default=m},xksB:function(e,t,a){"use strict";a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),r=n(a("JUYq")),l=a("iP56"),u=n(a("x3zm")),d=n(a("JvRQ")),s=n(a("PagR")),c=a("KLnl"),f=n(a("IAnr"));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}var m=(0,o.memo)((function(e){var t=e.projectId,a=e.className,n=e.insideModal,i=(0,u.default)({projectId:t}),p=(0,d.default)(),m=(0,s.default)();return(0,c.isNilOrError)(i)||(0,c.isNilOrError)(p)?null:o.default.createElement(l.Button,{className:a,id:"e2e-idea-other-link",locale:p,icon:"circle-arrow-left",onClick:function(e){e.preventDefault(),n?f.default.emit("closeIdeaModal"):(0,c.isNilOrError)(i)?r.default.push("/"):r.default.push("/projects/".concat(i.attributes.slug))},buttonStyle:"text",iconSize:"26px",padding:"0",textDecorationHover:"underline"},m(i.attributes.title_multiloc))}));t.default=m},zFVC:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){return"hidden"!==t.ui_schema_multiloc[a][e]["ui:widget"]}},zIn5:function(e,t,a){"use strict";a("2B1R"),a("SuFq"),a("tkto"),a("pNMO"),a("TeQF"),a("5DmW"),a("FZtP"),a("27RR");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("ToJy");var i=n(a("J4zp")),o=n(a("lwsE")),r=n(a("W8MJ")),l=n(a("PJYZ")),u=n(a("7W2i")),d=n(a("a1gu")),s=n(a("Nsbk")),c=n(a("lSNA")),f=n(a("q1tI")),p=a("DtyJ"),m=a("ahDk"),g=a("RLXT"),h=a("T89o"),v=a("KLnl");function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){(0,c.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,s.default)(e);if(t){var i=(0,s.default)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,d.default)(this,a)}}var I=function(e){(0,u.default)(a,e);var t=w(a);function a(e){var n;return(0,o.default)(this,a),n=t.call(this,e),(0,c.default)((0,l.default)(n),"postId$",void 0),(0,c.default)((0,l.default)(n),"postType$",void 0),(0,c.default)((0,l.default)(n),"sort$",void 0),(0,c.default)((0,l.default)(n),"loadMore$",void 0),(0,c.default)((0,l.default)(n),"subscription",void 0),(0,c.default)((0,l.default)(n),"initialQueryParameters",{pageNumber:0,pageSize:15,sort:"-new"}),(0,c.default)((0,l.default)(n),"loadMore",(function(){n.state.hasMore&&n.loadMore$.next(null)})),(0,c.default)((0,l.default)(n),"changeSort",(function(e){n.sort$.next(e)})),n.state={commentsList:void 0,loadingInital:!1,loadingMore:!1,hasMore:!0},n}return(0,r.default)(a,[{key:"componentDidMount",value:function(){var e=this;this.postId$=new p.BehaviorSubject(this.props.postId),this.postType$=new p.BehaviorSubject(this.props.postType),this.sort$=new p.BehaviorSubject(this.initialQueryParameters.sort),this.loadMore$=new p.BehaviorSubject(null),this.subscription=(0,p.combineLatest)(this.postId$.pipe((0,m.distinctUntilChanged)()),this.postType$.pipe((0,m.distinctUntilChanged)()),this.sort$.pipe((0,m.distinctUntilChanged)())).pipe((0,m.switchMap)((function(t){var a=(0,i.default)(t,3),n=a[0],o=a[1],r=a[2],l=void 0,u=e.initialQueryParameters.pageNumber,d=e.initialQueryParameters.pageSize,s=!0;return e.loadMore$.pipe((0,m.tap)((function(){return e.setState({loadingInital:0===u,loadingMore:u>0})})),(0,m.mergeScan)((function(){return u+=1,("idea"===o?g.commentsForIdeaStream:g.commentsForInitiativeStream)(n,{queryParameters:{sort:r,"page[number]":u,"page[size]":d}}).observable.pipe((0,m.map)((function(e){var t=(0,h.get)(e,"links.self"),a=(0,h.get)(e,"links.last");return s=(0,h.isString)(t)&&(0,h.isString)(a)&&t!==a,l=(0,v.isNilOrError)(l)?e.data:(0,h.unionBy)(l,e.data,"id"),null})))}),null),(0,m.map)((function(){return{pageNumber:u,commentsList:l,hasMore:s}})))}))).subscribe((function(t){var a=t.commentsList,n=t.hasMore;e.setState({commentsList:a,hasMore:n,loadingInital:!1,loadingMore:!1})}))}},{key:"componentDidUpdate",value:function(){this.postId$.next(this.props.postId)}},{key:"componentWillUnmount",value:function(){this.subscription.unsubscribe()}},{key:"render",value:function(){return(0,this.props.children)(y(y({},this.state),{},{onLoadMore:this.loadMore,onChangeSort:this.changeSort}))}}]),a}(f.default.Component);t.default=I}}]);
//# sourceMappingURL=67.919be4e115494b84bd56.chunk.js.map