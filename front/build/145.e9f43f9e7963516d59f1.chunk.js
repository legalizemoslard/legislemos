(window.webpackJsonp=window.webpackJsonp||[]).push([[145],{"4Xm4":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,a("JRPe").defineMessages)({subtitleAreas:{id:"app.containers.AdminPage.SettingsPage.subtitleAreas",defaultMessage:"Define the geographical areas (neighbourhoods, suburbs, â€¦) that you can ask users who register on the platform. Areas can be linked to projects and can be used to create Smart Groups and give particular groups access to certain projects."},titleAreas:{id:"app.containers.AdminPage.SettingsPage.titleAreas",defaultMessage:"Areas configuration"},subtitleTerminology:{id:"app.containers.AdminPage.SettingsPage.subtitleTerminology",defaultMessage:"Terminology"},deleteButtonLabel:{id:"app.containers.AdminPage.SettingsPage.areas.deleteButtonLabel",defaultMessage:"Delete"},editButtonLabel:{id:"app.containers.AdminPage.SettingsPage.areas.editButtonLabel",defaultMessage:"Edit"},addAreaButton:{id:"app.containers.AdminPage.SettingsPage.addAreaButton",defaultMessage:"Add area"},areaDeletionConfirmation:{id:"app.containers.AdminPage.SettingsPage.areaDeletionConfirmation",defaultMessage:"Are you sure you want to delete this area?"},fieldTitle:{id:"app.containers.AdminPage.SettingsPage.fieldTitle",defaultMessage:"Area name"},fieldTitleTooltip:{id:"app.containers.AdminPage.SettingsPage.fieldTitleTooltip",defaultMessage:"The name you choose for each area will be visible for citizens during signup and when filtering projects."},fieldDescription:{id:"app.containers.AdminPage.SettingsPage.fieldDescription",defaultMessage:"Area description"},fieldDescriptionTooltip:{id:"app.containers.AdminPage.SettingsPage.fieldDescriptionTooltip",defaultMessage:"This description is only for internal collaboration with other administrators, to have a clear understanding what is meant by each area."},editFormTitle:{id:"app.containers.AdminPage.SettingsPage.editFormTitle",defaultMessage:"Edit area"},terminologyTooltip:{id:"app.containers.AdminPage.SettingsPage.terminologyTooltip",defaultMessage:"How should areas be called towards users? e.g. neighbourhoods, quarters, counties, ..."},areaTerm:{id:"app.containers.AdminPage.SettingsPage.areaTerm",defaultMessage:"Term for one area (singular)"},areaTermPlaceholder:{id:"app.containers.AdminPage.SettingsPage.areaTermPlaceholder",defaultMessage:"area"},areasTerm:{id:"app.containers.AdminPage.SettingsPage.areasTerm",defaultMessage:"Term for multiple areas (plural)"},areasTermPlaceholder:{id:"app.containers.AdminPage.SettingsPage.areasTermPlaceholder",defaultMessage:"areas"},areasTermsSave:{id:"app.containers.AdminPage.SettingsPage.areasTermsSave",defaultMessage:"Save"}});t.default=r},"9pqN":function(e,t,a){"use strict";a("SuFq"),a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var r=a("TqRt"),n=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a("pVnL")),i=r(a("lwsE")),o=r(a("W8MJ")),s=r(a("PJYZ")),u=r(a("7W2i")),d=r(a("a1gu")),f=r(a("Nsbk")),c=r(a("lSNA")),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var r={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=l?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}r.default=e,a&&a.set(e,r);return r}(a("q1tI")),g=a("T89o"),p=a("KLnl"),h=r(a("2fl8")),b=a("Loij"),P=r(a("WTKl")),T=a("rqWd"),v=r(a("yYlr")),y=a("H9u3"),S=a("Rw3A"),A=r(a("4Xm4"));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,d.default)(this,a)}}var w=r(a("vOnD")).default.form.withConfig({displayName:"AreaTermConfig__Container",componentId:"sc-15hl99-0"})(["width:100%;max-width:500px;padding:25px;border-radius:",";border:solid 1px #ddd;background:#fff;"],(function(e){return e.theme.borderRadius})),R=function(e){(0,u.default)(a,e);var t=M(a);function a(e){var r;return(0,i.default)(this,a),r=t.call(this,e),(0,c.default)((0,s.default)(r),"save",(function(){var e=r.props.tenant,t=r.state,a=t.areasTerm,n=t.areaTerm;if(!(0,p.isNilOrError)(e)){r.setState({submitState:"saving"});try{(0,y.updateAppConfiguration)({settings:{core:{areas_term:a,area_term:n}}}).then((function(){r.setState({submitState:"success"})}))}catch(e){r.setState({submitState:"error"})}}})),(0,c.default)((0,s.default)(r),"handleAreaChange",(function(e){r.setState({areaTerm:(0,g.mapValues)(e,g.lowerCase)})})),(0,c.default)((0,s.default)(r),"handleAreasChange",(function(e){r.setState({areasTerm:(0,g.mapValues)(e,g.lowerCase)})})),r.state={areasTerm:void 0,areaTerm:void 0,submitState:"enabled"},r}return(0,o.default)(a,[{key:"render",value:function(){var e=this.props,t=e.tenant,a=e.className,r=e.intl.formatMessage,n=this.state.submitState;if((0,p.isNilOrError)(t))return null;var l=this.state.areasTerm||t.attributes.settings.core.areas_term||{},i=this.state.areaTerm||t.attributes.settings.core.area_term||{};return m.default.createElement(w,{onSubmit:this.save,className:a},m.default.createElement(b.SectionField,null,m.default.createElement(P.default,{type:"text",id:"area_term",label:m.default.createElement(S.FormattedMessage,A.default.areaTerm),valueMultiloc:i,onChange:this.handleAreaChange,placeholder:r(A.default.areaTermPlaceholder)})),m.default.createElement(b.SectionField,null,m.default.createElement(P.default,{type:"text",id:"areas_term",label:m.default.createElement(S.FormattedMessage,A.default.areasTerm),valueMultiloc:l,onChange:this.handleAreasChange,placeholder:r(A.default.areasTermPlaceholder)})),m.default.createElement(T.ButtonWrapper,null,m.default.createElement(h.default,{processing:"saving"===n,onClick:this.save,buttonStyle:"cl-blue",type:"submit"},m.default.createElement(S.FormattedMessage,A.default.areasTermsSave))))}}]),a}(m.PureComponent),k=(0,S.injectIntl)(R);t.default=function(e){return m.default.createElement(v.default,null,(function(t){return m.default.createElement(k,(0,l.default)({},e,{tenant:t}))}))}},mkhm:function(e,t,a){"use strict";a("SuFq");var r=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2B1R");var n=r(a("lwsE")),l=r(a("W8MJ")),i=r(a("PJYZ")),o=r(a("7W2i")),s=r(a("a1gu")),u=r(a("Nsbk")),d=r(a("lSNA")),f=r(a("q1tI")),c=a("KLnl"),m=r(a("6YSP")),g=a("o1q6"),p=r(a("4Xm4")),h=r(a("3A/8")),b=a("Rw3A"),P=a("gzy/"),T=a("Loij"),v=r(a("2fl8")),y=a("rqWd"),S=r(a("9pqN")),A=r(a("Y5ic"));function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,u.default)(e);if(t){var n=(0,u.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var M=function(e){(0,o.default)(a,e);var t=E(a);function a(e){var r;return(0,n.default)(this,a),r=t.call(this,e),(0,d.default)((0,i.default)(r),"handleToggleTerminology",(function(){r.setState((function(e){return{terminologyOpened:!e.terminologyOpened}}))})),(0,d.default)((0,i.default)(r),"handleDeleteClick",(function(e){return function(t){var a=r.props.intl.formatMessage(p.default.areaDeletionConfirmation);t.preventDefault(),window.confirm(a)&&(0,g.deleteArea)(e)}})),(0,d.default)((0,i.default)(r),"handleReorderArea",(function(e,t){(0,g.reorderArea)(e,t)})),r.state={terminologyOpened:!1},r}return(0,l.default)(a,[{key:"render",value:function(){var e=this,t=this.state.terminologyOpened,a=this.props,r=a.areas,n=a.intl.formatMessage;return(0,c.isNilOrError)(r)?null:f.default.createElement(T.Section,null,f.default.createElement(T.SectionTitle,null,f.default.createElement(b.FormattedMessage,p.default.titleAreas)),f.default.createElement(T.SectionDescription,null,f.default.createElement(b.FormattedMessage,p.default.subtitleAreas)),f.default.createElement(A.default,{opened:t,onToggle:this.handleToggleTerminology,label:n(p.default.subtitleTerminology),labelTooltipText:n(p.default.terminologyTooltip)},f.default.createElement(S.default,null)),f.default.createElement(y.ButtonWrapper,null,f.default.createElement(v.default,{buttonStyle:"cl-blue",icon:"plus-circle",linkTo:"/admin/settings/areas/new"},f.default.createElement(b.FormattedMessage,p.default.addAreaButton))),f.default.createElement(P.SortableList,{items:r,onReorder:this.handleReorderArea,className:"areas-list e2e-admin-areas-list",id:"e2e-admin-areas-list",key:r.length},(function(t){var a=t.itemsList,n=t.handleDragRow,l=t.handleDropRow;return f.default.createElement(f.default.Fragment,null,a.map((function(t,a){return f.default.createElement(P.SortableRow,{key:t.id,id:t.id,index:a,moveRow:n,dropRow:l,lastItem:a===r.length-1},f.default.createElement(P.TextCell,{className:"expand"},f.default.createElement(h.default,{value:t.attributes.title_multiloc})),f.default.createElement(v.default,{onClick:e.handleDeleteClick(t.id),buttonStyle:"text",icon:"delete"},f.default.createElement(b.FormattedMessage,p.default.deleteButtonLabel)),f.default.createElement(v.default,{linkTo:"/admin/settings/areas/".concat(t.id),buttonStyle:"secondary",icon:"edit"},f.default.createElement(b.FormattedMessage,p.default.editButtonLabel)))})))})))}}]),a}(f.default.PureComponent),w=(0,b.injectIntl)(M);t.default=function(){return f.default.createElement(m.default,null,(function(e){return f.default.createElement(w,{areas:e})}))}}}]);
//# sourceMappingURL=145.e9f43f9e7963516d59f1.chunk.js.map