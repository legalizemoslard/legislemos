(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{LfpW:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(0,i("JRPe").defineMessages)({header:{id:"app.containers.InitiativesNewPage.header",defaultMessage:"Start your own initiative and make your voice heard by {styledOrgName}"},orgName:{id:"app.containers.InitiativesNewPage.orgName",defaultMessage:"{orgName}"},tipsTitle:{id:"app.containers.InitiativesNewPage.tipsTitle",defaultMessage:"Tips and tricks for a successful initiative"},elaborate:{id:"app.containers.InitiativesNewPage.elaborate",defaultMessage:"Take the time to elaborate on your proposal. If necessary, type a draft first and then copy-paste it here. As soon as you post it, others will be able to read it and the time will start running."},meaningfulTitle:{id:"app.containers.InitiativesNewPage.meaningfulTitle",defaultMessage:"Choose a meaningful title that explains clearly what your proposal entails."},visualise:{id:"app.containers.InitiativesNewPage.visualise",defaultMessage:"Make sure to visualise your proposal with a fitting image, so that it stands out more."},relevantAttachments:{id:"app.containers.InitiativesNewPage.relevantAttachments",defaultMessage:"Add relevant attachments, such as videos, inspiring examples, technical details or plans."},shareSocialMedia:{id:"app.containers.InitiativesNewPage.shareSocialMedia",defaultMessage:"Share your idea on social media and other channels to gather support from others."},formGeneralSectionTitle:{id:"app.components.InitiativeForm.formGeneralSectionTitle",defaultMessage:"What is your initiative?"},titleEmptyError:{id:"app.components.InitiativeForm.titleEmptyError",defaultMessage:"Please provide a title"},titleMinLengthError:{id:"app.components.InitiativeForm.titleMinLengthError",defaultMessage:"The provided title is too short. Please add a title that is between 10 and 72 characters long."},titleMaxLengthError:{id:"app.components.InitiativeForm.titleMaxLengthError",defaultMessage:"The provided title is too long. Please add a title that is between 10 and 72 characters long."},titleLabel:{id:"app.components.InitiativeForm.titleLabel",defaultMessage:"Title"},titleLabelSubtext2:{id:"app.components.InitiativeForm.titleLabelSubtext2",defaultMessage:"Choose a descriptive, yet concise title (min. 10 characters, max. 72 characters)"},descriptionLabel:{id:"app.components.InitiativeForm.descriptionLabel",defaultMessage:"What is your initiative about?"},descriptionLabelSubtext:{id:"app.components.InitiativeForm.descriptionLabelSubtext",defaultMessage:"Describe your initiative clearly (min. 500 characters)"},descriptionEmptyError:{id:"app.components.InitiativeForm.descriptionEmptyError",defaultMessage:"Please provide a description"},descriptionBodyLengthError:{id:"app.components.InitiativeForm.descriptionBodyLengthError",defaultMessage:"The initiative description must be at least 30 characters long"},formDetailsSectionTitle:{id:"app.components.InitiativeForm.formDetailsSectionTitle",defaultMessage:"Details"},topicEmptyError:{id:"app.components.InitiativeForm.topicEmptyError",defaultMessage:"Please provide a topic"},topicsLabel:{id:"app.components.InitiativeForm.topicsLabel",defaultMessage:"Select the topic of your initiative"},topicsLabelDescription:{id:"app.components.InitiativeForm.topicsLabelDescription",defaultMessage:"Select the topics that best cover your proposal."},locationLabel:{id:"app.components.InitiativeForm.locationLabel",defaultMessage:"Select a Location"},locationLabelSubtext:{id:"app.components.InitiativeForm.locationLabelSubtext",defaultMessage:"Where is your initiative located?"},locationPlaceholder:{id:"app.components.InitiativeForm.locationPlaceholder",defaultMessage:"Type an address"},formAttachmentsSectionTitle:{id:"app.components.InitiativeForm.formAttachmentsSectionTitle",defaultMessage:"Images and attachments"},bannerUploadLabel:{id:"app.components.InitiativeForm.bannerUploadLabel",defaultMessage:"Add a banner"},bannerUploadLabelSubtext:{id:"app.components.InitiativeForm.bannerUploadLabelSubtext",defaultMessage:"This cover will be used at the top of your initiative page"},imageDropzonePlaceholder:{id:"app.container.InitiativeForm.imageDropzonePlaceholder",defaultMessage:"Drop your image here"},imageUploadLabel:{id:"app.components.InitiativeForm.imageUploadLabel",defaultMessage:"Add a main picture"},imageUploadLabelSubtext:{id:"app.components.InitiativeForm.imageUploadLabelSubtext",defaultMessage:"This image is shown on top of your initiativeâ€™s page"},imageEmptyError:{id:"app.components.InitiativeForm.imageEmptyError",defaultMessage:"Please provide an image"},fileUploadLabel:{id:"app.container.InitiativeForm.fileUploadLabel",defaultMessage:"Add files to your initiative"},fileUploadLabelSubtext:{id:"app.container.InitiativeForm.fileUploadLabelSubtext",defaultMessage:"Upload files to give others more information and context"},publishButton:{id:"app.components.InitiativeForm.publishButton",defaultMessage:"Publish your initiative"},submitApiError:{id:"app.components.InitiativeForm.submitApiError",defaultMessage:"There was an issue submitting the form. Please check for any errors and try again."},profanityError:{id:"app.components.InitiativeForm.profanityError",defaultMessage:"You may have used one or more words that are considered profanity by {guidelinesLink}. Please alter your text to remove any profanities that might be present."},guidelinesLinkText:{id:"app.components.InitiativeForm.guidelinesLinkText",defaultMessage:"our guidelines"}});t.default=a},Lidb:function(e,t,i){"use strict";i("4mDm"),i("07d7"),i("PKPk"),i("ENF9"),i("3bBZ"),i("5DmW");var a=i("TqRt"),n=i("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("yWo2"),i("pDQq"),i("oVuX"),i("2B1R"),i("TeQF"),i("yq1k"),i("JTJg");var o,r=a(i("pVnL")),l=a(i("RIqP")),s=a(i("VkAN")),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var i=E(t);if(i&&i.has(e))return i.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(a,r,l):a[r]=e[r]}a.default=e,i&&i.set(e,a);return a}(i("q1tI")),d=i("KLnl"),c=a(i("vOnD")),p=i("96Cm"),f=i("+9pX"),m=i("ufqH"),g=a(i("3A/8")),v=a(i("V3HD")),b=a(i("j0Li")),h=i("Rw3A"),y=a(i("vfLC"));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(E=function(e){return e?i:t})(e)}var M=c.default.div.withConfig({displayName:"TopicsPicker__TopicsContainer",componentId:"sc-2sqmbv-0"})(["display:flex;flex-wrap:wrap;margin-bottom:10px;",""],(0,p.isRtl)(o||(o=(0,s.default)(["\n    justify-content: flex-end;\n  "])))),P=c.default.button.withConfig({displayName:"TopicsPicker__TopicSwitch",componentId:"sc-2sqmbv-1"})(["color:",";font-size:","px;font-weight:400;line-height:normal;text-align:left;display:inline-block;padding-left:18px;padding-right:18px;padding-top:11px;padding-bottom:11px;margin:0px;margin-right:6px;margin-bottom:8px;cursor:pointer;user-select:none;border:solid 1px ",";border-radius:5px;transition:all 80ms ease-out;&:not(.selected):not(:disabled){&:hover{color:",";border-color:",";}}&.selected{color:#fff;background:",";border-color:",";&:hover{background:",";border-color:",";}}&:disabled{color:",";border-color:",";cursor:not-allowed;}"],p.colors.label,p.fontSizes.small,p.colors.separationDark,(function(e){return e.theme.colorSecondary}),(function(e){return e.theme.colorSecondary}),(function(e){return e.theme.colorSecondary}),(function(e){return e.theme.colorSecondary}),(function(e){var t=e.theme;return(0,m.darken)(.15,t.colorSecondary)}),(function(e){var t=e.theme;return(0,m.darken)(.15,t.colorSecondary)}),(function(e){var t=e.theme;return(0,m.lighten)(.4,t.colors.label)}),(function(e){var t=e.theme;return(0,m.lighten)(.45,t.colors.label)})),O=(0,u.memo)((function(e){var t=e.onChange,i=e.onBlur,a=e.selectedTopicIds,n=e.localize,o=e.availableTopics,s=e.className,c=e.setRef,p=(0,y.default)({topicIds:a}),m=(0,u.useCallback)((function(e){e.preventDefault()}),[]);if(!(0,d.isNilOrError)(o)){var v=a.length,E=(0,d.isNilOrError)(p)?"":p.filter((function(e){return!(0,d.isNilOrError)(e)})).map((function(e){return n(e.attributes.title_multiloc)})).join(", ");return u.default.createElement(u.default.Fragment,null,u.default.createElement(M,{onBlur:i,className:"".concat(s," e2e-topics-picker")},o.map((function(e,i){var n,o=a.includes(e.id);return u.default.createElement(P,{key:e.id,onClick:(n=e.id,function(e){e.stopPropagation(),e.preventDefault();var i=(0,l.default)(a);if(a){var o=i.lastIndexOf(n);-1===o?i.push(n):i.splice(o,1),t(i)}else t([n])}),className:["e2e-topics-picker-item",o?"selected":null].filter((function(e){return e})).join(" "),onMouseDown:m,ref:0===i?c:void 0,disabled:!1},u.default.createElement(g.default,{value:e.attributes.title_multiloc}))}))),u.default.createElement(f.ScreenReaderOnly,{"aria-live":"polite"},u.default.createElement(h.FormattedMessage,(0,r.default)({},b.default.selectedTopics,{values:{numberOfSelectedTopics:v,selectedTopicNames:E}}))))}return null})),S=(0,v.default)(O);t.default=S},St88:function(e,t,i){"use strict";i("SuFq"),i("tkto"),i("pNMO"),i("5DmW"),i("27RR"),i("4mDm"),i("07d7"),i("PKPk"),i("ENF9"),i("3bBZ");var a=i("TqRt"),n=i("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("zKZe"),i("B6y2"),i("FZtP"),i("TeQF"),i("T63A");var o,r=a(i("pVnL")),l=a(i("lwsE")),s=a(i("W8MJ")),u=a(i("PJYZ")),d=a(i("7W2i")),c=a(i("a1gu")),p=a(i("Nsbk")),f=a(i("lSNA")),m=a(i("VkAN")),g=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var i=k(t);if(i&&i.has(e))return i.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(a,r,l):a[r]=e[r]}a.default=e,i&&i.set(e,a);return a}(i("q1tI")),v=i("T89o"),b=i("KLnl"),h=a(i("vOnD")),y=i("96Cm"),E=a(i("hWpC")),M=i("OUuu"),P=i("Loij"),O=a(i("Lidb")),S=i("iP56"),I=a(i("W31j")),L=a(i("lbhY")),T=a(i("EB+E")),F=a(i("Zc1O")),w=a(i("jWBj")),x=a(i("LfpW")),_=i("Rw3A"),j=a(i("puQj"));function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(k=function(e){return e?i:t})(e)}function D(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function B(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?D(Object(i),!0).forEach((function(t){(0,f.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):D(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,a=(0,p.default)(e);if(t){var n=(0,p.default)(this).constructor;i=Reflect.construct(a,arguments,n)}else i=a.apply(this,arguments);return(0,c.default)(this,i)}}var A=h.default.form.withConfig({displayName:"InitiativeForm__Form",componentId:"sc-1w18ffd-0"})(["display:flex;flex-direction:column;margin-bottom:100px;"]),R=(0,h.default)(M.FormSection).withConfig({displayName:"InitiativeForm__StyledFormSection",componentId:"sc-1w18ffd-1"})(["",""],y.media.largePhone(o||(o=(0,m.default)(["\n    padding-left: 18px;\n    padding-right: 18px;\n  "])))),C=function(e){(0,d.default)(i,e);var t=N(i);function i(e){var a;return(0,l.default)(this,i),a=t.call(this,e),(0,f.default)((0,u.default)(a),"titleInputElement",void 0),(0,f.default)((0,u.default)(a),"descriptionElement",void 0),(0,f.default)((0,u.default)(a),"topicElement",void 0),(0,f.default)((0,u.default)(a),"validations",{title_multiloc:function(){var e=a.props.title_multiloc,t=e?e[a.props.locale]:void 0;return t&&t.length>0&&t.length<i.titleMinLength?{message:x.default.titleMinLengthError}:t&&t.length>0&&t.length>i.titleMaxLength?{message:x.default.titleMaxLengthError}:t&&""!==t?void 0:{message:x.default.titleEmptyError}},body_multiloc:function(){var e=a.props.body_multiloc,t=e?e[a.props.locale]:void 0;return t&&(0,b.stripHtmlTags)(t).length<i.bodyMinLength&&t.length>0?{message:x.default.descriptionBodyLengthError}:t&&""!==t?void 0:{message:x.default.descriptionEmptyError}},topic_ids:function(){var e=a.props.topic_ids;if(0===e.length)return{message:x.default.topicEmptyError}},image:function(){var e=a.props.image;if(!e)return{message:x.default.imageEmptyError}}}),(0,f.default)((0,u.default)(a),"validate",(function(e){var t=Object.assign({},a.state.errors);t[e]=(0,v.get)(a.validations,e,(function(){}))(),a.setState({errors:t})})),(0,f.default)((0,u.default)(a),"onBlur",(function(e){return function(){setTimeout((function(){var t=Object.assign({},a.state.touched);t[e]=!0;var i=Object.assign({},a.state.errors);i[e]=(0,v.get)(a.validations,e,(function(){}))(),a.setState({touched:t,errors:i}),a.props.onSave()}),5)}})),(0,f.default)((0,u.default)(a),"handleOnPublish",(function(){var e=a.state,t=e.errors,n=e.touched;if(Object.values(t).every((function(e){return void 0===e})))a.props.onPublish();else{var o=Object.assign({},n),r=Object.assign({},t);i.requiredFields.forEach((function(e){o[e]=!0,r[e]=(0,v.get)(a.validations,e,(function(){}))()})),a.setState({touched:o,errors:r}),r.title_multiloc&&a.titleInputElement?((0,E.default)(a.titleInputElement,{align:"top",offset:-240,duration:300}),setTimeout((function(){return a.titleInputElement&&a.titleInputElement.focus()}),300)):r.body_multiloc&&a.descriptionElement?((0,E.default)(a.descriptionElement,{align:"top",offset:-200,duration:300}),setTimeout((function(){return a.descriptionElement&&a.descriptionElement.focus()}),300)):r.topic_ids&&a.topicElement&&((0,E.default)(a.topicElement,{align:"top",offset:-200,duration:300}),setTimeout((function(){var e;return null===(e=a.topicElement)||void 0===e?void 0:e.focus()}),300))}})),(0,f.default)((0,u.default)(a),"changeAndSaveTopics",(function(e){a.props.onChangeTopics(e),a.onBlur("topic_ids")()})),(0,f.default)((0,u.default)(a),"addBanner",(function(e){a.props.onChangeBanner(e[0]),a.onBlur("banner")()})),(0,f.default)((0,u.default)(a),"removeBanner",(function(){a.props.onChangeBanner(null),a.onBlur("banner")()})),(0,f.default)((0,u.default)(a),"addImage",(function(e){a.props.onChangeImage(e[0]),a.onBlur("image")()})),(0,f.default)((0,u.default)(a),"removeImage",(function(){a.props.onChangeImage(null),a.onBlur("image")()})),(0,f.default)((0,u.default)(a),"handleTitleInputSetRef",(function(e){a.titleInputElement=e})),(0,f.default)((0,u.default)(a),"handleDescriptionSetRef",(function(e){a.descriptionElement=e})),(0,f.default)((0,u.default)(a),"handleTopicsPickerSetRef",(function(e){a.topicElement=e})),(0,f.default)((0,u.default)(a),"handleTitleOnChange",(function(e,t){t&&a.props.onChangeTitle&&a.props.onChangeTitle(B(B({},a.props.title_multiloc),{},(0,f.default)({},t,e)))})),(0,f.default)((0,u.default)(a),"handleBodyOnChange",(function(e,t){t&&a.props.onChangeBody&&a.props.onChangeBody(B(B({},a.props.body_multiloc),{},(0,f.default)({},t,e)))})),a.state={touched:{},errors:{}},a.titleInputElement=null,a.descriptionElement=null,a.topicElement=null,a}return(0,s.default)(i,[{key:"componentDidMount",value:function(){var e=this,t={};i.requiredFields.forEach((function(i){t[i]=e.validations[i]()})),this.setState({errors:t}),j.default.mobile||null===this.titleInputElement||setTimeout((function(){return e.titleInputElement.focus()}),50)}},{key:"componentDidUpdate",value:function(e){var t=this,i=Object.entries(this.state.errors).filter((function(e){return e[1]}));1===i.length&&e[i[0][0]]!==this.props[i[0][0]]&&this.validate(i[0][0]),0===i.length&&Object.entries(e).filter((function(e){return e[1]!==t.props[e[0]]})).forEach((function(e){return t.validations[e[0]]&&t.validate(e[0])}))}},{key:"render",value:function(){var e=this.props,t=e.locale,i=e.title_multiloc,a=e.publishing,n=e.body_multiloc,o=e.topic_ids,l=e.position,s=e.onChangePosition,u=e.banner,d=e.image,c=e.files,p=e.onAddFile,f=e.onRemoveFile,m=e.publishError,v=e.intl.formatMessage,h=e.apiErrors,y=e.topics,E=e.titleProfanityError,j=e.descriptionProfanityError,k=this.state,D=k.touched,B=k.errors,N=window.googleMaps;if(!(0,b.isNilOrError)(y)){var C=y.filter((function(e){return!(0,b.isNilOrError)(e)}));return g.createElement(A,{id:"initiative-form"},g.createElement(R,null,g.createElement(M.FormSectionTitle,{message:x.default.formGeneralSectionTitle}),g.createElement(P.SectionField,{id:"e2e-initiative-form-title-section"},g.createElement(M.FormLabel,{labelMessage:x.default.titleLabel,subtextMessage:x.default.titleLabelSubtext2},g.createElement(S.Input,{type:"text",id:"e2e-initiative-title-input",value:(null==i?void 0:i[t])||"",locale:t,onChange:this.handleTitleOnChange,onBlur:this.onBlur("title_multiloc"),autocomplete:"off",setRef:this.handleTitleInputSetRef,maxCharCount:72}),D.title_multiloc&&B.title_multiloc?g.createElement(F.default,{id:"e2e-proposal-title-error",text:v(B.title_multiloc.message)}):h&&h.title_multiloc&&g.createElement(F.default,{apiErrors:h.title_multiloc})),E&&g.createElement(F.default,{text:g.createElement(_.FormattedMessage,(0,r.default)({},x.default.profanityError,{values:{guidelinesLink:g.createElement(w.default,{to:"/pages/faq",target:"_blank"},v(x.default.guidelinesLinkText))}}))})),g.createElement(P.SectionField,{id:"e2e-initiative-form-description-section"},g.createElement(M.FormLabel,{id:"description-label-id",htmlFor:"body",labelMessage:x.default.descriptionLabel,subtextMessage:x.default.descriptionLabelSubtext}),g.createElement(I.default,{id:"body",value:(null==n?void 0:n[t])||"",locale:t,noVideos:!0,noAlign:!0,onChange:this.handleBodyOnChange,onBlur:this.onBlur("body_multiloc"),setRef:this.handleDescriptionSetRef}),D.body_multiloc&&B.body_multiloc?g.createElement(F.default,{text:v(B.body_multiloc.message)}):h&&h.body_multiloc&&g.createElement(F.default,{apiErrors:h.body_multiloc}),j&&g.createElement(F.default,{text:g.createElement(_.FormattedMessage,(0,r.default)({},x.default.profanityError,{values:{guidelinesLink:g.createElement(w.default,{to:"/pages/faq",target:"_blank"},v(x.default.guidelinesLinkText))}}))}))),g.createElement(R,null,g.createElement(M.FormSectionTitle,{message:x.default.formDetailsSectionTitle}),g.createElement(P.SectionField,{"aria-live":"polite"},g.createElement(M.FormLabel,{labelMessage:x.default.topicsLabel,subtextMessage:x.default.topicsLabelDescription,htmlFor:"field-topic-multiple-picker"}),g.createElement(O.default,{id:"field-topic-multiple-picker",selectedTopicIds:o,onChange:this.changeAndSaveTopics,setRef:this.handleTopicsPickerSetRef,availableTopics:C}),D.topic_ids&&B.topic_ids?g.createElement(F.default,{text:v(B.topic_ids.message)}):h&&h.topic_ids&&g.createElement(F.default,{apiErrors:h.topic_ids})),N&&g.createElement(P.SectionField,null,g.createElement(M.FormLabel,{labelMessage:x.default.locationLabel,subtextMessage:x.default.locationLabelSubtext,optional:!0},g.createElement(S.LocationInput,{className:"e2e-initiative-location-input",value:l||"",onChange:s,onBlur:this.onBlur("position"),placeholder:v(x.default.locationPlaceholder)})))),g.createElement(R,null,g.createElement(M.FormSectionTitle,{message:x.default.formAttachmentsSectionTitle}),g.createElement(P.SectionField,{id:"e2e-iniatiative-banner-dropzone"},g.createElement(M.FormLabel,{labelMessage:x.default.bannerUploadLabel,subtextMessage:x.default.bannerUploadLabelSubtext,htmlFor:"initiative-banner-dropzone",optional:!0}),g.createElement(L.default,{id:"initiative-banner-dropzone",images:u?[u]:null,imagePreviewRatio:.25,acceptedFileTypes:"image/jpg, image/jpeg, image/png, image/gif",onAdd:this.addBanner,onRemove:this.removeBanner}),h&&h.header_bg&&g.createElement(F.default,{apiErrors:h.header_bg})),g.createElement(P.SectionField,{id:"e2e-iniatiative-img-dropzone"},g.createElement(M.FormLabel,{labelMessage:x.default.imageUploadLabel,subtextMessage:x.default.imageUploadLabelSubtext,htmlFor:"initiative-image-dropzone",optional:!0}),g.createElement(L.default,{id:"initiative-image-dropzone",images:d?[d]:null,imagePreviewRatio:135/298,acceptedFileTypes:"image/jpg, image/jpeg, image/png, image/gif",onAdd:this.addImage,onRemove:this.removeImage}),D.image&&B.image&&g.createElement(F.default,{text:v(B.image.message)})),g.createElement(P.SectionField,null,g.createElement(M.FormLabel,{labelMessage:x.default.fileUploadLabel,subtextMessage:x.default.fileUploadLabelSubtext,optional:!0},g.createElement(T.default,{id:"e2e-initiative-file-upload",onFileAdd:p,onFileRemove:f,files:c,errors:h})))),g.createElement(M.FormSubmitFooter,{className:"e2e-initiative-publish-button",message:x.default.publishButton,error:m,errorMessage:x.default.submitApiError,processing:a,onSubmit:this.handleOnPublish}))}return null}}]),i}(g.Component);(0,f.default)(C,"titleMinLength",10),(0,f.default)(C,"titleMaxLength",72),(0,f.default)(C,"bodyMinLength",30),(0,f.default)(C,"requiredFields",["title_multiloc","body_multiloc","topic_ids"]);var U=(0,_.injectIntl)(C);t.default=U},gkAX:function(e,t,i){"use strict";i("tkto"),i("pNMO"),i("TeQF"),i("5DmW"),i("FZtP"),i("27RR");var a=i("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.initiativeImageStream=function(e,t){var i="".concat(l.API_PATH,"/initiatives/").concat(e,"/images/").concat(t);return s.default.get({apiEndpoint:i})},t.initiativeImagesStream=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i="".concat(l.API_PATH,"/initiatives/").concat(e,"/images");return s.default.get(c({apiEndpoint:i},t))},t.deleteInitiativeImage=function(e,t){return s.default.delete("".concat(l.API_PATH,"/initiatives/").concat(e,"/images/").concat(t),t)},t.addInitiativeImage=function(e,t){return p.apply(this,arguments)};var n=a(i("o0o1")),o=a(i("yXPU")),r=a(i("lSNA"));i("ma9I");var l=i("p0gT"),s=a(i("1Kqg")),u=i("fM+I");function d(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function c(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?d(Object(i),!0).forEach((function(t){(0,r.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function p(){return(p=(0,o.default)(n.default.mark((function e(t,i){var a,o,r,d,c=arguments;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>2&&void 0!==c[2]?c[2]:null,o="".concat(l.API_PATH,"/initiatives/").concat(t,"/images"),r={image:{ordering:a,image:i}},e.next=5,s.default.add(o,r);case 5:return d=e.sent,e.next=8,(0,u.initiativeByIdStream)(t).fetch();case 8:return e.abrupt("return",d);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},j0Li:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(0,i("JRPe").defineMessages)({selectedTopics:{id:"app.components.TopicsPicker.numberOfSelectedTopics",defaultMessage:"Selected {numberOfSelectedTopics, plural, =0 {zero topics} one {one topic} other {# topics}}. {selectedTopicNames}"}});t.default=a},mGTj:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reverseGeocode=t.geocode=void 0,i("07d7"),i("5s+n");var a=i("T89o");t.geocode=function(e){return new Promise((function(t){var i,n,o;e&&null!==(i=window)&&void 0!==i&&null!==(n=i.google)&&void 0!==n&&null!==(o=n.maps)&&void 0!==o&&o.Geocoder?(new google.maps.Geocoder).geocode({address:e},(function(e,i){var n=null;if(i===google.maps.GeocoderStatus.OK){var o,r,l,s,u,d,c=null==e||null===(o=e[0])||void 0===o||null===(r=o.geometry)||void 0===r||null===(l=r.location)||void 0===l?void 0:l.lat(),p=null==e||null===(s=e[0])||void 0===s||null===(u=s.geometry)||void 0===u||null===(d=u.location)||void 0===d?void 0:d.lng();(0,a.isNumber)(c)&&(0,a.isNumber)(p)&&(n={type:"Point",coordinates:[p,c]})}t(n)})):t(null)}))};t.reverseGeocode=function(e,t){return new Promise((function(i){var a,n,o;null!==(a=window)&&void 0!==a&&null!==(n=a.google)&&void 0!==n&&null!==(o=n.maps)&&void 0!==o&&o.Geocoder?(new google.maps.Geocoder).geocode({location:{lat:e,lng:t}},(function(e,t){var a,n=void 0,o=null==e||null===(a=e[0])||void 0===a?void 0:a.formatted_address;t===google.maps.GeocoderStatus.OK&&o&&(n=o),i(n)})):i(void 0)}))}}}]);
//# sourceMappingURL=17.0dffad9e73f4103c52b0.chunk.js.map