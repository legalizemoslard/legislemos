(window.webpackJsonp=window.webpackJsonp||[]).push([[138],{"+Scd":function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.exportSurveyResults=void 0;var u=n(r("o0o1"));r("ma9I");var a=n(r("yXPU")),l=r("p0gT"),o=r("QyKF"),c=r("Iab2"),f=function(){var e=(0,a.default)(u.default.mark((function e(t){var r;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.requestBlob)("".concat(l.API_PATH,"/").concat(t.type,"s/").concat(t.id,"/survey_responses/as_xlsx"),"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet");case 2:r=e.sent,(0,c.saveAs)(r,"survey-results-export.xlsx");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.exportSurveyResults=f},"4O/t":function(e,t,r){"use strict";r("SuFq"),r("4mDm"),r("07d7"),r("PKPk"),r("ENF9"),r("3bBZ"),r("5DmW");var n=r("TqRt"),u=r("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r("ma9I"),r("2B1R"),r("TeQF");var a=n(r("pVnL")),l=n(r("lwsE")),o=n(r("W8MJ")),c=n(r("PJYZ")),f=n(r("7W2i")),s=n(r("a1gu")),i=n(r("Nsbk")),d=n(r("lSNA")),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==u(e)&&"function"!=typeof e)return{default:e};var r=g(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=a?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,r&&r.set(e,n);return n}(r("q1tI")),y=r("KLnl"),v=r("dtw8"),m=r("ifvJ"),b=n(r("vOnD")),h=n(r("M7uY")),O=n(r("L+vo")),E=n(r("M8tl")),x=n(r("yJpM")),P=n(r("3A/8")),j=r("Loij"),w=n(r("Xs5y")),R=r("Rw3A");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(g=function(e){return e?r:t})(e)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,i.default)(e);if(t){var u=(0,i.default)(this).constructor;r=Reflect.construct(n,arguments,u)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}var S=b.default.div.withConfig({displayName:"surveyResults__Container",componentId:"sc-12ftgqd-0"})(["display:flex;flex-direction:column;max-width:500px;"]),k=function(e){(0,f.default)(r,e);var t=_(r);function r(){var e;(0,l.default)(this,r);for(var n=arguments.length,u=new Array(n),a=0;a<n;a++)u[a]=arguments[a];return e=t.call.apply(t,[this].concat(u)),(0,d.default)((0,c.default)(e),"renderButtons",(function(){var t=e.props,r=t.project,n=t.surveys_enabled,u=t.typeform_enabled,a=t.phases;return!(0,y.isNilOrError)(r)&&n&&u?"continuous"===r.attributes.process_type&&"survey"===r.attributes.participation_method&&"typeform"===r.attributes.survey_service?p.default.createElement(x.default,{type:"project",id:r.id}):"timeline"!==r.attributes.process_type||(0,y.isNilOrError)(a)?null:a.filter((function(e){return"survey"===e.attributes.participation_method&&"typeform"===e.attributes.survey_service})).map((function(e){return p.default.createElement(p.Fragment,{key:e.id},p.default.createElement("h3",null,p.default.createElement(P.default,{value:e.attributes.title_multiloc})),p.default.createElement(x.default,{id:e.id,type:"phase"}))})):null})),e}return(0,o.default)(r,[{key:"render",value:function(){return p.default.createElement(p.default.Fragment,null,p.default.createElement(j.SectionTitle,null,p.default.createElement(R.FormattedMessage,w.default.titleSurveyResults)),p.default.createElement(j.SectionDescription,null,p.default.createElement(R.FormattedMessage,w.default.subtitleSurveyResults)),p.default.createElement(S,null,this.renderButtons()))}}]),r}(p.default.PureComponent),M=(0,m.adopt)({surveys_enabled:p.default.createElement(O.default,{name:"surveys"}),typeform_enabled:p.default.createElement(O.default,{name:"typeform_surveys"}),phases:function(e){var t=e.params,r=e.render;return p.default.createElement(E.default,{projectId:t.projectId},r)},project:function(e){var t=e.params,r=e.render;return p.default.createElement(h.default,{projectId:t.projectId},r)}}),D=(0,v.withRouter)((function(e){return p.default.createElement(M,e,(function(t){return p.default.createElement(k,(0,a.default)({},e,t))}))}));t.default=D},oGXd:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={clickExportSurvey:{name:"Export Survey results clicked"}}},yJpM:function(e,t,r){"use strict";r("SuFq"),r("tkto"),r("pNMO"),r("TeQF"),r("5DmW"),r("FZtP"),r("27RR");var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r("sMBO");var u=n(r("lwsE")),a=n(r("W8MJ")),l=n(r("PJYZ")),o=n(r("7W2i")),c=n(r("a1gu")),f=n(r("Nsbk")),s=n(r("lSNA")),i=n(r("q1tI")),d=r("KuRP"),p=n(r("oGXd")),y=n(r("2fl8")),v=r("+Scd"),m=r("Rw3A"),b=n(r("Xs5y"));function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,s.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,f.default)(e);if(t){var u=(0,f.default)(this).constructor;r=Reflect.construct(n,arguments,u)}else r=n.apply(this,arguments);return(0,c.default)(this,r)}}var x=function(e){(0,o.default)(r,e);var t=E(r);function r(e){var n;return(0,u.default)(this,r),n=t.call(this,e),(0,s.default)((0,l.default)(n),"trackExportSurvey",(function(){(0,d.trackEventByName)(p.default.clickExportSurvey.name,{extra:O({},n.props)})})),(0,s.default)((0,l.default)(n),"handleExportSurveyResults",(function(){n.trackExportSurvey(),n.setState({exporting:!0}),(0,v.exportSurveyResults)(n.props),n.setState({exporting:!1})})),n.state={exporting:!1},n}return(0,a.default)(r,[{key:"render",value:function(){var e=this.state.exporting;return i.default.createElement(y.default,{buttonStyle:"secondary",icon:"download",onClick:this.handleExportSurveyResults,processing:e},i.default.createElement(m.FormattedMessage,b.default.exportSurveyResults))}}]),r}(i.default.PureComponent);t.default=x}}]);
//# sourceMappingURL=138.d9058d3f6af725c3bd82.chunk.js.map