{"version":3,"sources":["webpack:///./app/components/Sharing/buttons/Facebook.tsx","webpack:///./app/components/Sharing/buttons/WhatsApp.tsx","webpack:///./app/components/Sharing/messages.ts","webpack:///./app/components/Sharing/tracks.ts","webpack:///./app/components/Sharing/SharingButtons/index.tsx","webpack:///./app/components/Sharing/buttons/Twitter.tsx","webpack:///./node_modules/react-social/react-social.js","webpack:///./app/components/Sharing/buttons/Messenger.tsx","webpack:///./app/components/Sharing/buttons/Email.tsx","webpack:///./app/components/Sharing/utils.ts"],"names":["injectIntl","children","onClick","className","url","formatMessage","intl","tenant","isNilOrError","facebookConfig","data","attributes","settings","facebook_login","allowed","app_id","FacebookButton","appId","sharer","messages","shareOnFacebook","href","whatsAppMessage","whatsAppSharingText","encodeURIComponent","concat","whatsAppHref","clickSocialSharingLink","shareViaWhatsApp","defineMessages","id","defaultMessage","shareViaMessenger","shareOnTwitter","shareByEmail","shareThisInitiative","shareThisProject","shareThisFolder","share","shareButtonClicked","name","Container","styled","div","Title","h3","theme","colorText","fontSizes","large","isInModal","StyledIcon","Icon","Buttons","props","borderRadius","media","largePhone","colors","twitter","darken","facebookMessenger","biggerThanMaxTablet","facebook","colorMain","ButtonText","span","base","SharingButtons","memo","context","twitterMessage","emailSubject","emailBody","utmParams","layout","getUrl","medium","getUrlWithUtm","trackClick","properties","modal","network","trackEventByName","tracks","layoutClassName","ariaHidden","messenger","whatsapp","email","titleMessage","idea","FormattedMessage","project","initiative","folder","TwitterButton","message","factory","React","createClass","PropTypes","isBrowser","document","window","assign","dest","src","key","spread","obj","omit","clone","forEach","jsonp","cb","called","Date","Math","floor","random","script","createElement","callback","query","replace","setAttribute","body","appendChild","setTimeout","Error","args","Array","prototype","slice","call","arguments","unshift","apply","this","vkCallbacks","VK","Share","oldCount","count","index","hookVKCallback","exports","Count","displayName","propTypes","element","string","token","getDefaultProps","location","onCount","getInitialState","componentDidMount","updateCount","componentWillReceiveProps","nextProps","setState","componentDidUpdate","state","fetchCount","bind","constructUrl","err","console","warn","extractCount","getCount","render","Button","oneOfType","func","bool","target","title","windowOptions","array","_open","click","e","options","join","open","other","DefaultBlankTarget","FacebookCount","mixins","share_count","TwitterCount","shares","GooglePlusCount","google","PinterestCount","LinkedInCount","RedditCount","chs","i","length","score","VKontakteCount","captureVKCallback","TumblrCount","response","note_count","PocketCount","pocket","number","isRequired","OdnoklassnikiButton","search_keys","description","Object","keys","map","search_key","MyMailRuButton","image_url","msg","EmailButton","PinterestButton","VKontakteButton","GooglePlusButton","RedditButton","LinkedInButton","XingButton","TumblrButton","PocketButton","module","facebookAppId","messengerHref","handleClick","resUrl","source","campaign","content","a"],"mappings":"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","file":"1.c595339bc4e698e17df3.chunk.js","sourcesContent":["import React from 'react';\nimport { isNilOrError } from 'utils/helperUtils';\nimport useAppConfiguration from 'hooks/useAppConfiguration';\nimport { FacebookButton } from 'react-social';\n\n// i18n\nimport { injectIntl } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\nimport messages from '../messages';\n\ninterface Props {\n  className?: string;\n  onClick: () => void;\n  children: JSX.Element | JSX.Element[];\n  url: string;\n}\n\nconst Facebook = ({\n  children,\n  onClick,\n  className,\n  url,\n  intl: { formatMessage },\n}: Props & InjectedIntlProps) => {\n  const tenant = useAppConfiguration();\n\n  const handleClick = () => {\n    onClick();\n  };\n\n  if (!isNilOrError(tenant)) {\n    const facebookConfig = tenant.data.attributes.settings?.facebook_login;\n\n    if (facebookConfig?.allowed && facebookConfig?.app_id) {\n      return (\n        <FacebookButton\n          appId={facebookConfig.app_id}\n          url={url}\n          className={className}\n          onClick={handleClick}\n          sharer={true}\n          aria-label={formatMessage(messages.shareOnFacebook)}\n        >\n          {children}\n        </FacebookButton>\n      );\n    }\n  }\n\n  return null;\n};\n\nexport default injectIntl(Facebook);\n","import React from 'react';\nimport { clickSocialSharingLink } from '../utils';\n\n// i18n\nimport { injectIntl } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\nimport messages from '../messages';\n\ninterface Props {\n  className?: string;\n  onClick: () => void;\n  children: JSX.Element | JSX.Element[];\n  whatsAppMessage: string;\n  url: string;\n}\n\nconst WhatsApp = ({\n  children,\n  onClick,\n  className,\n  whatsAppMessage,\n  url,\n  intl: { formatMessage },\n}: Props & InjectedIntlProps) => {\n  const handleClick = (href: string) => () => {\n    clickSocialSharingLink(href);\n    onClick();\n  };\n\n  const whatsAppSharingText = encodeURIComponent(whatsAppMessage).concat(\n    ' ',\n    url\n  );\n  const whatsAppHref = `https://api.whatsapp.com/send?phone=&text=${whatsAppSharingText}`;\n\n  return (\n    <button\n      className={className}\n      onClick={handleClick(whatsAppHref)}\n      aria-label={formatMessage(messages.shareViaWhatsApp)}\n    >\n      {children}\n    </button>\n  );\n};\n\nexport default injectIntl(WhatsApp);\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  shareOnFacebook: {\n    id: 'app.components.Sharing.shareOnFacebook',\n    defaultMessage: 'Share on Facebook',\n  },\n  shareViaMessenger: {\n    id: 'app.components.Sharing.shareViaMessenger',\n    defaultMessage: 'Share via Messenger',\n  },\n  shareViaWhatsApp: {\n    id: 'app.components.Sharing.shareViaWhatsApp',\n    defaultMessage: 'Share via WhatsApp',\n  },\n  shareOnTwitter: {\n    id: 'app.components.Sharing.shareOnTwitter',\n    defaultMessage: 'Share on Twitter',\n  },\n  shareByEmail: {\n    id: 'app.components.Sharing.shareByEmail',\n    defaultMessage: 'Share by email',\n  },\n  shareThisInitiative: {\n    id: 'app.components.Sharing.shareThisInitiative',\n    defaultMessage: 'Share this initiative',\n  },\n  shareThisProject: {\n    id: 'app.components.Sharing.shareThisProject',\n    defaultMessage: 'Share this project',\n  },\n  shareThisFolder: {\n    id: 'app.components.Sharing.shareThisFolder',\n    defaultMessage: 'Share',\n  },\n  share: {\n    id: 'app.components.Sharing.share',\n    defaultMessage: 'Share',\n  },\n});\n","export default {\n  shareButtonClicked: {\n    name: 'Share button clicked',\n  },\n};\n","import React, { memo } from 'react';\n\n// components\nimport { Icon } from 'cl2-component-library';\nimport Facebook from '../buttons/Facebook';\nimport Twitter from '../buttons/Twitter';\nimport Messenger from '../buttons/Messenger';\nimport WhatsApp from '../buttons/WhatsApp';\nimport Email from '../buttons/Email';\n\n// i18n\nimport messages from '../messages';\nimport { InjectedIntlProps } from 'react-intl';\nimport { injectIntl, FormattedMessage } from 'utils/cl-intl';\n\n// analytics\nimport { trackEventByName } from 'utils/analytics';\nimport tracks from '../tracks';\n\n// style\nimport styled from 'styled-components';\nimport { media, fontSizes, colors } from 'utils/styleUtils';\nimport { darken } from 'polished';\n\n// utils\nimport { getUrlWithUtm, UtmParams, Medium } from '../utils';\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst Title = styled.h3<{ isInModal?: boolean }>`\n  color: ${({ theme }) => theme.colorText};\n  font-size: ${fontSizes.large}px;\n  font-weight: 600;\n  display: flex;\n  align-items: center;\n  margin: 0;\n  margin-bottom: 12px;\n  padding: 0;\n  justify-content: ${({ isInModal }) => (isInModal ? 'center' : 'start')};\n`;\n\nconst StyledIcon = styled(Icon)`\n  flex: 0 0 20px;\n  width: 20px;\n  height: 20px;\n  fill: #fff;\n`;\n\nconst Buttons = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n\n  &.columnLayout {\n    flex-direction: column;\n    flex-wrap: nowrap;\n    align-items: stretch;\n  }\n\n  .sharingButton {\n    flex: 1 1 auto;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    padding: 11px 12px;\n    border-radius: ${(props: any) => props.theme.borderRadius};\n    cursor: pointer;\n    transition: all 100ms ease-out;\n\n    &.rowLayout {\n      margin-right: 5px;\n\n      &.last {\n        margin-right: 0px;\n      }\n\n      ${media.largePhone`\n        flex-basis: calc(50% - 2.5px);\n\n        &:nth-child(odd) {\n          margin-right: 5px;\n\n          &.last {\n            margin-right: 0px;\n          }\n        }\n\n        &:nth-child(-n+2) {\n          margin-bottom: 5px;\n        }\n\n        &:nth-child(even) {\n          margin-right: 0;\n        }\n      `}\n    }\n\n    &.columnLayout {\n      margin-bottom: 15px;\n\n      &.last {\n        margin-bottom: 0px;\n      }\n    }\n\n    &.twitter {\n      background: ${colors.twitter};\n      color: #fff;\n\n      &:hover {\n        background: ${darken(0.15, colors.twitter)};\n      }\n    }\n\n    &.whatsapp {\n      color: #fff;\n      background: #23b43a;\n\n      &:hover {\n        color: #fff;\n        background: ${darken(0.12, '#23B43A')};\n      }\n    }\n\n    &.messenger {\n      background: ${colors.facebookMessenger};\n      color: #fff;\n\n      &:hover {\n        background: ${darken(0.15, colors.facebookMessenger)};\n      }\n\n      ${media.biggerThanMaxTablet`\n        display: none;\n      `}\n    }\n\n    &.facebook {\n      background: ${colors.facebook};\n      color: #fff;\n\n      &:hover {\n        background: ${darken(0.15, colors.facebook)};\n      }\n    }\n\n    &.email {\n      color: #fff;\n      background: ${(props: any) => props.theme.colorMain};\n\n      ${StyledIcon} {\n        fill: #fff;\n      }\n\n      &:hover {\n        background: ${(props: any) => darken(0.1, props.theme.colorMain)};\n      }\n    }\n  }\n`;\n\nconst ButtonText = styled.span`\n  font-size: ${fontSizes.base}px;\n  font-weight: 400;\n  line-height: normal;\n  margin-left: 10px;\n`;\n\ninterface Props {\n  context: 'idea' | 'project' | 'initiative' | 'folder';\n  isInModal?: boolean;\n  className?: string;\n  url: string;\n  twitterMessage: string;\n  whatsAppMessage: string;\n  emailSubject?: string;\n  emailBody?: string;\n  utmParams: UtmParams;\n  id?: string;\n  layout?: 'rowLayout' | 'columnLayout';\n}\n\n{\n  /*\n    This component is not just a grouping of all buttons in the buttons folder.\n    This component applies certain styles to the buttons (see above), so it's\n    an independent component.\n  */\n}\n\nconst SharingButtons = memo(\n  ({\n    context,\n    twitterMessage,\n    whatsAppMessage,\n    emailSubject,\n    emailBody,\n    className,\n    intl: { formatMessage },\n    isInModal,\n    id,\n    url,\n    utmParams,\n    layout,\n  }: Props & InjectedIntlProps) => {\n    const getUrl = (medium: Medium) => {\n      return getUrlWithUtm(medium, url, utmParams);\n    };\n\n    const trackClick = (medium: Medium) => () => {\n      const properties = isInModal\n        ? { modal: 'true', network: medium }\n        : { network: medium };\n\n      trackEventByName(tracks.shareButtonClicked.name, properties);\n    };\n\n    const layoutClassName =\n      layout === 'columnLayout' ? 'columnLayout' : 'rowLayout';\n\n    const facebook = (\n      <Facebook\n        url={getUrl('facebook')}\n        className={`sharingButton facebook ${layoutClassName}`}\n        onClick={trackClick('facebook')}\n      >\n        {/*\n          For all sharing components, the components inside the child wrapper are aria-hidden.\n          The reasons are that (1) there's an aria-label for the text in all the components themselves\n          so we don't need to rely on the person who uses the component to think of adding text.\n          and (2) the icon needs to be hidden by default.\n        */}\n        <>\n          <StyledIcon ariaHidden name=\"facebook\" />\n          {layout === 'columnLayout' && (\n            <ButtonText aria-hidden>\n              {formatMessage(messages.shareOnFacebook)}\n            </ButtonText>\n          )}\n        </>\n      </Facebook>\n    );\n\n    const messenger = (\n      <Messenger\n        className={`sharingButton messenger ${layoutClassName}`}\n        onClick={trackClick('messenger')}\n        url={getUrl('messenger')}\n      >\n        <>\n          <StyledIcon ariaHidden name=\"messenger\" />\n          {layout === 'columnLayout' && (\n            <ButtonText aria-hidden>\n              {formatMessage(messages.shareViaMessenger)}\n            </ButtonText>\n          )}\n        </>\n      </Messenger>\n    );\n\n    const whatsapp = (\n      <WhatsApp\n        className={`sharingButton whatsapp ${layoutClassName}`}\n        onClick={trackClick('whatsapp')}\n        whatsAppMessage={whatsAppMessage}\n        url={getUrl('whatsapp')}\n      >\n        <>\n          <StyledIcon ariaHidden name=\"whatsapp\" />\n          {layout === 'columnLayout' && (\n            <ButtonText aria-hidden>\n              {formatMessage(messages.shareViaWhatsApp)}\n            </ButtonText>\n          )}\n        </>\n      </WhatsApp>\n    );\n\n    const twitter = (\n      <Twitter\n        twitterMessage={twitterMessage}\n        url={getUrl('twitter')}\n        className={`sharingButton twitter ${\n          !emailSubject || !emailBody ? 'last' : ''\n        } ${layoutClassName}`}\n        onClick={trackClick('twitter')}\n      >\n        <>\n          <StyledIcon ariaHidden name=\"twitter\" />\n          {layout === 'columnLayout' && (\n            <ButtonText aria-hidden>\n              {formatMessage(messages.shareOnTwitter)}\n            </ButtonText>\n          )}\n        </>\n      </Twitter>\n    );\n\n    const email =\n      emailSubject && emailBody ? (\n        <Email\n          className={`sharingButton last email ${layoutClassName}`}\n          onClick={trackClick('email')}\n          emailSubject={emailSubject}\n          emailBody={emailBody}\n        >\n          <>\n            <StyledIcon ariaHidden name=\"email\" />\n            {layout === 'columnLayout' && (\n              <ButtonText aria-hidden>\n                {formatMessage(messages.shareByEmail)}\n              </ButtonText>\n            )}\n          </>\n        </Email>\n      ) : null;\n\n    const titleMessage = {\n      idea: <FormattedMessage {...messages.share} />,\n      project: <FormattedMessage {...messages.share} />,\n      initiative: <FormattedMessage {...messages.shareThisInitiative} />,\n      folder: <FormattedMessage {...messages.shareThisFolder} />,\n    }[context];\n\n    return (\n      <Container id={id || ''} className={className || ''}>\n        {layout !== 'columnLayout' && (\n          <Title isInModal={isInModal}>{titleMessage}</Title>\n        )}\n        <Buttons className={layoutClassName}>\n          {facebook}\n          {messenger}\n          {whatsapp}\n          {twitter}\n          {email}\n        </Buttons>\n      </Container>\n    );\n  }\n);\n\nexport default injectIntl(SharingButtons);\n","import React from 'react';\nimport { TwitterButton } from 'react-social';\n\n// i18n\nimport { injectIntl } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\nimport messages from '../messages';\n\ninterface Props {\n  className?: string;\n  onClick: () => void;\n  children: JSX.Element | JSX.Element[];\n  url: string;\n  twitterMessage: string;\n}\n\nconst Twitter = ({\n  children,\n  onClick,\n  className,\n  url,\n  twitterMessage,\n  intl: { formatMessage },\n}: Props & InjectedIntlProps) => {\n  const handleClick = () => {\n    onClick();\n  };\n\n  return (\n    <TwitterButton\n      message={twitterMessage}\n      url={url}\n      className={className}\n      onClick={handleClick}\n      sharer={true}\n      aria-label={formatMessage(messages.shareOnTwitter)}\n    >\n      {children}\n    </TwitterButton>\n  );\n};\n\nexport default injectIntl(Twitter);\n",";(function (root, factory) {\n  if (typeof module !== \"undefined\" && module.exports) {\n    module.exports = factory(require(\"react\"), require(\"create-react-class\"), require(\"prop-types\"));\n  } else if (typeof define === \"function\" && define.amd) {\n    define([\"react\"], factory);\n  } else {\n    root.ReactSocial = factory(root.React, root.React.createClass, root.React.PropTypes);\n  }\n})(this, function (React, createClass, PropTypes) {\n  \"use strict\";\n\n  var isBrowser = function () {\n    return !(typeof document === \"undefined\" || typeof window === \"undefined\");\n  };\n\n  var assign = function(dest, src) {\n    for (var key in src) {\n      dest[key] = src[key];\n    }\n\n    return dest;\n  };\n\n  var spread = function (obj, omit) {\n    var clone = assign({}, obj);\n\n    omit.forEach(function (key) {\n      delete clone[key];\n    });\n\n    return clone;\n  };\n\n  var jsonp = function (url, cb) {\n    cb = cb || function () { };\n    var called = false;\n    var now = +new Date(),\n      id = now + \"_\" + Math.floor(Math.random()*1000);\n\n    var script = document.createElement(\"script\"),\n      callback = \"jsonp_\" + id,\n      query = url.replace(\"@\", callback);\n\n    script.setAttribute(\"type\", \"text/javascript\");\n    script.setAttribute(\"src\", query);\n    document.body.appendChild(script);\n\n    setTimeout(function () {\n      if (!called) {\n        called = true;\n        cb(new Error(\"jsonp timeout\"));\n      }\n    }, 10000);\n\n    window[callback] = function () {\n      var args = Array.prototype.slice.call(arguments, 0);\n      args.unshift(null);\n      if (!called) {\n        called = true;\n        cb.apply(this, args);\n      }\n    };\n  };\n\n\n  /* Caputre VKontake callbacks */\n  var vkCallbacks = {};\n\n  var hookVKCallback = function () {\n    if (!isBrowser()) { return; }\n\n    if (!window.VK) {\n      window.VK = {};\n    }\n\n    if (!window.VK.Share) {\n      window.VK.Share = {};\n    }\n\n    var oldCount = window.VK.Share.count;\n\n    window.VK.Share.count = function (index, count) {\n      if (typeof vkCallbacks[index] === \"function\") {\n        return vkCallbacks[index](count);\n      }\n\n      if (typeof oldCount === \"function\") {\n        oldCount(index, count);\n      }\n    };\n  };\n\n  var captureVKCallback = function (index, cb) {\n    vkCallbacks[index] = cb;\n  };\n\n  hookVKCallback();\n\n  var exports = {};\n\n  var Count = {\n    displayName: \"Count\"\n\n    , propTypes: {\n      element: PropTypes.string\n      , url: PropTypes.string\n      , token: PropTypes.string\n    }\n\n    , getDefaultProps: function () {\n      var location = \"\";\n\n      if (isBrowser()) {\n        location = window.location.href;\n      }\n\n      return {\n        url: location\n        , token: \"\"\n        , element: \"span\"\n        , onCount: function () { }\n      };\n    }\n\n    , getInitialState: function () {\n      return {\n        count: 0\n      };\n    }\n\n    , componentDidMount: function () {\n      this.updateCount();\n    }\n\n    , componentWillReceiveProps: function (nextProps) {\n      if (this.props.url !== nextProps.url) {\n        this.setState({\n          count: 0\n        }, function () {\n          this.updateCount();\n        });\n      }\n    }\n\n    , componentDidUpdate: function () {\n      this.props.onCount(this.state.count);\n    }\n\n    , updateCount: function () {\n      if (!isBrowser()) {\n        return ;\n      }\n\n      if (typeof this.fetchCount === \"function\") {\n        return this.fetchCount(function (count) {\n          this.setState({ count: count });\n        }.bind(this));\n      }\n\n      var url = this.constructUrl();\n\n      jsonp(url, function (err, data) {\n        if (err) {\n          console.warn(\"react-social: jsonp timeout for url \" + url);\n          return this.setState({count: 0});\n        }\n\n        this.setState({\n          count: this.extractCount(data)\n        });\n      }.bind(this));\n    }\n\n    , getCount: function () {\n      return this.state.count;\n    }\n\n    , render: function () {\n      return React.createElement(\n        this.props.element\n        , spread(this.props, [\"element\", \"url\", \"onCount\", \"token\"])\n        , this.state.count\n      );\n    }\n  };\n\n  var Button = {\n    displayName: \"Button\"\n\n    , propTypes: {\n      element: PropTypes.oneOfType([\n        PropTypes.string\n      , PropTypes.func\n      ])\n      , media: PropTypes.string\n      , message: PropTypes.string\n      , onClick: PropTypes.func\n      , sharer: PropTypes.bool\n      , target: PropTypes.string\n      , title: PropTypes.string\n      , url: PropTypes.string\n      , windowOptions: PropTypes.array\n      , _open: PropTypes.bool\n    }\n\n    , getDefaultProps: function () {\n      var location = \"\";\n\n      if (isBrowser()) {\n        location = window.location.href;\n      }\n\n      return {\n        element: \"button\"\n        , url: location\n        , media: \"\"\n        , message: \"\"\n        , onClick: function () { }\n        , windowOptions: []\n        , _open: true\n        , sharer: false\n      };\n    }\n\n    , click: function (e) {\n      var url = this.constructUrl();\n      var target = this.props.target;\n      var options = this.props.windowOptions.join(',');\n      this.props.onClick(e, url, target);\n      if (isBrowser() && this.props._open) {\n        window.open(url, target, options);\n      }\n    }\n\n    , render: function () {\n      var other = spread(this.props, [\n        \"_open\",\n        \"appId\",\n        \"element\",\n        \"media\",\n        \"message\",\n        \"onClick\",\n        \"sharer\",\n        \"title\",\n        \"url\",\n        \"windowOptions\"\n      ]);\n\n      return React.createElement(\n        this.props.element\n        , assign({ \"onClick\": this.click }, other)\n      );\n    }\n  };\n\n  var DefaultBlankTarget = {\n    getDefaultProps: function () {\n      return {target: \"_blank\"};\n    }\n  };\n\n  /* Counts */\n  exports.FacebookCount = createClass({\n    displayName: \"FacebookCount\"\n\n    , mixins: [Count]\n\n    , constructUrl: function () {\n      var url = \"\";\n\n      if (!this.props.token) {\n        url = \"https://graph.facebook.com/?callback=@&id=\" + encodeURIComponent(this.props.url);\n      } else {\n        url = \"https://graph.facebook.com/v2.8/?callback=@\"\n                + \"&id=\" + encodeURIComponent(this.props.url)\n                + \"&access_token=\" + encodeURIComponent(this.props.token);\n      }\n\n      return url;\n    }\n\n    , extractCount: function (data) {\n      if (!data || !data.share || !data.share.share_count) {\n        return 0;\n      }\n\n      return data.share.share_count;\n    }\n  });\n\n  exports.TwitterCount = createClass({\n    displayName: \"TwitterCount\"\n\n    , mixins: [Count]\n\n    , constructUrl: function () {\n      return \"https://count.donreach.com/?callback=@&url=\" + encodeURIComponent(this.props.url) + \"&providers=all\";\n    }\n\n    , extractCount: function (data) {\n      return data.shares.twitter || 0;\n    }\n  });\n\n  exports.GooglePlusCount = createClass({\n    displayName: \"GooglePlusCount\"\n\n    , mixins: [Count]\n\n    , constructUrl: function () {\n      return \"https://count.donreach.com/?callback=@&url=\" + encodeURIComponent(this.props.url) + \"&providers=google\";\n    }\n\n    , extractCount: function (data) {\n      return data.shares.google || 0;\n    }\n  });\n\n  exports.PinterestCount = createClass({\n    displayName: \"PinterestCount\"\n\n    , mixins: [Count]\n\n    , constructUrl: function () {\n      return \"https://api.pinterest.com/v1/urls/count.json?callback=@&url=\"\n             + encodeURIComponent(this.props.url);\n    }\n\n    , extractCount: function (data) {\n      return data.count || 0;\n    }\n  });\n\n  exports.LinkedInCount = createClass({\n    displayName: \"LinkedInCount\"\n\n    , mixins: [Count]\n\n    , constructUrl: function () {\n      return \"https://www.linkedin.com/countserv/count/share?url=\" + encodeURIComponent(this.props.url) + \"&callback=@&format=jsonp\";\n    }\n\n    , extractCount: function (data) {\n      return data.count || 0;\n    }\n  });\n\n  exports.RedditCount = createClass({\n    displayName: \"RedditCount\"\n\n    , mixins: [Count]\n\n    , constructUrl: function () {\n      return \"https://www.reddit.com/api/info.json?jsonp=@&url=\" + encodeURIComponent(this.props.url);\n    }\n\n    , extractCount: function (data) {\n      var count = 0;\n      var chs = data.data.children;\n\n      for (var i = 0; i < chs.length; i++) {\n        count += chs[i].data.score;\n      }\n\n      return count;\n    }\n  });\n\n  exports.VKontakteCount = createClass({\n    displayName: \"VKontakteCount\"\n\n    , mixins: [Count]\n\n    , fetchCount: function (cb) {\n      var index = Math.floor(Math.random() * 10000)\n      var url = \"https://vkontakte.ru/share.php?act=count&index=\" + index + \"&url=\" + encodeURIComponent(this.props.url);\n      captureVKCallback(index, cb);\n      jsonp(url);\n    }\n  });\n\n\n  exports.TumblrCount = createClass({\n    displayName: \"TumblrCount\"\n\n    , mixins: [Count]\n\n    , constructUrl: function () {\n      return \"http://api.tumblr.com/v2/share/stats?url=\"\n             + encodeURIComponent(this.props.url) + \"&callback=@\";\n    }\n\n    , extractCount: function (data) {\n      return data.response.note_count || 0;\n    }\n  });\n\n  exports.PocketCount = createClass({\n    displayName: \"PocketCount\"\n\n    , mixins: [Count]\n\n    , constructUrl: function () {\n      return \"https://count.donreach.com/?callback=@&url=\" + encodeURIComponent(this.props.url) + \"&providers=pocket\";\n    }\n\n    , extractCount: function (data) {\n      return data.shares.pocket || 0;\n    }\n  });\n\n  /* Buttons */\n  exports.FacebookButton = createClass({\n    displayName: \"FacebookButton\"\n\n    , mixins: [Button, DefaultBlankTarget]\n\n    , propTypes: {\n      appId: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.number\n      ]).isRequired,\n      sharer: PropTypes.bool\n    }\n\n    , constructUrl: function () {\n      if (this.props.sharer) {\n        return \"https://www.facebook.com/dialog/share?\"\n             + \"app_id=\" + encodeURIComponent(this.props.appId)\n             + \"&display=popup&caption=\" + encodeURIComponent(this.props.message)\n             + \"&href=\" + encodeURIComponent(this.props.url)\n             + \"&redirect_uri=\" + encodeURIComponent(\"https://www.facebook.com/\")\n      }\n\n      return \"https://www.facebook.com/dialog/feed?\"\n             + \"app_id=\" + encodeURIComponent(this.props.appId)\n             + \"&display=popup&caption=\" + encodeURIComponent(this.props.message)\n             + \"&link=\" + encodeURIComponent(this.props.url)\n             + \"&picture=\" + encodeURIComponent(this.props.media)\n             + \"&redirect_uri=\" + encodeURIComponent(\"https://www.facebook.com/\")\n    }\n  });\n\n  exports.OdnoklassnikiButton = createClass({\n    displayName: \"OdnoklassnikiButton\"\n\n    , mixins: [Button, DefaultBlankTarget]\n\n    , propTypes: {\n      message: PropTypes.string.isRequired,\n      media: PropTypes.string.isRequired,\n      title: PropTypes.string.isRequired\n    }\n\n    , constructUrl: function () {\n      var share_location = 'https://connect.ok.ru/offer',\n          url = this.props.url,\n          media = encodeURIComponent(this.props.media),\n          title = encodeURIComponent(this.props.title),\n          message = encodeURIComponent(this.props.message);\n      var search_keys = { url: url, media: media, title: title, description: message };\n      var search = Object.keys(search_keys).map(function (search_key) {\n        return search_key + '=' + search_keys[search_key];\n      }).join('&');\n      return [share_location, search].join('?');\n    }\n  });\n\n  exports.MyMailRuButton = createClass({\n    displayName: \"MyMailRuButton\"\n\n    , mixins: [Button, DefaultBlankTarget]\n\n    , propTypes: {\n      message: PropTypes.string.isRequired,\n      media: PropTypes.string.isRequired,\n      title: PropTypes.string.isRequired\n    }\n\n    , constructUrl: function () {\n      var share_location = 'http://connect.mail.ru/share',\n          url = this.props.url,\n          media = encodeURIComponent(this.props.media),\n          title = encodeURIComponent(this.props.title),\n          message = encodeURIComponent(this.props.message);\n      var search_keys = { url: url, image_url: media, title: title, description: message };\n      var search = Object.keys(search_keys).map(function (search_key) {\n        return search_key + '=' + search_keys[search_key];\n      }).join('&');\n      return [share_location, search].join('?');\n    }\n  });\n\n  exports.TwitterButton = createClass({\n    displayName: \"TwitterButton\"\n\n    , mixins: [Button, DefaultBlankTarget]\n\n    , constructUrl: function () {\n      var msg = this.props.message === \"\" ?\n        this.props.url : this.props.message + \" \" + this.props.url;\n      return \"https://twitter.com/intent/tweet?text=\" + encodeURIComponent(msg);\n    }\n  });\n\n  exports.EmailButton = createClass({\n    displayName: \"EmailButton\"\n\n    , mixins: [Button, DefaultBlankTarget]\n\n    , constructUrl: function () {\n      return \"mailto:?subject=\" + encodeURIComponent(this.props.message) + \"&body=\" + encodeURIComponent(this.props.url);\n    }\n  });\n\n  exports.PinterestButton = createClass({\n    displayName: \"PinterestButton\"\n\n    , mixins: [Button, DefaultBlankTarget]\n\n    , propTypes: {\n      media: PropTypes.string.isRequired\n    }\n\n    , constructUrl: function () {\n      var url = \"https://pinterest.com/pin/create/button/?url=\"\n                + encodeURIComponent(this.props.url) + \"&media=\"\n                + encodeURIComponent(this.props.media) + \"&description=\"\n                + encodeURIComponent(this.props.message);\n      return url;\n    }\n  });\n\n  exports.VKontakteButton = createClass({\n    displayName: \"VKontakteButton\"\n\n    , mixins: [Button, DefaultBlankTarget]\n\n    , constructUrl: function () {\n        return \"http://vk.com/share.php?url=\"\n                + encodeURIComponent(this.props.url) + \"&title=\"\n                + encodeURIComponent(this.props.title) + \"&description=\"\n                + encodeURIComponent(this.props.message);\n    }\n  });\n\n  exports.GooglePlusButton = createClass({\n    displayName: \"GooglePlusButton\"\n\n    , mixins: [Button, DefaultBlankTarget]\n\n    , constructUrl: function () {\n        return \"https://plus.google.com/share?url=\" + encodeURIComponent(this.props.url);\n    }\n  });\n\n  exports.RedditButton = createClass({\n    displayName: \"RedditButton\"\n\n    , mixins: [Button, DefaultBlankTarget]\n\n    , constructUrl: function () {\n        return \"https://www.reddit.com/submit?url=\"\n        + encodeURIComponent(this.props.url) + '&title='\n        + encodeURIComponent(this.props.title);\n    }\n  });\n\n  exports.LinkedInButton = createClass({\n    displayName: \"LinkedInButton\"\n\n    , mixins: [Button, DefaultBlankTarget]\n\n    , constructUrl: function () {\n      return \"https://www.linkedin.com/shareArticle?url=\"\n        + encodeURIComponent(this.props.url) + '&title='\n        + encodeURIComponent(this.props.title);\n    }\n  });\n\n  exports.XingButton = createClass({\n    displayName: \"XingButton\"\n\n    , mixins: [Button, DefaultBlankTarget]\n\n    , constructUrl: function () {\n      return \"https://www.xing.com/app/user?op=share;url=\" + encodeURIComponent(this.props.url) + \";title=\" + encodeURIComponent(this.props.message);\n    }\n  });\n\n  exports.TumblrButton = createClass({\n    displayName: \"TumblrButton\"\n\n    , mixins: [Button, DefaultBlankTarget]\n\n    , constructUrl: function () {\n      return \"https://www.tumblr.com/widgets/share/tool?posttype=link&title=\" + encodeURIComponent(this.props.message) + \"&content=\" + encodeURIComponent(this.props.url) + \"&canonicalUrl=\" + encodeURIComponent(this.props.url) + \"&shareSource=tumblr_share_button\";\n    }\n  });\n\n  exports.PocketButton = createClass({\n    displayName: \"PocketButton\"\n\n    , mixins: [Button, DefaultBlankTarget]\n\n    , constructUrl: function () {\n      return \"https://getpocket.com/save?url=\" + encodeURIComponent(this.props.url) + \"&title=\" + encodeURIComponent(this.props.message);\n    }\n  });\n\n  return exports;\n});\n","import React from 'react';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { clickSocialSharingLink } from '../utils';\n\n// hooks\nimport useAppConfiguration from 'hooks/useAppConfiguration';\n\n// i18n\nimport { injectIntl } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\nimport messages from '../messages';\n\ninterface Props {\n  className?: string;\n  children: JSX.Element | JSX.Element[];\n  onClick: () => void;\n  url: string;\n}\nconst Messenger = ({\n  children,\n  className,\n  onClick,\n  url,\n  intl: { formatMessage },\n}: Props & InjectedIntlProps) => {\n  const tenant = useAppConfiguration();\n  const handleClick = (href: string) => () => {\n    clickSocialSharingLink(href);\n    onClick();\n  };\n\n  if (!isNilOrError(tenant)) {\n    const facebookAppId =\n      tenant.data.attributes.settings.facebook_login?.app_id;\n    const messengerHref = facebookAppId\n      ? `fb-messenger://share/?link=${url}&app_id=${facebookAppId}`\n      : null;\n\n    if (messengerHref) {\n      return (\n        <button\n          className={className}\n          onClick={handleClick(messengerHref)}\n          aria-label={formatMessage(messages.shareViaMessenger)}\n        >\n          {children}\n        </button>\n      );\n    }\n  }\n\n  return null;\n};\n\nexport default injectIntl(Messenger);\n","import React from 'react';\nimport { clickSocialSharingLink } from '../utils';\n\n// i18n\nimport { injectIntl } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\nimport messages from '../messages';\n\ninterface Props {\n  className?: string;\n  onClick: () => void;\n  children: JSX.Element | JSX.Element[];\n  emailSubject: string;\n  emailBody: string;\n}\n\nconst Email = ({\n  children,\n  onClick,\n  className,\n  emailSubject,\n  emailBody,\n  intl: { formatMessage },\n}: Props & InjectedIntlProps) => {\n  const handleClick = (href: string) => () => {\n    clickSocialSharingLink(href);\n    onClick();\n  };\n\n  const href = `mailto:?subject=${emailSubject}&body=${emailBody}`;\n\n  return (\n    <button\n      className={className}\n      onClick={handleClick(href)}\n      aria-label={formatMessage(messages.shareByEmail)}\n    >\n      {children}\n    </button>\n  );\n};\n\nexport default injectIntl(Email);\n","export type Medium =\n  | 'facebook'\n  | 'twitter'\n  | 'messenger'\n  | 'whatsapp'\n  | 'email';\n\nexport type UtmParams = {\n  source: string;\n  campaign: string;\n  content?: string;\n};\n\nexport function getUrlWithUtm(\n  medium: Medium,\n  url: string,\n  utmParams: UtmParams\n) {\n  let resUrl = url;\n\n  resUrl += `?utm_source=${encodeURIComponent(\n    utmParams.source\n  )}&utm_campaign=${encodeURIComponent(\n    utmParams.campaign\n  )}&utm_medium=${encodeURIComponent(medium)}`;\n\n  if (utmParams.content) {\n    resUrl += `&utm_content=${encodeURIComponent(utmParams.content)}`;\n  }\n\n  return resUrl;\n}\n\nexport function clickSocialSharingLink(href: string) {\n  // https://stackoverflow.com/a/8944769\n  const a = document.createElement('a');\n  a.href = href;\n  a.target = '_blank';\n  document.body.appendChild(a);\n  a.click();\n}\n"],"sourceRoot":""}