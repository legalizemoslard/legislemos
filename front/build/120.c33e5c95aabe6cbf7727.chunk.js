(window.webpackJsonp=window.webpackJsonp||[]).push([[120],{"1Tat":function(e,t,n){"use strict";n("4mDm"),n("07d7"),n("PKPk"),n("ENF9"),n("3bBZ"),n("5DmW");var a=n("TqRt"),i=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("TeQF"),n("2B1R");var r=a(n("pVnL")),l=a(n("J4zp")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n("q1tI")),d=n("KLnl"),u=a(n("ks7M")),c=a(n("V3HD")),s=n("Rw3A"),f=a(n("08jh")),p=a(n("vfLC"));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}var h=(0,o.memo)((function(e){var t=e.alignment,n=e.projectId,a=e.onChange,i=e.localize,c=(0,o.useState)([]),m=(0,l.default)(c,2),h=m[0],g=m[1],v=(0,p.default)(n?{projectId:n}:{}),b=(0,o.useMemo)((function(){return(0,d.isNilOrError)(v)?[]:v.filter((function(e){return!(0,d.isNilOrError)(e)})).map((function(e){return{text:i(e.attributes.title_multiloc),value:e.id}}))}),[v]);return b&&b.length>0?o.default.createElement(u.default,{id:"e2e-idea-filter-selector",title:o.default.createElement(s.FormattedMessage,(0,r.default)({},f.default.topicsTitle,{key:"topic-title-".concat(Math.floor(1e8*Math.random()))})),name:"topics",selected:h,values:b,onChange:function(e){g(e),a(e)},multipleSelectionAllowed:!0,last:!0,left:"left"===t?"-5px":void 0,mobileLeft:"left"===t?"-5px":void 0,right:"right"===t?"-5px":void 0,mobileRight:"right"===t?"-5px":void 0}):null})),g=(0,c.default)(h);t.default=g},"5y+3":function(e,t,n){"use strict";n("tkto"),n("pNMO"),n("TeQF"),n("5DmW"),n("FZtP"),n("27RR");var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.ideaFormSchemaStream=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n="".concat(r.API_PATH,"/projects/").concat(e,"/custom_fields/schema");return l.default.get(d({apiEndpoint:n},t))};var i=a(n("lSNA"));n("ma9I");var r=n("p0gT"),l=a(n("1Kqg"));function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},"PGV/":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.projectId,n=(0,r.useState)(void 0),a=(0,i.default)(n,2),d=a[0],u=a[1];return(0,r.useEffect)((function(){var e=(0,o.of)(null);t&&(e=(0,l.ideaFormSchemaStream)(t).observable);var n=e.subscribe((function(e){u(e)}));return function(){return n.unsubscribe()}}),[t]),d};var i=a(n("J4zp")),r=n("q1tI"),l=n("5y+3"),o=n("DtyJ")},krY4:function(e,t,n){"use strict";n("SuFq"),n("4mDm"),n("07d7"),n("PKPk"),n("ENF9"),n("3bBZ"),n("5DmW");var a=n("TqRt"),i=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("2B1R");var r=a(n("pVnL")),l=a(n("lwsE")),o=a(n("W8MJ")),d=a(n("PJYZ")),u=a(n("7W2i")),c=a(n("a1gu")),s=a(n("Nsbk")),f=a(n("lSNA")),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n("q1tI")),m=n("ifvJ"),h=a(n("ks7M")),g=a(n("Frrm")),v=a(n("V3HD"));function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,s.default)(e);if(t){var i=(0,s.default)(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}var w=function(e){(0,u.default)(n,e);var t=y(n);function n(e){var a;return(0,l.default)(this,n),a=t.call(this,e),(0,f.default)((0,d.default)(a),"handleOnChange",(function(e){a.setState({selectedValues:e}),a.props.onChange(e)})),a.state={selectedValues:[]},a}return(0,o.default)(n,[{key:"render",value:function(){var e=this.state.selectedValues,t=this.props,n=t.projects,a=t.localize,i=t.title,r=t.className,l=t.textColor,o=n.projectsList;if(o&&o.length>0){var d=o.map((function(e){return{text:a(e.attributes.title_multiloc),value:e.id}}));if(d&&d.length>0)return p.default.createElement(h.default,{id:"e2e-project-filter-selector",className:r,title:i,name:"projects",selected:e,values:d,onChange:this.handleOnChange,multipleSelectionAllowed:!0,right:"-10px",mobileLeft:"-5px",textColor:l})}return null}}]),n}(p.PureComponent),x=(0,m.adopt)({projects:p.default.createElement(g.default,{publicationStatuses:["published"],sort:"new"})}),j=(0,v.default)(w);t.default=function(e){return p.default.createElement(x,e,(function(t){return p.default.createElement(j,(0,r.default)({},t,e))}))}},qJNC:function(e,t,n){"use strict";n("SuFq"),n("ENF9"),n("5DmW");var a=n("TqRt"),i=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("pVnL")),l=a(n("QILm")),o=a(n("lwsE")),d=a(n("W8MJ")),u=a(n("PJYZ")),c=a(n("7W2i")),s=a(n("a1gu")),f=a(n("Nsbk")),p=a(n("lSNA")),m=a(n("VkAN"));n("4mDm"),n("07d7"),n("5s+n"),n("PKPk"),n("3bBZ"),n("ma9I"),n("2B1R");var h,g,v,b,y,w,x,j,O,E,C,S=$(n("q1tI")),_=n("ifvJ"),P=n("KLnl"),M=n("KuRP"),F=a(n("zAZl")),I=a(n("XJHN")),N=n("iP56"),T=a(n("1Tat")),W=a(n("Q/be")),k=a(n("krY4")),q=a(n("j2uE")),V=a(n("2fl8")),z=a(n("HahP")),R=a(n("17nk")),D=a(n("anjn")),B=a(n("M7uY")),L=a(n("vztX")),A=a(n("yiTP")),J=a(n("08jh")),H=n("Rw3A"),K=$(n("vOnD")),Z=n("96Cm"),Y=n("ufqH"),Q=n("DbO4"),X=n("dtw8"),G=["render"];function U(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(U=function(e){return e?n:t})(e)}function $(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=U(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}return a.default=e,n&&n.set(e,a),a}function ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var i=(0,f.default)(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var te=(0,S.lazy)((function(){return Promise.all([n.e(12),n.e(3),n.e(4),n.e(1),n.e(69)]).then(n.t.bind(null,"mz5S",7))})),ne=K.default.div.withConfig({displayName:"WithoutFiltersSidebar__Container",componentId:"sc-1ezq2ms-0"})(["width:100%;"]),ae=K.default.div.withConfig({displayName:"WithoutFiltersSidebar__Loading",componentId:"sc-1ezq2ms-1"})(["width:100%;height:300px;display:flex;align-items:center;justify-content:center;",";"],Z.defaultCardStyle),ie=K.default.div.withConfig({displayName:"WithoutFiltersSidebar__FiltersArea",componentId:"sc-1ezq2ms-2"})(["width:100%;min-height:54px;display:flex;flex-direction:row;align-items:center;justify-content:space-between;margin-bottom:15px;"," &.mapView{justify-content:flex-end;margin-bottom:15px;","}"," ",""],(0,Z.isRtl)(h||(h=(0,m.default)(["\n    flex-direction: row-reverse;\n  "]))),Z.media.smallerThanMinTablet(g||(g=(0,m.default)(["\n      margin-bottom: 0px;\n    "]))),Z.media.biggerThanMinTablet(v||(v=(0,m.default)(["\n    &.mapView {\n      margin-top: -65px;\n    }\n  "]))),Z.media.smallerThanMinTablet(b||(b=(0,m.default)(["\n    flex-direction: column;\n    align-items: stretch;\n    margin-bottom: 30px;\n  "])))),re=K.default.div.withConfig({displayName:"WithoutFiltersSidebar__FilterArea",componentId:"sc-1ezq2ms-3"})(["display:flex;align-items:center;"]),le=(0,K.default)(re).withConfig({displayName:"WithoutFiltersSidebar__LeftFilterArea",componentId:"sc-1ezq2ms-4"})(["flex:1 1 auto;&.hidden{display:none;}",""],Z.media.smallerThanMinTablet(y||(y=(0,m.default)(["\n    display: flex;\n    flex-direction: column;\n    align-items: stretch;\n  "])))),oe=(0,K.default)(re).withConfig({displayName:"WithoutFiltersSidebar__RightFilterArea",componentId:"sc-1ezq2ms-5"})(["display:flex;align-items:center;&.hidden{display:none;}"]),de=K.default.div.withConfig({displayName:"WithoutFiltersSidebar__DropdownFilters",componentId:"sc-1ezq2ms-6"})(["display:flex;align-items:center;&.hidden{display:none;}"]),ue=(0,K.default)(z.default).withConfig({displayName:"WithoutFiltersSidebar__DesktopViewButtons",componentId:"sc-1ezq2ms-7"})(["margin-left:40px;",""],Z.media.smallerThanMinTablet(w||(w=(0,m.default)(["\n    display: none;\n  "])))),ce=(0,K.default)(z.default).withConfig({displayName:"WithoutFiltersSidebar__MobileViewButtons",componentId:"sc-1ezq2ms-8"})(["margin-bottom:15px;"]),se=(0,K.default)(q.default).withConfig({displayName:"WithoutFiltersSidebar__StyledSearchInput",componentId:"sc-1ezq2ms-9"})(["width:300px;margin-right:30px;"," ",""],(0,Z.isRtl)(x||(x=(0,m.default)(["\n    margin-right: 0;\n    margin-left: auto;\n  "]))),Z.media.smallerThanMinTablet(j||(j=(0,m.default)(["\n    width: 100%;\n    margin-right: 0px;\n    margin-left: 0px;\n    margin-bottom: 20px;\n  "])))),fe=K.default.div.withConfig({displayName:"WithoutFiltersSidebar__IdeasList",componentId:"sc-1ezq2ms-10"})(["margin-left:-12px;margin-right:-12px;display:flex;flex-wrap:wrap;",""],(0,Z.isRtl)(O||(O=(0,m.default)(["\n    flex-direction: row-reverse;\n  "])))),pe=(0,K.default)(I.default).withConfig({displayName:"WithoutFiltersSidebar__StyledIdeaCard",componentId:"sc-1ezq2ms-11"})(["flex-grow:0;width:calc(50% - 20px);margin:10px;",";"],Z.media.smallerThanMinTablet(E||(E=(0,m.default)(["\n    width: 100%;\n  "])))),me=K.default.div.withConfig({displayName:"WithoutFiltersSidebar__EmptyContainer",componentId:"sc-1ezq2ms-12"})(["width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;margin:0;padding-top:100px;padding-bottom:100px;",";"],Z.defaultCardStyle),he=(0,K.default)(N.Icon).withConfig({displayName:"WithoutFiltersSidebar__IdeaIcon",componentId:"sc-1ezq2ms-13"})(["flex:0 0 26px;width:26px;height:26px;fill:",";"],Z.colors.label),ge=K.default.div.withConfig({displayName:"WithoutFiltersSidebar__EmptyMessage",componentId:"sc-1ezq2ms-14"})(["padding-left:20px;padding-right:20px;margin-top:12px;margin-bottom:30px;"]),ve=K.default.div.withConfig({displayName:"WithoutFiltersSidebar__EmptyMessageLine",componentId:"sc-1ezq2ms-15"})(["color:",";font-size:","px;font-weight:400;line-height:normal;text-align:center;"],Z.colors.label,Z.fontSizes.base),be=K.default.div.withConfig({displayName:"WithoutFiltersSidebar__Footer",componentId:"sc-1ezq2ms-16"})(["width:100%;display:flex;justify-content:center;margin-top:30px;",""],Z.media.smallerThanMinTablet(C||(C=(0,m.default)(["\n    flex-direction: column;\n    align-items: stretch;\n    margin-top: 0px;\n  "])))),ye=(0,K.default)(V.default).withConfig({displayName:"WithoutFiltersSidebar__ShowMoreButton",componentId:"sc-1ezq2ms-17"})([""]),we=K.default.div.withConfig({displayName:"WithoutFiltersSidebar__ListView",componentId:"sc-1ezq2ms-18"})([""]),xe=function(e){(0,c.default)(n,e);var t=ee(n);function n(e){var a;return(0,o.default)(this,n),a=t.call(this,e),(0,p.default)((0,u.default)(a),"loadMore",(function(){(0,M.trackEventByName)(F.default.loadMoreIdeas),a.props.ideas.onLoadMore()})),(0,p.default)((0,u.default)(a),"handleSearchOnChange",(function(e){a.props.ideas.onChangeSearchTerm(e)})),(0,p.default)((0,u.default)(a),"handleProjectsOnChange",(function(e){a.props.ideas.onChangeProjects(e)})),(0,p.default)((0,u.default)(a),"handleSortOnChange",(function(e){(0,M.trackEventByName)(F.default.sortingFilter,{sort:e}),a.props.ideas.onChangeSorting(e)})),(0,p.default)((0,u.default)(a),"handleTopicsOnChange",(function(e){(0,M.trackEventByName)(F.default.topicsFilter,{topics:e}),a.props.ideas.onChangeTopics(e)})),(0,p.default)((0,u.default)(a),"selectView",(function(e){a.setState({selectedView:e})})),(0,p.default)((0,u.default)(a),"isFieldEnabled",(function(e){var t,n,i,r=a.props,l=r.ideaCustomFieldsSchemas,o=r.locale;return!(!(0,P.isNilOrError)(l)&&!(0,P.isNilOrError)(o))||"hidden"!==(null===(t=l.ui_schema_multiloc)||void 0===t||null===(n=t[o])||void 0===n||null===(i=n[e])||void 0===i?void 0:i["ui:widget"])})),a.state={selectedView:e.defaultView||"card"},a}return(0,d.default)(n,[{key:"componentDidUpdate",value:function(e){this.props.phaseId!==e.phaseId&&this.setState({selectedView:this.props.defaultView||"card"})}},{key:"render",value:function(){var e=this.state.selectedView,t=this.props,n=t.participationMethod,a=t.participationContextId,i=t.participationContextType,r=t.defaultSortingMethod,l=t.windowSize,o=t.ideas,d=t.className,u=t.theme,c=t.allowProjectsFilter,s=t.showViewToggle,f=t.project,p=o.queryParameters,m=o.list,h=o.hasMore,g=o.querying,v=o.loadingMore,b=!(0,P.isNilOrError)(m)&&m.length>0,y=this.isFieldEnabled("location"),w=this.isFieldEnabled("topic_ids"),x=!(!y||!s),j=!y||y&&"card"===e,O=y&&"map"===e,E=!!(l&&l<=Z.viewportWidths.largeTablet),C=!!(l&&l<=Z.viewportWidths.smallTablet),_=!!(l&&l>=Z.viewportWidths.smallTablet),M=!!(l&&l>=Z.viewportWidths.largeTablet),F=!!(l&&l<=1100),I=!!(l&&l<=Z.viewportWidths.phone);return S.default.createElement(ne,{id:"e2e-ideas-container",className:"".concat(d||""," ").concat(O?"mapView":"listView")},S.default.createElement(ie,{id:"e2e-ideas-filters",className:"ideasContainer ".concat(O?"mapView":"listView")},S.default.createElement(le,null,x&&C&&S.default.createElement(ce,{selectedView:e,onClick:this.selectView}),!O&&S.default.createElement(se,{className:"e2e-search-ideas-input",onChange:this.handleSearchOnChange})),S.default.createElement(oe,null,S.default.createElement(de,{className:"".concat(O?"hidden":"visible"," ").concat(x?"hasViewButtons":"")},S.default.createElement(W.default,{onChange:this.handleSortOnChange,alignment:M?"right":"left",defaultSortingMethod:r||null}),c&&S.default.createElement(k.default,{title:S.default.createElement(H.FormattedMessage,J.default.projectFilterTitle),onChange:this.handleProjectsOnChange}),w&&S.default.createElement(T.default,{onChange:this.handleTopicsOnChange,alignment:M?"right":"left",projectId:(0,P.isNilOrError)(f)?null:f.id})),x&&!C&&S.default.createElement(ue,{selectedView:e,onClick:this.selectView}))),j&&S.default.createElement(we,null,g?S.default.createElement(ae,{id:"ideas-loading"},S.default.createElement(N.Spinner,null)):S.default.createElement(S.default.Fragment,null,b&&m?S.default.createElement(fe,{id:"e2e-ideas-list"},m.map((function(e){return S.default.createElement(pe,{key:e.id,ideaId:e.id,participationMethod:n,participationContextId:a,participationContextType:i,hideImage:E&&_,hideImagePlaceholder:E,hideIdeaStatus:M&&F||I})}))):S.default.createElement(me,{id:"ideas-empty"},S.default.createElement(he,{ariaHidden:!0,name:"idea"}),S.default.createElement(ge,null,S.default.createElement(ve,null,S.default.createElement(H.FormattedMessage,J.default.noFilteredResults)))),h&&S.default.createElement(be,null,S.default.createElement(ye,{id:"e2e-idea-cards-show-more-button",onClick:this.loadMore,buttonStyle:"secondary",text:S.default.createElement(H.FormattedMessage,J.default.showMore),processing:v,height:"50px",icon:"showMore",iconPos:"left",textColor:u.colorText,bgColor:(0,Y.rgba)(u.colorText,.08),bgHoverColor:(0,Y.rgba)(u.colorText,.12),fontWeight:"500"})))),O&&S.default.createElement(S.Suspense,{fallback:!1},S.default.createElement(te,{projectIds:p.projects,phaseId:p.phase})))}}]),n}(S.PureComponent);(0,p.default)(xe,"defaultProps",{showViewToggle:!1});var je=(0,_.adopt)({locale:S.default.createElement(A.default,null),windowSize:S.default.createElement(R.default,null),ideas:function(e){var t=e.render,n=(0,l.default)(e,G);return S.default.createElement(D.default,(0,r.default)({},n,{pageSize:24,sort:n.defaultSortingMethod||Q.ideaDefaultSortMethodFallback}),t)},project:function(e){var t=e.params,n=e.render;return S.default.createElement(B.default,{projectSlug:t.slug},n)},ideaCustomFieldsSchemas:function(e){var t=e.project,n=e.render;return S.default.createElement(L.default,{projectId:(0,P.isNilOrError)(t)?null:t.id},n)}}),Oe=(0,K.withTheme)((0,H.injectIntl)(xe)),Ee=(0,X.withRouter)((function(e){return S.default.createElement(je,e,(function(t){return S.default.createElement(Oe,(0,r.default)({},e,t))}))}));t.default=Ee},vztX:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("PGV/"));t.default=function(e){var t=(0,i.default)({projectId:e.projectId});return e.children(t)}}}]);
//# sourceMappingURL=120.c33e5c95aabe6cbf7727.chunk.js.map