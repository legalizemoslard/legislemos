(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{"1Qc5":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("J4zp")),o=n("q1tI"),i=n("LVxk"),l=function(e){var t=(0,o.useState)(void 0),n=(0,r.default)(t,2),a=n[0],l=n[1];return(0,o.useEffect)((function(){var t=(0,i.insightsCategoriesStream)(e).observable.subscribe((function(e){l(e.data)}));return function(){return t.unsubscribe()}}),[e]),a};t.default=l},"4Yig":function(e,t,n){"use strict";n("4mDm"),n("07d7"),n("PKPk"),n("ENF9"),n("3bBZ"),n("5DmW");var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(a,i,l):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("q1tI")),i=a(n("RQZJ")),l=n("iP56"),u=a(n("vOnD"));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}var s=u.default.div.withConfig({displayName:"Navigation__StyledNavigation",componentId:"sc-154k8sv-0"})(["position:absolute;bottom:10px;left:20px;"]),d=(0,u.default)(l.Button).withConfig({displayName:"Navigation__StyledChevronButton",componentId:"sc-154k8sv-1"})(["max-width:8px;margin:2px;button{padding:8px 12px !important;}"]),f=function(e){var t=e.moveUp,n=e.moveDown,a=e.isMoveUpDisabled,r=e.isMoveDownDisabled,l=(0,i.default)("ArrowUp"),u=(0,i.default)("ArrowDown");return(0,o.useEffect)((function(){l&&!a&&t()}),[l,t,a]),(0,o.useEffect)((function(){u&&!r&&n()}),[u,n,r]),o.default.createElement(s,{"data-testid":"insightsInputDetailNavigation"},o.default.createElement(d,{iconSize:"8px",locale:"en",icon:"chevron-up",buttonStyle:"secondary-outlined",onClick:t,disabled:a,id:"insightsInputDetailNavigationUp"}),o.default.createElement(d,{iconSize:"8px",locale:"en",icon:"chevron-down",buttonStyle:"secondary-outlined",onClick:n,disabled:r,id:"insightsInputDetailNavigationDown"}))};t.default=f},"85PU":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){return"false"===t?"recentlyPosted":e?"category":""===e?"notCategorized":"allInput"};t.default=a},"8jGB":function(e,t,n){"use strict";n("SuFq"),n("4mDm"),n("07d7"),n("PKPk"),n("ENF9"),n("3bBZ"),n("5DmW");var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("ma9I");var o,i,l=a(n("lwsE")),u=a(n("W8MJ")),c=a(n("PJYZ")),s=a(n("7W2i")),d=a(n("a1gu")),f=a(n("Nsbk")),p=a(n("lSNA")),g=a(n("VkAN")),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(a,i,l):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("q1tI")),v=a(n("vOnD")),h=n("96Cm"),y=n("iP56"),b=n("T89o");function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}var O=v.default.div.withConfig({displayName:"CheckboxWithPartialCheck__Container",componentId:"o0o47n-0"})(["display:flex;align-items:center;cursor:pointer;"," &.hasNoLabel{flex:0 0 ","px;width:","px;height:","px;}label{cursor:pointer;}&.disabled{cursor:not-allowed;label{cursor:not-allowed;}}"],(0,h.isRtl)(o||(o=(0,g.default)(["\n    flex-direction: row-reverse;\n  "]))),(function(e){var t=e.size;return parseInt(t,10)+2}),(function(e){var t=e.size;return parseInt(t,10)+2}),(function(e){var t=e.size;return parseInt(t,10)+2})),C=v.default.div.withConfig({displayName:"CheckboxWithPartialCheck__CustomInputWrapper",componentId:"o0o47n-1"})(["position:relative;flex:0 0 ","px;width:","px;height:","px;color:#fff;text-align:center;display:flex;align-items:center;justify-content:center;border:solid 1px ",";border-radius:",";background:",";border-color:",";box-shadow:inset 0px 1px 1px rgba(0,0,0,0.15);&:hover{border-color:",";}"],(function(e){var t=e.size;return parseInt(t,10)}),(function(e){var t=e.size;return parseInt(t,10)}),(function(e){var t=e.size;return parseInt(t,10)}),h.colors.separationDark,(function(e){return e.theme.borderRadius}),(function(e){return e.checked?h.colors.clGreen:"#fff"}),(function(e){return e.checked?h.colors.clGreen:"#aaa"}),(function(e){return"mixed"===e.checked?h.colors.clBlueLightest:e.checked?h.colors.clGreen:"#333"})),P=(0,v.default)(y.Icon).withConfig({displayName:"CheckboxWithPartialCheck__CheckmarkIcon",componentId:"o0o47n-2"})(["fill:#fff;width:15px;"]),E=v.default.label.withConfig({displayName:"CheckboxWithPartialCheck__Label",componentId:"o0o47n-3"})(["color:",";font-size:","px;line-height:normal;margin-left:10px;",""],h.colors.label,h.fontSizes.base,(0,h.isRtl)(i||(i=(0,g.default)(["\n    margin-left: 0;\n    margin-right: 10px;\n  "])))),I=function(e){(0,s.default)(n,e);var t=x(n);function n(){var e;(0,l.default)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,p.default)((0,c.default)(e),"handleOnClick",(function(t){if(!e.props.disabled){var n=(0,b.get)(t,"target"),a=(0,b.get)(t,"target.parentElement"),r=n&&n.hasAttribute&&n.hasAttribute("href"),o=a&&a.hasAttribute&&a.hasAttribute("href");r||o||(t&&t.preventDefault(),e.props.onChange(t))}})),(0,p.default)((0,c.default)(e),"handleOnKeyDown",(function(t){if(!e.props.disabled){var n=(0,b.get)(t,"target"),a=(0,b.get)(t,"target.parentElement"),r=n&&n.hasAttribute&&n.hasAttribute("href"),o=a&&a.hasAttribute&&a.hasAttribute("href");r||o||32!==t.keyCode||(t&&t.preventDefault(),e.props.onChange(t))}})),(0,p.default)((0,c.default)(e),"removeFocus",(function(e){e.preventDefault()})),e}return(0,u.default)(n,[{key:"render",value:function(){var e=this.props,t=e.label,n=e.size,a=e.checked,r=e.className,o=e.notFocusable,i=e["data-testid"];return m.default.createElement(O,{size:n,onMouseDown:this.removeFocus,onClick:this.handleOnClick,onKeyDown:this.handleOnKeyDown,className:"".concat(r||""," ").concat(t?"hasLabel":"hasNoLabel"),role:"checkbox","aria-checked":a,tabIndex:o?-1:0,"data-testid":i},m.default.createElement(C,{size:n,checked:a},"mixed"===a?m.default.createElement(P,{ariaHidden:!0,name:"more-options"}):a&&m.default.createElement(P,{ariaHidden:!0,name:"checkmark"})),m.default.createElement(E,null,t))}}]),n}(m.PureComponent);t.default=I,(0,p.default)(I,"defaultProps",{size:"22px"})},"9Gh0":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("rB9j"),n("hByQ");var r=a(n("J4zp")),o=n("q1tI"),i=n("oIpp"),l=function(e,t){var n=(0,o.useState)(void 0),a=(0,r.default)(n,2),l=a[0],u=a[1],c=null==t?void 0:t.category,s=null==t?void 0:t.search,d=null==t?void 0:t.processed;return(0,o.useEffect)((function(){var t=(0,i.insightsInputsCountStream)(e,{queryParameters:{category:c,search:s,processed:d}}).observable.subscribe((function(e){u(e)}));return function(){return t.unsubscribe()}}),[e,c,s,d]),l};t.default=l},"9S1k":function(e,t,n){"use strict";n("4mDm"),n("07d7"),n("PKPk"),n("ENF9"),n("3bBZ"),n("5DmW");var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("sMBO");var o=a(n("o0o1")),i=a(n("yXPU")),l=a(n("J4zp")),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(a,i,l):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("q1tI")),c=n("KLnl"),s=a(n("rDpq")),d=a(n("+ZiE")),f=n("gtqA");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}var g=(0,n("dtw8").withRouter)((function(e){var t=e.id,n=e.inputId,a=e.variant,r=e.size,p=e.params.viewId,g=e.withAction,m=void 0===g||g,v=(0,u.useState)(!1),h=(0,l.default)(v,2),y=h[0],b=h[1],w=(0,s.default)(p,t);if((0,c.isNilOrError)(w))return null;var x=function(){var e=(0,i.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b(!0),e.prev=1,"approved"!==a){e.next=7;break}return e.next=5,(0,f.deleteInsightsInputCategory)(p,n,t);case 5:e.next=10;break;case 7:if("suggested"!==a){e.next=10;break}return e.next=10,(0,f.addInsightsInputCategory)(p,n,t);case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(1);case 14:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}();return u.default.createElement(d.default,{variant:"suggested"===a?"default":"primary",label:w.attributes.name,onIconClick:m?x:void 0,loading:y,size:r})}));t.default=g},"9q+K":function(e,t,n){"use strict";n("4mDm"),n("07d7"),n("PKPk"),n("ENF9"),n("3bBZ"),n("5DmW");var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("o0o1"));n("2B1R"),n("TeQF"),n("yq1k"),n("JTJg"),n("sMBO"),n("ma9I");var i=a(n("yXPU")),l=a(n("J4zp")),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=j(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(a,i,l):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("q1tI")),c=n("dtw8"),s=n("KLnl"),d=n("gtqA"),f=n("LVxk"),p=a(n("9S1k")),g=a(n("JuzW")),m=n("iP56"),v=a(n("2fl8")),h=a(n("wsII")),y=a(n("m7jU")),b=a(n("4Yig")),w=a(n("1Qc5")),x=a(n("I1gY")),O=a(n("6TzI")),C=a(n("vOnD")),P=n("96Cm"),E=n("Rw3A"),I=a(n("D7uz")),k=n("KuRP"),_=a(n("sBzc"));function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(j=function(e){return e?n:t})(e)}var N=C.default.div.withConfig({displayName:"InputDetails__Container",componentId:"bxms28-0"})(["padding:48px;padding-right:100px;position:relative;height:100%;"]),S=C.default.div.withConfig({displayName:"InputDetails__CategoryList",componentId:"bxms28-1"})(["margin-bottom:16px;> *{margin-right:8px;margin-bottom:8px;}"]),D=C.default.form.withConfig({displayName:"InputDetails__FormContainer",componentId:"bxms28-2"})(["display:flex;align-items:flex-end;margin-top:50px;margin-bottom:50px;.categoryInput{flex:1;}.addButton{margin-left:4px;}"]),T=C.default.div.withConfig({displayName:"InputDetails__StyledPlus",componentId:"bxms28-3"})(["width:24px;text-align:center;"]),M=C.default.div.withConfig({displayName:"InputDetails__LoadingContainer",componentId:"bxms28-4"})(["display:flex;width:100%;height:100%;justify-context:center;align-items:center;"]),A=(0,c.withRouter)((0,E.injectIntl)((function(e){var t,n,a,r=e.params.viewId,c=e.intl.formatMessage,C=e.previewedInputId,E=e.moveUp,j=e.moveDown,A=e.isMoveUpDisabled,z=e.isMoveDownDisabled,R=(0,u.useRef)(null),B=(0,u.useState)(),q=(0,l.default)(B,2),W=q[0],F=q[1],L=(0,u.useState)(!1),J=(0,l.default)(L,2),K=J[0],H=J[1],Q=(0,u.useState)(!1),U=(0,l.default)(Q,2),Z=U[0],V=U[1],G=(0,O.default)("insights_nlp_flow"),X=(0,w.default)(r),Y=(0,x.default)(r,C);if(void 0===Y)return u.default.createElement(M,{"data-testid":"insightsEditDetailsLoading"},u.default.createElement(m.Spinner,null));if((0,s.isNilOrError)(X)||(0,s.isNilOrError)(Y))return null;var $=null===(t=Y.relationships)||void 0===t?void 0:t.source.data.id,ee=X.filter((function(e){var t,n;return!(null!==(t=Y.relationships)&&void 0!==t&&t.categories?null===(n=Y.relationships)||void 0===n?void 0:n.categories.data.map((function(e){return e.id})):[]).includes(e.id)})).map((function(e){return{label:e.attributes.name,value:e.id}})),te=function(){var e=(0,i.default)(o.default.mark((function e(t){var n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(!0),e.prev=1,e.next=4,(0,f.addInsightsCategory)(r,t);case 4:return n=e.sent,e.next=7,(0,d.addInsightsInputCategory)(r,Y.id,n.data.id);case 7:F(null),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(1);case 12:(0,k.trackEventByName)(_.default.createCategoryFromInput),V(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=(0,i.default)(o.default.mark((function e(){var t;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(V(!0),e.prev=1,!W){e.next=7;break}return e.next=5,(0,d.addInsightsInputCategory)(r,Y.id,W.value);case 5:F(null),null===(t=R.current)||void 0===t||t.blur();case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:V(!1),(0,k.trackEventByName)(_.default.addCategoryFromInput);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return u.default.createElement(u.default.Fragment,null,u.default.createElement(N,{"data-testid":"insightsInputDetails"},G&&u.default.createElement(S,null,null===(n=Y.relationships)||void 0===n?void 0:n.suggested_categories.data.map((function(e){return u.default.createElement(p.default,{id:e.id,key:e.id,inputId:Y.id,variant:"suggested",size:"large"})}))),u.default.createElement(D,null,u.default.createElement("div",{className:"categoryInput"},u.default.createElement(m.Label,{htmlFor:"categorySelect"},c(I.default.addCategoryLabel)),u.default.createElement(h.default,{inputId:"categorySelect",styles:y.default,placeholder:c(I.default.addCategoryPlaceholder),options:ee,onCreateOption:te,onChange:function(e){F(e)},value:W,formatCreateLabel:function(e){return"".concat(c(I.default.createCategoryPrompt),' "').concat(e,'"')},onFocus:function(){return H(!0)},onBlur:function(){return H(!1)},onKeyDown:function(e){"Enter"===e.key&&ne()},ref:R})),u.default.createElement(v.default,{fontSize:"".concat(P.fontSizes.xxxl,"px"),bgColor:P.colors.adminTextColor,className:"addButton",padding:"12px 22px",size:"2",onClick:ne,disabled:!W,processing:Z},u.default.createElement(T,null,"+"))),u.default.createElement(S,null,null===(a=Y.relationships)||void 0===a?void 0:a.categories.data.map((function(e){return u.default.createElement(p.default,{id:e.id,key:e.id,inputId:Y.id,variant:"approved"})}))),$&&u.default.createElement(g.default,{ideaId:$})),u.default.createElement(b.default,{moveDown:j,moveUp:E,isMoveUpDisabled:A||K,isMoveDownDisabled:z||K}))})));t.default=A},AfrQ:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.batchAssignCategories=function(e,t,n){return c.apply(this,arguments)},t.batchUnassignCategories=function(e,t,n){return s.apply(this,arguments)};var r=a(n("o0o1"));n("ma9I");var o=a(n("yXPU")),i=n("p0gT"),l=a(n("1Kqg")),u=function(e){return"insights/views/".concat(e,"/batch/")};function c(){return(c=(0,o.default)(r.default.mark((function e(t,n,a){var o;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.default.add("".concat(i.API_PATH,"/").concat(u(t),"assign_categories"),{inputs:n,categories:a});case 2:return o=e.sent,l.default.fetchAllWith({partialApiEndpoint:["insights/views/".concat(t,"/inputs"),"insights/views/".concat(t,"/categories"),"insights/views/".concat(t,"/stats/inputs_count")]}),e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(){return(s=(0,o.default)(r.default.mark((function e(t,n,a){var o;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.default.add("".concat(i.API_PATH,"/").concat(u(t),"remove_categories"),{inputs:n,categories:a});case 2:return o=e.sent,l.default.fetchAllWith({partialApiEndpoint:["insights/views/".concat(t,"/inputs"),"insights/views/".concat(t,"/categories"),"insights/views/".concat(t,"/stats/inputs_count")]}),e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},C5ff:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(0,n("JRPe").defineMessages)({closeButtonAria:{id:"app.components.SideModal.closeButtonAria",defaultMessage:"Close"}});t.default=a},I1gY:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("J4zp")),o=n("q1tI"),i=n("gtqA"),l=function(e,t){var n=(0,o.useState)(void 0),a=(0,r.default)(n,2),l=a[0],u=a[1];return(0,o.useEffect)((function(){var n=(0,i.insightsInputStream)(e,t).observable.subscribe((function(e){u(e.data)}));return function(){return n.unsubscribe()}}),[e,t]),l};t.default=l},JuzW:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("q1tI")),o=n("KLnl"),i=a(n("3A/8")),l=a(n("38aM")),u=a(n("vOnD")),c=n("96Cm"),s=u.default.h2.withConfig({displayName:"Idea__IdeaTitle",componentId:"sc-1cjwsll-0"})(["color:",";font-size:","px;margin-top:16px;margin-bottom:24px;"],c.colors.adminTextColor,c.fontSizes.xl),d=u.default.div.withConfig({displayName:"Idea__IdeaBody",componentId:"sc-1cjwsll-1"})(["color:",";font-size:","px;padding-bottom:24px;"],c.colors.adminTextColor,c.fontSizes.base),f=function(e){var t=e.ideaId,n=(0,l.default)({ideaId:t});return(0,o.isNilOrError)(n)?null:r.default.createElement("div",{"data-testid":"insightsIdea"},r.default.createElement(s,{"data-testid":"insightsIdeaTitle"},r.default.createElement(i.default,{value:n.attributes.title_multiloc})),r.default.createElement(d,{"data-testid":"insightsIdeaBody"},r.default.createElement(i.default,{value:n.attributes.body_multiloc,supportHtml:!0})))};t.default=f},KJOk:function(e,t,n){"use strict";n("4mDm"),n("07d7"),n("PKPk"),n("ENF9"),n("3bBZ"),n("5DmW");var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("o0o1")),i=a(n("yXPU")),l=a(n("J4zp"));n("yWo2");var u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(a,i,l):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("q1tI")),c=n("dtw8"),s=a(n("vOnD")),d=n("96Cm"),f=a(n("D7uz")),p=n("Rw3A"),g=n("KLnl"),m=a(n("2fl8")),v=n("OJLl"),h=a(n("Ofqr")),y=n("KuRP"),b=a(n("sBzc")),w=a(n("6TzI"));function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}var O=s.default.div.withConfig({displayName:"ScanCategory__ScanContainer",componentId:"sc-1kpp2li-0"})(["width:100%;background-color:",";padding:32px;display:flex;justify-content:space-between;align-items:center;color:",";text-align:left;border-radius:3px;.scanContent{margin-right:40px;}.scanTitle{font-weight:bold;font-size:","px;padding-bottom:8px;margin:0;}.scanDescription{font-size:","px;}"],d.colors.clBlueLightest,d.colors.adminTextColor,d.fontSizes.base,d.fontSizes.small),C=(0,c.withRouter)((0,p.injectIntl)((function(e){var t=e.intl.formatMessage,n=e.params.viewId,a=e.location.query,r=e.variant,c=(0,u.useState)(!1),s=(0,l.default)(c,2),p=s[0],x=s[1],C=(0,w.default)("insights_nlp_flow"),P=(0,u.useMemo)((function(){return[a.category]}),[a.category]),E=(0,h.default)(n,{categories:P});(0,u.useEffect)((function(){!(0,g.isNilOrError)(E)&&E.length>0?x(!0):x(!1)}),[E,P]);var I=function(){var e=(0,i.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,x(!0),e.next=4,(0,v.insightsTriggerCategoriesSuggestionsTasks)(n,P);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:(0,y.trackEventByName)(b.default.scanForSuggestions);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return(0,g.isNilOrError)(E)||!C?null:"banner"===r?u.default.createElement(O,{"data-testid":"insightsScanCategory-banner"},u.default.createElement("div",{className:"scanContent"},u.default.createElement("p",{className:"scanTitle"},t(f.default.categoriesEmptyScanTitle)),u.default.createElement("p",{className:"scanDescription"},t(f.default.categoriesEmptyScanDescription))),u.default.createElement(m.default,{buttonStyle:"admin-dark",onClick:I,disabled:p,processing:p},t(f.default.categoriesEmptyScanButton))):u.default.createElement("div",{"data-testid":"insightsScanCategory-button"},u.default.createElement(m.default,{buttonStyle:"secondary",textColor:d.colors.adminTextColor,onClick:I,disabled:p,processing:p},t(f.default.categoriesEmptyScanButton)))})));t.default=C},OJLl:function(e,t,n){"use strict";n("tkto"),n("pNMO"),n("TeQF"),n("5DmW"),n("FZtP"),n("27RR");var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.insightsCategoriesSuggestionsTasksStream=g,t.insightsTriggerCategoriesSuggestionsTasks=function(e,t,n){return m.apply(this,arguments)};var r=a(n("o0o1"));n("ma9I");var o=a(n("yXPU")),i=a(n("lSNA")),l=n("p0gT"),u=a(n("1Kqg")),c=n("DtyJ"),s=n("ahDk");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(e){return"insights/views/".concat(e,"/tasks/category_suggestions")};function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return u.default.get(f(f({apiEndpoint:"".concat(l.API_PATH,"/").concat(p(e))},t),{},{cacheStream:!1}))}function m(){return(m=(0,o.default)(r.default.mark((function e(t,n,a){var o,i,d;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=(0,c.interval)(3e3),e.next=3,u.default.add("".concat(l.API_PATH,"/").concat(p(t)),{inputs:a,categories:n});case 3:return i=e.sent,d=o.subscribe((function(){u.default.fetchAllWith({partialApiEndpoint:["insights/views/".concat(t,"/tasks/category_suggestions")]})})),g(t,{queryParameters:{categories:n,inputs:a}}).observable.pipe((0,s.skip)(1),(0,s.takeWhile)((function(e){return e.data.length>0})),(0,s.finalize)((function(){u.default.fetchAllWith({apiEndpoint:["".concat(l.API_PATH,"/insights/views/").concat(t,"/categories")],partialApiEndpoint:["insights/views/".concat(t,"/inputs")]}),d.unsubscribe()}))).subscribe(),e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},OLkx:function(e,t,n){"use strict";n("SuFq"),n("4mDm"),n("PKPk"),n("ENF9"),n("3bBZ"),n("5DmW");var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("ma9I"),n("2B1R"),n("07d7"),n("JfAA");var o=a(n("lwsE")),i=a(n("W8MJ")),l=a(n("PJYZ")),u=a(n("7W2i")),c=a(n("a1gu")),s=a(n("Nsbk")),d=a(n("lSNA")),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(a,i,l):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("q1tI")),p=a(n("vOnD")),g=n("iP56"),m=n("96Cm"),v=n("ufqH");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,s.default)(e);if(t){var r=(0,s.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}var b=p.default.div.withConfig({displayName:"Pagination__Container",componentId:"vuhcou-0"})(["display:flex;justify-content:flex-end;"]),w=p.default.div.withConfig({displayName:"Pagination__ContainerInner",componentId:"vuhcou-1"})(["display:flex;align-items:center;"]),x=(0,p.default)(g.Icon).withConfig({displayName:"Pagination__ChevronIcon",componentId:"vuhcou-2"})(["height:12px;fill:",";"],m.colors.adminTextColor),O=p.default.button.withConfig({displayName:"Pagination__NavigateButton",componentId:"vuhcou-3"})(["width:38px;height:38px;color:",";font-size:","px;font-weight:500;margin:0;padding:0;display:flex;align-items:center;justify-content:center;border-radius:",";&.disabled{color:#bbb;cursor:not-allowed;","{fill:#bbb;}}&:not(.disabled){cursor:pointer;&:hover,&:focus{","{fill:",";}}}"],m.colors.adminTextColor,m.fontSizes.base,(function(e){return e.theme.borderRadius}),x,x,m.colors.clIconAccent),C=(0,p.default)(O).withConfig({displayName:"Pagination__Next",componentId:"vuhcou-4"})([""]),P=(0,p.default)(O).withConfig({displayName:"Pagination__Back",componentId:"vuhcou-5"})(["","{transform:rotate(180deg);}"],x),E=p.default.div.withConfig({displayName:"Pagination__Pages",componentId:"vuhcou-6"})(["margin-left:14px;margin-right:14px;display:flex;align-items:center;"]),I=p.default.button.withConfig({displayName:"Pagination__Item",componentId:"vuhcou-7"})(["min-width:38px;height:38px;color:",";font-size:","px;font-weight:500;margin-left:5px;padding-left:10px;padding-right:10px;transition:all 80ms ease-out;&:first-child{margin-left:0px;}&:not(.disabled){border-radius:",";background:",";cursor:pointer;&.active{color:#fff;background:",";}&:not(.active){&:hover,&:focus{background:",";}}}"],(function(e){var t=e.useColorsTheme,n=e.theme;return t?n.colorText:m.colors.adminTextColor}),m.fontSizes.base,(function(e){return e.theme.borderRadius}),m.colors.lightGreyishBlue,(function(e){var t=e.useColorsTheme,n=e.theme;return t?n.colorMain:m.colors.adminTextColor}),(function(e){var t=e.useColorsTheme,n=e.theme;return(0,v.rgba)(t?n.colorMain:m.colors.adminTextColor,.2)})),k=function(e){(0,u.default)(n,e);var t=y(n);function n(){var e;(0,o.default)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return e=t.call.apply(t,[this].concat(r)),(0,d.default)((0,l.default)(e),"handleItemClick",(function(t){return function(){e.props.loadPage(t)}})),(0,d.default)((0,l.default)(e),"goTo",(function(t){return function(){t>0&&t<=e.props.totalPages&&e.props.loadPage(t)}})),(0,d.default)((0,l.default)(e),"removeFocus",(function(e){e.preventDefault()})),e}return(0,i.default)(n,[{key:"calculateMenuItems",value:function(e,t){for(var n,a=t,r=e-2,o=e+2+1,i=[],l=[],u=1;u<=a;u+=1)(1===u||u===a||u>=r&&u<o)&&i.push(u);return i.forEach((function(e){n&&(e-n==2?l.push(n+1):e-n!=1&&l.push(-e)),l.push(e),n=e})),l}},{key:"render",value:function(){var e=this,t=this.props,n=t.currentPage,a=t.totalPages,r=t.className,o=t.useColorsTheme,i=this.calculateMenuItems(n,a);return a>1?f.default.createElement(b,{className:r,"data-testid":"pagination"},f.default.createElement(w,null,f.default.createElement(P,{onMouseDown:this.removeFocus,onClick:this.goTo(n-1),disabled:1===n,className:1===n?"disabled":""},f.default.createElement(x,{name:"chevron-right"})),f.default.createElement(E,null,i.map((function(t){return f.default.createElement(I,{key:t,className:"".concat(t===n?"active":""," ").concat(t<0?"disabled":""),onMouseDown:e.removeFocus,onClick:e.handleItemClick(t),disabled:t<0,useColorsTheme:o},f.default.createElement("span",null,t<0?"...":t.toString()))}))),f.default.createElement(C,{onMouseDown:this.removeFocus,onClick:this.goTo(n+1),disabled:n===a,className:n===a?"disabled":""},f.default.createElement(x,{name:"chevron-right"})))):null}}]),n}(f.PureComponent);t.default=k},OS3J:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("yWo2"),n("rB9j"),n("hByQ");var r=a(n("q1tI")),o=n("dtw8"),i=a(n("vOnD")),l=n("96Cm"),u=a(n("D7uz")),c=n("Rw3A"),s=n("iP56"),d=a(n("KJOk")),f=a(n("85PU")),p=i.default.div.withConfig({displayName:"EmptyState__StyledEmptyState",componentId:"sc-1mnbata-0"})(["display:flex;flex-grow:1;flex-direction:column;align-items:center;text-align:center;svg{margin-top:92px;margin-bottom:20px;height:35px;}h1{font-weight:bold;line-height:25px;font-size:","px;color:",";}p{font-weight:normal;font-size:","px;}"],l.fontSizes.base,l.colors.label,l.fontSizes.small),g=(0,o.withRouter)((0,c.injectIntl)((function(e){var t=e.intl.formatMessage,n=e.location.query,a=(0,f.default)(n.category,n.processed);return r.default.createElement(p,{"data-testid":"insightsInputsTableEmptyState"},"category"===a&&!n.search&&r.default.createElement(d.default,{variant:"banner"}),r.default.createElement(s.Icon,{name:"blankPage"}),n.search?r.default.createElement("div",{"data-testid":"insightsInputsTableEmptyNoResults"},r.default.createElement("h1",null,t(u.default.inputsTableNoResults)),r.default.createElement("p",null,t(u.default.inputsTableNoResultsDescription))):r.default.createElement(r.default.Fragment,null,"allInput"===a&&r.default.createElement("p",{"data-testid":"insightsInputsTableEmptyAllInputs"},t(u.default.inputsTableEmpty)),"notCategorized"===a&&r.default.createElement("p",{"data-testid":"insightsInputsTableEmptyNotCategorized"},t(u.default.inputsTableNotCategorized)),"category"===a&&r.default.createElement("div",{"data-testid":"insightsInputsTableEmptyNoInputInCategory"},r.default.createElement("h1",null,t(u.default.inputsTableCategoryTitle)),r.default.createElement("p",null,t(u.default.inputsTableCategoryDescription))),"recentlyPosted"===a&&r.default.createElement("div",{"data-testid":"insightsInputsTableRecentlyPosted"},r.default.createElement("p",null,t(u.default.inputsTableRecentlyPosted)))))})));t.default=g},Ofqr:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("J4zp")),o=n("q1tI"),i=n("OJLl"),l=function(e,t){var n=(0,o.useState)(void 0),a=(0,r.default)(n,2),l=a[0],u=a[1],c=null==t?void 0:t.categories,s=null==t?void 0:t.inputs;return(0,o.useEffect)((function(){var t=(0,i.insightsCategoriesSuggestionsTasksStream)(e,{queryParameters:{categories:c,inputs:s}}).observable.subscribe((function(e){u(e.data)}));return function(){t.unsubscribe()}}),[e,c,s]),l};t.default=l},RQZJ:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("J4zp")),o=n("q1tI"),i=function(e){var t=(0,o.useState)(!1),n=(0,r.default)(t,2),a=n[0],i=n[1];function l(t){t.key===e&&i(!0)}var u=function(t){t.key===e&&i(!1)};return(0,o.useEffect)((function(){return window.addEventListener("keydown",l),window.addEventListener("keyup",u),function(){window.removeEventListener("keydown",l),window.removeEventListener("keyup",u)}}),[]),a};t.default=i},Yst4:function(e,t,n){"use strict";n("4mDm"),n("07d7"),n("PKPk"),n("ENF9"),n("3bBZ"),n("5DmW");var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i=a(n("VkAN")),l=a(n("q1tI")),u=a(n("vOnD")),c=n("96Cm"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(a,i,l):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("jrlq")),d=a(n("oYin")),f=a(n("mu12"));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}var g=u.default.div.withConfig({displayName:"Edit__Container",componentId:"sc-1kyd0dw-0"})(["height:calc(100vh - ","px);display:flex;position:fixed;right:0;top:","px;left:210px;bottom:0;",""],c.stylingConsts.menuHeight+s.topBarHeight,c.stylingConsts.menuHeight+s.topBarHeight,c.media.smallerThan1280px(o||(o=(0,i.default)(["\n    left: 80px;\n  "])))),m=function(){return l.default.createElement("div",{"data-testid":"insightsEdit"},l.default.createElement(s.default,null),l.default.createElement(g,null,l.default.createElement(f.default,null),l.default.createElement(d.default,null)))};t.default=m},aZ6d:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.defaultPageSize=void 0,n("rB9j"),n("hByQ"),n("ToJy");var r=a(n("J4zp")),o=n("q1tI"),i=n("ErwY"),l=n("gtqA");t.defaultPageSize=20;var u=function(e,t){var n=(0,o.useState)(void 0),a=(0,r.default)(n,2),u=a[0],c=a[1],s=(0,o.useState)(null),d=(0,r.default)(s,2),f=d[0],p=d[1],g=(0,o.useState)(!0),m=(0,r.default)(g,2),v=m[0],h=m[1],y=null==t?void 0:t.pageNumber,b=null==t?void 0:t.pageSize,w=null==t?void 0:t.category,x=null==t?void 0:t.search,O=null==t?void 0:t.sort,C=null==t?void 0:t.processed;return(0,o.useEffect)((function(){h(!0);var t=(0,l.insightsInputsStream)(e,{queryParameters:{category:w,search:x,processed:C,sort:O||"approval","page[number]":y||1,"page[size]":b||20}}).observable.subscribe((function(e){var t;c(e.data),p((0,i.getPageNumberFromUrl)(null===(t=e.links)||void 0===t?void 0:t.last)),h(!1)}));return function(){return t.unsubscribe()}}),[e,y,w,x,O,b,C]),{lastPage:f,loading:v,setLoading:h,list:u}};t.default=u},c7WC:function(e,t,n){"use strict";n("tkto"),n("pNMO"),n("TeQF"),n("5DmW"),n("FZtP"),n("27RR"),n("4mDm"),n("07d7"),n("PKPk"),n("ENF9"),n("3bBZ");var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("fbCW"),n("sMBO");var o=a(n("o0o1")),i=a(n("lSNA")),l=a(n("yXPU")),u=a(n("J4zp")),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(a,i,l):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("q1tI")),s=n("dtw8"),d=a(n("D7uz")),f=a(n("1Qc5")),p=n("LVxk"),g=a(n("vOnD")),m=n("96Cm"),v=a(n("JUYq")),h=n("Qyje"),y=n("KLnl"),b=n("Rw3A"),w=a(n("1hFV")),x=n("iP56"),O=a(n("2fl8")),C=a(n("oOyv")),P=a(n("85PU"));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=g.default.h2.withConfig({displayName:"TableTitle__StyledHeader",componentId:"sc-123ijpt-0"})(["display:flex;align-items:center;color:",";font-size:","px;margin-bottom:0;button{margin-left:20px;}"],m.colors.adminTextColor,m.fontSizes.large),j=g.default.p.withConfig({displayName:"TableTitle__StyledTooltipContent",componentId:"sc-123ijpt-1"})(["font-weight:normal;"]),N=g.default.div.withConfig({displayName:"TableTitle__DropdownWrapper",componentId:"sc-123ijpt-2"})(["margin-top:40px;margin-left:-40px;"]),S=g.default.div.withConfig({displayName:"TableTitle__TitleContainer",componentId:"sc-123ijpt-3"})(["display:flex;"]),D=(0,s.withRouter)((0,b.injectIntl)((function(e){var t=e.intl.formatMessage,n=e.params.viewId,a=e.location,r=a.query,i=a.pathname,s=(0,f.default)(n),g=(0,c.useState)(!1),b=(0,u.default)(g,2),E=b[0],I=b[1],D=(0,c.useState)(!1),T=(0,u.default)(D,2),M=T[0],A=T[1];if((0,y.isNilOrError)(s))return null;var z=function(){return I(!1)},R=function(){var e=(0,l.default)(o.default.mark((function e(){var a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t(d.default.deleteCategoryConfirmation),!window.confirm(a)){e.next=9;break}return e.prev=2,e.next=5,(0,p.deleteInsightsCategory)(n,r.category);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:v.default.push({pathname:i,search:(0,h.stringify)(k(k({},r),{},{category:void 0}),{addQueryPrefix:!0})}),A(!1);case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(){return e.apply(this,arguments)}}(),B=null==s?void 0:s.find((function(e){return e.id===r.category})),q=(0,P.default)(r.category,r.processed);return c.default.createElement(c.default.Fragment,null,c.default.createElement(_,{"data-testid":"insightsInputsHeader"},"category"===q&&c.default.createElement(c.default.Fragment,null,null==B?void 0:B.attributes.name,c.default.createElement(O.default,{icon:"more-options",iconColor:m.colors.label,iconHoverColor:m.colors.label,boxShadow:"none",boxShadowHover:"none",bgColor:"transparent",bgHoverColor:"transparent",padding:"0px 20px",onClick:function(){A(!M)}})),"notCategorized"===q&&c.default.createElement(S,{"data-testid":"insightsTableHeaderNotCategorized"},t(d.default.notCategorized),c.default.createElement(x.IconTooltip,{content:c.default.createElement(j,null,t(d.default.notCategorizedTooltip))})),"allInput"===q&&c.default.createElement(S,{"data-testid":"insightsTableHeaderAllInput"},t(d.default.allInput),c.default.createElement(x.IconTooltip,{content:c.default.createElement(j,null,t(d.default.allInputTooltip))})),"recentlyPosted"===q&&c.default.createElement(S,{"data-testid":"insightsTableHeaderRecentlyPosted"},t(d.default.recentlyPosted),c.default.createElement(x.IconTooltip,{content:c.default.createElement(j,null,t(d.default.recentlyPostedTooltip))}))),c.default.createElement(N,null,c.default.createElement(x.Dropdown,{opened:M,onClickOutside:function(){A(!1)},className:"dropdown",content:c.default.createElement(c.default.Fragment,null,c.default.createElement(x.DropdownListItem,{onClick:function(){return I(!0)}},t(d.default.editCategoryName)),c.default.createElement(x.DropdownListItem,{onClick:R},t(d.default.deleteCategory)))})),c.default.createElement(w.default,{opened:E,close:z},B&&c.default.createElement(C.default,{closeRenameModal:z,originalCategoryName:B.attributes.name})))})));t.default=D},gtqA:function(e,t,n){"use strict";n("tkto"),n("pNMO"),n("TeQF"),n("5DmW"),n("FZtP"),n("27RR");var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.insightsInputsStream=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return u.default.get(s(s({apiEndpoint:"".concat(l.API_PATH,"/").concat(d(e))},t),{},{skipSanitizationFor:["category"],cacheStream:!1}))},t.insightsInputStream=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return u.default.get(s(s({apiEndpoint:"".concat(l.API_PATH,"/").concat(d(e),"/").concat(t),skipSanitizationFor:["category"]},n),{},{cacheStream:!1}))},t.deleteInsightsInputCategory=function(e,t,n){return f.apply(this,arguments)},t.addInsightsInputCategory=function(e,t,n){return p.apply(this,arguments)},t.addInsightsInputCategories=function(e,t,n){return g.apply(this,arguments)};var r=a(n("o0o1"));n("ma9I");var o=a(n("yXPU")),i=a(n("lSNA")),l=n("p0gT"),u=a(n("1Kqg"));function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(e){return"insights/views/".concat(e,"/inputs")};function f(){return(f=(0,o.default)(r.default.mark((function e(t,n,a){var o;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.default.delete("".concat(l.API_PATH,"/").concat(d(t),"/").concat(n,"/categories/").concat(a),a);case 2:return o=e.sent,u.default.fetchAllWith({partialApiEndpoint:["".concat(l.API_PATH,"/").concat(d(t)),"insights/views/".concat(t,"/categories"),"insights/views/".concat(t,"/stats/inputs_count")]}),e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return(p=(0,o.default)(r.default.mark((function e(t,n,a){var o;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.default.add("".concat(l.API_PATH,"/").concat(d(t),"/").concat(n,"/categories"),{data:[{id:a,type:"category"}]});case 2:return o=e.sent,u.default.fetchAllWith({partialApiEndpoint:["".concat(l.API_PATH,"/").concat(d(t)),"insights/views/".concat(t,"/categories"),"insights/views/".concat(t,"/stats/inputs_count")]}),e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=(0,o.default)(r.default.mark((function e(t,n,a){var o;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.default.add("".concat(l.API_PATH,"/").concat(d(t),"/").concat(n,"/categories"),{data:a});case 2:return o=e.sent,e.next=5,u.default.fetchAllWith({partialApiEndpoint:["".concat(l.API_PATH,"/").concat(d(t)),"insights/views/".concat(t,"/categories"),"insights/views/".concat(t,"/stats/inputs_count")]});case 5:return e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},mFqX:function(e,t,n){"use strict";n("+2oP"),n("pjDv"),n("pNMO"),n("4Brf"),n("0oug"),n("ENF9"),n("5DmW");var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("o0o1")),i=a(n("RIqP")),l=a(n("yXPU")),u=a(n("J4zp"));n("2B1R"),n("4mDm"),n("07d7"),n("YGK4"),n("PKPk"),n("3bBZ"),n("fbCW"),n("sMBO"),n("TeQF");var c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(a,i,l):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("q1tI")),s=n("KLnl"),d=n("iP56"),f=a(n("2fl8")),p=a(n("6TzI")),g=a(n("1Qc5")),m=n("AfrQ"),v=n("gtqA"),h=n("Rw3A"),y=a(n("D7uz")),b=a(n("vOnD")),w=n("96Cm"),x=n("dtw8");function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function C(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var E=b.default.div.withConfig({displayName:"Actions__ActionButtons",componentId:"v6yj1-0"})(["display:flex;align-items:center;"]),I=(0,b.default)(d.Icon).withConfig({displayName:"Actions__StyledIcon",componentId:"v6yj1-1"})(["flex:0 0 22px;height:22px;margin-right:10px;"]),k=b.default.div.withConfig({displayName:"Actions__ActionButtonWrapper",componentId:"v6yj1-2"})(["display:flex;flex-direction:column;align-items:stretch;position:relative;"]),_=b.default.div.withConfig({displayName:"Actions__DropdownListItemText",componentId:"v6yj1-3"})(["width:80%;flex:1 1 auto;color:",";font-size:","px;font-weight:400;line-height:normal;text-align:left;margin-right:10px;"],w.colors.label,w.fontSizes.base),j=b.default.div.withConfig({displayName:"Actions__DropdownList",componentId:"v6yj1-4"})(["display:flex;flex-direction:column;align-items:stretch;"]),N=b.default.label.withConfig({displayName:"Actions__DropdownListItem",componentId:"v6yj1-5"})(["display:flex;align-items:center;justify-content:space-between;margin:0px;margin-bottom:4px;padding:10px;background:#fff;border-radius:",";outline:none;cursor:pointer;transition:all 80ms ease-out;&.last{margin-bottom:0px;}&:hover,&:focus,&.selected{background:",";","{color:#000;}}"],(function(e){return e.theme.borderRadius}),w.colors.clDropdownHoverBackground,_),S=(0,b.default)(f.default).withConfig({displayName:"Actions__DropdownFooterButton",componentId:"v6yj1-6"})([".Button{border-top-left-radius:0;border-top-right-radius:0;}"]),D=(0,x.withRouter)((0,h.injectIntl)((function(e){var t=e.className,n=e.selectedInputs,a=e.params.viewId,r=e.location.query,b=e.intl.formatMessage,w=(0,p.default)("insights_nlp_flow"),x=(0,g.default)(a),O=n.map((function(e){return e.id})),P=(0,c.useState)(!1),D=(0,u.default)(P,2),T=D[0],M=D[1],A=function(){M(!T)},z=(0,c.useState)(new Set),R=(0,u.default)(z,2),B=R[0],q=R[1],W=(0,c.useState)(!1),F=(0,u.default)(W,2),L=F[0],J=F[1],K=(0,c.useState)(!1),H=(0,u.default)(K,2),Q=H[0],U=H[1],Z=function(){var e=(0,l.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length>0&&B.size>0)){e.next=12;break}return e.prev=1,J(!0),e.next=5,(0,m.batchAssignCategories)(a,(0,i.default)(O),(0,i.default)(B));case 5:q(new Set),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:J(!1),M(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=(0,l.default)(o.default.mark((function e(){var t,r,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U(!0),t=C(n),e.prev=2,t.s();case 4:if((r=t.n()).done){e.next=16;break}if(i=r.value,e.prev=6,!(i.relationships.suggested_categories.data.length>0)){e.next=10;break}return e.next=10,(0,v.addInsightsInputCategories)(a,i.id,i.relationships.suggested_categories.data);case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(6);case 14:e.next=4;break;case 16:e.next=21;break;case 18:e.prev=18,e.t1=e.catch(2),t.e(e.t1);case 21:return e.prev=21,t.f(),e.finish(21);case 24:U(!1);case 25:case"end":return e.stop()}}),e,null,[[2,18,21,24],[6,12]])})));return function(){return e.apply(this,arguments)}}();if((0,s.isNilOrError)(x))return null;var G=null==x?void 0:x.find((function(e){return e.id===r.category})),X=function(){var e=(0,l.default)(o.default.mark((function e(){var t;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length>0&&G)){e.next=13;break}if(t=b(y.default.deleteFromCategories,{categoryName:G.attributes.name,selectedCount:n.length}),!window.confirm(t)){e.next=13;break}return e.prev=3,J(!0),e.next=7,(0,m.batchUnassignCategories)(a,(0,i.default)(O),[G.id]);case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(3);case 11:J(!1),M(!1);case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(){return e.apply(this,arguments)}}(),Y=x.filter((function(e){return e.id!==(null==G?void 0:G.id)}));return c.default.createElement(E,{className:t,"data-testid":"insightsTableActions"},n.length>0&&c.default.createElement(c.default.Fragment,null,Y.length>0&&c.default.createElement(k,{"data-testid":"insightsTableActionsBulkAssign"},c.default.createElement(f.default,{onClick:A,buttonStyle:"admin-dark-text"},c.default.createElement(I,{name:"moveFolder"}),c.default.createElement(h.FormattedMessage,y.default.bulkAssignCategory)),c.default.createElement(d.Dropdown,{top:"45px",opened:T,onClickOutside:A,content:c.default.createElement(j,null,Y.map((function(e){return c.default.createElement(N,{key:e.id,className:"e2e-dropdown-item"},c.default.createElement(_,null,e.attributes.name),c.default.createElement(d.Checkbox,{checked:B.has(e.id),onChange:(t=e.id,function(){if(B.has(t)){var e=new Set(B);e.delete(t),q(e)}else{var n=new Set(B);n.add(t),q(n)}})}));var t}))),footer:c.default.createElement(S,{className:"e2e-dropdown-submit",buttonStyle:"cl-blue",onClick:Z,processing:L,fullWidth:!0,padding:"12px",whiteSpace:"normal",disabled:0===B.size},c.default.createElement(h.FormattedMessage,y.default.assignCategoriesButton))})),w&&c.default.createElement(f.default,{onClick:V,className:"hasLeftMargin",buttonStyle:"admin-dark-text",processing:Q},c.default.createElement(I,{name:"checkmark-full"}),c.default.createElement(h.FormattedMessage,y.default.bulkApprove)),G&&c.default.createElement(f.default,{onClick:X,className:"hasLeftMargin",buttonStyle:"admin-dark-text",processing:L},c.default.createElement(I,{name:"trash"}),c.default.createElement(h.FormattedMessage,y.default.bulkUnassign))))})));t.default=D},mt6q:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("q1tI")),o=a(n("vOnD")),i=n("96Cm"),l=o.default.hr.withConfig({displayName:"Divider__StyledHr",componentId:"sc-113w7ds-0"})(["display:block;height:1px;border:0;border-top:1px solid ",";margin:1em 0;padding:0;"],i.colors.separation),u=function(e){var t=e.className;return r.default.createElement(l,{className:t})};t.default=u},mu12:function(e,t,n){"use strict";n("tkto"),n("pNMO"),n("TeQF"),n("5DmW"),n("FZtP"),n("27RR"),n("4mDm"),n("07d7"),n("PKPk"),n("ENF9"),n("3bBZ");var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("sMBO"),n("2B1R");var o=a(n("o0o1")),i=a(n("pVnL")),l=a(n("lSNA")),u=a(n("yXPU")),c=a(n("J4zp")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(a,i,l):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("q1tI")),d=n("dtw8"),f=n("Qyje"),p=a(n("vOnD")),g=n("ufqH"),m=n("iP56"),v=a(n("mt6q")),h=a(n("Zc1O")),y=n("KLnl"),b=n("Rw3A"),w=n("96Cm"),x=a(n("JUYq")),O=a(n("85PU")),C=a(n("6TzI")),P=a(n("JvRQ")),E=a(n("1Qc5")),I=a(n("9Gh0")),k=a(n("D7uz")),_=n("LVxk"),j=n("KuRP"),N=a(n("sBzc"));function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){(0,l.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M=p.default.aside.withConfig({displayName:"Categories__Container",componentId:"sc-2bn6gl-0"})(["padding:24px;max-width:300px;flex:0 0 300px;display:flex;flex-direction:column;align-items:stretch;overflow-y:auto;"]),A=(0,p.default)(m.Button).withConfig({displayName:"Categories__DetectButton",componentId:"sc-2bn6gl-1"})(["margin-bottom:8px;"]),z=(0,p.default)(m.Button).withConfig({displayName:"Categories__ResetButton",componentId:"sc-2bn6gl-2"})(["margin-bottom:20px;"]),R=p.default.p.withConfig({displayName:"Categories__CategoriesLabel",componentId:"sc-2bn6gl-3"})(["text-transform:uppercase;font-size:","px;color:",";font-weight:bold;padding:16px;"],w.fontSizes.xs,w.colors.adminTextColor),B=p.default.form.withConfig({displayName:"Categories__FormContainer",componentId:"sc-2bn6gl-4"})(["display:flex;align-items:center;margin-bottom:28px;.addButton{margin-left:4px;}"]),q=(0,p.default)(m.Button).withConfig({displayName:"Categories__CategoryButton",componentId:"sc-2bn6gl-5"})(["display:block;.button{display:flex;justify-content:space-between;}.buttonText{width:100%;display:flex;justify-content:space-between;> div:first-child{white-space:nowrap;width:80%;overflow:hidden;text-overflow:ellipsis;}}"]),W=p.default.div.withConfig({displayName:"Categories__CategoryInfoBox",componentId:"sc-2bn6gl-6"})(["background-color:",";font-size:",";color:",";border-radius:3px;padding:8px 20px;"],w.colors.clBlueLightest,w.fontSizes.base,w.colors.adminTextColor),F=p.default.div.withConfig({displayName:"Categories__StyledPlus",componentId:"sc-2bn6gl-7"})(["width:22px;text-align:center;"]),L=p.default.div.withConfig({displayName:"Categories__ButtonsContainer",componentId:"sc-2bn6gl-8"})(["margin-top:20px;margin-bottom:20px;"]),J=(0,d.withRouter)((0,b.injectIntl)((function(e){var t=e.intl.formatMessage,n=e.params.viewId,a=e.location,r=a.query,l=a.pathname,d=(0,C.default)("insights_nlp_flow"),p=(0,P.default)(),S=(0,s.useState)(!1),D=(0,c.default)(S,2),J=D[0],K=D[1],H=(0,s.useState)(!1),Q=(0,c.default)(H,2),U=Q[0],Z=Q[1],V=(0,s.useState)(),G=(0,c.default)(V,2),X=G[0],Y=G[1],$=(0,I.default)(n,{processed:!0}),ee=(0,I.default)(n,{category:"",processed:!0}),te=(0,I.default)(n,{processed:!1}),ne=(0,E.default)(n),ae=(0,s.useState)(),re=(0,c.default)(ae,2),oe=re[0],ie=re[1];if((0,y.isNilOrError)(p)||(0,y.isNilOrError)(ne))return null;var le=function(){var e=(0,u.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!oe){e.next=12;break}return K(!0),e.prev=2,e.next=5,(0,_.addInsightsCategory)(n,oe);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),Y(e.t0.json.errors);case 10:K(!1),ie("");case 12:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(){return e.apply(this,arguments)}}(),ue=function(){x.default.push({pathname:l,search:(0,f.stringify)(T(T({},r),{},{pageNumber:1,category:void 0,processed:!1}),{addQueryPrefix:!0})})},ce=(0,O.default)(r.category,r.processed),se=function(){var e=(0,u.default)(o.default.mark((function e(){var a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t(k.default.resetCategoriesConfimation),Z(!0),!window.confirm(a)){e.next=10;break}return e.prev=3,e.next=6,(0,_.deleteInsightsCategories)(n);case 6:e.next=10;break;case 8:e.prev=8,e.t0=e.catch(3);case 10:(0,j.trackEventByName)(N.default.resetCategories),Z(!1),ue();case 13:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(){return e.apply(this,arguments)}}();return s.default.createElement(M,{"data-testid":"insightsCategories"},d&&s.default.createElement("div",{"data-testid":"insightsDetectCategories"},s.default.createElement(A,{buttonStyle:"white",locale:p,textColor:w.colors.adminTextColor,linkTo:"/admin/insights/".concat(n,"/detect")},t(k.default.detectCategories))),s.default.createElement(z,{buttonStyle:"white",locale:p,textColor:w.colors.adminTextColor,onClick:se},U?s.default.createElement(m.Spinner,{size:"22px"}):t(k.default.resetCategories)),s.default.createElement(v.default,null),s.default.createElement(L,null,s.default.createElement(q,{locale:p,bgColor:"allInput"===ce?(0,g.darken)(.05,w.colors.lightGreyishBlue):"transparent",textColor:w.colors.label,textHoverColor:w.colors.adminTextColor,bgHoverColor:(0,g.darken)(.05,w.colors.lightGreyishBlue),onClick:function(){x.default.push({pathname:l,search:(0,f.stringify)(T(T({},r),{},{pageNumber:1,category:void 0,processed:!0}),{addQueryPrefix:!0})})}},s.default.createElement("div",null," ",t(k.default.allInput)),!(0,y.isNilOrError)($)&&s.default.createElement("div",{"data-testid":"insightsAllInputsCount"},$.count)),s.default.createElement(q,{locale:p,bgColor:"recentlyPosted"===ce?(0,g.darken)(.05,w.colors.lightGreyishBlue):"transparent",textColor:w.colors.label,textHoverColor:w.colors.adminTextColor,bgHoverColor:(0,g.darken)(.05,w.colors.lightGreyishBlue),onClick:ue},s.default.createElement("div",null,t(k.default.recentlyPosted)),!(0,y.isNilOrError)(te)&&s.default.createElement("div",{"data-testid":"insightsRecentlyPostedInputsCount"},te.count)),s.default.createElement(q,{locale:p,bgColor:"notCategorized"===ce?(0,g.darken)(.05,w.colors.lightGreyishBlue):"transparent",textColor:w.colors.label,textHoverColor:w.colors.adminTextColor,bgHoverColor:(0,g.darken)(.05,w.colors.lightGreyishBlue),onClick:function(){x.default.push({pathname:l,search:(0,f.stringify)(T(T({},r),{},{pageNumber:1,category:"",processed:!0}),{addQueryPrefix:!0})})}},s.default.createElement("div",null,t(k.default.notCategorized)),!(0,y.isNilOrError)(ee)&&s.default.createElement("div",{"data-testid":"insightsUncategorizedInputsCount"},ee.count))),s.default.createElement(R,null,t(k.default.categories)),s.default.createElement(B,null,s.default.createElement(m.Input,{type:"text",value:oe,onChange:function(e){ie(e),Y(void 0)},placeholder:t(k.default.addCategory),size:"small"}),s.default.createElement(m.Button,{locale:p,fontSize:"".concat(w.fontSizes.xxxl,"px"),bgColor:w.colors.adminTextColor,className:"addButton",padding:"8px",onClick:le,disabled:!oe||J},J?s.default.createElement(m.Spinner,{size:"22px"}):s.default.createElement(F,null,"+"))),s.default.createElement("div",null,X&&s.default.createElement(h.default,{apiErrors:X.name,fieldName:"category_name"})),0===ne.length?s.default.createElement(W,{"data-testid":"insightsNoCategories"},s.default.createElement("p",null,s.default.createElement(b.FormattedMessage,(0,i.default)({},k.default.categoryInfoBox,{values:{bold:s.default.createElement("b",null,t(k.default.categoryInfoBoxBold))}})))):ne.map((function(e){return s.default.createElement("div",{"data-testid":"insightsCategory",key:e.id},s.default.createElement(q,{locale:p,bgColor:e.id===r.category?(0,g.darken)(.05,w.colors.lightGreyishBlue):"transparent",textColor:w.colors.label,textHoverColor:w.colors.adminTextColor,bgHoverColor:(0,g.darken)(.05,w.colors.lightGreyishBlue),onClick:(t=e.id,function(){x.default.push({pathname:l,search:(0,f.stringify)(T(T({},r),{},{pageNumber:1,category:t,processed:void 0}),{addQueryPrefix:!0})})})},s.default.createElement("div",null,e.attributes.name),s.default.createElement("div",{"data-testid":"insightsCategoryCount"},e.attributes.inputs_count)));var t})))})));t.default=J},oIpp:function(e,t,n){"use strict";n("tkto"),n("pNMO"),n("TeQF"),n("5DmW"),n("FZtP"),n("27RR");var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.insightsInputsCountStream=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return i.default.get(u(u({apiEndpoint:"".concat(o.API_PATH,"/").concat(c(e))},t),{},{skipSanitizationFor:["category"]}))},n("ma9I");var r=a(n("lSNA")),o=n("p0gT"),i=a(n("1Kqg"));function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=function(e){return"insights/views/".concat(e,"/stats/inputs_count")}},oOyv:function(e,t,n){"use strict";n("4mDm"),n("07d7"),n("PKPk"),n("ENF9"),n("3bBZ"),n("5DmW");var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("sMBO");var o=a(n("o0o1")),i=a(n("yXPU")),l=a(n("J4zp")),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(a,i,l):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("q1tI")),c=n("dtw8"),s=a(n("vOnD")),d=n("96Cm"),f=a(n("D7uz")),p=n("Rw3A"),g=n("iP56"),m=a(n("Zc1O")),v=n("LVxk"),h=a(n("JvRQ")),y=n("KLnl"),b=n("KuRP"),w=a(n("sBzc"));function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}var O=s.default.div.withConfig({displayName:"RenameCategory__Container",componentId:"e8cuau-0"})(["width:100%;max-width:400px;margin:40px auto;color:",";"],d.colors.adminTextColor),C=s.default.h1.withConfig({displayName:"RenameCategory__Title",componentId:"e8cuau-1"})(["text-align:center;font-size:","px;"],d.fontSizes.xxl),P=s.default.form.withConfig({displayName:"RenameCategory__Form",componentId:"e8cuau-2"})(["margin-top:40px;"]),E=s.default.div.withConfig({displayName:"RenameCategory__ButtonContainer",componentId:"e8cuau-3"})(["display:flex;justify-content:center;margin-top:40px;>:not(:first-child){margin-left:5px;}"]),I=(0,c.withRouter)((0,p.injectIntl)((function(e){var t=e.closeRenameModal,n=e.originalCategoryName,a=e.intl.formatMessage,r=e.params.viewId,c=e.location.query,s=(0,h.default)(),p=(0,u.useState)(!1),x=(0,l.default)(p,2),I=x[0],k=x[1],_=(0,u.useState)(),j=(0,l.default)(_,2),N=j[0],S=j[1],D=(0,u.useState)(n),T=(0,l.default)(D,2),M=T[0],A=T[1],z=function(){var e=(0,i.default)(o.default.mark((function e(){var n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!M){e.next=14;break}return k(!0),e.prev=2,e.next=5,(0,v.updateInsightsCategory)(r,c.category,M);case 5:n=e.sent,(0,y.isNilOrError)(n)||t(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),S(e.t0.json.errors),k(!1);case 13:(0,b.trackEventByName)(w.default.editCategory);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();return(0,y.isNilOrError)(s)?null:u.default.createElement(O,{"data-testid":"insights"},u.default.createElement(C,null,a(f.default.renameCategoryModalTitle)),u.default.createElement(P,null,u.default.createElement(g.Input,{type:"text",value:M,onChange:function(e){A(e),S(void 0)},label:a(f.default.renameCategoryModalNameLabel)}),N&&u.default.createElement(m.default,{apiErrors:N.name,fieldName:"category_name"}),u.default.createElement(E,null,u.default.createElement(g.Button,{processing:I,disabled:!M,locale:s,onClick:z,bgColor:d.colors.adminTextColor},a(f.default.renameCategoryModalSave)),u.default.createElement(g.Button,{locale:s,onClick:t,buttonStyle:"secondary"},a(f.default.renameCategoryModalCancel)))))})));t.default=I},oYin:function(e,t,n){"use strict";n("tkto"),n("pNMO"),n("5DmW"),n("FZtP"),n("27RR"),n("ENF9");var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("lSNA")),i=a(n("J4zp"));n("yWo2"),n("4mDm"),n("07d7"),n("YGK4"),n("PKPk"),n("3bBZ"),n("rB9j"),n("hByQ"),n("ToJy"),n("2B1R"),n("yq1k"),n("JTJg"),n("UxlC"),n("TeQF");var l=D(n("q1tI")),u=n("dtw8"),c=n("Qyje"),s=n("KLnl"),d=a(n("JUYq")),f=a(n("85PU")),p=D(n("aZ6d")),g=n("iP56"),m=a(n("2fl8")),v=a(n("vRiE")),h=a(n("OS3J")),y=a(n("8jGB")),b=a(n("wg7I")),w=a(n("9q+K")),x=a(n("mt6q")),O=a(n("mFqX")),C=a(n("OLkx")),P=a(n("j2uE")),E=a(n("c7WC")),I=a(n("KJOk")),k=a(n("vOnD")),_=n("96Cm"),j=n("Rw3A"),N=a(n("D7uz"));function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function D(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(a,i,l):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=k.default.div.withConfig({displayName:"InputsTable__Inputs",componentId:"pgs189-0"})(["flex:1;background:#fff;overflow-x:auto;overflow-y:auto;padding:40px;border-left:1px solid ",";"],_.colors.separation),z=k.default.div.withConfig({displayName:"InputsTable__TitleRow",componentId:"pgs189-1"})(["display:flex;min-height:43px;"]),R=(0,k.default)(O.default).withConfig({displayName:"InputsTable__StyledActions",componentId:"pgs189-2"})(["margin-left:60px;"]),B=(0,k.default)(x.default).withConfig({displayName:"InputsTable__StyledDivider",componentId:"pgs189-3"})(["margin-top:6px;"]),q=(0,k.default)(g.Table).withConfig({displayName:"InputsTable__StyledTable",componentId:"pgs189-4"})(["thead{tr{th{padding:12px 4px;font-weight:bold;}}}tbody{tr{cursor:pointer;height:56px;td{padding:12px 4px;color:",";font-size:","px;> *{margin:0;}}}tr:hover{background-color:",";}}"],_.colors.label,_.fontSizes.small,_.colors.background),W=k.default.div.withConfig({displayName:"InputsTable__StyledSort",componentId:"pgs189-5"})(["display:flex;align-items:center !important;cursor:pointer;font-weight:bold;svg{width:10px;margin-left:4px;}"]),F=(0,k.default)(C.default).withConfig({displayName:"InputsTable__StyledPagination",componentId:"pgs189-6"})(["display:block;margin-top:12px;"]),L=k.default.div.withConfig({displayName:"InputsTable__SearchContainer",componentId:"pgs189-7"})(["display:flex;justify-content:space-between;align-content:center;margin-bottom:40px;"]),J=k.default.div.withConfig({displayName:"InputsTable__RecentlyPostedInfoBox",componentId:"pgs189-8"})(["color:",";background-color:",";padding:20px;border-radius:3px;text-align:center;margin-bottom:28px;svg{fill:",";margin-right:8px;}"],_.colors.adminTextColor,_.colors.clBlueLightest,_.colors.clBlue),K=(0,u.withRouter)((0,j.injectIntl)((function(e){var t=e.params.viewId,n=e.location,a=n.pathname,r=n.query,o=e.intl.formatMessage,u=(0,l.useState)(new Set),x=(0,i.default)(u,2),O=x[0],C=x[1],k=(0,l.useState)(!1),j=(0,i.default)(k,2),S=j[0],D=j[1],T=(0,l.useState)(null),K=(0,i.default)(T,2),H=K[0],Q=K[1],U=(0,l.useRef)(!0),Z=(0,l.useState)(!1),V=(0,i.default)(Z,2),G=V[0],X=V[1],Y=(0,l.useState)(!1),$=(0,i.default)(Y,2),ee=$[0],te=$[1],ne=parseInt(null==r?void 0:r.pageNumber,10),ae=r.category,re=r.search,oe=(0,f.default)(ae,r.processed),ie=r.sort,le=(0,p.default)(t,{pageNumber:ne,search:re,sort:ie,processed:"recentlyPosted"!==oe&&("category"!==oe||void 0),category:ae}),ue=le.list,ce=le.lastPage,se=le.loading,de=le.setLoading;(0,l.useEffect)((function(){C(new Set)}),[ae,ne]),(0,l.useEffect)((function(){if(!(0,s.isNilOrError)(ue)){var e=ue.map((function(e){return e.id})).includes(r.previewedInputId);U.current=e,X(e&&ne===ce?H===ue.length-1:H===ue.length)}}),[ue,r.previewedInputId,H,ne,ce]),(0,l.useEffect)((function(){(0,s.isNilOrError)(ue)||(0,s.isNilOrError)(H)||(0,s.isNilOrError)(ue[H])||!ee||se||(d.default.replace({pathname:a,search:(0,c.stringify)(M(M({},r),{},{previewedInputId:ue[H].id}),{addQueryPrefix:!0})}),te(!1))}),[ue,a,H,r,ee,se]);var fe=(0,l.useCallback)((function(){var e=!1;Q((function(t){return(e=1!==ne&&0===t)?p.defaultPageSize-1:(0,s.isNilOrError)(t)?t:t-1})),te(!0),e&&(d.default.replace({pathname:a,search:(0,c.stringify)({sort:ie,search:re,category:ae,processed:r.processed,pageNumber:ne-1},{addQueryPrefix:!0})}),de(!0))}),[ne,a,ae,ie,re,r.processed,de]),pe=(0,l.useCallback)((function(){var e=!1;Q((function(t){return(e=!(0,s.isNilOrError)(ue)&&(ce!==ne&&U.current?t===ue.length-1:t===ue.length))?0:!(0,s.isNilOrError)(t)&&U.current?t+1:t})),te(!0),e&&(d.default.replace({pathname:a,search:(0,c.stringify)({sort:ie,search:re,category:ae,processed:r.processed,pageNumber:ne+1},{addQueryPrefix:!0})}),de(!0))}),[ue,ne,ce,a,ae,ie,re,r.processed,de]),ge=(0,l.useCallback)((function(e){e!==re&&d.default.replace({pathname:a,search:(0,c.stringify)({sort:ie,search:e,category:ae,processed:r.processed,pageNumber:1},{addQueryPrefix:!0})})}),[a,ae,ie,re,r.processed]);if((0,s.isNilOrError)(ue))return null;var me=function(e){return function(){var t=new Set(O);O.has(e.id)?(t.delete(e.id),C(t)):(t.add(e.id),C(t))}},ve=function(e){return function(){Q(ue.indexOf(e)),d.default.replace({pathname:a,search:(0,c.stringify)(M(M({},r),{},{previewedInputId:e.id}),{addQueryPrefix:!0})}),D(!0)}};return l.default.createElement(A,{"data-testid":"insightsInputsTable"},l.default.createElement(L,null,l.default.createElement(P.default,{onChange:ge}),l.default.createElement(m.default,{buttonStyle:"admin-dark",bgColor:_.colors.clBlue,linkTo:"/admin/insights"},o(N.default.inputsDone))),"recentlyPosted"===oe&&0!==ue.length&&l.default.createElement(J,{"data-testid":"insightsRecentlyAddedInfobox"},l.default.createElement(g.Icon,{name:"showMore"}),o(N.default.inputsTableRecentlyPostedInfoBox)),"category"===oe&&0!==ue.length&&l.default.createElement(g.Box,{display:"flex",justifyContent:"flex-end"},l.default.createElement(I.default,{variant:"button"})),l.default.createElement(z,null,l.default.createElement(E.default,null),0!==ue.length&&l.default.createElement(R,{selectedInputs:ue.filter((function(e){return O.has(e.id)}))})),l.default.createElement(B,null),0===ue.length?l.default.createElement(h.default,null):l.default.createElement(l.default.Fragment,null,l.default.createElement(q,null,l.default.createElement("colgroup",null,l.default.createElement("col",{span:1,style:{width:"2.5%"}}),l.default.createElement("col",{span:1,style:{width:"30%"}}),r.category?l.default.createElement("col",{span:1,style:{width:"2.5%"}}):null,l.default.createElement("col",{span:1,style:{width:"65%"}})),l.default.createElement("thead",null,l.default.createElement("tr",null,l.default.createElement("th",null,l.default.createElement(y.default,{onChange:function(){if(0===O.size){var e=new Set(ue.map((function(e){return e.id})));C(e)}else{var t=new Set;C(t)}},checked:O.size===ue.length||0!==O.size&&"mixed","data-testid":"headerCheckBox"})),l.default.createElement("th",null,o(N.default.inputsTableInputs)),l.default.createElement("th",null,r.category?l.default.createElement(W,{onClick:function(){d.default.push({pathname:a,search:(0,c.stringify)(M(M({},r),{},{sort:"-approval"===r.sort?"approval":"-approval"}),{addQueryPrefix:!0})})},as:"button","data-testid":"insightsSortButton"},o(N.default.inputsTableCategories),l.default.createElement(g.Icon,{name:"-approval"===r.sort?"chevron-up":"chevron-down"})):o(N.default.inputsTableCategories)),r.category?l.default.createElement("th",null,o(N.default.inputsTableAlsoIn)):null)),l.default.createElement("tbody",null,ue.map((function(e){return l.default.createElement(v.default,{input:e,key:e.id,selected:O.has(e.id),changeSelected:me(e),onPreview:ve(e)})})))),l.default.createElement(F,{currentPage:ne||1,totalPages:ce||1,loadPage:function(e){d.default.push({pathname:a,search:(0,c.stringify)(M(M({},r),{},{pageNumber:e}),{addQueryPrefix:!0})})}})),l.default.createElement(b.default,{opened:S,close:function(){return D(!1)}},r.previewedInputId&&l.default.createElement(w.default,{previewedInputId:r.previewedInputId,moveUp:fe,moveDown:pe,isMoveUpDisabled:0===H&&1===ne,isMoveDownDisabled:G})))})));t.default=K},rDpq:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("J4zp")),o=n("q1tI"),i=n("LVxk"),l=function(e,t){var n=(0,o.useState)(void 0),a=(0,r.default)(n,2),l=a[0],u=a[1];return(0,o.useEffect)((function(){var n=(0,i.insightsCategoryStream)(e,t).observable.subscribe((function(e){u(e.data)}));return function(){return n.unsubscribe()}}),[e,t]),l};t.default=l},sBzc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={export:"Exported insights inputs data",resetCategories:"Reset insights categories",editCategory:"Edited an insights category",scanForSuggestions:"Scanned for insights category suggestions",addCategoryFromInput:"Added an insights category from input side modal",createCategoryFromInput:"Created an insights category from input side modal"}},vRiE:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("2B1R"),n("TeQF");var r=a(n("q1tI")),o=n("dtw8"),i=n("KLnl"),l=a(n("38aM")),u=a(n("6TzI")),c=a(n("vOnD")),s=n("iP56"),d=a(n("3A/8")),f=a(n("9S1k")),p=c.default.div.withConfig({displayName:"InputsTableRow__CategoryList",componentId:"dhm5c4-0"})(["> *:not(:only-of-type){margin-right:8px;margin-top:4px;margin-bottom:4px;}"]),g=(0,o.withRouter)((function(e){var t,n,a,o=e.input,c=e.selected,g=e.changeSelected,m=e.onPreview,v=e.location.query,h=(0,u.default)("insights_nlp_flow"),y=(0,l.default)({ideaId:null===(t=o.relationships)||void 0===t?void 0:t.source.data.id});if((0,i.isNilOrError)(y))return null;var b=null===(n=o.relationships)||void 0===n?void 0:n.categories.data,w=h?null===(a=o.relationships)||void 0===a?void 0:a.suggested_categories.data:[];return r.default.createElement("tr",{"data-testid":"insightsInputsTableRow",tabIndex:0,onKeyPress:function(e){"Enter"===e.key&&m()},onClick:m},r.default.createElement("td",null,r.default.createElement(s.Checkbox,{checked:c,onChange:g,stopLabelPropagation:!0})),r.default.createElement("td",null,r.default.createElement(d.default,{value:y.attributes.title_multiloc,maxLength:30})),r.default.createElement("td",null,r.default.createElement(p,null,(v.category?b.filter((function(e){return e.id===v.category})):b).map((function(e){return r.default.createElement(f.default,{id:e.id,variant:"approved",inputId:o.id,key:e.id})})),(v.category?w.filter((function(e){return e.id===v.category})):w).map((function(e){return r.default.createElement(f.default,{id:e.id,variant:"suggested",inputId:o.id,key:e.id})})))),v.category?r.default.createElement("td",null,r.default.createElement(p,null,b.filter((function(e){return e.id!==v.category})).map((function(e){return r.default.createElement(f.default,{id:e.id,variant:"approved",inputId:o.id,key:e.id})})),w.filter((function(e){return e.id!==v.category})).map((function(e){return r.default.createElement(f.default,{id:e.id,variant:"suggested",inputId:o.id,key:e.id})})))):null)}));t.default=g},wg7I:function(e,t,n){"use strict";n("SuFq"),n("4mDm"),n("07d7"),n("PKPk"),n("ENF9"),n("3bBZ"),n("5DmW");var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("FZtP");var o,i=a(n("lwsE")),l=a(n("W8MJ")),u=a(n("PJYZ")),c=a(n("7W2i")),s=a(n("a1gu")),d=a(n("Nsbk")),f=a(n("lSNA")),p=a(n("VkAN")),g=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(a,i,l):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("q1tI")),m=n("i8i4"),v=a(n("IAnr")),h=n("ChSC"),y=n("iP56"),b=a(n("EvcW")),w=a(n("pQ8y")),x=a(n("C5ff")),O=n("Rw3A"),C=a(n("vOnD")),P=n("96Cm"),E=n("ufqH");function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var _="cubic-bezier(0.165, 0.84, 0.44, 1)",j=(0,C.default)(b.default).withConfig({displayName:"SideModal__ModalWrapper",componentId:"s0s44z-0"})([""]),N=C.default.div.withConfig({displayName:"SideModal__ModalContainer",componentId:"s0s44z-1"})(["width:940px;height:100vh;background:white;display:flex;flex-direction:column;outline:none;overflow:hidden;position:absolute;top:0;right:0;will-change:opacity,transform;"]),S=(0,C.default)(y.Icon).withConfig({displayName:"SideModal__CloseIcon",componentId:"s0s44z-2"})(["flex:0 0 16px;width:16px;height:16px;fill:",";z-index:2;"],P.colors.label),D=C.default.button.withConfig({displayName:"SideModal__CloseButton",componentId:"s0s44z-3"})(["position:absolute;top:10px;right:35px;height:30px;width:30px;display:flex;align-items:center;justify-content:center;cursor:pointer;opacity:0;z-index:1001;&:hover,&:focus{","{fill:#000;}}",""],S,P.media.smallerThanMinTablet(o||(o=(0,p.default)(["\n    height: 18px;\n    width: 18px;\n  "])))),T=C.default.div.withConfig({displayName:"SideModal__Overlay",componentId:"s0s44z-4"})(["width:100vw;height:100vh;position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.75);overflow:hidden;z-index:1000000;will-change:opacity;&.modal-enter{opacity:0;","{opacity:0;transform:translateX(940px);}&.modal-enter-active{opacity:1;transition:all ","ms "," ","ms;","{opacity:1;transform:translateX(0px);transition:all ","ms "," ","ms;}}}&.modal-enter-done{","{opacity:1;}}&.modal-exit{opacity:1;","{opacity:1;transform:translateX(0px);}","{opacity:0;}&.modal-exit-active{opacity:1;transition:opacity ","ms "," ","ms;","{opacity:1;transform:translateX(940px);transition:all ","ms "," ","ms;}}}"],N,350,_,0,N,350,_,0,D,N,D,350,_,0,N,350,_,0),M=C.default.div.withConfig({displayName:"SideModal__ModalContent",componentId:"s0s44z-5"})(["width:100%;height:100%;overflow-y:auto;overflow-x:hidden;-webkit-overflow-scrolling:touch;"]),A=C.default.span.withConfig({displayName:"SideModal__HiddenSpan",componentId:"s0s44z-6"})(["",""],(0,E.hideVisually)()),z=function(e){(0,c.default)(n,e);var t=k(n);function n(e){var a;return(0,i.default)(this,n),a=t.call(this,e),(0,f.default)((0,u.default)(a),"el",void 0),(0,f.default)((0,u.default)(a),"ModalPortal",document.getElementById("modal-portal")),(0,f.default)((0,u.default)(a),"subscriptions",void 0),(0,f.default)((0,u.default)(a),"clickOutsideModal",(function(){a.props.close()})),(0,f.default)((0,u.default)(a),"clickCloseButton",(function(e){e.preventDefault(),e.stopPropagation(),a.props.close()})),a.state={innerModalOpened:!1},a.el=document.createElement("div"),a.subscriptions=[],a}return(0,l.default)(n,[{key:"componentDidMount",value:function(){var e=this;this.ModalPortal?this.ModalPortal.appendChild(this.el):console.log("There was no Portal to insert the modal. Please make sure you have a Portal root"),this.subscriptions=[v.default.observeEvent("modalOpened").subscribe((function(){e.setState({innerModalOpened:!0})})),v.default.observeEvent("modalClosed").subscribe((function(){e.setState({innerModalOpened:!1})}))]}},{key:"componentWillUnmount",value:function(){this.ModalPortal?this.ModalPortal.removeChild(this.el):console.log("There was no Portal to insert the modal. Please make sure you have a Portal root"),this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"render",value:function(){var e,t=this.props,n=t.children,a=t.opened,r=t.label,o=null===(e=document)||void 0===e?void 0:e.getElementById("modal-portal");return o?(0,m.createPortal)(g.default.createElement(w.default,{classNames:"modal",in:a,timeout:{enter:350,exit:350},mountOnEnter:!0,unmountOnExit:!0,enter:!0,exit:!0},g.default.createElement(T,{id:"e2e-modal-container",className:this.props.className,"aria-modal":"true",role:"dialog","aria-label":r},g.default.createElement(j,{onClickOutside:this.clickOutsideModal,closeOnClickOutsideEnabled:!this.state.innerModalOpened},g.default.createElement(h.FocusOn,null,g.default.createElement(N,null,g.default.createElement(M,{id:"e2e-side-modal-content"},n)),g.default.createElement(D,{className:"e2e-modal-close-button",onClick:this.clickCloseButton},g.default.createElement(A,null,g.default.createElement(O.FormattedMessage,x.default.closeButtonAria)),g.default.createElement(S,{name:"close"})))))),o):null}}]),n}(g.PureComponent);t.default=z},wsII:function(e,t,n){"use strict";n.r(t),n.d(t,"defaultProps",(function(){return m})),n.d(t,"makeCreatableSelect",(function(){return v}));var a=n("wx14"),r=n("KQm4"),o=n("1OyB"),i=n("vuIU"),l=n("Ji7U"),u=n("gniW"),c=n("q1tI"),s=n.n(c),d=n("c0C3"),f=n("7GrE"),p=(n("VkAN"),n("QILm"),n("cDf5"),n("FUBA"),n("lSNA"),n("i8i4"),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,a=String(e).toLowerCase(),r=String(n.getOptionValue(t)).toLowerCase(),o=String(n.getOptionLabel(t)).toLowerCase();return r===a||o===a}),g={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,t,n,a){return!(!e||t.some((function(t){return p(e,t,a)}))||n.some((function(t){return p(e,t,a)})))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}},getOptionValue:d.e,getOptionLabel:d.b},m=Object(u.k)({allowCreateWhileLoading:!1,createOptionPosition:"last"},g),v=function(e){var t,n;return n=t=function(t){Object(l.a)(c,t);var n=Object(u.j)(c);function c(e){var t;Object(o.a)(this,c),(t=n.call(this,e)).select=void 0,t.onChange=function(e,n){var a=t.props,o=a.getNewOptionData,i=a.inputValue,l=a.isMulti,c=a.onChange,s=a.onCreateOption,d=a.value,f=a.name;if("select-option"!==n.action)return c(e,n);var p=t.state.newOption,g=Array.isArray(e)?e:[e];if(g[g.length-1]!==p)c(e,n);else if(s)s(i);else{var m=o(i,i),v={action:"create-option",name:f,option:m};c(l?[].concat(Object(r.a)(Object(u.e)(d)),[m]):m,v)}};var a=e.options||[];return t.state={newOption:void 0,options:a},t}return Object(i.a)(c,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"render",value:function(){var t=this,n=this.state.options;return s.a.createElement(e,Object(a.a)({},this.props,{ref:function(e){t.select=e},options:n,onChange:this.onChange}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.allowCreateWhileLoading,a=e.createOptionPosition,o=e.formatCreateLabel,i=e.getNewOptionData,l=e.inputValue,c=e.isLoading,s=e.isValidNewOption,d=e.value,f=e.getOptionValue,p=e.getOptionLabel,g=e.options||[],m=t.newOption;return{newOption:m=s(l,Object(u.e)(d),g,{getOptionValue:f,getOptionLabel:p})?i(l,o(l)):void 0,options:!n&&c||!m?g:"first"===a?[m].concat(Object(r.a)(g)):[].concat(Object(r.a)(g),[m])}}}]),c}(c.Component),t.defaultProps=m,n},h=v(d.a),y=Object(f.a)(h);t.default=y}}]);
//# sourceMappingURL=73.0e930ebaf12d0b1c0ab7.chunk.js.map