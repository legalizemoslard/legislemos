(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"+eAc":function(e,t,a){"use strict";a("SuFq");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("ma9I"),a("2B1R"),a("fbCW"),a("sMBO");var r=n(a("lwsE")),u=n(a("W8MJ")),l=n(a("PJYZ")),o=n(a("7W2i")),i=n(a("a1gu")),s=n(a("Nsbk")),c=n(a("lSNA")),f=n(a("q1tI")),d=a("T89o"),p=a("FvIY"),m=n(a("sQjbe")),h=n(a("6b7d")),v=n(a("ATnd")),g=n(a("FGKY")),y=a("Rw3A"),P=n(a("1R3D")),b=a("iP56"),C=n(a("vOnD")),E=a("96Cm");function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,s.default)(e);if(t){var r=(0,s.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,i.default)(this,a)}}var x=(0,C.default)(b.Icon).withConfig({displayName:"FilterSidebar__InfoIcon",componentId:"sc-1fl644z-0"})(["fill:",";width:16px;height:16px;cursor:pointer;&:hover{fill:#000;}"],E.colors.clBlueDarker),k=function(e){(0,o.default)(a,e);var t=I(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,u=new Array(n),o=0;o<n;o++)u[o]=arguments[o];return e=t.call.apply(t,[this].concat(u)),(0,c.default)((0,l.default)(e),"handleItemClick",(function(t,a){e.props.onChangeActiveFilterMenu(a.id)})),(0,c.default)((0,l.default)(e),"tabName",(function(t,a,n){var r={statusesTab:P.default.statusesTab,timelineTab:P.default.timelineTab,topicsTab:P.default.topicsTab,projectsTab:P.default.projectsTab}[t],u={statusesTab:P.default.statusesTabTooltipContent,timelineTab:P.default.timelineTabTooltipText,topicsTab:P.default.topicsTabTooltipText,projectsTab:P.default.projectsTabTooltipContent}[t],l=e.props.intl.formatMessage(r),o=e.props.activeFilterMenu===n,i=(0,d.isEmpty)(a)?"":"*";return f.default.createElement(f.default.Fragment,null,l,i,"Â ",o?f.default.createElement(p.Popup,{content:e.props.intl.formatMessage(u),trigger:f.default.createElement("button",null,f.default.createElement(x,{name:"info3"}))}):null)})),(0,c.default)((0,l.default)(e),"menuItems",{phases:function(){return{name:e.tabName("timelineTab",e.props.selectedPhase,"phases"),key:"phases",content:f.default.createElement(m.default,{phases:e.props.phases,selectedPhase:e.props.selectedPhase,onChangePhaseFilter:e.props.onChangePhaseFilter})}},topics:function(){return{name:e.tabName("topicsTab",e.props.selectedTopics,"topics"),key:"topics",content:f.default.createElement(h.default,{selectableTopics:e.props.topics,selectedTopics:e.props.selectedTopics,onChangeTopicsFilter:e.props.onChangeTopicsFilter})}},projects:function(){return{name:e.tabName("projectsTab",e.props.selectedProject,"projects"),key:"projects",content:f.default.createElement(v.default,{projects:e.props.projects,selectedProject:e.props.selectedProject,onChangeProjectFilter:e.props.onChangeProjectFilter})}},statuses:function(){return{name:e.tabName("statusesTab",e.props.selectedStatus,"statuses"),key:"statuses",content:f.default.createElement(g.default,{statuses:e.props.statuses,selectedStatus:e.props.selectedStatus,onChangeStatusFilter:e.props.onChangeStatusFilter})}}}),(0,c.default)((0,l.default)(e),"filteredMenuItems",(function(){return e.props.visibleFilterMenus.map((function(t){return e.menuItems[t]()}))})),e}return(0,u.default)(a,[{key:"render",value:function(){var e=this,t=this.props.activeFilterMenu,a=this.filteredMenuItems(),n=a.find((function(e){return e.key===t}));return f.default.createElement(f.default.Fragment,null,f.default.createElement(p.Menu,{tabular:!0,attached:"top",size:"tiny"},a.map((function(a){return f.default.createElement(p.Menu.Item,{key:a.key,id:a.key,active:t===a.key,onClick:e.handleItemClick},a.name)}))),f.default.createElement(p.Segment,{attached:"bottom"},n.content))}}]),a}(f.default.PureComponent),S=(0,y.injectIntl)(k);t.default=S},"0G51":function(e,t,a){"use strict";a("SuFq"),a("ENF9"),a("5DmW");var n=a("TqRt"),r=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.PostManager=t.Sticky=void 0,a("2B1R"),a("4mDm"),a("07d7"),a("YGK4"),a("PKPk"),a("3bBZ"),a("fbCW"),a("TeQF");var u=n(a("pVnL")),l=n(a("RIqP")),o=n(a("lwsE")),i=n(a("W8MJ")),s=n(a("PJYZ")),c=n(a("7W2i")),f=n(a("a1gu")),d=n(a("Nsbk")),p=n(a("lSNA")),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var a=B(t);if(a&&a.has(e))return a.get(e);var n={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=u?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),h=a("T89o"),v=a("ifvJ"),g=n(a("vOnD")),y=n(a("DDKl")),P=a("l8Oe"),b=a("KLnl"),C=a("BjdT"),E=n(a("hEVc")),I=n(a("bB4g")),x=n(a("anjn")),k=n(a("NjPQ")),S=n(a("lPdK")),R=n(a("fwa1")),w=n(a("+eAc")),M=n(a("Mt6c")),j=n(a("YxXh")),F=n(a("qjRo")),O=n(a("pNGH")),T=n(a("AK/k")),_=a("FvIY"),q=n(a("0eio")),N=n(a("FMm9")),D=n(a("jexb")),A=n(a("Yjdl"));function B(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(B=function(e){return e?a:t})(e)}function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,f.default)(this,a)}}var J=(0,g.default)(F.default).withConfig({displayName:"PostManager__StyledExportMenu",componentId:"r7lpxo-0"})(["margin-left:auto;"]),Y=g.default.div.withConfig({displayName:"PostManager__TopActionBar",componentId:"r7lpxo-1"})(["display:flex;margin-bottom:20px;"]),Q=g.default.div.withConfig({displayName:"PostManager__MiddleColumnTop",componentId:"r7lpxo-2"})(["transition:200ms;display:flex;justify-content:space-between;flex:1;"]),z=g.default.div.withConfig({displayName:"PostManager__ThreeColumns",componentId:"r7lpxo-3"})(["display:flex;margin:-10px;& > *{margin:10px;}"]),L=g.default.div.withConfig({displayName:"PostManager__LeftColumn",componentId:"r7lpxo-4"})(["width:260px;min-width:260px;"]),K=g.default.div.withConfig({displayName:"PostManager__MiddleColumn",componentId:"r7lpxo-5"})(["flex:1;transition:200ms;"]),Z=g.default.div.withConfig({displayName:"PostManager__Sticky",componentId:"r7lpxo-6"})(["position:-webkit-sticky;position:sticky;top:","px;"],(function(e){return e.theme.menuHeight+20}));t.Sticky=Z;var $=(0,g.default)(_.Input).withConfig({displayName:"PostManager__StyledInput",componentId:"r7lpxo-7"})(["max-width:260px;display:flex;width:100%;"]),X=function(e){(0,c.default)(a,e);var t=W(a);function a(e){var n;return(0,o.default)(this,a),n=t.call(this,e),(0,p.default)((0,s.default)(n),"globalState",void 0),(0,p.default)((0,s.default)(n),"getSelectedProject",(function(){var e=n.props,t=e.posts;if("Initiatives"!==e.type){var a=t.queryParameters;return Array.isArray(a.projects)&&1===a.projects.length?a.projects[0]:void 0}})),(0,p.default)((0,s.default)(n),"handleSearchChange",(function(e){var t=e.target.value;n.setState({searchTerm:t}),(0,h.isFunction)(n.props.posts.onChangeSearchTerm)&&n.props.posts.onChangeSearchTerm(t)})),(0,p.default)((0,s.default)(n),"onChangeProjects",(function(e){var t=n.props,a=t.projects,r=t.posts;if("AllIdeas"===t.type){var u=r.onChangeProjects,l=a?a.map((function(e){return e.id})):null;e&&0!==e.length?u(e):l&&u(l)}})),(0,p.default)((0,s.default)(n),"resetSelection",(function(){n.setState({selection:new Set})})),(0,p.default)((0,s.default)(n),"handleChangeSelection",(function(e){n.setState({selection:e})})),(0,p.default)((0,s.default)(n),"handleChangeActiveFilterMenu",(function(e){n.setState({activeFilterMenu:e})})),(0,p.default)((0,s.default)(n),"openPreview",(function(e){n.setState({previewPostId:e,previewMode:"view"})})),(0,p.default)((0,s.default)(n),"openPreviewEdit",(function(){var e=n.state.selection;1===e.size&&n.setState({previewPostId:(0,l.default)(e)[0],previewMode:"edit"})})),(0,p.default)((0,s.default)(n),"switchPreviewMode",(function(){"edit"===n.state.previewMode?n.setState({previewMode:"view"}):n.setState({previewMode:"edit"})})),(0,p.default)((0,s.default)(n),"closePreview",(function(){n.setState({previewPostId:null})})),(0,p.default)((0,s.default)(n),"getNonSharedParams",(function(){var e=n.props.type;if("Initiatives"===e)return{onChangePhase:void 0,selectedPhase:void 0,selectedStatus:n.props.posts.queryParameters.initiative_status};if("AllIdeas"===e||"ProjectIdeas"===e){var t=n.props.posts;return{onChangePhase:t.onChangePhase,selectedPhase:t.queryParameters.phase,selectedStatus:t.queryParameters.idea_status}}return{onChangePhase:function(){},selectedPhase:null,selectedStatus:null}})),n.state={selection:new Set,activeFilterMenu:e.visibleFilterMenus[0],searchTerm:void 0,previewPostId:null,previewMode:"view"},n.globalState=C.globalState.init("AdminFullWidth"),n}return(0,i.default)(a,[{key:"componentDidMount",value:function(){this.globalState.set({enabled:!0})}},{key:"componentWillUnmount",value:function(){this.globalState.set({enabled:!1})}},{key:"componentDidUpdate",value:function(e){var t=this,a=this.props.visibleFilterMenus;e.visibleFilterMenus===a||a.find((function(e){return e===t.state.activeFilterMenu}))||this.setState({activeFilterMenu:a[0]})}},{key:"render",value:function(){var e=this.state,t=e.previewPostId,a=e.previewMode,n=e.searchTerm,r=e.selection,u=e.activeFilterMenu,o=this.props,i=o.type,s=o.projectId,c=o.projects,f=o.posts,d=o.phases,p=o.postStatuses,h=o.visibleFilterMenus,v=o.topics,g=f.list,y=f.onChangeTopics,P=f.onChangeStatus,C=f.queryParameters,E=f.onChangeAssignee,I=f.onChangeFeedbackFilter,x=f.onResetParams,k=C.topics,S=C.assignee,F=C.feedback_needed||!1,_=this.getSelectedProject(),B=this.getNonSharedParams(),W=B.onChangePhase,X=B.selectedPhase,U=B.selectedStatus;if(!(0,b.isNilOrError)(v)){var H=v.filter((function(e){return!(0,b.isNilOrError)(e)}));return m.default.createElement(m.default.Fragment,null,m.default.createElement(Y,null,m.default.createElement(A.default,{id:"app.components.admin.PostManager.topActionBar",assignee:S,projectId:"ProjectIdeas"===i?s:null,handleAssigneeFilterChange:E,type:i}),m.default.createElement(q.default,{type:i,value:F,onChange:I,project:_,phase:X,topics:k,status:U,assignee:S,searchTerm:n}),m.default.createElement(J,{type:i,selection:r,selectedProject:_})),m.default.createElement(z,null,m.default.createElement(L,null,m.default.createElement(R.default,{type:i,selection:r,resetSelection:this.resetSelection,handleClickEdit:this.openPreviewEdit})),m.default.createElement(Q,null,"Initiatives"===i?m.default.createElement(T.default,{feedbackNeeded:F,topics:k,initiativeStatus:U,searchTerm:n,assignee:S}):"AllIdeas"===i||"ProjectIdeas"===i?m.default.createElement(O.default,{feedbackNeeded:F,project:_,phase:X,topics:k,ideaStatus:U,searchTerm:n,assignee:S}):null,m.default.createElement($,{icon:"search",onChange:this.handleSearchChange}))),m.default.createElement(z,null,m.default.createElement(L,null,m.default.createElement(Z,null,m.default.createElement(w.default,{activeFilterMenu:u,visibleFilterMenus:h,onChangeActiveFilterMenu:this.handleChangeActiveFilterMenu,phases:(0,b.isNilOrError)(d)?void 0:d,projects:(0,b.isNilOrError)(c)?void 0:c,statuses:(0,b.isNilOrError)(p)?[]:p,topics:H,selectedPhase:X,selectedTopics:k,selectedStatus:U,selectedProject:_,onChangePhaseFilter:W,onChangeTopicsFilter:y,onChangeStatusFilter:P,onChangeProjectFilter:this.onChangeProjects}))),m.default.createElement(K,null,m.default.createElement(M.default,{type:i,activeFilterMenu:u,sortAttribute:f.sortAttribute,sortDirection:f.sortDirection,onChangeSort:f.onChangeSorting,posts:g||void 0,phases:(0,b.isNilOrError)(d)?void 0:d,statuses:(0,b.isNilOrError)(p)?[]:p,selection:r,onChangeSelection:this.handleChangeSelection,currentPageNumber:f.currentPage,lastPageNumber:f.lastPage,onChangePage:f.onChangePage,handleSeeAll:x,openPreview:this.openPreview})),m.default.createElement(j.default,{postIds:(0,l.default)(r),openPreview:this.openPreview})),m.default.createElement(m.Suspense,{fallback:null},m.default.createElement(N.default,{type:i,postId:t,mode:a,onClose:this.closePreview,onSwitchPreviewMode:this.switchPreviewMode})),"Initiatives"===i&&m.default.createElement(m.Suspense,{fallback:null},m.default.createElement(D.default,null)))}return null}}]),a}(m.default.PureComponent);t.PostManager=X;var U=(0,v.adopt)({posts:function(e){var t=e.type,a=e.projectId,n=e.projects,r=e.render;if("Initiatives"===t)return m.default.createElement(k.default,{type:"paginated",pageSize:10,sort:"new"},r);if("ProjectIdeas"===t)return m.default.createElement(x.default,{type:"paginated",pageSize:10,sort:"new",projectIds:a?[a]:void 0},r);if("AllIdeas"===t){var u=n&&n.length>0?n.map((function(e){return e.id})):void 0;return m.default.createElement(x.default,{type:"paginated",pageSize:10,sort:"new",projectIds:u},r)}return null},postStatuses:function(e){var t=e.type,a=e.render;return"Initiatives"===t?m.default.createElement(I.default,null,a):m.default.createElement(E.default,null,a)},topics:function(e){var t=e.type,a=e.projectId,n=e.render;return"Initiatives"===t?m.default.createElement(S.default,{exclude_code:"custom"},n):"ProjectIdeas"===t&&a?m.default.createElement(S.default,{projectId:a},n):"AllIdeas"===t?m.default.createElement(S.default,null,n):null}}),H=(0,P.DragDropContext)(y.default)(X);t.default=function(e){return m.default.createElement(U,e,(function(t){return m.default.createElement(H,(0,u.default)({},e,t))}))}},"0eio":function(e,t,a){"use strict";a("SuFq"),a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),r=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FeedbackToggle=void 0;var u=n(a("pVnL")),l=n(a("lwsE")),o=n(a("W8MJ")),i=n(a("PJYZ")),s=n(a("7W2i")),c=n(a("a1gu")),f=n(a("Nsbk")),d=n(a("lSNA"));a("yWo2"),a("ma9I");var p=n(a("q1tI")),m=a("ifvJ"),h=a("KLnl"),v=a("T89o"),g=a("Rw3A"),y=n(a("1R3D")),P=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var a=x(t);if(a&&a.has(e))return a.get(e);var n={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=u?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a("vOnD")),b=a("96Cm"),C=n(a("5gEA")),E=n(a("590b")),I=n(a("qnH+"));function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(x=function(e){return e?a:t})(e)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,c.default)(this,a)}}var S=21,R=P.default.div.withConfig({displayName:"FeedbackToggle__Container",componentId:"daph7h-0"})(["display:inline-block;display:flex;align-items:center;"]),w=P.default.div.withConfig({displayName:"FeedbackToggle__ToggleContainer",componentId:"daph7h-1"})(["height:100%;display:flex;align-items:center;",";",";input{display:none;}i{display:inline-block;cursor:pointer;padding:","px;padding-right:","px;transition:all ease 0.15s;border-radius:","px;background:#ccc;transform:translate3d(0,0,0);&:before{display:block;content:'';width:","px;height:","px;border-radius:","px;background:#fff;}}"],(function(e){return e.disabled&&(0,P.css)(["opacity:0.25;i,i:before{cursor:not-allowed;}"])}),(function(e){return e.checked&&(0,P.css)(["i{padding-right:","px !important;padding-left:","px !important;background:"," !important;}"],4,S,b.colors.clGreen)}),4,S,25,S,S,S),M=P.default.label.withConfig({displayName:"FeedbackToggle__StyledLabel",componentId:"daph7h-2"})(["font-size:","px;font-weight:400;line-height:20px;padding-left:10px;padding-right:10px;cursor:pointer;display:flex;align-items:center;"],b.fontSizes.small),j=function(e){(0,s.default)(a,e);var t=k(a);function a(){var e;(0,l.default)(this,a);for(var n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];return e=t.call.apply(t,[this].concat(r)),(0,d.default)((0,i.default)(e),"handleOnClick",(function(){e.props.onChange(!e.props.value||void 0)})),e}return(0,o.default)(a,[{key:"componentDidUpdate",value:function(e){e.searchTerm!==this.props.searchTerm&&(0,v.isFunction)(this.props.feedbackNeededCount.onChangeSearchTerm)&&this.props.feedbackNeededCount.onChangeSearchTerm(this.props.searchTerm||"")}},{key:"render",value:function(){var e=this.props,t=e.value,a=e.feedbackNeededCount;return p.default.createElement(R,{id:"e2e-feedback_needed_filter_toggle",className:"feedback_needed_filter_toggle"},p.default.createElement(w,{onClick:this.handleOnClick,checked:t},p.default.createElement("input",{type:"checkbox",role:"checkbox","aria-checked":t}),p.default.createElement("i",null)),p.default.createElement(M,{onClick:this.handleOnClick},p.default.createElement(g.FormattedMessage,y.default.inputsNeedFeedbackToggle),!(0,h.isNilOrError)(a.count)&&p.default.createElement(I.default,{count:a.count})))}}]),a}(p.default.PureComponent);t.FeedbackToggle=j;var F=(0,m.adopt)({feedbackNeededCount:function(e){var t=e.project,a=e.phase,n=e.topics,r=e.status,u=e.assignee,l=e.render,o=[t];return"Initiatives"===e.type?p.default.createElement(E.default,{feedbackNeeded:!0,assignee:u,topics:n,initiativeStatusId:r},l):p.default.createElement(C.default,{feedbackNeeded:!0,assignee:u,projectIds:o,phaseId:a,topics:n,ideaStatusId:r},l)}});t.default=function(e){return p.default.createElement(F,e,(function(t){return p.default.createElement(j,(0,u.default)({},e,t))}))}},"1dih":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("q1tI")),u=a("KLnl"),l=n(a("OL75")),o=n(a("3A/8")),i=a("FvIY"),s=a("YxXh");t.default=function(e){return r.default.createElement(l.default,{ideaId:e.postId},(function(t){return(0,u.isNilOrError)(t)?null:r.default.createElement(i.Segment,{attached:"bottom"},r.default.createElement(s.StyledLink,{onClick:(0,s.handlePreviewCLick)(t.id,e.openPreview)},r.default.createElement(i.Header,{as:"h5"},r.default.createElement(o.default,{value:t.attributes.title_multiloc}))),r.default.createElement("p",null,r.default.createElement(o.default,{value:t.attributes.body_multiloc,supportHtml:!0})))}))}},"2r/X":function(e,t,a){"use strict";a("SuFq");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("lwsE")),u=n(a("W8MJ")),l=n(a("7W2i")),o=n(a("a1gu")),i=n(a("Nsbk")),s=n(a("q1tI")),c=n(a("vOnD")),f=n(a("y5aj")),d=n(a("87zv")),p=n(a("NpEX")),m=n(a("jIs4"));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,i.default)(e);if(t){var r=(0,i.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,o.default)(this,a)}}var v=c.default.div.withConfig({displayName:"ExportButtons__Container",componentId:"dzphpu-0"})(["display:flex;flex-direction:column;align-items:flex-start;padding:10px;& > *:not(:last-child){margin-bottom:20px;}"]),g=function(e){(0,l.default)(a,e);var t=h(a);function a(){return(0,r.default)(this,a),t.apply(this,arguments)}return(0,u.default)(a,[{key:"render",value:function(){var e=this.props,t=e.exportType,a=e.className,n=e.exportQueryParameter,r=e.type;return s.default.createElement(v,{className:a},"Initiatives"===r?s.default.createElement(s.default.Fragment,null,s.default.createElement(p.default,{exportType:t,exportQueryParameter:n}),s.default.createElement(m.default,{exportType:t,exportQueryParameter:n})):"AllIdeas"===r||"ProjectIdeas"===r?s.default.createElement(s.default.Fragment,null,s.default.createElement(f.default,{exportType:t,exportQueryParameter:n}),s.default.createElement(d.default,{exportType:t,exportQueryParameter:n})):null)}}]),a}(s.default.PureComponent);t.default=g},"6b7d":function(e,t,a){"use strict";a("SuFq");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("ma9I"),a("2B1R");var r=n(a("lwsE")),u=n(a("W8MJ")),l=n(a("PJYZ")),o=n(a("7W2i")),i=n(a("a1gu")),s=n(a("Nsbk")),c=n(a("lSNA")),f=n(a("q1tI")),d=a("T89o"),p=a("FvIY"),m=n(a("o4VY")),h=a("Rw3A"),v=n(a("1R3D"));function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,s.default)(e);if(t){var r=(0,s.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,i.default)(this,a)}}var y=function(e){(0,o.default)(a,e);var t=g(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,u=new Array(n),o=0;o<n;o++)u[o]=arguments[o];return e=t.call.apply(t,[this].concat(u)),(0,c.default)((0,l.default)(e),"handleItemClick",(function(t){return function(a){if(a.ctrlKey){var n=(0,d.xor)(e.props.selectedTopics||[],[t]);e.props.onChangeTopicsFilter&&e.props.onChangeTopicsFilter(n)}else e.props.onChangeTopicsFilter&&e.props.onChangeTopicsFilter([t])}})),(0,c.default)((0,l.default)(e),"clearFilter",(function(){e.props.onChangeTopicsFilter&&e.props.onChangeTopicsFilter([])})),(0,c.default)((0,l.default)(e),"isActive",(function(t){return e.props.selectedTopics&&e.props.selectedTopics.indexOf(t)>=0})),e}return(0,u.default)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.selectableTopics,n=t.selectedTopics;return f.default.createElement(p.Menu,{id:"e2e-idea-manager-topic-filters",secondary:!0,vertical:!0,fluid:!0},f.default.createElement(p.Menu.Item,{onClick:this.clearFilter,active:!n||0===n.length},f.default.createElement(h.FormattedMessage,v.default.allTopics)),f.default.createElement(p.Divider,null),a.map((function(t){return f.default.createElement(m.default,{key:t.id,topic:t,active:!!e.isActive(t.id),onClick:e.handleItemClick(t.id)})})))}}]),a}(f.default.PureComponent);t.default=y},"87zv":function(e,t,a){"use strict";a("SuFq");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("o0o1"));a("ma9I"),a("sMBO"),a("yWo2");var u=n(a("yXPU")),l=n(a("lwsE")),o=n(a("W8MJ")),i=n(a("PJYZ")),s=n(a("7W2i")),c=n(a("a1gu")),f=n(a("Nsbk")),d=n(a("lSNA")),p=n(a("q1tI")),m=n(a("2fl8")),h=a("96Cm"),v=n(a("1R3D")),g=a("Rw3A"),y=a("T89o"),P=a("KuRP"),b=a("QyKF"),C=a("p0gT"),E=n(a("f2mI")),I=a("Iab2");function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,c.default)(this,a)}}var k=function(e){(0,s.default)(a,e);var t=x(a);function a(e){var n;return(0,l.default)(this,a),n=t.call(this,e),(0,d.default)((0,i.default)(n),"handleExportComments",(0,u.default)(r.default.mark((function e(){var t,a,u,l,o,i,s;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,a=t.exportQueryParameter,u=t.intl,l=u.formatDate,o=u.formatMessage,i={},(0,y.isString)(a)&&"all"!==a?i.project=a:(0,y.isString)(a)||(i.ideas=a),e.prev=3,n.setState({exporting:!0}),e.next=7,(0,b.requestBlob)("".concat(C.API_PATH,"/ideas/comments/as_xlsx"),"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",i);case 7:s=e.sent,(0,I.saveAs)(s,"".concat(o(v.default.inputCommentsExportFileName),"_").concat(l(Date.now()),".xlsx")),n.setState({exporting:!1}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),n.setState({exporting:!1});case 15:(0,P.trackEventByName)(E.default.clickExportComments.name);case 16:case"end":return e.stop()}}),e,null,[[3,12]])})))),n.state={exporting:!1},n}return(0,o.default)(a,[{key:"render",value:function(){var e=this.props.exportType,t=this.state.exporting;return p.default.createElement(m.default,{buttonStyle:"text",onClick:this.handleExportComments,processing:t,padding:"0",fontSize:"".concat(h.fontSizes.small,"px")},"all"===e&&p.default.createElement(g.FormattedMessage,v.default.exportIdeasComments),"project"===e&&p.default.createElement(g.FormattedMessage,v.default.exportIdeasCommentsProjects),"selected_posts"===e&&p.default.createElement(g.FormattedMessage,v.default.exportSelectedInputsComments))}}]),a}(p.default.PureComponent),S=(0,g.injectIntl)(k);t.default=S},"AK/k":function(e,t,a){"use strict";a("SuFq");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.InitiativesCount=void 0;var r=n(a("pVnL")),u=n(a("lwsE")),l=n(a("W8MJ")),o=n(a("7W2i")),i=n(a("a1gu")),s=n(a("Nsbk")),c=n(a("q1tI")),f=a("ifvJ"),d=a("KLnl"),p=a("T89o"),m=a("Rw3A"),h=n(a("1R3D")),v=n(a("vOnD")),g=n(a("590b"));function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,s.default)(e);if(t){var r=(0,s.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,i.default)(this,a)}}var P=v.default.div.withConfig({displayName:"InitiativesCount__Container",componentId:"ueuhoe-0"})(["height:100%;display:flex;align-items:center;font-weight:500;"]),b=function(e){(0,o.default)(a,e);var t=y(a);function a(){return(0,u.default)(this,a),t.apply(this,arguments)}return(0,l.default)(a,[{key:"componentDidUpdate",value:function(e){e.searchTerm!==this.props.searchTerm&&(0,p.isFunction)(this.props.initiativesCount.onChangeSearchTerm)&&this.props.initiativesCount.onChangeSearchTerm(this.props.searchTerm)}},{key:"render",value:function(){var e=this.props.initiativesCount.count;return c.default.createElement(P,null,!(0,d.isNilOrError)(e)&&e>0&&(1===e?c.default.createElement(m.FormattedMessage,h.default.oneInitiative):c.default.createElement(m.FormattedMessage,(0,r.default)({},h.default.multipleInitiatives,{values:{initiativesCount:e}}))))}}]),a}(c.default.PureComponent);t.InitiativesCount=b;var C=(0,f.adopt)({initiativesCount:function(e){var t=e.topics,a=e.initiativeStatus,n=e.assignee,r=e.feedbackNeeded,u=e.render;return c.default.createElement(g.default,{feedbackNeeded:!0===r||void 0,assignee:"all"!==n?n:void 0,topics:t,initiativeStatusId:a},u)}});t.default=function(e){return c.default.createElement(C,e,(function(t){return c.default.createElement(b,(0,r.default)({},e,{initiativesCount:t.initiativesCount}))}))}},ATnd:function(e,t,a){"use strict";a("SuFq");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("ma9I"),a("2B1R");var r=n(a("lwsE")),u=n(a("W8MJ")),l=n(a("PJYZ")),o=n(a("7W2i")),i=n(a("a1gu")),s=n(a("Nsbk")),c=n(a("lSNA")),f=n(a("q1tI")),d=a("FvIY"),p=n(a("vEh7")),m=a("Rw3A"),h=n(a("1R3D"));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,s.default)(e);if(t){var r=(0,s.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,i.default)(this,a)}}var g=function(e){(0,o.default)(a,e);var t=v(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,u=new Array(n),o=0;o<n;o++)u[o]=arguments[o];return e=t.call.apply(t,[this].concat(u)),(0,c.default)((0,l.default)(e),"handleItemClick",(function(t){return function(){var a=[t];e.props.onChangeProjectFilter&&e.props.onChangeProjectFilter(a)}})),(0,c.default)((0,l.default)(e),"clearFilter",(function(){e.props.onChangeProjectFilter&&e.props.onChangeProjectFilter(void 0)})),(0,c.default)((0,l.default)(e),"isActive",(function(t){return e.props.selectedProject&&e.props.selectedProject===t})),e}return(0,u.default)(a,[{key:"render",value:function(){var e=this;return f.default.createElement(d.Menu,{secondary:!0,vertical:!0,fluid:!0},!(this.props.projects&&1===this.props.projects.length)&&f.default.createElement(f.default.Fragment,null,f.default.createElement(d.Menu.Item,{onClick:this.clearFilter,active:!this.props.selectedProject},f.default.createElement(m.FormattedMessage,h.default.allProjects)),f.default.createElement(d.Divider,null)),this.props.projects&&this.props.projects.map((function(t){return f.default.createElement(p.default,{key:t.id,project:t,active:!!e.isActive(t.id),onClick:e.handleItemClick(t.id)})})))}}]),a}(f.default.PureComponent);t.default=g},"Bsj+":function(e,t,a){"use strict";a("SuFq");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("ma9I");var r=n(a("lwsE")),u=n(a("W8MJ")),l=n(a("PJYZ")),o=n(a("7W2i")),i=n(a("a1gu")),s=n(a("Nsbk")),c=n(a("lSNA")),f=n(a("q1tI")),d=a("ngE2"),p=a("fM+I"),m=a("FvIY"),h=a("Rw3A"),v=n(a("1R3D"));function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,s.default)(e);if(t){var r=(0,s.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,i.default)(this,a)}}var y=function(e){(0,o.default)(a,e);var t=g(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,u=new Array(n),o=0;o<n;o++)u[o]=arguments[o];return e=t.call.apply(t,[this].concat(u)),(0,c.default)((0,l.default)(e),"handleClickDeleteIdea",(function(){var t=e.props,a=t.postId,n=t.resetSelection,r=(0,t.intl.formatMessage)(v.default.deleteInputConfirmation);window.confirm(r)&&(0,d.deleteIdea)(a),n()})),(0,c.default)((0,l.default)(e),"handleClickDeleteInitiative",(function(){var t=e.props,a=t.postId,n=t.resetSelection,r=(0,t.intl.formatMessage)(v.default.deleteInitiativeConfirmation);window.confirm(r)&&(0,p.deleteInitiative)(a),n()})),e}return(0,u.default)(a,[{key:"render",value:function(){var e=this.props,t=e.type,a=e.handleClickEdit;return"AllIdeas"===t||"ProjectIdeas"===t?f.default.createElement(f.default.Fragment,null,f.default.createElement(m.Button,{onClick:a},f.default.createElement(m.Icon,{name:"edit"}),f.default.createElement(h.FormattedMessage,v.default.edit)),f.default.createElement(m.Button,{negative:!0,basic:!0,onClick:this.handleClickDeleteIdea},f.default.createElement(m.Icon,{name:"trash"}),f.default.createElement(h.FormattedMessage,v.default.delete))):"Initiatives"===t?f.default.createElement(f.default.Fragment,null,f.default.createElement(m.Button,{onClick:a},f.default.createElement(m.Icon,{name:"edit"}),f.default.createElement(h.FormattedMessage,v.default.edit)),f.default.createElement(m.Button,{negative:!0,basic:!0,onClick:this.handleClickDeleteInitiative},f.default.createElement(m.Icon,{name:"trash"}),f.default.createElement(h.FormattedMessage,v.default.delete))):null}}]),a}(f.default.PureComponent),P=(0,h.injectIntl)(y);t.default=P},FGKY:function(e,t,a){"use strict";a("SuFq");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("ma9I"),a("2B1R");var r=n(a("lwsE")),u=n(a("W8MJ")),l=n(a("PJYZ")),o=n(a("7W2i")),i=n(a("a1gu")),s=n(a("Nsbk")),c=n(a("lSNA")),f=n(a("q1tI")),d=a("FvIY"),p=n(a("sLGH")),m=a("Rw3A"),h=a("KLnl"),v=n(a("1R3D"));function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,s.default)(e);if(t){var r=(0,s.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,i.default)(this,a)}}var y=function(e){(0,o.default)(a,e);var t=g(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,u=new Array(n),o=0;o<n;o++)u[o]=arguments[o];return e=t.call.apply(t,[this].concat(u)),(0,c.default)((0,l.default)(e),"handleItemClick",(function(t){return function(){e.props.onChangeStatusFilter&&e.props.onChangeStatusFilter(t)}})),(0,c.default)((0,l.default)(e),"clearFilter",(function(){e.props.onChangeStatusFilter&&e.props.onChangeStatusFilter(null)})),(0,c.default)((0,l.default)(e),"isActive",(function(t){return e.props.selectedStatus===t})),e}return(0,u.default)(a,[{key:"render",value:function(){var e=this,t=this.props.statuses;return(0,h.isNilOrError)(t)?null:f.default.createElement(d.Menu,{secondary:!0,vertical:!0,fluid:!0},f.default.createElement(d.Menu.Item,{onClick:this.clearFilter,active:!this.props.selectedStatus},f.default.createElement(m.FormattedMessage,v.default.allStatuses)),f.default.createElement(d.Divider,null),t.map((function(t){return f.default.createElement(p.default,{key:t.id,status:t,active:!!e.isActive(t.id),onClick:e.handleItemClick(t.id)})})))}}]),a}(f.default.PureComponent);t.default=y},FMm9:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("4mDm"),a("07d7"),a("5s+n"),a("PKPk"),a("3bBZ");var n=(0,a("q1tI").lazy)((function(){return a.e(110).then(a.t.bind(null,"b0Ul",7))}));t.default=n},NpEX:function(e,t,a){"use strict";a("SuFq");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("o0o1"));a("ma9I"),a("sMBO"),a("yWo2");var u=n(a("yXPU")),l=n(a("lwsE")),o=n(a("W8MJ")),i=n(a("PJYZ")),s=n(a("7W2i")),c=n(a("a1gu")),f=n(a("Nsbk")),d=n(a("lSNA")),p=n(a("q1tI")),m=n(a("2fl8")),h=a("96Cm"),v=n(a("1R3D")),g=a("Rw3A"),y=a("MCLT"),P=a("QyKF"),b=a("p0gT"),C=a("KuRP"),E=n(a("f2mI")),I=a("Iab2"),x=a("bQOE");function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,c.default)(this,a)}}var S=function(e){(0,s.default)(a,e);var t=k(a);function a(e){var n;return(0,l.default)(this,a),n=t.call(this,e),(0,d.default)((0,i.default)(n),"handleExportInitiatives",(0,u.default)(r.default.mark((function e(){var t,a,u,l,o,i,s;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,a=t.exportQueryParameter,u=t.intl,l=u.formatDate,o=u.formatMessage,i={},(0,y.isString)(a)&&"all"!==a?i.project=a:(0,y.isString)(a)||(i.initiatives=a),e.prev=3,n.setState({exporting:!0}),e.next=7,(0,P.requestBlob)("".concat(b.API_PATH,"/initiatives/as_xlsx"),"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",i);case 7:s=e.sent,(0,I.saveAs)(s,"".concat(o(v.default.initiativesExportFileName),"_").concat(l(Date.now()),".xlsx")),n.setState({exporting:!1}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),(0,x.reportError)(e.t0),n.setState({exporting:!1});case 16:(0,C.trackEventByName)(E.default.clickExportInitiatives.name);case 17:case"end":return e.stop()}}),e,null,[[3,12]])})))),n.state={exporting:!1},n}return(0,o.default)(a,[{key:"render",value:function(){var e=this.props.exportType,t=this.state.exporting;return p.default.createElement(m.default,{buttonStyle:"text",onClick:this.handleExportInitiatives,processing:t,padding:"0",fontSize:"".concat(h.fontSizes.small,"px")},"all"===e&&p.default.createElement(g.FormattedMessage,v.default.exportInitiatives),"project"===e&&p.default.createElement(g.FormattedMessage,v.default.exportInitiativesProjects),"selected_posts"===e&&p.default.createElement(g.FormattedMessage,v.default.exportSelectedInitiatives))}}]),a}(p.default.PureComponent),R=(0,g.injectIntl)(S);t.default=R},RHA3:function(e,t,a){"use strict";a("SuFq");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("lwsE")),u=n(a("W8MJ")),l=n(a("7W2i")),o=n(a("a1gu")),i=n(a("Nsbk")),s=n(a("q1tI")),c=a("MfpC"),f=a("FvIY"),d=a("l8Oe"),p=n(a("3A/8"));function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,i.default)(e);if(t){var r=(0,i.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,o.default)(this,a)}}var h=function(e){(0,l.default)(a,e);var t=m(a);function a(){return(0,r.default)(this,a),t.apply(this,arguments)}return(0,u.default)(a,[{key:"render",value:function(){var e=this.props,t=e.phase,a=e.active,n=e.onClick,r=e.connectDropTarget,u=e.isOver,l=e.canDrop,o=e.phaseNumber,i=!(0,c.canContainIdeas)(t);return r(s.default.createElement("div",null,s.default.createElement(f.Menu.Item,{active:a||u&&l,onClick:n,disabled:i},s.default.createElement(f.Label,{circular:!0,basic:!0,color:i?"grey":"teal"},o),s.default.createElement(p.default,{value:t.attributes.title_multiloc}))))}}]),a}(s.default.PureComponent),v={drop:function(e){return{type:"phase",id:e.phase.id}},canDrop:function(e){return(0,c.canContainIdeas)(e.phase)}},g=(0,d.DropTarget)("IDEA",v,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),canDrop:t.canDrop()}}))(h);t.default=g},YxXh:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.handlePreviewCLick=function(e,t){return function(){t(e)}},t.default=t.StyledLink=void 0;var r,u=n(a("VkAN")),l=n(a("q1tI")),o=n(a("1dih")),i=n(a("gC4c")),s=a("iTG7"),c=n(a("vOnD")),f=a("96Cm"),d=a("0G51"),p=c.default.div.withConfig({displayName:"InfoSidebar__RightColumn",componentId:"w2d0x7-0"})(["max-width:200px;display:flex;"," &.slide-enter{transform:translateX(100%);opacity:0;&.slide-enter-active{transition:200ms;transform:translateX(0%);opacity:1;}}&.slide-exit{transition:200ms;transform:translateX(0%);opacity:1;&.slide-exit-active{transform:translateX(100%);opacity:0;}}"],f.media.smallerThan1280px(r||(r=(0,u.default)(["\n    display: none;\n  "])))),m=c.default.a.withConfig({displayName:"InfoSidebar__StyledLink",componentId:"w2d0x7-1"})(["cursor:pointer;&:hover,&:focus{text-decoration:underline;}"]);t.StyledLink=m;t.default=function(e){var t=e.postIds,a=e.openPreview;return l.default.createElement(s.CSSTransition,{in:0!==t.length,mountOnEnter:!0,unmountOnExit:!0,timeout:200,classNames:"slide"},l.default.createElement(p,null,l.default.createElement(d.Sticky,null,t.length>1?l.default.createElement(i.default,{postIds:t,openPreview:a}):l.default.createElement(o.default,{postId:t[0],openPreview:a}))))}},anjn:function(e,t,a){"use strict";a("2B1R"),a("SuFq"),a("pNMO"),a("5DmW"),a("27RR");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("QILm"));a("ToJy"),a("FZtP"),a("TeQF"),a("tkto"),a("rB9j"),a("hByQ");var u=n(a("lwsE")),l=n(a("W8MJ")),o=n(a("PJYZ")),i=n(a("7W2i")),s=n(a("a1gu")),c=n(a("Nsbk")),f=n(a("lSNA")),d=n(a("q1tI")),p=a("T89o"),m=a("DtyJ"),h=a("ahDk"),v=a("ngE2"),g=(a("uZm3"),a("ErwY")),y=["children"],P=["children"];function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){(0,f.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,s.default)(this,a)}}var I=function(e){(0,i.default)(a,e);var t=E(a);function a(e){var n;(0,u.default)(this,a),n=t.call(this,e),(0,f.default)((0,o.default)(n),"defaultQueryParameters",void 0),(0,f.default)((0,o.default)(n),"queryParameters$",void 0),(0,f.default)((0,o.default)(n),"subscriptions",void 0),(0,f.default)((0,o.default)(n),"propsToQueryParamsShape",(function(){return{projects:n.props.projectIds,"page[number]":n.props.pageNumber,"page[size]":n.props.pageSize,phase:n.props.phaseId,author:n.props.authorId,sort:n.props.sort,topics:n.props.topics,areas:n.props.areas,idea_status:n.props.ideaStatusId,publication_status:n.props.publicationStatus,project_publication_status:n.props.projectPublicationStatus,bounding_box:n.props.boundingBox,assignee:n.props.assignee,feedback_needed:n.props.feedbackNeeded,search:void 0}})),(0,f.default)((0,o.default)(n),"getQueryParametersFromProps",(function(){var e=n.propsToQueryParamsShape();return Object.keys(e).filter((function(t){return null===e[t]})).forEach((function(t){return e[t]=void 0})),e})),(0,f.default)((0,o.default)(n),"getQueryParameters",(function(e,t){var a=void 0;(0,p.isNil)(t.projectIds)?a=e.projects:(0,p.isArray)(t.projectIds)&&(a=t.projectIds);var n={projects:a,"page[number]":t.pageNumber,"page[size]":t.pageSize,phase:t.phaseId,author:t.authorId,sort:t.sort,search:t.search,topics:t.topics,areas:t.areas,idea_status:t.ideaStatusId,publication_status:t.publicationStatus,project_publication_status:t.projectPublicationStatus,bounding_box:t.boundingBox,assignee:t.assignee,feedback_needed:t.feedbackNeeded};return C(C(C({},e),(0,p.omitBy)(n,p.isNil)),{},{projects:a})})),(0,f.default)((0,o.default)(n),"loadMore",(function(){n.state.loadingMore||n.queryParameters$.next(C(C({},n.state.queryParameters),{},{"page[number]":n.state.queryParameters["page[number]"]+1}))})),(0,f.default)((0,o.default)(n),"handleChangePage",(function(e){n.queryParameters$.next(C(C({},n.state.queryParameters),{},{"page[number]":e}))})),(0,f.default)((0,o.default)(n),"handlePhaseOnChange",(function(e){n.queryParameters$.next(C(C({},n.state.queryParameters),{},{phase:e,"page[number]":1}))})),(0,f.default)((0,o.default)(n),"handleSearchOnChange",(function(e){n.queryParameters$.next(C(C({},n.state.queryParameters),{},{search:e||void 0,"page[number]":1}))})),(0,f.default)((0,o.default)(n),"handleSortOnChange",(function(e){n.queryParameters$.next(C(C({},n.state.queryParameters),{},{sort:e,"page[number]":1}))})),(0,f.default)((0,o.default)(n),"handleProjectsOnChange",(function(e){n.queryParameters$.next(C(C({},n.state.queryParameters),{},{projects:e,"page[number]":1}))})),(0,f.default)((0,o.default)(n),"handleTopicsOnChange",(function(e){n.queryParameters$.next(C(C({},n.state.queryParameters),{},{topics:e,"page[number]":1}))})),(0,f.default)((0,o.default)(n),"handleAreasOnchange",(function(e){n.queryParameters$.next(C(C({},n.state.queryParameters),{},{areas:e,"page[number]":1}))})),(0,f.default)((0,o.default)(n),"handleStatusOnChange",(function(e){n.queryParameters$.next(C(C({},n.state.queryParameters),{},{idea_status:e||void 0,"page[number]":1}))})),(0,f.default)((0,o.default)(n),"handlePublicationStatusOnChange",(function(e){n.queryParameters$.next(C(C({},n.state.queryParameters),{},{publication_status:e,"page[number]":1}))})),(0,f.default)((0,o.default)(n),"handleProjectPublicationStatusOnChange",(function(e){n.queryParameters$.next(C(C({},n.state.queryParameters),{},{project_publication_status:e,"page[number]":1}))})),(0,f.default)((0,o.default)(n),"handleAssigneeOnChange",(function(e){n.queryParameters$.next(C(C({},n.state.queryParameters),{},{assignee:e,"page[number]":1}))})),(0,f.default)((0,o.default)(n),"handleFeedbackFilterOnChange",(function(e){n.queryParameters$.next(C(C({},n.state.queryParameters),{},{feedback_needed:e||void 0,"page[number]":1}))})),(0,f.default)((0,o.default)(n),"handleIdeaFiltering",(function(e){n.queryParameters$.next(C(C(C({},n.state.queryParameters),e),{},{"page[number]":1}))})),(0,f.default)((0,o.default)(n),"handleResetParamsToProps",(function(e){var t=n.getQueryParametersFromProps();e&&e.length>0?n.queryParameters$.next(C(C({},n.state.queryParameters),(0,p.omit)(t,e))):n.queryParameters$.next(t)})),n.defaultQueryParameters={"page[number]":e.pageNumber,"page[size]":e.pageSize,sort:e.sort,projects:void 0,phase:void 0,author:void 0,search:void 0,topics:void 0,areas:void 0,idea_status:void 0,publication_status:void 0,project_publication_status:void 0,bounding_box:void 0,assignee:void 0,feedback_needed:void 0};var r=n.getQueryParameters(n.defaultQueryParameters,e);return n.state={queryParameters:r,list:void 0,hasMore:!1,querying:!0,loadingMore:!1,sortAttribute:(0,g.getSortAttribute)(e.sort),sortDirection:(0,g.getSortDirection)(e.sort),currentPage:1,lastPage:1},n.queryParameters$=new m.BehaviorSubject(r),n.subscriptions=[],n}return(0,l.default)(a,[{key:"componentDidMount",value:function(){var e=this,t={queryParameters:this.getQueryParameters(this.state.queryParameters,this.props),ideas:null,hasMore:!1},a=this.queryParameters$.pipe((0,h.distinctUntilChanged)((function(e,t){return(0,p.isEqual)(e,t)})));this.props.type&&"load-more"!==this.props.type?this.subscriptions=[a.pipe((0,h.switchMap)((function(t){var a=e.state.queryParameters["page[number]"],n=t["page[number]"];return t["page[number]"]=n!==a?n:1,(e.props.mini?v.ideasMiniStream:v.ideasStream)({queryParameters:t}).observable.pipe((0,h.map)((function(e){return{queryParameters:t,ideas:e}})))}))).subscribe((function(t){var a=t.ideas,n=t.queryParameters;e.setState({queryParameters:n,list:a?a.data:null,querying:!1,loadingMore:!1,sortAttribute:(0,g.getSortAttribute)(n.sort),sortDirection:(0,g.getSortDirection)(n.sort),currentPage:(0,g.getPageNumberFromUrl)(a.links.self)||1,lastPage:(0,g.getPageNumberFromUrl)(a.links.last)||1})}))]:this.subscriptions=[a.pipe((0,h.mergeScan)((function(t,a){var n=(0,p.omit)((0,p.cloneDeep)(t.queryParameters),"page[number]"),r=(0,p.omit)((0,p.cloneDeep)(a),"page[number]"),u=t.queryParameters["page[number]"],l=a["page[number]"],o=(0,p.isEqual)(n,r)&&u!==l,i=o?a["page[number]"]:1,s=C(C({},a),{},{"page[number]":i});return e.setState({querying:!o,loadingMore:o}),(e.props.mini?v.ideasMiniStream:v.ideasStream)({queryParameters:s}).observable.pipe((0,h.map)((function(e){var a=(0,p.get)(e,"links.self"),n=(0,p.get)(e,"links.last"),r=(0,p.isString)(a)&&(0,p.isString)(n)&&a!==n;return{queryParameters:s,hasMore:r,ideas:o?(0,p.unionBy)(t.ideas||[],e.data,"id"):e.data}})))}),t)).subscribe((function(t){var a=t.ideas,n=t.queryParameters,r=t.hasMore;e.setState({queryParameters:n,hasMore:r,list:a,querying:!1,loadingMore:!1})}))]}},{key:"componentDidUpdate",value:function(e,t){e.children;var a=(0,r.default)(e,y),n=this.props,u=(n.children,(0,r.default)(n,P));if(!(0,p.isEqual)(a,u)){var l=this.getQueryParameters(this.state.queryParameters,this.props);this.queryParameters$.next(l)}}},{key:"componentWillUnmount",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"render",value:function(){return(0,this.props.children)(C(C({},this.state),{},{onLoadMore:this.loadMore,onChangePage:this.handleChangePage,onChangeProjects:this.handleProjectsOnChange,onChangePhase:this.handlePhaseOnChange,onChangeSearchTerm:this.handleSearchOnChange,onChangeSorting:this.handleSortOnChange,onChangeTopics:this.handleTopicsOnChange,onChangeAreas:this.handleAreasOnchange,onChangeStatus:this.handleStatusOnChange,onChangePublicationStatus:this.handlePublicationStatusOnChange,onChangeProjectPublicationStatus:this.handleProjectPublicationStatusOnChange,onChangeAssignee:this.handleAssigneeOnChange,onChangeFeedbackFilter:this.handleFeedbackFilterOnChange,onIdeaFiltering:this.handleIdeaFiltering,onResetParams:this.handleResetParamsToProps,type:"ideas"}))}}]),a}(d.default.Component);t.default=I,(0,f.default)(I,"defaultProps",{pageNumber:1,pageSize:12,sort:"random"})},ebYg:function(e,t,a){"use strict";a("SuFq");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("ma9I"),a("FZtP");var r=n(a("pVnL")),u=n(a("lwsE")),l=n(a("W8MJ")),o=n(a("PJYZ")),i=n(a("7W2i")),s=n(a("a1gu")),c=n(a("Nsbk")),f=n(a("lSNA")),d=n(a("q1tI")),p=a("Rw3A"),m=a("ngE2"),h=a("fM+I"),v=a("FvIY"),g=n(a("1R3D"));function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,s.default)(this,a)}}var P=function(e){(0,i.default)(a,e);var t=y(a);function a(){var e;(0,u.default)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r)),(0,f.default)((0,o.default)(e),"handleClickDeleteIdeas",(function(){var t=e.props,a=t.selection,n=t.resetSelection,r=(0,t.intl.formatMessage)(g.default.deleteInputsConfirmation,{count:a.size});window.confirm(r)&&a.forEach((function(e){(0,m.deleteIdea)(e)})),n()})),(0,f.default)((0,o.default)(e),"handleClickDeleteInitiatives",(function(){var t=e.props,a=t.selection,n=t.resetSelection,r=(0,t.intl.formatMessage)(g.default.deleteInitiativesConfirmation,{count:a.size});window.confirm(r)&&a.forEach((function(e){(0,h.deleteInitiative)(e)})),n()})),e}return(0,l.default)(a,[{key:"render",value:function(){var e=this.props,t=e.type,a=e.selection;return"AllIdeas"===t||"ProjectIdeas"===t?d.default.createElement(v.Button,{negative:!0,basic:!0,onClick:this.handleClickDeleteIdeas},d.default.createElement(v.Icon,{name:"trash"}),d.default.createElement(p.FormattedMessage,(0,r.default)({},g.default.deleteAllSelectedInputs,{values:{count:a.size}}))):"Initiatives"===t?d.default.createElement(v.Button,{negative:!0,basic:!0,onClick:this.handleClickDeleteInitiatives},d.default.createElement(v.Icon,{name:"trash"}),d.default.createElement(p.FormattedMessage,(0,r.default)({},g.default.deleteAllSelectedInitiatives,{values:{count:a.size}}))):null}}]),a}(d.default.PureComponent),b=(0,p.injectIntl)(P);t.default=b},"fO/0":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("q1tI")),u=a("KLnl"),l=n(a("3A/8")),o=a("FvIY"),i=n(a("OL75")),s=a("YxXh");t.default=function(e){return r.default.createElement(i.default,{ideaId:e.postId},(function(t){return(0,u.isNilOrError)(t)?null:r.default.createElement(o.List.Item,null,r.default.createElement(s.StyledLink,{onClick:(0,s.handlePreviewCLick)(e.postId,e.openPreview)},r.default.createElement(l.default,{value:t.attributes.title_multiloc})))}))}},fwa1:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("RIqP")),u=n(a("q1tI")),l=n(a("vOnD")),o=n(a("Bsj+")),i=n(a("ebYg")),s=l.default.div.withConfig({displayName:"ActionBar__Container",componentId:"sc-1wo9s1g-0"})(["display:flex;"]);t.default=function(e){var t=e.type,a=e.selection,n=e.resetSelection,l=e.handleClickEdit;return u.default.createElement(s,null,a.size>1&&u.default.createElement(i.default,{type:t,selection:a,resetSelection:n}),1===a.size&&u.default.createElement(o.default,{type:t,postId:(0,r.default)(a)[0],resetSelection:n,handleClickEdit:l}))}},gC4c:function(e,t,a){"use strict";a("SuFq");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2B1R");var r=n(a("lwsE")),u=n(a("W8MJ")),l=n(a("7W2i")),o=n(a("a1gu")),i=n(a("Nsbk")),s=n(a("q1tI")),c=n(a("fO/0")),f=a("FvIY");function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,i.default)(e);if(t){var r=(0,i.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,o.default)(this,a)}}var p=function(e){(0,l.default)(a,e);var t=d(a);function a(){return(0,r.default)(this,a),t.apply(this,arguments)}return(0,u.default)(a,[{key:"render",value:function(){var e=this.props,t=e.postIds,a=e.openPreview;return s.default.createElement(f.Segment,{attached:"bottom"},s.default.createElement(f.List,{bulleted:!0},t.map((function(e){return s.default.createElement(c.default,{key:e,postId:e,openPreview:a})}))))}}]),a}(s.default.PureComponent);t.default=p},hEVc:function(e,t,a){"use strict";a("SuFq");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("FZtP");var r=n(a("lwsE")),u=n(a("W8MJ")),l=n(a("PJYZ")),o=n(a("7W2i")),i=n(a("a1gu")),s=n(a("Nsbk")),c=n(a("lSNA")),f=n(a("q1tI")),d=a("X7fv");function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,s.default)(e);if(t){var r=(0,s.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,i.default)(this,a)}}var m=function(e){(0,o.default)(a,e);var t=p(a);function a(e){var n;return(0,r.default)(this,a),n=t.call(this,e),(0,c.default)((0,l.default)(n),"subscriptions",void 0),n.state={ideaStatuses:void 0},n}return(0,u.default)(a,[{key:"componentDidMount",value:function(){var e=this;this.subscriptions=[(0,d.ideaStatusesStream)().observable.subscribe((function(t){e.setState({ideaStatuses:t?t.data:null})}))]}},{key:"componentWillUnmount",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"render",value:function(){return(0,this.props.children)(this.state.ideaStatuses)}}]),a}(f.default.Component);t.default=m},jIs4:function(e,t,a){"use strict";a("SuFq");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("o0o1"));a("ma9I"),a("sMBO"),a("yWo2");var u=n(a("yXPU")),l=n(a("lwsE")),o=n(a("W8MJ")),i=n(a("PJYZ")),s=n(a("7W2i")),c=n(a("a1gu")),f=n(a("Nsbk")),d=n(a("lSNA")),p=n(a("q1tI")),m=n(a("2fl8")),h=a("96Cm"),v=n(a("1R3D")),g=a("Rw3A"),y=a("T89o"),P=a("KuRP"),b=a("QyKF"),C=a("p0gT"),E=n(a("f2mI")),I=a("Iab2");function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,c.default)(this,a)}}var k=function(e){(0,s.default)(a,e);var t=x(a);function a(e){var n;return(0,l.default)(this,a),n=t.call(this,e),(0,d.default)((0,i.default)(n),"handleExportComments",(0,u.default)(r.default.mark((function e(){var t,a,u,l,o,i,s;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,a=t.exportQueryParameter,u=t.intl,l=u.formatDate,o=u.formatMessage,i={},(0,y.isString)(a)&&"all"!==a?i.project=a:(0,y.isString)(a)||(i.initiatives=a),e.prev=3,n.setState({exporting:!0}),e.next=7,(0,b.requestBlob)("".concat(C.API_PATH,"/initiatives/comments/as_xlsx"),"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",i);case 7:s=e.sent,(0,I.saveAs)(s,"".concat(o(v.default.initiativesCommentsExportFileName),"_").concat(l(Date.now()),".xlsx")),n.setState({exporting:!1}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),n.setState({exporting:!1});case 15:(0,P.trackEventByName)(E.default.clickExportComments.name);case 16:case"end":return e.stop()}}),e,null,[[3,12]])})))),n.state={exporting:!1},n}return(0,o.default)(a,[{key:"render",value:function(){var e=this.props.exportType,t=this.state.exporting;return p.default.createElement(m.default,{buttonStyle:"text",onClick:this.handleExportComments,processing:t,padding:"0",fontSize:"".concat(h.fontSizes.small,"px")},"all"===e&&p.default.createElement(g.FormattedMessage,v.default.exportInitiativesComments),"selected_posts"===e&&p.default.createElement(g.FormattedMessage,v.default.exportSelectedInitiativesComments))}}]),a}(p.default.PureComponent),S=(0,g.injectIntl)(k);t.default=S},jexb:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("4mDm"),a("07d7"),a("5s+n"),a("PKPk"),a("3bBZ");var n=(0,a("q1tI").lazy)((function(){return Promise.all([a.e(3),a.e(111)]).then(a.t.bind(null,"nSll",7))}));t.default=n},o4VY:function(e,t,a){"use strict";a("SuFq");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("lwsE")),u=n(a("W8MJ")),l=n(a("7W2i")),o=n(a("a1gu")),i=n(a("Nsbk")),s=n(a("q1tI")),c=a("T89o"),f=n(a("3A/8")),d=a("FvIY"),p=a("l8Oe");function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,i.default)(e);if(t){var r=(0,i.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,o.default)(this,a)}}var h=function(e){(0,l.default)(a,e);var t=m(a);function a(){return(0,r.default)(this,a),t.apply(this,arguments)}return(0,u.default)(a,[{key:"render",value:function(){var e=this.props,t=e.topic,a=e.active,n=e.onClick,r=e.connectDropTarget,u=e.isOver,l=e.canDrop;return r(s.default.createElement("div",null,s.default.createElement(d.Menu.Item,{active:a||u&&l,onClick:n},s.default.createElement(f.default,{value:t.attributes.title_multiloc}))))}}]),a}(s.default.PureComponent),v=(0,c.flow)([(0,p.DropTarget)("IDEA",{drop:function(e){return{type:"topic",id:e.topic.id}}},(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),canDrop:t.canDrop()}}))])(h);t.default=v},pNGH:function(e,t,a){"use strict";a("SuFq");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.IdeasCount=void 0;var r=n(a("pVnL")),u=n(a("lwsE")),l=n(a("W8MJ")),o=n(a("7W2i")),i=n(a("a1gu")),s=n(a("Nsbk")),c=n(a("q1tI")),f=a("ifvJ"),d=a("KLnl"),p=a("T89o"),m=a("Rw3A"),h=n(a("1R3D")),v=n(a("vOnD")),g=n(a("5gEA"));function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,s.default)(e);if(t){var r=(0,s.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,i.default)(this,a)}}var P=v.default.div.withConfig({displayName:"IdeasCount__Container",componentId:"jea4eb-0"})(["height:100%;display:flex;align-items:center;font-weight:500;"]),b=function(e){(0,o.default)(a,e);var t=y(a);function a(){return(0,u.default)(this,a),t.apply(this,arguments)}return(0,l.default)(a,[{key:"componentDidUpdate",value:function(e){e.searchTerm!==this.props.searchTerm&&(0,p.isFunction)(this.props.ideasCount.onChangeSearchTerm)&&this.props.ideasCount.onChangeSearchTerm(this.props.searchTerm)}},{key:"render",value:function(){var e=this.props.ideasCount.count;return c.default.createElement(P,null,!(0,d.isNilOrError)(e)&&e>0&&(1===e?c.default.createElement(m.FormattedMessage,h.default.oneInput):c.default.createElement(m.FormattedMessage,(0,r.default)({},h.default.multipleInputs,{values:{ideaCount:e}}))))}}]),a}(c.default.PureComponent);t.IdeasCount=b;var C=(0,f.adopt)({ideasCount:function(e){var t=e.project,a=e.phase,n=e.topics,r=e.ideaStatus,u=e.assignee,l=e.feedbackNeeded,o=e.render,i=[t];return c.default.createElement(g.default,{feedbackNeeded:!0===l||void 0,assignee:"all"!==u?u:void 0,projectIds:i,phaseId:a,topics:n,ideaStatusId:r},o)}});t.default=function(e){return c.default.createElement(C,e,(function(t){return c.default.createElement(b,(0,r.default)({},e,{ideasCount:t.ideasCount}))}))}},qjRo:function(e,t,a){"use strict";a("SuFq"),a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),r=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=n(a("RIqP")),l=n(a("lwsE")),o=n(a("W8MJ")),i=n(a("PJYZ")),s=n(a("7W2i")),c=n(a("a1gu")),f=n(a("Nsbk")),d=n(a("lSNA")),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var a=b(t);if(a&&a.has(e))return a.get(e);var n={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=u?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),m=a("iP56"),h=n(a("2fl8")),v=n(a("2r/X")),g=n(a("vOnD")),y=a("Rw3A"),P=n(a("1R3D"));function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(b=function(e){return e?a:t})(e)}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,c.default)(this,a)}}var E=(0,g.default)(h.default).withConfig({displayName:"ExportMenu__DropdownButton",componentId:"nnnza2-0"})([""]),I=g.default.div.withConfig({displayName:"ExportMenu__Container",componentId:"nnnza2-1"})(["height:100%;display:flex;align-items:center;position:relative;cursor:pointer;"]),x=function(e){(0,s.default)(a,e);var t=C(a);function a(e){var n;return(0,l.default)(this,a),n=t.call(this,e),(0,d.default)((0,i.default)(n),"getExportQueryParameters",(function(){var e,t=n.props,a=t.selection,r=t.selectedProject,l=null;return a.size>0?(e=(0,u.default)(a),l="selected_posts"):r?(e=r,l="project"):(e="all",l="all"),{exportQueryParameter:e,exportType:l}})),(0,d.default)((0,i.default)(n),"removeFocus",(function(e){e.preventDefault()})),(0,d.default)((0,i.default)(n),"toggleDropdown",(function(e){e.preventDefault(),n.setState((function(e){return{dropdownOpened:!e.dropdownOpened}}))})),n.state={dropdownOpened:!1},n}return(0,o.default)(a,[{key:"render",value:function(){var e=this.props,t=e.className,a=e.type,n=this.state.dropdownOpened,r=this.getExportQueryParameters(),u=r.exportQueryParameter,l=r.exportType;return p.default.createElement(I,{className:t},p.default.createElement(E,{buttonStyle:"admin-dark-text",onClick:this.toggleDropdown,icon:"download",iconPos:"right",padding:"0px"},p.default.createElement(y.FormattedMessage,P.default.exports)),p.default.createElement(m.Dropdown,{width:"100%",top:"35px",right:"-5px",mobileRight:"-5px",opened:n,onClickOutside:this.toggleDropdown,content:p.default.createElement(v.default,{type:a,exportQueryParameter:u,exportType:l})}))}}]),a}(p.PureComponent);t.default=x},sLGH:function(e,t,a){"use strict";a("SuFq");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("lwsE")),u=n(a("W8MJ")),l=n(a("7W2i")),o=n(a("a1gu")),i=n(a("Nsbk")),s=n(a("q1tI")),c=a("T89o"),f=n(a("vOnD")),d=a("FvIY"),p=a("l8Oe"),m=n(a("3A/8")),h=a("Rw3A"),v=n(a("1R3D"));function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,i.default)(e);if(t){var r=(0,i.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,o.default)(this,a)}}var y=f.default.div.withConfig({displayName:"FilterSidebarStatusesItem__ItemWrapper",componentId:"sc-1kectwk-0"})(["display:flex;"]),P=f.default.div.withConfig({displayName:"FilterSidebarStatusesItem__ColorIndicator",componentId:"sc-1kectwk-1"})(["width:1rem;height:1rem;background-color:",";border-radius:",";margin-right:0.5rem;"],(function(e){return e.color}),(function(e){return e.theme.borderRadius})),b=f.default.div.withConfig({displayName:"FilterSidebarStatusesItem__StatusText",componentId:"sc-1kectwk-2"})(["&:first-letter{text-transform:uppercase;}"]),C=f.default.span.withConfig({displayName:"FilterSidebarStatusesItem__StyledText",componentId:"sc-1kectwk-3"})(["font-weight:300;"]),E=function(e){(0,l.default)(a,e);var t=g(a);function a(){return(0,r.default)(this,a),t.apply(this,arguments)}return(0,u.default)(a,[{key:"render",value:function(){var e=this.props,t=e.status,a=e.active,n=e.onClick,r=e.connectDropTarget,u=e.isOver,l=e.canDrop;return r(s.default.createElement("div",null,s.default.createElement(d.Menu.Item,{active:a||u&&l,onClick:n},s.default.createElement(y,null,s.default.createElement(P,{color:t.attributes.color}),s.default.createElement("div",null,s.default.createElement(b,null,s.default.createElement(m.default,{value:t.attributes.title_multiloc})),"automatic"===(0,c.get)(t,"attributes.transition_type")&&s.default.createElement(C,null,"Â ",s.default.createElement(h.FormattedMessage,v.default.automatic)))))))}}]),a}(s.default.PureComponent),I=(0,c.flow)([(0,p.DropTarget)("IDEA",{drop:function(e){return{type:"status",id:e.status.id}}},(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),canDrop:t.canDrop()}}))])(E);t.default=I},sQjbe:function(e,t,a){"use strict";a("SuFq");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("ma9I"),a("2B1R");var r=n(a("lwsE")),u=n(a("W8MJ")),l=n(a("PJYZ")),o=n(a("7W2i")),i=n(a("a1gu")),s=n(a("Nsbk")),c=n(a("lSNA")),f=n(a("q1tI")),d=a("FvIY"),p=n(a("RHA3")),m=a("Rw3A"),h=n(a("1R3D"));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,s.default)(e);if(t){var r=(0,s.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,i.default)(this,a)}}var g=function(e){(0,o.default)(a,e);var t=v(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,u=new Array(n),o=0;o<n;o++)u[o]=arguments[o];return e=t.call.apply(t,[this].concat(u)),(0,c.default)((0,l.default)(e),"handleItemClick",(function(t){return function(){e.props.onChangePhaseFilter&&e.props.onChangePhaseFilter(t)}})),(0,c.default)((0,l.default)(e),"clearFilter",(function(){e.props.onChangePhaseFilter&&e.props.onChangePhaseFilter(null)})),(0,c.default)((0,l.default)(e),"isActive",(function(t){return e.props.selectedPhase===t})),e}return(0,u.default)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.phases,n=t.selectedPhase;return f.default.createElement(d.Menu,{secondary:!0,vertical:!0,fluid:!0},f.default.createElement(d.Menu.Item,{onClick:this.clearFilter,active:!n},f.default.createElement(m.FormattedMessage,h.default.allPhases)),f.default.createElement(d.Divider,null),a&&a.map((function(t,a){return f.default.createElement(p.default,{key:t.id,phase:t,phaseNumber:a+1,active:!!e.isActive(t.id),onClick:e.handleItemClick(t.id)})})))}}]),a}(f.default.PureComponent);t.default=g},vEh7:function(e,t,a){"use strict";a("SuFq");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("lwsE")),u=n(a("W8MJ")),l=n(a("7W2i")),o=n(a("a1gu")),i=n(a("Nsbk")),s=n(a("q1tI")),c=a("T89o"),f=n(a("3A/8")),d=a("FvIY"),p=a("l8Oe");function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,i.default)(e);if(t){var r=(0,i.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,o.default)(this,a)}}var h=function(e){(0,l.default)(a,e);var t=m(a);function a(){return(0,r.default)(this,a),t.apply(this,arguments)}return(0,u.default)(a,[{key:"render",value:function(){var e=this.props,t=e.project,a=e.active,n=e.onClick,r=e.connectDropTarget,u=e.isOver,l=e.canDrop;return r(s.default.createElement("div",null,s.default.createElement(d.Menu.Item,{className:"e2e-idea-manager-project-filter-item",active:a||u&&l,onClick:n},s.default.createElement(f.default,{value:t.attributes.title_multiloc}))))}}]),a}(s.default.PureComponent),v=(0,c.flow)([(0,p.DropTarget)("IDEA",{drop:function(e){return{type:"project",id:e.project.id}}},(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),canDrop:t.canDrop()}}))])(h);t.default=v},y5aj:function(e,t,a){"use strict";a("SuFq");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("o0o1"));a("ma9I"),a("sMBO"),a("yWo2");var u=n(a("yXPU")),l=n(a("lwsE")),o=n(a("W8MJ")),i=n(a("PJYZ")),s=n(a("7W2i")),c=n(a("a1gu")),f=n(a("Nsbk")),d=n(a("lSNA")),p=n(a("q1tI")),m=n(a("2fl8")),h=a("96Cm"),v=n(a("1R3D")),g=a("Rw3A"),y=a("MCLT"),P=a("QyKF"),b=a("p0gT"),C=a("KuRP"),E=n(a("f2mI")),I=a("Iab2"),x=a("bQOE");function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,c.default)(this,a)}}var S=function(e){(0,s.default)(a,e);var t=k(a);function a(e){var n;return(0,l.default)(this,a),n=t.call(this,e),(0,d.default)((0,i.default)(n),"handleExportIdeas",(0,u.default)(r.default.mark((function e(){var t,a,u,l,o,i,s;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,a=t.exportQueryParameter,u=t.intl,l=u.formatDate,o=u.formatMessage,i={},(0,y.isString)(a)&&"all"!==a?i.project=a:(0,y.isString)(a)||(i.ideas=a),e.prev=3,n.setState({exporting:!0}),e.next=7,(0,P.requestBlob)("".concat(b.API_PATH,"/ideas/as_xlsx"),"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",i);case 7:s=e.sent,(0,I.saveAs)(s,"".concat(o(v.default.inputsExportFileName),"_").concat(l(Date.now()),".xlsx")),n.setState({exporting:!1}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),(0,x.reportError)(e.t0),n.setState({exporting:!1});case 16:(0,C.trackEventByName)(E.default.clickExportIdeas.name);case 17:case"end":return e.stop()}}),e,null,[[3,12]])})))),n.state={exporting:!1},n}return(0,o.default)(a,[{key:"render",value:function(){var e=this.props.exportType,t=this.state.exporting;return p.default.createElement(m.default,{buttonStyle:"text",onClick:this.handleExportIdeas,processing:t,padding:"0",fontSize:"".concat(h.fontSizes.small,"px")},"all"===e&&p.default.createElement(g.FormattedMessage,v.default.exportAllInputs),"project"===e&&p.default.createElement(g.FormattedMessage,v.default.exportInputsProjects),"selected_posts"===e&&p.default.createElement(g.FormattedMessage,v.default.exportSelectedInputs))}}]),a}(p.default.PureComponent),R=(0,g.injectIntl)(S);t.default=R}}]);
//# sourceMappingURL=13.53e6646109d84282db89.chunk.js.map