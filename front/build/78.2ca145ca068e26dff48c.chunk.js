(window.webpackJsonp=window.webpackJsonp||[]).push([[78],{"1gF2":function(e,t,n){"use strict";n("SuFq");var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("ma9I");var r=a(n("lwsE")),i=a(n("W8MJ")),o=a(n("PJYZ")),l=a(n("7W2i")),u=a(n("a1gu")),s=a(n("Nsbk")),c=a(n("lSNA")),d=a(n("q1tI")),f=a(n("vOnD")),p=n("p0gT"),m=a(n("IiUL")),g=a(n("QyKF"));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,s.default)(e);if(t){var r=(0,s.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}var v=(0,f.default)(m.default).withConfig({displayName:"PreviewFrame__StyledFrame",componentId:"sc-1b3ay6o-0"})(["border-radius:",";border:1px solid ",";width:100%;height:450px;"],(function(e){return e.theme.borderRadius}),(function(e){return e.theme.colors.separation})),C=function(e){(0,l.default)(n,e);var t=h(n);function n(e){var a;return(0,r.default)(this,n),a=t.call(this,e),(0,c.default)((0,o.default)(a),"iframeNode",void 0),a.state={previewHtml:void 0},a}return(0,i.default)(n,[{key:"componentDidMount",value:function(){var e=this;(0,g.default)("".concat(p.API_PATH,"/campaigns/").concat(this.props.campaignId,"/preview"),null,null,null).then((function(t){e.setState({previewHtml:t.html})}))}},{key:"render",value:function(){var e=this.state.previewHtml,t=this.props.className;return e?d.default.createElement(v,{id:"e2e-email-preview-iframe",className:t,initialContent:e}):null}}]),n}(d.default.Component);t.default=C},"49vD":function(e,t,n){"use strict";n("TeQF"),n("SuFq");var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("FZtP");var r=a(n("lwsE")),i=a(n("W8MJ")),o=a(n("PJYZ")),l=a(n("7W2i")),u=a(n("a1gu")),s=a(n("Nsbk")),c=a(n("lSNA")),d=a(n("q1tI")),f=n("T89o"),p=n("DtyJ"),m=n("ahDk"),g=a(n("aTp4")),h=n("ghxK"),v=n("KLnl");function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,s.default)(e);if(t){var r=(0,s.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}var y=function(e){(0,l.default)(n,e);var t=C(n);function n(e){var a;return(0,r.default)(this,n),a=t.call(this,e),(0,c.default)((0,o.default)(a),"inputProps$",void 0),(0,c.default)((0,o.default)(a),"subscriptions",void 0),a.state={campaign:void 0},a}return(0,i.default)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.id;this.inputProps$=new p.BehaviorSubject({id:t}),this.subscriptions=[this.inputProps$.pipe((0,m.distinctUntilChanged)((function(e,t){return(0,g.default)(e,t)})),(0,m.filter)((function(e){var t=e.id;return(0,f.isString)(t)})),(0,m.switchMap)((function(e){var t=e.id;return(0,h.campaignByIdStream)(t).observable}))).subscribe((function(t){return e.setState({campaign:(0,v.isNilOrError)(t)?t:t.data})}))]}},{key:"componentDidUpdate",value:function(){var e=this.props.id;this.inputProps$.next({id:e})}},{key:"componentWillUnmount",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"render",value:function(){return(0,this.props.children)(this.state.campaign)}}]),n}(d.default.Component);t.default=y},"6wnE":function(e,t,n){"use strict";n("SuFq"),n("4mDm"),n("07d7"),n("PKPk"),n("ENF9"),n("3bBZ"),n("5DmW");var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("pVnL")),o=a(n("lwsE")),l=a(n("W8MJ")),u=a(n("PJYZ")),s=a(n("7W2i")),c=a(n("a1gu")),d=a(n("Nsbk")),f=a(n("lSNA"));n("yWo2"),n("ma9I"),n("2B1R");var p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=i?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(a,o,l):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n("q1tI")),m=a(n("vOnD")),g=n("96Cm"),h=a(n("DwpT")),v=n("KLnl"),C=a(n("bd4U")),y=n("Rw3A"),b=n("JRPe"),w=n("iP56");function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}var P=m.default.div.withConfig({displayName:"CampaignStats__Container",componentId:"kap8xn-0"})(["display:flex;align-items:stretch;margin:0px -5px;height:130px;"]),S=m.default.div.withConfig({displayName:"CampaignStats__GraphCard",componentId:"kap8xn-1"})(["display:flex;flex-direction:column;border:solid 1px ",";border-radius:",";background:",";margin:5px;justify-content:space-around;flex-grow:1;align-items:center;"],g.colors.adminBorder,(function(e){return e.theme.borderRadius}),g.colors.adminContentBackground),_=m.default.div.withConfig({displayName:"CampaignStats__GraphCardPercentage",componentId:"kap8xn-2"})(["font-size:",";color:",";"],g.fontSizes.small,g.colors.adminSecondaryTextColor),O=m.default.h3.withConfig({displayName:"CampaignStats__GraphCardTitle",componentId:"kap8xn-3"})(["display:flex;font-size:","px;color:",";font-weight:400;margin:0;& >:not(last-child){margin-right:7px;}"],g.fontSizes.large,g.colors.adminSecondaryTextColor),D=m.default.div.withConfig({displayName:"CampaignStats__GraphCardCount",componentId:"kap8xn-4"})(["font-size:","px;"],g.fontSizes.xl),k=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;(0,o.default)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return e=t.call.apply(t,[this].concat(r)),(0,f.default)((0,u.default)(e),"relevantsStats",["sent","delivered","opened","clicked"]),e}return(0,l.default)(n,[{key:"render",value:function(){var e=this.props,t=e.stats,n=e.className;return(0,v.isNilOrError)(t)?null:p.createElement(P,{className:n},p.createElement(S,{key:"failed"},p.createElement(_,null,p.createElement(b.FormattedNumber,{style:"percent",value:(t.failed+t.bounced)/t.total})),p.createElement(D,null,t.failed+t.bounced),p.createElement(O,null,p.createElement(y.FormattedMessage,C.default.deliveryStatus_failed))),this.relevantsStats.map((function(e){return p.createElement(S,{key:e},p.createElement(_,null,t[e]),p.createElement(D,null,p.createElement(b.FormattedNumber,{style:"percent",value:t[e]/t.total})),p.createElement(O,null,p.createElement(y.FormattedMessage,C.default["deliveryStatus_".concat(e)]),"clicked"===e&&p.createElement(w.IconTooltip,{content:p.createElement(y.FormattedMessage,C.default.deliveryStatus_clickedTooltip)})))})))}}]),n}(p.Component);t.default=function(e){return p.createElement(h.default,{campaignId:e.campaignId},(function(t){return p.createElement(k,(0,i.default)({},e,{stats:t}))}))}},"9nmK":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n("q1tI"),i=(o(r),o(n("17x9")));function o(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){return l(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){this.props.contentDidMount()}},{key:"componentDidUpdate",value:function(){this.props.contentDidUpdate()}},{key:"render",value:function(){return r.Children.only(this.props.children)}}]),t}(r.Component);s.propTypes={children:i.default.element.isRequired,contentDidMount:i.default.func.isRequired,contentDidUpdate:i.default.func.isRequired},t.default=s},DwpT:function(e,t,n){"use strict";n("TeQF"),n("SuFq");var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("FZtP");var r=a(n("lwsE")),i=a(n("W8MJ")),o=a(n("PJYZ")),l=a(n("7W2i")),u=a(n("a1gu")),s=a(n("Nsbk")),c=a(n("lSNA")),d=a(n("q1tI")),f=n("T89o"),p=n("DtyJ"),m=n("ahDk"),g=a(n("aTp4")),h=n("ghxK");function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,s.default)(e);if(t){var r=(0,s.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}var C=function(e){(0,l.default)(n,e);var t=v(n);function n(e){var a;return(0,r.default)(this,n),a=t.call(this,e),(0,c.default)((0,o.default)(a),"inputProps$",void 0),(0,c.default)((0,o.default)(a),"subscriptions",void 0),a.state={stats:void 0},a}return(0,i.default)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.campaignId;this.inputProps$=new p.BehaviorSubject({campaignId:t}),this.subscriptions=[this.inputProps$.pipe((0,m.distinctUntilChanged)((function(e,t){return(0,g.default)(e,t)})),(0,m.filter)((function(e){var t=e.campaignId;return(0,f.isString)(t)})),(0,m.switchMap)((function(e){var t=e.campaignId;return(0,h.getCampaignStats)(t).observable}))).subscribe((function(t){return e.setState({stats:t})}))]}},{key:"componentDidUpdate",value:function(){var e=this.props.campaignId;this.inputProps$.next({campaignId:e})}},{key:"componentWillUnmount",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"render",value:function(){return(0,this.props.children)(this.state.stats)}}]),n}(d.default.Component);t.default=C},EkNC:function(e,t,n){"use strict";n("SuFq"),n("4mDm"),n("07d7"),n("PKPk"),n("ENF9"),n("3bBZ"),n("5DmW");var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("ma9I"),n("2B1R");var i=a(n("pVnL")),o=a(n("lwsE")),l=a(n("W8MJ")),u=a(n("PJYZ")),s=a(n("7W2i")),c=a(n("a1gu")),d=a(n("Nsbk")),f=a(n("lSNA")),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=i?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(a,o,l):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n("q1tI")),m=a(n("vOnD")),g=a(n("JUYq")),h=n("dtw8"),v=n("ifvJ"),C=n("ghxK"),y=a(n("49vD")),b=a(n("YFEu")),w=a(n("YLV/")),E=a(n("yYlr")),M=n("Rw3A"),P=a(n("bd4U")),S=a(n("V3HD")),_=a(n("2fl8")),O=n("iP56"),D=a(n("bA6q")),k=a(n("yNHU")),T=a(n("3A/8")),x=a(n("1hFV")),R=a(n("POrw")),j=n("KLnl"),A=n("96Cm");function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}var I=m.default.div.withConfig({displayName:"Show__Container",componentId:"sc-1cdtq40-0"})([""]),B=m.default.div.withConfig({displayName:"Show__PageHeader",componentId:"sc-1cdtq40-1"})(["display:flex;margin-bottom:20px;"]),q=m.default.div.withConfig({displayName:"Show__CampaignHeader",componentId:"sc-1cdtq40-2"})(["display:flex;padding:20px 0;border-top:1px solid #d8d8d8;border-bottom:1px solid #d8d8d8;margin-bottom:20px;"]),W=(0,m.default)(R.default).withConfig({displayName:"Show__StampIcon",componentId:"sc-1cdtq40-3"})(["margin-right:20px;"]),U=m.default.div.withConfig({displayName:"Show__FromTo",componentId:"sc-1cdtq40-4"})(["display:flex;flex-direction:column;justify-content:space-between;font-size:","px;margin-right:auto;"],A.fontSizes.base),L=m.default.span.withConfig({displayName:"Show__FromToHeader",componentId:"sc-1cdtq40-5"})(["font-weight:bold;"]),H=m.default.button.withConfig({displayName:"Show__SendTestEmailButton",componentId:"sc-1cdtq40-6"})(["text-decoration:underline;font-size:","px;cursor:pointer;"],A.fontSizes.base),J=m.default.div.withConfig({displayName:"Show__StyledButtonContainer",componentId:"sc-1cdtq40-7"})(["margin-bottom:30px;display:flex;align-items:center;"]),V=m.default.div.withConfig({displayName:"Show__PageTitleWrapper",componentId:"sc-1cdtq40-8"})(["display:flex;align-items:center;margin-right:auto;"]),z=m.default.h1.withConfig({displayName:"Show__PageTitle",componentId:"sc-1cdtq40-9"})(["margin-bottom:0;margin-right:1rem;font-weight:600;"]),Z=m.default.div.withConfig({displayName:"Show__Buttons",componentId:"sc-1cdtq40-10"})(["display:flex;justify-content:flex-end;& > *{padding:0 10px;}"]),K=m.default.a.withConfig({displayName:"Show__GroupLink",componentId:"sc-1cdtq40-11"})(["color:inherit;cursor:pointer;&:hover{text-decoration:underline;}"]),$=m.default.div.withConfig({displayName:"Show__ButtonsWrapper",componentId:"sc-1cdtq40-12"})(["display:flex;justify-content:flex-start;flex-wrap:wrap;width:100%;.Button{margin-right:1rem;margin-bottom:0.5rem;}"]),Y=m.default.div.withConfig({displayName:"Show__ModalContainer",componentId:"sc-1cdtq40-13"})(["padding:30px;"]),G=m.default.div.withConfig({displayName:"Show__SendNowWarning",componentId:"sc-1cdtq40-14"})(["font-size:","px;margin-bottom:30px;"],A.fontSizes.base),Q=function(e){(0,s.default)(n,e);var t=F(n);function n(e){var a;return(0,o.default)(this,n),a=t.call(this,e),(0,f.default)((0,u.default)(a),"handleSend",(function(e){return function(){e?a.openSendConfirmationModal():(0,C.sendCampaign)(a.props.campaign.id)}})),(0,f.default)((0,u.default)(a),"handleSendTestEmail",(function(){(0,C.sendCampaignPreview)(a.props.campaign.id).then((function(){var e=a.props.intl.formatMessage(P.default.previewSentConfirmation);window.alert(e)}))})),(0,f.default)((0,u.default)(a),"handleGroupLinkClick",(function(e){return function(t){t.preventDefault(),e?g.default.push("/admin/users/".concat(e)):g.default.push("/admin/users")}})),(0,f.default)((0,u.default)(a),"getSenderName",(function(e){var t=a.props,n=t.user,r=t.tenant,i=t.localize,o=null;return"author"!==e||(0,j.isNilOrError)(n)?"organization"!==e||(0,j.isNilOrError)(r)||(o=i(r.attributes.settings.core.organization_name)):o="".concat(n.attributes.first_name," ").concat(n.attributes.last_name),o})),(0,f.default)((0,u.default)(a),"openSendConfirmationModal",(function(){a.setState({showSendConfirmationModal:!0})})),(0,f.default)((0,u.default)(a),"closeSendConfirmationModal",(function(){a.setState({showSendConfirmationModal:!1})})),(0,f.default)((0,u.default)(a),"confirmSendCampaign",(function(e){return function(){(0,C.sendCampaign)(e).then((function(){a.closeSendConfirmationModal()}))}})),a.state={showSendConfirmationModal:!1},a}return(0,l.default)(n,[{key:"render",value:function(){var e=this,t=this.props.campaign,n=this.state.showSendConfirmationModal;if(t){var a=t.relationships.groups.data.map((function(e){return e.id})),r=t.attributes.sender,i=this.getSenderName(r),o=0===a.length;return p.createElement(I,{id:"e2e-custom-email-container"},p.createElement(B,null,p.createElement(V,null,p.createElement(z,null,p.createElement(T.default,{value:t.attributes.subject_multiloc})),(0,C.isDraft)(t)?p.createElement(O.StatusLabel,{backgroundColor:"draftYellow",text:p.createElement(M.FormattedMessage,P.default.draft)}):p.createElement(O.StatusLabel,{backgroundColor:"clGreenSuccess",text:p.createElement(M.FormattedMessage,P.default.sent)})),(0,C.isDraft)(t)&&p.createElement(Z,null,p.createElement(_.default,{linkTo:"/admin/emails/custom/".concat(t.id,"/edit"),buttonStyle:"secondary"},p.createElement(M.FormattedMessage,P.default.editButtonLabel)),p.createElement(_.default,{buttonStyle:"admin-dark",icon:"send",iconPos:"right",onClick:this.handleSend(o)},p.createElement(M.FormattedMessage,P.default.send)))),p.createElement(q,null,p.createElement(W,null),p.createElement(U,null,p.createElement("div",null,p.createElement(L,null,p.createElement(M.FormattedMessage,P.default.campaignFrom)," "),p.createElement("span",null,i)),p.createElement("div",null,p.createElement(L,null,p.createElement(M.FormattedMessage,P.default.campaignTo)," "),o&&p.createElement(K,{onClick:this.handleGroupLinkClick()},this.props.intl.formatMessage(P.default.allUsers)),a.map((function(t,n){return p.createElement(b.default,{key:t,id:t},(function(r){return n<a.length-1?p.createElement(K,{onClick:e.handleGroupLinkClick(t)},!(0,j.isNilOrError)(r)&&e.props.localize(r.attributes.title_multiloc),","," "):p.createElement(K,{onClick:e.handleGroupLinkClick(t)},!(0,j.isNilOrError)(r)&&e.props.localize(r.attributes.title_multiloc))}))})))),(0,C.isDraft)(t)&&p.createElement(J,null,p.createElement(H,{onClick:this.handleSendTestEmail},p.createElement(M.FormattedMessage,P.default.sendTestEmailButton))," ",p.createElement(O.IconTooltip,{content:p.createElement(M.FormattedMessage,P.default.sendTestEmailTooltip)}))),(0,C.isDraft)(t)?p.createElement(D.default,{campaignId:t.id}):p.createElement(k.default,{campaignId:t.id}),p.createElement(x.default,{opened:n,close:this.closeSendConfirmationModal,header:p.createElement(M.FormattedMessage,P.default.confirmSendHeader)},p.createElement(Y,null,p.createElement(G,null,p.createElement(M.FormattedMessage,P.default.toAllUsers)),p.createElement($,null,p.createElement(_.default,{buttonStyle:"secondary",linkTo:"/admin/emails/custom/".concat(t.id,"/edit")},p.createElement(M.FormattedMessage,P.default.changeRecipientsButton)),p.createElement(_.default,{buttonStyle:"primary",onClick:this.confirmSendCampaign(this.props.campaign.id),icon:"send",iconPos:"right"},p.createElement(M.FormattedMessage,P.default.sendNowButton))))))}return null}}]),n}(p.Component),X=(0,v.adopt)({campaign:function(e){var t=e.params,n=e.render;return p.createElement(y.default,{id:t.campaignId},n)},user:function(e){var t=e.render;return p.createElement(w.default,null,t)},tenant:function(e){var t=e.render;return p.createElement(E.default,null,t)}}),ee=(0,M.injectIntl)((0,S.default)(Q)),te=(0,h.withRouter)((function(e){return p.createElement(X,e,(function(t){return p.createElement(ee,(0,i.default)({},e,t))}))}));t.default=te},IiUL:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFrame=t.FrameContextConsumer=t.FrameContext=void 0;var a=n("Z6fC");Object.defineProperty(t,"FrameContext",{enumerable:!0,get:function(){return a.FrameContext}}),Object.defineProperty(t,"FrameContextConsumer",{enumerable:!0,get:function(){return a.FrameContextConsumer}}),Object.defineProperty(t,"useFrame",{enumerable:!0,get:function(){return a.useFrame}});var r,i=n("c+H2"),o=(r=i)&&r.__esModule?r:{default:r};t.default=o.default},MzTH:function(e,t,n){"use strict";n("SuFq");var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("oVuX"),n("2B1R");var r=a(n("pVnL")),i=a(n("lwsE")),o=a(n("W8MJ")),l=a(n("7W2i")),u=a(n("a1gu")),s=a(n("Nsbk")),c=a(n("q1tI")),d=a(n("PYFw")),f=n("KLnl"),p=n("gzy/"),m=a(n("PC5P")),g=n("iP56"),h=n("Rw3A"),v=a(n("bd4U")),C=a(n("TWBN")),y=a(n("Qs0S"));function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,s.default)(e);if(t){var r=(0,s.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}var w={sent:"lightGreyishBlue",bounced:"clRedError",failed:"clRedError",accepted:"lightGreyishBlue",delivered:"clBlueLight",opened:"clGreenSuccess",clicked:"clGreenSuccess"},E=function(e){(0,l.default)(n,e);var t=b(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,o.default)(n,[{key:"render",value:function(){var e=this.props,t=e.deliveries,n=e.className,a=e.currentPage,r=e.lastPage;return(0,f.isNilOrError)(t)?null:c.default.createElement(p.List,{className:n,key:t.map((function(e){return e.id})).join()},t.map((function(e){return c.default.createElement(p.Row,{key:e.id},c.default.createElement(m.default,{id:e.relationships.user.data.id},(function(t){return(0,f.isNilOrError)(t)?null:c.default.createElement(c.default.Fragment,null,c.default.createElement(p.TextCell,null,c.default.createElement(y.default,{userId:t.id,size:30})),c.default.createElement(p.TextCell,null,t.attributes.first_name," ",t.attributes.last_name),c.default.createElement(p.TextCell,{className:"expand"},t.attributes.email),c.default.createElement(g.StatusLabel,{backgroundColor:w[e.attributes.delivery_status],text:c.default.createElement(h.FormattedMessage,v.default["deliveryStatus_".concat(e.attributes.delivery_status)])}))})))})),c.default.createElement(C.default,{currentPage:a,totalPages:r,loadPage:this.props.onChangePage}))}}]),n}(c.default.PureComponent);t.default=function(e){return c.default.createElement(d.default,{campaignId:e.campaignId,pageSize:15},(function(t){return c.default.createElement(E,(0,r.default)({},e,t))}))}},PC5P:function(e,t,n){"use strict";n("SuFq");var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("FZtP");var r=a(n("lwsE")),i=a(n("W8MJ")),o=a(n("PJYZ")),l=a(n("7W2i")),u=a(n("a1gu")),s=a(n("Nsbk")),c=a(n("lSNA")),d=a(n("q1tI")),f=n("T89o"),p=n("DtyJ"),m=n("ahDk"),g=a(n("aTp4")),h=n("Dsgy"),v=n("KLnl");function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,s.default)(e);if(t){var r=(0,s.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}var y=function(e){(0,l.default)(n,e);var t=C(n);function n(e){var a;return(0,r.default)(this,n),a=t.call(this,e),(0,c.default)((0,o.default)(a),"inputProps$",void 0),(0,c.default)((0,o.default)(a),"subscriptions",void 0),a.state={user:void 0},a}return(0,i.default)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.id,a=t.slug,r=t.resetOnChange;this.inputProps$=new p.BehaviorSubject({id:n,slug:a}),this.subscriptions=[this.inputProps$.pipe((0,m.distinctUntilChanged)((function(e,t){return(0,g.default)(e,t)})),(0,m.tap)((function(){return r&&e.setState({user:void 0})})),(0,m.switchMap)((function(e){var t=e.id,n=e.slug;return(0,f.isString)(t)?(0,h.userByIdStream)(t).observable:(0,f.isString)(n)?(0,h.userBySlugStream)(n).observable:(0,p.of)(null)}))).subscribe((function(t){e.setState({user:(0,v.isNilOrError)(t)?t:t.data})}))]}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.id,n=e.slug;this.inputProps$.next({id:t,slug:n})}},{key:"componentWillUnmount",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"render",value:function(){return(0,this.props.children)(this.state.user)}}]),n}(d.default.Component);t.default=y,(0,c.default)(y,"defaultProps",{resetOnChange:!0})},POrw:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("q1tI"));t.default=function(e){var t=e.className,n=e.title;return r.default.createElement("svg",{className:"cl-icon ".concat(t||""),width:"47",height:"48",viewBox:"0 0 47 48",fill:"none"},n?r.default.createElement("title",null,n):null,r.default.createElement("path",{d:"M28.7133 19.2C26.1468 19.2 24.7031 18.08 23.5802 16.96C22.4573 16 21.4949 15.2 19.4096 15.2C17.3242 15.2 16.3618 16 15.2389 16.96C13.9556 17.92 12.5119 19.2 9.94539 19.2C7.37884 19.2 6.09556 18.08 4.9727 16.96C3.84983 16 2.88737 15.2 0.802048 15.2C0.16041 15.2 0 14.88 0 14.4C0 13.92 0.320819 13.6 0.802048 13.6C3.3686 13.6 4.81229 14.72 5.93515 15.84C7.05802 16.8 8.02048 17.6 10.1058 17.6C12.1911 17.6 13.1536 16.8 14.2764 15.84C15.3993 14.88 16.843 13.6 19.4096 13.6C21.9761 13.6 23.4198 14.72 24.5427 15.84C25.6655 16.8 26.628 17.6 28.7133 17.6C29.1945 17.6 29.5154 17.92 29.5154 18.4C29.5154 18.88 29.1945 19.2 28.7133 19.2Z",fill:"#D8D8D8"}),r.default.createElement("path",{d:"M28.7133 27.2C26.1468 27.2 24.7031 26.08 23.5802 24.96C22.4573 24 21.4949 23.2 19.4096 23.2C17.3242 23.2 16.3618 24 15.2389 24.96C14.116 25.92 12.6724 27.2 10.1058 27.2C7.53925 27.2 6.09556 26.08 4.9727 24.96C3.84983 24 2.88737 23.2 0.802048 23.2C0.320819 23.2 0 22.88 0 22.4C0 21.92 0.320819 21.6 0.802048 21.6C3.3686 21.6 4.81229 22.72 5.93515 23.84C7.05802 24.8 8.02048 25.6 10.1058 25.6C12.1911 25.6 13.1536 24.8 14.2764 23.84C15.3993 22.88 16.843 21.6 19.4096 21.6C21.9761 21.6 23.4198 22.72 24.5427 23.84C25.6655 24.8 26.628 25.6 28.7133 25.6C29.1945 25.6 29.5154 25.92 29.5154 26.4C29.5154 26.88 29.1945 27.2 28.7133 27.2Z",fill:"#D8D8D8"}),r.default.createElement("path",{d:"M28.7133 35.2C26.1468 35.2 24.7031 34.08 23.5802 32.96C22.4573 32 21.4949 31.2 19.4096 31.2C17.3242 31.2 16.3618 32 15.2389 32.96C14.116 33.92 12.6724 35.2 10.1058 35.2C7.53925 35.2 6.09556 34.08 4.9727 32.96C3.84983 32 2.88737 31.2 0.802048 31.2C0.320819 31.2 0 30.88 0 30.4C0 29.92 0.320819 29.6 0.802048 29.6C3.3686 29.6 4.81229 30.72 5.93515 31.84C7.05802 32.8 8.02048 33.6 10.1058 33.6C12.1911 33.6 13.1536 32.8 14.2764 31.84C15.3993 30.88 16.843 29.6 19.4096 29.6C21.9761 29.6 23.4198 30.72 24.5427 31.84C25.6655 32.8 26.628 33.6 28.7133 33.6C29.1945 33.6 29.5154 33.92 29.5154 34.4C29.5154 34.88 29.1945 35.2 28.7133 35.2Z",fill:"#D8D8D8"}),r.default.createElement("path",{d:"M17.6451 20.16V17.28C17.3243 17.44 16.8431 17.76 16.3619 18.24C15.5598 19.04 14.437 19.84 12.6724 20.48C12.512 21.44 12.1912 22.4 11.3892 23.04C11.3892 23.04 11.2288 23.36 11.2288 23.52V23.84C12.0308 23.68 12.512 23.2 13.3141 22.56C14.2765 21.76 15.5598 20.64 17.6451 20.16Z",fill:"#D8D8D8"}),r.default.createElement("path",{d:"M28.8736 20.8C25.6654 20.8 23.9009 19.36 22.6176 18.24C21.4948 17.28 21.0135 16.8 19.5698 16.8C19.4094 16.8 19.4094 16.8 19.249 16.8V20C19.4094 20 19.4094 20 19.5698 20C22.778 20 24.5425 21.44 25.8258 22.56C26.9487 23.52 27.4299 24 28.8736 24C30.1569 24 31.2797 25.12 31.2797 26.4C31.2797 27.68 30.1569 28.8 28.8736 28.8C25.6654 28.8 23.9009 27.36 22.6176 26.24C21.4948 25.28 21.0135 24.8 19.5698 24.8C19.4094 24.8 19.4094 24.8 19.249 24.8V28C19.4094 28 19.4094 28 19.5698 28C22.778 28 24.5425 29.44 25.8258 30.56C26.9487 31.52 27.4299 32 28.8736 32C30.1569 32 31.2797 33.12 31.2797 34.4C31.2797 35.68 29.9965 36.8 28.8736 36.8C25.6654 36.8 23.9009 35.36 22.6176 34.24C21.4948 33.28 21.0135 32.8 19.5698 32.8C19.4094 32.8 19.4094 32.8 19.249 32.8V40H38.4982V8H19.249V12C19.4094 12 19.4094 12 19.5698 12C22.778 12 24.5425 13.44 25.8258 14.56C26.9487 15.52 27.4299 16 28.8736 16C30.1569 16 31.2797 17.12 31.2797 18.4C31.2797 19.68 29.9965 20.8 28.8736 20.8Z",fill:"#D8D8D8"}),r.default.createElement("path",{d:"M17.6451 28.16V25.28C17.3243 25.44 16.8431 25.76 16.3619 26.24C15.5598 27.04 14.437 27.84 12.6724 28.48C12.512 29.44 12.1912 30.4 11.3892 31.04C11.3892 31.04 11.2288 31.36 11.2288 31.52V31.84C12.0308 31.68 12.512 31.2 13.3141 30.56C14.2765 29.76 15.5598 28.64 17.6451 28.16Z",fill:"#D8D8D8"}),r.default.createElement("path",{d:"M46.3582 8.48V7.52C46.3582 7.36 46.1978 7.04 46.0374 6.88C45.2353 6.24 44.7541 5.12 44.7541 4C44.7541 3.04 45.0749 2.08 45.877 1.28C46.0374 1.12 46.1978 0.64 46.0374 0.48C45.877 0.16 45.7166 0 45.2353 0H44.2729C44.1125 0 43.7917 0.16 43.6313 0.32C42.0272 2.08 39.3002 2.08 37.6961 0.32C37.8565 0.16 37.5357 0 37.2149 0H36.2524C36.092 0 35.7712 0.16 35.6108 0.32C34.0067 2.08 31.2797 2.08 29.6756 0.32C29.836 0.16 29.5152 0 29.1944 0H28.2319C28.0715 0 27.7507 0.16 27.5903 0.32C25.9862 2.08 23.2592 2.08 21.6551 0.32C21.8156 0.16 21.4947 0 21.1739 0H20.2115C20.051 0 19.7302 0.16 19.5698 0.32C17.9657 2.08 15.2388 2.08 13.6347 0.32C13.6347 0.16 13.3138 0 13.1534 0H12.191C11.8702 0 11.5493 0.16 11.5493 0.48C11.3889 0.8 11.5493 1.12 11.7098 1.28C12.3514 2.08 12.6722 3.04 12.6722 4C12.6722 5.12 12.191 6.24 11.3889 6.88C11.2285 7.04 11.0681 7.36 11.0681 7.52V8.48C11.0681 8.64 11.2285 8.96 11.3889 9.12C12.191 9.76 12.6722 10.88 12.6722 12C12.6722 13.12 12.191 14.24 11.3889 14.88C11.2285 15.04 11.0681 15.36 11.0681 15.52V15.84C11.8702 15.68 12.3514 15.2 13.1534 14.56C14.1159 13.76 15.3992 12.64 17.4845 12.16V7.2C17.4845 6.72 17.8053 6.4 18.2865 6.4H39.1398C39.621 6.4 39.9418 6.72 39.9418 7.2V40.8C39.9418 41.28 39.621 41.6 39.1398 41.6H18.2865C17.8053 41.6 17.4845 41.28 17.4845 40.8V33.28C17.1637 33.44 16.6824 33.76 16.2012 34.24C15.3992 35.04 14.2763 35.84 12.5118 36.48C12.3514 37.44 12.0306 38.4 11.2285 39.04C11.2285 39.04 11.0681 39.36 11.0681 39.52V40.48C11.0681 40.64 11.2285 40.96 11.3889 41.12C12.191 41.76 12.6722 42.88 12.6722 44C12.6722 44.96 12.3514 45.92 11.5493 46.72C11.3889 46.88 11.2285 47.36 11.3889 47.52C11.5493 47.84 11.8702 48 12.191 48H13.1534C13.3138 48 13.6347 47.84 13.7951 47.68C15.3992 45.92 18.1261 45.92 19.7302 47.68C19.7302 47.84 20.051 48 20.2115 48H21.1739C21.3343 48 21.6551 47.84 21.8156 47.68C23.4197 45.92 26.1466 45.92 27.7507 47.68C27.9111 47.84 28.0715 48 28.3923 48H29.3548C29.5152 48 29.836 47.84 29.9964 47.68C31.6005 45.92 34.3275 45.92 35.9316 47.68C36.092 47.84 36.2524 48 36.5732 48H37.5357C37.6961 48 38.0169 47.84 38.1773 47.68C39.7814 45.92 42.5084 45.92 44.1125 47.68C44.2729 47.84 44.4333 48 44.7541 48H45.877C46.1978 48 46.5186 47.84 46.679 47.52C46.8394 47.2 46.679 46.88 46.5186 46.72C45.877 45.92 45.3958 44.96 45.3958 44C45.3958 42.88 45.877 41.76 46.679 41.12C46.8394 40.96 46.9999 40.8 46.9999 40.48V39.52C46.9999 39.36 46.8394 39.04 46.679 38.88C45.877 38.08 45.3958 37.12 45.3958 36C45.3958 34.88 45.877 33.76 46.679 33.12C46.8394 32.96 46.9999 32.8 46.9999 32.48V31.52C46.9999 31.36 46.8394 31.04 46.679 30.88C45.877 30.08 45.3958 29.12 45.3958 28C45.3958 26.88 45.877 25.76 46.679 25.12C46.8394 24.96 46.9999 24.8 46.9999 24.48V23.52C46.9999 23.36 46.8394 23.04 46.679 22.88C45.877 22.08 45.3958 21.12 45.3958 20C45.3958 18.88 45.877 17.76 46.679 17.12C46.8394 16.96 46.9999 16.8 46.9999 16.48V15.52C46.9999 15.36 46.8394 15.04 46.679 14.88C45.3958 14.24 44.9145 13.12 44.9145 12C44.9145 10.88 45.3958 9.76 46.1978 9.12C46.3582 8.96 46.3582 8.64 46.3582 8.48Z",fill:"#D8D8D8"}))}},PYFw:function(e,t,n){"use strict";n("2B1R"),n("SuFq"),n("tkto"),n("pNMO"),n("TeQF"),n("5DmW"),n("27RR");var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("FZtP");var r=a(n("J4zp")),i=a(n("lwsE")),o=a(n("W8MJ")),l=a(n("PJYZ")),u=a(n("7W2i")),s=a(n("a1gu")),c=a(n("Nsbk")),d=a(n("lSNA")),f=a(n("q1tI")),p=n("DtyJ"),m=n("ahDk"),g=a(n("aTp4")),h=n("ghxK"),v=n("KLnl"),C=n("ErwY");function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,d.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var E=function(e){(0,u.default)(n,e);var t=w(n);function n(e){var a;return(0,i.default)(this,n),a=t.call(this,e),(0,d.default)((0,l.default)(a),"inputProps$",void 0),(0,d.default)((0,l.default)(a),"pageChanges$",void 0),(0,d.default)((0,l.default)(a),"subscriptions",void 0),(0,d.default)((0,l.default)(a),"handleOnPageChange",(function(e){a.pageChanges$.next(e)})),a.state={deliveries:void 0,currentPage:1,lastPage:1},a}return(0,o.default)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.campaignId,a=t.pageNumber,i=t.pageSize;this.inputProps$=new p.BehaviorSubject({campaignId:n,pageSize:i}),this.pageChanges$=new p.BehaviorSubject(a||1),this.subscriptions=[(0,p.combineLatest)(this.inputProps$,this.pageChanges$).pipe((0,m.map)((function(e){var t=(0,r.default)(e,2),n=t[0],a=t[1];return b(b({},n),{},{pageNumber:a})})),(0,m.distinctUntilChanged)((function(e,t){return(0,g.default)(e,t)})),(0,m.switchMap)((function(e){var t=e.campaignId,n=e.pageSize,a=e.pageNumber;return t?(0,h.listCampaignDeliveries)(t,{queryParameters:{"page[size]":n,"page[number]":a}}).observable:(0,p.of)(null)}))).subscribe((function(t){e.setState({deliveries:(0,v.isNilOrError)(t)?t:t.data,currentPage:(0,C.getPageNumberFromUrl)(t&&t.links.self)||1,lastPage:(0,C.getPageNumberFromUrl)(t&&t.links.last)||1})}))]}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.campaignId,n=e.pageSize;this.inputProps$.next({campaignId:t,pageSize:n})}},{key:"componentWillUnmount",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"render",value:function(){return(0,this.props.children)(b(b({},this.state),{},{onChangePage:this.handleOnPageChange}))}}]),n}(f.default.Component);t.default=E},YFEu:function(e,t,n){"use strict";n("TeQF"),n("SuFq");var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("FZtP");var r=a(n("lwsE")),i=a(n("W8MJ")),o=a(n("PJYZ")),l=a(n("7W2i")),u=a(n("a1gu")),s=a(n("Nsbk")),c=a(n("lSNA")),d=a(n("q1tI")),f=n("T89o"),p=n("DtyJ"),m=n("ahDk"),g=a(n("aTp4")),h=n("K5jD"),v=n("KLnl");function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,s.default)(e);if(t){var r=(0,s.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}var y=function(e){(0,l.default)(n,e);var t=C(n);function n(e){var a;return(0,r.default)(this,n),a=t.call(this,e),(0,c.default)((0,o.default)(a),"inputProps$",void 0),(0,c.default)((0,o.default)(a),"subscriptions",void 0),a.state={group:void 0},a}return(0,i.default)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.id;this.inputProps$=new p.BehaviorSubject({id:t}),this.subscriptions=[this.inputProps$.pipe((0,m.distinctUntilChanged)((function(e,t){return(0,g.default)(e,t)})),(0,m.filter)((function(e){var t=e.id;return(0,f.isString)(t)})),(0,m.switchMap)((function(e){var t=e.id;return(0,h.getGroup)(t).observable}))).subscribe((function(t){return e.setState({group:(0,v.isNilOrError)(t)?t:t.data})}))]}},{key:"componentDidUpdate",value:function(){var e=this.props.id;this.inputProps$.next({id:e})}},{key:"componentWillUnmount",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"render",value:function(){return(0,this.props.children)(this.state.group)}}]),n}(d.default.Component);t.default=y},Z6fC:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FrameContextConsumer=t.FrameContextProvider=t.useFrame=t.FrameContext=void 0;var a,r=n("q1tI"),i=(a=r)&&a.__esModule?a:{default:a};var o=void 0,l=void 0;"undefined"!=typeof document&&(o=document),"undefined"!=typeof window&&(l=window);var u=t.FrameContext=i.default.createContext({document:o,window:l}),s=(t.useFrame=function(){return i.default.useContext(u)},u.Provider),c=u.Consumer;t.FrameContextProvider=s,t.FrameContextConsumer=c},bA6q:function(e,t,n){"use strict";n("SuFq"),n("4mDm"),n("07d7"),n("PKPk"),n("ENF9"),n("3bBZ"),n("5DmW");var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("ma9I");var i=a(n("pVnL")),o=a(n("lwsE")),l=a(n("W8MJ")),u=a(n("PJYZ")),s=a(n("7W2i")),c=a(n("a1gu")),d=a(n("Nsbk")),f=a(n("lSNA")),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=i?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(a,o,l):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n("q1tI")),m=n("ghxK"),g=a(n("JUYq")),h=n("Rw3A"),v=a(n("bd4U")),C=a(n("49vD")),y=n("KLnl"),b=a(n("2fl8")),w=a(n("1gF2"));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}var P=a(n("vOnD")).default.div.withConfig({displayName:"DraftCampaignDetails__ButtonWrapper",componentId:"bwzhpa-0"})(["margin:40px 0;display:flex;justify-content:flex-end;"]),S=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;(0,o.default)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return e=t.call.apply(t,[this].concat(r)),(0,f.default)((0,u.default)(e),"handleDelete",(function(){var t=e.props.intl.formatMessage(v.default.campaignDeletionConfirmation);window.confirm(t)&&(0,m.deleteCampaign)(e.props.campaign.id).then((function(){g.default.push("/admin/emails/custom")}))})),e}return(0,l.default)(n,[{key:"render",value:function(){var e=this.props.campaign;return p.createElement(p.Fragment,null,p.createElement(w.default,{campaignId:e.id}),p.createElement(P,null,p.createElement(b.default,{buttonStyle:"delete",icon:"trash",onClick:this.handleDelete},p.createElement(h.FormattedMessage,v.default.deleteCampaignButton))))}}]),n}(p.Component),_=(0,h.injectIntl)(S);t.default=function(e){return p.createElement(C.default,{id:e.campaignId},(function(t){return(0,y.isNilOrError)(t)?null:p.createElement(_,(0,i.default)({},e,{campaign:t}))}))}},bd4U:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(0,n("JRPe").defineMessages)({titleEmails:{id:"app.containers.Admin.emails.titleEmails",defaultMessage:"Email Campaigns"},subtitleEmails:{id:"app.containers.Admin.emails.subtitleEmails",defaultMessage:"Compose your own emails to be sent out to all users or to particular groups. And control what automated emails your users receive."},helmetTitle:{id:"app.containers.Admin.emails.helmetTitle",defaultMessage:"Email Campaigns"},helmetDescription:{id:"app.containers.Admin.emails.helmetDescription",defaultMessage:"Send out manual emails to certain citizen group and active automated campaigns"},campaignDeletionConfirmation:{id:"app.containers.Admin.emails.campaignDeletionConfirmation",defaultMessage:"Are you sure?"},addCampaignButton:{id:"app.containers.Admin.emails.addCampaignButton",defaultMessage:"Create campaign"},deleteButtonLabel:{id:"app.containers.Admin.emails.deleteButtonLabel",defaultMessage:"Delete"},statsButton:{id:"app.containers.Admin.emails.statsButton",defaultMessage:"Statistics"},editButtonLabel:{id:"app.containers.Admin.emails.editButtonLabel",defaultMessage:"Edit"},manageButtonLabel:{id:"app.containers.Admin.emails.manageButtonLabel",defaultMessage:"Manage & Edit & Preview & Delete"},fieldSender:{id:"app.containers.Admin.emails.fieldSender",defaultMessage:"From"},fieldSenderTooltip:{id:"app.containers.Admin.emails.fieldSenderTooltip",defaultMessage:"Choose whom users will see as the sender of the email."},fieldReplyTo:{id:"app.containers.Admin.emails.fieldReplyTo",defaultMessage:"Replies should go to"},fieldReplyToTooltip:{id:"app.containers.Admin.emails.fieldReplyToTooltip",defaultMessage:"Choose what email address should receive direct replies from users on your email."},fieldTo:{id:"app.containers.Admin.emails.fieldTo",defaultMessage:"To"},fieldToTooltip:{id:"app.containers.Admin.emails.fieldToTooltip",defaultMessage:"Choose the group(s) of users who will receive your email."},fieldSubject:{id:"app.containers.Admin.emails.fieldSubject",defaultMessage:"Email Subject"},fieldSubjectTooltip:{id:"app.containers.Admin.emails.fieldSubjectTooltip",defaultMessage:"This will be shown in the subject line of the email and in the user’s inbox overview. Make it clear and engaging."},fieldBody:{id:"app.containers.Admin.emails.fieldBody",defaultMessage:"Email Message"},addCampaignTitle:{id:"app.containers.Admin.emails.addCampaignTitle",defaultMessage:"New campaign"},editCampaignTitle:{id:"app.containers.Admin.emails.editCampaignTitle",defaultMessage:"Edit campaign"},draft:{id:"app.containers.Admin.emails.draft",defaultMessage:"Draft"},sent:{id:"app.containers.Admin.emails.sent",defaultMessage:"Sent"},sendNowButton:{id:"app.containers.Admin.emails.sendNowButton",defaultMessage:"Send now"},sendTestEmailButton:{id:"app.containers.Admin.emails.sendTestEmailButton",defaultMessage:"Send a preview"},sendTestEmailTooltip:{id:"app.containers.Admin.emails.sendTestEmailTooltip",defaultMessage:"Send this draft email to the email address with which you are logged in, to check how it looks like in ‘real life’."},previewSentConfirmation:{id:"app.containers.Admin.emails.previewSentConfirmation",defaultMessage:"A preview email has been sent to your email address"},formSaveButton:{id:"app.containers.Admin.emails.formSaveButton",defaultMessage:"Continue"},formErrorButton:{id:"app.containers.Admin.emails.formErrorButton",defaultMessage:"Continue"},formSuccessButton:{id:"app.containers.Admin.emails.formSuccessButton",defaultMessage:"Continue"},formSuccessMessage:{id:"app.containers.Admin.emails.formSuccessMessage",defaultMessage:"formSuccessMessage"},formErrorMessage:{id:"app.containers.Admin.emails.formErrorMessage",defaultMessage:"Please correct the errors above to continue"},formUnexpectedErrorMessage:{id:"app.containers.Admin.emails.formUnexpectedErrorMessage",defaultMessage:"Something went wrong, please try again later"},previewTitle:{id:"app.containers.Admin.emails.previewTitle",defaultMessage:"Preview"},recipientsTitle:{id:"app.containers.Admin.emails.recipientsTitle",defaultMessage:"Recipients"},deliveryStatus_sent:{id:"app.containers.Admin.Campaigns.deliveryStatus_sent",defaultMessage:"Sent"},deliveryStatus_failed:{id:"app.containers.Admin.Campaigns.deliveryStatus_failed",defaultMessage:"Failed"},deliveryStatus_accepted:{id:"app.containers.Admin.Campaigns.deliveryStatus_accepted",defaultMessage:"Accepted"},deliveryStatus_delivered:{id:"app.containers.Admin.Campaigns.deliveryStatus_delivered",defaultMessage:"Delivered"},deliveryStatus_opened:{id:"app.containers.Admin.Campaigns.deliveryStatus_opened",defaultMessage:"Opened"},deliveryStatus_clicked:{id:"app.containers.Admin.Campaigns.deliveryStatus_clicked",defaultMessage:"Clicked"},deliveryStatus_clickedTooltip:{id:"app.containers.Admin.Campaigns.deliveryStatus_clickedTooltip",defaultMessage:"When you added one or more links to your email, the number of users who clicked a link will be shown here."},tabCustom:{id:"app.containers.Admin.Campaigns.tabCustom",defaultMessage:"Custom"},tabAutomated:{id:"app.containers.Admin.Campaigns.tabAutomated",defaultMessage:"Automated"},campaignFrom:{id:"app.containers.Admin.Campaigns.campaignFrom",defaultMessage:"From:"},campaignTo:{id:"app.containers.Admin.Campaigns.campaignTo",defaultMessage:"To:"},noAccess:{id:"app.containers.Admin.Campaigns.noAccess",defaultMessage:"We're sorry, but it seems like you don't have access to the emails section"},deleteCampaignButton:{id:"app.containers.Admin.emails.deleteCampaignButton",defaultMessage:"Delete Campaign"},noCampaignsHeader:{id:"app.containers.Admin.emails.noCampaignsHeader",defaultMessage:"No custom email campaigns yet"},noCampaignsDescription:{id:"app.containers.Admin.emails.noCampaignsDescription",defaultMessage:"Custom email campaigns are emails created from scratch. Their content and recipients can be chosen and you can follow up on their results through statistics."},automatedEmailCampaignsInfo:{id:"app.containers.Admin.emails.automatedEmailCampaignsInfo",defaultMessage:"Automated email campaigns are sent out by default and are triggered by a user’s actions. Some of them can be turned off. Others are an inherent part of user interactions with the platform and therefore can’t be turned off."},allUsers:{id:"app.containers.Admin.emails.allUsers",defaultMessage:"All users"},groups:{id:"app.containers.Admin.emails.groups",defaultMessage:"Groups"},nameVariablesInfo:{id:"app.containers.Admin.emails.nameVariablesInfo",defaultMessage:'You can speak directly to citizens using the variables \\{\\{first_name\\}\\} \\{\\{last_name\\}\\}. E.g. "Dear \\{\\{first_name\\}\\} \\{\\{last_name\\}\\}, ..."'},changeRecipientsButton:{id:"app.containers.Admin.emails.changeRecipientsButton",defaultMessage:"Change recipients"},send:{id:"app.containers.Admin.emails.send",defaultMessage:"Send"},confirmSendHeader:{id:"app.containers.Admin.emails.confirmSendHeader",defaultMessage:"Email to all users?"},toAllUsers:{id:"app.containers.Admin.emails.toAllUsers",defaultMessage:"Do you want to send this email to all users?"},senderRecipients:{id:"app.containers.Admin.emails.senderRecipients",defaultMessage:"Sender and recipients"}});t.default=a},"c+H2":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n("q1tI"),o=d(i),l=d(n("i8i4")),u=d(n("17x9")),s=n("Z6fC"),c=d(n("9nmK"));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.setRef=function(e){a.node=e},a.handleLoad=function(){a.setState({iframeLoaded:!0})},a._isMounted=!1,a.state={iframeLoaded:!1},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){this._isMounted=!0;var e=this.getDoc();e&&"complete"===e.readyState?this.forceUpdate():this.node.addEventListener("load",this.handleLoad)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.node.removeEventListener("load",this.handleLoad)}},{key:"getDoc",value:function(){return this.node?this.node.contentDocument:null}},{key:"getMountTarget",value:function(){var e=this.getDoc();return this.props.mountTarget?e.querySelector(this.props.mountTarget):e.body.children[0]}},{key:"renderFrameContents",value:function(){if(!this._isMounted)return null;var e=this.getDoc();if(!e)return null;var t=this.props.contentDidMount,n=this.props.contentDidUpdate,a=e.defaultView||e.parentView,r=o.default.createElement(c.default,{contentDidMount:t,contentDidUpdate:n},o.default.createElement(s.FrameContextProvider,{value:{document:e,window:a}},o.default.createElement("div",{className:"frame-content"},this.props.children))),i=this.getMountTarget();return[l.default.createPortal(this.props.head,this.getDoc().head),l.default.createPortal(r,i)]}},{key:"render",value:function(){var e=a({},this.props,{srcDoc:this.props.initialContent,children:void 0});return delete e.head,delete e.initialContent,delete e.mountTarget,delete e.contentDidMount,delete e.contentDidUpdate,o.default.createElement("iframe",a({},e,{ref:this.setRef,onLoad:this.handleLoad}),this.state.iframeLoaded&&this.renderFrameContents())}}]),t}(i.Component);f.propTypes={style:u.default.object,head:u.default.node,initialContent:u.default.string,mountTarget:u.default.string,contentDidMount:u.default.func,contentDidUpdate:u.default.func,children:u.default.oneOfType([u.default.element,u.default.arrayOf(u.default.element)])},f.defaultProps={style:{},head:null,children:void 0,mountTarget:void 0,contentDidMount:function(){},contentDidUpdate:function(){},initialContent:'<!DOCTYPE html><html><head></head><body><div class="frame-root"></div></body></html>'},t.default=f},ghxK:function(e,t,n){"use strict";n("tkto"),n("pNMO"),n("TeQF"),n("5DmW"),n("FZtP"),n("27RR");var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.listCampaigns=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return u.default.get(c({apiEndpoint:"".concat(d)},e))},t.createCampaign=function(e){return u.default.add("".concat(d),{campaign:e})},t.updateCampaign=function(e,t){return u.default.update("".concat(d,"/").concat(e),e,{campaign:t})},t.sendCampaign=function(e){return f.apply(this,arguments)},t.sendCampaignPreview=function(e){return u.default.add("".concat(d,"/").concat(e,"/send_preview"),{})},t.deleteCampaign=function(e){return u.default.delete("".concat(d,"/").concat(e),e)},t.campaignByIdStream=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return u.default.get(c({apiEndpoint:"".concat(d,"/").concat(e)},t))},t.listCampaignDeliveries=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return u.default.get(c({apiEndpoint:"".concat(d,"/").concat(e,"/deliveries")},t))},t.getCampaignStats=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return u.default.get(c({apiEndpoint:"".concat(d,"/").concat(e,"/stats")},t))},t.isDraft=function(e){return 0===e.attributes.deliveries_count};var r=a(n("o0o1"));n("ma9I");var i=a(n("yXPU")),o=a(n("lSNA")),l=n("p0gT"),u=a(n("1Kqg"));function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d="".concat(l.API_PATH,"/campaigns");function f(){return(f=(0,i.default)(r.default.mark((function e(t){var n;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.default.add("".concat(d,"/").concat(t,"/send"),{});case 2:return n=e.sent,e.next=5,u.default.fetchAllWith({apiEndpoint:["".concat(d,"/").concat(t),"".concat(l.API_PATH,"/campaigns")]});case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},yNHU:function(e,t,n){"use strict";n("SuFq"),n("4mDm"),n("07d7"),n("PKPk"),n("ENF9"),n("3bBZ"),n("5DmW");var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("pVnL")),o=a(n("lwsE")),l=a(n("W8MJ")),u=a(n("7W2i")),s=a(n("a1gu")),c=a(n("Nsbk")),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=i?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(a,o,l):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n("q1tI")),f=a(n("vOnD")),p=a(n("49vD")),m=n("KLnl"),g=a(n("rqWd")),h=a(n("6wnE")),v=a(n("1gF2")),C=a(n("MzTH")),y=n("Rw3A"),b=a(n("bd4U"));function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var M=(0,f.default)(h.default).withConfig({displayName:"SentCampaignDetails__PaddedCampaignStats",componentId:"sc-10upgv4-0"})(["padding-bottom:20px;"]),P=(0,f.default)(v.default).withConfig({displayName:"SentCampaignDetails__PaddedPreviewFrame",componentId:"sc-10upgv4-1"})(["padding-bottom:20px;"]),S=(0,f.default)(C.default).withConfig({displayName:"SentCampaignDetails__PaddedRecipientsTable",componentId:"sc-10upgv4-2"})(["padding-bottom:20px;"]),_=function(e){(0,u.default)(n,e);var t=E(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,l.default)(n,[{key:"render",value:function(){var e=this.props.campaign;return d.createElement(g.default,null,d.createElement(M,{campaignId:e.id}),d.createElement(P,{campaignId:e.id}),d.createElement("h2",null,d.createElement(y.FormattedMessage,b.default.recipientsTitle)),d.createElement(S,{campaignId:e.id}))}}]),n}(d.Component);t.default=function(e){return d.createElement(p.default,{id:e.campaignId},(function(t){return(0,m.isNilOrError)(t)?null:d.createElement(_,(0,i.default)({},e,{campaign:t}))}))}}}]);
//# sourceMappingURL=78.2ca145ca068e26dff48c.chunk.js.map