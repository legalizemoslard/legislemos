(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{"3LwZ":function(e,t,a){"use strict";a("SuFq"),a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var r=a("TqRt"),n=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("ma9I"),a("2B1R");var l=r(a("pVnL")),o=r(a("lwsE")),i=r(a("W8MJ")),u=r(a("PJYZ")),d=r(a("7W2i")),c=r(a("a1gu")),s=r(a("Nsbk")),f=r(a("lSNA")),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=P(t);if(a&&a.has(e))return a.get(e);var r={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,a&&a.set(e,r);return r}(a("q1tI")),m=a("ifvJ"),h=a("KLnl"),g=r(a("ks7M")),y=r(a("yYlr")),v=r(a("6YSP")),w=r(a("V3HD")),j=a("Rw3A"),b=r(a("fvn/"));function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(P=function(e){return e?a:t})(e)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var C=function(e){(0,d.default)(a,e);var t=E(a);function a(){var e;(0,o.default)(this,a);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return e=t.call.apply(t,[this].concat(n)),(0,f.default)((0,u.default)(e),"handleOnChange",(function(t){e.props.onChange(t||[])})),(0,f.default)((0,u.default)(e),"areasOptions",(function(){var t=e.props,a=t.areas,r=t.localize;return(0,h.isNilOrError)(a)?[]:a.map((function(e){return{text:r(e.attributes.title_multiloc),value:e.id}}))})),(0,f.default)((0,u.default)(e),"areasTerm",(function(){var t=e.props,a=t.tenant,r=t.localize;if((0,h.isNilOrError)(a))return p.default.createElement(j.FormattedMessage,b.default.areasTitle);var n=a.attributes.settings.core.areas_term;return n&&!(0,h.isEmptyMultiloc)(n)?r(n):p.default.createElement(j.FormattedMessage,b.default.areasTitle)})),e}return(0,i.default)(a,[{key:"render",value:function(){var e=this.props.selectedAreas,t=this.areasOptions();if(0===t.length)return null;var a=this.areasTerm();return p.default.createElement(g.default,{title:a,name:"areas",selected:e,values:t,onChange:this.handleOnChange,multipleSelectionAllowed:!0,right:"-5px",mobileLeft:"-5px"})}}]),a}(p.PureComponent),x=(0,w.default)(C),O=(0,m.adopt)({tenant:p.default.createElement(y.default,null),areas:p.default.createElement(v.default,null)});t.default=function(e){return p.default.createElement(O,e,(function(t){return p.default.createElement(x,(0,l.default)({},e,t))}))}},MxVm:function(e,t,a){"use strict";a.r(t),t.default=a.p+"7b43378db3ab038ebf08e3b9fe87c64a.svg"},PA3c:function(e,t,a){"use strict";a("SuFq"),a("tkto"),a("pNMO"),a("TeQF"),a("5DmW"),a("FZtP"),a("27RR"),a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ");var r=a("TqRt"),n=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a("pVnL")),o=r(a("QILm"));a("+2oP"),a("2B1R"),a("rB9j"),a("UxlC");var i,u,d,c,s,f,p,m,h,g,y=r(a("lwsE")),v=r(a("W8MJ")),w=r(a("PJYZ")),j=r(a("7W2i")),b=r(a("a1gu")),P=r(a("Nsbk")),E=r(a("lSNA")),C=r(a("VkAN")),x=$(a("q1tI")),O=a("ifvJ"),M=a("KLnl"),k=a("T89o"),F=a("dtw8"),_=a("Qyje"),T=r(a("ptaw")),A=r(a("3LwZ")),S=r(a("VVVo")),N=r(a("2fl8")),z=r(a("yYlr")),R=r(a("17nk")),I=r(a("mkW1")),W=a("vIs2"),D=r(a("JUYq")),L=a("Rw3A"),q=r(a("3A/8")),B=r(a("fvn/")),J=a("KuRP"),Y=r(a("TWx+")),V=$(a("vOnD")),Z=a("96Cm"),K=a("+9pX"),Q=a("ufqH"),H=r(a("MxVm")),U=r(a("Yjdl")),X=["render"];function G(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(G=function(e){return e?a:t})(e)}function $(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=G(t);if(a&&a.has(e))return a.get(e);var r={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}function ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function te(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(a),!0).forEach((function(t){(0,E.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ee(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,P.default)(e);if(t){var n=(0,P.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,b.default)(this,a)}}var re=V.default.div.withConfig({displayName:"ProjectAndFolderCards__Container",componentId:"kpzdpt-0"})(["display:flex;flex-direction:column;"]),ne=V.default.div.withConfig({displayName:"ProjectAndFolderCards__Header",componentId:"kpzdpt-1"})(["width:100%;display:flex;flex-direction:row;align-items:center;margin-bottom:30px;border-bottom:1px solid #d1d1d1;",";",""],Z.media.smallerThanMinTablet(i||(i=(0,C.default)(["\n    justify-content: center;\n    border: none;\n  "]))),(0,Z.isRtl)(u||(u=(0,C.default)(["\n    flex-direction: row-reverse;\n  "])))),le=V.default.h2.withConfig({displayName:"ProjectAndFolderCards__Title",componentId:"kpzdpt-2"})(["color:",";font-size:","px;font-weight:500;line-height:normal;display:flex;align-items:center;padding:0;margin-right:45px;width:100%;",";",""],(function(e){return e.theme.colorText}),Z.fontSizes.xl,Z.media.smallerThanMinTablet(d||(d=(0,C.default)(["\n    text-align: center;\n    margin: 0;\n  "]))),(0,Z.isRtl)(c||(c=(0,C.default)(["\n    margin-right: 0;\n    margin-left: 45px;\n    justify-content: flex-end;\n  "])))),oe=V.default.div.withConfig({displayName:"ProjectAndFolderCards__ProjectsList",componentId:"kpzdpt-3"})(["display:flex;flex-wrap:wrap;justify-content:space-between;"]),ie=V.default.div.withConfig({displayName:"ProjectAndFolderCards__MockProjectCard",componentId:"kpzdpt-4"})(["height:1px;background:transparent;width:calc(33% - 12px);"]),ue=V.default.div.withConfig({displayName:"ProjectAndFolderCards__EmptyContainer",componentId:"kpzdpt-5"})(["width:100%;min-height:200px;color:",";display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;margin:0;margin-bottom:43px;position:relative;",";"],(function(e){return e.theme.colorText}),Z.defaultCardStyle),de=V.default.img.withConfig({displayName:"ProjectAndFolderCards__EmptyProjectsImage",componentId:"kpzdpt-6"})(["width:100%;height:auto;",""],Z.media.smallerThanMaxTablet(s||(s=(0,C.default)(["\n    &.objectFitCoverSupported {\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n    }\n\n    &:not(.objectFitCoverSupported) {\n      width: auto;\n      height: 100%;\n    }\n  "])))),ce=V.default.div.withConfig({displayName:"ProjectAndFolderCards__EmptyMessage",componentId:"kpzdpt-7"})(["color:",";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);"],(function(e){return e.theme.colorText})),se=V.default.h2.withConfig({displayName:"ProjectAndFolderCards__EmptyMessageTitle",componentId:"kpzdpt-8"})(["font-weight:600;font-size:","px;white-space:nowrap;margin-bottom:5px;",";"],Z.fontSizes.xl,Z.media.smallerThanMinTablet(f||(f=(0,C.default)(["\n    font-size: ","px;\n  "])),Z.fontSizes.large)),fe=V.default.p.withConfig({displayName:"ProjectAndFolderCards__EmptyMessageLine",componentId:"kpzdpt-9"})(["color:",";font-size:","px;font-weight:400;line-height:25px;text-align:center;"],(function(e){return e.theme.colorText}),Z.fontSizes.base),pe=V.default.div.withConfig({displayName:"ProjectAndFolderCards__Footer",componentId:"kpzdpt-10"})(["width:100%;display:flex;justify-content:center;align-items:center;margin-top:20px;",""],Z.media.smallerThanMinTablet(p||(p=(0,C.default)(["\n    flex-direction: column;\n    align-items: stretch;\n    margin-top: 0px;\n  "])))),me=V.default.div.withConfig({displayName:"ProjectAndFolderCards__FiltersArea",componentId:"kpzdpt-11"})(["display:flex;flex-direction:row;align-items:center;width:100%;justify-content:flex-end;",";",""],Z.media.smallerThanMinTablet(m||(m=(0,C.default)(["\n    display: none;\n  "]))),(0,Z.isRtl)(h||(h=(0,C.default)(["\n    justify-content: flex-start;\n  "])))),he=V.default.div.withConfig({displayName:"ProjectAndFolderCards__FilterArea",componentId:"kpzdpt-12"})(["height:60px;display:flex;align-items:center;&.publicationstatus{margin-right:30px;}",";"],Z.media.smallerThanMinTablet(g||(g=(0,C.default)(["\n    height: auto;\n  "])))),ge=(0,V.default)(N.default).withConfig({displayName:"ProjectAndFolderCards__ShowMoreButton",componentId:"kpzdpt-13"})([""]),ye=function(e){(0,j.default)(a,e);var t=ae(a);function a(e){var r;return(0,y.default)(this,a),r=t.call(this,e),(0,E.default)((0,w.default)(r),"emptyArray",[]),(0,E.default)((0,w.default)(r),"calculateCardsLayout",(function(){var e=r.props,t=e.adminPublications,a=e.windowSize,n=e.layout;if(!(0,M.isNilOrError)(t)&&t.list&&t.list.length>0&&a&&"dynamic"===n){var l=(0,k.size)(t.list.slice(0,6)),o=function(e){return e%2==1},i=a>=Z.viewportWidths.smallTablet,u=a>=Z.viewportWidths.largeTablet,d=t.list.map((function(e,t){var a=i&&!u?"medium":"small";return t<6&&(i&&!u&&(!o(l)&&(0===t||1===t)||o(l)&&0===t)&&(a="large"),u&&(1===l&&0===t?a="large":2===l?a="medium":3===l?a=0===t?"large":"medium":4===l&&0===t?a="large":5!==l||0!==t&&1!==t?6===l&&(0===t?a="large":1!==t&&2!==t||(a="medium")):a="medium")),a}));(0,k.isEqual)(r.state.cardSizes,d)||r.setState({cardSizes:d})}})),(0,E.default)((0,w.default)(r),"getAreasFromQueryParams",(function(){var e=[],t=r.props.location.query;return t.areas&&!(0,k.isEmpty)(t.areas)&&(e=(0,k.isString)(t.areas)?[t.areas]:t.areas),e})),(0,E.default)((0,w.default)(r),"showMore",(function(){(0,J.trackEventByName)(Y.default.clickOnProjectsShowMoreButton),r.props.adminPublications.onLoadMore()})),(0,E.default)((0,w.default)(r),"handleAreasOnChange",(function(e){if(!(0,k.isEqual)(r.state.areas,e)){(0,J.trackEventByName)(Y.default.clickOnProjectsAreaFilter);var t=(0,W.removeLocale)(r.props.location.pathname).pathname,a=te(te({},r.props.location.query),{},{areas:e}),n="?".concat((0,_.stringify)(a,{indices:!1,encode:!1}));D.default.replace({pathname:t,search:n})}})),r.state={cardSizes:[],areas:[]},r}return(0,v.default)(a,[{key:"componentDidMount",value:function(){this.calculateCardsLayout()}},{key:"componentDidUpdate",value:function(e,t){this.calculateCardsLayout();var a=this.getAreasFromQueryParams();(0,k.isEqual)(this.state.areas,a)||this.setState({areas:a});var r=this.props.adminPublications;(0,k.isEqual)(t.areas,this.state.areas)||(0,M.isNilOrError)(r)||r.onChangeAreas(this.state.areas)}},{key:"render",value:function(){var e=this.state,t=e.cardSizes,a=e.areas,r=this.props,n=r.tenant,l=r.showTitle,o=r.layout,i=r.theme,u=r.adminPublications,d=u.loadingInitial,c=u.loadingMore,s=u.hasMore,f=u.list,p=f&&f.length>0,m=window.CSS&&CSS.supports("object-fit: cover");if(!(0,M.isNilOrError)(n)){var h=n.attributes.settings.core.currently_working_on_text;return x.default.createElement(re,{id:"e2e-projects-container"},x.default.createElement(ne,null,l?x.default.createElement(le,null,h&&!(0,k.isEmpty)(h)?x.default.createElement(q.default,{value:h}):x.default.createElement(L.FormattedMessage,B.default.currentlyWorkingOn)):x.default.createElement(K.ScreenReaderOnly,null,h&&!(0,k.isEmpty)(h)?x.default.createElement(q.default,{value:h}):x.default.createElement(L.FormattedMessage,B.default.currentlyWorkingOn)),x.default.createElement(me,null,x.default.createElement(he,null,x.default.createElement(A.default,{selectedAreas:a,onChange:this.handleAreasOnChange})))),d&&x.default.createElement(S.default,null),!d&&!p&&x.default.createElement(ue,{id:"projects-empty"},x.default.createElement(de,{src:H.default,className:m?"objectFitCoverSupported":""}),x.default.createElement(ce,null,x.default.createElement(se,null,x.default.createElement(L.FormattedMessage,B.default.noProjectYet)),x.default.createElement(fe,null,x.default.createElement(L.FormattedMessage,B.default.stayTuned)))),!d&&p&&f&&x.default.createElement(oe,{id:"e2e-projects-list"},f.map((function(e,a){var r=e.publicationId,n=e.publicationType,l="dynamic"===o?t[a]:"threecolumns"===o?"small":"medium";return x.default.createElement(x.default.Fragment,{key:a},"project"===n&&x.default.createElement(T.default,{projectId:r,size:l,layout:o}),x.default.createElement(U.default,{id:"app.components.ProjectAndFolderCards.card",publication:e,size:l,layout:o}))})),!s&&("threecolumns"===o||f.length>6)&&(f.length+1)%3==0&&x.default.createElement(ie,{className:o}),!s&&("threecolumns"===o||f.length>6)&&(f.length-1)%3==0&&x.default.createElement(x.default.Fragment,null,x.default.createElement(ie,{className:o}),x.default.createElement(ie,{className:o}))),x.default.createElement(pe,null,!d&&p&&s&&x.default.createElement(ge,{onClick:this.showMore,buttonStyle:"secondary",text:x.default.createElement(L.FormattedMessage,B.default.showMore),processing:c,height:"50px",icon:"showMore",iconPos:"left",textColor:i.colorText,bgColor:(0,Q.rgba)(i.colorText,.08),bgHoverColor:(0,Q.rgba)(i.colorText,.12),fontWeight:"500",className:"e2e-project-cards-show-more-button ".concat(c?"loading":"")})))}return null}}]),a}(x.PureComponent),ve=(0,V.withTheme)((0,L.injectIntl)((0,F.withRouter)(ye))),we=(0,O.adopt)({tenant:x.default.createElement(z.default,null),windowSize:x.default.createElement(R.default,null),adminPublications:function(e){var t=e.render,a=(0,o.default)(e,X);return x.default.createElement(I.default,(0,l.default)({pageSize:6,prefetchProjects:!0,rootLevelOnly:!0,removeNotAllowedParents:!0},a),t)}});t.default=function(e){return x.default.createElement(we,e,(function(t){return x.default.createElement(ve,(0,l.default)({},e,t))}))}},"TWx+":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={clickOnProjectsAreaFilter:"Click on projects areas filter dropdown",clickOnProjectsShowMoreButton:"Click on projects show more button"}},"fvn/":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,a("JRPe").defineMessages)({showMore:{id:"app.components.ProjectFolderCards.showMore",defaultMessage:"Show more"},noProjectYet:{id:"app.components.ProjectFolderCards.noProjectYet",defaultMessage:"There is no project yet"},stayTuned:{id:"app.components.ProjectFolderCards.stayTuned",defaultMessage:"Stay tuned, a project is going to show up pretty soon."},allProjects:{id:"app.containers.ProjectFolderCards.allProjects",defaultMessage:"All projects"},currentlyWorkingOn:{id:"app.containers.ProjectFolderCards.currentlyWorkingOn",defaultMessage:"{orgName} is currently working on"},areasTitle:{id:"app.containers.ProjectCards.areasTitle",defaultMessage:"Areas"}});t.default=r}}]);
//# sourceMappingURL=31.299b3b70be5abb755e53.chunk.js.map