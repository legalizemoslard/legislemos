(window.webpackJsonp=window.webpackJsonp||[]).push([[156],{D140:function(e,t,a){"use strict";a("SuFq"),a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),r=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("o0o1")),o=n(a("yXPU")),s=n(a("lwsE")),l=n(a("W8MJ")),u=n(a("PJYZ")),c=n(a("7W2i")),d=n(a("a1gu")),f=n(a("Nsbk")),p=n(a("lSNA")),v=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var a=R(t);if(a&&a.has(e))return a.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),g=a("iP56"),m=n(a("lbhY")),h=a("Loij"),b=n(a("hLGy")),P=a("1YJs"),y=n(a("WGRg")),w=a("H9u3"),E=n(a("yYlr")),O=n(a("oLTx")),S=n(a("wQs4")),M=a("KLnl"),x=n(a("vOnD")),F=a("88OY");function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(R=function(e){return e?a:t})(e)}function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,d.default)(this,a)}}var A=(0,x.default)(m.default).withConfig({displayName:"favicon__MainDropzone",componentId:"sc-1lalm7o-0"})(["margin-top:20px;"]),k=(0,x.default)(m.default).withConfig({displayName:"favicon__Preview",componentId:"sc-1lalm7o-1"})(["margin-top:20px;.remove-button{display:none;}*{border-radius:0;}"]),j=function(e){(0,c.default)(a,e);var t=D(a);function a(e){var n;return(0,s.default)(this,a),n=t.call(this,e),(0,p.default)((0,u.default)(n),"handleUploadOnAdd",(function(e){n.setState({attributesDiff:{favicon:e[0].base64},favicon:[e[0]]})})),(0,p.default)((0,u.default)(n),"handleUploadOnRemove",(function(){n.setState({attributesDiff:{},favicon:null})})),(0,p.default)((0,u.default)(n),"save",function(){var e=(0,o.default)(i.default.mark((function e(t){var a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=n.props.tenant,(0,M.isNilOrError)(a)){e.next=13;break}return n.setState({loading:!0,saved:!1}),e.prev=4,e.next=7,(0,w.updateAppConfiguration)(n.state.attributesDiff);case 7:n.setState({loading:!1,saved:!0,attributesDiff:{}}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),(0,F.isCLErrorJSON)(e.t0)?n.setState({loading:!1,errors:e.t0.json.errors}):n.setState({loading:!1,errors:e.t0});case 13:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}()),n.state={attributesDiff:{},errors:{},favicon:null,faviconError:null,saved:!1,loading:!1},n}return(0,l.default)(a,[{key:"componentDidUpdate",value:function(e){var t=this,a=this.props.tenant;if(e.tenant!==a&&!(0,M.isNilOrError)(a)&&a.attributes.favicon&&a.attributes.favicon.large){var n=a.attributes.favicon.large;(0,P.convertUrlToUploadFile)(n,null,null).then((function(e){e&&t.setState({favicon:[e]})}))}}},{key:"render",value:function(){var e=this.state,t=e.errors,a=e.saved,n=this.props.tenant;if(!(0,M.isNilOrError)(n)){var r=this.state,i=r.attributesDiff,o=r.faviconError,s=r.favicon;return v.default.createElement("form",{onSubmit:this.save},v.default.createElement(h.Section,null,v.default.createElement(h.SectionField,{key:"favicon"},v.default.createElement(g.Label,null,"Favicon"),v.default.createElement(S.default,O.default.faviconExplaination),v.default.createElement(A,{acceptedFileTypes:"image/png",images:s,imagePreviewRatio:1,maxImagePreviewWidth:"152px",objectFit:"contain",onAdd:this.handleUploadOnAdd,onRemove:this.handleUploadOnRemove,label:"Drop file here",errorMessage:o}),v.default.createElement(k,{acceptedFileTypes:"image/png",images:s,imagePreviewRatio:1,maxImagePreviewWidth:"32px",objectFit:"contain",onAdd:this.handleUploadOnAdd,onRemove:this.handleUploadOnRemove,label:" ",errorMessage:o}),v.default.createElement(k,{acceptedFileTypes:"image/png",images:s,imagePreviewRatio:1,maxImagePreviewWidth:"16px",objectFit:"contain",onAdd:this.handleUploadOnAdd,onRemove:this.handleUploadOnRemove,label:" ",errorMessage:o}))),v.default.createElement(b.default,{loading:this.state.loading,status:(0,y.default)({errors:t,saved:a,diff:i}),messages:{buttonSave:O.default.save,buttonSuccess:O.default.saveSuccess,messageError:O.default.saveErrorMessage,messageSuccess:O.default.saveSuccessMessage}}))}return null}}]),a}(v.PureComponent);t.default=function(){return v.default.createElement(E.default,null,(function(e){return v.default.createElement(j,{tenant:e})}))}},oLTx:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,a("JRPe").defineMessages)({favicon:{id:"app.containers.AdminPage.FaviconPage.favicon",defaultMessage:"Favicon"},save:{id:"app.containers.AdminPage.FaviconPage.save",defaultMessage:"Save"},saveSuccess:{id:"app.containers.AdminPage.FaviconPage.saveSuccess",defaultMessage:"Success!"},saveErrorMessage:{id:"app.containers.AdminPage.FaviconPage.saveErrorMessage",defaultMessage:"Something went wrong, please try again later."},saveSuccessMessage:{id:"app.containers.AdminPage.FaviconPage.saveSuccessMessage",defaultMessage:"Your changes have been saved."},faviconExplaination:{id:"app.containers.AdminPage.FaviconPage.faviconExplaination",defaultMessage:"It has to be a simple enough image to be seen in very little. It should be a square PNG. It can use transparency. If it doesn't, prefer a white background. This should be set once and changed as little as possible."}});t.default=n}}]);
//# sourceMappingURL=156.0d668b986d137dea9561.chunk.js.map