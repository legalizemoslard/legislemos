(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{"3u9B":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=(0,o.useState)(void 0),a=(0,i.default)(n,2),u=a[0],s=a[1],c=(0,o.useState)(e),d=(0,i.default)(c,2),f=d[0],p=d[1],g=(0,o.useCallback)((function(e){p((0,r.default)(e))}),[]),m=(0,o.useState)(t),h=(0,i.default)(m,2),v=h[0],y=h[1],b=(0,o.useCallback)((function(e){y((0,r.default)(e))}),[]);return(0,o.useEffect)((function(){var e=(0,l.tagSuggestionsStream)({queryParameters:{idea_ids:f,projects:v}}).observable.subscribe((function(e){s(e?e.data:e)}));return function(){return e.unsubscribe()}}),[f]),{tagSuggestions:u,onIdeasChange:g,onProjectsChange:b}};var r=a(n("RIqP")),i=a(n("J4zp")),o=n("q1tI"),l=n("cCGA")},"4UmP":function(e,t,n){"use strict";n("tkto"),n("pNMO"),n("TeQF"),n("5DmW"),n("FZtP"),n("27RR");var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.pendingTasksStream=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return o.default.get(u({apiEndpoint:"".concat(i.API_PATH,"/pending_tasks")},e))};var r=a(n("lSNA")),i=n("p0gT"),o=a(n("1Kqg"));function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},"5w5o":function(e,t,n){"use strict";n("tkto"),n("pNMO"),n("TeQF"),n("5DmW"),n("FZtP"),n("27RR");var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=(0,l.useState)(void 0),a=(0,o.default)(n,2),r=a[0],c=a[1],f=(0,l.useState)(e),p=(0,o.default)(f,2),g=p[0],m=p[1],h=(0,l.useState)(t),v=(0,o.default)(h,2),y=v[0],b=v[1],P=(0,l.useCallback)((function(e){m((0,i.default)(e))}),[]),w=(0,l.useCallback)((function(e){b((0,i.default)(e))}),[]),x=(0,l.useState)(),E=(0,o.default)(x,2),O=E[0],_=E[1],k=(0,l.useCallback)((function(e){_(e)}),[]);return(0,l.useEffect)((function(){var e=(0,u.tagsStream)({queryParameters:d(d({search:O},null!=g&&g.length&&(null==g?void 0:g.length)>0?{idea_ids:g}:{}),null!=y&&y.length&&(null==y?void 0:y.length)>0?{projects:y}:{})}).observable.subscribe((function(e){c((0,s.isNilOrError)(e)?null:e.data)}));return function(){return e.unsubscribe()}}),[g,O,y]),{tags:r,onIdeasChange:P,onProjectsChange:w,onSearchChange:k}};var r=a(n("lSNA")),i=a(n("RIqP")),o=a(n("J4zp")),l=n("q1tI"),u=n("cCGA"),s=n("KLnl");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},"8hjp":function(e,t,n){"use strict";n("4mDm"),n("07d7"),n("PKPk"),n("ENF9"),n("3bBZ"),n("5DmW");var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("ToJy"),n("TeQF"),n("2B1R");var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=i?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(a,o,l):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n("q1tI")),o=n("T89o"),l=n("iP56"),u=n("Rw3A"),s=a(n("q0hg")),c=a(n("vOnD")),d=n("96Cm"),f=n("ufqH"),p=a(n("PagR")),g=a(n("WnXp")),m=n("KuRP");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}var v=c.default.tr.withConfig({displayName:"ProcessingRow__Container",componentId:"s82rlv-0"})(["background:",";:hover{background-color:#ebedef;}"],(function(e){return e.bgColor})),y=(0,c.default)(l.Checkbox).withConfig({displayName:"ProcessingRow__StyledCheckbox",componentId:"s82rlv-1"})(["margin-top:-4px;"]),b=(0,c.default)(g.default).withConfig({displayName:"ProcessingRow__StyledTagWrapper",componentId:"s82rlv-2"})(["cursor:default;margin-right:4px;"]),P=(0,c.default)(l.Spinner).withConfig({displayName:"ProcessingRow__StyledSpinner",componentId:"s82rlv-3"})(["display:inline-flex;width:auto;margin:4px;"]),w=c.default.td.withConfig({displayName:"ProcessingRow__TagContainer",componentId:"s82rlv-4"})(["display:flex;align-items:center;"]),x=c.default.div.withConfig({displayName:"ProcessingRow__ContentTitle",componentId:"s82rlv-5"})(["padding-left:10px;display:inline-block;font-size:","px;font-weight:400;cursor:pointer;&:hover{text-decoration:underline;}"],d.fontSizes.base),E=i.default.createElement(u.FormattedMessage,s.default.addTag),O=(0,i.memo)((function(e){var t=e.idea,n=e.selected,a=e.onSelect,r=e.className,u=e.openPreview,s=e.highlighted,c=e.rowRef,g=e.taggings,h=e.isManualTaggingMode,O=e.processing,_=(0,o.omitBy)(t.attributes.title_multiloc,(function(e){return(0,o.isNil)(e)||(0,o.isEmpty)(e)})),k=(0,p.default)(),T=(0,i.useCallback)((function(e){e.preventDefault(),(0,m.trackEventByName)("Processing Table Row",{action:"selected one row",context:"".concat(h?"tagging view":"filter view")}),a(t.id)}),[a]),j=(0,i.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),(0,m.trackEventByName)("Processing Table Row",{action:"clicked on idea title"}),u(t.id)}),[u]),C=function(e){switch(e.attributes.assignment_method){case"automatic":return 1;case"manual":return-1}},S=(0,i.useMemo)((function(){return g.filter((function(e){return e.attributes.idea_id===t.id})).sort(C)}),[g,t]);return i.default.createElement(v,{className:r,bgColor:s?(0,f.rgba)(d.colors.adminTextColor,.3):n?(0,f.rgba)(d.colors.adminTextColor,.1):"#fff",onClick:T,ref:c,key:t.id},!h&&i.default.createElement("td",{className:"checkbox"},i.default.createElement(y,{checked:n,onChange:T})),i.default.createElement("td",{className:"title"},i.default.createElement(x,{onClick:j},k(_))),!h&&S&&i.default.createElement(w,{className:"tags"},S.map((function(e){return i.default.createElement(b,{isAutoTag:"automatic"===e.attributes.assignment_method,isSelected:n,tagId:e.attributes.tag_id,key:e.attributes.tag_id})})),O&&i.default.createElement(P,{color:"#666",size:"20px"}),s&&0===S.length&&i.default.createElement(l.Tag,{isAutoTag:!0,isSelected:n,onTagClick:j,icon:"plus-circle",text:E})))})),_=(0,u.injectIntl)(O);t.default=_},E8Ky:function(e,t,n){"use strict";n("4mDm"),n("07d7"),n("PKPk"),n("ENF9"),n("3bBZ"),n("5DmW");var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.WarningMessage=t.WarningTitle=void 0;var i=a(n("o0o1"));n("2B1R"),n("TeQF"),n("yq1k");var o=a(n("pVnL")),l=a(n("yXPU")),u=a(n("RIqP")),s=a(n("J4zp")),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=W(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=i?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(a,o,l):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n("q1tI")),d=n("KLnl"),f=n("QyKF"),p=n("p0gT"),g=n("bQOE"),m=n("Iab2"),h=a(n("pD6Z")),v=n("iP56"),y=a(n("1hFV")),b=n("Rw3A"),P=a(n("q0hg")),w=n("KuRP"),x=a(n("vOnD")),E=n("96Cm"),O=n("ifvJ"),_=a(n("Frrm")),k=a(n("ks7M")),T=a(n("PagR")),j=a(n("JvRQ")),C=a(n("I9mC")),S=n("iTG7"),I=a(n("5w5o")),M=a(n("8QT5")),A=a(n("3+OT")),N=a(n("UjkJ")),q=a(n("lh43")),D=a(n("Ho8a")),R=a(n("c1qg")),B=n("aIGY"),F=a(n("cSKo"));function W(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(W=function(e){return e?n:t})(e)}var z=x.default.div.withConfig({displayName:"containers__Container",componentId:"sc-35ssea-0"})(["height:calc(100vh - ","px);display:flex;flex-direction:row;align-items:stretch;"],(function(e){return e.theme.menuHeight})),V=(0,x.default)(v.Spinner).withConfig({displayName:"containers__StyledSpinner",componentId:"sc-35ssea-1"})(["margin:auto;"]),L=(0,x.default)(y.default).withConfig({displayName:"containers__StyledModal",componentId:"sc-35ssea-2"})(["margin:auto;display:flex;flex-direction:column;align-items:center;"]),K=x.default.div.withConfig({displayName:"containers__ButtonRow",componentId:"sc-35ssea-3"})(["display:flex;flex-direction:row;justify-content:flex-end;> *{margin-left:12px;}"]),H=x.default.div.withConfig({displayName:"containers__FilterSectionTransitionWrapper",componentId:"sc-35ssea-4"})(["&.slide-enter{transform:translateX(-400%);&.slide-enter-active{transition:1000ms;transform:translateX(0%);}}&.slide-exit{transition:1000ms;transform:translateX(0%);&.slide-exit-active{transform:translateX(-400%);}}"]),J=x.default.div.withConfig({displayName:"containers__LeftPanelContainer",componentId:"sc-35ssea-5"})(["display:flex;flex-direction:column;justify-content:space-between;padding:36px 18px;position:sticky;top:","px;height:calc(100vh - ","px);max-width:150px;z-index:100;background-color:#f9f9fa;"],E.stylingConsts.menuHeight,E.stylingConsts.menuHeight),Q=x.default.div.withConfig({displayName:"containers__FilterSection",componentId:"sc-35ssea-6"})(["display:flex;flex-direction:column;"]),Z=x.default.div.withConfig({displayName:"containers__StyledActions",componentId:"sc-35ssea-7"})(["> *{margin-top:10px;}"]),G=(0,x.default)(k.default).withConfig({displayName:"containers__StyledFilterSelector",componentId:"sc-35ssea-8"})(["&:not(:last-child){margin-right:0px;}margin-bottom:15px;"]),U=x.default.div.withConfig({displayName:"containers__KeyboardShortcuts",componentId:"sc-35ssea-9"})(["height:auto;display:flex;align-items:center;padding:5px;border-radius:",";background:",";font-size:","px;"],(function(e){return e.theme.borderRadius}),E.colors.clBlueDarkBg,v.fontSizes.xs),X=x.default.h2.withConfig({displayName:"containers__WarningTitle",componentId:"sc-35ssea-10"})(["font-size:","px !important;margin-right:20px !important;"],v.fontSizes.large);t.WarningTitle=X;var $=x.default.div.withConfig({displayName:"containers__WarningMessage",componentId:"sc-35ssea-11"})(["margin-bottom:20px !important;"]);t.WarningMessage=$;var Y=c.default.createElement(b.FormattedMessage,P.default.selectProject),ee=c.default.createElement(b.FormattedMessage,P.default.cancel),te=c.default.createElement(b.FormattedMessage,P.default.continue),ne=(0,c.memo)((function(e){var t=e.className,n=e.projects,a=(0,T.default)(),r=(0,C.default)(),y=(0,j.default)(),x=(0,I.default)(),O=x.tags,_=x.onProjectsChange,k=(0,D.default)().taggings,W=(0,c.useState)(null),ne=(0,s.default)(W,2),ae=ne[0],re=ne[1],ie=(0,c.useState)(!1),oe=(0,s.default)(ie,2),le=oe[0],ue=oe[1],se=(0,c.useState)([]),ce=(0,s.default)(se,2),de=ce[0],fe=ce[1],pe=(0,F.default)(),ge=pe.processing,me=pe.unprocessedItemsIds,he=pe.processingRemainingItemsCount,ve=(0,c.useState)(!1),ye=(0,s.default)(ve,2),be=ye[0],Pe=ye[1],we=(0,c.useState)(!1),xe=(0,s.default)(we,2),Ee=xe[0],Oe=xe[1],_e=(0,c.useState)([]),ke=(0,s.default)(_e,2),Te=ke[0],je=ke[1],Ce=(0,c.useState)(null),Se=(0,s.default)(Ce,2),Ie=Se[0],Me=Se[1];(0,c.useEffect)((function(){var e;if(!(0,d.isNilOrError)(n)&&!(0,d.isNilOrError)(n.projectsList)&&(null===(e=n.projectsList)||void 0===e?void 0:e.length)>0&&r&&y){var t=(0,u.default)(n.projectsList.filter((function(e){return"timeline"===e.attributes.process_type||!["information","survey","volunteering",null].includes(e.attributes.participation_method)})).map((function(e){return{text:a(e.attributes.title_multiloc),value:e.id}})));re(t)}}),[n,r,y]);var Ae=function(){var e=(0,l.default)(i.default.mark((function e(){var t,n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,w.trackEventByName)("Filter View",{action:"Clicked Export Button"}),e.prev=1,ue(!0),t=Te.length>100?{project:de[0]}:{ideas:Te},e.next=6,(0,f.requestBlob)("".concat(p.API_PATH,"/ideas/as_xlsx_with_tags"),"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",t);case 6:n=e.sent,(0,m.saveAs)(n,"inputs-export.xlsx"),ue(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),(0,g.reportError)(e.t0),ue(!1);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),Ne=function(e){null==e||e.preventDefault(),(0,w.trackEventByName)("Autotag View",{action:"go back"}),Pe(!1)},qe=function(e){null==e||e.preventDefault(),(0,w.trackEventByName)("Autotag Confirmation Modal",{action:"cancel"}),Oe(!1)};return void 0===ae||void 0===y||void 0===O?c.default.createElement(V,null):(0,d.isNilOrError)(ae)||(0,d.isNilOrError)(y)||(0,d.isNilOrError)(O)?null:be?be?Te.length>100?c.default.createElement(h.default,{closeView:Ne,selectedProjectIds:de}):c.default.createElement(h.default,{closeView:Ne,selectedRows:Te}):null:c.default.createElement(z,{className:t},c.default.createElement(S.CSSTransition,{in:!Ie,mountOnEnter:!0,unmountOnExit:!0,classNames:"slide",timeout:{appear:500,enter:300,exit:500}},c.default.createElement(H,null,c.default.createElement(J,null,c.default.createElement(Q,null,c.default.createElement(G,{title:Y,name:"Projects",values:ae,onChange:function(e){je([]),fe(e),_(e),(0,w.trackEventByName)("Filter View",{action:"changed projects"})},multipleSelectionAllowed:!1,selected:de}),c.default.createElement(Z,null,c.default.createElement(N.default,{name:"automatic_tagging"},ge?c.default.createElement(c.default.Fragment,null,c.default.createElement("div",null,c.default.createElement(b.FormattedMessage,(0,o.default)({},P.default.autotaggingProcessing,{values:{remainingItems:he}}))),c.default.createElement(v.Button,{locale:y,buttonStyle:"admin-dark",onClick:function(e){e.preventDefault(),(0,w.trackEventByName)("Filter View",{action:"Clicked Cancel Autotag Button"}),(0,B.cancelGenerate)()}},c.default.createElement(b.FormattedMessage,P.default.cancel))):c.default.createElement(v.Button,{buttonStyle:"admin-dark",disabled:0===Te.length,locale:y,onClick:function(e){e.preventDefault(),(0,w.trackEventByName)("Filter View",{action:"Clicked Autotag Button"}),Te.some((function(e){return(t=e,(0,d.isNilOrError)(k)?[]:k.filter((function(e){return e.attributes.idea_id===t}))).some((function(e){return"automatic"===e.attributes.assignment_method}));var t}))?Oe(!0):Pe(!0)}},c.default.createElement(b.FormattedMessage,P.default.autotag))),c.default.createElement(v.Button,{buttonStyle:"admin-dark-outlined",disabled:0===Te.length,processing:le,onClick:Ae,locale:y},c.default.createElement(b.FormattedMessage,P.default.export)))),c.default.createElement(M.default,{placement:"top",content:c.default.createElement("ul",null,c.default.createElement("li",null,c.default.createElement(b.FormattedMessage,P.default.upAndDownArrow)),c.default.createElement("li",null,c.default.createElement(b.FormattedMessage,P.default.returnKey)),c.default.createElement("li",null,c.default.createElement(b.FormattedMessage,P.default.escapeKey))),theme:"light",hideOnClick:!0},c.default.createElement(U,null,c.default.createElement(b.FormattedMessage,P.default.keyboardShortcuts)))))),de.length>0?c.default.createElement(q.default,{projectFilterIds:de,previewPostId:Ie,setPreviewPostId:Me,selectedRows:Te,setSelectedRows:je,tags:O,taggings:k,unprocessedItemsIds:me}):c.default.createElement(R.default,{reason:"projectSelection"}),c.default.createElement(L,{opened:Ee,close:qe,noClose:!0,closeOnClickOutside:!0},c.default.createElement(A.default,{textColor:E.colors.adminTextColor},c.default.createElement(X,null,c.default.createElement(b.FormattedMessage,P.default.autotagOverwriteAlert)),c.default.createElement($,null,c.default.createElement(b.FormattedMessage,P.default.autotagOverwriteExplanation)),c.default.createElement(K,null,c.default.createElement(v.Button,{locale:y,buttonStyle:"admin-dark-outlined",onClick:qe,text:ee}),c.default.createElement(v.Button,{locale:y,buttonStyle:"admin-dark",onClick:function(e){null==e||e.preventDefault(),(0,w.trackEventByName)("Autotag Confirmation Modal",{action:"continue"}),Oe(!1),Pe(!0)},text:te})))))})),ae=(0,O.adopt)({projects:function(e){var t=e.render;return c.default.createElement(_.default,{publicationStatuses:["published","archived","draft"],filterCanModerate:!0,sort:"new"},t)}}),re=(0,b.injectIntl)(ne);t.default=function(e){return c.default.createElement(ae,e,(function(t){return c.default.createElement(re,(0,o.default)({},e,t))}))}},Ho8a:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=(0,o.useState)(void 0),t=(0,i.default)(e,2),n=t[0],a=t[1],s=(0,o.useState)([]),c=(0,i.default)(s,2),d=c[0],f=c[1],p=(0,o.useCallback)((function(e){f((0,r.default)(e))}),[]);return(0,o.useEffect)((function(){var e=[(0,l.taggingStream)({queryParameters:{idea_ids:d}}).observable.subscribe((function(e){a((0,u.isNilOrError)(e)?e:e.data)}))];return function(){return e.forEach((function(e){return e.unsubscribe()}))}}),[d]),{taggings:n,onIdeasChange:p}},n("FZtP");var r=a(n("RIqP")),i=a(n("J4zp")),o=n("q1tI"),l=n("aIGY"),u=n("KLnl")},JuOV:function(e,t,n){"use strict";n.r(t);var a=n("uANZ"),r=n("wsII"),i=n("7GrE"),o=n("c0C3"),l=(n("pVnL"),n("QILm"),n("lSNA"),n("VkAN"),n("cDf5"),n("FUBA"),n("lwsE"),n("W8MJ"),n("7W2i"),n("q1tI"),n("i8i4"),n("RIqP"),Object(r.makeCreatableSelect)(o.a)),u=Object(i.a)(l),s=Object(a.makeAsyncSelect)(u);t.default=s},LBLR:function(e,t,n){"use strict";n("SuFq"),n("4mDm"),n("PKPk"),n("ENF9"),n("3bBZ"),n("5DmW");var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.TagList=t.Container=void 0,n("TeQF"),n("fbCW"),n("07d7"),n("5s+n"),n("2B1R");var i=a(n("lwsE")),o=a(n("W8MJ")),l=a(n("PJYZ")),u=a(n("7W2i")),s=a(n("a1gu")),c=a(n("Nsbk")),d=a(n("lSNA")),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=i?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(a,o,l):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n("q1tI")),p=a(n("8QT5")),g=a(n("gmq1")),m=n("iP56"),h=a(n("vOnD")),v=n("96Cm"),y=n("Rw3A"),b=a(n("q0hg")),P=n("aIGY"),w=a(n("seS7")),x=n("KLnl"),E=a(n("WnXp")),O=n("KuRP"),_=n("jHXq");function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var j=h.default.div.withConfig({displayName:"PostPreview__Container",componentId:"e2toqf-0"})(["display:flex;flex-direction:row;position:sticky;top:","px;align-items:flex-start;height:calc(100vh - ","px);width:60vw;padding:15px 0px 15px 15px;border-left:1px solid ",";> *{padding:0 15px;}"],v.stylingConsts.menuHeight,v.stylingConsts.menuHeight,v.colors.adminSeparation);t.Container=j;var C=h.default.div.withConfig({displayName:"PostPreview__Navigation",componentId:"e2toqf-1"})(["display:flex;flex-direction:column;justify-content:space-between;height:calc(100vh - ","px - 30px);align-items:center;width:36px;"],v.stylingConsts.menuHeight),S=(0,h.default)(m.Button).withConfig({displayName:"PostPreview__StyledNavButton",componentId:"e2toqf-2"})(["max-width:8px;margin:2px;button{padding:8px 12px !important;}"]),I=h.default.div.withConfig({displayName:"PostPreview__TagSection",componentId:"e2toqf-3"})(["height:calc(100vh - ","px - 30px);overflow-y:auto;flex:3;display:flex;justify-content:space-between;flex-direction:column;position:sticky;top:","px;align-items:space-between;color:",";font-size:","px;line-height:19px;min-width:20%;border-left:1px solid ",";"],v.stylingConsts.menuHeight,v.stylingConsts.menuHeight,v.colors.adminTextColor,v.fontSizes.base,v.colors.adminSeparation),M=h.default.div.withConfig({displayName:"PostPreview__TagSubSection",componentId:"e2toqf-4"})(["margin:12px 0px;&.manualTag{flex:2 7 auto;max-height:auto;overflow-y:auto;}&.smartTag{flex:1;}"]),A=h.default.div.withConfig({displayName:"PostPreview__TagList",componentId:"e2toqf-5"})(["display:inline-block;margin:0px 10px 10px 0px;max-height:auto;"]);t.TagList=A;var N=(0,h.default)(E.default).withConfig({displayName:"PostPreview__StyledTagWrapper",componentId:"e2toqf-6"})(["height:24px;font-weight:500;margin:0px 4px 4px 0px;width:fit-content;> *{font-size:","px;align-self:center;line-height:14px;> *{height:14px;}}"],v.fontSizes.large),q=h.default.p.withConfig({displayName:"PostPreview__StyledValidationError",componentId:"e2toqf-7"})(["visibility:hidden;&.show{visibility:visible;}"]),D=(0,h.default)(m.Spinner).withConfig({displayName:"PostPreview__StyledSpinner",componentId:"e2toqf-8"})(["display:inline-flex;width:auto;margin:4px;"]),R=function(e){(0,u.default)(n,e);var t=T(n);function n(e){var a;return(0,i.default)(this,n),a=t.call(this,e),(0,d.default)((0,l.default)(a),"onClose",(function(){a.setState({postId:null}),a.props.onClose()})),(0,d.default)((0,l.default)(a),"handleTagInput",(function(e){a.setState({newTag:e})})),(0,d.default)((0,l.default)(a),"handleNavigationClick",(function(e){return function(t){t.preventDefault(),a.props.handleNavigation(e),(0,O.trackEventByName)("Manual Tagging",{action:"clicked ".concat(e," button")})}})),(0,d.default)((0,l.default)(a),"getManualTaggings",(function(e){return e.filter((function(e){return"manual"===e.attributes.assignment_method}))})),(0,d.default)((0,l.default)(a),"getAutomaticTaggings",(function(e){return e.filter((function(e){return"automatic"===e.attributes.assignment_method}))})),(0,d.default)((0,l.default)(a),"getUnusedTags",(function(e,t){return e.filter((function(e){return function(e,t){return!(null==e?void 0:e.find((function(e){return e.attributes.tag_id===t.id})))}(t,e)}))})),(0,d.default)((0,l.default)(a),"tagIdea",(function(e){return function(){var t=a.props.postId;t&&(0,P.addTagging)(t,e),(0,O.trackEventByName)("Manual Tagging",{action:"added existing tag to an idea"})}})),(0,d.default)((0,l.default)(a),"removeTagging",(function(e){return function(){(0,P.deleteTagging)(e),(0,O.trackEventByName)("Manual Tagging",{action:"removed tag from an idea"})}})),(0,d.default)((0,l.default)(a),"switchToManual",(function(e){return function(){(0,P.switchToManual)(e),(0,O.trackEventByName)("Manual Tagging",{action:"added auto tag to idea"})}})),(0,d.default)((0,l.default)(a),"handleSelectExistingFromTagSearch",(function(e){var t=a.state.postId,n=a.props.taggings&&a.getAutomaticTaggings(a.props.taggings).find((function(t){return t.attributes.tag_id===e}));return(0,O.trackEventByName)("Manual Tagging",{action:"selected existing tag from text input"}),t?n?(0,P.switchToManual)(n.id):(0,P.addTagging)(t,e):Promise.reject()})),(0,d.default)((0,l.default)(a),"addTaggingCreateTag",(function(e){var t=(0,_.getTagValidation)(e);a.setState({isTagValid:t});var n={};return n[a.props.intl.locale]=e,(0,O.trackEventByName)("Manual Tagging",{action:"created and assigned tag"}),a.state.postId&&t?(0,P.addTagging)(a.state.postId,null,{title_multiloc:n}):Promise.reject()})),(0,d.default)((0,l.default)(a),"validateTag",(function(e){a.setState({isTagValid:e})})),a.state={postId:e.postId,newTag:null,isTagValid:!0},a}return(0,o.default)(n,[{key:"componentDidUpdate",value:function(e){var t=this;e.postId!==this.props.postId&&this.props.postId&&setTimeout((function(){return t.setState({postId:t.props.postId})}),200)}},{key:"render",value:function(){var e=this,t=this.props,n=t.taggings,a=t.tags,r=t.processing,i=(0,x.isNilOrError)(n)?[]:this.getManualTaggings(n),o=i.map((function(e){return a&&a.find((function(t){return t.id===e.attributes.tag_id}))})).filter((function(e){return e})),l=(0,x.isNilOrError)(n)?[]:this.getAutomaticTaggings(n);return f.default.createElement(j,null,f.default.createElement(C,null,f.default.createElement(S,{locale:"en",icon:"close",onClick:this.onClose,iconSize:"8px",buttonStyle:"admin-dark-outlined"}),f.default.createElement(p.default,{placement:"top",content:f.default.createElement("ul",null,f.default.createElement("li",null,f.default.createElement(y.FormattedMessage,b.default.upAndDownArrow)),f.default.createElement("li",null,f.default.createElement(y.FormattedMessage,b.default.returnKey)),f.default.createElement("li",null,f.default.createElement(y.FormattedMessage,b.default.escapeKey))),theme:"light",hideOnClick:!0},f.default.createElement("div",null,f.default.createElement(S,{iconSize:"8px",locale:"en",icon:"chevron-up",buttonStyle:"admin-dark-outlined",onClick:this.handleNavigationClick("up")}),f.default.createElement(S,{iconSize:"8px",locale:"en",icon:"chevron-down",buttonStyle:"admin-dark-outlined",onClick:this.handleNavigationClick("down")})))),this.state.postId&&f.default.createElement(f.default.Fragment,null,f.default.createElement(g.default,{ideaId:this.state.postId,manualTaggings:i}),f.default.createElement(I,null,f.default.createElement(M,{className:"smartTag"},f.default.createElement("h4",null,f.default.createElement(y.FormattedMessage,b.default.approveAutoTags)),(l.length>0||r)&&f.default.createElement(A,null,l.map((function(t){return f.default.createElement(N,{key:t.id,onTagClick:e.switchToManual(t.id),icon:"plus-circle",isAutoTag:!0,isSelected:!1,tagId:t.attributes.tag_id})})),r&&f.default.createElement(D,{color:"#666",size:"20px"}))),!(0,x.isNilOrError)(a)&&!(0,x.isNilOrError)(n)&&f.default.createElement(M,{className:"manualTag"},f.default.createElement("h4",null,f.default.createElement(y.FormattedMessage,b.default.addExistingTag)),f.default.createElement(A,null,a.length>0&&this.getUnusedTags(a,n).map((function(t){return f.default.createElement(N,{key:t.id,tagId:t.id,onTagClick:e.tagIdea(t.id),icon:"plus-circle",isAutoTag:!1,isSelected:!1})})))),f.default.createElement(M,{className:"tagSearch"},f.default.createElement("h4",null,f.default.createElement(y.FormattedMessage,b.default.addNewTag)),f.default.createElement(w.default,{filteredOutTags:o,onAddSelect:this.handleSelectExistingFromTagSearch,onAddNew:this.addTaggingCreateTag,onType:this.validateTag,handlePreventNavigation:this.props.handlePreventNavigation})),f.default.createElement(q,{className:"".concat(!this.state.isTagValid&&"show")},f.default.createElement(y.FormattedMessage,b.default.tagValidationErrorMessage)))))}}]),n}(f.PureComponent),B=(0,y.injectIntl)(R);t.default=B},Mh2d:function(e,t,n){"use strict";n("4mDm"),n("07d7"),n("PKPk"),n("ENF9"),n("3bBZ"),n("5DmW");var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=f(n("q1tI")),o=a(n("K/LT")),l=a(n("3+OT")),u=f(n("vOnD")),s=n("96Cm"),c=a(n("Yjdl"));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=i?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(a,o,l):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}var p=u.default.div.withConfig({displayName:"Body__Container",componentId:"sc-1hmxy9p-0"})([""]),g=(0,i.memo)((function(e){var t=e.postId,n=e.body,a=e.locale,r=e.translateButtonClicked,d=e.className,f=e.postType,g=e.color,m=(0,o.default)(),h=(0,u.useTheme)(),v=!!m&&m.windowWidth<=s.viewportWidths.smallTablet;return i.default.createElement(p,{id:"e2e-".concat(f,"-description"),className:d},i.default.createElement(l.default,{textColor:g||h.colorText,fontSize:v?"base":"large",fontWeight:400},i.default.createElement("div",{"aria-live":"polite"},i.default.createElement(c.default,{id:"app.components.PostShowComponents.Body.translation",postId:t,locale:a,postType:f,body:n,translateButtonClicked:r},(function(e){return e.length>0?i.default.createElement(i.default.Fragment,null,e):i.default.createElement("span",{dangerouslySetInnerHTML:{__html:n}})})))))}));t.default=g},RQZJ:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("J4zp")),i=n("q1tI"),o=function(e){var t=(0,i.useState)(!1),n=(0,r.default)(t,2),a=n[0],o=n[1];function l(t){t.key===e&&o(!0)}var u=function(t){t.key===e&&o(!1)};return(0,i.useEffect)((function(){return window.addEventListener("keydown",l),window.addEventListener("keyup",u),function(){window.removeEventListener("keydown",l),window.removeEventListener("keyup",u)}}),[]),a};t.default=o},WnXp:function(e,t,n){"use strict";n("4mDm"),n("07d7"),n("PKPk"),n("ENF9"),n("3bBZ"),n("5DmW");var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("pVnL")),o=a(n("QILm")),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=i?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(a,o,l):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n("q1tI")),u=n("iP56"),s=a(n("PagR")),c=a(n("mr8Y")),d=["tagId"];function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}var p=(0,l.memo)((function(e){var t=e.tagId,n=(0,o.default)(e,d),a=(0,s.default)(),r=(0,c.default)(t).tag;return r?l.default.createElement(u.Tag,(0,i.default)({},n,{key:t,text:a(r.attributes.title_multiloc)})):null}));t.default=p},aIGY:function(e,t,n){"use strict";n("tkto"),n("pNMO"),n("TeQF"),n("5DmW"),n("FZtP"),n("27RR");var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.generateTaggings=function(e,t,n,a){return f.apply(this,arguments)},t.cancelGenerate=function(){return p.apply(this,arguments)},t.taggingStream=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return s.default.get(d({apiEndpoint:"".concat(l.API_PATH,"/taggings")},e))},t.addTagging=function(e,t){return g.apply(this,arguments)},t.deleteTagging=function(e){return m.apply(this,arguments)},t.switchToManual=function(e){return h.apply(this,arguments)},n("ma9I");var r=a(n("o0o1")),i=a(n("lSNA")),o=a(n("yXPU")),l=n("p0gT"),u=n("KLnl"),s=a(n("1Kqg"));function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(){return(f=(0,o.default)(r.default.mark((function e(t,n,a,i){var o;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.default.add("".concat(l.API_PATH,"/taggings/generate"),{tags:a,idea_ids:t,tag_ids:n,projects:i});case 2:return o=e.sent,e.next=5,s.default.fetchAllWith({apiEndpoint:["".concat(l.API_PATH,"/taggings"),"".concat(l.API_PATH,"/tags"),"".concat(l.API_PATH,"/pending_tasks")]});case 5:return e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return(p=(0,o.default)(r.default.mark((function e(){var t;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.default.delete("".concat(l.API_PATH,"/taggings/generate"),"");case 2:return t=e.sent,e.next=5,s.default.fetchAllWith({apiEndpoint:["".concat(l.API_PATH,"/taggings"),"".concat(l.API_PATH,"/tags"),"".concat(l.API_PATH,"/pending_tasks")]});case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=(0,o.default)(r.default.mark((function e(t,n){var a,i,o=arguments;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>2&&void 0!==o[2]?o[2]:null,e.next=3,s.default.add("".concat(l.API_PATH,"/taggings"),{idea_id:t,tag_id:n,tag_attributes:a});case 3:return i=e.sent,e.next=6,s.default.fetchAllWith({apiEndpoint:["".concat(l.API_PATH,"/tags")]});case 6:return e.abrupt("return",(0,u.isNilOrError)(i)?i:i.data);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return(m=(0,o.default)(r.default.mark((function e(t){var n;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.default.delete("".concat(l.API_PATH,"/taggings/").concat(t),t);case 2:return n=e.sent,e.next=5,s.default.fetchAllWith({apiEndpoint:["".concat(l.API_PATH,"/tags")]});case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=(0,o.default)(r.default.mark((function e(t){var n;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.default.update("".concat(l.API_PATH,"/taggings/").concat(t),t,{assignment_method:"manual"});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},anjn:function(e,t,n){"use strict";n("2B1R"),n("SuFq"),n("pNMO"),n("5DmW"),n("27RR");var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("QILm"));n("ToJy"),n("FZtP"),n("TeQF"),n("tkto"),n("rB9j"),n("hByQ");var i=a(n("lwsE")),o=a(n("W8MJ")),l=a(n("PJYZ")),u=a(n("7W2i")),s=a(n("a1gu")),c=a(n("Nsbk")),d=a(n("lSNA")),f=a(n("q1tI")),p=n("T89o"),g=n("DtyJ"),m=n("ahDk"),h=n("ngE2"),v=(n("uZm3"),n("ErwY")),y=["children"],b=["children"];function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){(0,d.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var E=function(e){(0,u.default)(n,e);var t=x(n);function n(e){var a;(0,i.default)(this,n),a=t.call(this,e),(0,d.default)((0,l.default)(a),"defaultQueryParameters",void 0),(0,d.default)((0,l.default)(a),"queryParameters$",void 0),(0,d.default)((0,l.default)(a),"subscriptions",void 0),(0,d.default)((0,l.default)(a),"propsToQueryParamsShape",(function(){return{projects:a.props.projectIds,"page[number]":a.props.pageNumber,"page[size]":a.props.pageSize,phase:a.props.phaseId,author:a.props.authorId,sort:a.props.sort,topics:a.props.topics,areas:a.props.areas,idea_status:a.props.ideaStatusId,publication_status:a.props.publicationStatus,project_publication_status:a.props.projectPublicationStatus,bounding_box:a.props.boundingBox,assignee:a.props.assignee,feedback_needed:a.props.feedbackNeeded,search:void 0}})),(0,d.default)((0,l.default)(a),"getQueryParametersFromProps",(function(){var e=a.propsToQueryParamsShape();return Object.keys(e).filter((function(t){return null===e[t]})).forEach((function(t){return e[t]=void 0})),e})),(0,d.default)((0,l.default)(a),"getQueryParameters",(function(e,t){var n=void 0;(0,p.isNil)(t.projectIds)?n=e.projects:(0,p.isArray)(t.projectIds)&&(n=t.projectIds);var a={projects:n,"page[number]":t.pageNumber,"page[size]":t.pageSize,phase:t.phaseId,author:t.authorId,sort:t.sort,search:t.search,topics:t.topics,areas:t.areas,idea_status:t.ideaStatusId,publication_status:t.publicationStatus,project_publication_status:t.projectPublicationStatus,bounding_box:t.boundingBox,assignee:t.assignee,feedback_needed:t.feedbackNeeded};return w(w(w({},e),(0,p.omitBy)(a,p.isNil)),{},{projects:n})})),(0,d.default)((0,l.default)(a),"loadMore",(function(){a.state.loadingMore||a.queryParameters$.next(w(w({},a.state.queryParameters),{},{"page[number]":a.state.queryParameters["page[number]"]+1}))})),(0,d.default)((0,l.default)(a),"handleChangePage",(function(e){a.queryParameters$.next(w(w({},a.state.queryParameters),{},{"page[number]":e}))})),(0,d.default)((0,l.default)(a),"handlePhaseOnChange",(function(e){a.queryParameters$.next(w(w({},a.state.queryParameters),{},{phase:e,"page[number]":1}))})),(0,d.default)((0,l.default)(a),"handleSearchOnChange",(function(e){a.queryParameters$.next(w(w({},a.state.queryParameters),{},{search:e||void 0,"page[number]":1}))})),(0,d.default)((0,l.default)(a),"handleSortOnChange",(function(e){a.queryParameters$.next(w(w({},a.state.queryParameters),{},{sort:e,"page[number]":1}))})),(0,d.default)((0,l.default)(a),"handleProjectsOnChange",(function(e){a.queryParameters$.next(w(w({},a.state.queryParameters),{},{projects:e,"page[number]":1}))})),(0,d.default)((0,l.default)(a),"handleTopicsOnChange",(function(e){a.queryParameters$.next(w(w({},a.state.queryParameters),{},{topics:e,"page[number]":1}))})),(0,d.default)((0,l.default)(a),"handleAreasOnchange",(function(e){a.queryParameters$.next(w(w({},a.state.queryParameters),{},{areas:e,"page[number]":1}))})),(0,d.default)((0,l.default)(a),"handleStatusOnChange",(function(e){a.queryParameters$.next(w(w({},a.state.queryParameters),{},{idea_status:e||void 0,"page[number]":1}))})),(0,d.default)((0,l.default)(a),"handlePublicationStatusOnChange",(function(e){a.queryParameters$.next(w(w({},a.state.queryParameters),{},{publication_status:e,"page[number]":1}))})),(0,d.default)((0,l.default)(a),"handleProjectPublicationStatusOnChange",(function(e){a.queryParameters$.next(w(w({},a.state.queryParameters),{},{project_publication_status:e,"page[number]":1}))})),(0,d.default)((0,l.default)(a),"handleAssigneeOnChange",(function(e){a.queryParameters$.next(w(w({},a.state.queryParameters),{},{assignee:e,"page[number]":1}))})),(0,d.default)((0,l.default)(a),"handleFeedbackFilterOnChange",(function(e){a.queryParameters$.next(w(w({},a.state.queryParameters),{},{feedback_needed:e||void 0,"page[number]":1}))})),(0,d.default)((0,l.default)(a),"handleIdeaFiltering",(function(e){a.queryParameters$.next(w(w(w({},a.state.queryParameters),e),{},{"page[number]":1}))})),(0,d.default)((0,l.default)(a),"handleResetParamsToProps",(function(e){var t=a.getQueryParametersFromProps();e&&e.length>0?a.queryParameters$.next(w(w({},a.state.queryParameters),(0,p.omit)(t,e))):a.queryParameters$.next(t)})),a.defaultQueryParameters={"page[number]":e.pageNumber,"page[size]":e.pageSize,sort:e.sort,projects:void 0,phase:void 0,author:void 0,search:void 0,topics:void 0,areas:void 0,idea_status:void 0,publication_status:void 0,project_publication_status:void 0,bounding_box:void 0,assignee:void 0,feedback_needed:void 0};var r=a.getQueryParameters(a.defaultQueryParameters,e);return a.state={queryParameters:r,list:void 0,hasMore:!1,querying:!0,loadingMore:!1,sortAttribute:(0,v.getSortAttribute)(e.sort),sortDirection:(0,v.getSortDirection)(e.sort),currentPage:1,lastPage:1},a.queryParameters$=new g.BehaviorSubject(r),a.subscriptions=[],a}return(0,o.default)(n,[{key:"componentDidMount",value:function(){var e=this,t={queryParameters:this.getQueryParameters(this.state.queryParameters,this.props),ideas:null,hasMore:!1},n=this.queryParameters$.pipe((0,m.distinctUntilChanged)((function(e,t){return(0,p.isEqual)(e,t)})));this.props.type&&"load-more"!==this.props.type?this.subscriptions=[n.pipe((0,m.switchMap)((function(t){var n=e.state.queryParameters["page[number]"],a=t["page[number]"];return t["page[number]"]=a!==n?a:1,(e.props.mini?h.ideasMiniStream:h.ideasStream)({queryParameters:t}).observable.pipe((0,m.map)((function(e){return{queryParameters:t,ideas:e}})))}))).subscribe((function(t){var n=t.ideas,a=t.queryParameters;e.setState({queryParameters:a,list:n?n.data:null,querying:!1,loadingMore:!1,sortAttribute:(0,v.getSortAttribute)(a.sort),sortDirection:(0,v.getSortDirection)(a.sort),currentPage:(0,v.getPageNumberFromUrl)(n.links.self)||1,lastPage:(0,v.getPageNumberFromUrl)(n.links.last)||1})}))]:this.subscriptions=[n.pipe((0,m.mergeScan)((function(t,n){var a=(0,p.omit)((0,p.cloneDeep)(t.queryParameters),"page[number]"),r=(0,p.omit)((0,p.cloneDeep)(n),"page[number]"),i=t.queryParameters["page[number]"],o=n["page[number]"],l=(0,p.isEqual)(a,r)&&i!==o,u=l?n["page[number]"]:1,s=w(w({},n),{},{"page[number]":u});return e.setState({querying:!l,loadingMore:l}),(e.props.mini?h.ideasMiniStream:h.ideasStream)({queryParameters:s}).observable.pipe((0,m.map)((function(e){var n=(0,p.get)(e,"links.self"),a=(0,p.get)(e,"links.last"),r=(0,p.isString)(n)&&(0,p.isString)(a)&&n!==a;return{queryParameters:s,hasMore:r,ideas:l?(0,p.unionBy)(t.ideas||[],e.data,"id"):e.data}})))}),t)).subscribe((function(t){var n=t.ideas,a=t.queryParameters,r=t.hasMore;e.setState({queryParameters:a,hasMore:r,list:n,querying:!1,loadingMore:!1})}))]}},{key:"componentDidUpdate",value:function(e,t){e.children;var n=(0,r.default)(e,y),a=this.props,i=(a.children,(0,r.default)(a,b));if(!(0,p.isEqual)(n,i)){var o=this.getQueryParameters(this.state.queryParameters,this.props);this.queryParameters$.next(o)}}},{key:"componentWillUnmount",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"render",value:function(){return(0,this.props.children)(w(w({},this.state),{},{onLoadMore:this.loadMore,onChangePage:this.handleChangePage,onChangeProjects:this.handleProjectsOnChange,onChangePhase:this.handlePhaseOnChange,onChangeSearchTerm:this.handleSearchOnChange,onChangeSorting:this.handleSortOnChange,onChangeTopics:this.handleTopicsOnChange,onChangeAreas:this.handleAreasOnchange,onChangeStatus:this.handleStatusOnChange,onChangePublicationStatus:this.handlePublicationStatusOnChange,onChangeProjectPublicationStatus:this.handleProjectPublicationStatusOnChange,onChangeAssignee:this.handleAssigneeOnChange,onChangeFeedbackFilter:this.handleFeedbackFilterOnChange,onIdeaFiltering:this.handleIdeaFiltering,onResetParams:this.handleResetParamsToProps,type:"ideas"}))}}]),n}(f.default.Component);t.default=E,(0,d.default)(E,"defaultProps",{pageNumber:1,pageSize:12,sort:"random"})},c1qg:function(e,t,n){"use strict";n("4mDm"),n("07d7"),n("PKPk"),n("ENF9"),n("3bBZ"),n("5DmW");var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=i?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(a,o,l):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n("q1tI")),o=a(n("vOnD")),l=a(n("q0hg")),u=n("Rw3A"),s=n("iP56"),c=n("96Cm");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}var f=o.default.div.withConfig({displayName:"EmptyState__NoUsersPage",componentId:"gttsvt-0"})(["display:flex;flex-grow:1;flex-direction:column;align-items:center;font-size:","px;font-weight:bold;line-height:25px;padding-top:80px;svg{margin-bottom:20px;height:70px;fill:",";}"],c.fontSizes.xl,c.colors.clIconAccent),p=(0,i.memo)((function(e){return"noIdeas"===e.reason?i.default.createElement(f,null,i.default.createElement(s.Icon,{name:"search"}),i.default.createElement(u.FormattedMessage,l.default.noInputInThisProject)):i.default.createElement(f,null,i.default.createElement(s.Icon,{name:"blankPage"}),i.default.createElement(u.FormattedMessage,l.default.pickInputCollection))}));t.default=p},cCGA:function(e,t,n){"use strict";n("tkto"),n("pNMO"),n("TeQF"),n("5DmW"),n("FZtP"),n("27RR");var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.tagSuggestionsStream=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return u.default.get(c({apiEndpoint:"".concat(l.API_PATH,"/tag_suggestions")},e))},t.tagsStream=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return u.default.get(c({apiEndpoint:"".concat(l.API_PATH,"/tags")},e))},t.tagStream=function(e){return u.default.get({apiEndpoint:"".concat(l.API_PATH,"/tags/").concat(e)})},t.updateTag=function(e,t){return d.apply(this,arguments)},t.deleteTag=function(e){return f.apply(this,arguments)};var r=a(n("o0o1"));n("ma9I");var i=a(n("yXPU")),o=a(n("lSNA")),l=n("p0gT"),u=a(n("1Kqg"));function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(){return(d=(0,i.default)(r.default.mark((function e(t,n){var a;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.default.update("".concat(l.API_PATH,"/tags/").concat(t),t,{title_multiloc:n});case 2:return a=e.sent,e.next=5,u.default.fetchAllWith({apiEndpoint:["".concat(l.API_PATH,"/taggings")]});case 5:return e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return(f=(0,i.default)(r.default.mark((function e(t){var n;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.default.delete("".concat(l.API_PATH,"/tags/").concat(t),t);case 2:return n=e.sent,e.next=5,u.default.fetchAllWith({apiEndpoint:["".concat(l.API_PATH,"/taggings")]});case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},cSKo:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=(0,l.useState)(void 0),t=(0,i.default)(e,2),n=t[0],a=t[1],f=(0,l.useState)(!1),p=(0,i.default)(f,2),g=p[0],m=p[1],h=(0,l.useState)(),v=(0,i.default)(h,2),y=v[0],b=v[1];return(0,l.useEffect)((function(){var e=[(0,s.pendingTasksStream)().observable.subscribe((function(e){var t=(0,c.isNilOrError)(e)?null:e.data;if(a(t),t){var n=(0,r.default)(new Set(null==t?void 0:t.flatMap((function(e){return e.relationships.ideas.data.map((function(e){return e.id}))}))));n.length>0?(m(!0),b(n)):(m(!1),b(null))}}))].concat([g?(0,u.timer)(5e3,5e3).subscribe((function(e){return d.default.fetchAllWith({apiEndpoint:["".concat(o.API_PATH,"/taggings"),"".concat(o.API_PATH,"/tags"),"".concat(o.API_PATH,"/pending_tasks")]})})):(0,u.of)(null).subscribe()]);return function(){return e.forEach((function(e){return e.unsubscribe()}))}}),[g]),{pendingTasks:n,processing:g,unprocessedItemsIds:y,processingRemainingItemsCount:null==y?void 0:y.length}},n("ma9I"),n("4mDm"),n("07d7"),n("YGK4"),n("PKPk"),n("3bBZ"),n("XbcX"),n("c9m3"),n("2B1R"),n("FZtP");var r=a(n("RIqP")),i=a(n("J4zp")),o=n("p0gT"),l=n("q1tI"),u=n("DtyJ"),s=n("4UmP"),c=n("KLnl"),d=a(n("1Kqg"))},ebFa:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(0,n("JRPe").defineMessages)({goBack:{id:"app.components.GoBackButton.group.edit.goBack",defaultMessage:"Go back"}});t.default=a},gmq1:function(e,t,n){"use strict";n("SuFq"),n("4mDm"),n("07d7"),n("PKPk"),n("ENF9"),n("3bBZ"),n("5DmW");var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.IdeaContent=void 0,n("2B1R");var i=a(n("pVnL")),o=a(n("lwsE")),l=a(n("W8MJ")),u=a(n("PJYZ")),s=a(n("7W2i")),c=a(n("a1gu")),d=a(n("Nsbk")),f=a(n("lSNA")),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=j(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=i?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(a,o,l):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n("q1tI")),g=n("KLnl"),m=n("ifvJ"),h=a(n("zJWc")),v=a(n("Mh2d")),y=a(n("WnXp")),b=a(n("OL75")),P=a(n("yYlr")),w=a(n("yiTP")),x=a(n("V3HD")),E=n("Rw3A"),O=a(n("vOnD")),_=n("96Cm"),k=n("aIGY"),T=n("KuRP");function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(j=function(e){return e?n:t})(e)}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}var S=O.default.div.withConfig({displayName:"IdeaContent__Content",componentId:"sc-6wm76g-0"})(["width:100%;flex:8;height:100%;display:flex;flex-direction:column;justify-content:space-between;"]),I=(0,O.default)(y.default).withConfig({displayName:"IdeaContent__StyledTagWrapper",componentId:"sc-6wm76g-1"})(["height:24px;font-weight:500;margin:0px 4px 4px 0px;width:fit-content;> *{font-size:","px;align-self:center;line-height:14px;> *{height:14px;}}"],_.fontSizes.large),M=(0,O.default)(v.default).withConfig({displayName:"IdeaContent__StyledBody",componentId:"sc-6wm76g-2"})(["flex:6;overflow-y:auto;"]),A=O.default.div.withConfig({displayName:"IdeaContent__TagList",componentId:"sc-6wm76g-3"})(["overflow-y:auto;flex:1;margin-bottom:20px;min-height:52px;display:inline;background-color:#f9f9fa;border-radius:",";width:100%;padding:12px;& > *{margin:4px 4px 4px 4px;width:fit-content;}"],_.stylingConsts.borderRadius),N=(0,O.default)(h.default).withConfig({displayName:"IdeaContent__StyledTitle",componentId:"sc-6wm76g-4"})(["flex:1;margin-top:20px;"]),q=function(e){(0,s.default)(n,e);var t=C(n);function n(e){var a;return(0,o.default)(this,n),a=t.call(this,e),(0,f.default)((0,u.default)(a),"removeTagging",(function(e){return function(){(0,T.trackEventByName)("Manual Tagging",{action:"removed tagging"}),(0,k.deleteTagging)(e)}})),a}return(0,l.default)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.idea,a=t.localize,r=t.tenant,i=t.locale,o=t.manualTaggings;return p.default.createElement(S,null,!(0,g.isNilOrError)(n)&&!(0,g.isNilOrError)(i)&&!(0,g.isNilOrError)(r)&&p.default.createElement(p.default.Fragment,null,p.default.createElement(N,{postId:n.id,postType:"idea",title:a(n.attributes.title_multiloc),color:_.colors.adminTextColor}),p.default.createElement(M,{postId:n.id,postType:"idea",body:a(n.attributes.body_multiloc),locale:i,color:_.colors.adminTextColor}),p.default.createElement(A,null,o.length>0&&o.map((function(t){return p.default.createElement(I,{key:t.id,onTagClick:e.removeTagging(t.id),isAutoTag:!1,isSelected:!1,icon:"close",tagId:t.attributes.tag_id})})))))}}]),n}(p.PureComponent);t.IdeaContent=q;var D=(0,m.adopt)({tenant:p.default.createElement(P.default,null),locale:p.default.createElement(w.default,null),idea:function(e){var t=e.ideaId,n=e.render;return p.default.createElement(b.default,{ideaId:t},n)}}),R=(0,E.injectIntl)((0,x.default)(q)),B=function(e){return p.default.createElement(D,e,(function(t){return p.default.createElement(R,(0,i.default)({},e,t))}))};t.default=B},jHXq:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTagValidation=void 0,n("TeQF"),n("rB9j"),n("EnZy"),n("yq1k");var a=n("KLnl");t.getTagValidation=function(e){if(e.length<2)return!1;var t=e.split(" ").filter((function(e){return""!==e})).length;return!(0,a.isNilOrError)(t)&&[1,2].includes(t)}},lh43:function(e,t,n){"use strict";n("4mDm"),n("07d7"),n("PKPk"),n("ENF9"),n("3bBZ"),n("5DmW");var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("pVnL")),o=a(n("J4zp"));n("yWo2"),n("2B1R"),n("x0AG"),n("TeQF"),n("ma9I"),n("yq1k"),n("JTJg");var l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=i?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(a,o,l):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n("q1tI")),u=n("KLnl"),s=n("T89o"),c=a(n("8hjp")),d=n("iP56"),f=a(n("oLxs")),p=n("Rw3A"),g=a(n("q0hg")),m=n("KuRP"),h=a(n("vOnD")),v=n("ifvJ"),y=a(n("anjn")),b=a(n("RQZJ")),P=a(n("LBLR")),w=n("iTG7"),x=a(n("c1qg"));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}var O=h.default.div.withConfig({displayName:"IdeasTable__PostPreviewTransitionWrapper",componentId:"v967b-0"})(["&.slide-enter{transform:translateX(100%);opacity:0;&.slide-enter-active{transition:1000ms;transform:translateX(0%);opacity:1;}}&.slide-exit{transition:1000ms;transform:translateX(0%);opacity:1;&.slide-exit-active{transform:translateX(100%);opacity:0;}}"]),_=h.default.div.withConfig({displayName:"IdeasTable__TableWrapper",componentId:"v967b-1"})(["flex:1;max-width:100%;background:white;overflow-y:auto;padding:24px;"]),k=(0,h.default)(f.default).withConfig({displayName:"IdeasTable__StyledTable",componentId:"v967b-2"})(["font-size:","px;font-weight:400;text-decoration:none;tbody tr td{padding-top:12px;padding-bottom:10px;}tbody tr{border-radius:3px;border-bottom:1px solid #eaeaea;}thead tr th{font-size:","px;height:24px;padding-left:8px;padding-right:8px;}th,td{text-align:left;vertical-align:top;min-width:100px;&.checkbox{width:70px;padding-left:8px;}&.content{width:50%;padding-right:25px;}}"],d.fontSizes.small,d.fontSizes.xs),T=(0,h.default)(d.Spinner).withConfig({displayName:"IdeasTable__StyledSpinner",componentId:"v967b-3"})(["margin:auto;"]),j=(0,h.default)(d.Checkbox).withConfig({displayName:"IdeasTable__StyledCheckbox",componentId:"v967b-4"})(["margin-top:0px;"]),C=(0,l.memo)((function(e){var t=e.ideas,n=e.previewPostId,a=e.setPreviewPostId,r=e.selectedRows,d=e.setSelectedRows,f=e.tags,h=e.taggings,v=e.unprocessedItemsIds,y=(0,l.useState)([]),E=(0,o.default)(y,2),C=E[0],S=E[1],I=(0,l.useState)(!1),M=(0,o.default)(I,2),A=M[0],N=M[1],q=(0,l.useState)(!1),D=(0,o.default)(q,2),R=D[0],B=D[1],F=(0,l.useState)(null),W=(0,o.default)(F,2),z=W[0],V=W[1],L=(0,b.default)("ArrowUp"),K=(0,b.default)("ArrowDown"),H=(0,b.default)("Enter"),J=(0,b.default)("Escape"),Q=(0,l.useRef)(null);(0,l.useEffect)((function(){z&&!(0,u.isNilOrError)(Q)&&Q.current&&Q.current.scrollIntoView(!1)}),[z]),(0,l.useEffect)((function(){L&&((0,m.trackEventByName)("Keyboard shorcut",{key:"up"}),!R&&U("up"))}),[L,C]),(0,l.useEffect)((function(){K&&((0,m.trackEventByName)("Keyboard shorcut",{key:"down"}),!R&&U("down"))}),[K,C]),(0,l.useEffect)((function(){H&&!(0,u.isNilOrError)(C)&&C.length>0&&((0,m.trackEventByName)("Keyboard shorcut",{key:"enter"}),z?a(z):(V(C[0].id),a(C[0].id)))}),[H,C]),(0,l.useEffect)((function(){J&&C&&((0,m.trackEventByName)("Keyboard shorcut",{key:"escape"}),a(null))}),[J,C]),(0,l.useEffect)((function(){S(t.list),N(t.querying)}),[t]),(0,l.useEffect)((function(){!(0,u.isNilOrError)(C)&&C.length>0&&V(C[0].id),A&&N(!1)}),[C]);var Z,G=(0,l.useCallback)((function(e){if(!(0,u.isNilOrError)(C)){var t=r.length<C.length?C.map((function(e){return e.id})):[];(0,m.trackEventByName)("Idea Table",{action:'clicked on "select all ideas" checkbox',context:"".concat(n?"tagging view":"filter view")}),d(t)}}),[C,r]),U=function(e){if(!(0,u.isNilOrError)(C)&&0!==C.length)if(z||n){var t,r=C.findIndex((function(e){return e.id===z}));"down"===e&&(t=r===C.length-1?0:r+1),"up"===e&&(t=0===r?C.length-1:r-1),V(C[t].id),n&&a(C[t].id)}else V(C[0].id)},X=(0,l.useCallback)((function(e){d((function(t){return(0,s.includes)(t,e)?t.filter((function(t){return t!==e})):t.concat(e)}))}),[]),$=(0,l.useCallback)((function(e){a(e),V(e)}),[]);return A||void 0===h?l.default.createElement(T,null):(0,u.isNilOrError)(C)||(0,u.isNilOrError)(h)?null:0===C.length?l.default.createElement(x.default,{reason:"noIdeas"}):l.default.createElement(l.default.Fragment,null,l.default.createElement(_,null,l.default.createElement(k,null,l.default.createElement("thead",null,!n&&l.default.createElement("tr",null,l.default.createElement("th",{className:"checkbox"},l.default.createElement(j,{checked:C.length>0&&r.length===(null==C?void 0:C.length),indeterminate:r.length>0&&r.length<C.length,disabled:0===(null==C?void 0:C.length),onChange:G})),l.default.createElement("th",{className:"title"},l.default.createElement(p.FormattedMessage,(0,i.default)({},g.default.items,{values:{totalCount:C.length,selectedCount:r.length}}))),l.default.createElement("th",{className:"tags"},l.default.createElement(p.FormattedMessage,g.default.tags)))),l.default.createElement("tbody",null,C.map((function(e){return l.default.createElement(c.default,{key:e.id,idea:e,selected:(0,s.includes)(r,e.id),highlighted:e.id===z,rowRef:e.id===z?Q:void 0,onSelect:X,openPreview:$,taggings:h,isManualTaggingMode:!!n,processing:!(null==v||!v.includes(e.id))})}))))),l.default.createElement(w.CSSTransition,{in:!!n,mountOnEnter:!0,unmountOnExit:!0,classNames:"slide",timeout:{appear:500,enter:300,exit:500}},l.default.createElement(O,null,l.default.createElement(P.default,{type:"AllIdeas",postId:n,onClose:function(){return a(null)},handleNavigation:U,taggings:(Z=n,(0,u.isNilOrError)(h)?[]:h.filter((function(e){return e.attributes.idea_id===Z}))),tags:f,handlePreventNavigation:function(e){B(e)},processing:!(null==v||!v.includes(n||""))}))))})),S=(0,v.adopt)({ideas:function(e){var t=e.render,n=e.projectFilterIds;return l.default.createElement(y.default,{type:"paginated",pageSize:2e5,projectIds:n,mini:!0,sort:"new"},t)}}),I=(0,p.injectIntl)(C);t.default=function(e){return l.default.createElement(S,e,(function(t){return l.default.createElement(I,(0,i.default)({},e,t))}))}},mr8Y:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,i.useState)(void 0),n=(0,r.default)(t,2),a=n[0],l=n[1];return(0,i.useEffect)((function(){var t=(0,o.tagStream)(e).observable.subscribe((function(e){l(e?e.data:e)}));return function(){return t.unsubscribe()}}),[e]),{tag:a}};var r=a(n("J4zp")),i=n("q1tI"),o=n("cCGA")},oLxs:function(e,t,n){"use strict";n("SuFq"),n("4mDm"),n("07d7"),n("PKPk"),n("ENF9"),n("3bBZ"),n("5DmW");var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("lwsE")),o=a(n("W8MJ")),l=a(n("7W2i")),u=a(n("a1gu")),s=a(n("Nsbk"));n("yWo2");var c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=i?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(a,o,l):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n("q1tI")),d=a(n("vOnD")),f=n("96Cm"),p=n("ufqH");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,s.default)(e);if(t){var r=(0,s.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}var h=d.default.table.withConfig({displayName:"Table__StyledTable",componentId:"sc-143uylw-0"})(["width:100%;padding:0;margin:0;border:none;border-spacing:0;border-collapse:collapse;table-layout:auto;th,td{padding:0;margin:0;}thead{tr{th{fill:",";color:",";font-size:","px;font-weight:600;text-align:left;text-transform:uppercase;line-height:normal;padding-top:0px;padding-bottom:15px;border-bottom:solid 1px #ddd;div{display:flex;align-items:center;}}}}tbody{tr{border-radius:",";border-bottom:solid 1px #ccc;td{color:",";font-size:","px;font-weight:400;line-height:normal;text-align:left;padding-top:15px;padding-bottom:15px;&.center{justify-content:center;}a{color:",";text-decoration:underline;&:hover{color:",";text-decoration:underline;}}}}}tfoot{display:flex;tr{display:flex;td{display:flex;}}}"],f.colors.text,f.colors.adminTextColor,f.fontSizes.small,(function(e){return e.theme.borderRadius}),f.colors.adminTextColor,f.fontSizes.small,f.colors.clBlue,(0,p.darken)(.2,f.colors.clBlue)),v=function(e){(0,l.default)(n,e);var t=m(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,o.default)(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className;return c.default.createElement(h,{cellSpacing:"0",cellPadding:"0",className:n},t)}}]),n}(c.PureComponent);t.default=v},pD6Z:function(e,t,n){"use strict";n("4mDm"),n("07d7"),n("PKPk"),n("ENF9"),n("3bBZ"),n("5DmW");var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("RIqP")),o=a(n("J4zp"));n("yWo2"),n("ma9I"),n("x0AG"),n("pDQq"),n("yq1k"),n("JTJg"),n("2B1R"),n("TeQF"),n("fbCW");var l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=i?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(a,o,l):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n("q1tI")),u=n("iP56"),s=a(n("y5tA")),c=a(n("vOnD")),d=n("96Cm"),f=a(n("q0hg")),p=n("Rw3A"),g=a(n("JvRQ")),m=a(n("RQZJ")),h=a(n("3u9B")),v=a(n("PagR")),y=a(n("5w5o")),b=n("aIGY"),P=n("KLnl"),w=n("KuRP"),x=n("jHXq");function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}var O=c.default.div.withConfig({displayName:"AutotagView__Container",componentId:"sc-1yknfzj-0"})(["display:flex;justify-content:space-between;width:100%;height:calc(100vh - ","px - 1px);"],d.stylingConsts.menuHeight),_=c.default.div.withConfig({displayName:"AutotagView__Left",componentId:"sc-1yknfzj-1"})(["display:flex;align-items:start;padding:5%;flex-direction:column;width:60%;height:100%;"]),k=c.default.div.withConfig({displayName:"AutotagView__Right",componentId:"sc-1yknfzj-2"})(["display:flex;flex-direction:column;width:40%;height:100%;background-color:#f9f9fa;border-left:1px solid ",";"],d.colors.adminBorder),T=c.default.div.withConfig({displayName:"AutotagView__Row",componentId:"sc-1yknfzj-3"})(["display:flex;align-items:flex-start;> *{margin-right:10px;}"]),j=c.default.p.withConfig({displayName:"AutotagView__StyledSubtitle",componentId:"sc-1yknfzj-4"})(["font-size:",";font-weight:600;"],d.fontSizes.small),C=c.default.p.withConfig({displayName:"AutotagView__StyledValidationError",componentId:"sc-1yknfzj-5"})(["&.show{text-decoration:underline;}"]),S=(0,c.default)(u.Input).withConfig({displayName:"AutotagView__StyledInput",componentId:"sc-1yknfzj-6"})(["width:200px;"]),I=c.default.div.withConfig({displayName:"AutotagView__TagList",componentId:"sc-1yknfzj-7"})(["padding:12px 0px;margin:12px auto;display:inline;width:100%;overflow-y:auto;height:inherit;"]),M=c.default.div.withConfig({displayName:"AutotagView__SuggestionList",componentId:"sc-1yknfzj-8"})(["margin:5px auto;display:flex;flex-direction:column;width:100%;align-items:flex-start;height:100%;overflow-y:auto;padding:10%;"]),A=c.default.div.withConfig({displayName:"AutotagView__ExistingTagList",componentId:"sc-1yknfzj-9"})(["margin:5px auto;height:100%;overflow-y:auto;padding:10%;display:inline;width:100%;overflow-y:auto;"]),N=(0,c.default)(u.Tag).withConfig({displayName:"AutotagView__StyledTag",componentId:"sc-1yknfzj-10"})(["margin-bottom:","px;margin-right:","px;height:24px;> *{font-size:","px;align-self:center;line-height:14px;> *{height:14px;}}"],d.fontSizes.xs,d.fontSizes.xs,d.fontSizes.large),q=(0,c.default)(u.Icon).withConfig({displayName:"AutotagView__StyledIcon",componentId:"sc-1yknfzj-11"})(["flex:0 0 20px;width:20px;height:20px;fill:#fff;"]),D=(0,c.default)(u.Button).withConfig({displayName:"AutotagView__TagAssignationButton",componentId:"sc-1yknfzj-12"})(["align-self:center;"]),R=c.default.div.withConfig({displayName:"AutotagView__TabsContainer",componentId:"sc-1yknfzj-13"})(["display:flex;width:100%;height:48px;align-items:stretch;justify-content:space-evenly;position:relative;background-color:white;border-bottom:1px solid ",";"],d.colors.adminBorder),B=c.default.div.withConfig({displayName:"AutotagView__Tab",componentId:"sc-1yknfzj-14"})(["margin-top:12px;color:",";cursor:pointer;&.active,:hover{color:",";border-bottom:2px solid ",";}"],d.colors.adminSecondaryTextColor,d.colors.adminTextColor,d.colors.adminTextColor),F=function(e){var t=e.closeView,n=e.selectedRows,a=e.selectedProjectIds,r=(0,g.default)(),c=(0,m.default)("Enter"),d=(0,l.useState)(""),E=(0,o.default)(d,2),F=E[0],W=E[1],z=(0,l.useState)([]),V=(0,o.default)(z,2),L=V[0],K=V[1],H=(0,l.useState)([]),J=(0,o.default)(H,2),Q=J[0],Z=J[1],G=(0,y.default)(n).tags,U=(0,l.useState)(!0),X=(0,o.default)(U,2),$=X[0],Y=X[1],ee=(0,l.useState)(!1),te=(0,o.default)(ee,2),ne=te[0],ae=te[1],re=(0,l.useState)("suggestions"),ie=(0,o.default)(re,2),oe=ie[0],le=ie[1],ue=(0,v.default)(),se=(0,h.default)(n||null,a).tagSuggestions;(0,l.useEffect)((function(){c&&$&&((0,w.trackEventByName)("Autotag View",{key:"Enter",action:"added new tag"}),ce())}),[c]);var ce=function(){(0,w.trackEventByName)("Autotag View",{action:"added new tag",content:F}),Z([].concat((0,i.default)(Q),[F])),W("")},de=function(e){return function(){(0,w.trackEventByName)("Autotag View",{action:"added existing tag"}),K([].concat((0,i.default)(L),[e]))}};(0,l.useEffect)((function(){var e=(0,x.getTagValidation)(F);Y(e&&!Q.includes(F))}),[F]);var fe=function(e){return function(t){t.preventDefault(),(0,w.trackEventByName)("Autotag View",{action:"switched to ".concat(e," tab")}),le(e)}};return(0,P.isNilOrError)(r)?null:l.default.createElement(O,null,l.default.createElement(_,null,l.default.createElement(s.default,{onClick:t}),l.default.createElement(q,{name:"label"}),l.default.createElement("h2",null,l.default.createElement(p.FormattedMessage,f.default.tagsToAssign)),l.default.createElement(j,null,l.default.createElement(p.FormattedMessage,f.default.tagAssignationExplanation)),l.default.createElement("h4",null,l.default.createElement(p.FormattedMessage,f.default.addTag)),l.default.createElement(C,{className:"".concat(!$&&"show")},l.default.createElement(p.FormattedMessage,f.default.tagValidationErrorMessage)),l.default.createElement(T,null,l.default.createElement(S,{type:"text",value:F,onChange:function(e){W(e)}}),l.default.createElement(u.Button,{locale:r,icon:"plus-circle",buttonStyle:"admin-dark-outlined",onClick:ce,disabled:!$},l.default.createElement(p.FormattedMessage,f.default.addTag))),l.default.createElement(I,null,L.map((function(e,t){return l.default.createElement(N,{key:t+ue(e.attributes.title_multiloc),text:ue(e.attributes.title_multiloc),isAutoTag:!1,isSelected:!0,icon:"remove",onTagClick:(n=e.id,function(e){e.preventDefault(),(0,w.trackEventByName)("Autotag View",{action:"removed existing tag from selection"});var t=(0,i.default)(L),a=L.findIndex((function(e){return n===e.id}));t.splice(a,1),K(t)})});var n})),Q.map((function(e,t){return l.default.createElement(N,{key:t+e,text:e,isAutoTag:!1,isSelected:!1,icon:"remove",onTagClick:(n=e,function(e){e.preventDefault(),(0,w.trackEventByName)("Autotag View",{action:"removed new tag from selection"});var t=(0,i.default)(Q),a=Q.findIndex((function(e){return n===e}));t.splice(a,1),Z(t)})});var n}))),l.default.createElement(D,{locale:r,text:l.default.createElement(p.FormattedMessage,f.default.automaticallyAssign),buttonStyle:"admin-dark",onClick:function(){ae(!0),(0,w.trackEventByName)("Autotag View",{action:"trigger autotagging"}),(0,b.generateTaggings)(n,L.map((function(e){return e.id})),Q,a).then((function(){return t()})).catch((function(){return ae(!1)}))},processing:ne})),l.default.createElement(k,null,l.default.createElement(R,null,l.default.createElement(B,{className:"suggestions"===oe?"active":"",onClick:fe("suggestions")},l.default.createElement(p.FormattedMessage,f.default.suggestedTags)),l.default.createElement(B,{className:"existingTags"===oe?"active":"",onClick:fe("existingTags")},l.default.createElement(p.FormattedMessage,f.default.existingTags))),"suggestions"===oe?l.default.createElement(M,null,se&&(null==se?void 0:se.length)>0?se.filter((function(e){return!Q.includes(ue(e.title_multiloc))&&!L.some((function(t){return ue(t.attributes.title_multiloc)===ue(e.title_multiloc)}))})).map((function(e,t){return l.default.createElement(u.Button,{key:t+ue(e.title_multiloc),locale:r,icon:"plus-circle",buttonStyle:"text",onClick:(n=ue(e.title_multiloc),function(e){e.preventDefault(),(0,w.trackEventByName)("Autotag View",{action:"clicked on add suggestion"}),Z([].concat((0,i.default)(Q),[n]))}),text:ue(e.title_multiloc)});var n})):null===se||0===(null==se?void 0:se.length)?l.default.createElement(j,null,l.default.createElement(p.FormattedMessage,f.default.noSuggestions)):l.default.createElement(l.default.Fragment,null,l.default.createElement(j,null,l.default.createElement(p.FormattedMessage,f.default.suggestionLoading)),l.default.createElement(u.Spinner,null))):l.default.createElement(A,null,null==G?void 0:G.filter((function(e){return!(null!=L&&L.find((function(t){return t.id===e.id})))})).map((function(e){return l.default.createElement(N,{key:e.id,onTagClick:de(e),isAutoTag:!1,isSelected:!1,text:ue(e.attributes.title_multiloc),icon:"plus-circle"})})))))};t.default=F},q0hg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(0,n("JRPe").defineMessages)({tags:{id:"app.containers.Admin.Processing.tags",defaultMessage:"Tags"},title:{id:"app.containers.Admin.Processing.title",defaultMessage:"Title"},export:{id:"app.containers.Admin.Processing.export",defaultMessage:"Export"},project:{id:"app.containers.Admin.Processing.project",defaultMessage:"Project"},selectProject:{id:"app.containers.Admin.Processing.selectProject",defaultMessage:"Select project"},autotag:{id:"app.containers.Admin.Processing.autotag",defaultMessage:"Autotag"},cancel:{id:"app.containers.Admin.Processing.cancel",defaultMessage:"Cancel"},continue:{id:"app.containers.Admin.Processing.continue",defaultMessage:"Continue"},keyboardShortcuts:{id:"app.containers.Admin.Processing.keyboardShortcuts",defaultMessage:"Keyboard Shortcuts"},upAndDownArrow:{id:"app.containers.Admin.Processing.upAndDownArrow",defaultMessage:"Up and down arrows allow you to highlight the previous or next item in the list"},returnKey:{id:"app.containers.Admin.Processing.returnKey",defaultMessage:'The "Return" key opens the side panel where you can add remove tags from items'},escapeKey:{id:"app.containers.Admin.Processing.escapeKey",defaultMessage:'The "Escape" key closes the side panel and brings you back to the full list'},autotagOverwriteAlert:{id:"app.containers.Admin.Processing.autotagOverwriteAlert",defaultMessage:"This action may overwrite existing tags. Are you sure you want to continue?"},autotagOverwriteExplanation:{id:"app.containers.Admin.Processing.autotagOverwriteExplanation",defaultMessage:"Auto-tagging items will overwrite any previously automatically-generated tags. Tags that have been approved or that were manually added will not be overwritten."},tag:{id:"app.containers.Admin.Processing.tag",defaultMessage:"tag"},pleaseSelectAProject:{id:"app.containers.Admin.Processing.pleaseSelectAProject",defaultMessage:"please select a project"},automaticallyAssign:{id:"app.containers.Admin.Processing.automaticallyAssign",defaultMessage:"Automatically assign tags to selected items"},addNewTag:{id:"app.containers.Admin.Processing.addNewTag",defaultMessage:"Add new tag"},addExistingTag:{id:"app.containers.Admin.Processing.addExistingTag",defaultMessage:"Add existing tag"},suggestedTags:{id:"app.containers.Admin.Processing.suggestedTags",defaultMessage:"Suggested tags"},existingTags:{id:"app.containers.Admin.Processing.existingTags",defaultMessage:"Existing tags"},tagsToAssign:{id:"app.containers.Admin.Processing.projectTags",defaultMessage:"Project tags"},tagAssignationExplanation:{id:"app.containers.Admin.Processing.tagAssignationExplanation",defaultMessage:"Tags you add here will be automatically assigned to relevant items based on our natural language processing technology."},tagValidationErrorMessage:{id:"app.containers.Admin.Processing.tagValidationErrorMessage",defaultMessage:"please use max two words and do not add duplicates"},addSmartTag:{id:"app.containers.Admin.Processing.addSmartTag",defaultMessage:"Add smart tag"},approveAutoTags:{id:"app.containers.Admin.Processing.approveAutoTags",defaultMessage:"Approve auto-tags"},items:{id:"app.containers.Admin.Processing.items",defaultMessage:"{selectedCount} {selectedCount, plural, =0 {item} one {item} other {items}} selected out of {totalCount}"},helpTooltipText:{id:"app.containers.Admin.Processing.helpTooltipText",defaultMessage:"Did you know you can hit your keyboard up and down arrows to show and navigate through items content ?"},description:{id:"app.containers.Admin.Processing.description",defaultMessage:"Description"},proposedBudgetTitle:{id:"app.containers.Admin.Processing.proposedBudgetTitle",defaultMessage:"Proposed Budget"},addTag:{id:"app.components.admin.PostManager.PostPreview.addTag",defaultMessage:"Add a tag"},createTag:{id:"app.components.admin.PostManager.PostPreview.createTag",defaultMessage:"Create a tag"},suggestionLoading:{id:"app.components.admin.PostManager.PostPreview.suggestionLoading",defaultMessage:"We're retrieving suggestions to tag the selected items"},noInputInThisProject:{id:"app.components.admin.PostManager.PostPreview.noInputInThisProject",defaultMessage:"This project doesn't seem to contain any input."},pickInputCollection:{id:"app.components.admin.PostManager.PostPreview.pickInputCollection",defaultMessage:"Please select an input collection project to start with."},pendingTagText:{id:"app.components.admin.PostManager.PostPreview.pendingTagText",defaultMessage:"pending"},autotaggingProcessing:{id:"app.components.admin.PostManager.PostPreview.autotaggingProcessing",defaultMessage:"Automatic tagging : {remainingItems} items are being processed"},noSuggestions:{id:"app.components.admin.PostManager.PostPreview.noSuggestions",defaultMessage:"No suggestions found."}});t.default=a},seS7:function(e,t,n){"use strict";n("4mDm"),n("07d7"),n("PKPk"),n("ENF9"),n("3bBZ"),n("5DmW");var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("o0o1"));n("2B1R"),n("TeQF");var o=a(n("yXPU")),l=a(n("J4zp")),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=i?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(a,o,l):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n("q1tI")),s=n("ahDk"),c=n("KLnl"),d=n("Rw3A"),f=a(n("q0hg")),p=a(n("JuOV")),g=a(n("vOnD")),m=a(n("m7jU")),h=n("cCGA"),v=n("jHXq"),y=a(n("PagR"));function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}var P=g.default.div.withConfig({displayName:"TagSearch__Container",componentId:"sc-19mu1f3-0"})([""]),w=g.default.div.withConfig({displayName:"TagSearch__SelectGroupsContainer",componentId:"sc-19mu1f3-1"})(["display:flex;width:100%;flex-direction:row;align-items:flex-start;align-items:center;"]),x=(0,g.default)(p.default).withConfig({displayName:"TagSearch__StyledAsyncSelectCreatable",componentId:"sc-19mu1f3-2"})(["flex-grow:4;"]),E=(0,u.memo)((function(e){var t=e.filteredOutTags,n=e.handlePreventNavigation,a=e.onType,r=e.onAddSelect,d=e.onAddNew,p=e.intl,g=(0,u.useState)(null),b=(0,l.default)(g,2),E=b[0],O=b[1],_=(0,u.useState)(!1),k=(0,l.default)(_,2),T=k[0],j=k[1],C=(0,u.useState)(!1),S=(0,l.default)(C,2),I=S[0],M=S[1],A=(0,u.useState)(""),N=(0,l.default)(A,2),q=N[0],D=N[1],R=(0,y.default)();(0,u.useEffect)((function(){B("",(function(){}))}),[t]);var B=function(e,n){e&&(j(!0),D(e),(0,h.tagsStream)({queryParameters:{search:e}}).observable.pipe((0,s.first)()).subscribe((function(e){var a=e.data.filter((function(e){return!t.some((function(t){return e.id===t.id}))})).map((function(e){return{value:e.id,label:R(e.attributes.title_multiloc)}}));j(!1),n(a)})))},F=function(){var e=(0,o.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(t.value);case 2:O(null),M(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=(0,o.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(!1),e.prev=1,e.next=4,d(t);case 4:O(null),M(!1),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),O(null),M(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),z=!(0,c.isNonEmptyString)(q);return u.default.createElement(P,null,u.default.createElement(w,null,u.default.createElement(x,{menuPlacement:"top",name:"search-tag",isMulti:!1,cacheOptions:!1,defaultOptions:!1,loadOptions:B,isLoading:T,isDisabled:I,onChange:F,formatCreateLabel:function(e){return(0,c.isNonEmptyString)(e)?p.formatMessage(f.default.createTag):null},styles:m.default,value:E,onCreateOption:W,isValidNewOption:function(e){var r=(0,v.getTagValidation)(e)&&!t.some((function(t){return R(t.attributes.title_multiloc)===e}));return n(!!e),a(r),r},noOptionsMessage:function(e){return(0,c.isNonEmptyString)(e)?p.formatMessage(f.default.createTag):null},autoFocus:!0,components:z&&{DropdownIndicator:function(){return null}}})))})),O=(0,d.injectIntl)(E);t.default=O},wsII:function(e,t,n){"use strict";n.r(t),n.d(t,"defaultProps",(function(){return m})),n.d(t,"makeCreatableSelect",(function(){return h}));var a=n("wx14"),r=n("KQm4"),i=n("1OyB"),o=n("vuIU"),l=n("Ji7U"),u=n("gniW"),s=n("q1tI"),c=n.n(s),d=n("c0C3"),f=n("7GrE"),p=(n("VkAN"),n("QILm"),n("cDf5"),n("FUBA"),n("lSNA"),n("i8i4"),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,a=String(e).toLowerCase(),r=String(n.getOptionValue(t)).toLowerCase(),i=String(n.getOptionLabel(t)).toLowerCase();return r===a||i===a}),g={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,t,n,a){return!(!e||t.some((function(t){return p(e,t,a)}))||n.some((function(t){return p(e,t,a)})))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}},getOptionValue:d.e,getOptionLabel:d.b},m=Object(u.k)({allowCreateWhileLoading:!1,createOptionPosition:"last"},g),h=function(e){var t,n;return n=t=function(t){Object(l.a)(s,t);var n=Object(u.j)(s);function s(e){var t;Object(i.a)(this,s),(t=n.call(this,e)).select=void 0,t.onChange=function(e,n){var a=t.props,i=a.getNewOptionData,o=a.inputValue,l=a.isMulti,s=a.onChange,c=a.onCreateOption,d=a.value,f=a.name;if("select-option"!==n.action)return s(e,n);var p=t.state.newOption,g=Array.isArray(e)?e:[e];if(g[g.length-1]!==p)s(e,n);else if(c)c(o);else{var m=i(o,o),h={action:"create-option",name:f,option:m};s(l?[].concat(Object(r.a)(Object(u.e)(d)),[m]):m,h)}};var a=e.options||[];return t.state={newOption:void 0,options:a},t}return Object(o.a)(s,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"render",value:function(){var t=this,n=this.state.options;return c.a.createElement(e,Object(a.a)({},this.props,{ref:function(e){t.select=e},options:n,onChange:this.onChange}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.allowCreateWhileLoading,a=e.createOptionPosition,i=e.formatCreateLabel,o=e.getNewOptionData,l=e.inputValue,s=e.isLoading,c=e.isValidNewOption,d=e.value,f=e.getOptionValue,p=e.getOptionLabel,g=e.options||[],m=t.newOption;return{newOption:m=c(l,Object(u.e)(d),g,{getOptionValue:f,getOptionLabel:p})?o(l,i(l)):void 0,options:!n&&s||!m?g:"first"===a?[m].concat(Object(r.a)(g)):[].concat(Object(r.a)(g),[m])}}}]),s}(s.Component),t.defaultProps=m,n},v=h(d.a),y=Object(f.a)(v);t.default=y},y5tA:function(e,t,n){"use strict";n("SuFq"),n("4mDm"),n("07d7"),n("PKPk"),n("ENF9"),n("3bBZ"),n("5DmW");var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("lwsE")),o=a(n("W8MJ")),l=a(n("7W2i")),u=a(n("a1gu")),s=a(n("Nsbk")),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=i?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(a,o,l):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n("q1tI")),d=a(n("vOnD")),f=a(n("2fl8")),p=n("Rw3A"),g=a(n("ebFa"));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,s.default)(e);if(t){var r=(0,s.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}var v=d.default.div.withConfig({displayName:"GoBackButton__Container",componentId:"a15d5t-0"})(["display:inline-block;"]),y=function(e){(0,l.default)(n,e);var t=h(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,o.default)(n,[{key:"render",value:function(){var e=this.props,t=e.onClick,n=e.className;return c.default.createElement(v,{className:n||""},c.default.createElement(f.default,{onClick:t,buttonStyle:"text",icon:"arrow-back",size:"2",padding:"0px",text:c.default.createElement(p.FormattedMessage,g.default.goBack)}))}}]),n}(c.PureComponent);t.default=y}}]);
//# sourceMappingURL=74.d7f8769ee3be1d944ea0.chunk.js.map