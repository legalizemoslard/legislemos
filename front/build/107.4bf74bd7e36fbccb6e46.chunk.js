(window.webpackJsonp=window.webpackJsonp||[]).push([[107],{"2oVL":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=(0,a("JRPe").defineMessages)({pageTitle:{id:"app.components.PagesForm.pageTitle",defaultMessage:"Title"},pageSlug:{id:"app.components.PagesForm.pageSlug",defaultMessage:"Slug"},editContent:{id:"app.components.PagesForm.editContent",defaultMessage:"Content"},dontChange:{id:"app.components.PagesForm.dontChange",defaultMessage:"Don't change this! (unless you really know what you're doing)"},fileUploadLabel:{id:"app.components.PagesForm.fileUploadLabel",defaultMessage:"Add files to this page"},fileUploadLabelTooltip:{id:"app.components.PagesForm.fileUploadLabelTooltip",defaultMessage:"Files should not be larger than 50Mb. Added files will be shown on the bottom of this page."}});t.default=l},CIWa:function(e,t,a){"use strict";a("4mDm"),a("07d7"),a("3bBZ"),a("SuFq"),a("tkto"),a("pNMO"),a("5DmW"),a("FZtP"),a("27RR");var l=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("ma9I"),a("TeQF");var n=l(a("pVnL")),r=l(a("lwsE")),u=l(a("W8MJ")),o=l(a("PJYZ")),i=l(a("7W2i")),f=l(a("a1gu")),c=l(a("Nsbk")),d=l(a("lSNA")),s=l(a("q1tI")),p=l(a("vOnD")),m=a("T89o"),v=a("dtw8"),g=a("jEkH"),h=l(a("C9Am")),y=l(a("dkab")),b=a("KYPV"),O=l(a("rqWd")),P=a("96Cm"),E=l(a("y5tA")),F=l(a("3A/8")),_=a("KLnl"),w=l(a("JUYq")),k=a("88OY");function M(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function R(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?M(Object(a),!0).forEach((function(t){(0,d.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,l=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(l,arguments,n)}else a=l.apply(this,arguments);return(0,f.default)(this,a)}}var S=p.default.h1.withConfig({displayName:"Edit__Title",componentId:"ah7csr-0"})(["font-size:","px;padding:0;width:100%;margin:1rem 0 3rem 0;"],P.fontSizes.xxxl),B=function(e){(0,i.default)(a,e);var t=j(a);function a(){var e;(0,r.default)(this,a);for(var l=arguments.length,u=new Array(l),i=0;i<l;i++)u[i]=arguments[i];return e=t.call.apply(t,[this].concat(u)),(0,d.default)((0,o.default)(e),"initialValues",(function(){var t=e.props.page;return!(0,_.isNilOrError)(t)&&{title_multiloc:t.attributes.title_multiloc,slug:t.attributes.slug,body_multiloc:t.attributes.body_multiloc}})),(0,d.default)((0,o.default)(e),"changedValues",(function(e,t){var a=(0,m.keys)(t).filter((function(a){return!(0,m.isEqual)(e[a],t[a])}));return(0,m.pick)(t,a)})),(0,d.default)((0,o.default)(e),"handleSubmit",(function(t,a){var l=a.setErrors,n=a.setSubmitting,r=a.setStatus,u=e.props.page;(0,_.isNilOrError)(u)||(0,g.updatePage)(u.id,R({},e.changedValues(e.initialValues(),t))).then((function(){w.default.push("/admin/pages")})).catch((function(e){if((0,k.isCLErrorJSON)(e)){var t=e.json.errors;l(t)}else r("error");n(!1)}))})),(0,d.default)((0,o.default)(e),"handleGoBack",(function(){w.default.push("/admin/pages")})),(0,d.default)((0,o.default)(e),"renderFn",(function(t){return!(0,_.isNilOrError)(e.props.page)&&s.default.createElement(y.default,(0,n.default)({},t,{mode:"edit",pageId:e.props.page.id}))})),e}return(0,u.default)(a,[{key:"render",value:function(){var e=this.props.page,t=this.initialValues();return!(0,_.isNilOrError)(e)&&t&&s.default.createElement(s.default.Fragment,null,s.default.createElement(E.default,{onClick:this.handleGoBack}),s.default.createElement(S,null,s.default.createElement(F.default,{value:e.attributes.title_multiloc})),s.default.createElement(O.default,null,s.default.createElement(b.Formik,{initialValues:t,onSubmit:this.handleSubmit,render:this.renderFn,validate:y.default.validate})))}}]),a}(s.default.Component),C=(0,v.withRouter)((function(e){return s.default.createElement(h.default,{id:e.params.pageId},(function(t){return s.default.createElement(B,(0,n.default)({},e,{page:t}))}))}));t.default=C},URPI:function(e,t,a){"use strict";a("SuFq"),a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var l=a("TqRt"),n=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("ma9I"),a("sMBO");var r=l(a("pVnL")),u=l(a("lwsE")),o=l(a("W8MJ")),i=l(a("PJYZ")),f=l(a("7W2i")),c=l(a("a1gu")),d=l(a("Nsbk")),s=l(a("lSNA")),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=v(t);if(a&&a.has(e))return a.get(e);var l={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var o=r?Object.getOwnPropertyDescriptor(e,u):null;o&&(o.get||o.set)?Object.defineProperty(l,u,o):l[u]=e[u]}l.default=e,a&&a.set(e,l);return l}(a("q1tI")),m=l(a("w13Z"));function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(v=function(e){return e?a:t})(e)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,l=(0,d.default)(e);if(t){var n=(0,d.default)(this).constructor;a=Reflect.construct(l,arguments,n)}else a=l.apply(this,arguments);return(0,c.default)(this,a)}}var h=function(e){(0,f.default)(a,e);var t=g(a);function a(){var e;(0,u.default)(this,a);for(var l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];return e=t.call.apply(t,[this].concat(n)),(0,s.default)((0,i.default)(e),"handleOnChange",(function(t){e.props.form.setFieldValue(e.props.field.name,t),e.props.form.setStatus("enabled")})),(0,s.default)((0,i.default)(e),"handleOnBlur",(function(){e.props.form.setFieldTouched(e.props.field.name)})),e}return(0,o.default)(a,[{key:"render",value:function(){var e=this.props.field;return p.default.createElement(m.default,(0,r.default)({},this.props,{valueMultiloc:e.value,onChange:this.handleOnChange,onBlur:this.handleOnBlur}))}}]),a}(p.PureComponent);t.default=h},dkab:function(e,t,a){"use strict";a("SuFq");var l=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("ma9I"),a("4mDm"),a("07d7"),a("3bBZ"),a("TeQF");var n=l(a("RIqP")),r=l(a("pVnL")),u=l(a("lwsE")),o=l(a("W8MJ")),i=l(a("PJYZ")),f=l(a("7W2i")),c=l(a("a1gu")),d=l(a("Nsbk")),s=l(a("lSNA")),p=l(a("q1tI")),m=a("T89o"),v=a("KYPV"),g=l(a("vOnD")),h=l(a("nU48")),y=l(a("P3Wr")),b=l(a("URPI")),O=l(a("DdGJ")),P=a("Loij"),E=l(a("Zc1O")),F=a("iP56"),_=l(a("aS2l")),w=l(a("EB+E")),k=a("Rw3A"),M=l(a("2oVL"));function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,l=(0,d.default)(e);if(t){var n=(0,d.default)(this).constructor;a=Reflect.construct(l,arguments,n)}else a=l.apply(this,arguments);return(0,c.default)(this,a)}}var j=(0,g.default)(P.Section).withConfig({displayName:"PageForm__StyledSection",componentId:"sc-1ml0ca6-0"})(["margin-bottom:30px;"]),S=function(e){(0,f.default)(a,e);var t=R(a);function a(){var e;(0,u.default)(this,a);for(var l=arguments.length,o=new Array(l),f=0;f<l;f++)o[f]=arguments[f];return e=t.call.apply(t,[this].concat(o)),(0,s.default)((0,i.default)(e),"renderQuill",(function(t){return p.default.createElement(b.default,(0,r.default)({label:p.default.createElement(k.FormattedMessage,M.default.editContent),id:"".concat(e.props.slug,"-").concat(t.fieldName)},t,{withCTAButton:!0}))})),(0,s.default)((0,i.default)(e),"renderFileUploader",(function(t){return function(){var a=t.local_page_files;return p.default.createElement(w.default,{onFileAdd:e.handlePageFileOnAdd,onFileRemove:e.handlePageFileOnRemove,files:a})}})),(0,s.default)((0,i.default)(e),"handlePageFileOnAdd",(function(t){var a=e.props,l=a.setFieldValue,r=a.setStatus,u=a.values;l("local_page_files",[].concat((0,n.default)(u.local_page_files),[t])),r("enabled")})),(0,s.default)((0,i.default)(e),"handlePageFileOnRemove",(function(t){var a=e.props,l=a.setFieldValue,r=a.setStatus,u=a.values;l("local_page_files",(0,n.default)(u.local_page_files).filter((function(e){return e!==t}))),r("enabled")})),e}return(0,o.default)(a,[{key:"render",value:function(){var e=this.props,t=e.isSubmitting,a=e.errors,l=e.isValid,n=e.touched,r=e.mode,u=e.hideTitle,o=e.values,i=e.status;return p.default.createElement(v.Form,null,p.default.createElement(j,null,!u&&p.default.createElement(P.SectionField,null,p.default.createElement(v.Field,{name:"title_multiloc",component:y.default,label:p.default.createElement(k.FormattedMessage,M.default.pageTitle)}),n.title_multiloc&&p.default.createElement(E.default,{fieldName:"title_multiloc",apiErrors:a.title_multiloc})),p.default.createElement(P.SectionField,{className:"fullWidth"},p.default.createElement(v.Field,{name:"body_multiloc",render:this.renderQuill}),n.body_multiloc&&p.default.createElement(E.default,{fieldName:"body_multiloc",apiErrors:a.body_multiloc})),"edit"===r&&p.default.createElement(P.SectionField,null,p.default.createElement(F.Label,null,p.default.createElement(k.FormattedMessage,M.default.pageSlug)),p.default.createElement(v.Field,{name:"slug",component:h.default,label:p.default.createElement(k.FormattedMessage,M.default.pageSlug)}),n.slug&&p.default.createElement(E.default,{fieldName:"slug",apiErrors:a.slug}),p.default.createElement(_.default,null,p.default.createElement(k.FormattedMessage,M.default.dontChange))),p.default.createElement(P.SectionField,null,p.default.createElement(F.Label,null,p.default.createElement(k.FormattedMessage,M.default.fileUploadLabel),p.default.createElement(F.IconTooltip,{content:p.default.createElement(k.FormattedMessage,M.default.fileUploadLabelTooltip)})),p.default.createElement(v.Field,{name:"page_files",render:this.renderFileUploader(o)}))),p.default.createElement(O.default,{isValid:l,isSubmitting:t,status:i,touched:n}))}}]),a}(p.default.Component);(0,s.default)(S,"validate",(function(e){var t={};return(0,m.every)((0,m.values)(e.title_multiloc),m.isEmpty)&&(t.title_multiloc=[{error:"blank"}]),(0,m.every)((0,m.values)(e.body_multiloc),m.isEmpty)&&(t.body_multiloc=[{error:"blank"}]),t}));var B=S;t.default=B},ebFa:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=(0,a("JRPe").defineMessages)({goBack:{id:"app.components.GoBackButton.group.edit.goBack",defaultMessage:"Go back"}});t.default=l},nU48:function(e,t,a){"use strict";a("SuFq"),a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var l=a("TqRt"),n=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("ma9I"),a("sMBO");var r=l(a("pVnL")),u=l(a("lwsE")),o=l(a("W8MJ")),i=l(a("PJYZ")),f=l(a("7W2i")),c=l(a("a1gu")),d=l(a("Nsbk")),s=l(a("lSNA")),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=v(t);if(a&&a.has(e))return a.get(e);var l={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var o=r?Object.getOwnPropertyDescriptor(e,u):null;o&&(o.get||o.set)?Object.defineProperty(l,u,o):l[u]=e[u]}l.default=e,a&&a.set(e,l);return l}(a("q1tI")),m=a("iP56");function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(v=function(e){return e?a:t})(e)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,l=(0,d.default)(e);if(t){var n=(0,d.default)(this).constructor;a=Reflect.construct(l,arguments,n)}else a=l.apply(this,arguments);return(0,c.default)(this,a)}}var h=function(e){(0,f.default)(a,e);var t=g(a);function a(){var e;(0,u.default)(this,a);for(var l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];return e=t.call.apply(t,[this].concat(n)),(0,s.default)((0,i.default)(e),"handleOnChange",(function(t,a){e.props.form.setFieldValue(e.props.field.name,t)})),e}return(0,o.default)(a,[{key:"render",value:function(){var e=this.props.field,t=e.name,a=e.value;return p.default.createElement(m.Input,(0,r.default)({},this.props,{name:t,value:a,onChange:this.handleOnChange}))}}]),a}(p.PureComponent);t.default=h},y5tA:function(e,t,a){"use strict";a("SuFq"),a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var l=a("TqRt"),n=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(a("lwsE")),u=l(a("W8MJ")),o=l(a("7W2i")),i=l(a("a1gu")),f=l(a("Nsbk")),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=v(t);if(a&&a.has(e))return a.get(e);var l={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var o=r?Object.getOwnPropertyDescriptor(e,u):null;o&&(o.get||o.set)?Object.defineProperty(l,u,o):l[u]=e[u]}l.default=e,a&&a.set(e,l);return l}(a("q1tI")),d=l(a("vOnD")),s=l(a("2fl8")),p=a("Rw3A"),m=l(a("ebFa"));function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(v=function(e){return e?a:t})(e)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,l=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(l,arguments,n)}else a=l.apply(this,arguments);return(0,i.default)(this,a)}}var h=d.default.div.withConfig({displayName:"GoBackButton__Container",componentId:"a15d5t-0"})(["display:inline-block;"]),y=function(e){(0,o.default)(a,e);var t=g(a);function a(){return(0,r.default)(this,a),t.apply(this,arguments)}return(0,u.default)(a,[{key:"render",value:function(){var e=this.props,t=e.onClick,a=e.className;return c.default.createElement(h,{className:a||""},c.default.createElement(s.default,{onClick:t,buttonStyle:"text",icon:"arrow-back",size:"2",padding:"0px",text:c.default.createElement(p.FormattedMessage,m.default.goBack)}))}}]),a}(c.PureComponent);t.default=y}}]);
//# sourceMappingURL=107.4bf74bd7e36fbccb6e46.chunk.js.map