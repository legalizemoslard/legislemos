{"version":3,"sources":["webpack:///./app/components/PostShowComponents/Comments/LoadingComments.tsx","webpack:///./app/components/PostShowComponents/SharingModalContent/index.tsx","webpack:///./app/containers/InitiativesShow/ActionBar/InitiativeMoreActions.tsx","webpack:///./app/containers/InitiativesShow/styleConstants.ts","webpack:///./app/components/PostShowComponents/SharingModalContent/rocket.png","webpack:///./app/components/PostShowComponents/Image.tsx","webpack:///./app/resources/GetResourceFiles.tsx","webpack:///./app/containers/InitiativesShow/VoteControl/ThresholdReached.tsx","webpack:///./app/containers/InitiativesShow/VoteControl/ProposedVoted.tsx","webpack:///./app/containers/InitiativesShow/VoteControl/Expired.tsx","webpack:///./app/components/PostShowComponents/Breadcrumbs.tsx","webpack:///./app/containers/InitiativesShow/VoteControl/Ineligible.tsx","webpack:///./app/containers/InitiativesShow/InitiativeMeta.tsx","webpack:///./app/containers/InitiativesShow/VoteControl/index.tsx","webpack:///./app/containers/InitiativesShow/VoteControl/ProposedNotVoted.tsx","webpack:///./app/components/UI/CollapsibleBox/index.tsx","webpack:///./app/components/PostShowComponents/Topics.tsx","webpack:///./app/services/initiativeStatuses.ts","webpack:///./app/components/PostShowComponents/DropdownMap/index.tsx","webpack:///./app/components/PostShowComponents/Footer.tsx","webpack:///./app/components/PostShowComponents/SharingModalContent/messages.ts","webpack:///./app/components/PostShowComponents/SharingModalContent/tracks.ts","webpack:///./app/resources/GetInitiativeImages.tsx","webpack:///./app/components/PostShowComponents/messages.ts","webpack:///./app/containers/InitiativesShow/tracks.ts","webpack:///./app/services/initiatives.ts","webpack:///./app/containers/InitiativesShow/VoteControl/Custom.tsx","webpack:///./app/containers/InitiativesShowPage/InitiativeShowPageTopBar.tsx","webpack:///./app/containers/InitiativesShow/PostedByMobile.tsx","webpack:///./app/components/PostShowComponents/styleConstants.ts","webpack:///./app/containers/InitiativesShow/VoteControl/messages.ts","webpack:///./app/components/PostShowComponents/ActionBar.tsx","webpack:///./app/containers/InitiativesShow/VoteControl/SharedStyles.tsx","webpack:///./app/resources/GetPermission.tsx","webpack:///./app/containers/InitiativesShow/ActionBar/index.tsx","webpack:///./app/containers/InitiativesShow/messages.ts","webpack:///./app/containers/InitiativesShow/PostedBy.tsx","webpack:///./app/containers/InitiativesShow/index.tsx","webpack:///./app/containers/InitiativesShow/VoteControl/CountDown.tsx","webpack:///./app/containers/InitiativesShow/VoteControl/Answered.tsx","webpack:///./app/services/initiativeVotes.ts","webpack:///./app/containers/InitiativesShowPage/messages.ts","webpack:///./app/containers/InitiativesShowPage/index.tsx"],"names":["Container","styled","div","LoadingMessage","colors","label","fontSizes","medium","props","className","FormattedMessage","messages","loadingComments","Loading","Rocket","img","media","smallerThanMaxTablet","Title","h1","theme","colorText","xxxxl","xxxl","Description","p","large","base","SharingWrapper","SharingModalContent","postType","idea","initiative","localize","locale","postTitle","postUrl","isNilOrError","attributes","title_multiloc","location","origin","slug","project","phases","emailSharingSubject","emailSharingBody","whatsAppMessage","inputTerm","getInputTerm","process_type","getInputTermMessage","ideaEmailSharingSubjectText","option","optionEmailSharingSubject","projectEmailSharingSubject","question","questionEmailSharingSubject","issue","issueEmailSharingSubject","contribution","contributionEmailSharingSubject","ideaEmailSharingBody","optionEmailSharingBody","projectEmailSharingBody","questionEmailSharingModalContentBody","issueEmailSharingBody","contributionEmailSharingBody","ideaWhatsAppMessage","optionWhatsAppMessage","projectWhatsAppMessage","questionWhatsAppMessage","issueWhatsAppMessage","contributionWhatsAppMessage","initiativeEmailSharingSubject","initiativeEmailSharingBody","whatsAppMessageProposal","getIdeaMessages","getInitiativeMessages","this","postId","trackEventByName","tracks","sharingModalOpened","name","authUser","title","subtitle","formatMessage","intl","getPostValues","getMessages","src","rocket","alt","context","isInModal","url","twitterMessage","emailSubject","emailBody","utmParams","source","campaign","content","id","Spinner","PureComponent","SharingModalContentWithHoCs","Data","adopt","tenant","render","ideaId","projectId","relationships","data","inputProps","dataProps","MoreActionsMenuWrapper","InitiativeMoreActions","setState","spamModalVisible","clHistory","push","initiativeId","message","deleteInitiativeConfirmation","window","confirm","deleteInitiative","goBack","state","color","item","action","moreOptions","actions","reportAsSpam","handler","openSpamModal","editInitiative","onEditInitiative","onDeleteInitiative","No","opened","close","closeSpamModal","header","reportAsSpamModalTitle","resourceId","resourceType","InitiativeMoreActionsWithHOCs","Image","borderRadius","separation","memo","GetResourceFiles","files","undefined","resetOnChange","inputProps$","BehaviorSubject","subscriptions","pipe","distinctUntilChanged","prev","next","tap","filter","isString","switchMap","streamFn","projectFilesStream","phaseFilesStream","eventFilesStream","pageFilesStream","ideaFilesStream","initiativeFilesStream","observable","subscribe","forEach","subscription","unsubscribe","children","React","Component","StatusIcon","Icon","VoteText","StyledButton","Button","ThresholdReached","onVote","initiativeSettings","voting_threshold","threshold_reached_message","initiativeStatus","userVoted","voteCount","upvotes_count","voteLimit","StatusWrapper","value","ariaHidden","StatusExplanation","thresholdReachedStatusExplanation","values","thresholdReachedStatusExplanationBold","IconTooltip","icon","iconColor","placement","supportHtml","xVotesOfY","votingThreshold","xVotes","count","onClick","handleOnVote","vote","withTheme","scaleIn","keyframes","StyledIcon","clGreenSuccess","VotedTitle","h4","VotedText","UnvoteButton","button","darken","VoteCounter","VoteTextLeft","clGreyOnGreyBackground","VoteTextRight","StyledProgressBar","ProgressBar","ProposedVoted","onCancelVote","daysLeft","getDaysRemainingUntil","expires_at","votedTitle","votedText","x","xDays","handleOnCancelVote","unvoteLink","ScreenReaderOnly","progress","bgColor","lightGreyishBlue","VoteTexts","expiredStatusExplanation","expiredStatusExplanationBold","bgShaded","disabled","cancelVote","HomeLink","Link","HomeIcon","Separator","StyledLink","small","LinkText","span","Breadcrumbs","links","to","linkToHomePage","map","link","key","text","injectIntl","Ineligible","onScrollToOfficialFeedback","eligibility_criteria","ineligibleStatusExplanation","ineligibleStatusExplanationBold","handleOnReadAnswer","readAnswer","InitiativeMeta","initiativeImages","author","body_multiloc","tenantLocales","settings","core","locales","localizedTitle","initiativeTitle","metaTitle","initiativeDescription","stripHtml","initiativeImage","length","versions","fb","initiativeUrl","href","initiativeOgTitle","metaOgTitle","articleJson","image","headline","first_name","last_name","mainEntityOfPage","datePublished","published_at","json","itemListElement","position","host","logo","Helmet","unread_notifications","property","initiativeOgDescription","imageSizes","initiativeImg","type","JSON","stringify","get","InitiativeMetaWithHoc","biggerThanMaxTablet","defaultCardStyle","componentMap","proposed","voted","notVoted","ProposedNotVoted","expired","Expired","threshold_reached","answered","Answered","ineligible","custom","Custom","VoteControl","votingPermission","openSignUpInModal","flow","verification","verificationContext","openVerificationModal","addVote","mode","user_vote","deleteVote","initiatives","expiresAt","isExpired","moment","duration","diff","asSeconds","statusCode","code","StatusComponent","tagName","invisibleTitle","handleOnvote","disabledReason","initiative_status","CountDownWrapper","colorMain","OnDesktop","OnMobile","TooltipContent","inMap","TooltipContentIcon","TooltipContentText","clBlueDark","disabledMessages","notPermitted","votingNotPermitted","thresholdReachedTooltip","tippyContent","targetTime","proposedStatusExplanation","proposedStatusExplanationBold","proposedStatusExplanationMobile","proposedStatusExplanationMobileBold","interactive","hideOnClick","tabIndex","iconAriaHidden","buttonStyle","ariaDisabled","TitleIcon","smallerThanMinTablet","ContentLabel","ContentToggleButton","ArrowIcon","Wrapper","contentBackgroundColor","largePhone","useState","showContent","setShowContent","handleContentToggle","useCallback","titleIconName","e2eId","classNames","in","timeout","mountOnEnter","unmountOnExit","exit","Suspense","fallback","isRtl","Topic","colorSecondary","transparentize","Topics","topicIds","topics","topic","streams","apiEndpoint","API_PATH","Map","lazy","address","LazyComments","Content","postPageContentMaxWidth","ContentInner","rightColumnWidthDesktop","columnsGapDesktop","tablet","rightColumnWidthTablet","columnsGapTablet","defineMessages","defaultMessage","GetInitiativeImages","initiativeImagesStream","of","readMore","clickTranslateInitiativeButton","clickGoBackToOriginalInitiativeCopyButton","initiativeSlug","streamParams","cacheStream","initiativeByIdStream","object","add","response","update","fetchAllWith","Promise","all","first","toPromise","delete","authorId","description_multiloc","mobileTopBarHeight","lighten","TopBarInner","biggerThanMinTablet","Left","Right","GoBackIcon","GoBackButton","GoBackLabel","phone","insideModal","onGoBack","event","preventDefault","eventEmitter","emit","PostedByText","authorName","userId","fontWeight","isLinkToProfile","hideLastName","postedByShort","moreInfo","days","hours","minutes","answeredStatusExplanation","answeredStatusExplanationBold","xPeopleVoted","xPeople","or","adminSeparation","Inner","rightContent","leftContent","translateButtonClicked","onTranslate","clGreen","TooltipWrapper","HelpIcon","GetPermission","permission","hasPermission","StyledInitiativeMoreActions","ActionBar","onTranslateInitiative","allInitiatives","invisibleTitleContent","learnMore","postedBy","skipSharing","shareTitle","shareSubtitle","a11y_voteControl","InitiativesIcon","adminTextColor","PostedByWrapper","AboutInitiativesLink","showAboutInitiatives","main","menuHeight","footerHeight","mobileMenuHeight","InitiativeContainer","pageContentMaxWidth","LeftColumn","StyledTopics","InitiativeHeader","InitiativeBannerContainer","InitiativeBannerImage","InitiativeHeaderOverlay","InitiativeBannerContent","MobileMoreActionContainer","StyledDropdownMap","DropdownMap","RightColumn","RightColumnDesktop","MetaContent","SharingButtonsMobile","SharingButtons","StyledOfficialFeedback","OfficialFeedback","StyledVoteControl","InitiativesShow","createRef","loaded","officialFeedbacks","isUndefined","officialFeedbacksList","initiativeIdForSocialSharing","prevState","trackEvent","officialFeedbackElement","current","scrollIntoView","behavior","block","inline","a11y_pronounceLatestOfficialFeedbackPost","timeoutRef","setTimeout","newInitiativeId","query","setLoaded","history","replaceState","pathname","clearTimeout","initiativeFiles","windowSize","postOfficialFeedbackPermission","daysLimit","days_limit","initiativeHeaderImageLarge","header_bg","initiativeImageLarge","initiativeGeoPosition","location_point_geojson","initiativeAddress","getAddressOrFallbackDMS","location_description","initiativeBody","isDesktop","viewportWidths","largeTablet","isNotDesktop","align","body","ref","permissionToPost","enter","contentFadeInDuration","closeInitiativeSocialSharingModal","hasSkipButton","skipText","InitiativesShowWithHOCs","withRouter","TimeComponent","Count","Unit","refresh","Date","now","interval","setInterval","clearInterval","start","end","durationAsSeconds","formattedDuration","convertSecondsToDDHHMM","split","hoursLeft","minutesLeft","Buttons","voteId","noInitiativeFoundHere","goBackToList","InitiativeNotFoundWrapper","StyledInitiativeShowPageTopBar","InitiativeShowPageTopBar","StyledInitiativesShow","goBackToListMessage","InitiativesShowPage","isError","linkTo","params"],"mappings":"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","file":"71.f780c0d2a0e05ad6c82c.chunk.js","sourcesContent":["import React from 'react';\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from './messages';\nimport styled from 'styled-components';\nimport { colors, fontSizes } from 'utils/styleUtils';\n\nconst Container = styled.div`\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst LoadingMessage = styled.div`\n  color: ${colors.label};\n  font-size: ${fontSizes.medium}px;\n  font-weight: 400;\n`;\n\ninterface Props {\n  className?: string;\n}\n\nexport default (props: Props) => (\n  <Container className={props.className}>\n    <LoadingMessage>\n      <FormattedMessage {...messages.loadingComments} />\n    </LoadingMessage>\n  </Container>\n);\n","import React, { PureComponent } from 'react';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { adopt } from 'react-adopt';\nimport { getInputTerm } from 'services/participationContexts';\n\n// components\nimport SharingButtons from 'components/Sharing/SharingButtons';\nimport { Spinner } from 'cl2-component-library';\n\n// resources\nimport GetLocale, { GetLocaleChildProps } from 'resources/GetLocale';\nimport GetAppConfiguration, {\n  GetAppConfigurationChildProps,\n} from 'resources/GetAppConfiguration';\nimport GetAuthUser, { GetAuthUserChildProps } from 'resources/GetAuthUser';\nimport GetIdea, { GetIdeaChildProps } from 'resources/GetIdea';\nimport GetInitiative, {\n  GetInitiativeChildProps,\n} from 'resources/GetInitiative';\nimport GetProject, { GetProjectChildProps } from 'resources/GetProject';\nimport GetPhases, { GetPhasesChildProps } from 'resources/GetPhases';\nimport { PostType } from 'resources/GetPost';\n\n// i18n\nimport { InjectedIntlProps } from 'react-intl';\nimport injectIntl from 'utils/cl-intl/injectIntl';\nimport localize, { InjectedLocalized } from 'utils/localize';\nimport messages from './messages';\nimport { getInputTermMessage } from 'utils/i18n';\n\n// tracking\nimport { trackEventByName } from 'utils/analytics';\nimport tracks from './tracks';\n\n// style\nimport styled from 'styled-components';\nimport { fontSizes, media } from 'utils/styleUtils';\nimport rocket from './rocket.png';\n\nconst Loading = styled.div`\n  width: 100%;\n  height: 460px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst Container = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst Rocket = styled.img`\n  width: 40px;\n  height: 40px;\n\n  ${media.smallerThanMaxTablet`\n    width: 35px;\n    height: 35px;\n  `}\n`;\n\nconst Title = styled.h1`\n  flex-shrink: 0;\n  width: 100%;\n  color: ${({ theme }) => theme.colorText};\n  font-size: ${fontSizes.xxxxl}px;\n  line-height: 40px;\n  font-weight: 500;\n  text-align: center;\n  margin: 0;\n  margin-top: 20px;\n  margin-bottom: 10px;\n  padding: 0;\n\n  ${media.smallerThanMaxTablet`\n    max-width: auto;\n    font-size: ${fontSizes.xxxl}px;\n    line-height: 36px;\n  `}\n`;\n\nconst Description = styled.p`\n  flex-shrink: 0;\n  width: 100%;\n  max-width: 500px;\n  color: ${({ theme }) => theme.colorText};\n  font-size: ${fontSizes.large}px;\n  line-height: 25px;\n  font-weight: 300;\n  text-align: center;\n  margin: 0;\n  margin-top: 10px;\n  margin-bottom: 50px;\n  padding: 0;\n\n  ${media.smallerThanMaxTablet`\n    font-size: ${fontSizes.base}px;\n    line-height: 21px;\n  `}\n`;\n\nconst SharingWrapper = styled.div`\n  flex-shrink: 0;\n  width: 100%;\n  max-width: 300px;\n  display: flex;\n  flex-direction: column;\n`;\n\ninterface InputProps {\n  postType: PostType;\n  postId: string | null;\n  className?: string;\n  title: string;\n  subtitle: string;\n}\n\ninterface DataProps {\n  locale: GetLocaleChildProps;\n  tenant: GetAppConfigurationChildProps;\n  authUser: GetAuthUserChildProps;\n  idea: GetIdeaChildProps;\n  initiative: GetInitiativeChildProps;\n  project: GetProjectChildProps;\n  phases: GetPhasesChildProps;\n}\n\ninterface Props extends InputProps, DataProps {}\n\ninterface State {}\n\nclass SharingModalContent extends PureComponent<\n  Props & InjectedIntlProps & InjectedLocalized,\n  State\n> {\n  componentDidMount() {\n    const { postId, postType } = this.props;\n\n    trackEventByName(tracks.sharingModalOpened.name, {\n      postId,\n      postType,\n    });\n  }\n\n  getPostValues = () => {\n    const { postType, idea, initiative, localize, locale } = this.props;\n    let postTitle: string | null = null;\n    let postUrl: string | null = null;\n\n    if (postType === 'idea' && !isNilOrError(idea)) {\n      postTitle = localize(idea.attributes.title_multiloc);\n      postUrl = `${location.origin}/${locale}/${postType}s/${idea.attributes.slug}`;\n    }\n\n    if (postType === 'initiative' && !isNilOrError(initiative)) {\n      postTitle = localize(initiative.attributes.title_multiloc);\n      postUrl = `${location.origin}/${locale}/${postType}s/${initiative.attributes.slug}`;\n    }\n\n    return { postTitle, postUrl };\n  };\n\n  getIdeaMessages = () => {\n    const { project, phases } = this.props;\n    let emailSharingSubject: ReactIntl.FormattedMessage.MessageDescriptor | null = null;\n    let emailSharingBody: ReactIntl.FormattedMessage.MessageDescriptor | null = null;\n    let whatsAppMessage: ReactIntl.FormattedMessage.MessageDescriptor | null = null;\n\n    if (!isNilOrError(project)) {\n      const inputTerm = getInputTerm(\n        project.attributes.process_type,\n        project,\n        phases\n      );\n\n      emailSharingSubject = getInputTermMessage(inputTerm, {\n        idea: messages.ideaEmailSharingSubjectText,\n        option: messages.optionEmailSharingSubject,\n        project: messages.projectEmailSharingSubject,\n        question: messages.questionEmailSharingSubject,\n        issue: messages.issueEmailSharingSubject,\n        contribution: messages.contributionEmailSharingSubject,\n      });\n      emailSharingBody = getInputTermMessage(inputTerm, {\n        idea: messages.ideaEmailSharingBody,\n        option: messages.optionEmailSharingBody,\n        project: messages.projectEmailSharingBody,\n        question: messages.questionEmailSharingModalContentBody,\n        issue: messages.issueEmailSharingBody,\n        contribution: messages.contributionEmailSharingBody,\n      });\n      whatsAppMessage = getInputTermMessage(inputTerm, {\n        idea: messages.ideaWhatsAppMessage,\n        option: messages.optionWhatsAppMessage,\n        project: messages.projectWhatsAppMessage,\n        question: messages.questionWhatsAppMessage,\n        issue: messages.issueWhatsAppMessage,\n        contribution: messages.contributionWhatsAppMessage,\n      });\n    }\n\n    return { emailSharingSubject, emailSharingBody, whatsAppMessage };\n  };\n\n  getInitiativeMessages = () => {\n    const emailSharingSubject = messages.initiativeEmailSharingSubject;\n    const emailSharingBody = messages.initiativeEmailSharingBody;\n    const whatsAppMessage = messages.whatsAppMessageProposal;\n\n    return { emailSharingSubject, emailSharingBody, whatsAppMessage };\n  };\n\n  getMessages = () => {\n    const { postType } = this.props;\n\n    if (postType === 'idea') {\n      return this.getIdeaMessages();\n    } else {\n      return this.getInitiativeMessages();\n    }\n  };\n\n  render() {\n    const { postType, authUser, className, title, subtitle } = this.props;\n    const { formatMessage } = this.props.intl;\n\n    const { postTitle, postUrl } = this.getPostValues();\n    const {\n      emailSharingBody,\n      emailSharingSubject,\n      whatsAppMessage,\n    } = this.getMessages();\n\n    if (\n      !isNilOrError(authUser) &&\n      postUrl &&\n      emailSharingBody &&\n      emailSharingSubject &&\n      whatsAppMessage\n    ) {\n      return (\n        <Container className={className}>\n          <Rocket src={rocket} alt=\"rocket\" />\n          <Title className={`e2e-${postType}-social-sharing-modal-title`}>\n            {title}\n          </Title>\n          <Description>{subtitle}</Description>\n          <SharingWrapper>\n            <SharingButtons\n              context={postType}\n              isInModal\n              url={postUrl}\n              twitterMessage={formatMessage(messages.twitterMessage, {\n                postTitle,\n              })}\n              whatsAppMessage={formatMessage(whatsAppMessage, {\n                postTitle,\n              })}\n              emailSubject={formatMessage(emailSharingSubject, { postTitle })}\n              emailBody={formatMessage(emailSharingBody, {\n                postTitle,\n                postUrl,\n              })}\n              utmParams={{\n                source: `share_${postType}`,\n                campaign: `${postType}flow`,\n                content: authUser.id,\n              }}\n            />\n          </SharingWrapper>\n        </Container>\n      );\n    }\n\n    return (\n      <Loading>\n        <Spinner />\n      </Loading>\n    );\n  }\n}\n\nconst SharingModalContentWithHoCs = injectIntl<Props>(\n  localize(SharingModalContent)\n);\n\nconst Data = adopt<DataProps, InputProps>({\n  locale: <GetLocale />,\n  tenant: <GetAppConfiguration />,\n  authUser: <GetAuthUser />,\n  idea: ({ postId, postType, render }) => (\n    <GetIdea ideaId={postId && postType === 'idea' ? postId : null}>\n      {render}\n    </GetIdea>\n  ),\n  initiative: ({ postId, postType, render }) => (\n    <GetInitiative id={postId && postType === 'initiative' ? postId : null}>\n      {render}\n    </GetInitiative>\n  ),\n  project: ({ idea, render }) => (\n    <GetProject\n      projectId={\n        !isNilOrError(idea) ? idea.relationships.project.data.id : null\n      }\n    >\n      {render}\n    </GetProject>\n  ),\n  phases: ({ idea, render }) => (\n    <GetPhases\n      projectId={\n        !isNilOrError(idea) ? idea.relationships.project.data.id : null\n      }\n    >\n      {render}\n    </GetPhases>\n  ),\n});\n\nexport default (inputProps: InputProps) => (\n  <Data {...inputProps}>\n    {(dataProps) => (\n      <SharingModalContentWithHoCs {...inputProps} {...dataProps} />\n    )}\n  </Data>\n);\n","import React, { PureComponent } from 'react';\nimport styled from 'styled-components';\nimport { adopt } from 'react-adopt';\n\n// utils\nimport { isNilOrError } from 'utils/helperUtils';\n\n// components\nimport HasPermission from 'components/HasPermission';\nimport MoreActionsMenu from 'components/UI/MoreActionsMenu';\nimport Modal from 'components/UI/Modal';\nimport SpamReportForm from 'containers/SpamReport';\n\n// i18n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from '../messages';\nimport { InjectedIntlProps } from 'react-intl';\nimport injectIntl from 'utils/cl-intl/injectIntl';\n\n// services\nimport { deleteInitiative, IInitiativeData } from 'services/initiatives';\n\n// router\nimport clHistory from 'utils/cl-router/history';\n\nimport GetAuthUser, { GetAuthUserChildProps } from 'resources/GetAuthUser';\n\nconst Container = styled.div``;\n\nconst MoreActionsMenuWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  margin-left: 35px;\n`;\n\ninterface InputProps {\n  initiative: IInitiativeData;\n  className?: string;\n  color?: string;\n  id: string;\n}\n\ninterface DataProps {\n  authUser: GetAuthUserChildProps;\n}\n\ninterface Props extends InputProps, DataProps {}\n\ninterface State {\n  spamModalVisible: boolean;\n}\n\nclass InitiativeMoreActions extends PureComponent<\n  Props & InjectedIntlProps,\n  State\n> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      spamModalVisible: false,\n    };\n  }\n\n  openSpamModal = () => {\n    this.setState({ spamModalVisible: true });\n  };\n\n  closeSpamModal = () => {\n    this.setState({ spamModalVisible: false });\n  };\n\n  onEditInitiative = () => {\n    clHistory.push(`/initiatives/edit/${this.props.initiative.id}`);\n  };\n\n  onDeleteInitiative = (initiativeId: string) => () => {\n    const message = this.props.intl.formatMessage(\n      messages.deleteInitiativeConfirmation\n    );\n\n    if (window.confirm(message)) {\n      deleteInitiative(initiativeId);\n      clHistory.goBack();\n    }\n  };\n\n  render() {\n    const { initiative, className, authUser, color, id } = this.props;\n    const { spamModalVisible } = this.state;\n\n    if (!isNilOrError(authUser) && !isNilOrError(initiative)) {\n      return (\n        <Container className={className}>\n          <MoreActionsMenuWrapper>\n            <HasPermission item={initiative} action=\"edit\" context={initiative}>\n              <MoreActionsMenu\n                label={<FormattedMessage {...messages.moreOptions} />}\n                color={color}\n                id={id}\n                actions={[\n                  {\n                    label: <FormattedMessage {...messages.reportAsSpam} />,\n                    handler: this.openSpamModal,\n                  },\n                  {\n                    label: <FormattedMessage {...messages.editInitiative} />,\n                    handler: this.onEditInitiative,\n                  },\n                  {\n                    label: <FormattedMessage {...messages.deleteInitiative} />,\n                    handler: this.onDeleteInitiative(initiative.id),\n                  },\n                ]}\n              />\n              <HasPermission.No>\n                <MoreActionsMenu\n                  label={<FormattedMessage {...messages.moreOptions} />}\n                  color={color}\n                  id={id}\n                  actions={[\n                    {\n                      label: <FormattedMessage {...messages.reportAsSpam} />,\n                      handler: this.openSpamModal,\n                    },\n                  ]}\n                />\n              </HasPermission.No>\n            </HasPermission>\n          </MoreActionsMenuWrapper>\n          <Modal\n            opened={spamModalVisible}\n            close={this.closeSpamModal}\n            header={<FormattedMessage {...messages.reportAsSpamModalTitle} />}\n          >\n            <SpamReportForm\n              resourceId={initiative.id}\n              resourceType=\"initiatives\"\n            />\n          </Modal>\n        </Container>\n      );\n    }\n\n    return null;\n  }\n}\n\nconst InitiativeMoreActionsWithHOCs = injectIntl(InitiativeMoreActions);\n\nconst Data = adopt<DataProps, InputProps>({\n  authUser: <GetAuthUser />,\n});\n\nexport default (inputProps: InputProps) => (\n  <Data {...inputProps}>\n    {(dataProps) => (\n      <InitiativeMoreActionsWithHOCs {...inputProps} {...dataProps} />\n    )}\n  </Data>\n);\n","const columnsGapDesktop = 100;\nconst rightColumnWidthDesktop = 360;\nconst columnsGapTablet = 60;\nconst rightColumnWidthTablet = 300;\nconst pageContentMaxWidth = 1210;\n\nexport {\n  columnsGapDesktop,\n  rightColumnWidthDesktop,\n  columnsGapTablet,\n  rightColumnWidthTablet,\n  pageContentMaxWidth,\n};\n","export default __webpack_public_path__ + \"aaae759b408aa34fd8afbcefb716a1ab.png\";","import React, { memo } from 'react';\nimport styled from 'styled-components';\nimport { colors } from 'utils/styleUtils';\n\nconst Image = styled.img`\n  width: 100%;\n  margin-bottom: 25px;\n  border-radius: ${(props: any) => props.theme.borderRadius};\n  border: 1px solid ${colors.separation};\n`;\n\ninterface Props {\n  src: string;\n  alt: string;\n  id?: string;\n}\n\nexport default memo<Props>(({ src, alt, id }) => (\n  <Image src={src} alt={alt} id={id} />\n));\n","import React from 'react';\nimport { isString } from 'lodash-es';\nimport { Subscription, BehaviorSubject, Observable } from 'rxjs';\nimport { distinctUntilChanged, switchMap, tap, filter } from 'rxjs/operators';\nimport shallowCompare from 'utils/shallowCompare';\nimport {\n  projectFilesStream,\n  IProjectFileData,\n  IProjectFiles,\n} from 'services/projectFiles';\nimport {\n  phaseFilesStream,\n  IPhaseFileData,\n  IPhaseFiles,\n} from 'services/phaseFiles';\nimport {\n  eventFilesStream,\n  IEventFileData,\n  IEventFiles,\n} from 'services/eventFiles';\nimport { pageFilesStream, IPageFileData, IPageFiles } from 'services/pageFiles';\nimport { ideaFilesStream, IIdeaFileData, IIdeaFiles } from 'services/ideaFiles';\nimport {\n  initiativeFilesStream,\n  IInitiativeFileData,\n  IInitiativeFiles,\n} from 'services/initiativeFiles';\n\nimport { isNilOrError } from 'utils/helperUtils';\n\nexport type ResourceType =\n  | 'project'\n  | 'phase'\n  | 'event'\n  | 'page'\n  | 'idea'\n  | 'initiative';\n\nexport type IResourceFileData =\n  | IProjectFileData\n  | IPhaseFileData\n  | IEventFileData\n  | IPageFileData\n  | IIdeaFileData\n  | IInitiativeFileData;\n\nexport type IResourceFiles =\n  | IProjectFiles\n  | IPhaseFiles\n  | IEventFiles\n  | IPageFiles\n  | IIdeaFiles\n  | IInitiativeFiles;\n\ninterface InputProps {\n  resetOnChange?: boolean;\n  resourceType: ResourceType;\n  resourceId: string | null;\n}\n\ntype Children = (renderProps: GetResourceFilesChildProps) => JSX.Element | null;\n\ninterface Props extends InputProps {\n  children?: Children;\n}\n\ninterface State {\n  files: IResourceFileData[] | undefined | null | Error;\n}\n\nexport type GetResourceFilesChildProps = State['files'];\n\nexport default class GetResourceFiles extends React.Component<Props, State> {\n  private inputProps$: BehaviorSubject<InputProps>;\n  private subscriptions: Subscription[];\n\n  public static defaultProps = {\n    resetOnChange: true,\n  };\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      files: undefined,\n    };\n  }\n\n  componentDidMount() {\n    const { resourceId, resourceType, resetOnChange } = this.props;\n\n    this.inputProps$ = new BehaviorSubject({ resourceId, resourceType });\n\n    this.subscriptions = [\n      this.inputProps$\n        .pipe(\n          distinctUntilChanged((prev, next) => shallowCompare(prev, next)),\n          tap(() => resetOnChange && this.setState({ files: undefined })),\n          filter(({ resourceId }) => isString(resourceId)),\n          switchMap(\n            ({\n              resourceId,\n              resourceType,\n            }: {\n              resourceId: string;\n              resourceType: InputProps['resourceType'];\n            }) => {\n              let streamFn;\n              if (resourceType === 'project') {\n                streamFn = projectFilesStream;\n              }\n              if (resourceType === 'phase') {\n                streamFn = phaseFilesStream;\n              }\n              if (resourceType === 'event') {\n                streamFn = eventFilesStream;\n              }\n              if (resourceType === 'page') {\n                streamFn = pageFilesStream;\n              }\n              if (resourceType === 'idea') {\n                streamFn = ideaFilesStream;\n              }\n              if (resourceType === 'initiative') {\n                streamFn = initiativeFilesStream;\n              }\n\n              return streamFn(resourceId)\n                .observable as Observable<IResourceFiles | null>;\n            }\n          )\n        )\n        .subscribe((files) => {\n          this.setState({ files: !isNilOrError(files) ? files.data : files });\n        }),\n    ];\n  }\n\n  componentDidUpdate() {\n    const { resourceId, resourceType, resetOnChange } = this.props;\n    this.inputProps$.next({ resourceId, resourceType, resetOnChange });\n  }\n\n  componentWillUnmount() {\n    this.subscriptions.forEach((subscription) => subscription.unsubscribe());\n  }\n\n  render() {\n    const { children } = this.props;\n    const { files } = this.state;\n    return (children as Children)(files);\n  }\n}\n","import React, { PureComponent } from 'react';\nimport styled, { withTheme } from 'styled-components';\nimport { fontSizes } from 'utils/styleUtils';\n\n// services\nimport { IInitiativeData } from 'services/initiatives';\nimport { IInitiativeStatusData } from 'services/initiativeStatuses';\nimport { IAppConfigurationSettings } from 'services/appConfiguration';\n\n// components\nimport { Icon, IconTooltip } from 'cl2-component-library';\nimport { StatusWrapper, StatusExplanation } from './SharedStyles';\nimport Button from 'components/UI/Button';\n\n// i18n\nimport T from 'components/T';\nimport messages from './messages';\nimport { FormattedMessage } from 'utils/cl-intl';\n\nconst Container = styled.div``;\n\nconst StatusIcon = styled(Icon)`\n  path {\n    fill: ${(props) => props.theme.colorText};\n  }\n  width: 40px;\n  height: 40px;\n  margin-bottom: 20px;\n`;\n\nconst VoteText = styled.div`\n  font-size: ${fontSizes.base}px;\n  color: ${(props) => props.theme.colorText};\n  margin-top: 20px;\n`;\n\nconst StyledButton = styled(Button)`\n  margin-top: 20px;\n`;\n\ninterface InputProps {\n  initiative: IInitiativeData;\n  initiativeStatus: IInitiativeStatusData;\n  initiativeSettings: NonNullable<IAppConfigurationSettings['initiatives']>;\n  userVoted: boolean;\n  onVote: () => void;\n}\ninterface DataProps {}\n\ninterface Props extends InputProps, DataProps {}\n\ninterface State {}\n\nclass ThresholdReached extends PureComponent<Props & { theme: any }, State> {\n  handleOnVote = () => {\n    this.props.onVote();\n  };\n\n  render() {\n    const {\n      initiative,\n      initiativeSettings: { voting_threshold, threshold_reached_message },\n      initiativeStatus,\n      userVoted,\n    } = this.props;\n\n    const voteCount = initiative.attributes.upvotes_count;\n    const voteLimit = voting_threshold;\n\n    return (\n      <Container>\n        <StatusWrapper>\n          <T value={initiativeStatus.attributes.title_multiloc} />\n        </StatusWrapper>\n        <StatusIcon ariaHidden name=\"envelope-check\" />\n        <StatusExplanation>\n          <FormattedMessage\n            {...messages.thresholdReachedStatusExplanation}\n            values={{\n              thresholdReachedStatusExplanationBold: (\n                <b>\n                  <FormattedMessage\n                    {...messages.thresholdReachedStatusExplanationBold}\n                  />\n                </b>\n              ),\n            }}\n          />\n          {threshold_reached_message ? (\n            <IconTooltip\n              icon=\"info\"\n              iconColor={this.props.theme.colorText}\n              theme=\"light\"\n              placement=\"bottom\"\n              content={<T value={threshold_reached_message} supportHtml />}\n            />\n          ) : (\n            <></>\n          )}\n        </StatusExplanation>\n        <VoteText>\n          <FormattedMessage\n            {...messages.xVotesOfY}\n            values={{\n              votingThreshold: voteLimit,\n              xVotes: (\n                <b>\n                  <FormattedMessage\n                    {...messages.xVotes}\n                    values={{ count: voteCount }}\n                  />\n                </b>\n              ),\n            }}\n          />\n        </VoteText>\n        {!userVoted && (\n          <StyledButton icon=\"upvote\" onClick={this.handleOnVote}>\n            <FormattedMessage {...messages.vote} />\n          </StyledButton>\n        )}\n      </Container>\n    );\n  }\n}\n\nexport default withTheme(ThresholdReached);\n","import React, { PureComponent } from 'react';\n\nimport styled, { keyframes, withTheme } from 'styled-components';\nimport { colors, fontSizes, media } from 'utils/styleUtils';\nimport { ScreenReaderOnly } from 'utils/a11y';\nimport { darken } from 'polished';\n\nimport { getDaysRemainingUntil } from 'utils/dateUtils';\n\nimport { IInitiativeData } from 'services/initiatives';\nimport { IInitiativeStatusData } from 'services/initiativeStatuses';\nimport { IAppConfigurationSettings } from 'services/appConfiguration';\n\nimport { Icon } from 'cl2-component-library';\nimport ProgressBar from 'components/UI/ProgressBar';\n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from './messages';\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst scaleIn = keyframes`\n  0% {\n    transform: scale(0);\n    opacity: 1;\n  }\n  100% {\n    transform: scale(1);\n    opacity: 1;\n  }\n`;\n\nconst StyledIcon = styled(Icon)`\n  fill: ${colors.clGreenSuccess};\n  width: 63px;\n  height: 63px;\n  animation: ${scaleIn} 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94) both;\n`;\n\nconst VotedTitle = styled.h4`\n  color: ${(props) => props.theme.colorText};\n  font-size: ${fontSizes.base}px;\n  font-weight: 600;\n  text-align: center;\n  margin: 0;\n  margin-top: 25px;\n  margin-bottom: 5px;\n  width: 100%;\n`;\n\nconst VotedText = styled.p`\n  color: ${(props) => props.theme.colorText};\n  font-size: ${fontSizes.base}px;\n  font-weight: 300;\n  line-height: 21px;\n  text-align: center;\n  margin: 0 0 20px 0;\n  width: 100%;\n`;\n\nconst UnvoteButton = styled.button`\n  color: ${(props) => props.theme.colorText};\n  font-size: ${fontSizes.base}px;\n  text-decoration: underline;\n\n  &:hover {\n    color: ${(props) => darken(0.12, props.theme.colorText)};\n    text-decoration: underline;\n    cursor: pointer;\n  }\n`;\n\nconst VoteCounter = styled.div`\n  margin-top: 15px;\n  width: 100%;\n  ${media.smallerThanMaxTablet`\n    display: none;\n  `}\n`;\n\nconst VoteText = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  padding-bottom: 4px;\n`;\n\nconst VoteTextLeft = styled.div`\n  font-size: ${fontSizes.base}px;\n  color: ${colors.clGreyOnGreyBackground};\n`;\n\nconst VoteTextRight = styled.div`\n  font-size: ${fontSizes.base}px;\n  color: ${(props) => props.theme.colorText};\n`;\n\nconst StyledProgressBar = styled(ProgressBar)`\n  height: 12px;\n  width: 100%;\n`;\n\ninterface InputProps {\n  initiative: IInitiativeData;\n  initiativeStatus: IInitiativeStatusData;\n  initiativeSettings: NonNullable<IAppConfigurationSettings['initiatives']>;\n  userVoted: boolean;\n  onCancelVote: () => void;\n}\ninterface DataProps {}\n\ninterface Props extends InputProps, DataProps {}\n\nclass ProposedVoted extends PureComponent<Props & { theme: any }> {\n  handleOnCancelVote = () => {\n    this.props.onCancelVote();\n  };\n\n  render() {\n    const {\n      initiative,\n      initiativeSettings: { voting_threshold },\n      theme,\n    } = this.props;\n    const voteCount = initiative.attributes.upvotes_count;\n    const voteLimit = voting_threshold;\n    const daysLeft = getDaysRemainingUntil(initiative.attributes.expires_at);\n\n    return (\n      <Container>\n        <StyledIcon ariaHidden name=\"round-checkmark\" />\n        <VotedTitle>\n          <FormattedMessage {...messages.votedTitle} />\n        </VotedTitle>\n        <VotedText>\n          <FormattedMessage\n            {...messages.votedText}\n            values={{\n              x: daysLeft,\n              xDays: (\n                <b>\n                  <FormattedMessage\n                    {...messages.xDays}\n                    values={{ x: daysLeft }}\n                  />\n                </b>\n              ),\n            }}\n          />\n        </VotedText>\n        <UnvoteButton\n          id=\"e2e-initiative-cancel-upvote-button\"\n          onClick={this.handleOnCancelVote}\n        >\n          <FormattedMessage {...messages.unvoteLink} />\n        </UnvoteButton>\n        <VoteCounter>\n          <VoteText aria-hidden={true}>\n            <VoteTextLeft id=\"e2e-initiative-voted-vote-count\">\n              <FormattedMessage\n                {...messages.xVotes}\n                values={{ count: voteCount }}\n              />\n            </VoteTextLeft>\n            <VoteTextRight>{voteLimit}</VoteTextRight>\n          </VoteText>\n          <ScreenReaderOnly>\n            <FormattedMessage\n              {...messages.xVotesOfY}\n              values={{\n                xVotes: (\n                  <FormattedMessage\n                    {...messages.xVotes}\n                    values={{ count: voteCount }}\n                  />\n                ),\n                votingThreshold: voteLimit,\n              }}\n            />\n          </ScreenReaderOnly>\n          <StyledProgressBar\n            progress={voteCount / voteLimit}\n            color={theme.colorText}\n            bgColor={colors.lightGreyishBlue}\n          />\n        </VoteCounter>\n      </Container>\n    );\n  }\n}\n\nexport default withTheme(ProposedVoted);\n","import React, { PureComponent } from 'react';\nimport styled from 'styled-components';\nimport { colors, fontSizes, media } from 'utils/styleUtils';\nimport { ScreenReaderOnly } from 'utils/a11y';\n\nimport { IInitiativeData } from 'services/initiatives';\nimport { IInitiativeStatusData } from 'services/initiativeStatuses';\nimport { IAppConfigurationSettings } from 'services/appConfiguration';\n\nimport { Icon } from 'cl2-component-library';\nimport { StatusWrapper, StatusExplanation } from './SharedStyles';\nimport ProgressBar from 'components/UI/ProgressBar';\nimport Button from 'components/UI/Button';\n\nimport T from 'components/T';\nimport messages from './messages';\nimport { FormattedMessage } from 'utils/cl-intl';\n\nconst Container = styled.div``;\n\nconst StatusIcon = styled(Icon)`\n  path {\n    fill: ${colors.clGreyOnGreyBackground};\n  }\n  width: 30px;\n  height: 30px;\n  margin-bottom: 20px;\n`;\n\nconst VoteCounter = styled.div`\n  margin-top: 15px;\n  ${media.smallerThanMaxTablet`\n    display: none;\n  `}\n`;\n\nconst VoteTexts = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  padding-bottom: 4px;\n`;\n\nconst VoteText = styled.div`\n  font-size: ${fontSizes.base}px;\n  color: ${colors.clGreyOnGreyBackground};\n`;\n\nconst StyledProgressBar = styled(ProgressBar)`\n  height: 12px;\n  width: 100%;\n`;\n\nconst StyledButton = styled(Button)`\n  margin-top: 20px;\n`;\n\ninterface InputProps {\n  initiative: IInitiativeData;\n  initiativeStatus: IInitiativeStatusData;\n  initiativeSettings: NonNullable<IAppConfigurationSettings['initiatives']>;\n  userVoted: boolean;\n}\ninterface DataProps {}\n\ninterface Props extends InputProps, DataProps {}\n\ninterface State {}\n\nclass Expired extends PureComponent<Props, State> {\n  render() {\n    const {\n      initiative,\n      initiativeSettings: { voting_threshold },\n      initiativeStatus,\n      userVoted,\n    } = this.props;\n\n    const voteCount = initiative.attributes.upvotes_count;\n    const voteLimit = voting_threshold;\n\n    return (\n      <Container>\n        <StatusWrapper>\n          <T value={initiativeStatus.attributes.title_multiloc} />\n        </StatusWrapper>\n        <StatusIcon ariaHidden name=\"clock\" />\n        <StatusExplanation>\n          <FormattedMessage\n            {...messages.expiredStatusExplanation}\n            values={{\n              expiredStatusExplanationBold: (\n                <b>\n                  <FormattedMessage\n                    {...messages.expiredStatusExplanationBold}\n                    values={{ votingThreshold: voting_threshold }}\n                  />\n                </b>\n              ),\n            }}\n          />\n        </StatusExplanation>\n        <VoteCounter>\n          <VoteTexts aria-hidden={true}>\n            <VoteText>\n              <FormattedMessage\n                {...messages.xVotes}\n                values={{ count: voteCount }}\n              />\n            </VoteText>\n            <VoteText>{voteLimit}</VoteText>\n          </VoteTexts>\n          <ScreenReaderOnly>\n            <FormattedMessage\n              {...messages.xVotesOfY}\n              values={{\n                xVotes: (\n                  <FormattedMessage\n                    {...messages.xVotes}\n                    values={{ count: voteCount }}\n                  />\n                ),\n                votingThreshold: voteLimit,\n              }}\n            />\n          </ScreenReaderOnly>\n          <StyledProgressBar\n            progress={voteCount / voteLimit}\n            color=\"linear-gradient(270deg, #84939E 0%, #C8D0D6 100%)\"\n            bgColor={colors.lightGreyishBlue}\n            bgShaded\n          />\n        </VoteCounter>\n        <StyledButton icon=\"halt\" disabled>\n          {userVoted ? (\n            <FormattedMessage {...messages.cancelVote} />\n          ) : (\n            <FormattedMessage {...messages.vote} />\n          )}\n        </StyledButton>\n      </Container>\n    );\n  }\n}\n\nexport default Expired;\n","import React, { memo } from 'react';\n\n// i18n\nimport localize, { InjectedLocalized } from 'utils/localize';\nimport { injectIntl, FormattedMessage, IMessageInfo } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\nimport messages from './messages';\n\n// components\nimport { Icon } from 'cl2-component-library';\nimport Link from 'utils/cl-router/Link';\n\n// styles\nimport styled from 'styled-components';\nimport { fontSizes, colors, media } from 'utils/styleUtils';\nimport { darken } from 'polished';\n\n// typings\nimport { Multiloc } from 'typings';\n\nconst Container = styled.div`\n  width: 100%;\n  display: flex;\n  align-items: center;\n`;\n\nconst HomeLink = styled(Link)`\n  width: 16px;\n`;\n\nconst HomeIcon = styled(Icon)`\n  flex: 0 0 14px;\n  height: 14px;\n  fill: ${colors.label};\n  margin-top: -3px;\n\n  &:hover {\n    fill: ${darken(0.25, colors.label)};\n  }\n`;\n\nconst Separator = styled.div`\n  margin: 0 15px;\n  font-size: ${fontSizes.large}px;\n  font-weight: 300;\n  line-height: normal;\n\n  ${media.smallerThanMaxTablet`\n    margin: 0 10px;\n  `}\n`;\n\nconst StyledLink = styled(Link)`\n  font-size: ${fontSizes.small}px;\n  color: ${colors.label};\n  text-decoration: none;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n\n  &:hover {\n    color: ${darken(0.2, colors.label)};\n    text-decoration: underline;\n  }\n`;\n\nconst LinkText = styled.span``;\n\ninterface ILink {\n  to: string;\n  text: Multiloc | IMessageInfo;\n}\n\nfunction isIMessageInfo(text: IMessageInfo | Multiloc): text is IMessageInfo {\n  return (text as IMessageInfo).message !== undefined;\n}\n\ninterface Props {\n  className?: string;\n  links: ILink[];\n  postType: 'idea' | 'initiative';\n}\n\nconst Breadcrumbs = memo(\n  ({\n    localize,\n    intl,\n    className,\n    links,\n    postType,\n  }: Props & InjectedLocalized & InjectedIntlProps) => {\n    return (\n      <Container className={className}>\n        <HomeLink id=\"e2e-home-page-link\" to=\"/\">\n          <HomeIcon\n            title={intl.formatMessage(messages.linkToHomePage)}\n            name=\"homeFilled\"\n          />\n        </HomeLink>\n        <Separator>/</Separator>\n        {links.map((link) => (\n          <StyledLink\n            key={link.to}\n            id={`e2e-${postType}-other-link`}\n            to={link.to}\n          >\n            <LinkText>\n              {isIMessageInfo(link.text) ? (\n                <FormattedMessage\n                  {...link.text.message}\n                  values={link.text.values}\n                />\n              ) : (\n                localize(link.text)\n              )}\n            </LinkText>\n          </StyledLink>\n        ))}\n      </Container>\n    );\n  }\n);\n\nexport default injectIntl(localize<Props & InjectedIntlProps>(Breadcrumbs));\n","import React, { PureComponent } from 'react';\nimport styled, { withTheme } from 'styled-components';\nimport { colors, fontSizes, media } from 'utils/styleUtils';\n\nimport { IInitiativeData } from 'services/initiatives';\nimport { IInitiativeStatusData } from 'services/initiativeStatuses';\nimport { IAppConfigurationSettings } from 'services/appConfiguration';\n\nimport { Icon, IconTooltip } from 'cl2-component-library';\nimport { StatusWrapper, StatusExplanation } from './SharedStyles';\n\nimport ProgressBar from 'components/UI/ProgressBar';\nimport Button from 'components/UI/Button';\n\nimport T from 'components/T';\nimport messages from './messages';\nimport { FormattedMessage } from 'utils/cl-intl';\n\nconst Container = styled.div``;\n\nconst StatusIcon = styled(Icon)`\n  path {\n    fill: ${colors.clGreyOnGreyBackground};\n  }\n  width: 30px;\n  height: 30px;\n  margin-bottom: 20px;\n`;\n\nconst VoteCounter = styled.div`\n  margin-top: 15px;\n  ${media.smallerThanMaxTablet`\n    display: none;\n  `}\n`;\n\nconst VoteTexts = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  padding-bottom: 4px;\n`;\n\nconst VoteText = styled.div`\n  font-size: ${fontSizes.base}px;\n  color: ${colors.clGreyOnGreyBackground};\n`;\n\nconst StyledProgressBar = styled(ProgressBar)`\n  height: 12px;\n  width: 100%;\n`;\n\nconst StyledButton = styled(Button)`\n  margin-top: 20px;\n`;\n\ninterface InputProps {\n  initiative: IInitiativeData;\n  initiativeStatus: IInitiativeStatusData;\n  initiativeSettings: NonNullable<IAppConfigurationSettings['initiatives']>;\n  userVoted: boolean;\n  onScrollToOfficialFeedback: () => void;\n}\ninterface DataProps {}\n\ninterface Props extends InputProps, DataProps {\n  theme?: any;\n}\n\ninterface State {}\n\nclass Ineligible extends PureComponent<Props, State> {\n  handleOnReadAnswer = () => {\n    this.props.onScrollToOfficialFeedback();\n  };\n\n  render() {\n    const {\n      initiative,\n      initiativeSettings: { eligibility_criteria, voting_threshold },\n      initiativeStatus,\n    } = this.props;\n    const voteCount = initiative.attributes.upvotes_count;\n    const voteLimit = voting_threshold;\n\n    return (\n      <Container>\n        <StatusWrapper>\n          <T value={initiativeStatus.attributes.title_multiloc} />\n        </StatusWrapper>\n        <StatusIcon ariaHidden name=\"halt\" />\n        <StatusExplanation>\n          <FormattedMessage\n            {...messages.ineligibleStatusExplanation}\n            values={{\n              ineligibleStatusExplanationBold: (\n                <b>\n                  <FormattedMessage\n                    {...messages.ineligibleStatusExplanationBold}\n                  />\n                </b>\n              ),\n            }}\n          >\n            {(text) => (\n              <>\n                {text}\n                {eligibility_criteria && (\n                  <IconTooltip\n                    icon=\"info\"\n                    iconColor={this.props.theme.colorText}\n                    theme=\"light\"\n                    placement=\"bottom\"\n                    content={<T value={eligibility_criteria} supportHtml />}\n                  />\n                )}\n              </>\n            )}\n          </FormattedMessage>\n        </StatusExplanation>\n        <VoteCounter>\n          <VoteTexts>\n            <VoteText>\n              <FormattedMessage\n                {...messages.xVotes}\n                values={{ count: voteCount }}\n              />\n            </VoteText>\n            <VoteText>{voteLimit}</VoteText>\n          </VoteTexts>\n          <StyledProgressBar\n            progress={voteCount / voteLimit}\n            color=\"linear-gradient(270deg, #84939E 0%, #C8D0D6 100%)\"\n            bgColor={colors.lightGreyishBlue}\n          />\n        </VoteCounter>\n        <StyledButton onClick={this.handleOnReadAnswer}>\n          <FormattedMessage {...messages.readAnswer} />\n        </StyledButton>\n      </Container>\n    );\n  }\n}\n\nexport default withTheme(Ineligible);\n","// libraries\nimport React, { memo } from 'react';\nimport { adopt } from 'react-adopt';\nimport { get } from 'lodash-es';\nimport { Helmet } from 'react-helmet';\n\n// resources\nimport GetLocale, { GetLocaleChildProps } from 'resources/GetLocale';\nimport GetAppConfiguration, {\n  GetAppConfigurationChildProps,\n} from 'resources/GetAppConfiguration';\nimport GetAuthUser, { GetAuthUserChildProps } from 'resources/GetAuthUser';\nimport GetInitiative, {\n  GetInitiativeChildProps,\n} from 'resources/GetInitiative';\nimport GetUser, { GetUserChildProps } from 'resources/GetUser';\nimport GetInitiativeImages, {\n  GetInitiativeImagesChildProps,\n} from 'resources/GetInitiativeImages';\n\n// i18n\nimport messages from './messages';\nimport { injectIntl } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\nimport injectLocalize, { InjectedLocalized } from 'utils/localize';\n\n// utils\nimport { stripHtml } from 'utils/textUtils';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { imageSizes } from 'utils/fileTools';\nimport getAlternateLinks from 'utils/cl-router/getAlternateLinks';\nimport getCanonicalLink from 'utils/cl-router/getCanonicalLink';\n\ninterface InputProps {\n  initiativeId: string;\n}\n\ninterface DataProps {\n  initiative: GetInitiativeChildProps;\n  author: GetUserChildProps;\n  locale: GetLocaleChildProps;\n  tenant: GetAppConfigurationChildProps;\n  authUser: GetAuthUserChildProps;\n  initiativeImages: GetInitiativeImagesChildProps;\n}\n\ninterface Props extends InputProps, DataProps {}\n\nconst InitiativeMeta = memo<Props & InjectedIntlProps & InjectedLocalized>(\n  ({\n    initiative,\n    locale,\n    tenant,\n    authUser,\n    initiativeImages,\n    author,\n    localize,\n    intl: { formatMessage },\n  }) => {\n    if (\n      !isNilOrError(locale) &&\n      !isNilOrError(tenant) &&\n      !isNilOrError(initiative)\n    ) {\n      const { title_multiloc, body_multiloc } = initiative.attributes;\n      const tenantLocales = tenant.attributes.settings.core.locales;\n      const localizedTitle = localize(title_multiloc, 50);\n      const initiativeTitle = formatMessage(messages.metaTitle, {\n        initiativeTitle: localizedTitle,\n      });\n      const initiativeDescription = stripHtml(localize(body_multiloc), 250);\n      const initiativeImage =\n        !isNilOrError(initiativeImages) && initiativeImages.length > 0\n          ? initiativeImages[0].attributes.versions.fb\n          : null;\n      const initiativeUrl = window.location.href;\n      const initiativeOgTitle = formatMessage(messages.metaOgTitle, {\n        initiativeTitle: localizedTitle,\n      });\n      const initiativeAuthorName = !isNilOrError(author)\n        ? `${author.attributes.first_name} ${author.attributes.last_name}`\n        : 'anonymous';\n\n      const articleJson = {\n        '@type': 'Article',\n        image: initiativeImage,\n        headline: initiativeTitle,\n        author: initiativeAuthorName,\n        mainEntityOfPage: {\n          '@type': 'WebPage',\n          '@id': initiativeUrl,\n        },\n        datePublished: initiative.attributes.published_at,\n      };\n\n      const json = {\n        '@context': 'http://schema.org',\n        '@type': 'BreadcrumbList',\n        itemListElement: [\n          {\n            '@type': 'ListItem',\n            position: 1,\n            item: {\n              '@id': tenant.attributes.host,\n              name: tenant.attributes.name,\n              image: tenant.attributes.logo\n                ? tenant.attributes.logo.large\n                : null,\n            },\n          },\n          {\n            '@type': 'ListItem',\n            position: 4,\n            item: {\n              '@id': `${tenant.attributes.host}/initiatives`,\n              name: 'Initiatives',\n            },\n          },\n        ],\n      };\n\n      return (\n        <Helmet>\n          <title>\n            {`\n            ${\n              authUser && authUser.attributes.unread_notifications\n                ? `(${authUser.attributes.unread_notifications}) `\n                : ''\n            }\n            ${initiativeTitle}`}\n          </title>\n          {getCanonicalLink()}\n          {getAlternateLinks(tenantLocales)}\n          <meta name=\"title\" content={initiativeTitle} />\n          <meta name=\"description\" content={initiativeDescription} />\n\n          <meta property=\"og:type\" content=\"article\" />\n          <meta property=\"og:title\" content={initiativeOgTitle} />\n          <meta\n            property=\"og:description\"\n            content={formatMessage(messages.initiativeOgDescription)}\n          />\n          {initiativeImage && (\n            <meta property=\"og:image\" content={initiativeImage} />\n          )}\n          <meta\n            property=\"og:image:width\"\n            content={`${imageSizes.initiativeImg.fb[0]}`}\n          />\n          <meta\n            property=\"og:image:height\"\n            content={`${imageSizes.initiativeImg.fb[1]}`}\n          />\n\n          <meta name=\"twitter:title\" content={initiativeOgTitle} />\n          <meta\n            name=\"twitter:description\"\n            content={formatMessage(messages.initiativeOgDescription)}\n          />\n          {initiativeImage && (\n            <meta name=\"twitter:image\" content={initiativeImage} />\n          )}\n          <meta name=\"twitter:card\" content=\"summary_large_image\" />\n\n          {initiativeImage && (\n            <script type=\"application/ld+json\">\n              {JSON.stringify(articleJson)}\n            </script>\n          )}\n          <script type=\"application/ld+json\">{JSON.stringify(json)}</script>\n\n          <meta property=\"og:url\" content={initiativeUrl} />\n          <meta property=\"og:locale\" content={locale} />\n        </Helmet>\n      );\n    }\n\n    return null;\n  }\n);\n\nconst Data = adopt<DataProps, InputProps>({\n  initiative: ({ initiativeId, render }) => (\n    <GetInitiative id={initiativeId}>{render}</GetInitiative>\n  ),\n  initiativeImages: ({ initiativeId, render }) => (\n    <GetInitiativeImages initiativeId={initiativeId}>\n      {render}\n    </GetInitiativeImages>\n  ),\n  author: ({ initiative, render }) => (\n    <GetUser id={get(initiative, 'relationships.author.data.id', null)}>\n      {render}\n    </GetUser>\n  ),\n  locale: <GetLocale />,\n  tenant: <GetAppConfiguration />,\n  authUser: <GetAuthUser />,\n});\n\nconst InitiativeMetaWithHoc = injectIntl<Props>(\n  injectLocalize<Props & InjectedIntlProps>(InitiativeMeta)\n);\n\nexport default (inputProps: InputProps) => (\n  <Data {...inputProps}>\n    {(dataProps) => <InitiativeMetaWithHoc {...inputProps} {...dataProps} />}\n  </Data>\n);\n","import React, { PureComponent } from 'react';\nimport styled from 'styled-components';\nimport { adopt } from 'react-adopt';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { media, defaultCardStyle } from 'utils/styleUtils';\nimport { ScreenReaderOnly } from 'utils/a11y';\nimport { FormattedMessage } from 'utils/cl-intl';\nimport moment from 'moment';\nimport messages from './messages';\nimport {\n  InitiativeStatusCode,\n  IInitiativeStatusData,\n} from 'services/initiativeStatuses';\nimport GetInitiative, {\n  GetInitiativeChildProps,\n} from 'resources/GetInitiative';\nimport GetInitiativeStatus, {\n  GetInitiativeStatusChildProps,\n} from 'resources/GetInitiativeStatus';\nimport { IInitiativeData } from 'services/initiatives';\nimport { IAppConfigurationSettings } from 'services/appConfiguration';\nimport GetAppConfiguration, {\n  GetAppConfigurationChildProps,\n} from 'resources/GetAppConfiguration';\nimport GetAuthUser, { GetAuthUserChildProps } from 'resources/GetAuthUser';\nimport { addVote, deleteVote } from 'services/initiativeVotes';\nimport ProposedNotVoted from './ProposedNotVoted';\nimport ProposedVoted from './ProposedVoted';\nimport Expired from './Expired';\nimport ThresholdReached from './ThresholdReached';\nimport Answered from './Answered';\nimport Ineligible from './Ineligible';\nimport Custom from './Custom';\nimport { openSignUpInModal } from 'components/SignUpIn/events';\nimport GetInitiativesPermissions, {\n  GetInitiativesPermissionsChildProps,\n} from 'resources/GetInitiativesPermissions';\nimport { IInitiativeDisabledReason } from 'hooks/useInitiativesPermissions';\nimport { trackEventByName } from 'utils/analytics';\nimport { openVerificationModal } from 'components/Verification/verificationModalEvents';\n\nconst Container = styled.div`\n  ${media.biggerThanMaxTablet`\n    margin-bottom: 45px;\n    padding: 35px;\n    border: 1px solid #e0e0e0;\n    ${defaultCardStyle};\n  `}\n\n  ${media.smallerThanMaxTablet`\n    padding: 15px;\n  `}\n`;\n\ninterface VoteControlComponentProps {\n  initiative: IInitiativeData;\n  initiativeStatus: IInitiativeStatusData;\n  initiativeSettings: IAppConfigurationSettings['initiatives'];\n  userVoted: boolean;\n  onVote?: () => void;\n  onCancelVote?: () => void;\n  onScrollToOfficialFeedback?: () => void;\n  disabledReason?: IInitiativeDisabledReason | null | undefined;\n}\n\ntype TComponentMap = {\n  [key in InitiativeStatusCode]: {\n    [key in 'voted' | 'notVoted']: React.ComponentType<\n      VoteControlComponentProps\n    >;\n  };\n};\n\n/** Maps the initiative status and whether the user voted or not to the right component to render */\nconst componentMap: TComponentMap = {\n  proposed: {\n    voted: ProposedVoted,\n    notVoted: ProposedNotVoted,\n  },\n  expired: {\n    voted: Expired,\n    notVoted: Expired,\n  },\n  threshold_reached: {\n    voted: ThresholdReached,\n    notVoted: ThresholdReached,\n  },\n  answered: {\n    voted: Answered,\n    notVoted: Answered,\n  },\n  ineligible: {\n    voted: Ineligible,\n    notVoted: Ineligible,\n  },\n  custom: {\n    voted: Custom,\n    notVoted: Custom,\n  },\n};\n\ninterface InputProps {\n  initiativeId: string;\n  className?: string;\n  onScrollToOfficialFeedback: () => void;\n  id?: string;\n}\n\ninterface DataProps {\n  tenant: GetAppConfigurationChildProps;\n  initiative: GetInitiativeChildProps;\n  initiativeStatus: GetInitiativeStatusChildProps;\n  authUser: GetAuthUserChildProps;\n  votingPermission: GetInitiativesPermissionsChildProps;\n}\n\ninterface State {}\n\ninterface Props extends InputProps, DataProps {}\n\nclass VoteControl extends PureComponent<Props, State> {\n  handleOnvote = () => {\n    const { votingPermission } = this.props;\n    const requiredAction = votingPermission?.action;\n    switch (requiredAction) {\n      case 'sign_in_up':\n        trackEventByName(\n          'Sign up/in modal opened in response to clicking vote initiative'\n        );\n        openSignUpInModal({\n          flow: 'signup',\n          verification: false,\n          verificationContext: undefined,\n          action: () => this.vote(),\n        });\n        break;\n      case 'sign_in_up_and_verify':\n        trackEventByName(\n          'Sign up/in modal opened in response to clicking vote initiative'\n        );\n        openSignUpInModal({\n          flow: 'signup',\n          verification: true,\n          verificationContext: {\n            type: 'initiative',\n            action: 'voting_initiative',\n          },\n          action: () => this.vote(),\n        });\n        break;\n      case 'verify':\n        trackEventByName(\n          'Verification modal opened in response to clicking vote initiative'\n        );\n        openVerificationModal({\n          context: {\n            action: 'voting_initiative',\n            type: 'initiative',\n          },\n        });\n        break;\n      default:\n        this.vote();\n    }\n  };\n\n  vote = () => {\n    const { initiative } = this.props;\n\n    if (!isNilOrError(initiative)) {\n      addVote(initiative.id, { mode: 'up' });\n    }\n  };\n\n  handleOnCancelVote = () => {\n    const { initiative } = this.props;\n\n    if (\n      !isNilOrError(initiative) &&\n      initiative.relationships?.user_vote?.data?.id\n    ) {\n      deleteVote(initiative.id, initiative.relationships.user_vote.data.id);\n    }\n  };\n\n  render() {\n    const {\n      initiative,\n      initiativeStatus,\n      tenant,\n      className,\n      onScrollToOfficialFeedback,\n      id,\n      votingPermission,\n    } = this.props;\n    if (\n      isNilOrError(initiative) ||\n      isNilOrError(initiativeStatus) ||\n      isNilOrError(tenant) ||\n      !tenant.attributes.settings.initiatives\n    ) {\n      return null;\n    }\n\n    const expiresAt = moment(\n      initiative.attributes.expires_at,\n      'YYYY-MM-DDThh:mm:ss.SSSZ'\n    );\n    const durationAsSeconds = moment\n      .duration(expiresAt.diff(moment()))\n      .asSeconds();\n    const isExpired = durationAsSeconds < 0;\n    const statusCode =\n      initiativeStatus.attributes.code === 'proposed' && isExpired\n        ? 'expired'\n        : initiativeStatus.attributes.code;\n    const userVoted = !!(\n      initiative.relationships.user_vote &&\n      initiative.relationships.user_vote.data\n    );\n    const StatusComponent =\n      componentMap[statusCode][userVoted ? 'voted' : 'notVoted'];\n    const initiativeSettings = tenant.attributes.settings.initiatives;\n\n    return (\n      <Container id={id || ''} className={className || ''} aria-live=\"polite\">\n        <ScreenReaderOnly>\n          <FormattedMessage tagName=\"h3\" {...messages.invisibleTitle} />\n        </ScreenReaderOnly>\n        <StatusComponent\n          initiative={initiative}\n          initiativeStatus={initiativeStatus}\n          initiativeSettings={initiativeSettings}\n          userVoted={userVoted}\n          onVote={this.handleOnvote}\n          onCancelVote={this.handleOnCancelVote}\n          onScrollToOfficialFeedback={onScrollToOfficialFeedback}\n          disabledReason={votingPermission?.disabledReason}\n        />\n      </Container>\n    );\n  }\n}\n\nconst Data = adopt<DataProps, InputProps>({\n  tenant: <GetAppConfiguration />,\n  authUser: <GetAuthUser />,\n  initiative: ({ initiativeId, render }) => (\n    <GetInitiative id={initiativeId}>{render}</GetInitiative>\n  ),\n  initiativeStatus: ({ initiative, render }) => {\n    if (\n      !isNilOrError(initiative) &&\n      initiative.relationships.initiative_status &&\n      initiative.relationships.initiative_status.data\n    ) {\n      return (\n        <GetInitiativeStatus\n          id={initiative.relationships.initiative_status.data.id}\n        >\n          {render}\n        </GetInitiativeStatus>\n      );\n    }\n\n    return null;\n  },\n  votingPermission: <GetInitiativesPermissions action=\"voting_initiative\" />,\n});\n\nexport default (inputProps: InputProps) => (\n  <Data {...inputProps}>\n    {(dataProps) => <VoteControl {...inputProps} {...dataProps} />}\n  </Data>\n);\n","import React, { PureComponent } from 'react';\n\nimport styled, { withTheme } from 'styled-components';\nimport { colors, fontSizes, media } from 'utils/styleUtils';\nimport { ScreenReaderOnly } from 'utils/a11y';\nimport { StatusExplanation } from './SharedStyles';\nimport { getDaysRemainingUntil } from 'utils/dateUtils';\n\nimport { IInitiativeData } from 'services/initiatives';\nimport { IInitiativeStatusData } from 'services/initiativeStatuses';\nimport { IAppConfigurationSettings } from 'services/appConfiguration';\n\nimport CountDown from './CountDown';\nimport { Icon, IconTooltip } from 'cl2-component-library';\n\nimport ProgressBar from 'components/UI/ProgressBar';\nimport Button from 'components/UI/Button';\n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from './messages';\nimport T from 'components/T';\nimport { IInitiativeDisabledReason } from 'hooks/useInitiativesPermissions';\nimport { darken } from 'polished';\nimport Tippy from '@tippyjs/react';\n\nconst Container = styled.div``;\n\nconst CountDownWrapper = styled.div`\n  display: flex;\n  flex-direction: row-reverse;\n  ${media.smallerThanMaxTablet`\n    display: none;\n  `}\n`;\n\nconst StatusIcon = styled(Icon)`\n  path {\n    fill: ${(props) => props.theme.colorMain};\n  }\n  width: 31px;\n  height: 31px;\n  margin-bottom: 10px;\n`;\n\nconst VoteCounter = styled.div`\n  margin-top: 15px;\n  ${media.smallerThanMaxTablet`\n    display: none;\n  `}\n`;\n\nconst VoteText = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  padding-bottom: 4px;\n`;\n\nconst VoteTextLeft = styled.div`\n  font-size: ${fontSizes.base}px;\n  color: ${(props) => props.theme.colorMain};\n`;\n\nconst VoteTextRight = styled.div`\n  font-size: ${fontSizes.base}px;\n  color: ${(props) => props.theme.colorText};\n`;\n\nconst StyledProgressBar = styled(ProgressBar)`\n  height: 12px;\n  width: 100%;\n`;\n\nconst StyledButton = styled(Button)`\n  margin-top: 20px;\n\n  svg {\n    margin-top: -2px;\n  }\n`;\n\nconst OnDesktop = styled.span`\n  display: inline;\n\n  ${media.smallerThanMaxTablet`\n    display: none;\n  `}\n`;\n\nconst OnMobile = styled.span`\n  display: inline;\n\n  ${media.biggerThanMaxTablet`\n    display: none;\n  `}\n`;\n\nconst TooltipContent = styled.div<{ inMap?: boolean }>`\n  display: flex;\n  align-items: center;\n  padding: ${(props) => (props.inMap ? '0px' : '15px')};\n`;\n\nconst TooltipContentIcon = styled(Icon)`\n  flex: 0 0 25px;\n  width: 20px;\n  height: 25px;\n  margin-right: 1rem;\n`;\n\nconst TooltipContentText = styled.div`\n  flex: 1 1 auto;\n  color: ${colors.text};\n  font-size: ${fontSizes.base}px;\n  line-height: normal;\n  font-weight: 400;\n  overflow-wrap: break-word;\n  word-wrap: break-word;\n  word-break: break-word;\n\n  a,\n  button {\n    color: ${colors.clBlueDark};\n    font-size: ${fontSizes.base}px;\n    line-height: normal;\n    font-weight: 400;\n    text-align: left;\n    text-decoration: underline;\n    white-space: normal;\n    overflow-wrap: break-word;\n    word-wrap: break-word;\n    word-break: break-all;\n    word-break: break-word;\n    hyphens: auto;\n    display: inline;\n    padding: 0px;\n    margin: 0px;\n    cursor: pointer;\n    transition: all 100ms ease-out;\n\n    &:hover {\n      color: ${darken(0.15, colors.clBlueDark)};\n      text-decoration: underline;\n    }\n  }\n`;\n\ninterface InputProps {\n  initiative: IInitiativeData;\n  initiativeStatus: IInitiativeStatusData;\n  initiativeSettings: NonNullable<IAppConfigurationSettings['initiatives']>;\n  userVoted: boolean;\n  onVote: () => void;\n  disabledReason: IInitiativeDisabledReason;\n}\n\ninterface Props extends InputProps {}\n\nconst disabledMessages: {\n  [key in IInitiativeDisabledReason]: ReactIntl.FormattedMessage.MessageDescriptor;\n} = {\n  notPermitted: messages.votingNotPermitted,\n};\n\nclass ProposedNotVoted extends PureComponent<Props & { theme: any }> {\n  handleOnVote = () => {\n    this.props.onVote();\n  };\n\n  render() {\n    const {\n      initiative,\n      initiativeSettings: { voting_threshold, threshold_reached_message },\n      theme,\n      disabledReason,\n    } = this.props;\n    const voteCount = initiative.attributes.upvotes_count;\n    const voteLimit = voting_threshold;\n    const daysLeft = getDaysRemainingUntil(initiative.attributes.expires_at);\n\n    const thresholdReachedTooltip = threshold_reached_message ? (\n      <IconTooltip\n        icon=\"info\"\n        iconColor={this.props.theme.colorText}\n        theme=\"light\"\n        placement=\"bottom\"\n        content={<T value={threshold_reached_message} supportHtml />}\n      />\n    ) : (\n      <></>\n    );\n\n    const tippyContent = disabledReason ? (\n      <TooltipContent id=\"tooltip-content\" className=\"e2e-disabled-tooltip\">\n        <TooltipContentIcon name=\"lock-outlined\" ariaHidden />\n        <TooltipContentText>\n          <FormattedMessage {...disabledMessages[disabledReason]} />\n        </TooltipContentText>\n      </TooltipContent>\n    ) : null;\n\n    return (\n      <Container>\n        <CountDownWrapper>\n          <CountDown targetTime={initiative.attributes.expires_at} />\n        </CountDownWrapper>\n        <StatusIcon ariaHidden name=\"bullseye\" />\n        <StatusExplanation>\n          <OnDesktop>\n            <FormattedMessage\n              {...messages.proposedStatusExplanation}\n              values={{\n                votingThreshold: voting_threshold,\n                proposedStatusExplanationBold: (\n                  <b>\n                    <FormattedMessage\n                      {...messages.proposedStatusExplanationBold}\n                    />\n                  </b>\n                ),\n              }}\n            />\n            {thresholdReachedTooltip}\n          </OnDesktop>\n          <OnMobile>\n            <FormattedMessage\n              {...messages.proposedStatusExplanationMobile}\n              values={{\n                daysLeft,\n                votingThreshold: voting_threshold,\n                proposedStatusExplanationMobileBold: (\n                  <b>\n                    <FormattedMessage\n                      {...messages.proposedStatusExplanationMobileBold}\n                    />\n                  </b>\n                ),\n              }}\n            />\n            {thresholdReachedTooltip}\n          </OnMobile>\n        </StatusExplanation>\n        <VoteCounter>\n          <VoteText aria-hidden={true}>\n            <VoteTextLeft id=\"e2e-initiative-not-voted-vote-count\">\n              <FormattedMessage\n                {...messages.xVotes}\n                values={{ count: voteCount }}\n              />\n            </VoteTextLeft>\n            <VoteTextRight>{voteLimit}</VoteTextRight>\n          </VoteText>\n          <ScreenReaderOnly>\n            <FormattedMessage\n              {...messages.xVotesOfY}\n              values={{\n                xVotes: (\n                  <FormattedMessage\n                    {...messages.xVotes}\n                    values={{ count: voteCount }}\n                  />\n                ),\n                votingThreshold: voteLimit,\n              }}\n            />\n          </ScreenReaderOnly>\n          <StyledProgressBar\n            progress={voteCount / voteLimit}\n            color={theme.colorMain}\n            bgColor={colors.lightGreyishBlue}\n          />\n        </VoteCounter>\n        <Tippy\n          disabled={!tippyContent}\n          interactive={true}\n          placement=\"bottom\"\n          content={tippyContent || <></>}\n          theme=\"light\"\n          hideOnClick={false}\n        >\n          <div\n            tabIndex={tippyContent ? 0 : -1}\n            className={`e2e-idea-button ${tippyContent ? 'disabled' : ''} ${\n              disabledReason ? disabledReason : ''\n            }`}\n          >\n            <StyledButton\n              icon=\"upvote\"\n              aria-describedby=\"tooltip-content\"\n              iconAriaHidden\n              disabled={!!tippyContent}\n              buttonStyle=\"primary\"\n              onClick={this.handleOnVote}\n              id=\"e2e-initiative-upvote-button\"\n              ariaDisabled={false}\n            >\n              <FormattedMessage {...messages.vote} />\n            </StyledButton>\n          </div>\n        </Tippy>\n      </Container>\n    );\n  }\n}\n\nexport default withTheme(ProposedNotVoted);\n","import React, { memo, useCallback, useState, Suspense } from 'react';\n\n// components\nimport { Icon, IconNames } from 'cl2-component-library';\n\n// animations\nimport CSSTransition from 'react-transition-group/CSSTransition';\n\n// styling\nimport styled from 'styled-components';\nimport { colors, fontSizes, media } from 'utils/styleUtils';\nimport { darken } from 'polished';\n\nconst timeout = 300;\n\nconst Container = styled.div`\n  background: #fff;\n  border: 1px solid ${colors.separation};\n  border-radius: ${(props: any) => props.theme.borderRadius};\n`;\n\nconst Title = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nconst TitleIcon = styled(Icon)`\n  flex: 0 0 16px;\n  width: 16px;\n  height: 23px;\n  fill: ${colors.label};\n  margin-right: 13px;\n\n  ${media.smallerThanMinTablet`\n    flex: 0 0 14px;\n    width: 14px;\n    height: 20px;\n  `}\n`;\n\nconst ContentLabel = styled.div`\n  color: ${colors.label};\n  font-size: ${fontSizes.base}px;\n  font-weight: 400;\n  margin-right: 6px;\n  text-align: left;\n  transition: all 100ms ease-out;\n`;\n\nconst ContentToggleButton = styled.button`\n  background-color: #fff;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  cursor: pointer;\n  width: 100%;\n  height: 100%;\n  padding-left: 18px;\n  padding-right: 20px;\n  padding-top: 10px;\n  padding-bottom: 10px;\n  color: ${({ theme }) => theme.colorText};\n  font-size: ${fontSizes.base}px;\n  line-height: 24px;\n  font-weight: 600;\n  border-radius: ${(props: any) => props.theme.borderRadius};\n\n  &:hover {\n    ${ContentLabel} {\n      color: ${darken(0.2, colors.label)};\n    }\n  }\n`;\n\nconst ArrowIcon = styled(Icon)`\n  flex: 0 0 13px;\n  width: 13px;\n  height: 13px;\n  fill: ${colors.label};\n  transform: rotate(90deg);\n  transition: all 0.2s linear;\n\n  &.open {\n    transform: rotate(0deg);\n  }\n`;\n\nconst Wrapper = styled.div<{ contentBackgroundColor?: string }>`\n  position: relative;\n  overflow: hidden;\n  z-index: 2;\n  padding: 20px;\n  background-color: ${(props) => props.contentBackgroundColor || '#fff'};\n  margin-top: 1px;\n\n  ${media.largePhone`\n    padding: 30px 20px;\n  `}\n\n  &.content-enter {\n    height: 0;\n    opacity: 0;\n\n    &.content-enter-active {\n      height: 100%;\n      opacity: 1;\n      transition: all ${timeout}ms ease-out;\n    }\n  }\n\n  &.content-exit {\n    height: 100%;\n    opacity: 1;\n\n    &.content-exit-active {\n      height: 0;\n      opacity: 0;\n      transition: all ${timeout}ms ease-out;\n    }\n  }\n`;\n\nexport interface Props {\n  className?: string;\n  titleIconName?: IconNames;\n  title: string | JSX.Element;\n  contentBackgroundColor?: string;\n  e2eId?: string;\n  /* children should be lazy-loaded. Search code for examples */\n  children: React.ReactNode;\n}\n\nconst CollapsibleBox = memo<Props>((props) => {\n  const [showContent, setShowContent] = useState<boolean>(false);\n\n  const handleContentToggle = useCallback(() => {\n    setShowContent(!showContent);\n  }, [showContent]);\n\n  const {\n    className,\n    titleIconName,\n    title,\n    children,\n    contentBackgroundColor,\n    e2eId,\n  } = props;\n\n  return (\n    <Container className={className}>\n      <ContentToggleButton\n        id={e2eId || ''}\n        aria-expanded={showContent}\n        onClick={handleContentToggle}\n      >\n        <Title>\n          {titleIconName && <TitleIcon name={titleIconName} />}\n          <ContentLabel>{title}</ContentLabel>\n        </Title>\n        <ArrowIcon name=\"dropdown\" className={showContent ? 'open' : ''} />\n      </ContentToggleButton>\n      <CSSTransition\n        classNames=\"content\"\n        in={showContent}\n        timeout={timeout}\n        mountOnEnter={true}\n        unmountOnExit={true}\n        exit={true}\n      >\n        <Wrapper contentBackgroundColor={contentBackgroundColor}>\n          <Suspense fallback={null}>{children}</Suspense>\n        </Wrapper>\n      </CSSTransition>\n    </Container>\n  );\n});\n\nexport default CollapsibleBox;\n","import React, { memo } from 'react';\nimport { isNilOrError } from 'utils/helperUtils';\n\n// hooks\nimport useTopics from 'hooks/useTopics';\n\n// i18n\nimport injectLocalize, { InjectedLocalized } from 'utils/localize';\n\n// styling\nimport styled from 'styled-components';\nimport { fontSizes, isRtl } from 'utils/styleUtils';\nimport { transparentize } from 'polished';\n\n// typings\nimport { ITopicData } from 'services/topics';\n\nconst Container = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n\n  ${isRtl`\n    flex-direction: row-reverse;\n  `}\n`;\n\nconst Topic = styled.div`\n  color: ${({ theme }) => theme.colorSecondary};\n  font-size: ${fontSizes.small}px;\n  font-weight: 400;\n  padding: 6px 12px;\n  margin-right: 5px;\n  margin-bottom: 5px;\n  border: 1px solid ${({ theme }) => transparentize(0.7, theme.colorSecondary)};\n  border-radius: ${(props: any) => props.theme.borderRadius};\n\n  ${isRtl`\n    margin-right: 0;\n    margin-left: 5px;\n  `}\n`;\n\ninterface Props {\n  topicIds: string[];\n  className?: string;\n  postType: 'idea' | 'initiative';\n}\n\nconst Topics = memo<Props & InjectedLocalized>(\n  ({ topicIds, className, postType, localize }) => {\n    const topics = useTopics({ topicIds });\n\n    if (!isNilOrError(topics) && topics.length > 0) {\n      return (\n        <Container id={`e2e-${postType}-topics`} className={className}>\n          {topics\n            .filter((topic) => !isNilOrError(topic))\n            .map((topic: ITopicData) => {\n              return (\n                <Topic key={topic.id} className={`e2e-${postType}-topic`}>\n                  {localize(topic.attributes.title_multiloc)}\n                </Topic>\n              );\n            })}\n        </Container>\n      );\n    }\n\n    return null;\n  }\n);\n\nconst TopicsWithHoCs = injectLocalize<Props>(Topics);\n\nexport default TopicsWithHoCs;\n","import { API_PATH } from 'containers/App/constants';\nimport streams from 'utils/streams';\nimport { Multiloc } from 'typings';\n\nexport type InitiativeStatusCode =\n  | 'proposed'\n  | 'expired'\n  | 'threshold_reached'\n  | 'answered'\n  | 'ineligible'\n  | 'custom';\n\nexport interface IInitiativeStatusData {\n  id: string;\n  type: string;\n  attributes: {\n    title_multiloc: Multiloc;\n    color: string;\n    code: InitiativeStatusCode;\n    ordering: number;\n    description_multiloc: Multiloc;\n    transition_type: 'manual' | 'automatic';\n  };\n}\n\nexport interface IInitiativeStatuses {\n  data: IInitiativeStatusData[];\n}\n\nexport interface IInitiativeStatus {\n  data: IInitiativeStatusData;\n}\n\nexport function initiativeStatusStream(initiativeId: string) {\n  return streams.get<IInitiativeStatus>({\n    apiEndpoint: `${API_PATH}/initiative_statuses/${initiativeId}`,\n  });\n}\n\nexport function initiativeStatusesStream() {\n  return streams.get<IInitiativeStatuses>({\n    apiEndpoint: `${API_PATH}/initiative_statuses`,\n  });\n}\n","import React, { memo } from 'react';\n\n// components\nimport CollapsibleBox from 'components/UI/CollapsibleBox';\nconst Map = React.lazy(() => import('./Map'));\n\nexport interface Props {\n  address: string;\n  position: GeoJSON.Point;\n  className?: string;\n  projectId?: string | null;\n}\n\nconst DropdownMap = memo<Props>(\n  ({ address, position, className, projectId }) => {\n    return (\n      <CollapsibleBox\n        e2eId=\"e2e-map-toggle\"\n        className={className}\n        titleIconName=\"position\"\n        title={address}\n      >\n        <Map position={position} projectId={projectId} />\n      </CollapsibleBox>\n    );\n  }\n);\n\nexport default DropdownMap;\n","import React, { memo, Suspense, lazy } from 'react';\n\n// components\nimport LoadingComments from './Comments/LoadingComments';\nconst LazyComments = lazy(() => import('./Comments'));\n\n// styling\nimport styled from 'styled-components';\nimport { media } from 'utils/styleUtils';\nimport {\n  columnsGapDesktop,\n  rightColumnWidthDesktop,\n  columnsGapTablet,\n  rightColumnWidthTablet,\n  postPageContentMaxWidth,\n} from './styleConstants';\n\nconst Container = styled.div`\n  flex: 1 1 auto;\n  width: 100%;\n`;\n\nconst Content = styled.div`\n  width: 100%;\n  max-width: ${postPageContentMaxWidth}px;\n  margin-left: auto;\n  margin-right: auto;\n  margin-top: 50px;\n  padding-left: 60px;\n  padding-right: 60px;\n  padding-bottom: 80px;\n\n  ${media.smallerThanMinTablet`\n    margin-top: 30px;\n    padding-left: 15px;\n    padding-right: 15px;\n    padding-bottom: 30px;\n  `}\n`;\n\nconst ContentInner = styled.div`\n  padding-right: ${rightColumnWidthDesktop + columnsGapDesktop}px;\n\n  ${media.tablet`\n    padding-right: ${rightColumnWidthTablet + columnsGapTablet}px;\n  `}\n\n  ${media.smallerThanMaxTablet`\n    padding-right: 0px;\n  `}\n`;\n\ninterface Props {\n  className?: string;\n  postId: string;\n  postType: 'idea' | 'initiative';\n}\n\nconst Footer = memo<Props>(({ postId, postType, className }) => {\n  return (\n    <Container className={className || ''}>\n      <Content>\n        <ContentInner>\n          <Suspense fallback={<LoadingComments />}>\n            <LazyComments postId={postId} postType={postType} />\n          </Suspense>\n        </ContentInner>\n      </Content>\n    </Container>\n  );\n});\n\nexport default Footer;\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  twitterMessage: {\n    id: 'app.components.PostComponents.SharingModalContent.twitterMessage',\n    defaultMessage: 'Vote for {postTitle} on',\n  },\n  ideaEmailSharingSubjectText: {\n    id:\n      'app.components.PostComponents.SharingModalContent.ideaEmailSharingSubjectText',\n    defaultMessage: 'Support my idea: {postTitle}',\n  },\n  optionEmailSharingSubject: {\n    id:\n      'app.components.PostComponents.SharingModalContent.optionEmailSharingSubject',\n    defaultMessage: 'Support my proposed option: {postTitle}.',\n  },\n  issueEmailSharingSubject: {\n    id:\n      'app.components.PostComponents.SharingModalContent.issueEmailSharingSubject',\n    defaultMessage: 'I just posted an issue: {postTitle}.',\n  },\n  questionEmailSharingSubject: {\n    id:\n      'app.components.PostComponents.SharingModalContent.questionEmailSharingSubject',\n    defaultMessage: 'Join the discussion: {postTitle}.',\n  },\n  contributionEmailSharingSubject: {\n    id:\n      'app.components.PostComponents.SharingModalContent.contributionEmailSharingSubject',\n    defaultMessage: 'Support my contribution: {postTitle}.',\n  },\n  projectEmailSharingSubject: {\n    id:\n      'app.components.PostComponents.SharingModalContent.projectEmailSharingSubject',\n    defaultMessage: 'Support my project: {postTitle}.',\n  },\n  initiativeEmailSharingSubject: {\n    id:\n      'app.components.PostComponents.SharingModalContent.initiativeEmailSharingSubject',\n    defaultMessage: 'Support my initiative: {postTitle}.',\n  },\n  ideaEmailSharingBody: {\n    id:\n      'app.components.PostComponents.SharingModalContent.ideaEmailSharingBody',\n    defaultMessage: \"Support my idea '{postTitle}' at {postUrl}!\",\n  },\n  issueEmailSharingBody: {\n    id:\n      'app.components.PostComponents.SharingModalContent.issueEmailSharingBody',\n    defaultMessage: \"I posted an issue '{postTitle}' at {postUrl}!\",\n  },\n  optionEmailSharingBody: {\n    id:\n      'app.components.PostComponents.SharingModalContent.optionEmailSharingBody',\n    defaultMessage: \"Support my proposed option '{postTitle}' at {postUrl}!\",\n  },\n  contributionEmailSharingBody: {\n    id:\n      'app.components.PostComponents.SharingModalContent.contributionEmailSharingBody',\n    defaultMessage: \"Support my contribution '{postTitle}' at {postUrl}!\",\n  },\n  questionEmailSharingModalContentBody: {\n    id:\n      'app.components.PostComponents.SharingModalContent.questionEmailSharingModalContentBody',\n    defaultMessage:\n      \"Join the discussion about this question '{postTitle}' at {postUrl}!\",\n  },\n  projectEmailSharingBody: {\n    id:\n      'app.components.PostComponents.SharingModalContent.projectEmailSharingBody',\n    defaultMessage: \"Support my project '{postTitle}' at {postUrl}!\",\n  },\n  initiativeEmailSharingBody: {\n    id:\n      'app.components.PostComponents.SharingModalContent.initiativeEmailSharingBody',\n    defaultMessage:\n      'What do you think of this initiative? Vote on it and share the discussion at {postUrl} to make your voice heard!',\n  },\n  ideaWhatsAppMessage: {\n    id: 'app.components.PostComponents.SharingModalContent.ideaWhatsAppMessage',\n    defaultMessage: 'Support my idea: {postTitle}.',\n  },\n  optionWhatsAppMessage: {\n    id:\n      'app.components.PostComponents.SharingModalContent.optionWhatsAppMessage',\n    defaultMessage: 'Support my option: {postTitle}.',\n  },\n  questionWhatsAppMessage: {\n    id:\n      'app.components.PostComponents.SharingModalContent.questionWhatsAppMessage',\n    defaultMessage: 'Join the discussion: {postTitle}.',\n  },\n  contributionWhatsAppMessage: {\n    id:\n      'app.components.PostComponents.SharingModalContent.contributionWhatsAppMessage',\n    defaultMessage: 'Support my contribution: {postTitle}.',\n  },\n  projectWhatsAppMessage: {\n    id:\n      'app.components.PostComponents.SharingModalContent.projectWhatsAppMessage',\n    defaultMessage: 'Support my project: {postTitle}.',\n  },\n  issueWhatsAppMessage: {\n    id:\n      'app.components.PostComponents.SharingModalContent.issueWhatsAppMessage',\n    defaultMessage: 'I just posted an issue: {postTitle}.',\n  },\n  whatsAppMessageProposal: {\n    id:\n      'app.components.PostComponents.SharingModalContent.whatsAppMessageProposal',\n    defaultMessage: 'I just posted a proposal for {orgName}: {postTitle}',\n  },\n});\n","export default {\n  sharingModalOpened: {\n    name: 'initiativeflow social sharing modal opened',\n  },\n};\n","import React from 'react';\nimport { BehaviorSubject, Subscription, of } from 'rxjs';\nimport { distinctUntilChanged, switchMap } from 'rxjs/operators';\nimport shallowCompare from 'utils/shallowCompare';\nimport {\n  IInitiativeImageData,\n  initiativeImagesStream,\n} from 'services/initiativeImages';\nimport { isString } from 'lodash-es';\n\ninterface InputProps {\n  initiativeId: string | null;\n}\n\ntype children = (\n  renderProps: GetInitiativeImagesChildProps\n) => JSX.Element | null;\n\ninterface Props extends InputProps {\n  children?: children;\n}\n\ninterface State {\n  initiativeImages: IInitiativeImageData[] | undefined | null;\n}\n\nexport type GetInitiativeImagesChildProps =\n  | IInitiativeImageData[]\n  | undefined\n  | null;\n\nexport default class GetInitiativeImages extends React.Component<Props, State> {\n  private inputProps$: BehaviorSubject<InputProps>;\n  private subscriptions: Subscription[];\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      initiativeImages: undefined,\n    };\n  }\n\n  componentDidMount() {\n    const { initiativeId } = this.props;\n\n    this.inputProps$ = new BehaviorSubject({ initiativeId });\n\n    this.subscriptions = [\n      this.inputProps$\n        .pipe(\n          distinctUntilChanged((prev, next) => shallowCompare(prev, next)),\n          switchMap(({ initiativeId }) => {\n            if (isString(initiativeId)) {\n              return initiativeImagesStream(initiativeId).observable;\n            }\n\n            return of(null);\n          })\n        )\n        .subscribe((initiativeImages) => {\n          this.setState({\n            initiativeImages: initiativeImages ? initiativeImages.data : null,\n          });\n        }),\n    ];\n  }\n\n  componentDidUpdate() {\n    const { initiativeId } = this.props;\n    this.inputProps$.next({ initiativeId });\n  }\n\n  componentWillUnmount() {\n    this.subscriptions.forEach((subscription) => subscription.unsubscribe());\n  }\n\n  render() {\n    const { children } = this.props;\n    const { initiativeImages } = this.state;\n    return (children as children)(initiativeImages);\n  }\n}\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  linkToHomePage: {\n    id: 'app.components.PostComponents.linkToHomePage',\n    defaultMessage: 'Home page',\n  },\n  readMore: {\n    id: 'app.components.PostComponents.readMore',\n    defaultMessage: 'Read more...',\n  },\n});\n","export default {\n  clickTranslateInitiativeButton: {\n    name: 'Clicked button to translate initiative title/description',\n  },\n  clickGoBackToOriginalInitiativeCopyButton: {\n    name:\n      'Clicked button to go back to original, non-translated initiative title/description',\n  },\n};\n","import { API_PATH } from 'containers/App/constants';\nimport streams, { IStreamParams } from 'utils/streams';\nimport { IRelationship, Multiloc, ImageSizes, ILinks } from 'typings';\nimport { first } from 'rxjs/operators';\nimport { get } from 'lodash-es';\n\nexport type InitiativePublicationStatus =\n  | 'draft'\n  | 'published'\n  | 'archived'\n  | 'spam';\n\nexport type IInitiativeAction =\n  | 'posting_initiative'\n  | 'commenting_initiative'\n  | 'voting_initiative'\n  | 'comment_voting_initiative';\n\nexport interface IInitiativeData {\n  id: string;\n  type: 'initiatives';\n  attributes: {\n    title_multiloc: Multiloc;\n    body_multiloc: Multiloc;\n    author_name: string;\n    slug: string;\n    publication_status: InitiativePublicationStatus;\n    upvotes_count: number;\n    comments_count: number;\n    location_point_geojson: GeoJSON.Point;\n    location_description: string;\n    budget: number | null;\n    created_at: string;\n    updated_at: string;\n    published_at: string;\n    header_bg: ImageSizes;\n    expires_at: string;\n  };\n  relationships: {\n    topics: {\n      data: IRelationship[];\n    };\n    initiative_images: {\n      data: IRelationship[];\n    };\n    author: {\n      data: IRelationship | null;\n    };\n    assignee: {\n      data: IRelationship | null;\n    };\n    initiative_status?: {\n      data: IRelationship | null;\n    };\n    user_vote?: {\n      data: IRelationship | null;\n    };\n  };\n}\n\nexport interface IInitiative {\n  data: IInitiativeData;\n}\n\nexport interface IInitiatives {\n  data: IInitiativeData[];\n  links: ILinks;\n}\n\nexport interface IInitiativeAdd {\n  author_id?: string | null;\n  assignee_id?: string | null;\n  initiative_status_id?: string | null;\n  publication_status?: InitiativePublicationStatus;\n  title_multiloc?: Multiloc;\n  body_multiloc?: Multiloc;\n  topic_ids?: string[] | null;\n  area_ids?: string[] | null;\n  phase_ids?: string[] | null;\n  location_point_geojson?: GeoJSON.Point | null;\n  location_description?: string | null;\n}\nexport interface IInitiativesCount {\n  count: number;\n}\n\nexport interface IInitiativesFilterCounts {\n  initiative_status_id: {\n    [key: string]: number;\n  };\n  area_id: {\n    [key: string]: number;\n  };\n  topic_id: {\n    [key: string]: number;\n  };\n  total: number;\n}\n\nexport interface IGeotaggedInitiativeData {\n  id: string;\n  type: string;\n  attributes: {\n    title_multiloc: Multiloc;\n    location_point_geojson: GeoJSON.Point;\n    location_description: string;\n  };\n}\n\nexport interface IInitiativeLinks {\n  self: string;\n  first: string;\n  prev: string;\n  next: string;\n  last: string;\n}\n\nexport interface InitiativeActivity {\n  id: string;\n  type: 'activity';\n  attributes: {\n    action: string;\n    acted_at: string;\n    change: string[] | { [key: string]: string }[] | null;\n  };\n  relationships: {\n    user: { data: IRelationship };\n  };\n}\n\nexport type InitiativeDisabledReason =\n  | 'not_permitted'\n  | 'not_verified'\n  | 'not_signed_in';\n\nexport function initiativeByIdStream(initiativeId: string) {\n  return streams.get<IInitiative>({\n    apiEndpoint: `${API_PATH}/initiatives/${initiativeId}`,\n  });\n}\n\nexport function initiativeBySlugStream(initiativeSlug: string) {\n  return streams.get<IInitiative>({\n    apiEndpoint: `${API_PATH}/initiatives/by_slug/${initiativeSlug}`,\n  });\n}\n\nexport function initiativesStream(streamParams: IStreamParams | null = null) {\n  return streams.get<IInitiatives>({\n    apiEndpoint: `${API_PATH}/initiatives`,\n    ...streamParams,\n  });\n}\n\nexport function initiativesFilterCountsStream(\n  streamParams: IStreamParams | null = null\n) {\n  return streams.get<IInitiativesFilterCounts>({\n    apiEndpoint: `${API_PATH}/initiatives/filter_counts`,\n    ...streamParams,\n    cacheStream: false,\n  });\n}\n\nexport function initiativesMarkersStream(\n  streamParams: IStreamParams | null = null\n) {\n  return streams.get<{\n    data: IGeotaggedInitiativeData[];\n    links: IInitiativeLinks;\n  }>({\n    apiEndpoint: `${API_PATH}/initiatives/as_markers`,\n    ...streamParams,\n    cacheStream: false,\n  });\n}\n\nexport async function addInitiative(object: IInitiativeAdd) {\n  const response = await streams.add<IInitiative>(`${API_PATH}/initiatives`, {\n    initiative: object,\n  });\n  return response;\n}\n\nexport async function updateInitiative(\n  initiativeId: string,\n  object: Partial<IInitiativeAdd>\n) {\n  const response = await streams.update<IInitiative>(\n    `${API_PATH}/initiatives/${initiativeId}`,\n    initiativeId,\n    { initiative: object }\n  );\n  streams.fetchAllWith({\n    apiEndpoint: [\n      `${API_PATH}/stats/initiatives_count`,\n      `${API_PATH}/initiatives`,\n      `${API_PATH}/initiatives/${initiativeId}/activities`,\n    ],\n  });\n  return response;\n}\n\nexport async function deleteInitiative(initiativeId: string) {\n  const [initiative, response] = await Promise.all([\n    initiativeByIdStream(initiativeId).observable.pipe(first()).toPromise(),\n    streams.delete(`${API_PATH}/initiatives/${initiativeId}`, initiativeId),\n  ]);\n\n  const authorId = get(initiative, 'relationships.author.data.id', false);\n\n  streams.fetchAllWith({\n    apiEndpoint: authorId\n      ? [`${API_PATH}/users/${authorId}/initiatives_count`]\n      : [],\n  });\n\n  return response;\n}\n\nexport interface IInitiativeAllowedTransitions {\n  [key: string]: {\n    feedback_needed: boolean;\n  };\n}\n\nexport function initiativeAllowedTransitionsStream(initiativeId: string) {\n  return streams.get<IInitiativeAllowedTransitions>({\n    apiEndpoint: `${API_PATH}/initiatives/${initiativeId}/allowed_transitions`,\n  });\n}\n\nexport interface IInitiativesFilterCounts {\n  initiative_status_id: {\n    [key: string]: number;\n  };\n  area_id: {\n    [key: string]: number;\n  };\n  topic_id: {\n    [key: string]: number;\n  };\n  total: number;\n}\n\nexport function initiativeActivities(initiativeId: string) {\n  return streams.get<{ data: InitiativeActivity[] }>({\n    apiEndpoint: `${API_PATH}/initiatives/${initiativeId}/activities`,\n  });\n}\n\nexport type IInitiativeActionDescriptors = {\n  [key in IInitiativeAction]: {\n    enabled: boolean;\n    disabled_reason: InitiativeDisabledReason | null;\n  };\n};\n\nexport function getInitiativeActionDescriptors() {\n  return streams.get<IInitiativeActionDescriptors>({\n    apiEndpoint: `${API_PATH}/action_descriptors/initiatives`,\n  });\n}\n","import React, { PureComponent } from 'react';\n\nimport styled, { withTheme } from 'styled-components';\nimport { colors, fontSizes, media } from 'utils/styleUtils';\nimport { ScreenReaderOnly } from 'utils/a11y';\nimport { StatusExplanation } from './SharedStyles';\n\nimport { IInitiativeData } from 'services/initiatives';\nimport { IInitiativeStatusData } from 'services/initiativeStatuses';\nimport { IAppConfigurationSettings } from 'services/appConfiguration';\n\nimport CountDown from './CountDown';\nimport ProgressBar from 'components/UI/ProgressBar';\nimport Button from 'components/UI/Button';\n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from './messages';\nimport T from 'components/T';\n\nconst Container = styled.div``;\n\nconst CountDownWrapper = styled.div`\n  display: flex;\n  flex-direction: row-reverse;\n\n  ${media.smallerThanMaxTablet`\n    display: none;\n  `}\n`;\n\nconst VoteCounter = styled.div`\n  margin-top: 15px;\n`;\n\nconst VoteText = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  padding-bottom: 4px;\n`;\n\nconst VoteTextLeft = styled.div`\n  font-size: ${fontSizes.base}px;\n  color: ${(props) => props.theme.colorMain};\n`;\n\nconst VoteTextRight = styled.div`\n  font-size: ${fontSizes.base}px;\n  color: ${(props) => props.theme.colorText};\n`;\n\nconst StyledProgressBar = styled(ProgressBar)`\n  height: 12px;\n  width: 100%;\n`;\n\nconst StyledButton = styled(Button)`\n  margin-top: 20px;\n`;\n\ninterface InputProps {\n  initiative: IInitiativeData;\n  initiativeStatus: IInitiativeStatusData;\n  initiativeSettings: NonNullable<IAppConfigurationSettings['initiatives']>;\n  userVoted: boolean;\n  onVote: () => void;\n}\ninterface DataProps {}\n\ninterface Props extends InputProps, DataProps {}\n\nclass Custom extends PureComponent<Props & { theme: any }> {\n  handleOnVote = () => {\n    this.props.onVote();\n  };\n\n  render() {\n    const {\n      initiative,\n      initiativeStatus,\n      initiativeSettings: { voting_threshold },\n      theme,\n      userVoted,\n    } = this.props;\n    const voteCount = initiative.attributes.upvotes_count;\n    const voteLimit = voting_threshold;\n\n    return (\n      <Container>\n        <CountDownWrapper>\n          <CountDown targetTime={initiative.attributes.expires_at} />\n        </CountDownWrapper>\n        <StatusExplanation>\n          <T value={initiativeStatus.attributes.description_multiloc} />\n        </StatusExplanation>\n        <VoteCounter>\n          <VoteText aria-hidden={true}>\n            <VoteTextLeft>\n              <FormattedMessage\n                {...messages.xVotes}\n                values={{ count: voteCount }}\n              />\n            </VoteTextLeft>\n            <VoteTextRight>{voteLimit}</VoteTextRight>\n          </VoteText>\n          <ScreenReaderOnly>\n            <FormattedMessage\n              {...messages.xVotesOfY}\n              values={{\n                xVotes: (\n                  <FormattedMessage\n                    {...messages.xVotes}\n                    values={{ count: voteCount }}\n                  />\n                ),\n                votingThreshold: voteLimit,\n              }}\n            />\n          </ScreenReaderOnly>\n          <StyledProgressBar\n            progress={voteCount / voteLimit}\n            color={theme.colorMain}\n            bgColor={colors.lightGreyishBlue}\n          />\n        </VoteCounter>\n        {!userVoted && (\n          <StyledButton\n            icon=\"upvote\"\n            buttonStyle=\"primary\"\n            onClick={this.handleOnVote}\n          >\n            <FormattedMessage {...messages.vote} />\n          </StyledButton>\n        )}\n      </Container>\n    );\n  }\n}\n\nexport default withTheme(Custom);\n","import React, { memo, useCallback, MouseEvent } from 'react';\nimport clHistory from 'utils/cl-router/history';\n\n// components\nimport { Icon } from 'cl2-component-library';\nimport VoteIndicator from 'components/InitiativeCard/VoteIndicator';\n\n// utils\nimport eventEmitter from 'utils/eventEmitter';\n\n// i18n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from './messages';\n\n// styling\nimport styled from 'styled-components';\nimport { media, colors, fontSizes } from 'utils/styleUtils';\nimport { lighten } from 'polished';\n\nconst Container = styled.div`\n  height: ${(props) => props.theme.mobileTopBarHeight}px;\n  background: #fff;\n  border-bottom: solid 1px ${lighten(0.4, colors.label)};\n\n  ${media.biggerThanMaxTablet`\n    display: none;\n  `}\n`;\n\nconst TopBarInner = styled.div`\n  height: 100%;\n  padding-left: 15px;\n  padding-right: 15px;\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n\n  ${media.biggerThanMinTablet`\n    padding-left: 30px;\n    padding-right: 30px;\n  `}\n`;\n\nconst Left = styled.div`\n  height: 48px;\n  align-items: center;\n  display: none;\n\n  ${media.smallerThanMaxTablet`\n    display: flex;\n  `}\n`;\n\nconst Right = styled.div``;\n\nconst GoBackIcon = styled(Icon)`\n  height: 22px;\n  fill: ${colors.label};\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: fill 100ms ease-out;\n`;\n\nconst GoBackButton = styled.button`\n  width: 45px;\n  height: 45px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0;\n  margin: 0;\n  margin-right: 6px;\n  margin-left: -2px;\n  cursor: pointer;\n  background: #fff;\n  border-radius: 50%;\n  border: solid 1px ${lighten(0.2, colors.label)};\n  transition: all 100ms ease-out;\n\n  &:hover {\n    border-color: #000;\n\n    ${GoBackIcon} {\n      fill: #000;\n    }\n  }\n`;\n\nconst GoBackLabel = styled.div`\n  color: ${colors.label};\n  font-size: ${fontSizes.base}px;\n  font-weight: 400;\n  transition: fill 100ms ease-out;\n\n  ${media.phone`\n    display: none;\n  `}\n`;\n\ninterface Props {\n  initiativeId: string;\n  insideModal?: boolean;\n  className?: string;\n}\n\nconst InitiativeShowPageTopBar = memo<Props>(\n  ({ initiativeId, insideModal, className }) => {\n    const onGoBack = useCallback((event: MouseEvent<HTMLElement>) => {\n      event.preventDefault();\n\n      if (insideModal) {\n        eventEmitter.emit('closeIdeaModal');\n      } else {\n        clHistory.push('/');\n      }\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    return (\n      <Container className={className || ''}>\n        <TopBarInner>\n          <Left>\n            <GoBackButton onClick={onGoBack}>\n              <GoBackIcon name=\"arrow-back\" />\n            </GoBackButton>\n            <GoBackLabel>\n              <FormattedMessage {...messages.goBack} />\n            </GoBackLabel>\n          </Left>\n          <Right>\n            <VoteIndicator initiativeId={initiativeId} />\n          </Right>\n        </TopBarInner>\n      </Container>\n    );\n  }\n);\n\nexport default InitiativeShowPageTopBar;\n","import React, { memo } from 'react';\n\n// components\nimport UserName from 'components/UI/UserName';\n\n// styling\nimport styled from 'styled-components';\nimport { fontSizes } from 'utils/styleUtils';\n\n// i18n\nimport messages from './messages';\nimport { FormattedMessage } from 'utils/cl-intl';\n\nconst Container = styled.div`\n  display: flex;\n  align-items: center;\n  margin-top: 7px;\n  margin-bottom: 25px;\n`;\n\nconst PostedByText = styled.span`\n  color: white;\n  font-size: ${fontSizes.base}px;\n  margin-bottom: 3px;\n`;\n\ninterface Props {\n  authorId: string | null | undefined;\n  className?: string;\n}\n\nconst PostedBy = memo<Props>(({ authorId, className }) => {\n  if (authorId) {\n    const authorName = (\n      <UserName\n        userId={authorId}\n        fontWeight={500}\n        isLinkToProfile\n        hideLastName\n        color=\"white\"\n      />\n    );\n\n    return (\n      <Container className={`e2e-idea-author ${className || ''}`}>\n        <PostedByText>\n          <FormattedMessage\n            {...messages.postedByShort}\n            values={{ authorName }}\n          />\n        </PostedByText>\n      </Container>\n    );\n  }\n\n  return null;\n});\n\nexport default PostedBy;\n","const columnsGapDesktop = 100;\nconst rightColumnWidthDesktop = 360;\nconst columnsGapTablet = 60;\nconst rightColumnWidthTablet = 300;\nconst postPageContentMaxWidth = 1210;\n\nexport {\n  columnsGapDesktop,\n  rightColumnWidthDesktop,\n  columnsGapTablet,\n  rightColumnWidthTablet,\n  postPageContentMaxWidth,\n};\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  invisibleTitle: {\n    id: 'app.containers.InitiativesShow.VoteControl.invisibleTitle',\n    defaultMessage: 'Status and votes',\n  },\n  moreInfo: {\n    id: 'app.containers.InitiativesShow.VoteControl.moreInfo',\n    defaultMessage: 'More info',\n  },\n  days: {\n    id: 'app.containers.InitiativesShow.VoteControl.days',\n    defaultMessage: 'days',\n  },\n  hours: {\n    id: 'app.containers.InitiativesShow.VoteControl.hours',\n    defaultMessage: 'hours',\n  },\n  minutes: {\n    id: 'app.containers.InitiativesShow.VoteControl.minutes',\n    defaultMessage: 'mins',\n  },\n  proposedStatusExplanation: {\n    id: 'app.containers.InitiativesShow.VoteControl.proposedStatusExplanation',\n    defaultMessage:\n      '{votingThreshold} votes needed to get this initiative {proposedStatusExplanationBold}',\n  },\n  proposedStatusExplanationBold: {\n    id:\n      'app.containers.InitiativesShow.VoteControl.proposedStatusExplanationBold',\n    defaultMessage: 'considered by {orgName}',\n  },\n  proposedStatusExplanationMobile: {\n    id:\n      'app.containers.InitiativesShow.VoteControl.proposedStatusExplanationMobile',\n    defaultMessage:\n      '{votingThreshold} votes needed within {daysLeft, plural, =0 {less than a day} one {one day} other {# days}} to get this initiative {proposedStatusExplanationMobileBold}',\n  },\n  proposedStatusExplanationMobileBold: {\n    id:\n      'app.containers.InitiativesShow.VoteControl.proposedStatusExplanationMobileBold',\n    defaultMessage: 'considered by {orgName}',\n  },\n  ineligibleStatusExplanation: {\n    id:\n      'app.containers.InitiativesShow.VoteControl.ineligibleStatusExplanation',\n    defaultMessage:\n      \"This initiative doesn't meet the criteria {ineligibleStatusExplanationBold}\",\n  },\n  ineligibleStatusExplanationBold: {\n    id:\n      'app.containers.InitiativesShow.VoteControl.ineligibleStatusExplanationBold',\n    defaultMessage: 'to be eligible',\n  },\n  expiredStatusExplanation: {\n    id: 'app.containers.InitiativesShow.VoteControl.expiredStatusExplanation',\n    defaultMessage:\n      'This initiative expired as it {expiredStatusExplanationBold}.',\n  },\n  expiredStatusExplanationBold: {\n    id:\n      'app.containers.InitiativesShow.VoteControl.expiredStatusExplanationBold',\n    defaultMessage: \"didn't reach {votingThreshold} votes in time\",\n  },\n  thresholdReachedStatusExplanation: {\n    id:\n      'app.containers.InitiativesShow.VoteControl.thresholdReachedStatusExplanation',\n    defaultMessage:\n      '{thresholdReachedStatusExplanationBold}. {orgName} got notified and will provide an answer. Voting remains open.',\n  },\n  thresholdReachedStatusExplanationBold: {\n    id:\n      'app.containers.InitiativesShow.VoteControl.thresholdReachedStatusExplanationBold',\n    defaultMessage: 'The threshold has been reached',\n  },\n  answeredStatusExplanation: {\n    id: 'app.containers.InitiativesShow.VoteControl.answeredStatusExplanation',\n    defaultMessage: '{answeredStatusExplanationBold} Voting remains open.',\n  },\n  answeredStatusExplanationBold: {\n    id:\n      'app.containers.InitiativesShow.VoteControl.answeredStatusExplanationBold',\n    defaultMessage:\n      '{orgName} received the initiative and gave an official answer.',\n  },\n  xVotes: {\n    id: 'app.containers.InitiativesShow.VoteControl.xVotes',\n    defaultMessage:\n      '{count, plural, =0 {no votes} one {1 vote} other {# votes}}',\n  },\n  vote: {\n    id: 'app.containers.InitiativesShow.VoteControl.vote',\n    defaultMessage: 'Vote',\n  },\n  cancelVote: {\n    id: 'app.containers.InitiativesShow.VoteControl.cancelVote',\n    defaultMessage: 'Cancel vote',\n  },\n  readAnswer: {\n    id: 'app.containers.InitiativesShow.VoteControl.readAnswer',\n    defaultMessage: 'Read answer',\n  },\n  votedTitle: {\n    id: 'app.containers.InitiativesShow.VoteControl.votedTitle',\n    defaultMessage: 'Your vote has been submitted!',\n  },\n  votedText: {\n    id: 'app.containers.InitiativesShow.VoteControl.votedText',\n    defaultMessage:\n      \"You'll get notified when this initiative goes to the next step. {x, plural, =0 {There's {xDays} left.} one {There's {xDays} left.} other {There are {xDays} left.}}\",\n  },\n  xDays: {\n    id: 'app.containers.InitiativesShow.VoteControl.xDays',\n    defaultMessage:\n      '{x, plural, =0 {less than a day} one {one day} other {# days}}',\n  },\n  unvoteLink: {\n    id: 'app.containers.InitiativesShow.VoteControl.unvoteLink',\n    defaultMessage: 'Cancel my vote',\n  },\n  xVotesOfY: {\n    id: 'app.containers.InitiativesShow.VoteControl.xVotesOfY',\n    defaultMessage: '{xVotes} out of {votingThreshold}',\n  },\n  xPeopleVoted: {\n    id: 'app.containers.InitiativesShow.VoteControl.xPeopleVoted',\n    defaultMessage: '{xPeople} voted for this initiative',\n  },\n  xPeople: {\n    id: 'app.containers.InitiativesShow.VoteControl.xPeople',\n    defaultMessage:\n      '{count, plural, =0 {No one} one {One person} other {# people}}',\n  },\n  or: {\n    id: 'app.containers.InitiativesShow.VoteControl.or',\n    defaultMessage: 'or',\n  },\n  votingNotPermitted: {\n    id: 'app.containers.InitiativesShow.VoteControl.votingNotPermitted',\n    defaultMessage: \"You don't have the rights to vote on this proposal.\",\n  },\n});\n","import React, { memo } from 'react';\n\n// styles\nimport styled from 'styled-components';\nimport { colors, media } from 'utils/styleUtils';\nimport { postPageContentMaxWidth } from './styleConstants';\nimport { GetLocaleChildProps } from 'resources/GetLocale';\nimport { GetInitiativeChildProps } from 'resources/GetInitiative';\n\nimport Outlet from 'components/Outlet';\n\nconst Container = styled.div`\n  width: 100%;\n  height: 50px;\n  color: ${colors.label};\n  background: rgba(132, 147, 158, 0.06);\n  border-bottom: 1px solid ${colors.adminSeparation};\n`;\n\nconst Inner = styled.div`\n  max-width: ${postPageContentMaxWidth}px;\n  height: 100%;\n  margin: 0 auto;\n  padding-left: 60px;\n  padding-right: 60px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n\n  ${media.smallerThanMaxTablet`\n    max-width: 100vw;\n  `}\n\n  ${media.smallerThanMinTablet`\n    width: 100%;\n    max-width: 100vw;\n    padding-left: 15px;\n    padding-right: 15px;\n  `}\n`;\n\nconst Left = styled.div`\n  flex: 1;\n  min-width: 0;\n  display: flex;\n  align-items: center;\n  margin-right: 20px;\n`;\n\nconst Right = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\ninterface Props {\n  rightContent: JSX.Element | null;\n  leftContent: JSX.Element | null;\n  translateButtonClicked: boolean;\n  onTranslate: () => void;\n  locale: GetLocaleChildProps;\n  initiative: GetInitiativeChildProps;\n}\n\nexport default memo<Props>(\n  ({\n    rightContent,\n    leftContent,\n    translateButtonClicked,\n    onTranslate,\n    initiative,\n    locale,\n  }) => {\n    return (\n      <Container>\n        <Inner>\n          <Left>{leftContent}</Left>\n          <Right>\n            <Outlet\n              id=\"app.components.PostShowComponents.ActionBar.right\"\n              translateButtonClicked={translateButtonClicked}\n              onClick={onTranslate}\n              initiative={initiative}\n              locale={locale}\n            />\n            {rightContent}\n          </Right>\n        </Inner>\n      </Container>\n    );\n  }\n);\n","import styled from 'styled-components';\nimport { fontSizes, colors, media } from 'utils/styleUtils';\nimport { Icon } from 'cl2-component-library';\n\nexport const StatusWrapper = styled.div`\n  display: flex;\n  flex-direction: row-reverse;\n  font-size: ${fontSizes.small};\n  text-transform: uppercase;\n  color: ${colors.clGreyOnGreyBackground};\n\n  &.answered {\n    color: ${colors.clGreen};\n  }\n\n  ${media.smallerThanMaxTablet`\n    display: none;\n  `}\n`;\n\nexport const StatusExplanation = styled.div`\n  font-size: ${fontSizes.base}px;\n  color: ${(props) => props.theme.colorText};\n  line-height: 23px;\n\n  .tooltip-icon {\n    margin-left: 3px;\n    display: inline-block;\n  }\n\n  b {\n    font-weight: 600;\n    background-color: rgba(255, 197, 47, 0.16);\n  }\n`;\n\nexport const TooltipWrapper = styled.div`\n  padding: 15px;\n  min-width: 150px;\n  max-width: 300px;\n  font-size: ${fontSizes.small}px;\n  color: ${({ theme }) => theme.colorText};\n  font-weight: 400;\n  line-height: 16px;\n  text-align: left;\n`;\n\nexport const HelpIcon = styled(Icon)`\n  width: 12px;\n  height: 12px;\n`;\n","import React from 'react';\nimport { BehaviorSubject, Subscription, of } from 'rxjs';\nimport { distinctUntilChanged, switchMap } from 'rxjs/operators';\nimport shallowCompare from 'utils/shallowCompare';\nimport { TPermissionItem, hasPermission } from 'services/permissions';\nimport { isNilOrError } from 'utils/helperUtils';\n\ninterface InputProps {\n  item: TPermissionItem | null;\n  action: string;\n  context?: any;\n}\n\ntype children = (renderProps: GetPermissionChildProps) => JSX.Element | null;\n\ninterface Props extends InputProps {\n  children?: children;\n}\n\ninterface State {\n  permission: boolean | undefined;\n}\n\nexport type GetPermissionChildProps = boolean | undefined;\n\nexport default class GetPermission extends React.Component<Props, State> {\n  private inputProps$: BehaviorSubject<InputProps>;\n  private subscriptions: Subscription[];\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      permission: undefined,\n    };\n  }\n\n  componentDidMount() {\n    const { item, action, context } = this.props;\n\n    this.inputProps$ = new BehaviorSubject({ item, action, context });\n\n    this.subscriptions = [\n      this.inputProps$\n        .pipe(\n          distinctUntilChanged((prev, next) => shallowCompare(prev, next)),\n          switchMap(({ item, action, context }) => {\n            if (!isNilOrError(item)) {\n              return hasPermission({ item, action, context });\n            }\n\n            return of(false);\n          })\n        )\n        .subscribe((permission) => this.setState({ permission })),\n    ];\n  }\n\n  componentDidUpdate() {\n    const { item, action, context } = this.props;\n    this.inputProps$.next({ item, action, context });\n  }\n\n  componentWillUnmount() {\n    this.subscriptions.forEach((subscription) => subscription.unsubscribe());\n  }\n\n  render() {\n    const { children } = this.props;\n    const { permission } = this.state;\n    return (children as children)(permission);\n  }\n}\n","import React, { memo } from 'react';\nimport { adopt } from 'react-adopt';\n\n// components\nimport BreadCrumbs from 'components/PostShowComponents/Breadcrumbs';\nimport ActionBarLayout from 'components/PostShowComponents/ActionBar';\nimport InitiativeMoreActions from './InitiativeMoreActions';\n\n// resource\nimport GetInitiative, {\n  GetInitiativeChildProps,\n} from 'resources/GetInitiative';\nimport GetLocale, { GetLocaleChildProps } from 'resources/GetLocale';\n\nimport messages from '../messages';\n\n// utils\nimport { isNilOrError } from 'utils/helperUtils';\n\n// styling\nimport styled from 'styled-components';\n\nconst StyledInitiativeMoreActions = styled(InitiativeMoreActions)``;\n\ninterface InputProps {\n  initiativeId: string;\n  onTranslateInitiative: () => void;\n  translateButtonClicked: boolean;\n}\n\ninterface DataProps {\n  initiative: GetInitiativeChildProps;\n  locale: GetLocaleChildProps;\n}\n\ninterface Props extends InputProps, DataProps {}\n\nconst ActionBar = memo<Props>(\n  ({ onTranslateInitiative, translateButtonClicked, initiative, locale }) => {\n    return (\n      <ActionBarLayout\n        leftContent={\n          <BreadCrumbs\n            postType=\"initiative\"\n            links={[\n              {\n                text: {\n                  message: messages.allInitiatives,\n                },\n                to: '/initiatives',\n              },\n            ]}\n          />\n        }\n        rightContent={\n          isNilOrError(initiative) ? null : (\n            <StyledInitiativeMoreActions\n              id=\"e2e-initiative-more-actions-desktop\"\n              initiative={initiative}\n            />\n          )\n        }\n        initiative={initiative}\n        locale={locale}\n        onTranslate={onTranslateInitiative}\n        translateButtonClicked={translateButtonClicked}\n      />\n    );\n  }\n);\n\nconst Data = adopt<DataProps, InputProps>({\n  locale: <GetLocale />,\n  initiative: ({ initiativeId, render }) => (\n    <GetInitiative id={initiativeId}>{render}</GetInitiative>\n  ),\n});\n\nexport default (inputProps: InputProps) => (\n  <Data {...inputProps}>\n    {(dataProps) => <ActionBar {...inputProps} {...dataProps} />}\n  </Data>\n);\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  metaTitle: {\n    id: 'app.containers.InitiativesShow.metaTitle',\n    defaultMessage: 'Initiative: {initiativeTitle}',\n  },\n  invisibleTitleContent: {\n    id: 'app.containers.InitiativesShow.invisibleTitleContent',\n    defaultMessage: 'What is this initiative about?',\n  },\n  metaOgTitle: {\n    id: 'app.containers.InitiativesShow.metaOgTitle',\n    defaultMessage: 'Support this initiative: {initiativeTitle}',\n  },\n  initiativeOgDescription: {\n    id: 'app.containers.InitiativesShow.initiativeOgDescription',\n    defaultMessage:\n      'What do you think of this initiative? Join the discussion and vote to make your voice heard.',\n  },\n  learnMore: {\n    id: 'app.containers.InitiativesShow.learnMore',\n    defaultMessage: 'Learn more about initiatives',\n  },\n  postedBy: {\n    id: 'app.containers.InitiativesShow.postedBy',\n    defaultMessage: 'Initiative posted by {authorName}',\n  },\n  postedByShort: {\n    id: 'app.containers.InitiativesShow.postedByShort',\n    defaultMessage: 'Posted by {authorName}',\n  },\n  twitterMessage: {\n    id: 'app.containers.InitiativesShow.twitterMessage',\n    defaultMessage: 'Vote for {initiativeTitle} on',\n  },\n  whatsAppMessage: {\n    id: 'app.containers.InitiativesShow.whatsAppMessage',\n    defaultMessage:\n      '{initiativeTitle} | from the participation platform of {orgName}',\n  },\n  emailSharingSubject: {\n    id: 'app.containers.InitiativesShow.emailSharingSubject',\n    defaultMessage: 'Support my initiative: {initiativeTitle}.',\n  },\n  emailSharingBody: {\n    id: 'app.containers.InitiativesShow.emailSharingBody',\n    defaultMessage:\n      'What do you think of this initiative? Vote on it and share the discussion at {initiativeUrl} to make your voice heard!',\n  },\n  allInitiatives: {\n    id: 'app.containers.InitiativesShow.allInitiatives',\n    defaultMessage: 'All Initiatves',\n  },\n  moreOptions: {\n    id: 'app.components.InitiativesShow.moreOptions',\n    defaultMessage: 'More options',\n  },\n  reportAsSpam: {\n    id: 'app.components.InitiativesShow.reportAsSpam',\n    defaultMessage: 'Report as spam',\n  },\n  editInitiative: {\n    id: 'app.components.InitiativesShow.editInitiative',\n    defaultMessage: 'Edit initiative',\n  },\n  deleteInitiative: {\n    id: 'app.components.InitiativesShow.deleteInitiative',\n    defaultMessage: 'Delete initiative',\n  },\n  deleteInitiativeConfirmation: {\n    id: 'app.components.InitiativesShow.deleteInitiativeConfirmation',\n    defaultMessage: 'Are you sure you want to delete this initiative?',\n  },\n  reportAsSpamModalTitle: {\n    id: 'app.containers.InitiativesShow.reportAsSpamModalTitle',\n    defaultMessage: 'Why do you want to report this as spam?',\n  },\n  skipSharing: {\n    id: 'app.components.InitiativesShow.skipSharing',\n    defaultMessage: \"Skip it, I'll do it later\",\n  },\n  shareTitle: {\n    id: 'app.components.InitiativesShow.shareTitle',\n    defaultMessage: 'Congratulations, your initiative was successfully posted!',\n  },\n  shareSubtitle: {\n    id: 'app.components.InitiativesShow.shareSubtitle',\n    defaultMessage:\n      'Share your initiative to reach {votingThreshold} votes in {daysLimit} days.',\n  },\n  a11y_voteControl: {\n    id: 'app.containers.InitiativesShow.a11y_voteControl',\n    defaultMessage: 'Voting and status',\n  },\n});\n","import React, { memo } from 'react';\n\n// components\nimport { Icon } from 'cl2-component-library';\nimport UserName from 'components/UI/UserName';\nimport Link from 'utils/cl-router/Link';\n\n// styling\nimport styled from 'styled-components';\nimport { fontSizes, colors } from 'utils/styleUtils';\nimport { darken } from 'polished';\n\n// i18n\nimport messages from './messages';\nimport { FormattedMessage } from 'utils/cl-intl';\n\nconst Container = styled.div`\n  display: flex;\n  align-items: center;\n  margin-bottom: 25px;\n`;\n\nconst InitiativesIcon = styled(Icon)`\n  width: 42px;\n  height: 42px;\n  background-color: rgba(4, 77, 108, 0.06);\n  fill: ${colors.adminTextColor};\n  border-radius: 50%;\n  padding: 10px;\n  margin-right: 17px;\n`;\n\nconst PostedByWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst PostedByText = styled.div`\n  color: ${({ theme }) => theme.colorText};\n  font-size: ${fontSizes.base}px;\n  margin-bottom: 3px;\n`;\n\nconst AboutInitiativesLink = styled(Link)`\n  font-size: ${fontSizes.small}px;\n  color: ${colors.clGreyOnGreyBackground};\n  text-decoration: underline;\n\n  &:hover {\n    color: ${darken(0.2, colors.clGreyOnGreyBackground)};\n    text-decoration: underline;\n  }\n`;\n\ninterface Props {\n  authorId: string | null | undefined;\n  className?: string;\n  showAboutInitiatives: boolean;\n}\n\nconst PostedBy = memo<Props>(\n  ({ authorId, className, showAboutInitiatives }) => {\n    if (authorId) {\n      const authorName = (\n        <UserName\n          userId={authorId}\n          fontWeight={500}\n          isLinkToProfile={true}\n          hideLastName={true}\n        />\n      );\n\n      return (\n        <Container id=\"e2e-initiative-posted-by\" className={className || ''}>\n          <InitiativesIcon name=\"initiatives\" />\n          <PostedByWrapper>\n            <PostedByText>\n              <FormattedMessage\n                {...messages.postedBy}\n                values={{ authorName }}\n              />\n            </PostedByText>\n            {showAboutInitiatives && (\n              <AboutInitiativesLink to=\"/pages/initiatives\">\n                <FormattedMessage {...messages.learnMore} />\n              </AboutInitiativesLink>\n            )}\n          </PostedByWrapper>\n        </Container>\n      );\n    }\n\n    return null;\n  }\n);\n\nexport default PostedBy;\n","import React, { PureComponent, createRef } from 'react';\nimport { isUndefined, isString } from 'lodash-es';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { adopt } from 'react-adopt';\n\n// analytics\nimport { trackEvent } from 'utils/analytics';\nimport tracks from './tracks';\n\n// router\nimport { withRouter, WithRouterProps } from 'react-router';\n\n// components\nimport Modal from 'components/UI/Modal';\nimport FileAttachments from 'components/UI/FileAttachments';\nimport { Spinner } from 'cl2-component-library';\nimport SharingButtons from 'components/Sharing/SharingButtons';\nimport FeatureFlag from 'components/FeatureFlag';\nimport SharingModalContent from 'components/PostShowComponents/SharingModalContent';\n\nimport Topics from 'components/PostShowComponents/Topics';\nimport Title from 'components/PostShowComponents/Title';\nimport DropdownMap from 'components/PostShowComponents/DropdownMap';\nimport Body from 'components/PostShowComponents/Body';\nimport Image from 'components/PostShowComponents/Image';\nimport Footer from 'components/PostShowComponents/Footer';\nimport OfficialFeedback from 'components/PostShowComponents/OfficialFeedback';\nimport InitiativeMeta from './InitiativeMeta';\nimport PostedBy from './PostedBy';\nimport PostedByMobile from './PostedByMobile';\nimport ActionBar from './ActionBar';\nimport VoteControl from './VoteControl';\nimport InitiativeMoreActions from './ActionBar/InitiativeMoreActions';\n\n// resources\nimport GetResourceFiles, {\n  GetResourceFilesChildProps,\n} from 'resources/GetResourceFiles';\nimport GetLocale, { GetLocaleChildProps } from 'resources/GetLocale';\nimport GetInitiativeImages, {\n  GetInitiativeImagesChildProps,\n} from 'resources/GetInitiativeImages';\nimport GetInitiative, {\n  GetInitiativeChildProps,\n} from 'resources/GetInitiative';\nimport GetAuthUser, { GetAuthUserChildProps } from 'resources/GetAuthUser';\nimport GetWindowSize, {\n  GetWindowSizeChildProps,\n} from 'resources/GetWindowSize';\nimport GetOfficialFeedbacks, {\n  GetOfficialFeedbacksChildProps,\n} from 'resources/GetOfficialFeedbacks';\nimport GetPermission, {\n  GetPermissionChildProps,\n} from 'resources/GetPermission';\nimport GetAppConfiguration, {\n  GetAppConfigurationChildProps,\n} from 'resources/GetAppConfiguration';\n\n// utils\nimport { getAddressOrFallbackDMS } from 'utils/map';\n\n// i18n\nimport { InjectedIntlProps } from 'react-intl';\nimport { FormattedMessage } from 'utils/cl-intl';\nimport injectIntl from 'utils/cl-intl/injectIntl';\nimport messages from './messages';\nimport injectLocalize, { InjectedLocalized } from 'utils/localize';\n\n// animations\nimport CSSTransition from 'react-transition-group/CSSTransition';\n\n// style\nimport styled from 'styled-components';\nimport { media, viewportWidths } from 'utils/styleUtils';\nimport { ScreenReaderOnly } from 'utils/a11y';\nimport {\n  columnsGapDesktop,\n  rightColumnWidthDesktop,\n  columnsGapTablet,\n  rightColumnWidthTablet,\n  pageContentMaxWidth,\n} from './styleConstants';\n\nimport Outlet from 'components/Outlet';\n\nconst contentFadeInDuration = 250;\nconst contentFadeInEasing = 'cubic-bezier(0.19, 1, 0.22, 1)';\nconst contentFadeInDelay = 150;\n\nconst Loading = styled.div`\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst Container = styled.main`\n  display: flex;\n  flex-direction: column;\n  min-height: calc(\n    100vh - ${(props) => props.theme.menuHeight + props.theme.footerHeight}px\n  );\n\n  ${media.smallerThanMaxTablet`\n    min-height: calc(100vh - ${(props) => props.theme.mobileMenuHeight}px - ${(\n    props\n  ) => props.theme.mobileTopBarHeight}px);\n  `}\n\n  &.content-enter {\n    opacity: 0;\n\n    &.content-enter-active {\n      opacity: 1;\n      transition: opacity ${contentFadeInDuration}ms ${contentFadeInEasing}\n        ${contentFadeInDelay}ms;\n    }\n  }\n\n  &.content-enter-done {\n    opacity: 1;\n  }\n`;\n\nconst InitiativeContainer = styled.div`\n  width: 100%;\n  max-width: ${pageContentMaxWidth}px;\n  display: flex;\n  flex-direction: column;\n  margin: 0;\n  margin-left: auto;\n  margin-right: auto;\n  padding: 0;\n  padding-top: 60px;\n  padding-left: 60px;\n  padding-right: 60px;\n  position: relative;\n\n  ${media.smallerThanMaxTablet`\n    padding-top: 35px;\n  `}\n\n  ${media.smallerThanMinTablet`\n    padding-top: 25px;\n    padding-left: 15px;\n    padding-right: 15px;\n  `}\n`;\n\nconst Content = styled.div`\n  width: 100%;\n  display: flex;\n\n  ${media.smallerThanMaxTablet`\n    display: block;\n  `}\n`;\n\nconst LeftColumn = styled.div`\n  flex: 2;\n  margin: 0;\n  padding: 0;\n  padding-right: ${columnsGapDesktop}px;\n\n  ${media.tablet`\n    padding-right: ${columnsGapTablet}px;\n  `}\n\n  ${media.smallerThanMaxTablet`\n    padding: 0;\n  `}\n`;\n\nconst StyledTopics = styled(Topics)`\n  margin-bottom: 30px;\n\n  ${media.smallerThanMaxTablet`\n    margin-bottom: 5px;\n  `}\n`;\n\nconst InitiativeHeader = styled.div`\n  margin-top: -5px;\n  margin-bottom: 28px;\n\n  ${media.smallerThanMaxTablet`\n    margin-top: 0px;\n    margin-bottom: 45px;\n  `}\n`;\n\nconst InitiativeBannerContainer = styled.div`\n  width: 100%;\n  height: 163px;\n  display: flex;\n  align-items: stretch;\n  position: relative;\n  background: ${({ theme }) => theme.colorMain};\n\n  ${media.smallerThanMinTablet`\n    min-height: 200px;\n  `}\n`;\n\nconst InitiativeBannerImage = styled.div<{ src: string }>`\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background-repeat: no-repeat;\n  background-position: center center;\n  background-size: cover;\n  background-image: url(${(props) => props.src});\n`;\n\nconst InitiativeHeaderOverlay = styled.div`\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: linear-gradient(\n      0deg,\n      rgba(0, 0, 0, 0.5) 0%,\n      rgba(0, 0, 0, 0) 100%\n    ),\n    linear-gradient(0deg, rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3));\n`;\n\nconst InitiativeBannerContent = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  padding-left: 20px;\n  padding-right: 20px;\n  padding-top: 40px;\n  padding-bottom: 40px;\n  z-index: 1;\n`;\n\nconst MobileMoreActionContainer = styled.div`\n  position: absolute;\n  top: 10px;\n  right: 10px;\n`;\n\nconst StyledDropdownMap = styled(DropdownMap)`\n  margin-bottom: 40px;\n\n  ${media.smallerThanMaxTablet`\n    margin-bottom: 20px;\n  `}\n`;\n\nconst RightColumn = styled.div`\n  flex: 1;\n  margin: 0;\n  padding: 0;\n`;\n\nconst RightColumnDesktop = styled(RightColumn)`\n  flex: 0 0 ${rightColumnWidthDesktop}px;\n  width: ${rightColumnWidthDesktop}px;\n\n  ${media.tablet`\n    flex: 0 0 ${rightColumnWidthTablet}px;\n    width: ${rightColumnWidthTablet}px;\n  `}\n\n  ${media.smallerThanMaxTablet`\n    display: none;\n  `}\n`;\n\nconst MetaContent = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst SharingWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst SharingButtonsMobile = styled(SharingButtons)`\n  padding: 0;\n  margin: 0;\n  margin-top: 40px;\n\n  ${media.biggerThanMaxTablet`\n    display: none;\n  `}\n`;\n\nconst StyledOfficialFeedback = styled(OfficialFeedback)`\n  margin-top: 80px;\n`;\n\nconst StyledVoteControl = styled(VoteControl)`\n  box-shadow: 1px 0px 15px rgba(0, 0, 0, 0.06);\n  border-bottom: 1px solid rgba(0, 0, 0, 0.06);\n  padding: 25px;\n`;\n\ninterface DataProps {\n  initiative: GetInitiativeChildProps;\n  locale: GetLocaleChildProps;\n  initiativeImages: GetInitiativeImagesChildProps;\n  initiativeFiles: GetResourceFilesChildProps;\n  authUser: GetAuthUserChildProps;\n  windowSize: GetWindowSizeChildProps;\n  officialFeedbacks: GetOfficialFeedbacksChildProps;\n  postOfficialFeedbackPermission: GetPermissionChildProps;\n  tenant: GetAppConfigurationChildProps;\n}\n\ninterface InputProps {\n  initiativeId: string | null;\n  className?: string;\n}\n\ninterface Props extends DataProps, InputProps {}\n\ninterface State {\n  loaded: boolean;\n  spamModalVisible: boolean;\n  initiativeIdForSocialSharing: string | null;\n  translateButtonClicked: boolean;\n  a11y_pronounceLatestOfficialFeedbackPost: boolean;\n}\n\nexport class InitiativesShow extends PureComponent<\n  Props & InjectedIntlProps & InjectedLocalized & WithRouterProps,\n  State\n> {\n  officialFeedbackElement = createRef<HTMLDivElement>();\n  timeoutRef: NodeJS.Timeout;\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loaded: false,\n      spamModalVisible: false,\n      initiativeIdForSocialSharing: null,\n      translateButtonClicked: false,\n      a11y_pronounceLatestOfficialFeedbackPost: false,\n    };\n  }\n\n  componentDidMount() {\n    const newInitiativeId = this.props.location.query?.['new_initiative_id'];\n\n    this.setLoaded();\n\n    if (isString(newInitiativeId)) {\n      setTimeout(() => {\n        this.setState({ initiativeIdForSocialSharing: newInitiativeId });\n      }, 1500);\n\n      window.history.replaceState(null, '', window.location.pathname);\n    }\n  }\n\n  componentDidUpdate() {\n    this.setLoaded();\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.timeoutRef);\n  }\n\n  setLoaded = () => {\n    const { loaded } = this.state;\n    const { initiative, initiativeImages, officialFeedbacks } = this.props;\n\n    if (\n      !loaded &&\n      !isNilOrError(initiative) &&\n      !isUndefined(initiativeImages) &&\n      !isUndefined(officialFeedbacks.officialFeedbacksList)\n    ) {\n      this.setState({ loaded: true });\n    }\n  };\n\n  closeInitiativeSocialSharingModal = () => {\n    this.setState({ initiativeIdForSocialSharing: null });\n  };\n\n  onTranslateInitiative = () => {\n    this.setState((prevState) => {\n      // analytics\n      if (prevState.translateButtonClicked === true) {\n        trackEvent(tracks.clickGoBackToOriginalInitiativeCopyButton);\n      } else if (prevState.translateButtonClicked === false) {\n        trackEvent(tracks.clickTranslateInitiativeButton);\n      }\n\n      return {\n        translateButtonClicked: !prevState.translateButtonClicked,\n      };\n    });\n  };\n\n  onScrollToOfficialFeedback = () => {\n    if (this.officialFeedbackElement.current) {\n      this.officialFeedbackElement.current.scrollIntoView({\n        behavior: 'smooth',\n        block: 'center',\n        inline: 'center',\n      });\n    }\n\n    this.setState({ a11y_pronounceLatestOfficialFeedbackPost: true });\n    this.timeoutRef = setTimeout(\n      () => this.setState({ a11y_pronounceLatestOfficialFeedbackPost: false }),\n      2000\n    );\n  };\n\n  render() {\n    const {\n      initiativeFiles,\n      locale,\n      initiative,\n      localize,\n      initiativeImages,\n      authUser,\n      windowSize,\n      className,\n      postOfficialFeedbackPermission,\n      tenant,\n    } = this.props;\n    const {\n      loaded,\n      initiativeIdForSocialSharing,\n      translateButtonClicked,\n      a11y_pronounceLatestOfficialFeedbackPost,\n    } = this.state;\n    const { formatMessage } = this.props.intl;\n    const initiativeSettings = !isNilOrError(tenant)\n      ? tenant.attributes.settings.initiatives\n      : null;\n    const votingThreshold = initiativeSettings\n      ? initiativeSettings.voting_threshold\n      : null;\n    const daysLimit = initiativeSettings ? initiativeSettings.days_limit : null;\n    let content: JSX.Element | null = null;\n\n    if (\n      initiativeSettings &&\n      !isNilOrError(initiative) &&\n      !isNilOrError(locale) &&\n      loaded\n    ) {\n      const initiativeHeaderImageLarge =\n        initiative?.attributes?.header_bg?.large;\n      const authorId = initiative?.relationships?.author?.data?.id;\n      const initiativeTitle = localize(initiative?.attributes?.title_multiloc);\n      const initiativeImageLarge =\n        initiativeImages?.[0]?.attributes?.versions?.large;\n      const initiativeGeoPosition =\n        initiative?.attributes?.location_point_geojson;\n      const initiativeAddress = getAddressOrFallbackDMS(\n        initiative?.attributes?.location_description,\n        initiative?.attributes?.location_point_geojson\n      );\n      const topicIds =\n        initiative?.relationships?.topics?.data?.map((item) => item.id) || [];\n      const initiativeUrl = location.href;\n      const initiativeId = initiative?.id;\n      const initiativeBody = localize(initiative?.attributes?.body_multiloc);\n      const isDesktop = windowSize\n        ? windowSize > viewportWidths.largeTablet\n        : true;\n      const isNotDesktop = windowSize\n        ? windowSize <= viewportWidths.largeTablet\n        : false;\n      const utmParams = !isNilOrError(authUser)\n        ? {\n            source: 'share_initiative',\n            campaign: 'share_content',\n            content: authUser.id,\n          }\n        : {\n            source: 'share_initiative',\n            campaign: 'share_content',\n          };\n\n      content = (\n        <>\n          <InitiativeMeta initiativeId={initiativeId} />\n\n          {isDesktop && initiativeHeaderImageLarge && (\n            <InitiativeBannerContainer>\n              {initiativeHeaderImageLarge && (\n                <InitiativeBannerImage src={initiativeHeaderImageLarge} />\n              )}\n            </InitiativeBannerContainer>\n          )}\n\n          {isNotDesktop && (\n            <InitiativeBannerContainer>\n              {initiativeHeaderImageLarge && (\n                <>\n                  <InitiativeBannerImage src={initiativeHeaderImageLarge} />\n                  <InitiativeHeaderOverlay />\n                </>\n              )}\n              <InitiativeBannerContent>\n                <MobileMoreActionContainer>\n                  <InitiativeMoreActions\n                    initiative={initiative}\n                    id=\"e2e-initiative-more-actions-mobile\"\n                    color=\"white\"\n                  />\n                </MobileMoreActionContainer>\n                <Title\n                  postId={initiativeId}\n                  postType=\"initiative\"\n                  title={initiativeTitle}\n                  locale={locale}\n                  translateButtonClicked={translateButtonClicked}\n                  color=\"white\"\n                  align=\"left\"\n                />\n                <PostedByMobile authorId={authorId} />\n              </InitiativeBannerContent>\n            </InitiativeBannerContainer>\n          )}\n\n          {isDesktop && (\n            <ActionBar\n              initiativeId={initiativeId}\n              translateButtonClicked={translateButtonClicked}\n              onTranslateInitiative={this.onTranslateInitiative}\n            />\n          )}\n\n          {isNotDesktop && (\n            <StyledVoteControl\n              initiativeId={initiativeId}\n              onScrollToOfficialFeedback={this.onScrollToOfficialFeedback}\n            />\n          )}\n\n          <InitiativeContainer>\n            <Content>\n              <LeftColumn>\n                <StyledTopics postType=\"initiative\" topicIds={topicIds} />\n\n                {isDesktop && (\n                  <InitiativeHeader>\n                    <Title\n                      postType=\"initiative\"\n                      postId={initiativeId}\n                      title={initiativeTitle}\n                      locale={locale}\n                      translateButtonClicked={translateButtonClicked}\n                    />\n                  </InitiativeHeader>\n                )}\n\n                {isDesktop && (\n                  <PostedBy authorId={authorId} showAboutInitiatives />\n                )}\n\n                {initiativeImageLarge && (\n                  <Image\n                    src={initiativeImageLarge}\n                    alt=\"\"\n                    id=\"e2e-initiative-image\"\n                  />\n                )}\n\n                <Outlet\n                  id=\"app.containers.InitiativesShow.left\"\n                  windowSize={windowSize}\n                  translateButtonClicked={translateButtonClicked}\n                  onClick={this.onTranslateInitiative}\n                  initiative={initiative}\n                  locale={locale}\n                />\n\n                {initiativeGeoPosition && initiativeAddress && (\n                  <StyledDropdownMap\n                    address={initiativeAddress}\n                    position={initiativeGeoPosition}\n                  />\n                )}\n\n                <ScreenReaderOnly>\n                  <FormattedMessage\n                    tagName=\"h2\"\n                    {...messages.invisibleTitleContent}\n                  />\n                </ScreenReaderOnly>\n\n                <Body\n                  postId={initiativeId}\n                  postType=\"initiative\"\n                  locale={locale}\n                  body={initiativeBody}\n                  translateButtonClicked={translateButtonClicked}\n                />\n\n                {!isNilOrError(initiativeFiles) &&\n                  initiativeFiles.length > 0 && (\n                    <FileAttachments files={initiativeFiles} />\n                  )}\n\n                <div ref={this.officialFeedbackElement}>\n                  <StyledOfficialFeedback\n                    postId={initiativeId}\n                    postType=\"initiative\"\n                    permissionToPost={postOfficialFeedbackPermission}\n                    a11y_pronounceLatestOfficialFeedbackPost={\n                      a11y_pronounceLatestOfficialFeedbackPost\n                    }\n                  />\n                </div>\n\n                {isNotDesktop && (\n                  <SharingButtonsMobile\n                    context=\"initiative\"\n                    url={initiativeUrl}\n                    twitterMessage={formatMessage(messages.twitterMessage, {\n                      initiativeTitle,\n                    })}\n                    whatsAppMessage={formatMessage(messages.whatsAppMessage, {\n                      initiativeTitle,\n                    })}\n                    emailSubject={formatMessage(messages.emailSharingSubject, {\n                      initiativeTitle,\n                    })}\n                    emailBody={formatMessage(messages.emailSharingBody, {\n                      initiativeUrl,\n                      initiativeTitle,\n                    })}\n                    utmParams={utmParams}\n                  />\n                )}\n              </LeftColumn>\n\n              {isDesktop && (\n                <RightColumnDesktop>\n                  <MetaContent>\n                    <ScreenReaderOnly>\n                      <FormattedMessage\n                        tagName=\"h2\"\n                        {...messages.a11y_voteControl}\n                      />\n                    </ScreenReaderOnly>\n                    <VoteControl\n                      initiativeId={initiative.id}\n                      onScrollToOfficialFeedback={\n                        this.onScrollToOfficialFeedback\n                      }\n                      id=\"e2e-initiative-vote-control\"\n                    />\n                    <SharingWrapper>\n                      <SharingButtons\n                        id=\"e2e-initiative-sharing-component\"\n                        context=\"initiative\"\n                        url={initiativeUrl}\n                        twitterMessage={formatMessage(messages.twitterMessage, {\n                          initiativeTitle,\n                        })}\n                        whatsAppMessage={formatMessage(\n                          messages.whatsAppMessage,\n                          {\n                            initiativeTitle,\n                          }\n                        )}\n                        emailSubject={formatMessage(\n                          messages.emailSharingSubject,\n                          { initiativeTitle }\n                        )}\n                        emailBody={formatMessage(messages.emailSharingBody, {\n                          initiativeUrl,\n                          initiativeTitle,\n                        })}\n                        utmParams={utmParams}\n                      />\n                    </SharingWrapper>\n                  </MetaContent>\n                </RightColumnDesktop>\n              )}\n            </Content>\n          </InitiativeContainer>\n\n          {loaded && <Footer postId={initiativeId} postType=\"initiative\" />}\n        </>\n      );\n    }\n\n    return (\n      <>\n        {!loaded && (\n          <Loading>\n            <Spinner />\n          </Loading>\n        )}\n\n        <CSSTransition\n          classNames=\"content\"\n          in={loaded}\n          timeout={{\n            enter: contentFadeInDuration + contentFadeInDelay,\n            exit: 0,\n          }}\n          enter={true}\n          exit={false}\n        >\n          <Container id=\"e2e-initiative-show\" className={className}>\n            {content}\n          </Container>\n        </CSSTransition>\n\n        <FeatureFlag name=\"initiativeflow_social_sharing\">\n          <Modal\n            opened={!!initiativeIdForSocialSharing}\n            close={this.closeInitiativeSocialSharingModal}\n            hasSkipButton={true}\n            skipText={<FormattedMessage {...messages.skipSharing} />}\n          >\n            {initiativeIdForSocialSharing && (\n              <SharingModalContent\n                postType=\"initiative\"\n                postId={initiativeIdForSocialSharing}\n                title={formatMessage(messages.shareTitle)}\n                subtitle={formatMessage(messages.shareSubtitle, {\n                  votingThreshold,\n                  daysLimit,\n                })}\n              />\n            )}\n          </Modal>\n        </FeatureFlag>\n      </>\n    );\n  }\n}\n\nconst InitiativesShowWithHOCs = injectLocalize<Props>(\n  injectIntl(withRouter(InitiativesShow))\n);\n\nconst Data = adopt<DataProps, InputProps>({\n  locale: <GetLocale />,\n  tenant: <GetAppConfiguration />,\n  authUser: <GetAuthUser />,\n  windowSize: <GetWindowSize />,\n  initiative: ({ initiativeId, render }) => (\n    <GetInitiative id={initiativeId}>{render}</GetInitiative>\n  ),\n  initiativeImages: ({ initiativeId, render }) => (\n    <GetInitiativeImages initiativeId={initiativeId}>\n      {render}\n    </GetInitiativeImages>\n  ),\n  initiativeFiles: ({ initiativeId, render }) => (\n    <GetResourceFiles resourceId={initiativeId} resourceType=\"initiative\">\n      {render}\n    </GetResourceFiles>\n  ),\n  officialFeedbacks: ({ initiativeId, render }) => (\n    <GetOfficialFeedbacks postId={initiativeId} postType=\"initiative\">\n      {render}\n    </GetOfficialFeedbacks>\n  ),\n  postOfficialFeedbackPermission: ({ initiative, render }) => (\n    <GetPermission\n      item={!isNilOrError(initiative) ? initiative : null}\n      action=\"moderate\"\n    >\n      {render}\n    </GetPermission>\n  ),\n});\n\nexport default (inputProps: InputProps) => (\n  <Data {...inputProps}>\n    {(dataProps) => <InitiativesShowWithHOCs {...inputProps} {...dataProps} />}\n  </Data>\n);\n","import React, { PureComponent } from 'react';\nimport moment from 'moment';\nimport styled from 'styled-components';\nimport { colors, fontSizes } from 'utils/styleUtils';\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from './messages';\nimport { convertSecondsToDDHHMM } from 'utils/dateUtils';\n\nconst Container = styled.div`\n  display: flex;\n`;\n\nconst TimeComponent = styled.div`\n  margin: 0 5px 0 0;\n`;\n\nconst Count = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 40px;\n  height: 30px;\n  border-radius: 5px;\n  background-color: ${colors.lightGreyishBlue};\n  font-size: ${fontSizes.large}px;\n  font-weight: 500;\n  color: ${(props) => props.theme.colorText};\n`;\n\nconst Unit = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 5px 0 0 0;\n  color: ${(props) => props.theme.colorText};\n  font-size: ${fontSizes.small}px;\n`;\n\ninterface Props {\n  targetTime: string;\n  className?: string;\n}\n\ninterface State {\n  refresh: number;\n}\n\nclass CountDown extends PureComponent<Props, State> {\n  interval: NodeJS.Timeout;\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      refresh: Date.now(),\n    };\n  }\n\n  componentDidMount() {\n    this.interval = setInterval(() => {\n      this.setState({ refresh: Date.now() });\n    }, 60 * 1000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  render() {\n    const start = moment();\n    const end = moment(this.props.targetTime, 'YYYY-MM-DDThh:mm:ss.SSSZ');\n    const durationAsSeconds = moment.duration(end.diff(start)).asSeconds();\n    const formattedDuration = convertSecondsToDDHHMM(durationAsSeconds).split(\n      ':'\n    );\n    const daysLeft = formattedDuration[0];\n    const hoursLeft = formattedDuration[1];\n    const minutesLeft = formattedDuration[2];\n\n    return (\n      <Container className={this.props.className}>\n        <TimeComponent>\n          <Count>{daysLeft}</Count>\n          <Unit>\n            <FormattedMessage {...messages.days} />\n          </Unit>\n        </TimeComponent>\n        <TimeComponent>\n          <Count>{hoursLeft}</Count>\n          <Unit>\n            <FormattedMessage {...messages.hours} />\n          </Unit>\n        </TimeComponent>\n        <TimeComponent>\n          <Count>{minutesLeft}</Count>\n          <Unit>\n            <FormattedMessage {...messages.minutes} />\n          </Unit>\n        </TimeComponent>\n      </Container>\n    );\n  }\n}\n\nexport default CountDown;\n","import React, { PureComponent } from 'react';\nimport styled from 'styled-components';\nimport { fontSizes } from 'utils/styleUtils';\n\nimport { IInitiativeData } from 'services/initiatives';\nimport { IInitiativeStatusData } from 'services/initiativeStatuses';\nimport { IAppConfigurationSettings } from 'services/appConfiguration';\n\nimport { Icon } from 'cl2-component-library';\nimport { StatusWrapper, StatusExplanation } from './SharedStyles';\nimport Button from 'components/UI/Button';\n\nimport T from 'components/T';\nimport messages from './messages';\nimport { FormattedMessage } from 'utils/cl-intl';\n\nconst Container = styled.div``;\n\nconst StatusIcon = styled(Icon)`\n  path {\n    fill: ${(props) => props.theme.colorText};\n  }\n  width: 40px;\n  height: 40px;\n  margin-bottom: 20px;\n`;\n\nconst VoteText = styled.div`\n  font-size: ${fontSizes.base}px;\n  color: ${(props) => props.theme.colorText};\n  margin-top: 20px;\n`;\n\nconst Buttons = styled.div`\n  margin-top: 20px;\n  display: flex;\n  margin: 20px -3px 0 -3px;\n  & > * {\n    flex: 1;\n    margin: 3px;\n  }\n`;\n\ninterface InputProps {\n  initiative: IInitiativeData;\n  initiativeStatus: IInitiativeStatusData;\n  initiativeSettings: NonNullable<IAppConfigurationSettings['initiatives']>;\n  userVoted: boolean;\n  onVote: () => void;\n  onScrollToOfficialFeedback: () => void;\n}\ninterface DataProps {}\n\ninterface Props extends InputProps, DataProps {}\n\ninterface State {}\n\nclass Answered extends PureComponent<Props, State> {\n  handleOnVote = () => {\n    this.props.onVote();\n  };\n\n  handleOnReadAnswer = () => {\n    this.props.onScrollToOfficialFeedback();\n  };\n\n  render() {\n    const { initiative, initiativeStatus, userVoted } = this.props;\n\n    const voteCount = initiative.attributes.upvotes_count;\n\n    return (\n      <Container>\n        <StatusWrapper>\n          <T value={initiativeStatus.attributes.title_multiloc} />\n        </StatusWrapper>\n        <StatusIcon name=\"envelope-check\" />\n        <StatusExplanation>\n          <FormattedMessage\n            {...messages.answeredStatusExplanation}\n            values={{\n              answeredStatusExplanationBold: (\n                <b>\n                  <FormattedMessage\n                    {...messages.answeredStatusExplanationBold}\n                  />\n                </b>\n              ),\n            }}\n          />\n        </StatusExplanation>\n        <VoteText>\n          <FormattedMessage\n            {...messages.xPeopleVoted}\n            values={{\n              xPeople: (\n                <b>\n                  <FormattedMessage\n                    {...messages.xPeople}\n                    values={{ count: voteCount }}\n                  />\n                </b>\n              ),\n            }}\n          />\n        </VoteText>\n        <Buttons>\n          <Button onClick={this.handleOnReadAnswer}>\n            <FormattedMessage {...messages.readAnswer} />\n          </Button>\n          {!userVoted && (\n            <Button buttonStyle=\"primary-outlined\" onClick={this.handleOnVote}>\n              <FormattedMessage {...messages.vote} />\n            </Button>\n          )}\n        </Buttons>\n      </Container>\n    );\n  }\n}\n\nexport default Answered;\n","import { API_PATH } from 'containers/App/constants';\nimport streams from 'utils/streams';\n\nexport interface IInitiativeVoteData {\n  id: string;\n  type: 'vote';\n  attributes: {\n    mode: 'up' | 'down';\n  };\n  relationships: {\n    votable: {\n      data: {\n        id: string;\n        type: 'votable';\n      };\n    };\n    user: {\n      data: {\n        id: string;\n        type: 'user';\n      };\n    };\n  };\n}\n\ninterface ILinks {\n  self: string;\n  first: string;\n  prev: string;\n  next: string;\n  last: string;\n}\n\nexport interface IInitiativeVotes {\n  data: IInitiativeVoteData[];\n  links: ILinks;\n}\n\nexport interface IInitiativeVote {\n  data: IInitiativeVoteData;\n}\n\nexport interface INewVoteProperties {\n  user_id?: string;\n  mode: 'up' | 'down';\n}\n\nexport async function addVote(\n  initiativeId: string,\n  object: INewVoteProperties\n) {\n  const response = await streams.add<IInitiativeVote>(\n    `${API_PATH}/initiatives/${initiativeId}/votes`,\n    { vote: object }\n  );\n  await streams.fetchAllWith({\n    apiEndpoint: [\n      `${API_PATH}/initiatives/${initiativeId}`,\n      `${API_PATH}/initiative_statuses/${initiativeId}`,\n    ],\n  });\n  return response;\n}\n\nexport async function deleteVote(initiativeId: string, voteId: string) {\n  const response = await streams.delete(`${API_PATH}/votes/${voteId}`, voteId);\n  await streams.fetchAllWith({\n    apiEndpoint: [`${API_PATH}/initiatives/${initiativeId}`],\n  });\n  return response;\n}\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  noInitiativeFoundHere: {\n    id: 'app.components.InitiativesShowPage.noInitiativeFoundHere',\n    defaultMessage: 'No initiative was found here.',\n  },\n  goBack: {\n    id: 'app.components.InitiativesShowPage.goBack',\n    defaultMessage: 'Go back',\n  },\n  goBackToList: {\n    id: 'app.components.InitiativesShowPage.goBackToList',\n    defaultMessage: 'Go back to the list',\n  },\n});\n","import React, { memo } from 'react';\nimport { isError } from 'lodash-es';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { withRouter, WithRouterProps } from 'react-router';\nimport { adopt } from 'react-adopt';\n\n// components\nimport InitiativesShow from 'containers/InitiativesShow';\nimport Button from 'components/UI/Button';\nimport InitiativeShowPageTopBar from './InitiativeShowPageTopBar';\n\n// resources\nimport GetInitiative, {\n  GetInitiativeChildProps,\n} from 'resources/GetInitiative';\n\n// i18n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from './messages';\n\n// style\nimport styled from 'styled-components';\nimport { fontSizes, colors } from 'utils/styleUtils';\n\nconst InitiativeNotFoundWrapper = styled.div`\n  height: calc(\n    100vh - ${(props) => props.theme.menuHeight + props.theme.footerHeight}px\n  );\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 4rem;\n  font-size: ${fontSizes.large}px;\n  color: ${colors.label};\n`;\n\nconst Container = styled.div`\n  background: #fff;\n`;\n\nconst StyledInitiativeShowPageTopBar = styled(InitiativeShowPageTopBar)`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  z-index: 1000;\n`;\n\nconst StyledInitiativesShow = styled(InitiativesShow)``;\n\ninterface InputProps {}\n\ninterface DataProps {\n  initiative: GetInitiativeChildProps;\n}\n\ninterface Props extends InputProps, DataProps {}\n\nconst goBackToListMessage = <FormattedMessage {...messages.goBackToList} />;\n\nconst InitiativesShowPage = memo<Props>(({ initiative }) => {\n  if (isError(initiative)) {\n    return (\n      <InitiativeNotFoundWrapper>\n        <p>\n          <FormattedMessage {...messages.noInitiativeFoundHere} />\n        </p>\n        <Button\n          linkTo=\"/initiatives\"\n          text={goBackToListMessage}\n          icon=\"arrow-back\"\n        />\n      </InitiativeNotFoundWrapper>\n    );\n  }\n\n  if (!isNilOrError(initiative)) {\n    return (\n      <Container>\n        <StyledInitiativeShowPageTopBar initiativeId={initiative.id} />\n        <StyledInitiativesShow initiativeId={initiative.id} />\n      </Container>\n    );\n  }\n\n  return null;\n});\n\nconst Data = adopt<DataProps, InputProps & WithRouterProps>({\n  initiative: ({ params, render }) => (\n    <GetInitiative slug={params.slug}>{render}</GetInitiative>\n  ),\n});\n\nexport default withRouter<InputProps>(\n  (inputProps: InputProps & WithRouterProps) => (\n    <Data {...inputProps}>\n      {(dataProps) => <InitiativesShowPage {...inputProps} {...dataProps} />}\n    </Data>\n  )\n);\n"],"sourceRoot":""}