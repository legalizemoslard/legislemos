(window.webpackJsonp=window.webpackJsonp||[]).push([[98],{ItQ7:function(e,t,r){"use strict";r("SuFq"),r("tkto"),r("5DmW"),r("27RR"),r("ENF9");var a=r("TqRt"),i=r("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r("o0o1"));r("pNMO"),r("4Brf"),r("07d7"),r("5s+n"),r("2B1R"),r("TeQF"),r("sMBO"),r("4mDm"),r("PKPk"),r("3bBZ"),r("ma9I"),r("fbCW"),r("FZtP");var o,u=a(r("pVnL")),l=a(r("J4zp")),d=a(r("RIqP")),s=a(r("yXPU")),c=a(r("lwsE")),f=a(r("W8MJ")),p=a(r("PJYZ")),m=a(r("7W2i")),b=a(r("a1gu")),g=a(r("Nsbk")),v=a(r("lSNA")),h=a(r("VkAN")),y=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=G(t);if(r&&r.has(e))return r.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=n?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(a,o,u):a[o]=e[o]}a.default=e,r&&r.set(e,a);return a}(r("q1tI")),E=r("ifvJ"),I=r("DtyJ"),P=r("ahDk"),O=r("KLnl"),M=a(r("JUYq")),j=a(r("i59K")),T=a(r("h53F")),w=a(r("SIFT")),_=r("Tq1+"),F=r("H9u3"),x=r("ngE2"),S=r("EP0W"),k=r("iamO"),B=r("c95D"),D=r("DbO4"),N=r("Rw3A"),R=a(r("qST8")),C=a(r("V3HD")),q=r("9FT3"),W=a(r("IAnr")),J=r("1YJs"),U=r("mGTj"),Y=r("96Cm"),A=a(r("vOnD")),L=a(r("Y9MJ")),z=a(r("M7uY")),K=a(r("OL75")),Z=a(r("M8tl")),$=a(r("YLV/")),Q=a(r("yYlr")),V=a(r("udpp")),H=r("KuRP");function G(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(G=function(e){return e?r:t})(e)}function X(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?X(Object(r),!0).forEach((function(t){(0,v.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=(0,g.default)(e);if(t){var i=(0,g.default)(this).constructor;r=Reflect.construct(a,arguments,i)}else r=a.apply(this,arguments);return(0,b.default)(this,r)}}var re=A.default.div.withConfig({displayName:"IdeasEditPage__Container",componentId:"i0m998-0"})(["background:",";"],Y.colors.background),ae=A.default.main.withConfig({displayName:"IdeasEditPage__FormContainer",componentId:"i0m998-1"})(["width:100%;max-width:700px;display:flex;flex-direction:column;align-items:stretch;padding-bottom:100px;padding-right:30px;padding-left:30px;margin-left:auto;margin-right:auto;",""],Y.media.smallerThanMaxTablet(o||(o=(0,h.default)(["\n    padding-bottom: 80px;\n  "])))),ie=A.default.h1.withConfig({displayName:"IdeasEditPage__Title",componentId:"i0m998-2"})(["width:100%;color:",";font-size:","px;line-height:42px;font-weight:500;text-align:center;padding-top:40px;margin-bottom:40px;"],Y.colors.label,Y.fontSizes.xxxxl),ne=A.default.div.withConfig({displayName:"IdeasEditPage__ButtonBarContainer",componentId:"i0m998-3"})(["width:100%;height:68px;position:absolute;z-index:2;top:0;left:0;right:0;background:#fff;border-top:solid 1px #ddd;"]),oe=function(e){(0,m.default)(r,e);var t=te(r);function r(e){var a;return(0,c.default)(this,r),a=t.call(this,e),(0,v.default)((0,p.default)(a),"subscriptions",void 0),(0,v.default)((0,p.default)(a),"handleOnSaveButtonClick",(function(){W.default.emit("IdeaFormSubmitEvent")})),(0,v.default)((0,p.default)(a),"handleIdeaFormOutput",function(){var e=(0,s.default)(n.default.mark((function e(t){var r,i,o,u,l,s,c,f,p,m,b,g,h,y,E,I,P,j,T,w,_,F,k,D,N,R,C,q,W,J,Y,A,L,z,K;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.props.params.ideaId,i=a.props,o=i.project,u=i.authUser,l=i.appConfiguration,s=a.state,c=s.locale,f=s.titleMultiloc,p=s.descriptionMultiloc,m=s.ideaSlug,b=s.imageId,g=s.imageFile,h=t.title,y=t.description,E=t.selectedTopics,I=t.budget,P=t.proposedBudget,j=t.ideaFiles,T=t.ideaFilesToRemove,w=t.address,_=b,F=g&&g.length>0?g[0]:null,k=F?F.base64:null,D=t.imageFile&&t.imageFile.length>0?t.imageFile[0]:null,N=D?D.base64:null,R=N&&k!==N?(0,S.addIdeaImage)(r,N,0):Promise.resolve(null),C=j.filter((function(e){return!e.remote})).map((function(e){return(0,B.addIdeaFile)(r,e.base64,e.name)})),q=T.filter((function(e){return!(!e.remote||!e.id)})).map((function(e){return(0,B.deleteIdeaFile)(r,e.id)})),W=(null==t?void 0:t.authorId)||a.state.authorId,J={location_point_geojson:null,location_description:null},!(w&&w.length>0)){e.next=19;break}return e.next=17,(0,U.geocode)(w);case 17:J.location_point_geojson=e.sent,J.location_description=w;case 19:if(Y=(0,x.updateIdea)(r,ee({budget:I,proposed_budget:P,title_multiloc:ee(ee({},f),{},(0,v.default)({},c,h)),body_multiloc:ee(ee({},p),{},(0,v.default)({},c,y)),topic_ids:E,author_id:W},J)),a.setState({submitError:!1,processing:!0}),e.prev=21,!_||k===N){e.next=25;break}return e.next=25,(0,S.deleteIdeaImage)(r,_);case 25:return e.next=27,Promise.all([Y,R].concat((0,d.default)(C),(0,d.default)(q)));case 27:M.default.push("/ideas/".concat(m)),e.next=37;break;case 30:e.prev=30,e.t0=e.catch(21),A=e.t0.json.errors,(L=A.base.find((function(e){return"includes_banned_words"===e.error})))&&(z=L.blocked_words.some((function(e){return"title_multiloc"===e.attribute})),K=L.blocked_words.some((function(e){return"body_multiloc"===e.attribute})),z&&((0,H.trackEventByName)(V.default.titleProfanityError.name,{ideaId:r,locale:c,projectId:(0,O.isNilOrError)(o)?null:o.id,profaneMessage:h,location:"IdeasEditPage (citizen side)",userId:(0,O.isNilOrError)(u)?null:u.id,host:(0,O.isNilOrError)(l)?null:l.attributes.host}),a.setState({titleProfanityError:z})),K&&((0,H.trackEventByName)(V.default.descriptionProfanityError.name,{ideaId:r,locale:c,projectId:(0,O.isNilOrError)(o)?null:o.id,profaneMessage:h,location:"IdeasEditPage (citizen side)"}),a.setState({descriptionProfanityError:K}))),A&&(A.image||A.file)&&a.setState({fileOrImageError:!0}),a.setState({submitError:!0});case 37:a.setState({processing:!1});case 38:case"end":return e.stop()}}),e,null,[[21,30]])})));return function(t){return e.apply(this,arguments)}}()),(0,v.default)((0,p.default)(a),"onTitleChange",(function(e){var t=a.props.locale,r=ee(ee({},a.state.titleMultiloc),{},(0,v.default)({},t,e));a.setState({titleMultiloc:r,titleProfanityError:!1})})),(0,v.default)((0,p.default)(a),"onDescriptionChange",(function(e){var t=a.props.locale,r=ee(ee({},a.state.descriptionMultiloc),{},(0,v.default)({},t,e));a.setState({descriptionMultiloc:r,descriptionProfanityError:!1})})),a.state={locale:"en",ideaSlug:null,titleMultiloc:null,descriptionMultiloc:null,selectedTopics:[],budget:null,proposedBudget:null,address:null,imageFile:[],imageId:null,loaded:!1,submitError:!1,titleProfanityError:!1,descriptionProfanityError:!1,fileOrImageError:!1,processing:!1,authorId:null},a.subscriptions=[],a}return(0,f.default)(r,[{key:"componentDidMount",value:function(){var e=this,t=this.props.params.ideaId,r=(0,_.localeStream)().observable,a=(0,F.currentAppConfigurationStream)().observable.pipe((0,P.map)((function(e){return e.data.attributes.settings.core.locales}))),i=(0,x.ideaByIdStream)(t).observable,n=(0,I.combineLatest)(r,a,i).pipe((0,P.switchMap)((function(e){var t=(0,l.default)(e,3),a=(t[0],t[1],t[2]),n=a.data.id,o=a.data.relationships.idea_images.data,u=o&&o.length>0?o[0].id:null,d=u?(0,S.ideaImageStream)(n,u).observable.pipe((0,P.first)(),(0,P.switchMap)((function(e){if(e&&e.data&&e.data.attributes.versions.large){var t=e.data.attributes.versions.large,r=e.data.id;return(0,J.convertUrlToUploadFileObservable)(t,r,null)}return(0,I.of)(null)}))):(0,I.of)(null),s=(0,k.hasPermission)({item:a.data,action:"edit",context:a.data});return(0,I.combineLatest)(r,i,d,s)})));this.subscriptions=[n.subscribe((function(t){var r,a,i=(0,l.default)(t,4),n=i[0],o=i[1],u=i[2];i[3]?e.setState({locale:n,selectedTopics:(null===(r=o.data.relationships.topics)||void 0===r?void 0:r.data.map((function(e){return e.id})))||[],loaded:!0,ideaSlug:o.data.attributes.slug,titleMultiloc:o.data.attributes.title_multiloc,descriptionMultiloc:o.data.attributes.body_multiloc,address:o.data.attributes.location_description,budget:o.data.attributes.budget,authorId:(null===(a=o.data.relationships.author.data)||void 0===a?void 0:a.id)||null,proposedBudget:o.data.attributes.proposed_budget,imageFile:u?[u]:[],imageId:u&&u.id?u.id:null}):M.default.push("/")}))]}},{key:"componentWillUnmount",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"render",value:function(){if(this.state&&this.state.loaded){var e=this.props,t=e.remoteIdeaFiles,r=e.project,a=e.idea,i=e.phases,n=this.state,o=n.locale,u=n.titleMultiloc,l=n.descriptionMultiloc,d=n.selectedTopics,s=n.address,c=n.imageFile,f=n.budget,p=n.proposedBudget,m=n.titleProfanityError,b=n.descriptionProfanityError,g=n.submitError,v=n.fileOrImageError,h=n.processing,E=n.authorId,I=o&&u&&u[o]||"",P=o&&l?l[o]||"":null;if(!(0,O.isNilOrError)(r)&&!(0,O.isNilOrError)(a)){var M=r.id,_=a.id,F=(0,D.getInputTerm)(r.attributes.process_type,r,i);return y.default.createElement(re,{id:"e2e-idea-edit-page"},y.default.createElement(w.default,{ideaId:_,projectId:M}),y.default.createElement(ae,null,y.default.createElement(ie,null,y.default.createElement(N.FormattedMessage,(0,q.getInputTermMessage)(F,{idea:R.default.formTitle,option:R.default.optionFormTitle,project:R.default.projectFormTitle,question:R.default.questionFormTitle,issue:R.default.issueFormTitle,contribution:R.default.contributionFormTitle}))),y.default.createElement(j.default,{authorId:E,projectId:M,title:I,description:P,selectedTopics:d,budget:f,proposedBudget:p,address:s||"",imageFile:c,onSubmit:this.handleIdeaFormOutput,remoteIdeaFiles:(0,O.isNilOrError)(t)?null:t,hasTitleProfanityError:m,hasDescriptionProfanityError:b,onTitleChange:this.onTitleChange,onDescriptionChange:this.onDescriptionChange}),y.default.createElement(ne,null,y.default.createElement(T.default,{elementId:"e2e-idea-edit-save-button",form:"idea-form",submitError:g,processing:h,fileOrImageError:v}))))}}return null}}]),r}(y.PureComponent),ue=(0,E.adopt)({authUser:y.default.createElement($.default,null),appConfiguration:y.default.createElement(Q.default,null),remoteIdeaFiles:function(e){var t=e.params.ideaId,r=e.render;return y.default.createElement(L.default,{resourceId:t,resourceType:"idea"},r)},idea:function(e){var t=e.params.ideaId,r=e.render;return y.default.createElement(K.default,{ideaId:t},r)},project:function(e){var t=e.idea,r=e.render;return y.default.createElement(z.default,{projectId:(0,O.isNilOrError)(t)?null:t.relationships.project.data.id},r)},phases:function(e){var t=e.project,r=e.render;return y.default.createElement(Z.default,{projectId:(0,O.isNilOrError)(t)?null:t.id},r)}}),le=(0,C.default)(oe);t.default=function(e){return y.default.createElement(ue,e,(function(t){return y.default.createElement(le,(0,u.default)({},e,t))}))}},SIFT:function(e,t,r){"use strict";r("4mDm"),r("07d7"),r("PKPk"),r("ENF9"),r("3bBZ"),r("5DmW");var a=r("TqRt"),i=r("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r("ma9I");var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=v(t);if(r&&r.has(e))return r.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=n?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(a,o,u):a[o]=e[o]}a.default=e,r&&r.set(e,a);return a}(r("q1tI")),o=r("qhky"),u=r("KLnl"),l=a(r("qST8")),d=r("Rw3A"),s=a(r("uN1B")),c=a(r("vEcv")),f=a(r("38aM")),p=a(r("x3zm")),m=a(r("PagR")),b=a(r("wbnS")),g=a(r("+YyL"));function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(v=function(e){return e?r:t})(e)}var h=(0,n.memo)((function(e){var t=e.intl.formatMessage,r=e.ideaId,a=e.projectId,i=(0,c.default)(),d=(0,s.default)(),v=(0,f.default)({ideaId:r}),h=(0,p.default)({projectId:a}),y=(0,m.default)();if(!(0,u.isNilOrError)(v)&&!(0,u.isNilOrError)(h)){var E=y(v.attributes.title_multiloc),I=y(h.attributes.title_multiloc),P=t(l.default.ideasEditMetaTitle,{postTitle:E,projectName:I}),O=t(l.default.ideasEditMetaDescription);return n.default.createElement(o.Helmet,null,n.default.createElement("title",null,"\n            ".concat(!(0,u.isNilOrError)(d)&&d.attributes.unread_notifications?"(".concat(d.attributes.unread_notifications,") "):"","\n            ").concat(P,"\n          ")),(0,b.default)(i),(0,g.default)(),n.default.createElement("meta",{name:"title",content:P}),n.default.createElement("meta",{name:"description",content:O}),n.default.createElement("meta",{property:"og:title",content:P}),n.default.createElement("meta",{property:"og:description",content:O}))}return null})),y=(0,d.injectIntl)(h);t.default=y},Y9MJ:function(e,t,r){"use strict";r("SuFq");var a=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r("2B1R"),r("sMBO"),r("TeQF"),r("FZtP");var i=a(r("lwsE")),n=a(r("W8MJ")),o=a(r("PJYZ")),u=a(r("7W2i")),l=a(r("a1gu")),d=a(r("Nsbk")),s=a(r("lSNA")),c=a(r("q1tI")),f=r("T89o"),p=r("KLnl"),m=r("DtyJ"),b=r("ahDk"),g=a(r("aTp4")),v=r("Nv6i"),h=r("jtPO"),y=r("vDWu"),E=r("pQfs"),I=r("c95D"),P=r("OKda"),O=r("1YJs");function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=(0,d.default)(e);if(t){var i=(0,d.default)(this).constructor;r=Reflect.construct(a,arguments,i)}else r=a.apply(this,arguments);return(0,l.default)(this,r)}}var j=function(e){(0,u.default)(r,e);var t=M(r);function r(e){var a;return(0,i.default)(this,r),a=t.call(this,e),(0,s.default)((0,o.default)(a),"inputProps$",void 0),(0,s.default)((0,o.default)(a),"subscriptions",void 0),a.state={files:void 0},a}return(0,n.default)(r,[{key:"componentDidMount",value:function(){var e=this,t=this.props,r=t.resourceId,a=t.resourceType,i=t.resetOnChange;this.inputProps$=new m.BehaviorSubject({resourceId:r,resourceType:a}),this.subscriptions=[this.inputProps$.pipe((0,b.distinctUntilChanged)((function(e,t){return(0,g.default)(e,t)})),(0,b.tap)((function(){return i&&e.setState({files:void 0})})),(0,b.filter)((function(e){var t=e.resourceId;return(0,f.isString)(t)})),(0,b.switchMap)((function(e){var t,r=e.resourceId,a=e.resourceType;return"project"===a&&(t=v.projectFilesStream),"phase"===a&&(t=h.phaseFilesStream),"event"===a&&(t=E.eventFilesStream),"page"===a&&(t=y.pageFilesStream),"idea"===a&&(t=I.ideaFilesStream),"initiative"===a&&(t=P.initiativeFilesStream),t(r).observable})),(0,b.switchMap)((function(e){return e&&e.data&&e.data.length>0?(0,m.combineLatest)(e.data.map((function(e){return(0,O.convertUrlToUploadFileObservable)(e.attributes.file.url,e.id,e.attributes.name)}))):(0,m.of)(null)}))).subscribe((function(t){e.setState({files:t?t.filter((function(e){return!(0,p.isNilOrError)(e)})):null})}))]}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.resourceId,r=e.resourceType,a=e.resetOnChange;this.inputProps$.next({resourceId:t,resourceType:r,resetOnChange:a})}},{key:"componentWillUnmount",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"render",value:function(){return(0,this.props.children)(this.state.files)}}]),r}(c.default.Component);t.default=j,(0,s.default)(j,"defaultProps",{resetOnChange:!0})},h53F:function(e,t,r){"use strict";r("4mDm"),r("07d7"),r("PKPk"),r("ENF9"),r("3bBZ"),r("5DmW");var a=r("TqRt"),i=r("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=n?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(a,o,u):a[o]=e[o]}a.default=e,r&&r.set(e,a);return a}(r("q1tI")),o=a(r("2fl8")),u=a(r("Zc1O")),l=a(r("lOi7")),d=r("Rw3A"),s=a(r("qST8")),c=a(r("IAnr"));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}var p=a(r("vOnD")).default.div.withConfig({displayName:"IdeasEditButtonBar__ButtonBarInner",componentId:"sai8ju-0"})(["width:100%;max-width:700px;display:flex;align-items:center;padding-right:30px;padding-left:30px;.Button{margin-right:10px;}.Error{flex:1;}"]),m=(0,n.memo)((function(e){var t=e.elementId,r=e.form,a=void 0===r?"":r,i=e.processing,f=e.fileOrImageError,m=e.submitError?n.default.createElement(d.FormattedMessage,s.default.submitApiError):f?n.default.createElement(d.FormattedMessage,s.default.fileUploadError):null;return n.default.createElement(l.default,null,n.default.createElement(p,null,n.default.createElement(o.default,{id:t,form:a,className:"e2e-submit-idea-form",processing:i,text:n.default.createElement(d.FormattedMessage,s.default.editedPostSave),onClick:function(){c.default.emit("IdeaFormSubmitEvent")}}),m&&n.default.createElement(u.default,{text:m,marginTop:"0px",showBackground:!1,showIcon:!0})))}));t.default=m},lOi7:function(e,t,r){"use strict";r("SuFq");var a=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("lwsE")),n=a(r("W8MJ")),o=a(r("7W2i")),u=a(r("a1gu")),l=a(r("Nsbk")),d=a(r("q1tI")),s=a(r("pQ8y")),c=a(r("vOnD"));function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=(0,l.default)(e);if(t){var i=(0,l.default)(this).constructor;r=Reflect.construct(a,arguments,i)}else r=a.apply(this,arguments);return(0,u.default)(this,r)}}var p=c.default.div.withConfig({displayName:"ButtonBar__ButtonBarContainer",componentId:"sc-1qi5v7k-0"})(["width:100%;height:68px;position:fixed;z-index:2;bottom:0;left:0;right:0;background:#fff;border-top:solid 1px #ddd;&.buttonbar-enter{transform:translateY(64px);&.buttonbar-enter-active{transform:translateY(0);transition:transform ","ms cubic-bezier(0.165,0.84,0.44,1);}}&.buttonbar-exit{transform:translateY(0);&.buttonbar-exit-active{transform:translateY(64px);transition:transform ","ms cubic-bezier(0.165,0.84,0.44,1);}}"],600,600),m=c.default.div.withConfig({displayName:"ButtonBar__Container",componentId:"sc-1qi5v7k-1"})(["width:100%;height:100%;display:flex;flex-direction:row;align-items:center;justify-content:center;"]),b=function(e){(0,o.default)(r,e);var t=f(r);function r(){return(0,i.default)(this,r),t.apply(this,arguments)}return(0,n.default)(r,[{key:"render",value:function(){return d.default.createElement(s.default,{classNames:"buttonbar",timeout:600},d.default.createElement(p,null,d.default.createElement(m,null,this.props.children)))}}]),r}(d.default.PureComponent);t.default=b},lPdK:function(e,t,r){"use strict";r("SuFq");var a=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r("ToJy"),r("2B1R"),r("TeQF"),r("FZtP");var i=a(r("lwsE")),n=a(r("W8MJ")),o=a(r("PJYZ")),u=a(r("7W2i")),l=a(r("a1gu")),d=a(r("Nsbk")),s=a(r("lSNA")),c=a(r("q1tI")),f=r("T89o"),p=r("DtyJ"),m=r("ahDk"),b=r("Sxt5"),g=r("rltp"),v=r("KLnl");function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=(0,d.default)(e);if(t){var i=(0,d.default)(this).constructor;r=Reflect.construct(a,arguments,i)}else r=a.apply(this,arguments);return(0,l.default)(this,r)}}var y=function(e){(0,u.default)(r,e);var t=h(r);function r(e){var a;return(0,i.default)(this,r),a=t.call(this,e),(0,s.default)((0,o.default)(a),"inputProps$",void 0),(0,s.default)((0,o.default)(a),"subscriptions",void 0),a.state={topics:void 0},a}return(0,n.default)(r,[{key:"componentDidMount",value:function(){var e=this,t=this.props,r=t.topicIds,a=t.code,i=t.exclude_code,n=t.sort,o=t.projectId;this.inputProps$=new p.BehaviorSubject({topicIds:r,code:a,exclude_code:i,sort:n,projectId:o}),this.subscriptions=[this.inputProps$.pipe((0,m.distinctUntilChanged)((function(e,t){return(0,f.isEqual)(e,t)})),(0,m.switchMap)((function(e){var t=e.topicIds,r=e.code,a=e.exclude_code,i=e.sort,n=e.projectId,o={code:r,exclude_code:a,sort:i};return n?(0,g.projectTopicsStream)(n).observable.pipe((0,m.map)((function(e){return e.data.filter((function(e){return e})).map((function(e){return e.relationships.topic.data.id}))})),(0,m.switchMap)((function(e){return(0,p.combineLatest)(e.map((function(e){return(0,b.topicByIdStream)(e).observable.pipe((0,m.map)((function(e){return(0,v.isNilOrError)(e)?e:e.data})))})))}))):t?t.length>0?(0,p.combineLatest)(t.map((function(e){return(0,b.topicByIdStream)(e).observable.pipe((0,m.map)((function(e){return(0,v.isNilOrError)(e)?e:e.data})))}))):(0,p.of)(null):(0,b.topicsStream)({queryParameters:o}).observable.pipe((0,m.map)((function(e){return e.data})))}))).subscribe((function(t){e.setState({topics:t})}))]}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.topicIds,r=e.code,a=e.exclude_code,i=e.sort,n=e.projectId;this.inputProps$.next({topicIds:t,code:r,exclude_code:a,sort:i,projectId:n})}},{key:"componentWillUnmount",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"render",value:function(){return(0,this.props.children)(this.state.topics)}}]),r}(c.default.Component);t.default=y},qST8:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(0,r("JRPe").defineMessages)({formTitle:{id:"app.containers.IdeasEditPage.formTitle",defaultMessage:"Edit idea"},optionFormTitle:{id:"app.containers.IdeasEditPage.optionFormTitle",defaultMessage:"Edit option"},projectFormTitle:{id:"app.containers.IdeasEditPage.projectFormTitle",defaultMessage:"Edit project"},questionFormTitle:{id:"app.containers.IdeasEditPage.questionFormTitle",defaultMessage:"Edit question"},issueFormTitle:{id:"app.containers.IdeasEditPage.issueFormTitle",defaultMessage:"Edit issue"},contributionFormTitle:{id:"app.containers.IdeasEditPage.contributionFormTitle",defaultMessage:"Edit contribution"},save:{id:"app.containers.IdeasEditPage.save",defaultMessage:"Save"},submitApiError:{id:"app.containers.IdeasEditPage.submitApiError",defaultMessage:"There was an issue submitting the form. Please check for any errors and try again."},editedPostSave:{id:"app.containers.IdeasEditPage.editedPostSave",defaultMessage:"Save"},fileUploadError:{id:"app.containers.IdeasEditPage.fileUploadError",defaultMessage:"One or more files failed to upload. Please check the file size and format and try again."},ideasEditMetaTitle:{id:"app.containers.IdeasEditPage.ideasEditMetaTitle",defaultMessage:"Edit {postTitle} | {projectName}"},ideasEditMetaDescription:{id:"app.containers.IdeasEditPage.ideasEditMetaDescription",defaultMessage:"Edit your post. Add new and change old information."}});t.default=a},udpp:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={titleProfanityError:{name:"Profane idea title blocked"},descriptionProfanityError:{name:"Profane idea description blocked"}}}}]);
//# sourceMappingURL=98.e1f37f488d39b055329a.chunk.js.map