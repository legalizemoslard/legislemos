(window.webpackJsonp=window.webpackJsonp||[]).push([[114],{OCtN:function(e,t,n){"use strict";n("2B1R");var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.projectId,n=(0,i.useState)(void 0),a=(0,r.default)(n,2),c=a[0],d=a[1];return(0,i.useEffect)((function(){(0,l.of)(null);var e=(0,o.projectTopicsStream)(t).observable.pipe((0,u.map)((function(e){return e.data.filter((function(e){return e}))}))).subscribe((function(e){d(e)}));return function(){return e.unsubscribe()}}),[t]),c},n("TeQF");var r=a(n("J4zp")),i=n("q1tI"),o=n("rltp"),l=n("DtyJ"),u=n("ahDk")},Obx5:function(e,t,n){"use strict";n("4mDm"),n("07d7"),n("PKPk"),n("ENF9"),n("3bBZ"),n("5DmW");var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("2B1R");var i=a(n("pVnL")),o=a(n("J4zp")),l=j(n("q1tI")),u=n("KLnl"),c=a(n("vOnD")),d=n("dtw8"),s=n("Rw3A"),f=a(n("aK33")),p=a(n("2fl8")),m=n("gzy/"),g=n("vGwV"),v=a(n("aS2l")),y=j(n("1hFV")),b=n("Loij"),h=n("rltp"),w=a(n("OCtN")),T=a(n("PF6L"));function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}function j(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=i?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(a,o,l):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}var M=(0,c.default)(v.default).withConfig({displayName:"SortableProjectTopicList__StyledWarning",componentId:"sc-59h71n-0"})(["margin-bottom:20px;"]),E=(0,l.memo)((function(e){var t=e.params.projectId,n=(0,l.useState)(!1),a=(0,o.default)(n,2),r=a[0],c=a[1],d=(0,l.useState)(!1),v=(0,o.default)(d,2),P=v[0],j=v[1],E=(0,l.useState)(null),O=(0,o.default)(E,2),k=O[0],R=O[1],D=(0,w.default)({projectId:t}),_=function(){c(!1),R(null)};if(!(0,u.isNilOrError)(D)&&D.length>0){var S=1===D.length;return l.default.createElement(l.default.Fragment,null,S&&l.default.createElement(M,null,l.default.createElement(s.FormattedMessage,(0,i.default)({},f.default.lastTopicWarning,{values:{ideaFormLink:l.default.createElement(b.StyledLink,{to:"/admin/projects/".concat(t,"/ideaform")},l.default.createElement(s.FormattedMessage,f.default.inputForm))}}))),l.default.createElement(m.SortableList,{items:D,onReorder:function(e,n){(0,h.reorderProjectTopic)(e,n,t)},className:"projects-list e2e-admin-projects-list",id:"e2e-admin-published-projects-list",key:D.length},(function(e){var t=e.itemsList,n=e.handleDragRow,a=e.handleDropRow;return l.default.createElement(l.default.Fragment,null,t.map((function(e,t){return l.default.createElement(m.SortableRow,{id:e.id,key:t,index:t,moveRow:n,dropRow:a,lastItem:t===D.length-1},l.default.createElement(g.RowContent,null,l.default.createElement(g.RowContentInner,{className:"expand primary"},l.default.createElement(T.default,{id:e.relationships.topic.data.id},(function(e){return(0,u.isNilOrError)(e)?null:l.default.createElement(g.RowTitle,{value:e.attributes.title_multiloc})})))),l.default.createElement(p.default,{onClick:(r=e.id,function(e){e.preventDefault(),c(!0),R(r)}),buttonStyle:"text",icon:"delete",disabled:S,id:"e2e-project-topic-delete-button"},l.default.createElement(s.FormattedMessage,f.default.delete)));var r})))})),l.default.createElement(y.default,{opened:r,close:_,header:l.default.createElement(s.FormattedMessage,f.default.confirmHeader)},l.default.createElement(y.ModalContentContainer,null,l.default.createElement(y.Content,null,l.default.createElement(s.FormattedMessage,f.default.generalTopicDeletionWarning)),l.default.createElement(y.ButtonsWrapper,null,l.default.createElement(p.default,{buttonStyle:"secondary",onClick:_},l.default.createElement(s.FormattedMessage,f.default.cancel)),l.default.createElement(p.default,{buttonStyle:"delete",onClick:function(){k&&(j(!0),(0,h.deleteProjectTopic)(t,k).then((function(){j(!1),c(!1),R(null)})))},processing:P,id:"e2e-project-topic-delete-confirm-button"},l.default.createElement(s.FormattedMessage,f.default.delete))))))}return null})),O=(0,d.withRouter)(E);t.default=O},PF6L:function(e,t,n){"use strict";n("TeQF"),n("SuFq");var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("FZtP");var r=a(n("lwsE")),i=a(n("W8MJ")),o=a(n("PJYZ")),l=a(n("7W2i")),u=a(n("a1gu")),c=a(n("Nsbk")),d=a(n("lSNA")),s=a(n("q1tI")),f=n("T89o"),p=n("DtyJ"),m=n("ahDk"),g=a(n("aTp4")),v=n("Sxt5"),y=n("KLnl");function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}var h=function(e){(0,l.default)(n,e);var t=b(n);function n(e){var a;return(0,r.default)(this,n),a=t.call(this,e),(0,d.default)((0,o.default)(a),"inputProps$",void 0),(0,d.default)((0,o.default)(a),"subscriptions",void 0),a.state={topic:void 0},a}return(0,i.default)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.id;this.inputProps$=new p.BehaviorSubject({id:t}),this.subscriptions=[this.inputProps$.pipe((0,m.distinctUntilChanged)((function(e,t){return(0,g.default)(e,t)})),(0,m.filter)((function(e){var t=e.id;return(0,f.isString)(t)})),(0,m.switchMap)((function(e){var t=e.id;return(0,v.topicByIdStream)(t).observable}))).subscribe((function(t){return e.setState({topic:(0,y.isNilOrError)(t)?t:t.data})}))]}},{key:"componentDidUpdate",value:function(){var e=this.props.id;this.inputProps$.next({id:e})}},{key:"componentWillUnmount",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"render",value:function(){return(0,this.props.children)(this.state.topic)}}]),n}(s.default.Component);t.default=h},T3Um:function(e,t,n){"use strict";n("ENF9"),n("5DmW");var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("o0o1"));n("2B1R"),n("4mDm"),n("07d7"),n("5s+n"),n("PKPk"),n("3bBZ"),n("TeQF"),n("yq1k"),n("JTJg");var o=a(n("yXPU")),l=a(n("J4zp")),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=i?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(a,o,l):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n("q1tI")),c=n("KLnl"),d=n("dtw8"),s=a(n("vfLC")),f=n("Rw3A"),p=a(n("aK33")),m=a(n("V3HD")),g=a(n("2fl8")),v=a(n("T+3p")),y=a(n("vOnD")),b=n("rltp");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}var w=y.default.div.withConfig({displayName:"ProjectTopicSelector__Container",componentId:"sc-1734pi4-0"})(["width:100%;margin-bottom:20px;"]),T=y.default.div.withConfig({displayName:"ProjectTopicSelector__SelectGroupsContainer",componentId:"sc-1734pi4-1"})(["width:100%;display:flex;flex-direction:row;align-items:flex-start;align-items:center;margin-bottom:30px;"]),P=(0,y.default)(g.default).withConfig({displayName:"ProjectTopicSelector__AddTopicButton",componentId:"sc-1734pi4-2"})(["flex-grow:0;flex-shrink:0;margin-left:30px;"]),j=(0,y.default)(v.default).withConfig({displayName:"ProjectTopicSelector__StyledMultipleSelect",componentId:"sc-1734pi4-3"})(["width:350px;"]),M=(0,u.memo)((function(e){var t=e.intl.formatMessage,n=e.localize,a=e.params.projectId,r=(0,s.default)({}),d=(0,s.default)({projectId:a}),f=(0,u.useState)([]),m=(0,l.default)(f,2),g=m[0],v=m[1],y=(0,u.useState)(!1),h=(0,l.default)(y,2),M=h[0],E=h[1],O=function(){var e=(0,o.default)(i.default.mark((function e(t){var n,r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=g.map((function(e){return e.value})),E(!0),r=n.map((function(e){return(0,b.addProjectTopic)(a,e)})),e.prev=3,e.next=6,Promise.all(r);case 6:E(!1),v([]),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),E(!1);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}();return u.default.createElement(w,null,u.default.createElement(T,null,u.default.createElement(j,{value:g,options:function(){if(!(0,c.isNilOrError)(r)&&!(0,c.isNilOrError)(d)){var e=r.filter((function(e){return!(0,c.isNilOrError)(e)})),t=d.filter((function(e){return!(0,c.isNilOrError)(e)})).map((function(e){return e.id}));return e.filter((function(e){return!t.includes(e.id)})).map((function(e){return{value:e.id,label:n(e.attributes.title_multiloc)}}))}return[]}(),onChange:function(e){v(e)},id:"e2e-project-topic-multiselect"}),u.default.createElement(P,{text:t(p.default.addTopics),buttonStyle:"cl-blue",icon:"plus-circle",onClick:O,disabled:!g||0===g.length,processing:M,id:"e2e-add-project-topic-button"})))})),E=(0,f.injectIntl)((0,d.withRouter)((0,m.default)(M)));t.default=E},WS5J:function(e,t,n){"use strict";n("4mDm"),n("07d7"),n("PKPk"),n("ENF9"),n("3bBZ"),n("5DmW");var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("pVnL")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=i?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(a,o,l):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n("q1tI")),l=a(n("vOnD")),u=n("Loij"),c=a(n("T3Um")),d=a(n("Obx5")),s=a(n("N4mL")),f=n("Rw3A"),p=a(n("aK33"));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}var g=l.default.div.withConfig({displayName:"ProjectTopics__Container",componentId:"sc-1cn3kxl-0"})(["min-height:80vh;"]),v=(0,o.memo)((function(){return o.default.createElement(g,null,o.default.createElement(u.SectionTitle,null,o.default.createElement(f.FormattedMessage,p.default.titleDescription)),o.default.createElement(u.SectionDescription,null,o.default.createElement(f.FormattedMessage,p.default.projectTopicsDescription),o.default.createElement("span",null,o.default.createElement(s.default,{item:{type:"route",path:"/admin/settings/topics"},action:"access"}," ",o.default.createElement(f.FormattedMessage,(0,i.default)({},p.default.topicManagerInfo,{values:{topicManagerLink:o.default.createElement(u.StyledLink,{to:"/admin/settings/topics"},o.default.createElement(f.FormattedMessage,p.default.topicManager))}}))))),o.default.createElement(c.default,null),o.default.createElement(d.default,null))}));t.default=v},aK33:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(0,n("JRPe").defineMessages)({titleDescription:{id:"app.containers.AdminPage.Topics.titleDescription",defaultMessage:"Topics"},browseTopics:{id:"app.containers.AdminPage.Topics.browseTopics",defaultMessage:"Browse topics"},addTopics:{id:"app.containers.AdminPage.Topics.addTopics",defaultMessage:"Add"},deleteTopicLabel:{id:"app.containers.AdminPage.Topics.deleteTopicLabel",defaultMessage:"Delete"},remove:{id:"app.containers.AdminPage.Topics.remove",defaultMessage:"Remove"},confirmHeader:{id:"app.containers.AdminPage.Topics.confirmHeader",defaultMessage:"Are you sure you want to delete this project topic?"},generalTopicDeletionWarning:{id:"app.containers.AdminPage.Topics.generalTopicDeletionWarning",defaultMessage:"This topic will no longer be able to used in projects."},cancel:{id:"app.containers.AdminPage.Topics.cancel",defaultMessage:"Cancel"},delete:{id:"app.containers.AdminPage.Topics.delete",defaultMessage:"Delete"},topicManagerInfo:{id:"app.containers.AdminPage.Topics.topicManagerInfo",defaultMessage:"If you would like to add additional project topics, you can do so in the {topicManagerLink}."},projectTopicsDescription:{id:"app.containers.AdminPage.Topics.projectTopicsDescription",defaultMessage:"You can add and delete the topics that can be assigned to inputs in this project."},topicManager:{id:"app.containers.AdminPage.Topics.topicManager",defaultMessage:"Topic Manager"},lastTopicWarning:{id:"app.containers.AdminPage.Topics.lastTopicWarning",defaultMessage:"At least one topic is required. If you do not want to use topics, they can be disabled in the {ideaFormLink} tab."},inputForm:{id:"app.containers.AdminPage.Topics.inputForm",defaultMessage:"Input form"}});t.default=a},vGwV:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.RowTitle=t.RowContentInner=t.RowContent=void 0;var r=a(n("vOnD")),i=n("96Cm"),o=a(n("3A/8")),l=r.default.div.withConfig({displayName:"RowStyles__RowContent",componentId:"sc-17x3a2k-0"})(["flex:1;display:flex;align-items:center;justify-content:space-between;"]);t.RowContent=l;var u=r.default.div.withConfig({displayName:"RowStyles__RowContentInner",componentId:"sc-17x3a2k-1"})(["display:flex;flex-wrap:wrap;align-items:center;margin-right:20px;"]);t.RowContentInner=u;var c=(0,r.default)(o.default).withConfig({displayName:"RowStyles__RowTitle",componentId:"sc-17x3a2k-2"})(["font-size:","px;font-weight:400;line-height:24px;margin-right:10px;"],i.fontSizes.base);t.RowTitle=c}}]);
//# sourceMappingURL=114.51ecb2647ff051ab6ce9.chunk.js.map