(window.webpackJsonp=window.webpackJsonp||[]).push([[69,188],{"+wgy":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("q1tI")),o=n(a("ITo9")),r=n(a("NHb+")),l=function(e){var t=e.className,a=e.url,n=e.twitterMessage,l=e.whatsAppMessage,d=e.emailSubject,s=e.emailBody,u=e.utmParams,c=e.buttonComponent;return i.default.createElement(o.default,{className:t,buttonComponent:c,dropdownContent:i.default.createElement(r.default,{url:a,twitterMessage:n,whatsAppMessage:l,emailSubject:d,emailBody:s,utmParams:u})})};t.default=l},"/92W":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("q1tI")),o=a("Rw3A"),r=n(a("cRzy")),l=n(a("vOnD")),d=a("96Cm"),s=l.default.div.withConfig({displayName:"LoadingComments__Container",componentId:"sc-19iey05-0"})(["width:100%;display:flex;align-items:center;justify-content:center;"]),u=l.default.div.withConfig({displayName:"LoadingComments__LoadingMessage",componentId:"sc-19iey05-1"})(["color:",";font-size:","px;font-weight:400;"],d.colors.label,d.fontSizes.medium);t.default=function(e){return i.default.createElement(s,{className:e.className},i.default.createElement(u,null,i.default.createElement(o.FormattedMessage,r.default.loadingComments)))}},"/R6m":function(e,t,a){"use strict";a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a("pVnL"));a("yWo2");var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=y(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),l=a("KLnl"),d=n(a("jWBj")),s=n(a("x3zm")),u=n(a("uN1B")),c=n(a("dcoO")),p=n(a("3A/8")),f=a("JRPe"),m=a("Rw3A"),g=a("iH/W"),h=n(a("vOnD")),v=a("96Cm"),b=a("ufqH");function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(y=function(e){return e?a:t})(e)}var I=h.default.div.withConfig({displayName:"VotingDisabled__Container",componentId:"qrl9tc-0"})(["width:100%;color:",";font-size:","px;font-weight:300;line-height:20px;> span{overflow-wrap:break-word;word-wrap:break-word;word-break:break-word;hyphens:auto;}"],v.colors.label,v.fontSizes.small),M=(0,h.default)(d.default).withConfig({displayName:"VotingDisabled__StyledLink",componentId:"qrl9tc-1"})(["color:",";text-decoration:underline;&:hover{color:",";text-decoration:underline;}"],v.colors.clBlueDark,(0,b.darken)(.15,v.colors.clBlueDark)),w=h.default.button.withConfig({displayName:"VotingDisabled__StyledButton",componentId:"qrl9tc-2"})(["color:",";text-decoration:underline;transition:all 80ms ease-out;display:inline-block;margin:0;padding:0;cursor:pointer;&:hover{color:",";text-decoration:underline;}"],v.colors.clBlueDark,(0,b.darken)(.15,v.colors.clBlueDark)),E=(0,r.memo)((function(e){var t,a,n,i=e.projectId,d=e.votingDescriptor,h=(0,s.default)({projectId:i}),v=(0,u.default)(),b=function(e){e.stopPropagation()};if(!(0,l.isNilOrError)(h)){var y,E,S,_=(a=d.disabled_reason,n=d.future_enabled,"project_inactive"===a?n?c.default.votingPossibleLater:c.default.votingDisabledProjectInactive:"voting_disabled"===a&&n?c.default.votingPossibleLater:"voting_limited_max_reached"===a?c.default.votingDisabledMaxReached:"idea_not_in_current_phase"===a?n?c.default.votingDisabledFutureEnabled:c.default.votingDisabledPhaseOver:"not_permitted"===a?c.default.votingNotPermitted:v&&"not_verified"===a?c.default.votingNotVerified:c.default.votingNotEnabled),x=d.future_enabled?r.default.createElement(f.FormattedDate,{value:d.future_enabled,year:"numeric",month:"long",day:"numeric"}):null,P=(t=h.attributes.title_multiloc,r.default.createElement(M,{to:"/projects/".concat(h.attributes.slug),onClick:b},r.default.createElement(p.default,{value:t}))),j="continuous"===h.attributes.process_type?"project":"phase",C="project"===j?h.id:null===(y=h.relationships)||void 0===y||null===(E=y.current_phase)||void 0===E||null===(S=E.data)||void 0===S?void 0:S.id,O=r.default.createElement(w,{className:"e2e-verify-button",onClick:function(e,t){return function(a){a.stopPropagation(),a.preventDefault(),t&&e&&(0,g.openVerificationModal)({context:{action:"voting_idea",id:t,type:e}})}}(j,C),onMouseDown:function(e){e.preventDefault()}},r.default.createElement(m.FormattedMessage,c.default.linkToVerificationText));return r.default.createElement(I,{"data-testid":"votingDisabled_Container"},r.default.createElement(m.FormattedMessage,(0,o.default)({},_,{values:{enabledFromDate:x,projectName:P,verificationLink:O}})))}return null}));t.default=E},"0Pyc":function(e,t,a){"use strict";a("SuFq"),a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("ma9I"),a("sMBO");var o,r,l,d=n(a("pVnL")),s=n(a("lwsE")),u=n(a("W8MJ")),c=n(a("PJYZ")),p=n(a("7W2i")),f=n(a("a1gu")),m=n(a("Nsbk")),g=n(a("lSNA")),h=n(a("VkAN")),v=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=L(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),b=a("KLnl"),y=a("ifvJ"),I=a("DbO4"),M=n(a("T5Cy")),w=a("iP56"),E=n(a("yiTP")),S=n(a("yYlr")),_=n(a("YLV/")),x=n(a("OL75")),P=n(a("FSVo")),j=n(a("M7uY")),C=n(a("M8tl")),O=n(a("sL4G")),k=n(a("V3HD")),T=n(a("aJX8")),N=a("9FT3"),D=a("KuRP"),B=n(a("bPnU")),R=n(a("vOnD")),A=a("96Cm"),W=n(a("5hLL"));function L(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(L=function(e){return e?a:t})(e)}function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,m.default)(e);if(t){var i=(0,m.default)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,f.default)(this,a)}}var F=R.default.div.withConfig({displayName:"SharingModalContent__Loading",componentId:"tkeccj-0"})(["width:100%;height:460px;display:flex;align-items:center;justify-content:center;"]),z=R.default.div.withConfig({displayName:"SharingModalContent__Container",componentId:"tkeccj-1"})(["width:100%;display:flex;flex-direction:column;align-items:center;"]),U=R.default.img.withConfig({displayName:"SharingModalContent__Rocket",componentId:"tkeccj-2"})(["width:40px;height:40px;",""],A.media.smallerThanMaxTablet(o||(o=(0,h.default)(["\n    width: 35px;\n    height: 35px;\n  "])))),V=R.default.h1.withConfig({displayName:"SharingModalContent__Title",componentId:"tkeccj-3"})(["flex-shrink:0;width:100%;color:",";font-size:","px;line-height:40px;font-weight:500;text-align:center;margin:0;margin-top:20px;margin-bottom:10px;padding:0;",""],(function(e){return e.theme.colorText}),A.fontSizes.xxxxl,A.media.smallerThanMaxTablet(r||(r=(0,h.default)(["\n    max-width: auto;\n    font-size: ","px;\n    line-height: 36px;\n  "])),A.fontSizes.xxxl)),J=R.default.p.withConfig({displayName:"SharingModalContent__Description",componentId:"tkeccj-4"})(["flex-shrink:0;width:100%;max-width:500px;color:",";font-size:","px;line-height:25px;font-weight:300;text-align:center;margin:0;margin-top:10px;margin-bottom:50px;padding:0;",""],(function(e){return e.theme.colorText}),A.fontSizes.large,A.media.smallerThanMaxTablet(l||(l=(0,h.default)(["\n    font-size: ","px;\n    line-height: 21px;\n  "])),A.fontSizes.base)),H=R.default.div.withConfig({displayName:"SharingModalContent__SharingWrapper",componentId:"tkeccj-5"})(["flex-shrink:0;width:100%;max-width:300px;display:flex;flex-direction:column;"]),K=function(e){(0,p.default)(a,e);var t=q(a);function a(){var e;(0,s.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,g.default)((0,c.default)(e),"getPostValues",(function(){var t=e.props,a=t.postType,n=t.idea,i=t.initiative,o=t.localize,r=t.locale,l=null,d=null;return"idea"!==a||(0,b.isNilOrError)(n)||(l=o(n.attributes.title_multiloc),d="".concat(location.origin,"/").concat(r,"/").concat(a,"s/").concat(n.attributes.slug)),"initiative"!==a||(0,b.isNilOrError)(i)||(l=o(i.attributes.title_multiloc),d="".concat(location.origin,"/").concat(r,"/").concat(a,"s/").concat(i.attributes.slug)),{postTitle:l,postUrl:d}})),(0,g.default)((0,c.default)(e),"getIdeaMessages",(function(){var t=e.props,a=t.project,n=t.phases,i=null,o=null,r=null;if(!(0,b.isNilOrError)(a)){var l=(0,I.getInputTerm)(a.attributes.process_type,a,n);i=(0,N.getInputTermMessage)(l,{idea:T.default.ideaEmailSharingSubjectText,option:T.default.optionEmailSharingSubject,project:T.default.projectEmailSharingSubject,question:T.default.questionEmailSharingSubject,issue:T.default.issueEmailSharingSubject,contribution:T.default.contributionEmailSharingSubject}),o=(0,N.getInputTermMessage)(l,{idea:T.default.ideaEmailSharingBody,option:T.default.optionEmailSharingBody,project:T.default.projectEmailSharingBody,question:T.default.questionEmailSharingModalContentBody,issue:T.default.issueEmailSharingBody,contribution:T.default.contributionEmailSharingBody}),r=(0,N.getInputTermMessage)(l,{idea:T.default.ideaWhatsAppMessage,option:T.default.optionWhatsAppMessage,project:T.default.projectWhatsAppMessage,question:T.default.questionWhatsAppMessage,issue:T.default.issueWhatsAppMessage,contribution:T.default.contributionWhatsAppMessage})}return{emailSharingSubject:i,emailSharingBody:o,whatsAppMessage:r}})),(0,g.default)((0,c.default)(e),"getInitiativeMessages",(function(){return{emailSharingSubject:T.default.initiativeEmailSharingSubject,emailSharingBody:T.default.initiativeEmailSharingBody,whatsAppMessage:T.default.whatsAppMessageProposal}})),(0,g.default)((0,c.default)(e),"getMessages",(function(){return"idea"===e.props.postType?e.getIdeaMessages():e.getInitiativeMessages()})),e}return(0,u.default)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.postId,a=e.postType;(0,D.trackEventByName)(B.default.sharingModalOpened.name,{postId:t,postType:a})}},{key:"render",value:function(){var e=this.props,t=e.postType,a=e.authUser,n=e.className,i=e.title,o=e.subtitle,r=this.props.intl.formatMessage,l=this.getPostValues(),d=l.postTitle,s=l.postUrl,u=this.getMessages(),c=u.emailSharingBody,p=u.emailSharingSubject,f=u.whatsAppMessage;return!(0,b.isNilOrError)(a)&&s&&c&&p&&f?v.default.createElement(z,{className:n},v.default.createElement(U,{src:W.default,alt:"rocket"}),v.default.createElement(V,{className:"e2e-".concat(t,"-social-sharing-modal-title")},i),v.default.createElement(J,null,o),v.default.createElement(H,null,v.default.createElement(M.default,{context:t,isInModal:!0,url:s,twitterMessage:r(T.default.twitterMessage,{postTitle:d}),whatsAppMessage:r(f,{postTitle:d}),emailSubject:r(p,{postTitle:d}),emailBody:r(c,{postTitle:d,postUrl:s}),utmParams:{source:"share_".concat(t),campaign:"".concat(t,"flow"),content:a.id}}))):v.default.createElement(F,null,v.default.createElement(w.Spinner,null))}}]),a}(v.PureComponent),$=(0,O.default)((0,k.default)(K)),Z=(0,y.adopt)({locale:v.default.createElement(E.default,null),tenant:v.default.createElement(S.default,null),authUser:v.default.createElement(_.default,null),idea:function(e){var t=e.postId,a=e.postType,n=e.render;return v.default.createElement(x.default,{ideaId:t&&"idea"===a?t:null},n)},initiative:function(e){var t=e.postId,a=e.postType,n=e.render;return v.default.createElement(P.default,{id:t&&"initiative"===a?t:null},n)},project:function(e){var t=e.idea,a=e.render;return v.default.createElement(j.default,{projectId:(0,b.isNilOrError)(t)?null:t.relationships.project.data.id},a)},phases:function(e){var t=e.idea,a=e.render;return v.default.createElement(C.default,{projectId:(0,b.isNilOrError)(t)?null:t.relationships.project.data.id},a)}});t.default=function(e){return v.default.createElement(Z,e,(function(t){return v.default.createElement($,(0,d.default)({},e,t))}))}},"1Fye":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectPageSectionTitle=t.maxPageWidth=void 0;var i,o=n(a("VkAN")),r=n(a("vOnD")),l=a("96Cm");t.maxPageWidth=1166;var d=r.default.h2.withConfig({displayName:"styles__ProjectPageSectionTitle",componentId:"p9pas7-0"})(["color:",";font-size:","px;line-height:normal;font-weight:500;text-align:left;overflow-wrap:break-word;word-wrap:break-word;word-break:break-word;margin:0;margin-bottom:25px;padding:0;",""],(function(e){return e.theme.colorText}),l.fontSizes.xxl,(0,l.isRtl)(i||(i=(0,o.default)(["\n    text-align: right;\n  "]))));t.ProjectPageSectionTitle=d},"1Zvv":function(e,t,a){"use strict";a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a("q1tI")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=s(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("vOnD")),l=a("iP56"),d=a("96Cm");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(s=function(e){return e?a:t})(e)}var u=(0,r.keyframes)(["0%{transform:scale(1,0);opacity:0;}5%{transform:scale(1,0.17942745647835484);}10%{transform:scale(1,0.5453767165955569);}15%{transform:scale(1,0.894404964443162);}20%{transform:scale(1,1.1203760160160154);}25%{transform:scale(1,1.2051533263082377);}30%{transform:scale(1,1.1848074616294655);}35%{transform:scale(1,1.1134007773010595);}40%{transform:scale(1,1.037247338664745);}45%{transform:scale(1,0.9833121263387835);}50%{transform:scale(1,0.9591514931191875);opacity:1;}55%{transform:scale(1,0.9592070055589312);}60%{transform:scale(1,0.9725345308087797);}65%{transform:scale(1,0.9888015967917715);}70%{transform:scale(1,1.0013794350134355);}75%{transform:scale(1,1.0078326552211365);}80%{transform:scale(1,1.008821093113004);}85%{transform:scale(1,1.0064881982177143);}90%{transform:scale(1,1.0030929569279976);}95%{transform:scale(1,1.00022141474777);}100%{transform:scale(1,1);}"]),c=r.default.div.withConfig({displayName:"PopContainer__Container",componentId:"cx52ay-0"})(["background-color:#fff;position:relative;border-radius:",";border:solid 1px ",";margin-top:0px;padding:15px;display:flex;flex-direction:column;align-items:center;justify-content:center;background:#fff;animation:",";transform-origin:center center;"],(function(e){return e.theme.borderRadius}),d.colors.separation,(0,r.css)([""," 450ms linear"],u)),p=r.default.div.withConfig({displayName:"PopContainer__IconWrapper",componentId:"cx52ay-1"})(["width:42px;height:42px;display:flex;justify-content:center;align-items:center;border-radius:50%;background:#f0f0f0;margin-bottom:15px;"]),f=(0,r.default)(l.Icon).withConfig({displayName:"PopContainer__StyledIcon",componentId:"cx52ay-2"})(["height:20px;fill:#333;"]),m=function(e){var t=e.icon,a=e.children;return o.default.createElement(c,null,t&&o.default.createElement(p,null,o.default.createElement(f,{name:t})),a)};t.default=m},"4L33":function(e,t,a){"use strict";a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("ma9I");var o=n(a("pVnL")),r=n(a("QILm")),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=T(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),d=a("KLnl"),s=a("ifvJ"),u=n(a("JUYq")),c=a("Qyje"),p=a("xTvc"),f=a("DbO4"),m=n(a("M7uY")),g=n(a("rRCK")),h=n(a("M8tl")),v=n(a("YLV/")),b=n(a("2fl8")),y=n(a("8QT5")),I=a("iP56"),M=a("Rw3A"),w=n(a("ypSi")),E=a("9FT3"),S=a("q3BX"),_=a("iH/W"),x=a("KuRP"),P=n(a("SeYT")),j=n(a("vOnD")),C=a("96Cm"),O=a("ufqH"),k=["id","project","phase","phases","authUser","participationContextType","phaseId","projectId","inMap","className","latLng","intl"];function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(T=function(e){return e?a:t})(e)}var N=j.default.div.withConfig({displayName:"IdeaButton__Container",componentId:"ks324v-0"})([""]),D=j.default.div.withConfig({displayName:"IdeaButton__ButtonWrapper",componentId:"ks324v-1"})([""]),B=j.default.div.withConfig({displayName:"IdeaButton__TooltipContent",componentId:"ks324v-2"})(["display:flex;align-items:center;padding:",";"],(function(e){return e.inMap?"0px":"15px"})),R=(0,j.default)(I.Icon).withConfig({displayName:"IdeaButton__TooltipContentIcon",componentId:"ks324v-3"})(["flex:0 0 25px;width:20px;height:25px;margin-right:1rem;"]),A=j.default.div.withConfig({displayName:"IdeaButton__TooltipContentText",componentId:"ks324v-4"})(["flex:1 1 auto;color:",";font-size:","px;line-height:normal;font-weight:400;overflow-wrap:break-word;word-wrap:break-word;word-break:break-word;a,button{color:",";font-size:","px;line-height:normal;font-weight:400;text-align:left;text-decoration:underline;white-space:normal;overflow-wrap:break-word;word-wrap:break-word;word-break:break-all;word-break:break-word;hyphens:auto;display:inline;padding:0px;margin:0px;cursor:pointer;transition:all 100ms ease-out;&:hover{color:",";text-decoration:underline;}}"],(function(e){return e.theme.colorText}),C.fontSizes.base,C.colors.clBlueDark,C.fontSizes.base,(0,O.darken)(.15,C.colors.clBlueDark)),W=(0,l.memo)((function(e){var t=e.id,a=e.project,n=e.phase,i=e.phases,s=e.authUser,m=e.participationContextType,g=e.phaseId,h=e.projectId,v=e.inMap,I=e.className,j=e.latLng,C=e.intl.formatMessage,O=(0,r.default)(e,k),T={notPermitted:w.default.postingNoPermission,postingDisabled:w.default.postingDisabled,projectInactive:w.default.postingInactive,futureEnabled:w.default.postingNotYetPossible,notActivePhase:w.default.postingInNonActivePhases,maybeNotPermitted:w.default.postingMayNotBePermitted},W=(0,p.getIdeaPostingRules)({project:a,phase:n,authUser:s}),L=W.show,q=W.enabled,F=W.disabledReason,z=W.action,U=function(){(0,d.isNilOrError)(a)||((0,x.trackEventByName)(P.default.redirectedToIdeaFrom),u.default.push({pathname:"/projects/".concat(a.attributes.slug,"/ideas/new"),search:j?(0,c.stringify)({lat:j.lat,lng:j.lng},{addQueryPrefix:!0}):void 0}))},V=function(e){null==e||e.preventDefault();var t=m,a="phase"===t?g:h;a&&t&&((0,x.trackEventByName)(P.default.verificationModalOpened),(0,_.openVerificationModal)({context:{action:"posting_idea",id:a,type:t}}))},J=function(e){H("signup")(e)},H=function(e){return function(t){null==t||t.preventDefault();var n=m,i="phase"===n?g:h,o="sign_in_up_and_verify"===z;(0,d.isNilOrError)(s)&&!(0,d.isNilOrError)(a)&&((0,x.trackEventByName)(P.default.signUpInModalOpened),(0,S.openSignUpInModal)({flow:e,verification:o,verificationContext:o&&i&&n?{action:"posting_idea",id:i,type:n}:void 0,action:function(){return U()}}))}},K=l.default.createElement("button",{onClick:V},C(w.default.verificationLinkText)),$=l.default.createElement("button",{onClick:J},C(w.default.signUpLinkText)),Z=l.default.createElement("button",{onClick:function(e){H("signin")(e)}},C(w.default.signInLinkText));if(L){var Y=!q&&F?l.default.createElement(B,{id:"tooltip-content",className:"e2e-disabled-tooltip",inMap:v},l.default.createElement(R,{name:"lock-outlined",ariaHidden:!0}),l.default.createElement(A,null,l.default.createElement(M.FormattedMessage,(0,o.default)({},T[F],{values:{verificationLink:K,signUpLink:$,signInLink:Z}})))):null;if(v&&!q&&F)return l.default.createElement(B,{id:"tooltip-content",className:"e2e-disabled-tooltip",inMap:v},l.default.createElement(R,{name:"lock-outlined",ariaHidden:!0}),l.default.createElement(A,null,l.default.createElement(M.FormattedMessage,(0,o.default)({},T[F],{values:{verificationLink:K,signUpLink:$,signInLink:Z}}))));if(!(0,d.isNilOrError)(a)){var Q=(0,f.getInputTerm)(a.attributes.process_type,a,i);return l.default.createElement(N,{id:t||"",className:I||""},l.default.createElement(y.default,{disabled:!Y,interactive:!0,placement:"bottom",content:Y||l.default.createElement(l.default.Fragment,null),theme:"light",hideOnClick:!1},l.default.createElement(D,{tabIndex:q?-1:0,className:"e2e-idea-button ".concat(q?"":"disabled"," ").concat(F||"")},l.default.createElement(b.default,(0,o.default)({},O,{"aria-describedby":"tooltip-content",onClick:function(e){e.preventDefault(),(0,x.trackEventByName)(P.default.postYourIdeaButtonClicked),"sign_in_up"!==z&&"sign_in_up_and_verify"!==z||J(),"verify"===z&&V(),!0===q&&U()},disabled:!q,ariaDisabled:!1}),l.default.createElement(M.FormattedMessage,(0,E.getInputTermMessage)(Q,{idea:w.default.submitYourIdea,option:w.default.addAnOption,project:w.default.addAProject,question:w.default.addAQuestion,issue:w.default.submitAnIssue,contribution:w.default.addAContribution}))))))}}return null})),L=(0,s.adopt)({authUser:l.default.createElement(v.default,null),project:function(e){var t=e.projectId,a=e.render;return l.default.createElement(m.default,{projectId:t},a)},phases:function(e){var t=e.projectId,a=e.render;return l.default.createElement(h.default,{projectId:t},a)},phase:function(e){var t=e.phaseId,a=e.render;return l.default.createElement(g.default,{id:t},a)}}),q=(0,M.injectIntl)(W);t.default=function(e){return l.default.createElement(L,e,(function(t){return l.default.createElement(q,(0,o.default)({},e,t))}))}},"5hLL":function(e,t,a){"use strict";a.r(t),t.default=a.p+"aaae759b408aa34fd8afbcefb716a1ab.png"},"72sj":function(e,t,a){"use strict";a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),r=n(a("vOnD")),l=a("96Cm");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}var s=r.default.img.withConfig({displayName:"Image",componentId:"sc-3ry5gv-0"})(["width:100%;margin-bottom:25px;border-radius:",";border:1px solid ",";"],(function(e){return e.theme.borderRadius}),l.colors.separation),u=(0,o.memo)((function(e){var t=e.src,a=e.alt,n=e.id;return o.default.createElement(s,{src:t,alt:a,id:n})}));t.default=u},AJij:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,a("JRPe").defineMessages)({postedBy:{id:"app.containers.IdeasShow.MetaInformation.postedBy",defaultMessage:"Posted by"},currentStatus:{id:"app.containers.IdeasShow.MetaInformation.currentStatus",defaultMessage:"Current status"},topics:{id:"app.containers.IdeasShow.MetaInformation.topics",defaultMessage:"Topics"},location:{id:"app.containers.IdeasShow.MetaInformation.location",defaultMessage:"Location"},attachments:{id:"app.containers.IdeasShow.MetaInformation.attachments",defaultMessage:"Attachments"},byUserOnDate:{id:"app.containers.IdeasShow.MetaInformation.byUserOnDate",defaultMessage:"{userName} on {date}"}});t.default=n},AM3C:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2B1R");var i=n(a("q1tI")),o=a("akep"),r=n(a("Uj4o")),l=n(a("38aM")),d=a("KLnl"),s=a("Rw3A"),u=n(a("AJij")),c=(0,s.injectIntl)((function(e){var t=e.ideaId,a=e.compact,n=e.className,s=e.intl.formatMessage,c=(0,l.default)({ideaId:t});if(!(0,d.isNilOrError)(c)){var p,f=(null===(p=c.relationships.topics)||void 0===p?void 0:p.data.map((function(e){return e.id})))||[];if(f.length>0)return i.default.createElement(o.Item,{className:n||"",compact:a},i.default.createElement(o.Header,null,s(u.default.topics)),i.default.createElement(r.default,{postType:"idea",topicIds:f}))}return null}));t.default=c},"CA+D":function(e,t,a){"use strict";a("SuFq");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("FZtP");var i=n(a("lwsE")),o=n(a("W8MJ")),r=n(a("PJYZ")),l=n(a("7W2i")),d=n(a("a1gu")),s=n(a("Nsbk")),u=n(a("lSNA")),c=n(a("q1tI")),p=a("DtyJ"),f=a("ahDk"),m=n(a("aTp4")),g=a("EP0W"),h=a("T89o");function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,s.default)(e);if(t){var i=(0,s.default)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,d.default)(this,a)}}var b=function(e){(0,l.default)(a,e);var t=v(a);function a(e){var n;return(0,i.default)(this,a),n=t.call(this,e),(0,u.default)((0,r.default)(n),"inputProps$",void 0),(0,u.default)((0,r.default)(n),"subscriptions",void 0),n.state={ideaImages:void 0},n}return(0,o.default)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.ideaId;this.inputProps$=new p.BehaviorSubject({ideaId:t}),this.subscriptions=[this.inputProps$.pipe((0,f.distinctUntilChanged)((function(e,t){return(0,m.default)(e,t)})),(0,f.switchMap)((function(e){var t=e.ideaId;return(0,h.isString)(t)?(0,g.ideaImagesStream)(t).observable:(0,p.of)(null)}))).subscribe((function(t){e.setState({ideaImages:t?t.data:null})}))]}},{key:"componentDidUpdate",value:function(){var e=this.props.ideaId;this.inputProps$.next({ideaId:e})}},{key:"componentWillUnmount",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"render",value:function(){return(0,this.props.children)(this.state.ideaImages)}}]),a}(c.default.Component);t.default=b},CdTl:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,a("JRPe").defineMessages)({ideaOnMapReadMore:{id:"app.components.IdeasMap.ideaOnMapReadMore",defaultMessage:"Read more"},nothingOnMapWarning:{id:"app.components.IdeasMap.nothingOnMapWarning",defaultMessage:"Nothing to be seen here here! There might be more to see in the list view."},postingHereImpossible:{id:"app.components.IdeasMap.postingHereImpossible",defaultMessage:"Posting an idea here is currently impossible."},postingNotPermitted:{id:"app.components.IdeasMap.postingNotPermitted",defaultMessage:"Unfortunately, You don't have the rights to post ideas here."},postingMaybeNotPermitted:{id:"app.components.IdeasMap.postingMaybeNotPermitted",defaultMessage:"Only certain users can post ideas here. Please {signUpLink} or {signInLink} first."},signUpLinkText:{id:"app.components.IdeasMap.signUpLinkText",defaultMessage:"sign up"},signInLinkText:{id:"app.components.IdeasMap.signInLinkText",defaultMessage:"sign in"},postingProjectInactive:{id:"app.components.IdeasMap.postingProjectInactive",defaultMessage:"This project is not yet or no longer accepting new ideas."},postingNotActivePhase:{id:"app.components.IdeasMap.postingNotActivePhase",defaultMessage:"You can't post ideas in a past or future phase."},a11y_mapTitle:{id:"app.components.IdeasMap.a11y_mapTitle",defaultMessage:"Map overview"},or:{id:"app.components.IdeasMap.or",defaultMessage:"or"},noResults:{id:"app.components.IdeasMap.noResults",defaultMessage:"No results found"},noFilteredResults:{id:"app.components.IdeasMap.noFilteredResults",defaultMessage:"The filters you selected did not return any results"},clickOnMapToAdd:{id:"app.components.IdeasMap.clickOnMapToAdd",defaultMessage:"Click on the map to add your input"},tapOnMapToAdd:{id:"app.components.IdeasMap.tapOnMapToAdd",defaultMessage:"Tap on the map to add your input"}});t.default=n},D51O:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("q1tI")),o=a("akep"),r=n(a("/VeQ")),l=n(a("9Y8i")),d=n(a("AJij")),s=a("Rw3A"),u=a("KLnl"),c=function(e){var t=e.statusId,a=e.compact,n=e.className,c=(0,r.default)({statusId:t});return(0,u.isNilOrError)(c)?null:i.default.createElement(o.Item,{className:n||"",compact:a},i.default.createElement(o.Header,null,i.default.createElement(s.FormattedMessage,d.default.currentStatus)),i.default.createElement(l.default,{id:"e2e-idea-status-badge",statusId:t}))};t.default=c},FSVo:function(e,t,a){"use strict";a("SuFq");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("FZtP");var i=n(a("lwsE")),o=n(a("W8MJ")),r=n(a("PJYZ")),l=n(a("7W2i")),d=n(a("a1gu")),s=n(a("Nsbk")),u=n(a("lSNA")),c=n(a("q1tI")),p=a("T89o"),f=a("KLnl"),m=a("DtyJ"),g=a("ahDk"),h=n(a("aTp4")),v=a("fM+I");function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,s.default)(e);if(t){var i=(0,s.default)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,d.default)(this,a)}}var y=function(e){(0,l.default)(a,e);var t=b(a);function a(e){var n;return(0,i.default)(this,a),n=t.call(this,e),(0,u.default)((0,r.default)(n),"inputProps$",void 0),(0,u.default)((0,r.default)(n),"subscriptions",void 0),n.state={initiative:void 0},n}return(0,o.default)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.id,n=t.slug,i=t.resetOnChange;this.inputProps$=new m.BehaviorSubject({id:a,slug:n}),this.subscriptions=[this.inputProps$.pipe((0,g.distinctUntilChanged)((function(e,t){return(0,h.default)(e,t)})),(0,g.tap)((function(){return i&&e.setState({initiative:void 0})})),(0,g.switchMap)((function(e){var t=e.id,a=e.slug;return(0,p.isString)(t)?(0,v.initiativeByIdStream)(t).observable:(0,p.isString)(a)?(0,v.initiativeBySlugStream)(a).observable:(0,m.of)(null)}))).subscribe((function(t){e.setState({initiative:(0,f.isNilOrError)(t)?t:t.data})}))]}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.id,a=e.slug;this.inputProps$.next({id:t,slug:a})}},{key:"componentWillUnmount",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"render",value:function(){return(0,this.props.children)(this.state.initiative)}}]),a}(c.default.Component);t.default=y,(0,u.default)(y,"defaultProps",{resetOnChange:!0})},Gj50:function(e,t,a){"use strict";a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a("J4zp")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=v(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),l=a("KLnl"),d=n(a("pQ8y")),s=a("WdeD"),u=n(a("x3zm")),c=n(a("K/LT")),p=n(a("N465")),f=n(a("GpY6")),m=n(a("OsxD")),g=n(a("vOnD")),h=a("96Cm");function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(v=function(e){return e?a:t})(e)}var b=g.default.div.withConfig({displayName:"IdeaMapOverlay__Container",componentId:"nd05ya-0"})(["width:100%;background:#fff;display:flex;flex-direction:column;align-items:stretch;position:relative;",";box-shadow:0px 0px 5px 0px rgba(0,0,0,0.12);"],h.defaultCardStyle),y=g.default.div.withConfig({displayName:"IdeaMapOverlay__InnerOverlay",componentId:"nd05ya-1"})(["position:absolute;top:0;bottom:0;left:0;right:",";background:#fff;display:flex;flex-direction:column;align-items:stretch;overflow:hidden;",";box-shadow:0px 0px 5px 0px rgba(0,0,0,0.15);transition:all ","ms cubic-bezier(0.19,1,0.22,1);&.animation-enter{opacity:0;right:0px;&.animation-enter-active{opacity:1;right:",";}}&.animation-enter-done{opacity:1;right:",";}&.animation-exit{opacity:1;right:",";&.animation-exit-active{opacity:0;right:0px;}}&.animation-exit-done{display:none;}"],(function(e){return e.right}),h.defaultCardStyle,200,(function(e){return e.right}),(function(e){return e.right}),(function(e){return e.right})),I=(0,g.default)(m.default).withConfig({displayName:"IdeaMapOverlay__StyledIdeaShowPageTopBar",componentId:"nd05ya-2"})([""]),M=(0,g.default)(f.default).withConfig({displayName:"IdeaMapOverlay__StyledIdeasShow",componentId:"nd05ya-3"})(["flex:1;overflow-x:hidden;overflow-y:auto;padding:30px;"]),w=(0,g.default)(p.default).withConfig({displayName:"IdeaMapOverlay__StyledIdeasList",componentId:"nd05ya-4"})(["flex:1;overflow:hidden;"]),E=(0,r.memo)((function(e){var t=e.projectIds,a=e.projectId,n=e.phaseId,i=e.className,p=(0,u.default)({projectId:a}),f=(0,c.default)().windowWidth,m=!!(f&&f<=1440),g=(0,r.useState)(null),h=(0,o.default)(g,2),v=h[0],E=h[1],S=(0,r.useState)(null),_=(0,o.default)(S,2),x=_[0],P=_[1];(0,r.useEffect)((function(){var e=s.ideaMapCardSelected$.subscribe((function(e){E(e)}));return function(){(0,s.setIdeaMapCardSelected)(null),e.unsubscribe()}}),[t,a]),(0,r.useEffect)((function(){x&&v&&(x.scrollTop=0)}),[x,v]);return(0,l.isNilOrError)(p)?null:r.default.createElement(b,{className:i||""},r.default.createElement(w,{projectIds:t,projectId:a,phaseId:n}),r.default.createElement(d.default,{classNames:"animation",in:!!v,timeout:200,mounOnEnter:!0,unmountOnExit:!0,enter:!0,exit:!0},r.default.createElement(y,{right:m?"-100px":"-150px"},r.default.createElement(I,{ideaId:v,goBackAction:function(){(0,s.setIdeaMapCardSelected)(null)}}),r.default.createElement(M,{ideaId:v,projectId:a,insideModal:!1,compact:!0,setRef:function(e){P(e)}}))))}));t.default=E},GpY6:function(e,t,a){"use strict";a("yq1k"),a("JTJg"),a("SuFq"),a("ENF9"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.IdeasShow=void 0;var o=n(a("pVnL")),r=n(a("lwsE")),l=n(a("W8MJ")),d=n(a("PJYZ")),s=n(a("7W2i")),u=n(a("a1gu")),c=n(a("Nsbk")),p=n(a("lSNA")),f=n(a("VkAN"));a("4mDm"),a("07d7"),a("5s+n"),a("PKPk"),a("3bBZ"),a("2B1R"),a("TeQF");var m,g,h,v=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=pe(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),b=a("T89o"),y=a("KLnl"),I=a("ifvJ"),M=a("DbO4"),w=a("MfpC"),E=a("KuRP"),S=n(a("oHY+")),_=a("dtw8"),x=n(a("IEAL")),P=n(a("YOT+")),j=n(a("zJWc")),C=n(a("K5Dz")),O=n(a("Mh2d")),k=n(a("72sj")),T=n(a("/Eug")),N=n(a("1hFV")),D=n(a("kemx")),B=n(a("0Pyc")),R=n(a("UjkJ")),A=n(a("NSTN")),W=a("iP56"),L=n(a("xksB")),q=n(a("/92W")),F=n(a("w6e4")),z=n(a("L2JE")),U=n(a("JBro")),V=n(a("zFVC")),J=n(a("yiTP")),H=n(a("CA+D")),K=n(a("M7uY")),$=n(a("OL75")),Z=n(a("M8tl")),Y=n(a("17nk")),Q=n(a("mjsl")),G=n(a("oRVF")),X=n(a("vztX")),ee=n(a("YLV/")),te=n(a("zIn5")),ae=a("Rw3A"),ne=n(a("sL4G")),ie=n(a("UQTo")),oe=n(a("V3HD")),re=a("9FT3"),le=n(a("pQ8y")),de=n(a("vOnD")),se=a("96Cm"),ue=a("qGqp"),ce=n(a("Yjdl"));function pe(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(pe=function(e){return e?a:t})(e)}function fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,u.default)(this,a)}}var me=(0,v.lazy)((function(){return Promise.all([a.e(6),a.e(167)]).then(a.t.bind(null,"LtqC",7))})),ge=de.default.main.withConfig({displayName:"IdeasShow__Container",componentId:"sc-10cplty-0"})(["width:100%;max-width:","px;position:relative;display:flex;flex-direction:column;align-items:stretch;margin-left:auto;margin-right:auto;background:#fff;&.loading{flex:1;justify-content:center;}&.loaded{opacity:0;&.content-enter{opacity:0;&.content-enter-active{opacity:1;transition:opacity ","ms "," ","ms;}}&.content-enter-done{opacity:1;}}"],ue.pageContentMaxWidth,250,"cubic-bezier(0.19, 1, 0.22, 1)",150),he=de.default.div.withConfig({displayName:"IdeasShow__Content",componentId:"sc-10cplty-1"})(["display:flex;"]),ve=de.default.div.withConfig({displayName:"IdeasShow__LeftColumn",componentId:"sc-10cplty-2"})(["flex:1 1 100%;"]),be=(0,de.default)(U.default).withConfig({displayName:"IdeasShow__StyledRightColumnDesktop",componentId:"sc-10cplty-3"})(["margin-left:","px;"],ue.columnsGapDesktop),ye=de.default.div.withConfig({displayName:"IdeasShow__IdeaHeader",componentId:"sc-10cplty-4"})(["display:flex;align-items:center;justify-content:space-between;margin-top:-5px;margin-bottom:25px;"," ",""],(0,se.isRtl)(m||(m=(0,f.default)(["\n    flex-direction: row-reverse;\n  "]))),se.media.smallerThanMaxTablet(g||(g=(0,f.default)(["\n    margin-top: 0px;\n  "])))),Ie=(0,de.default)(A.default).withConfig({displayName:"IdeasShow__MobileIdeaMoreActions",componentId:"sc-10cplty-5"})(["margin-left:30px;"]),Me=de.default.div.withConfig({displayName:"IdeasShow__TopBar",componentId:"sc-10cplty-6"})(["display:flex;justify-content:space-between;align-items:center;",""],(0,se.isRtl)(h||(h=(0,f.default)(["\n    flex-direction: row-reverse;\n  "])))),we=(0,de.default)(L.default).withConfig({displayName:"IdeasShow__StyledGoBackButton",componentId:"sc-10cplty-7"})(["margin-bottom:40px;"]),Ee=de.default.h2.withConfig({displayName:"IdeasShow__BodySectionTitle",componentId:"sc-10cplty-8"})(["font-size:","px;font-weight:500;line-height:28px;padding:0;margin:0;margin-bottom:15px;"],(function(e){return e.theme.fontSizes.large})),Se=(0,de.default)(O.default).withConfig({displayName:"IdeasShow__StyledBody",componentId:"sc-10cplty-9"})(["margin-bottom:40px;"]),_e=(0,de.default)(C.default).withConfig({displayName:"IdeasShow__StyledIdeaProposedBudget",componentId:"sc-10cplty-10"})(["margin-bottom:20px;"]),xe=(0,de.default)(F.default).withConfig({displayName:"IdeasShow__MobileMetaInformation",componentId:"sc-10cplty-11"})(["margin-bottom:30px;"]),Pe=(0,de.default)(D.default).withConfig({displayName:"IdeasShow__StyledAssignBudgetControl",componentId:"sc-10cplty-12"})(["margin-top:30px;margin-bottom:30px;"]),je=(0,de.default)(x.default).withConfig({displayName:"IdeasShow__MobileIdeaSharingButton",componentId:"sc-10cplty-13"})([""]),Ce=(0,de.default)(T.default).withConfig({displayName:"IdeasShow__StyledOfficialFeedback",componentId:"sc-10cplty-14"})(["margin-top:80px;margin-bottom:80px;"]),Oe=de.default.div.withConfig({displayName:"IdeasShow__Comments",componentId:"sc-10cplty-15"})(["margin-bottom:100px;"]),ke=function(e){(0,s.default)(a,e);var t=fe(a);function a(e){var n;return(0,r.default)(this,a),n=t.call(this,e),(0,p.default)((0,d.default)(n),"setLoaded",(function(){var e=n.state.loaded,t=n.props,a=t.idea,i=t.ideaImages,o=t.project,r=t.officialFeedbacks;e||(0,y.isNilOrError)(a)||(0,b.isUndefined)(i)||(0,y.isNilOrError)(o)||(0,b.isUndefined)(r.officialFeedbacksList)||n.setState({loaded:!0})})),(0,p.default)((0,d.default)(n),"closeIdeaSocialSharingModal",(function(){n.setState({ideaIdForSocialSharing:null})})),(0,p.default)((0,d.default)(n),"onTranslateIdea",(function(){n.setState((function(e){return!0===e.translateButtonClicked?(0,E.trackEvent)(S.default.clickGoBackToOriginalIdeaCopyButton):!1===e.translateButtonClicked&&(0,E.trackEvent)(S.default.clickTranslateIdeaButton),{translateButtonClicked:!e.translateButtonClicked}}))})),(0,p.default)((0,d.default)(n),"handleContainerRef",(function(e){var t,a;null===(t=(a=n.props).setRef)||void 0===t||t.call(a,e)})),(0,p.default)((0,d.default)(n),"getLatestRelevantPhaseId",(function(){var e=n.props,t=e.idea,a=e.phases;if(!(0,y.isNilOrError)(t)&&!(0,y.isNilOrError)(a)){var i,o,r,l,d=null==t||null===(i=t.relationships)||void 0===i||null===(o=i.phases)||void 0===o||null===(r=o.data)||void 0===r?void 0:r.map((function(e){return e.id})),s=a.filter((function(e){return(0,b.includes)(d,e.id)}));return null===(l=(0,w.getLatestRelevantPhase)(s))||void 0===l?void 0:l.id}})),n.state={loaded:!1,spamModalVisible:!1,ideaIdForSocialSharing:null,translateButtonClicked:!1},n}return(0,l.default)(a,[{key:"componentDidMount",value:function(){var e,t=this,a=null===(e=this.props.location.query)||void 0===e?void 0:e.new_idea_id;this.setLoaded(),(0,b.isString)(a)&&(setTimeout((function(){t.setState({ideaIdForSocialSharing:a})}),1500),window.history.replaceState(null,"",window.location.pathname))}},{key:"componentDidUpdate",value:function(){this.setLoaded()}},{key:"render",value:function(){var e=this.props,t=e.locale,a=e.idea,n=e.localize,i=e.ideaImages,o=e.windowSize,r=e.className,l=e.postOfficialFeedbackPermission,d=e.projectId,s=e.ideaCustomFieldsSchemas,u=e.insideModal,c=e.project,p=e.phases,f=e.compact,m=this.state,g=m.loaded,h=m.ideaIdForSocialSharing,b=m.translateButtonClicked,I=this.props.intl.formatMessage,w=null;if(!(0,y.isNilOrError)(c)&&!(0,y.isNilOrError)(a)&&!(0,y.isNilOrError)(t)&&!(0,y.isNilOrError)(s)&&g){var E,S,_,x,C,O,T,D,L,F,U,J=(null===(E=a.relationships)||void 0===E||null===(S=E.author)||void 0===S||null===(_=S.data)||void 0===_?void 0:_.id)||null,H=n(a.attributes.title_multiloc),K=null==a||null===(x=a.relationships)||void 0===x||null===(C=x.idea_status)||void 0===C||null===(O=C.data)||void 0===O?void 0:O.id,$=(null==i||null===(T=i[0])||void 0===T||null===(D=T.attributes)||void 0===D||null===(L=D.versions)||void 0===L?void 0:L.large)||null,Z=a.id,Y=null===(F=a.attributes)||void 0===F?void 0:F.proposed_budget,Q=n(null==a||null===(U=a.attributes)||void 0===U?void 0:U.body_multiloc),G=!0===f||!!o&&o<=se.viewportWidths.largeTablet,X=(0,V.default)("proposed_budget",s,t);w=v.default.createElement(v.default.Fragment,null,v.default.createElement(P.default,{ideaId:Z}),!G&&v.default.createElement(Me,null,v.default.createElement(we,{projectId:d,insideModal:u}),v.default.createElement(A.default,{idea:a,projectId:d})),v.default.createElement(he,{id:"e2e-idea-show-page-content"},v.default.createElement(ve,null,v.default.createElement(ye,null,v.default.createElement(j.default,{postType:"idea",postId:Z,title:H,locale:t,translateButtonClicked:b}),G&&v.default.createElement(Ie,{idea:a,projectId:d})),$&&v.default.createElement(k.default,{src:$,alt:"",id:"e2e-idea-image"}),v.default.createElement(ce.default,{id:"app.containers.IdeasShow.left",idea:a,locale:t,onClick:this.onTranslateIdea,translateButtonClicked:b}),X&&Y&&v.default.createElement(v.default.Fragment,null,v.default.createElement(Ee,null,v.default.createElement(ae.FormattedMessage,ie.default.proposedBudgetTitle)),v.default.createElement(_e,{proposedBudget:Y}),v.default.createElement(Ee,null,v.default.createElement(ae.FormattedMessage,ie.default.bodyTitle))),v.default.createElement(Se,{postType:"idea",postId:Z,locale:t,body:Q,translateButtonClicked:b}),G&&v.default.createElement(Pe,{view:"ideaPage",ideaId:Z,projectId:d}),G&&v.default.createElement(xe,{ideaId:Z,projectId:d,statusId:K,authorId:J,compact:G}),G&&v.default.createElement(je,{ideaId:Z,buttonComponent:v.default.createElement(z.default,null)}),v.default.createElement(Ce,{postId:Z,postType:"idea",permissionToPost:l}),v.default.createElement(Oe,null,v.default.createElement(v.Suspense,{fallback:v.default.createElement(q.default,null)},v.default.createElement(me,{postId:Z,postType:"idea"})))),!G&&d&&v.default.createElement(be,{ideaId:Z,projectId:d,statusId:K,authorId:J,insideModal:u})))}if(!(0,y.isNilOrError)(c)){var ee=(0,M.getInputTerm)(c.attributes.process_type,c,p);return v.default.createElement(v.default.Fragment,null,!g&&v.default.createElement(ge,{className:"loading ".concat(r||"")},v.default.createElement(W.Spinner,null)),v.default.createElement(le.default,{classNames:"content",in:g,timeout:{enter:400,exit:0},enter:!0,exit:!1},v.default.createElement(ge,{id:"e2e-idea-show",className:"loaded ".concat(r||""),ref:this.handleContainerRef},w)),v.default.createElement(R.default,{name:"ideaflow_social_sharing"},v.default.createElement(N.default,{opened:!!h,close:this.closeIdeaSocialSharingModal,hasSkipButton:!0,skipText:v.default.createElement(ae.FormattedMessage,ie.default.skipSharing)},h&&v.default.createElement(B.default,{postType:"idea",postId:h,title:I((0,re.getInputTermMessage)(ee,{idea:ie.default.sharingModalTitle,option:ie.default.optionSharingModalTitle,project:ie.default.projectSharingModalTitle,question:ie.default.questionSharingModalTitle,issue:ie.default.issueSharingModalTitle,contribution:ie.default.contributionSharingModalTitle})),subtitle:I(ie.default.sharingModalSubtitle)}))))}return null}}]),a}(v.PureComponent);t.IdeasShow=ke;var Te=(0,oe.default)((0,ne.default)((0,_.withRouter)(ke))),Ne=(0,I.adopt)({locale:v.default.createElement(J.default,null),authUser:v.default.createElement(ee.default,null),windowSize:v.default.createElement(Y.default,null),idea:function(e){var t=e.ideaId,a=e.render;return v.default.createElement($.default,{ideaId:t},a)},ideaImages:function(e){var t=e.ideaId,a=e.render;return v.default.createElement(H.default,{ideaId:t},a)},project:function(e){var t=e.projectId,a=e.render;return v.default.createElement(K.default,{projectId:t},a)},phases:function(e){var t=e.projectId,a=e.render;return v.default.createElement(Z.default,{projectId:t},a)},officialFeedbacks:function(e){var t=e.ideaId,a=e.render;return v.default.createElement(Q.default,{postId:t,postType:"idea"},a)},postOfficialFeedbackPermission:function(e){var t=e.project,a=e.render;return v.default.createElement(G.default,{item:(0,y.isNilOrError)(t)?null:t,action:"moderate"},a)},ideaCustomFieldsSchemas:function(e){var t=e.projectId,a=e.render;return v.default.createElement(X.default,{projectId:t},a)},comments:function(e){var t=e.ideaId,a=e.render;return v.default.createElement(te.default,{postId:t,postType:"idea"},a)}});t.default=function(e){return v.default.createElement(Ne,e,(function(t){return v.default.createElement(Te,(0,o.default)({},e,t))}))}},IEAL:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("q1tI")),o=n(a("+wgy")),r=a("KLnl"),l=a("DbO4"),d=a("Rw3A"),s=n(a("UQTo")),u=a("9FT3"),c=n(a("38aM")),p=n(a("PagR")),f=n(a("uN1B")),m=n(a("x3zm")),g=n(a("dpb+")),h=(0,d.injectIntl)((function(e){var t=e.className,a=e.ideaId,n=e.buttonComponent,d=e.intl.formatMessage,h=(0,c.default)({ideaId:a}),v=(0,r.isNilOrError)(h)?null:h.relationships.project.data.id,b=(0,m.default)({projectId:v}),y=(0,g.default)(v),I=(0,f.default)(),M=(0,p.default)();if(!(0,r.isNilOrError)(h)&&!(0,r.isNilOrError)(b)){var w=location.href,E=M(h.attributes.title_multiloc),S=(0,l.getInputTerm)(b.attributes.process_type,b,y),_=(0,r.isNilOrError)(I)?{source:"share_idea",campaign:"share_content"}:{source:"share_idea",campaign:"share_content",content:I.id};return i.default.createElement(o.default,{className:t,url:w,whatsAppMessage:d((0,u.getInputTermMessage)(S,{idea:s.default.ideaWhatsAppMessage,option:s.default.optionWhatsAppMessage,project:s.default.projectWhatsAppMessage,question:s.default.questionWhatsAppMessage,issue:s.default.issueWhatsAppMessage,contribution:s.default.contributionWhatsAppMessage}),{postTitle:E}),twitterMessage:d((0,u.getInputTermMessage)(S,{idea:s.default.ideaTwitterMessage,option:s.default.optionTwitterMessage,project:s.default.projectTwitterMessage,question:s.default.questionTwitterMessage,issue:s.default.issueTwitterMessage,contribution:s.default.contributionTwitterMessage}),{postTitle:E}),emailSubject:d((0,u.getInputTermMessage)(S,{idea:s.default.ideaEmailSharingSubject,option:s.default.optionEmailSharingSubject,project:s.default.projectEmailSharingSubject,question:s.default.questionEmailSharingSubject,issue:s.default.issueEmailSharingSubject,contribution:s.default.contributionEmailSharingSubject}),{ideaTitle:E}),emailBody:d((0,u.getInputTermMessage)(S,{idea:s.default.ideaEmailSharingBody,option:s.default.optionEmailSharingBody,project:s.default.projectEmailSharingBody,question:s.default.questionEmailSharingBody,issue:s.default.issueEmailSharingBody,contribution:s.default.contributionEmailSharingBody}),{ideaUrl:w,ideaTitle:E}),utmParams:_,buttonComponent:n})}return null}));t.default=h},JBro:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("q1tI")),o=n(a("w6e4")),r=n(a("T8eC")),l=n(a("jxG7")),d=n(a("kemx")),s=n(a("vOnD")),u=a("qGqp"),c=a("96Cm"),p=s.default.div.withConfig({displayName:"RightColumnDesktop__Container",componentId:"teggtx-0"})(["flex:0 0 ","px;width:","px;position:sticky;top:",";align-self:flex-start;"],u.rightColumnWidthDesktop,u.rightColumnWidthDesktop,(function(e){return e.insideModal?"30px":"110px"})),f=s.default.div.withConfig({displayName:"RightColumnDesktop__InnerContainer",componentId:"teggtx-1"})(["display:flex;flex-direction:column;"]),m=s.default.div.withConfig({displayName:"RightColumnDesktop__Box",componentId:"teggtx-2"})(["padding:20px;border-radius:",";background:",";margin-bottom:30px;"],(function(e){return e.theme.borderRadius}),c.colors.backgroundLightGrey),g=(0,s.default)(r.default).withConfig({displayName:"RightColumnDesktop__StyledVoting",componentId:"teggtx-3"})(["padding-bottom:23px;margin-bottom:23px;"]),h=(0,s.default)(d.default).withConfig({displayName:"RightColumnDesktop__StyledAssignBudgetControl",componentId:"teggtx-4"})(["padding-bottom:23px;margin-bottom:23px;border-bottom:solid 1px #ccc;"]),v=(0,s.default)(o.default).withConfig({displayName:"RightColumnDesktop__StyledMetaInformation",componentId:"teggtx-5"})(["margin-bottom:40px;"]),b=function(e){var t=e.ideaId,a=e.projectId,n=e.statusId,o=e.authorId,r=e.insideModal,d=e.className;return i.default.createElement(p,{insideModal:r,className:d||""},i.default.createElement(f,null,i.default.createElement(m,null,i.default.createElement(g,{ideaId:t,projectId:a}),i.default.createElement(h,{view:"ideaPage",ideaId:t,projectId:a}),i.default.createElement(l.default,{ideaId:t})),i.default.createElement(v,{ideaId:t,projectId:a,statusId:n,authorId:o})))};t.default=b},K5Dz:function(e,t,a){"use strict";a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,r=n(a("VkAN")),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=c(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),d=n(a("6L1S")),s=n(a("vOnD")),u=a("96Cm");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(c=function(e){return e?a:t})(e)}var p=s.default.div.withConfig({displayName:"IdeaProposedBudget__Container",componentId:"yjz91s-0"})(["color:",";font-size:","px;line-height:29px;font-weight:300;",""],(function(e){return e.theme.colorText}),(function(e){return e.theme.fontSizes.large}),u.media.smallerThanMinTablet(o||(o=(0,r.default)(["\n    font-size: ","px;\n  "])),(function(e){return e.theme.fontSizes.base}))),f=(0,l.memo)((function(e){var t=e.className,a=e.proposedBudget;return l.default.createElement(p,{className:t},l.default.createElement(d.default,{value:a}))}));t.default=f},"L0i+":function(e,t,a){"use strict";a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=s(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),r=n(a("XgTl")),l=a("Rw3A"),d=n(a("UQTo"));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(s=function(e){return e?a:t})(e)}var u=(0,o.memo)((function(e){var t=e.className,a=e.intl.formatMessage,n=(0,o.useCallback)((function(){var e=document.getElementById("submit-comment-anchor"),t=document.getElementById("submit-comment");e&&t&&(t.focus({preventScroll:!0}),setTimeout((function(){e.scrollIntoView({behavior:"smooth",block:"start"})}),200))}),[]);return o.default.createElement(r.default,{onClick:n,className:t,buttonText:a(d.default.commentCTA),iconName:"comments"})})),c=(0,l.injectIntl)(u);t.default=c},L2JE:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("q1tI")),o=n(a("2fl8")),r=a("Rw3A"),l=n(a("UQTo")),d=(0,r.injectIntl)((function(e){var t=e.onClick,a=e.ariaExpanded,n=e.intl.formatMessage;return i.default.createElement(o.default,{buttonStyle:"white",borderColor:"#ccc",icon:"share-arrow",onClick:t,iconAriaHidden:!0,ariaExpanded:a},n(l.default.share))}));t.default=d},Lj9J:function(e,t,a){"use strict";a("tkto"),a("pNMO"),a("TeQF"),a("5DmW"),a("FZtP"),a("27RR"),a("ENF9");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a("pVnL")),r=n(a("lSNA")),l=n(a("J4zp")),d=n(a("VkAN"));a("4mDm"),a("07d7"),a("5s+n"),a("PKPk"),a("3bBZ");var s,u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=b(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),c=a("KLnl"),p=a("iP56"),f=n(a("Yjdl")),m=n(a("I9mC")),g=a("04NW"),h=n(a("vOnD")),v=a("96Cm");function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(b=function(e){return e?a:t})(e)}function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var I=(0,u.lazy)((function(){return Promise.all([a.e(12),a.e(115),a.e(97)]).then(a.t.bind(null,"YkGb",7))})),M=h.default.div.withConfig({displayName:"Map__Container",componentId:"sc-1a1d6xp-0"})(["",";background:transparent;border:solid 1px #ccc;"],v.defaultCardStyle),w=h.default.div.withConfig({displayName:"Map__MapWrapper",componentId:"sc-1a1d6xp-1"})(["flex:1;display:flex;position:relative;"]),E=h.default.div.withConfig({displayName:"Map__BoxContainer",componentId:"sc-1a1d6xp-2"})(["display:flex;flex-direction:column;align-items:stretch;position:absolute;top:0;z-index:1001;background:#fff;width:100%;height:80%;max-height:550px;"]),S=h.default.button.withConfig({displayName:"Map__CloseButton",componentId:"sc-1a1d6xp-3"})(["width:28px;height:28px;position:absolute;top:10px;right:10px;cursor:pointer;margin:0;padding:0;display:flex;justify-content:center;align-items:center;z-index:2;border-radius:50%;border:solid 1px transparent;background:#fff;transition:all 100ms ease-out;outline:none !important;&:hover{background:#ececec;}&.focus-visible{",";}",""],v.defaultOutline,v.media.smallerThanMinTablet(s||(s=(0,d.default)(["\n    top: 4px;\n    right: 4px;\n  "])))),_=(0,h.default)(p.Icon).withConfig({displayName:"Map__CloseIcon",componentId:"sc-1a1d6xp-4"})(["width:12px;height:12px;fill:#000;"]),x=(0,u.memo)((function(e){var t=e.projectId,a=e.centerLatLng,n=e.zoomLevel,i=e.mapHeight,d=e.points,s=e.noMarkerClustering,p=e.zoomControlPosition,h=e.layersControlPosition,v=e.boxContent,b=e.onInit,x=e.onBoxClose,P=e.className,j=e.hideLegend,C=(0,m.default)(),O=(0,u.useState)(null),k=(0,l.default)(O,2),T=k[0],N=k[1],D=(0,u.useMemo)((function(){return(0,g.getCenter)(a,C)}),[a,C]),B=(0,u.useMemo)((function(){return(0,g.getZoomLevel)(n,C)}),[n,C]),R=(0,u.useMemo)((function(){return(0,g.getTileProvider)(C)}),[C]),A=(0,u.useMemo)((function(){return(0,g.getTileOptions)()}),[R]),W=(0,u.useMemo)((function(){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({points:d,noMarkerClustering:s,zoom:B,center:D,tileProvider:R,tileOptions:A,zoomControlPosition:p,layersControlPosition:h},T)}),[d,s,B,D,R,A,p,h,T]),L=(0,u.useCallback)((function(e){N(e)}),[]);return u.default.createElement(M,{className:P||""},u.default.createElement(w,null,!(0,c.isNilOrError)(v)&&u.default.createElement(E,null,u.default.createElement(S,{onClick:function(e){e.preventDefault(),null==x||x(e)}},u.default.createElement(_,{name:"close"})),v),u.default.createElement(u.Suspense,{fallback:!1},u.default.createElement(I,(0,o.default)({id:"mapid",className:"e2e-leafletmap",mapHeight:i,onInit:function(e){null==b||b(e)}},W))),u.default.createElement(f.default,{id:"app.components.Map.leafletConfig",projectId:t,onLeafletConfigChange:L,centerLatLng:a,zoomLevel:n,points:d})),!j&&u.default.createElement(f.default,{id:"app.components.Map.Legend",projectId:t}))}));t.default=x},MqdI:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("q1tI")),o=n(a("XgTl")),r=a("Rw3A"),l=n(a("UQTo")),d=(0,r.injectIntl)((function(e){var t=e.intl.formatMessage,a=e.onClick,n=e.ariaExpanded;return i.default.createElement(o.default,{iconName:"share-arrow",buttonText:t(l.default.share),onClick:a,ariaExpanded:n})}));t.default=d},N465:function(e,t,a){"use strict";a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("FZtP"),a("2B1R");var o=n(a("J4zp")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=S(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),l=a("KLnl"),d=a("iP56"),s=n(a("1Tat")),u=n(a("Q/be")),c=n(a("j2uE")),p=n(a("zadc")),f=n(a("JvRQ")),m=n(a("TVXG")),g=n(a("x3zm")),h=n(a("xZgK")),v=n(a("PGV/")),b=a("WdeD"),y=a("DbO4"),I=n(a("CdTl")),M=a("Rw3A"),w=n(a("vOnD")),E=a("96Cm");function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(S=function(e){return e?a:t})(e)}var _=w.default.div.withConfig({displayName:"IdeasList__Container",componentId:"uxe37u-0"})(["width:100%;display:flex;flex-direction:column;align-items:stretch;"]),x=w.default.div.withConfig({displayName:"IdeasList__Loading",componentId:"uxe37u-1"})(["width:100%;flex:1;display:flex;align-items:center;justify-content:center;"]),P=w.default.div.withConfig({displayName:"IdeasList__Header",componentId:"uxe37u-2"})(["display:flex;flex-direction:column;align-items:stretch;padding:20px;border-bottom:solid 1px #ccc;"]),j=w.default.div.withConfig({displayName:"IdeasList__DropdownFilters",componentId:"uxe37u-3"})(["display:flex;align-items:center;margin-bottom:20px;"]),C=(0,w.default)(c.default).withConfig({displayName:"IdeasList__StyledSearchInput",componentId:"uxe37u-4"})(["width:100%;"]),O=w.default.div.withConfig({displayName:"IdeasList__IdeaMapCards",componentId:"uxe37u-5"})(["flex:1;display:flex;flex-direction:column;align-items:stretch;padding-top:20px;overflow-x:hidden;overflow-y:auto;"]),k=(0,w.default)(p.default).withConfig({displayName:"IdeasList__StyledIdeaMapCard",componentId:"uxe37u-6"})(["margin-left:20px;margin-right:20px;"]),T=w.default.div.withConfig({displayName:"IdeasList__EmptyContainer",componentId:"uxe37u-7"})(["width:100%;flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;margin-top:100px;margin-bottom:100px;"]),N=(0,w.default)(d.Icon).withConfig({displayName:"IdeasList__IdeaIcon",componentId:"uxe37u-8"})(["flex:0 0 26px;width:26px;height:26px;fill:",";"],E.colors.label),D=w.default.div.withConfig({displayName:"IdeasList__EmptyMessage",componentId:"uxe37u-9"})(["padding-left:50px;padding-right:50px;margin-top:12px;margin-bottom:30px;"]),B=w.default.div.withConfig({displayName:"IdeasList__EmptyMessageLine",componentId:"uxe37u-10"})(["color:",";font-size:","px;font-weight:400;line-height:normal;text-align:center;"],E.colors.label,E.fontSizes.base),R=(0,r.memo)((function(e){var t,a,n,i,c=e.projectIds,p=e.projectId,w=e.phaseId,E=e.className,S=(0,f.default)(),R=(0,v.default)({projectId:p}),A=(0,g.default)({projectId:p}),W=(0,h.default)(w||null),L=(0,r.useState)(null),q=(0,o.default)(L,2),F=q[0],z=q[1],U=(0,r.useState)([]),V=(0,o.default)(U,2),J=V[0],H=V[1],K=(0,r.useState)((null==A?void 0:A.attributes.ideas_order)||y.ideaDefaultSortMethodFallback),$=(0,o.default)(K,2),Z=$[0],Y=$[1],Q=(0,m.default)({projectIds:c,phaseId:w,sort:Z,search:F,topics:J}),G=F&&F.length>0||J.length>0,X=null===W&&!(0,l.isNilOrError)(A)&&"budgeting"===A.attributes.participation_method,ee=!(0,l.isNilOrError)(W)&&"budgeting"===W.attributes.participation_method,te=(0,l.isNilOrError)(W)?X:ee,ae=(t="topic_ids",!(!(0,l.isNilOrError)(R)&&!(0,l.isNilOrError)(S))||"hidden"!==(null===(a=R.ui_schema_multiloc)||void 0===a||null===(n=a[S])||void 0===n||null===(i=n[t])||void 0===i?void 0:i["ui:widget"]));(0,r.useEffect)((function(){var e=[b.ideasSearch$.subscribe((function(e){z(e)})),b.ideasSort$.subscribe((function(e){Y(e)})),b.ideasTopics$.subscribe((function(e){H(e)}))];return function(){e.forEach((function(e){return e.unsubscribe()}))}}),[]);return r.default.createElement(_,{className:E||""},r.default.createElement(P,null,r.default.createElement(j,null,r.default.createElement(u.default,{onChange:function(e){(0,b.setIdeasSort)(e)},alignment:"left",defaultSortingMethod:(null==A?void 0:A.attributes.ideas_order)||y.ideaDefaultSortMethodFallback}),ae&&r.default.createElement(s.default,{onChange:function(e){(0,b.setIdeasTopics)(e)},alignment:"left",projectId:(0,l.isNilOrError)(A)?null:A.id})),r.default.createElement(C,{onChange:function(e){(0,b.setIdeasSearch)(e||null)}})),r.default.createElement(O,null,void 0===Q&&r.default.createElement(x,null,r.default.createElement(d.Spinner,null)),Q&&Q.length>0&&Q.map((function(e){return r.default.createElement(k,{ideaMarker:e,key:e.id,isPBIdea:te})})),(null===Q||0===(null==Q?void 0:Q.length))&&r.default.createElement(T,null,r.default.createElement(N,{ariaHidden:!0,name:"idea"}),r.default.createElement(D,null,r.default.createElement(B,null,r.default.createElement(M.FormattedMessage,G?I.default.noFilteredResults:I.default.noResults))))))}));t.default=R},N6Fc:function(e,t,a){"use strict";a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("yWo2");var o,r,l,d=n(a("J4zp")),s=n(a("VkAN")),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=S(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),c=n(a("vOnD")),p=a("ufqH"),f=n(a("38aM")),m=a("KLnl"),g=a("T89o"),h=a("iP56"),v=n(a("1hFV")),b=n(a("Lj9J")),y=a("akep"),I=a("04NW"),M=a("Rw3A"),w=n(a("AJij")),E=a("96Cm");function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(S=function(e){return e?a:t})(e)}var _=c.default.div.withConfig({displayName:"Location__Container",componentId:"sc-1hw9j5c-0"})(["display:flex;align-items:center;",""],(0,E.isRtl)(o||(o=(0,s.default)(["\n    flex-direction: row-reverse;\n  "])))),x=(0,c.default)(h.Icon).withConfig({displayName:"Location__StyledIcon",componentId:"sc-1hw9j5c-1"})(["flex:0 0 16px;width:16px;fill:",";margin-right:8px;",""],h.colors.label,(0,E.isRtl)(r||(r=(0,s.default)(["\n    margin-right: 0;\n    margin-left: 8px;\n  "])))),P=c.default.button.withConfig({displayName:"Location__OpenMapModalButton",componentId:"sc-1hw9j5c-2"})(["color:",";font-size:","px;line-height:22px;text-decoration:underline;text-align:left;margin:0;padding:0;border:none;appearance:none;cursor:pointer;&:hover{color:",";}"],h.colors.label,E.fontSizes.small,(0,p.darken)(.2,h.colors.label)),j=c.default.div.withConfig({displayName:"Location__Address",componentId:"sc-1hw9j5c-3"})(["width:calc(100% - 35px);overflow-wrap:break-word;word-wrap:break-word;word-break:break-word;"]),C=c.default.div.withConfig({displayName:"Location__MapContainer",componentId:"sc-1hw9j5c-4"})(["padding:30px;",""],E.media.smallerThanMinTablet(l||(l=(0,s.default)(["\n    padding: 20px;\n  "])))),O=(0,u.memo)((function(e){var t,a,n,i=e.intl.formatMessage,o=e.projectId,r=e.ideaId,l=e.compact,s=e.className,c=(0,u.useState)(!1),p=(0,d.default)(c,2),h=p[0],M=p[1],E=(0,f.default)({ideaId:r}),S=!(0,m.isNilOrError)(E)&&(null===(t=E.attributes)||void 0===t?void 0:t.location_point_geojson)||null,O=(null==S||null===(a=S.coordinates)||void 0===a?void 0:a[1])||null,k=(null==S||null===(n=S.coordinates)||void 0===n?void 0:n[0])||null,T=(0,m.isNilOrError)(E)?null:(0,I.getAddressOrFallbackDMS)(E.attributes.location_description,E.attributes.location_point_geojson),N=(0,u.useMemo)((function(){return S?[S]:void 0}),[S]),D=(0,u.useMemo)((function(){if(!(0,g.isNil)(O)&&!(0,g.isNil)(k))return[O,k]}),[O,k]);return T&&N?u.default.createElement(y.Item,{className:s||"",compact:l},u.default.createElement(y.Header,null,i(w.default.location)),u.default.createElement(_,null,u.default.createElement(x,{name:"position",ariaHidden:!0}),u.default.createElement(P,{id:"e2e-map-popup",onClick:function(){M(!0)}},T)),u.default.createElement(v.default,{opened:h,close:function(){M(!1)},header:u.default.createElement(j,null,T),width:1150},u.default.createElement(C,null,u.default.createElement(b.default,{projectId:o,points:N,centerLatLng:D,zoomLevel:15})))):null})),k=(0,M.injectIntl)(O);t.default=k},"NHb+":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("sMBO");var i,o=n(a("VkAN")),r=n(a("q1tI")),l=n(a("Awes")),d=a("kb9m"),s=n(a("vOnD")),u=a("96Cm"),c=a("ufqH"),p=a("iP56"),f=n(a("54aW")),m=n(a("Vc6n")),g=n(a("aWpN")),h=n(a("8cOi")),v=n(a("ea/E")),b=a("KuRP"),y=s.default.div.withConfig({displayName:"SharingDropdownContent__Container",componentId:"sc-1vpdjs7-0"})(["display:flex;flex-direction:column;.sharingButton{display:flex;align-items:center;padding:10px 12px;border-radius:",";cursor:pointer;transition:all 100ms ease-out;text-align:left;color:",";font-size:","px;&:hover{background-color:",";}&.messenger{","}}"],(function(e){return e.theme.borderRadius}),u.colors.label,u.fontSizes.base,(0,c.darken)(.06,"white"),u.media.biggerThanMaxTablet(i||(i=(0,o.default)(["\n        display: none;\n      "])))),I=(0,s.default)(p.Icon).withConfig({displayName:"SharingDropdownContent__FacebookIcon",componentId:"sc-1vpdjs7-1"})(["width:22px;height:18px;margin-right:10px;fill:#3c5a99;"]),M=(0,s.default)(p.Icon).withConfig({displayName:"SharingDropdownContent__MessengerIcon",componentId:"sc-1vpdjs7-2"})(["width:22px;height:18px;margin-right:10px;fill:rgba(0,120,255,1);"]),w=(0,s.default)(p.Icon).withConfig({displayName:"SharingDropdownContent__WhatsAppIcon",componentId:"sc-1vpdjs7-3"})(["width:22px;height:22px;fill:#23b43a;margin-right:10px;"]),E=(0,s.default)(p.Icon).withConfig({displayName:"SharingDropdownContent__TwitterIcon",componentId:"sc-1vpdjs7-4"})(["width:22px;height:17px;fill:#1da1f2;margin-right:10px;"]),S=(0,s.default)(p.Icon).withConfig({displayName:"SharingDropdownContent__EmailIcon",componentId:"sc-1vpdjs7-5"})(["margin-right:10px;width:22px;height:17px;fill:",";"],u.colors.secondaryText),_=function(e){var t=e.id,a=e.url,n=e.className,i=e.utmParams,o=e.emailBody,s=e.emailSubject,u=e.twitterMessage,c=e.whatsAppMessage,p=function(e){return(0,d.getUrlWithUtm)(e,a,i)},_=function(e){return function(){(0,b.trackEventByName)(l.default.shareButtonClicked.name,{network:e})}},x=r.default.createElement(f.default,{url:p("facebook"),className:"sharingButton facebook",onClick:_("facebook")},r.default.createElement(I,{ariaHidden:!0,name:"facebook"}),r.default.createElement("span",{"aria-hidden":!0},"Facebook")),P=r.default.createElement(g.default,{className:"sharingButton messenger",onClick:_("messenger"),url:p("messenger")},r.default.createElement(M,{ariaHidden:!0,name:"messenger"}),r.default.createElement("span",{"aria-hidden":!0},"Messenger")),j=r.default.createElement(h.default,{className:"sharingButton whatsapp",onClick:_("whatsapp"),url:p("whatsapp"),whatsAppMessage:c},r.default.createElement(w,{ariaHidden:!0,name:"whatsapp"}),r.default.createElement("span",{"aria-hidden":!0},"WhatsApp")),C=r.default.createElement(m.default,{twitterMessage:u,url:p("twitter"),className:"sharingButton twitter",onClick:_("twitter")},r.default.createElement(E,{ariaHidden:!0,name:"twitter"}),r.default.createElement("span",{"aria-hidden":!0},"Twitter")),O=r.default.createElement(v.default,{className:"sharingButton email",onClick:_("email"),emailBody:o,emailSubject:s},r.default.createElement(S,{ariaHidden:!0,name:"email"}),r.default.createElement("span",{"aria-hidden":!0},"Email"));return r.default.createElement(y,{id:t||"",className:n||""},x,P,j,C,O)};t.default=_},NSTN:function(e,t,a){"use strict";a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a("J4zp")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=I(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),l=n(a("JUYq")),d=a("KLnl"),s=n(a("N4mL")),u=n(a("6yyz")),c=n(a("1hFV")),p=n(a("baeH")),f=n(a("uN1B")),m=n(a("x3zm")),g=a("Rw3A"),h=n(a("UQTo")),v=n(a("sL4G")),b=a("ngE2"),y=n(a("vOnD"));function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(I=function(e){return e?a:t})(e)}var M=y.default.div.withConfig({displayName:"IdeaMoreActions__Container",componentId:"ow1q2t-0"})([""]),w=y.default.div.withConfig({displayName:"IdeaMoreActions__MoreActionsMenuWrapper",componentId:"ow1q2t-1"})(["display:flex;align-items:center;"]),E=(0,r.memo)((function(e){var t=e.idea,a=e.className,n=e.projectId,i=e.intl.formatMessage,v=(0,r.useState)(!1),y=(0,o.default)(v,2),I=y[0],E=y[1],S=(0,f.default)(),_=(0,m.default)({projectId:n}),x=function(){E(!0)};if(!(0,d.isNilOrError)(S)&&!(0,d.isNilOrError)(t)&&!(0,d.isNilOrError)(_)){var P=t.id,j=_.attributes.process_type;return r.default.createElement(M,{className:a},r.default.createElement(w,null,r.default.createElement(s.default,{item:t,action:"edit",context:t},r.default.createElement(u.default,{ariaLabel:r.default.createElement(g.FormattedMessage,h.default.moreOptions),id:"e2e-idea-more-actions",actions:[{label:r.default.createElement(g.FormattedMessage,h.default.reportAsSpam),handler:x},{label:r.default.createElement(g.FormattedMessage,h.default.editPost),handler:function(){l.default.push("/ideas/edit/".concat(t.id))}},{label:r.default.createElement(g.FormattedMessage,h.default.deletePost),handler:function(e,t){return function(){var a={continuous:h.default.deleteInputConfirmation,timeline:h.default.deleteInputInTimelineConfirmation}[t];window.confirm(i(a))&&((0,b.deleteIdea)(e),l.default.goBack())}}(P,j)}]}),r.default.createElement(s.default.No,null,r.default.createElement(u.default,{id:"e2e-idea-more-actions",actions:[{label:r.default.createElement(g.FormattedMessage,h.default.reportAsSpam),handler:x}],ariaLabel:r.default.createElement(g.FormattedMessage,h.default.moreOptions)})))),r.default.createElement(c.default,{opened:I,close:function(){E(!1)},header:r.default.createElement(g.FormattedMessage,h.default.reportAsSpamModalTitle)},r.default.createElement(p.default,{resourceId:t.id,resourceType:"ideas"})))}return null})),S=(0,v.default)(E);t.default=S},OjWy:function(e,t,a){"use strict";a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("sMBO");var o,r=n(a("VkAN")),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=c(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),d=n(a("vOnD")),s=a("ufqH"),u=a("iP56");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(c=function(e){return e?a:t})(e)}var p=d.default.div.withConfig({displayName:"Attachment__Container",componentId:"sc-14m5gdd-0"})(["display:flex;align-items:center;"]),f=d.default.a.withConfig({displayName:"Attachment__FileDownloadLink",componentId:"sc-14m5gdd-1"})(["color:",";display:inline-block;margin-right:10px;hyphens:auto;text-decoration:underline;&:hover{color:",";text-decoration:underline;}",""],u.colors.label,(0,s.darken)(.2,u.colors.label),u.media.smallerThanMinTablet(o||(o=(0,r.default)(["\n    margin-right: 0;\n  "])))),m=(0,d.default)(u.Icon).withConfig({displayName:"Attachment__PaperclipIcon",componentId:"sc-14m5gdd-2"})(["width:12px;height:20px;fill:",";margin-right:10px;"],u.colors.label),g=(0,l.memo)((function(e){var t=e.className,a=e.file;return l.default.createElement(p,{className:t},l.default.createElement(m,{name:"paperclip",ariaHidden:!0}),l.default.createElement(f,{href:a.attributes.file.url,download:a.attributes.name,target:"_blank",rel:"noopener noreferrer"},a.attributes.name))}));t.default=g},OsxD:function(e,t,a){"use strict";a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,r,l=n(a("VkAN")),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),s=n(a("JUYq")),u=a("KLnl"),c=n(a("38aM")),p=n(a("x3zm")),f=n(a("uN1B")),m=n(a("CmRk")),g=a("iP56"),h=n(a("IAnr")),v=a("iH/W"),b=a("Rw3A"),y=n(a("mWLo")),I=n(a("vOnD")),M=a("96Cm"),w=a("ufqH");function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}var S=I.default.div.withConfig({displayName:"IdeaShowPageTopBar__Container",componentId:"sc-1mokc9a-0"})(["flex:0 0 ","px;height:","px;background-color:#fff;border-bottom:solid 1px ",";"],(function(e){return e.theme.mobileTopBarHeight}),(function(e){return e.theme.mobileTopBarHeight}),(0,w.lighten)(.3,M.colors.label)),_=I.default.div.withConfig({displayName:"IdeaShowPageTopBar__TopBarInner",componentId:"sc-1mokc9a-1"})(["height:100%;padding-left:15px;padding-right:15px;position:relative;display:flex;align-items:center;justify-content:space-between;",""],M.media.biggerThanMinTablet(o||(o=(0,l.default)(["\n    padding-left: 30px;\n    padding-right: 30px;\n  "])))),x=I.default.div.withConfig({displayName:"IdeaShowPageTopBar__Left",componentId:"sc-1mokc9a-2"})(["height:48px;align-items:center;display:flex;"]),P=I.default.div.withConfig({displayName:"IdeaShowPageTopBar__Right",componentId:"sc-1mokc9a-3"})([""]),j=(0,I.default)(g.Icon).withConfig({displayName:"IdeaShowPageTopBar__GoBackIcon",componentId:"sc-1mokc9a-4"})(["height:22px;fill:",";display:flex;align-items:center;justify-content:center;transition:fill 100ms ease-out;"],M.colors.label),C=I.default.button.withConfig({displayName:"IdeaShowPageTopBar__GoBackButton",componentId:"sc-1mokc9a-5"})(["width:45px;height:45px;display:flex;align-items:center;justify-content:center;padding:0;margin:0;margin-right:6px;margin-left:-2px;cursor:pointer;background:#fff;border-radius:50%;transition:all 100ms ease-out;border:solid 1px ",";&:hover{border-color:#000;","{fill:#000;}}"],(0,w.lighten)(.2,M.colors.label),j),O=I.default.div.withConfig({displayName:"IdeaShowPageTopBar__GoBackLabel",componentId:"sc-1mokc9a-6"})(["color:",";font-size:","px;font-weight:400;transition:fill 100ms ease-out;",""],M.colors.label,M.fontSizes.base,M.media.phone(r||(r=(0,l.default)(["\n    display: none;\n  "])))),k=(0,d.memo)((function(e){var t=e.ideaId,a=e.insideModal,n=e.goBackAction,i=e.className,o=(0,f.default)(),r=(0,c.default)({ideaId:t}),l=(0,p.default)({projectId:(0,u.isNilOrError)(r)?null:r.relationships.project.data.id}),g=(0,d.useCallback)((function(e){e.preventDefault(),n?null==n||n():a?h.default.emit("closeIdeaModal"):(0,u.isNilOrError)(l)?s.default.push("/"):s.default.push("/projects/".concat(l.attributes.slug))}),[a,l,n]),I=(0,d.useCallback)((function(e){if(!(0,u.isNilOrError)(o)&&!(0,u.isNilOrError)(l)&&"not_verified"===e){var t,a,n,i="continuous"===l.attributes.process_type?"project":"phase",r=(null===(t=l.relationships)||void 0===t||null===(a=t.current_phase)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.id)||l.id;r&&i&&(0,v.openVerificationModal)({context:{action:"voting_idea",id:r,type:i}})}}),[o,l]);return d.default.createElement(S,{className:i||""},d.default.createElement(_,null,d.default.createElement(x,null,d.default.createElement(C,{onClick:g},d.default.createElement(j,{ariaHidden:!0,name:"arrow-back"})),d.default.createElement(O,null,d.default.createElement(b.FormattedMessage,y.default.goBack))),d.default.createElement(P,null,d.default.createElement(m.default,{styleType:"border",size:"2",ideaId:t,disabledVoteClick:I}))))}));t.default=k},Qkax:function(e,t,a){"use strict";a("2B1R");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.setLeafletMapCenter=function(e){l.default.emit(i.leafletMapCenterChange,e)},t.setLeafletMapZoom=function(e){l.default.emit(i.leafletMapZoomChange,e)},t.setLeafletMapHoveredMarker=function(e){l.default.emit(i.leafletMapHoveredMarkerChange,e)},t.setLeafletMapSelectedMarker=function(e){l.default.emit(i.leafletMapSelectedMarkerChange,e)},t.setLeafletMapClicked=function(e){l.default.emit(i.leafletMapClicked,e)},t.leafletMapClicked$=t.leafletMapSelectedMarker$=t.leafletMapHoveredMarker$=t.leafletMapZoom$=t.leafletMapCenter$=void 0;var i,o=a("ahDk"),r=a("T89o"),l=n(a("IAnr"));!function(e){e.leafletMapCenterChange="leafletMapCenterChange",e.leafletMapZoomChange="leafletMapZoomChange",e.leafletMapLatLngZoomChange="leafletMapLatLngZoomChange",e.leafletMapHoveredMarkerChange="leafletMapHoveredMarkerChange",e.leafletMapSelectedMarkerChange="leafletMapSelectedMarkerChange",e.leafletMapClicked="leafletMapClicked"}(i||(i={}));var d=l.default.observeEvent(i.leafletMapCenterChange).pipe((0,o.map)((function(e){return e.eventValue})),(0,o.distinctUntilChanged)((function(e,t){return(0,r.isEqual)(e,t)})),(0,o.publishReplay)(1),(0,o.refCount)());t.leafletMapCenter$=d;var s=l.default.observeEvent(i.leafletMapZoomChange).pipe((0,o.map)((function(e){return e.eventValue})),(0,o.distinctUntilChanged)((function(e,t){return(0,r.isEqual)(e,t)})),(0,o.publishReplay)(1),(0,o.refCount)());t.leafletMapZoom$=s;var u=l.default.observeEvent(i.leafletMapHoveredMarkerChange).pipe((0,o.map)((function(e){return e.eventValue})),(0,o.distinctUntilChanged)((function(e,t){return(0,r.isEqual)(e,t)})));t.leafletMapHoveredMarker$=u;var c=l.default.observeEvent(i.leafletMapSelectedMarkerChange).pipe((0,o.map)((function(e){return e.eventValue})),(0,o.distinctUntilChanged)((function(e,t){return(0,r.isEqual)(e,t)})));t.leafletMapSelectedMarker$=c;var p=l.default.observeEvent(i.leafletMapClicked).pipe((0,o.map)((function(e){return e.eventValue})),(0,o.distinctUntilChanged)((function(e,t){return(0,r.isEqual)(e,t)})),(0,o.debounceTime)(50));t.leafletMapClicked$=p},"R+1c":function(e,t,a){"use strict";a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a("pVnL")),r=n(a("VkAN"));a("yWo2");var l,d,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=I(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),u=a("KLnl"),c=n(a("Qs0S")),p=n(a("FrK0")),f=a("akep"),m=a("Rw3A"),g=a("JRPe"),h=n(a("AJij")),v=n(a("38aM")),b=n(a("vOnD")),y=a("96Cm");function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(I=function(e){return e?a:t})(e)}var M=b.default.div.withConfig({displayName:"PostedBy__UserWrapper",componentId:"sc-13oghdd-0"})(["display:flex;align-items:center;color:",";font-size:","px;margin-top:-4px;margin-bottom:-6px;",""],y.colors.label,y.fontSizes.small,(0,y.isRtl)(l||(l=(0,r.default)(["\n    flex-direction: row-reverse;\n  "])))),w=(0,b.default)(c.default).withConfig({displayName:"PostedBy__StyledAvatar",componentId:"sc-13oghdd-1"})(["margin-right:5px;margin-left:-4px;",""],(0,y.isRtl)(d||(d=(0,r.default)(["\n    margin-right: -4px;\n    margin-left: 5px;\n  "])))),E=(0,s.memo)((function(e){var t=e.authorId,a=e.ideaId,n=e.compact,i=e.className,r=e.intl.formatMessage,l=(0,v.default)({ideaId:a});if(!(0,u.isNilOrError)(l)){var d=l.attributes.published_at,c=s.default.createElement(p.default,{userId:t,isLinkToProfile:!0,underline:!0,color:y.colors.label,fontSize:y.fontSizes.small}),b=s.default.createElement(g.FormattedDate,{value:d,year:"numeric",month:"long",day:"numeric"});return s.default.createElement(f.Item,{className:"first ".concat(i||""),compact:n},s.default.createElement(f.Header,null,r(h.default.postedBy)),s.default.createElement(M,{className:"e2e-idea-author"},s.default.createElement(w,{userId:t,size:30,isLinkToProfile:!!t}),s.default.createElement(m.FormattedMessage,(0,o.default)({},h.default.byUserOnDate,{values:{userName:c,date:b}}))))}return null})),S=(0,m.injectIntl)(E);t.default=S},SeYT:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={postYourIdeaButtonClicked:"'Post your idea' button clicked",redirectedToIdeaFrom:"Redirected to idea form in repsonse to clicking 'Post your idea' button",verificationModalOpened:"Verification modal opened in response to clicking 'Post your idea' button",redirectedToSignUpForm:"Redirected to sign up form in response to clicking 'Post your idea' button",signUpInModalOpened:"Sign up/in modal opened in response to clicking 'Post your idea' button"}},T8eC:function(e,t,a){"use strict";a("SuFq"),a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a("pVnL")),r=n(a("lwsE")),l=n(a("W8MJ")),d=n(a("PJYZ")),s=n(a("7W2i")),u=n(a("a1gu")),c=n(a("Nsbk")),p=n(a("lSNA")),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=M(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),m=n(a("vOnD")),g=a("ifvJ"),h=a("KLnl"),v=n(a("1Zvv")),b=n(a("CmRk")),y=n(a("/R6m")),I=n(a("OL75"));function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(M=function(e){return e?a:t})(e)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,u.default)(this,a)}}var E=m.default.div.withConfig({displayName:"Voting__Container",componentId:"sc-1f8x4xn-0"})([""]),S=m.default.div.withConfig({displayName:"Voting__VoteControlWrapper",componentId:"sc-1f8x4xn-1"})(["&.error{display:none;}"]),_=function(e){(0,s.default)(a,e);var t=w(a);function a(e){var n;return(0,r.default)(this,a),n=t.call(this,e),(0,p.default)((0,d.default)(n),"disabledVoteClick",(function(){n.setState({error:"votingDisabled"})})),(0,p.default)((0,d.default)(n),"setVoteControlRef",(function(){n.setState({isContainerVisible:!0})})),n.state={error:null,isContainerVisible:!1},n}return(0,l.default)(a,[{key:"componentDidUpdate",value:function(e){this.props.ideaId!==e.ideaId&&this.setState({isContainerVisible:!1,error:null})}},{key:"render",value:function(){var e=this.props,t=e.className,a=e.ideaId,n=e.projectId,i=e.idea,o=this.state,r=o.isContainerVisible,l=o.error,d=(0,h.isNilOrError)(i)?null:i.attributes.action_descriptor.voting_idea;if(!a||!d)return null;var s=f.default.createElement(b.default,{styleType:"shadow",ideaId:a,disabledVoteClick:this.disabledVoteClick,setRef:this.setVoteControlRef,size:"4"});return r?f.default.createElement(E,{className:t||""},f.default.createElement(S,{className:l?"error":""},s),"votingDisabled"===l&&f.default.createElement(v.default,{icon:"lock-outlined"},f.default.createElement(y.default,{votingDescriptor:d,projectId:n}))):s}}]),a}(f.PureComponent),x=(0,g.adopt)({idea:function(e){var t=e.ideaId,a=e.render;return f.default.createElement(I.default,{ideaId:t},a)}});t.default=function(e){return f.default.createElement(x,e,(function(t){return f.default.createElement(_,(0,o.default)({},e,t))}))}},TVXG:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.phaseId,a=e.projectIds,n=e.sort,s=e.search,u=e.topics,c=(0,o.useState)(void 0),p=(0,i.default)(c,2),f=p[0],m=p[1];return(0,o.useEffect)((function(){m(void 0);var e=(0,l.ideasMarkersStream)({queryParameters:{"page[size]":2e3,location_required:!0,projects:a,phase:t,sort:n||d.ideaDefaultSortMethodFallback,search:s||void 0,topics:u||void 0}}).observable.subscribe((function(e){m((0,r.isNilOrError)(e)?null:e.data)}));return function(){return e.unsubscribe()}}),[t,a,n,s,u]),f};var i=n(a("J4zp"));a("ToJy"),a("rB9j"),a("hByQ");var o=a("q1tI"),r=a("KLnl"),l=a("ngE2"),d=a("DbO4")},UQTo:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,a("JRPe").defineMessages)({sharingModalTitle:{id:"app.containers.IdeasShow.sharingModalTitle",defaultMessage:"Thanks for submitting your idea!"},optionSharingModalTitle:{id:"app.containers.IdeasShow.optionSharingModalTitle",defaultMessage:"Your option has been successfully posted!"},projectSharingModalTitle:{id:"app.containers.IdeasShow.projectSharingModalTitle",defaultMessage:"Thanks for submitting your project!"},questionSharingModalTitle:{id:"app.containers.IdeasShow.questionSharingModalTitle",defaultMessage:"Your question has been successfully posted!"},issueSharingModalTitle:{id:"app.containers.IdeasShow.issueSharingModalTitle",defaultMessage:"Thanks for submitting your issue!"},contributionSharingModalTitle:{id:"app.containers.IdeasShow.contributionSharingModalTitle",defaultMessage:"Thanks for submitting your contribution!"},sharingModalSubtitle:{id:"app.containers.IdeasShow.sharingModalSubtitle",defaultMessage:"Reach more people and make your voice heard."},deletedUser:{id:"app.containers.IdeasShow.deletedUser",defaultMessage:"deleted user"},currentStatus:{id:"app.containers.IdeasShow.currentStatus",defaultMessage:"Current status"},moreOptions:{id:"app.components.IdeasShow.moreOptions",defaultMessage:"More options"},reportAsSpam:{id:"app.components.IdeasShow.reportAsSpam",defaultMessage:"Report as spam"},editPost:{id:"app.components.IdeasShow.editPost",defaultMessage:"Edit"},deletePost:{id:"app.components.IdeasShow.deletePost",defaultMessage:"Delete"},deleteInputConfirmation:{id:"app.components.IdeasShow.deleteInputConfirmation",defaultMessage:"Are you sure you want to delete this input? This action cannot be undone."},deleteInputInTimelineConfirmation:{id:"app.components.IdeasShow.deleteInputInTimelineConfirmation",defaultMessage:"Are you sure you want to delete this input? The input will be deleted from all project phases and cannot be recovered."},goBack:{id:"app.components.IdeasShow.goBack",defaultMessage:"Go back"},send:{id:"app.components.IdeasShow.send",defaultMessage:"Send"},skipSharing:{id:"app.components.IdeasShow.skipSharing",defaultMessage:"Skip it, I'll do it later"},reportAsSpamModalTitle:{id:"app.containers.IdeasShow.reportAsSpamModalTitle",defaultMessage:"Why do you want to report this as spam?"},byUserOnDate:{id:"app.components.IdeasShow.byUserOnDate",defaultMessage:"By {userName} on {date}"},createdTimeAgo:{id:"app.components.IdeasShow.createdTimeAgo",defaultMessage:"Created {timeAgo}"},or:{id:"app.components.IdeasShow.or",defaultMessage:"or"},proposedBudgetTitle:{id:"app.components.IdeasShow.proposedBudgetTitle",defaultMessage:"Proposed budget"},bodyTitle:{id:"app.components.IdeasShow.bodyTitle",defaultMessage:"Description"},ideaTwitterMessage:{id:"app.containers.IdeasShow.ideaTwitterMessage",defaultMessage:"Support this idea: {postTitle}"},optionTwitterMessage:{id:"app.containers.IdeasShow.optionTwitterMessage",defaultMessage:"Support this option: {postTitle}"},issueTwitterMessage:{id:"app.containers.IdeasShow.issueTwitterMessage",defaultMessage:"Support this issue: {postTitle}"},projectTwitterMessage:{id:"app.containers.IdeasShow.projectTwitterMessage",defaultMessage:"Support this project: {postTitle}"},questionTwitterMessage:{id:"app.containers.IdeasShow.questionTwitterMessage",defaultMessage:"Join the discussion: {postTitle}"},contributionTwitterMessage:{id:"app.containers.IdeasShow.contributionTwitterMessage",defaultMessage:"Support this contribution: {postTitle}"},ideaWhatsAppMessage:{id:"app.containers.IdeasShow.ideaWhatsAppMessage",defaultMessage:"Support this idea: {postTitle}"},optionWhatsAppMessage:{id:"app.containers.IdeasShow.optionWhatsAppMessage",defaultMessage:"Support this option: {postTitle}"},contributionWhatsAppMessage:{id:"app.containers.IdeasShow.contributionWhatsAppMessage",defaultMessage:"Support this contribution: {postTitle}"},projectWhatsAppMessage:{id:"app.containers.IdeasShow.projectWhatsAppMessage",defaultMessage:"Support this project: {postTitle}"},questionWhatsAppMessage:{id:"app.containers.IdeasShow.questionWhatsAppMessage",defaultMessage:"Join the discussion: {postTitle}"},issueWhatsAppMessage:{id:"app.containers.IdeasShow.ideasWhatsAppMessage",defaultMessage:"Support this issue: {postTitle}"},ideaEmailSharingSubject:{id:"app.containers.IdeasShow.ideaEmailSharingSubject",defaultMessage:"Support this idea: {ideaTitle}"},ideaEmailSharingBody:{id:"app.containers.IdeasShow.ideaEmailSharingBody",defaultMessage:"Support this idea '{ideaTitle}' at {ideaUrl}!"},optionEmailSharingSubject:{id:"app.containers.IdeasShow.optionEmailSharingSubject",defaultMessage:"Support this option: {ideaTitle}"},optionEmailSharingBody:{id:"app.containers.IdeasShow.optionEmailSharingBody",defaultMessage:"Support this option '{ideaTitle}' at {ideaUrl}!"},contributionEmailSharingSubject:{id:"app.containers.IdeasShow.contributionEmailSharingSubject",defaultMessage:"Support this contribution: {ideaTitle}"},contributionEmailSharingBody:{id:"app.containers.IdeasShow.contributionEmailSharingBody",defaultMessage:"Support this contribution '{ideaTitle}' at {ideaUrl}!"},questionEmailSharingSubject:{id:"app.containers.IdeasShow.questionEmailSharingSubject",defaultMessage:"Join the discussion: {ideaTitle}"},questionEmailSharingBody:{id:"app.containers.IdeasShow.questionEmailSharingBody",defaultMessage:"Join the discussion about this question '{ideaTitle}' at {ideaUrl}!"},issueEmailSharingSubject:{id:"app.containers.IdeasShow.issueEmailSharingSubject",defaultMessage:"Support this issue: {ideaTitle}"},issueEmailSharingBody:{id:"app.containers.IdeasShow.issueEmailSharingBody",defaultMessage:"Support this issue '{ideaTitle}' at {ideaUrl}!"},projectEmailSharingSubject:{id:"app.containers.IdeasShow.projectEmailSharingSubject",defaultMessage:"Support this project: {ideaTitle}"},projectEmailSharingBody:{id:"app.containers.IdeasShow.projectEmailSharingBody",defaultMessage:"Support this project '{ideaTitle}' at {ideaUrl}!"},share:{id:"app.containers.IdeasShow.share",defaultMessage:"Share"},commentCTA:{id:"app.containers.IdeasShow.commentCTA",defaultMessage:"Add a comment"}});t.default=n},Uj4o:function(e,t,a){"use strict";a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("yWo2"),a("2B1R"),a("TeQF");var o,r,l=n(a("VkAN")),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=g(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),s=a("KLnl"),u=n(a("vfLC")),c=n(a("V3HD")),p=n(a("vOnD")),f=a("96Cm"),m=a("ufqH");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(g=function(e){return e?a:t})(e)}var h=p.default.div.withConfig({displayName:"Topics__Container",componentId:"tfo4q2-0"})(["display:flex;flex-wrap:wrap;",""],(0,f.isRtl)(o||(o=(0,l.default)(["\n    flex-direction: row-reverse;\n  "])))),v=p.default.div.withConfig({displayName:"Topics__Topic",componentId:"tfo4q2-1"})(["color:",";font-size:","px;font-weight:400;padding:6px 12px;margin-right:5px;margin-bottom:5px;border:1px solid ",";border-radius:",";",""],(function(e){return e.theme.colorSecondary}),f.fontSizes.small,(function(e){var t=e.theme;return(0,m.transparentize)(.7,t.colorSecondary)}),(function(e){return e.theme.borderRadius}),(0,f.isRtl)(r||(r=(0,l.default)(["\n    margin-right: 0;\n    margin-left: 5px;\n  "])))),b=(0,d.memo)((function(e){var t=e.topicIds,a=e.className,n=e.postType,i=e.localize,o=(0,u.default)({topicIds:t});return!(0,s.isNilOrError)(o)&&o.length>0?d.default.createElement(h,{id:"e2e-".concat(n,"-topics"),className:a},o.filter((function(e){return!(0,s.isNilOrError)(e)})).map((function(e){return d.default.createElement(v,{key:e.id,className:"e2e-".concat(n,"-topic")},i(e.attributes.title_multiloc))}))):null})),y=(0,c.default)(b);t.default=y},WdeD:function(e,t,a){"use strict";a("2B1R");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.setIdeaMapCardSelected=function(e){l.default.emit(i.ideaMapCardSelectedChange,e)},t.setIdeasSort=function(e){l.default.emit(i.ideasSortChange,e)},t.setIdeasSearch=function(e){l.default.emit(i.ideasSearchChange,e)},t.setIdeasTopics=function(e){l.default.emit(i.ideasTopicsChange,e)},t.ideasTopics$=t.ideasSearch$=t.ideasSort$=t.ideaMapCardSelected$=void 0;var i,o=a("ahDk"),r=a("T89o"),l=n(a("IAnr"));!function(e){e.ideaMapCardSelectedChange="ideaMapCardSelectedChange",e.ideasSearchChange="ideasSearchChange",e.ideasSortChange="ideasSortChange",e.ideasTopicsChange="ideasTopicsChange"}(i||(i={}));var d=l.default.observeEvent(i.ideaMapCardSelectedChange).pipe((0,o.map)((function(e){return e.eventValue})),(0,o.distinctUntilChanged)((function(e,t){return(0,r.isEqual)(e,t)})));t.ideaMapCardSelected$=d;var s=l.default.observeEvent(i.ideasSortChange).pipe((0,o.map)((function(e){return e.eventValue})),(0,o.distinctUntilChanged)((function(e,t){return(0,r.isEqual)(e,t)})),(0,o.publishReplay)(1),(0,o.refCount)());t.ideasSort$=s;var u=l.default.observeEvent(i.ideasSearchChange).pipe((0,o.map)((function(e){return e.eventValue})),(0,o.distinctUntilChanged)((function(e,t){return(0,r.isEqual)(e,t)})),(0,o.publishReplay)(1),(0,o.refCount)());t.ideasSearch$=u;var c=l.default.observeEvent(i.ideasTopicsChange).pipe((0,o.map)((function(e){return e.eventValue})),(0,o.distinctUntilChanged)((function(e,t){return(0,r.isEqual)(e,t)})),(0,o.publishReplay)(1),(0,o.refCount)());t.ideasTopics$=c},XgTl:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("q1tI")),o=n(a("2fl8")),r=function(e){var t=e.className,a=e.buttonText,n=e.iconName,r=e.onClick,l=e.ariaExpanded;return i.default.createElement(o.default,{className:t,icon:n,iconAriaHidden:!0,buttonStyle:"white",fontWeight:"500",onClick:r,ariaExpanded:l},a)};t.default=r},"YOT+":function(e,t,a){"use strict";a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a("pVnL"));a("ma9I"),a("sMBO");var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),l=a("ifvJ"),d=a("T89o"),s=a("qhky"),u=n(a("yiTP")),c=n(a("yYlr")),p=n(a("YLV/")),f=n(a("OL75")),m=n(a("M7uY")),g=n(a("PC5P")),h=n(a("CA+D")),v=n(a("V3HD")),b=a("N1C2"),y=a("KLnl"),I=a("1YJs"),M=n(a("wbnS")),w=n(a("+YyL"));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}var S=(0,r.memo)((function(e){var t=e.idea,a=e.locale,n=e.tenant,i=e.authUser,o=e.ideaImages,l=e.author,d=e.project,u=e.localize;if(!(0,y.isNilOrError)(a)&&!(0,y.isNilOrError)(n)&&!(0,y.isNilOrError)(t)){var c=t.attributes,p=c.title_multiloc,f=c.body_multiloc,m=n.attributes.settings.core.locales,g=u(p,50),h=(0,b.stripHtml)(u(f),250),v=!(0,y.isNilOrError)(o)&&o.length>0?o[0].attributes.versions.fb:null,E=window.location.href,S=!(0,y.isNilOrError)(d)&&u(d.attributes.title_multiloc,20),_=!(0,y.isNilOrError)(d)&&d.attributes.slug,x={"@type":"Article",image:v,headline:g,author:(0,y.isNilOrError)(l)?"anonymous":"".concat(l.attributes.first_name," ").concat(l.attributes.last_name),mainEntityOfPage:{"@type":"WebPage","@id":E},datePublished:t.attributes.published_at},P={"@context":"http://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,item:{"@id":n.attributes.host,name:n.attributes.name,image:n.attributes.logo?n.attributes.logo.large:null}},{"@type":"ListItem",position:2,item:{"@id":"".concat(n.attributes.host,"/projects"),name:"Projects"}},{"@type":"ListItem",position:2,item:{"@id":"".concat(n.attributes.host,"/projects/").concat(_),name:S}},{"@type":"ListItem",position:4,item:{"@id":"".concat(n.attributes.host,"/ideas"),name:"Ideas"}}]};return r.default.createElement(s.Helmet,null,r.default.createElement("title",null,"\n            ".concat(i&&i.attributes.unread_notifications?"(".concat(i.attributes.unread_notifications,") "):"","\n            ").concat(g)),(0,w.default)(),(0,M.default)(m),r.default.createElement("meta",{name:"title",content:g}),r.default.createElement("meta",{name:"description",content:h}),r.default.createElement("meta",{property:"og:type",content:"article"}),r.default.createElement("meta",{property:"og:title",content:g}),r.default.createElement("meta",{property:"ideaOgDescription",content:h}),v&&r.default.createElement("meta",{property:"og:image",content:v}),r.default.createElement("meta",{property:"og:image:width",content:"".concat(I.imageSizes.ideaImg.fb[0])}),r.default.createElement("meta",{property:"og:image:height",content:"".concat(I.imageSizes.ideaImg.fb[1])}),r.default.createElement("meta",{name:"twitter:title",content:g}),r.default.createElement("meta",{name:"twitter:description",content:h}),v&&r.default.createElement("meta",{name:"twitter:image",content:v}),r.default.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),v&&r.default.createElement("script",{type:"application/ld+json"},JSON.stringify(x)),r.default.createElement("script",{type:"application/ld+json"},JSON.stringify(P)),r.default.createElement("meta",{property:"og:url",content:E}),r.default.createElement("meta",{property:"og:locale",content:a}))}return null})),_=(0,l.adopt)({idea:function(e){var t=e.ideaId,a=e.render;return r.default.createElement(f.default,{ideaId:t},a)},ideaImages:function(e){var t=e.ideaId,a=e.render;return r.default.createElement(h.default,{ideaId:t},a)},project:function(e){var t=e.idea,a=e.render;return(0,y.isNilOrError)(t)?null:r.default.createElement(m.default,{projectId:t.relationships.project.data.id},a)},author:function(e){var t=e.idea,a=e.render;return r.default.createElement(g.default,{id:(0,d.get)(t,"relationships.author.data.id",null)},a)},locale:r.default.createElement(u.default,null),tenant:r.default.createElement(c.default,null),authUser:r.default.createElement(p.default,null)}),x=(0,v.default)(S);t.default=function(e){return r.default.createElement(_,e,(function(t){return r.default.createElement(x,(0,o.default)({},e,t))}))}},aJX8:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,a("JRPe").defineMessages)({twitterMessage:{id:"app.components.PostComponents.SharingModalContent.twitterMessage",defaultMessage:"Vote for {postTitle} on"},ideaEmailSharingSubjectText:{id:"app.components.PostComponents.SharingModalContent.ideaEmailSharingSubjectText",defaultMessage:"Support my idea: {postTitle}"},optionEmailSharingSubject:{id:"app.components.PostComponents.SharingModalContent.optionEmailSharingSubject",defaultMessage:"Support my proposed option: {postTitle}."},issueEmailSharingSubject:{id:"app.components.PostComponents.SharingModalContent.issueEmailSharingSubject",defaultMessage:"I just posted an issue: {postTitle}."},questionEmailSharingSubject:{id:"app.components.PostComponents.SharingModalContent.questionEmailSharingSubject",defaultMessage:"Join the discussion: {postTitle}."},contributionEmailSharingSubject:{id:"app.components.PostComponents.SharingModalContent.contributionEmailSharingSubject",defaultMessage:"Support my contribution: {postTitle}."},projectEmailSharingSubject:{id:"app.components.PostComponents.SharingModalContent.projectEmailSharingSubject",defaultMessage:"Support my project: {postTitle}."},initiativeEmailSharingSubject:{id:"app.components.PostComponents.SharingModalContent.initiativeEmailSharingSubject",defaultMessage:"Support my initiative: {postTitle}."},ideaEmailSharingBody:{id:"app.components.PostComponents.SharingModalContent.ideaEmailSharingBody",defaultMessage:"Support my idea '{postTitle}' at {postUrl}!"},issueEmailSharingBody:{id:"app.components.PostComponents.SharingModalContent.issueEmailSharingBody",defaultMessage:"I posted an issue '{postTitle}' at {postUrl}!"},optionEmailSharingBody:{id:"app.components.PostComponents.SharingModalContent.optionEmailSharingBody",defaultMessage:"Support my proposed option '{postTitle}' at {postUrl}!"},contributionEmailSharingBody:{id:"app.components.PostComponents.SharingModalContent.contributionEmailSharingBody",defaultMessage:"Support my contribution '{postTitle}' at {postUrl}!"},questionEmailSharingModalContentBody:{id:"app.components.PostComponents.SharingModalContent.questionEmailSharingModalContentBody",defaultMessage:"Join the discussion about this question '{postTitle}' at {postUrl}!"},projectEmailSharingBody:{id:"app.components.PostComponents.SharingModalContent.projectEmailSharingBody",defaultMessage:"Support my project '{postTitle}' at {postUrl}!"},initiativeEmailSharingBody:{id:"app.components.PostComponents.SharingModalContent.initiativeEmailSharingBody",defaultMessage:"What do you think of this initiative? Vote on it and share the discussion at {postUrl} to make your voice heard!"},ideaWhatsAppMessage:{id:"app.components.PostComponents.SharingModalContent.ideaWhatsAppMessage",defaultMessage:"Support my idea: {postTitle}."},optionWhatsAppMessage:{id:"app.components.PostComponents.SharingModalContent.optionWhatsAppMessage",defaultMessage:"Support my option: {postTitle}."},questionWhatsAppMessage:{id:"app.components.PostComponents.SharingModalContent.questionWhatsAppMessage",defaultMessage:"Join the discussion: {postTitle}."},contributionWhatsAppMessage:{id:"app.components.PostComponents.SharingModalContent.contributionWhatsAppMessage",defaultMessage:"Support my contribution: {postTitle}."},projectWhatsAppMessage:{id:"app.components.PostComponents.SharingModalContent.projectWhatsAppMessage",defaultMessage:"Support my project: {postTitle}."},issueWhatsAppMessage:{id:"app.components.PostComponents.SharingModalContent.issueWhatsAppMessage",defaultMessage:"I just posted an issue: {postTitle}."},whatsAppMessageProposal:{id:"app.components.PostComponents.SharingModalContent.whatsAppMessageProposal",defaultMessage:"I just posted a proposal for {orgName}: {postTitle}"}});t.default=n},bPnU:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={sharingModalOpened:{name:"initiativeflow social sharing modal opened"}}},"fM+I":function(e,t,a){"use strict";a("tkto"),a("pNMO"),a("TeQF"),a("5DmW"),a("FZtP"),a("27RR");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.initiativeByIdStream=m,t.initiativeBySlugStream=function(e){return s.default.get({apiEndpoint:"".concat(d.API_PATH,"/initiatives/by_slug/").concat(e)})},t.initiativesStream=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return s.default.get(f({apiEndpoint:"".concat(d.API_PATH,"/initiatives")},e))},t.initiativesFilterCountsStream=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return s.default.get(f(f({apiEndpoint:"".concat(d.API_PATH,"/initiatives/filter_counts")},e),{},{cacheStream:!1}))},t.initiativesMarkersStream=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return s.default.get(f(f({apiEndpoint:"".concat(d.API_PATH,"/initiatives/as_markers")},e),{},{cacheStream:!1}))},t.addInitiative=function(e){return g.apply(this,arguments)},t.updateInitiative=function(e,t){return h.apply(this,arguments)},t.deleteInitiative=function(e){return v.apply(this,arguments)},t.initiativeAllowedTransitionsStream=function(e){return s.default.get({apiEndpoint:"".concat(d.API_PATH,"/initiatives/").concat(e,"/allowed_transitions")})},t.initiativeActivities=function(e){return s.default.get({apiEndpoint:"".concat(d.API_PATH,"/initiatives/").concat(e,"/activities")})},t.getInitiativeActionDescriptors=function(){return s.default.get({apiEndpoint:"".concat(d.API_PATH,"/action_descriptors/initiatives")})};var i=n(a("o0o1")),o=n(a("J4zp")),r=n(a("yXPU")),l=n(a("lSNA"));a("ma9I"),a("4mDm"),a("07d7"),a("5s+n"),a("PKPk"),a("3bBZ");var d=a("p0gT"),s=n(a("1Kqg")),u=a("ahDk"),c=a("T89o");function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function m(e){return s.default.get({apiEndpoint:"".concat(d.API_PATH,"/initiatives/").concat(e)})}function g(){return(g=(0,r.default)(i.default.mark((function e(t){var a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.default.add("".concat(d.API_PATH,"/initiatives"),{initiative:t});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=(0,r.default)(i.default.mark((function e(t,a){var n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.default.update("".concat(d.API_PATH,"/initiatives/").concat(t),t,{initiative:a});case 2:return n=e.sent,s.default.fetchAllWith({apiEndpoint:["".concat(d.API_PATH,"/stats/initiatives_count"),"".concat(d.API_PATH,"/initiatives"),"".concat(d.API_PATH,"/initiatives/").concat(t,"/activities")]}),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return(v=(0,r.default)(i.default.mark((function e(t){var a,n,r,l,p;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([m(t).observable.pipe((0,u.first)()).toPromise(),s.default.delete("".concat(d.API_PATH,"/initiatives/").concat(t),t)]);case 2:return a=e.sent,n=(0,o.default)(a,2),r=n[0],l=n[1],p=(0,c.get)(r,"relationships.author.data.id",!1),s.default.fetchAllWith({apiEndpoint:p?["".concat(d.API_PATH,"/users/").concat(p,"/initiatives_count")]:[]}),e.abrupt("return",l);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},jxG7:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("q1tI")),o=n(a("vOnD")),r=n(a("L0i+")),l=n(a("IEAL")),d=n(a("MqdI")),s=a("KLnl"),u=n(a("38aM")),c=o.default.div.withConfig({displayName:"Buttons__Container",componentId:"sc-6amf6j-0"})([""]),p=(0,o.default)(r.default).withConfig({displayName:"Buttons__StyledGoToCommentsButton",componentId:"sc-6amf6j-1"})(["margin-bottom:10px;"]),f=function(e){var t=e.ideaId,a=e.className,n=(0,u.default)({ideaId:t});if(!(0,s.isNilOrError)(n)){var o=n.attributes.action_descriptor.commenting_idea.enabled;return i.default.createElement(c,{className:a||""},o&&i.default.createElement(p,null),i.default.createElement(l.default,{ideaId:t,buttonComponent:i.default.createElement(d.default,null)}))}return null};t.default=f},mWLo:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,a("JRPe").defineMessages)({noResultsFound:{id:"app.components.IdeasShowPage.noResultsFound",defaultMessage:"No results found."},goBack:{id:"app.components.IdeasShowPage.goBack",defaultMessage:"Go back"},goBackToList:{id:"app.components.IdeasShowPage.goBackToList",defaultMessage:"Go back to the list"}});t.default=n},mz5S:function(e,t,a){"use strict";a("tkto"),a("pNMO"),a("TeQF"),a("5DmW"),a("27RR"),a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("vxnP"),a("FZtP"),a("fbCW");var o,r,l,d,s,u,c=n(a("lSNA")),p=n(a("J4zp")),f=n(a("VkAN")),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=W(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),g=a("KLnl"),h=a("4R65"),v=a("iTG7"),b=n(a("Lj9J")),y=n(a("4L33")),I=n(a("Gj50")),M=n(a("zadc")),w=a("iP56"),E=n(a("uN1B")),S=n(a("x3zm")),_=n(a("xZgK")),x=n(a("TVXG")),P=n(a("K/LT")),j=a("DbO4"),C=a("xTvc"),O=a("WdeD"),k=a("Qkax"),T=n(a("wQs4")),N=n(a("CdTl")),D=n(a("vOnD")),B=a("+9pX"),R=a("1Fye"),A=a("96Cm");function W(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(W=function(e){return e?a:t})(e)}function L(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?L(Object(a),!0).forEach((function(t){(0,c.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var F="83vh",z="78vh",U=D.default.div.withConfig({displayName:"IdeasMap__Container",componentId:"sc-16wbn0c-0"})([""]),V=D.default.div.withConfig({displayName:"IdeasMap__InnerContainer",componentId:"sc-16wbn0c-1"})(["width:",";margin-left:",";position:relative;@media screen and (min-width:2000px){width:1800px;margin-left:-","px;}> .create-idea-wrapper{display:none;}.activeArea{position:absolute;top:0px;bottom:0px;right:0px;left:500px;}& .pbAssignBudgetControlContainer{padding:20px;background:",";}"," ",""],(function(e){return e.leftMargin?"calc(100vw - ".concat(140,"px)"):"100%"}),(function(e){var t=e.leftMargin;return t?"-".concat(t,"px"):"auto"}),(1800-R.maxPageWidth)/2,A.colors.backgroundLightGrey,A.media.biggerThanMaxTablet(o||(o=(0,f.default)(["\n    & .leaflet-control-zoom {\n      margin-top: "," !important;\n      margin-right: 14px !important;\n    }\n\n    & .leaflet-control-layers {\n      margin-right: 15px !important;\n    }\n  "])),(function(e){return e.isPostingEnabled?"78px":"25px"})),A.media.smallerThanMaxTablet(r||(r=(0,f.default)(["\n    .activeArea {\n      left: 0px;\n    }\n  "])))),J=D.default.div.withConfig({displayName:"IdeasMap__InfoOverlay",componentId:"sc-16wbn0c-2"})(["position:absolute;top:25px;right:15px;z-index:900;",""],A.media.smallerThanMaxTablet(l||(l=(0,f.default)(["\n    width: calc(100% - 40px);\n    top: calc("," - 72px);\n    right: 20px;\n  "])),z)),H=D.default.div.withConfig({displayName:"IdeasMap__InfoOverlayInner",componentId:"sc-16wbn0c-3"})(["display:flex;align-items:center;padding:14px 17px;border-radius:3px;background:#e1f0f4;box-shadow:0px 0px 5px 0px rgba(0,0,0,0.1);position:relative;"]),K=(0,D.default)(w.Icon).withConfig({displayName:"IdeasMap__InfoOverlayIcon",componentId:"sc-16wbn0c-4"})(["fill:",";flex:0 0 18px;width:18px;height:18px;margin-right:8px;"],A.colors.clBlueDarker),$=D.default.text.withConfig({displayName:"IdeasMap__InfoOverlayText",componentId:"sc-16wbn0c-5"})(["color:",";font-size:","px;font-weight:500;line-height:normal;"],A.colors.clBlueDarker,A.fontSizes.base),Z=D.default.div.withConfig({displayName:"IdeasMap__IdeaButtonWrapper",componentId:"sc-16wbn0c-6"})([""]),Y=(0,D.default)(I.default).withConfig({displayName:"IdeasMap__StyledDesktopIdeaMapOverlay",componentId:"sc-16wbn0c-7"})(["width:390px;height:calc("," - 50px);position:absolute;display:flex;top:25px;left:25px;z-index:900;",""],F,A.media.smallerThanMaxTablet(d||(d=(0,f.default)(["\n    display: none;\n  "])))),Q=(0,D.default)(M.default).withConfig({displayName:"IdeasMap__StyledIdeaMapCard",componentId:"sc-16wbn0c-8"})(["width:calc(100% - 24px);position:absolute;top:calc("," - 130px - 24px);left:12px;right:12px;z-index:1001;pointer-events:",";transition:opacity 300ms cubic-bezier(0.19,1,0.22,1),top 300ms cubic-bezier(0.19,1,0.22,1);&.animation-enter{opacity:0;top:calc("," - 130px);&.animation-enter-active{opacity:1;top:calc("," - 130px - 24px);}}"],z,(function(e){return e.isClickable?"auto":"none"}),z,z),G=function(e,t){var a=Math.round((e-t)/2)-70;return a>0?a:null},X=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),ee=(null===(s=document)||void 0===s||null===(u=s.getElementById("e2e-ideas-container"))||void 0===u?void 0:u.offsetWidth)||(X<R.maxPageWidth?X-40:R.maxPageWidth),te=G(X,ee),ae=(0,m.memo)((function(e){var t=e.projectIds,a=e.phaseId,n=e.className,i=(0,E.default)(),o=(0,S.default)({projectId:null==t?void 0:t[0]}),r=(0,_.default)(a||null),l=(0,P.default)().windowWidth,d=l<=A.viewportWidths.largeTablet,s=null===r&&!(0,g.isNilOrError)(o)&&"budgeting"===o.attributes.participation_method,u=!(0,g.isNilOrError)(r)&&"budgeting"===r.attributes.participation_method,c=(0,g.isNilOrError)(r)?s:u,f=(0,m.useRef)(null),I=(0,m.useRef)(null),M=(0,m.useState)(null),w=(0,p.default)(M,2),D=w[0],R=w[1],W=(0,m.useState)(null),L=(0,p.default)(W,2),X=L[0],ae=L[1],ne=(0,m.useState)(null),ie=(0,p.default)(ne,2),oe=ie[0],re=ie[1],le=(0,m.useState)([]),de=(0,p.default)(le,2),se=de[0],ue=de[1],ce=(0,m.useState)(ee),pe=(0,p.default)(ce,2),fe=pe[0],me=pe[1],ge=(0,m.useState)(te),he=(0,p.default)(ge,2),ve=he[0],be=he[1],ye=(0,m.useState)(!1),Ie=(0,p.default)(ye,2),Me=Ie[0],we=Ie[1],Ee=(null==o?void 0:o.attributes.ideas_order)||j.ideaDefaultSortMethodFallback,Se=[],_e=(0,m.useState)(null),xe=(0,p.default)(_e,2),Pe=xe[0],je=xe[1],Ce=(0,m.useState)(Se),Oe=(0,p.default)(Ce,2),ke=Oe[0],Te=Oe[1],Ne=(0,x.default)({projectIds:t,phaseId:a,search:Pe,topics:ke}),De=(0,C.getIdeaPostingRules)({project:o,phase:r,authUser:i}),Be=De.show&&!0===De.enabled;(0,m.useLayoutEffect)((function(){var e,t,a=null===(e=f.current)||void 0===e||null===(t=e.getBoundingClientRect().toJSON())||void 0===t?void 0:t.width;a&&me(a)})),(0,m.useEffect)((function(){var e=[O.ideaMapCardSelected$.subscribe((function(e){(0,k.setLeafletMapSelectedMarker)(e),re(e)})),k.leafletMapSelectedMarker$.subscribe((function(e){(0,O.setIdeaMapCardSelected)(e),re((function(t){return we(!1),setTimeout((function(){we(!0)}),200),e}))})),k.leafletMapClicked$.subscribe((function(e){ae(e)})),O.ideasSearch$.subscribe((function(e){je(e)})),O.ideasTopics$.subscribe((function(e){Te(e)}))];return(0,O.setIdeasSearch)(null),(0,O.setIdeasSort)(Ee),(0,O.setIdeasTopics)(Se),function(){e.forEach((function(e){return e.unsubscribe()}))}}),[o,r]),(0,m.useEffect)((function(){D&&X&&Be&&null!=I&&I.current&&(0,h.popup)({closeButton:!0}).setLatLng(X).setContent(I.current).openOn(D)}),[D,X]),(0,m.useEffect)((function(){be(G(l,fe))}),[l,fe,d]),(0,m.useEffect)((function(){var e=[];!(0,g.isNilOrError)(Ne)&&Ne.length>0&&Ne.forEach((function(t){t.attributes&&t.attributes.location_point_geojson&&e.push(q(q({},t.attributes.location_point_geojson),{},{id:t.id}))})),ue(e)}),[Ne]);var Re=(0,m.useMemo)((function(){return null==Ne?void 0:Ne.find((function(e){return e.id===oe}))}),[Ne,oe]);return(0,g.isNilOrError)(o)?null:m.default.createElement(U,{ref:f,className:n||""},m.default.createElement(V,{leftMargin:ve,isPostingEnabled:Be},Be&&m.default.createElement(J,null,m.default.createElement(H,null,m.default.createElement(K,{name:"info"}),m.default.createElement($,null,m.default.createElement(T.default,d?N.default.tapOnMapToAdd:N.default.clickOnMapToAdd)))),m.default.createElement(B.ScreenReaderOnly,null,m.default.createElement(T.default,N.default.a11y_mapTitle)),d&&m.default.createElement(v.CSSTransition,{classNames:"animation",in:!!Re,timeout:300},m.default.createElement(Q,{ideaMarker:Re,isPBIdea:c,onClose:function(){(0,O.setIdeaMapCardSelected)(null),(0,k.setLeafletMapSelectedMarker)(null),(0,k.setLeafletMapHoveredMarker)(null)},isClickable:Me})),m.default.createElement(b.default,{onInit:function(e){R(e)},projectId:o.id,points:se,mapHeight:d?z:F,noMarkerClustering:!1,zoomControlPosition:d?"topleft":"topright",layersControlPosition:d?"topright":"bottomright"}),t&&!(0,g.isNilOrError)(o)&&m.default.createElement(Y,{projectIds:t,projectId:null==o?void 0:o.id,phaseId:a}),m.default.createElement(Z,{className:"create-idea-wrapper",ref:I},m.default.createElement(y.default,{projectId:o.id,phaseId:a||void 0,participationContextType:a?"phase":"project",latLng:X,inMap:!0}))))}));t.default=ae},"oHY+":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={clickUpvote:{name:"Idea upvote clicked"},clickDownvote:{name:"Idea downvote clicked"},sharingModalOpened:{name:"ideaflow social sharing modal opened"},clickTranslateIdeaButton:{name:"Clicked button to translate idea title/description"},clickGoBackToOriginalIdeaCopyButton:{name:"Clicked button to go back to original, non-translated idea title/description"}}},oRVF:function(e,t,a){"use strict";a("SuFq");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("FZtP");var i=n(a("lwsE")),o=n(a("W8MJ")),r=n(a("PJYZ")),l=n(a("7W2i")),d=n(a("a1gu")),s=n(a("Nsbk")),u=n(a("lSNA")),c=n(a("q1tI")),p=a("DtyJ"),f=a("ahDk"),m=n(a("aTp4")),g=a("iamO"),h=a("KLnl");function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,s.default)(e);if(t){var i=(0,s.default)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,d.default)(this,a)}}var b=function(e){(0,l.default)(a,e);var t=v(a);function a(e){var n;return(0,i.default)(this,a),n=t.call(this,e),(0,u.default)((0,r.default)(n),"inputProps$",void 0),(0,u.default)((0,r.default)(n),"subscriptions",void 0),n.state={permission:void 0},n}return(0,o.default)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.item,n=t.action,i=t.context;this.inputProps$=new p.BehaviorSubject({item:a,action:n,context:i}),this.subscriptions=[this.inputProps$.pipe((0,f.distinctUntilChanged)((function(e,t){return(0,m.default)(e,t)})),(0,f.switchMap)((function(e){var t=e.item,a=e.action,n=e.context;return(0,h.isNilOrError)(t)?(0,p.of)(!1):(0,g.hasPermission)({item:t,action:a,context:n})}))).subscribe((function(t){return e.setState({permission:t})}))]}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.item,a=e.action,n=e.context;this.inputProps$.next({item:t,action:a,context:n})}},{key:"componentWillUnmount",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"render",value:function(){return(0,this.props.children)(this.state.permission)}}]),a}(c.default.Component);t.default=b},qGqp:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pageContentMaxWidth=t.rightColumnWidthTablet=t.columnsGapTablet=t.rightColumnWidthDesktop=t.columnsGapDesktop=void 0;t.columnsGapDesktop=90;t.rightColumnWidthDesktop=350;t.columnsGapTablet=60;t.rightColumnWidthTablet=300;t.pageContentMaxWidth=1210},w6e4:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("ma9I");var i=n(a("q1tI")),o=n(a("vOnD")),r=a("KLnl"),l=n(a("zFVC")),d=n(a("D51O")),s=n(a("N6Fc")),u=n(a("xP9l")),c=n(a("AM3C")),p=n(a("R+1c")),f=n(a("JvRQ")),m=n(a("PGV/")),g=n(a("Yjdl")),h=o.default.div.withConfig({displayName:"MetaInformation__Container",componentId:"sc-17wbhqz-0"})(["width:100%;display:flex;flex-direction:column;border-top:solid 1px #ccc;border-bottom:solid 1px #ccc;"]),v=function(e){var t=e.ideaId,a=e.projectId,n=e.statusId,o=e.authorId,v=e.compact,b=e.className,y=(0,f.default)(),I=(0,m.default)({projectId:a});if(!(0,r.isNilOrError)(y)&&!(0,r.isNilOrError)(I)){var M=(0,l.default)("topic_ids",I,y),w=(0,l.default)("location",I,y),E=(0,l.default)("attachments",I,y);return i.default.createElement(h,{className:"".concat(b||""," ").concat(v?"compact":"")},i.default.createElement(p.default,{authorId:o,ideaId:t,compact:v}),i.default.createElement(d.default,{statusId:n,compact:v}),M&&i.default.createElement(c.default,{ideaId:t,compact:v}),w&&i.default.createElement(s.default,{projectId:a,ideaId:t,compact:v}),E&&i.default.createElement(u.default,{ideaId:t,compact:v}),i.default.createElement(g.default,{id:"app.containers.IdeasShow.MetaInformation",ideaId:t,compact:v}))}return null};t.default=v},xP9l:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2B1R");var i=n(a("q1tI")),o=n(a("vOnD")),r=n(a("OjWy")),l=n(a("dQ9y")),d=a("akep"),s=a("KLnl"),u=a("Rw3A"),c=n(a("AJij")),p=o.default.div.withConfig({displayName:"Attachments__Container",componentId:"sc-5mb91c-0"})([""]),f=(0,o.default)(r.default).withConfig({displayName:"Attachments__StyledAttachment",componentId:"sc-5mb91c-1"})(["margin-bottom:",";"],(function(e){return e.isLastItem?"0":"10px"})),m=(0,u.injectIntl)((function(e){var t=e.ideaId,a=e.compact,n=e.className,o=e.intl.formatMessage,r=(0,l.default)({resourceType:"idea",resourceId:t});return!(0,s.isNilOrError)(r)&&r.length>0?i.default.createElement(d.Item,{className:n||"",compact:a},i.default.createElement(d.Header,null,o(c.default.attachments)),i.default.createElement(p,{className:n},Array.isArray(r)&&r.map((function(e,t){return i.default.createElement(f,{isLastItem:t===r.length-1,file:e,key:e.id})})))):null}));t.default=m},xTvc:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSurveyTakingRules=t.getPollTakingRules=t.getIdeaPostingRules=void 0;var n=a("di2/"),i=a("KLnl"),o=a("18VM");t.getIdeaPostingRules=function(e){var t=e.project,a=e.phase,r=e.authUser,l=!(0,i.isNilOrError)(r);if(!(0,i.isNilOrError)(t)){var d=t.attributes.action_descriptor.posting_idea,s=d.disabled_reason,u=d.future_enabled,c=d.enabled;if(!(0,i.isNilOrError)(r)&&((0,o.isAdmin)({data:r})||(0,o.isProjectModerator)({data:r})))return{show:!0,enabled:!0,disabledReason:null,action:null};if(!(0,i.isNilOrError)(a)){if("ideation"!==a.attributes.participation_method||!a.attributes.posting_enabled||"not_ideation"===s)return{show:!1,enabled:null,disabledReason:null,action:null};if("present"!==(0,n.pastPresentOrFuture)([a.attributes.start_at,a.attributes.end_at]))return{show:!0,enabled:!1,disabledReason:"notActivePhase",action:null}}if((0,i.isNilOrError)(a)&&("ideation"!==t.attributes.participation_method||!t.attributes.posting_enabled||"not_ideation"===s))return{show:!1,enabled:null,disabledReason:null,action:null};if(c)return{show:!0,enabled:!0,disabledReason:null,action:null};var p=function(e,t,a){switch(e){case"not_verified":return t?{disabledReason:null,action:"verify"}:{disabledReason:null,action:"sign_in_up_and_verify"};case"not_signed_in":return{disabledReason:null,action:"sign_in_up"};case"project_inactive":return{disabledReason:a?"futureEnabled":"projectInactive",action:null};case"posting_disabled":return{disabledReason:"postingDisabled",action:null};case"not_permitted":return{disabledReason:t?"notPermitted":"maybeNotPermitted",action:null};default:return{disabledReason:"notPermitted",action:null}}}(s,l,u),f=p.disabledReason,m=p.action;return m?{action:m,disabledReason:null,show:!0,enabled:"maybe"}:{disabledReason:f,action:null,show:!0,enabled:!1}}return{show:!0,enabled:!0,disabledReason:null,action:null}};var r=function(e,t){switch(e){case"project_inactive":return"projectInactive";case"already_responded":return"alreadyResponded";case"not_verified":return t?"notVerified":"maybeNotVerified";case"not_permitted":return t?"notPermitted":"maybeNotPermitted";case"not_signed_in":return"maybeNotPermitted";default:return"notPermitted"}};t.getPollTakingRules=function(e){var t=e.project,a=e.phaseContext,i=e.signedIn,o=t.attributes.action_descriptor.taking_poll,l=o.enabled,d=o.disabled_reason;return a&&a&&"present"!==(0,n.pastPresentOrFuture)([a.attributes.start_at,a.attributes.end_at])?{enabled:!1,disabledReason:"notActivePhase",show:!0,action:null}:l?{enabled:l,disabledReason:null,show:!0,action:null}:{enabled:!1,disabledReason:r(d,!!i),show:!0,action:null}};var l=function(e,t){switch(e){case"project_inactive":return"projectInactive";case"not_signed_in":return"maybeNotPermitted";case"not_verified":return t?"notVerified":"maybeNotVerified";case"not_permitted":return t?"notPermitted":"maybeNotPermitted";default:return"notPermitted"}};t.getSurveyTakingRules=function(e){var t=e.project,a=e.phaseContext,i=e.signedIn;if(a){var o="present"===(0,n.pastPresentOrFuture)([a.attributes.start_at,a.attributes.end_at]),r=t.attributes.action_descriptor.taking_survey,d=r.disabled_reason,s=r.enabled;return o?{enabled:s,disabledReason:s?null:l(d,!!i),action:null,show:!0}:{enabled:!1,disabledReason:"notActivePhase",action:null,show:!0}}var u=t.attributes.action_descriptor.taking_survey,c=u.enabled,p=u.disabled_reason;return{enabled:c,disabledReason:c?null:l(p,!!i),action:null,show:!0}}},xksB:function(e,t,a){"use strict";a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),r=n(a("JUYq")),l=a("iP56"),d=n(a("x3zm")),s=n(a("JvRQ")),u=n(a("PagR")),c=a("KLnl"),p=n(a("IAnr"));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}var m=(0,o.memo)((function(e){var t=e.projectId,a=e.className,n=e.insideModal,i=(0,d.default)({projectId:t}),f=(0,s.default)(),m=(0,u.default)();return(0,c.isNilOrError)(i)||(0,c.isNilOrError)(f)?null:o.default.createElement(l.Button,{className:a,id:"e2e-idea-other-link",locale:f,icon:"circle-arrow-left",onClick:function(e){e.preventDefault(),n?p.default.emit("closeIdeaModal"):(0,c.isNilOrError)(i)?r.default.push("/"):r.default.push("/projects/".concat(i.attributes.slug))},buttonStyle:"text",iconSize:"26px",padding:"0",textDecorationHover:"underline"},m(i.attributes.title_multiloc))}));t.default=m},ypSi:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,a("JRPe").defineMessages)({submitYourIdea:{id:"app.containers.IdeaButton.submitYourIdea",defaultMessage:"Submit your idea"},addAnOption:{id:"app.containers.IdeaButton.addAnOption",defaultMessage:"Add an option"},addAProject:{id:"app.containers.IdeaButton.addAProject",defaultMessage:"Add a project"},addAQuestion:{id:"app.containers.IdeaButton.addAQuestion",defaultMessage:"Add a question"},submitAnIssue:{id:"app.containers.IdeaButton.submitAnIssue",defaultMessage:"Submit an issue"},addAContribution:{id:"app.containers.IdeaButton.addAContribution",defaultMessage:"Add a contribution"},postingDisabled:{id:"app.containers.IdeaButton.postingDisabled",defaultMessage:"New submissions are not currently being accepted"},postingNoPermission:{id:"app.containers.IdeaButton.postingNoPermission",defaultMessage:"New submissions are only enabled for certain groups"},signInLinkText:{id:"app.containers.IdeaButton.signInLinkText",defaultMessage:"sign in"},signUpLinkText:{id:"app.containers.IdeaButton.signUpLinkText",defaultMessage:"sign up"},postingInactive:{id:"app.containers.IdeaButton.postingInactive",defaultMessage:"New submissions are not currently being accepted."},postingInNonActivePhases:{id:"app.containers.IdeaButton.postingInNonActivePhases",defaultMessage:"New submissions can only be added in active phases."},postingNotYetPossible:{id:"app.containers.IdeaButton.postingNotYetPossible",defaultMessage:"New submissions are not yet accepted here."},postingMayNotBePermitted:{id:"app.containers.IdeaButton.postingMayNotBePermitted",defaultMessage:"Please {signInLink} to the platform to see what actions you can take."},verificationLinkText:{id:"app.containers.IdeaButton.verificationLinkText",defaultMessage:"Verify your account now."}});t.default=n},zFVC:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){return"hidden"!==t.ui_schema_multiloc[a][e]["ui:widget"]}},zIn5:function(e,t,a){"use strict";a("2B1R"),a("SuFq"),a("tkto"),a("pNMO"),a("TeQF"),a("5DmW"),a("FZtP"),a("27RR");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("ToJy");var i=n(a("J4zp")),o=n(a("lwsE")),r=n(a("W8MJ")),l=n(a("PJYZ")),d=n(a("7W2i")),s=n(a("a1gu")),u=n(a("Nsbk")),c=n(a("lSNA")),p=n(a("q1tI")),f=a("DtyJ"),m=a("ahDk"),g=a("RLXT"),h=a("T89o"),v=a("KLnl");function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){(0,c.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,u.default)(e);if(t){var i=(0,u.default)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,s.default)(this,a)}}var M=function(e){(0,d.default)(a,e);var t=I(a);function a(e){var n;return(0,o.default)(this,a),n=t.call(this,e),(0,c.default)((0,l.default)(n),"postId$",void 0),(0,c.default)((0,l.default)(n),"postType$",void 0),(0,c.default)((0,l.default)(n),"sort$",void 0),(0,c.default)((0,l.default)(n),"loadMore$",void 0),(0,c.default)((0,l.default)(n),"subscription",void 0),(0,c.default)((0,l.default)(n),"initialQueryParameters",{pageNumber:0,pageSize:15,sort:"-new"}),(0,c.default)((0,l.default)(n),"loadMore",(function(){n.state.hasMore&&n.loadMore$.next(null)})),(0,c.default)((0,l.default)(n),"changeSort",(function(e){n.sort$.next(e)})),n.state={commentsList:void 0,loadingInital:!1,loadingMore:!1,hasMore:!0},n}return(0,r.default)(a,[{key:"componentDidMount",value:function(){var e=this;this.postId$=new f.BehaviorSubject(this.props.postId),this.postType$=new f.BehaviorSubject(this.props.postType),this.sort$=new f.BehaviorSubject(this.initialQueryParameters.sort),this.loadMore$=new f.BehaviorSubject(null),this.subscription=(0,f.combineLatest)(this.postId$.pipe((0,m.distinctUntilChanged)()),this.postType$.pipe((0,m.distinctUntilChanged)()),this.sort$.pipe((0,m.distinctUntilChanged)())).pipe((0,m.switchMap)((function(t){var a=(0,i.default)(t,3),n=a[0],o=a[1],r=a[2],l=void 0,d=e.initialQueryParameters.pageNumber,s=e.initialQueryParameters.pageSize,u=!0;return e.loadMore$.pipe((0,m.tap)((function(){return e.setState({loadingInital:0===d,loadingMore:d>0})})),(0,m.mergeScan)((function(){return d+=1,("idea"===o?g.commentsForIdeaStream:g.commentsForInitiativeStream)(n,{queryParameters:{sort:r,"page[number]":d,"page[size]":s}}).observable.pipe((0,m.map)((function(e){var t=(0,h.get)(e,"links.self"),a=(0,h.get)(e,"links.last");return u=(0,h.isString)(t)&&(0,h.isString)(a)&&t!==a,l=(0,v.isNilOrError)(l)?e.data:(0,h.unionBy)(l,e.data,"id"),null})))}),null),(0,m.map)((function(){return{pageNumber:d,commentsList:l,hasMore:u}})))}))).subscribe((function(t){var a=t.commentsList,n=t.hasMore;e.setState({commentsList:a,hasMore:n,loadingInital:!1,loadingMore:!1})}))}},{key:"componentDidUpdate",value:function(){this.postId$.next(this.props.postId)}},{key:"componentWillUnmount",value:function(){this.subscription.unsubscribe()}},{key:"render",value:function(){return(0,this.props.children)(y(y({},this.state),{},{onLoadMore:this.loadMore,onChangeSort:this.changeSort}))}}]),a}(p.default.Component);t.default=M},zadc:function(e,t,a){"use strict";a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a("J4zp"));a("yWo2"),a("FZtP"),a("ma9I");var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=y(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),l=a("KLnl"),d=n(a("2fl8")),s=a("iP56"),u=n(a("IAnr")),c=a("WdeD"),p=a("Qkax"),f=n(a("K/LT")),m=n(a("I9mC")),g=n(a("3A/8")),h=n(a("6L1S")),v=n(a("vOnD")),b=a("96Cm");function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(y=function(e){return e?a:t})(e)}var I=v.default.div.withConfig({displayName:"IdeaMapCard__Container",componentId:"h237an-0"})(["text-align:left;padding:20px;margin:0;margin-bottom:15px;cursor:pointer;position:relative;"," border:solid 1px #ccc;&:hover,&.hover{border-color:#000;}"],b.defaultCardStyle),M=v.default.div.withConfig({displayName:"IdeaMapCard__CloseButtonWrapper",componentId:"h237an-1"})(["display:flex;position:absolute;top:10px;right:10px;"]),w=(0,v.default)(d.default).withConfig({displayName:"IdeaMapCard__CloseButton",componentId:"h237an-2"})([""]),E=v.default.h3.withConfig({displayName:"IdeaMapCard__Title",componentId:"h237an-3"})(["height:46px;max-height:46px;color:",";font-size:18px;font-weight:600;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;line-height:23px;padding:0;margin:0;margin-bottom:20px;overflow:hidden;overflow-wrap:break-word;word-wrap:break-word;word-break:break-word;"],(function(e){return e.theme.colorText})),S=v.default.div.withConfig({displayName:"IdeaMapCard__Footer",componentId:"h237an-4"})(["display:flex;align-items:center;"]),_=v.default.div.withConfig({displayName:"IdeaMapCard__FooterItem",componentId:"h237an-5"})(["display:flex;align-items:center;margin-right:25px;"]),x=(0,v.default)(s.Icon).withConfig({displayName:"IdeaMapCard__MoneybagIcon",componentId:"h237an-6"})(["width:18px;height:18px;fill:",";margin-right:6px;"],b.colors.label),P=(0,v.default)(s.Icon).withConfig({displayName:"IdeaMapCard__DownvoteIcon",componentId:"h237an-7"})(["width:17px;height:17px;fill:",";margin-right:6px;"],b.colors.label),j=(0,v.default)(s.Icon).withConfig({displayName:"IdeaMapCard__UpvoteIcon",componentId:"h237an-8"})(["width:17px;height:17px;fill:",";margin-right:6px;margin-top:5px;"],b.colors.label),C=(0,v.default)(s.Icon).withConfig({displayName:"IdeaMapCard__CommentIcon",componentId:"h237an-9"})(["width:20px;height:20px;fill:",";margin-right:6px;margin-left:2px;"],b.colors.label),O=v.default.div.withConfig({displayName:"IdeaMapCard__FooterValue",componentId:"h237an-10"})(["color:",";font-size:","px;line-height:normal;font-weight:400;"],b.colors.label,b.fontSizes.small+1),k=(0,r.memo)((function(e){var t=e.ideaMarker,a=e.isPBIdea,n=e.onClose,i=e.className,d=(0,m.default)(),s=(0,f.default)().windowWidth<=b.viewportWidths.largeTablet,v=(0,r.useState)(!1),y=(0,o.default)(v,2),k=y[0],T=y[1];(0,r.useEffect)((function(){var e=[p.leafletMapHoveredMarker$.subscribe((function(e){s||T(e===t.id)}))];return function(){e.forEach((function(e){return e.unsubscribe()}))}}),[s]);var N=function(e){null==e||e.preventDefault(),(0,c.setIdeaMapCardSelected)(t.id),s&&u.default.emit("cardClick",{id:t.id,slug:t.attributes.slug,type:"idea"})};if(!(0,l.isNilOrError)(d)&&!(0,l.isNilOrError)(t)){var D,B=d.data.attributes.settings.core.currency,R=null===(D=t.attributes)||void 0===D?void 0:D.budget;return r.default.createElement(I,{className:"".concat(i||""," ").concat(k?"hover":""),onClick:N,onKeyPress:function(e){null==e||e.preventDefault(),"Enter"===(null==e?void 0:e.key)&&N(e)},onMouseEnter:function(){(0,p.setLeafletMapHoveredMarker)(t.id)},onMouseLeave:function(){(0,p.setLeafletMapHoveredMarker)(null)},role:"button",tabIndex:0},s&&r.default.createElement(M,null,r.default.createElement(w,{width:"26px",height:"26px",padding:"0px",buttonStyle:"secondary",icon:"close",iconSize:"12px",onClick:function(e){null==e||e.preventDefault(),null==n||n()}})),r.default.createElement(E,null,r.default.createElement(g.default,{value:t.attributes.title_multiloc})),r.default.createElement(S,null,a&&B&&R&&r.default.createElement(_,null,r.default.createElement(x,{name:"coin-stack"}),r.default.createElement(O,null,r.default.createElement(h.default,{value:R}))),!a&&r.default.createElement(r.default.Fragment,null,r.default.createElement(_,null,r.default.createElement(P,{name:"upvote"}),r.default.createElement(O,null,t.attributes.upvotes_count)),r.default.createElement(_,null,r.default.createElement(j,{name:"downvote"}),r.default.createElement(O,null,t.attributes.downvotes_count))),r.default.createElement(_,null,r.default.createElement(C,{name:"comments"}),r.default.createElement(O,null,t.attributes.comments_count))))}return null}));t.default=k}}]);
//# sourceMappingURL=69.3a87e3621c8ae9022e60.chunk.js.map