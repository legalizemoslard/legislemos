(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"6r2m":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.projectId,a=(0,r.useState)(void 0),n=(0,i.default)(a,2),s=n[0],u=n[1];return(0,r.useEffect)((function(){u(void 0);var e=(0,d.of)(null);t&&(e=(0,l.projectImagesStream)(t).observable);var a=e.subscribe((function(e){var t=(0,o.isNilOrError)(e)?e:e.data;u(t)}));return function(){return a.unsubscribe()}}),[t]),s};var i=n(a("J4zp")),r=a("q1tI"),o=a("KLnl"),d=a("DtyJ"),l=a("NIMF")},XLfp:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={clickOnProjectCard:"Click on project card",clickOnProjectCardCTA:"Click on project card CTA",clickOnProjectTitle:"Click on the project card title",clickOnAvatarBubbles:"Click on the project card avatar bubbles"}},k0LI:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,a("JRPe").defineMessages)({xIdeas:{id:"app.components.ProjectCard.xIdeas",defaultMessage:"{ideasCount, plural, no {# ideas} one {# idea} other {# ideas}}"},xOptions:{id:"app.components.ProjectCard.xOptions",defaultMessage:"{ideasCount, plural, no {# options} one {# option} other {# options}}"},xContributions:{id:"app.components.ProjectCard.xContributions",defaultMessage:"{ideasCount, plural, no {# contributions} one {# contribution} other {# contributions}}"},xProjects:{id:"app.components.ProjectCard.xProjects",defaultMessage:"{ideasCount, plural, no {# projects} one {# project} other {# projects}}"},xIssues:{id:"app.components.ProjectCard.xIssues",defaultMessage:"{ideasCount, plural, no {# issues} one {# issue} other {# issues}}"},xQuestions:{id:"app.components.ProjectCard.xQuestions",defaultMessage:"{ideasCount, plural, no {# questions} one {# question} other {# questions}}"},xComments:{id:"app.components.ProjectCard.xComments",defaultMessage:"{commentsCount, plural, no {# comments} one {# comments} other {# comments}}"},archived:{id:"app.components.ProjectCard.archived",defaultMessage:"Archived"},finished:{id:"app.components.ProjectCard.finished",defaultMessage:"Finished"},remaining:{id:"app.components.ProjectCard.remaining",defaultMessage:"{timeRemaining} remaining"},allocateYourBudget:{id:"app.components.ProjectCard.allocateYourBudget",defaultMessage:"Allocate your budget"},learnMore:{id:"app.components.ProjectCard.learnMore",defaultMessage:"Learn more"},takeTheSurvey:{id:"app.components.ProjectCard.takeTheSurvey",defaultMessage:"Take the survey"},takeThePoll:{id:"app.components.ProjectCard.takeThePoll",defaultMessage:"Take the poll"},submitYourIdea:{id:"app.components.ProjectCard.submitYourIdea",defaultMessage:"Submit your idea"},addYourOption:{id:"app.components.ProjectCard.addYourOption",defaultMessage:"Add your option"},submitYourProject:{id:"app.components.ProjectCard.submitYourProject",defaultMessage:"Submit your project"},joinDiscussion:{id:"app.components.ProjectCard.joinDiscussion",defaultMessage:"Join the discussion"},submitAnIssue:{id:"app.components.ProjectCard.submitAnIssue",defaultMessage:"Submit an issue"},contributeYourInput:{id:"app.components.ProjectCard.contributeYourInput",defaultMessage:"Contribute your input"},vote:{id:"app.components.ProjectCard.vote",defaultMessage:"Vote"},comment:{id:"app.components.ProjectCard.comment",defaultMessage:"Comment"},viewTheIdeas:{id:"app.components.ProjectCard.viewTheIdeas",defaultMessage:"View the ideas"},viewTheOptions:{id:"app.components.ProjectCard.viewTheOptions",defaultMessage:"View the options"},viewTheProjects:{id:"app.components.ProjectCard.viewTheProjects",defaultMessage:"View the projects"},viewTheQuestions:{id:"app.components.ProjectCard.viewTheQuestions",defaultMessage:"View the questions"},viewTheIssues:{id:"app.components.ProjectCard.viewTheIssues",defaultMessage:"View the issues"},viewTheContributions:{id:"app.components.ProjectCard.viewTheContributions",defaultMessage:"View the contributions"},a11y_projectTitle:{id:"app.components.ProjectCard.a11y_projectTitle",defaultMessage:"Project title: "},a11y_projectDescription:{id:"app.components.ProjectCard.a11y_projectDescription",defaultMessage:"Project description: "}});t.default=n},ptaw:function(e,t,a){"use strict";a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("yWo2"),a("2B1R"),a("ma9I"),a("oVuX"),a("TeQF");var r,o,d,l,s,u,c,p,f,m,g,h,b,x,v,j,C,_=n(a("pVnL")),w=n(a("J4zp")),P=n(a("VkAN")),y=te(a("q1tI")),k=a("KLnl"),I=a("T89o"),M=n(a("wd/R")),T=n(a("fadw")),E=n(a("puQj")),N=n(a("jWBj")),R=a("iP56"),O=n(a("py5Z")),S=n(a("9gHg")),F=a("uZm3"),z=a("DbO4"),D=a("xTvc"),L=n(a("x3zm")),A=n(a("xZgK")),B=n(a("dpb+")),V=n(a("uN1B")),Y=n(a("6r2m")),q=n(a("3A/8")),H=a("Rw3A"),J=n(a("sL4G")),K=n(a("k0LI")),Q=a("KuRP"),W=n(a("XLfp")),Z=te(a("vOnD")),X=a("96Cm"),U=a("+9pX"),G=a("ufqH"),$=a("9FT3");function ee(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(ee=function(e){return e?a:t})(e)}function te(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=ee(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var d=r?Object.getOwnPropertyDescriptor(e,o):null;d&&(d.get||d.set)?Object.defineProperty(n,o,d):n[o]=e[o]}return n.default=e,a&&a.set(e,n),n}var ae=(0,Z.default)(N.default).withConfig({displayName:"ProjectCard__Container",componentId:"sc-1g2kskm-0"})(["width:calc(33% - 12px);display:flex;flex-direction:column;margin-bottom:25px;position:relative;cursor:pointer;",";&.large{width:100%;min-height:450px;flex-direction:row;align-items:stretch;justify-content:space-between;"," ","}&.medium{width:calc(50% - 13px);min-height:580px;padding-left:30px;padding-right:30px;","}&.small{min-height:540px;&.hideDescriptionPreview{min-height:490px;}&.threecolumns{"," ","}","}&.medium{padding-top:20px;padding-bottom:30px;}&.small{padding-top:18px;padding-bottom:25px;}&.desktop{",";}",""],X.defaultCardStyle,(0,X.isRtl)(r||(r=(0,P.default)(["\n        flex-direction: row-reverse;\n    "]))),X.media.smallerThanMinTablet(o||(o=(0,P.default)(["\n      width: 100%;\n    "]))),X.media.smallerThanMinTablet(d||(d=(0,P.default)(["\n      width: 100%;\n    "]))),X.media.smallerThanMaxTablet(l||(l=(0,P.default)(["\n        width: calc(50% - 13px);\n      "]))),X.media.smallerThanMinTablet(s||(s=(0,P.default)(["\n        width: 100%;\n        min-height: 460px;\n      "]))),X.media.smallerThanMinTablet(u||(u=(0,P.default)(["\n      min-height: 400px;\n    "]))),X.defaultCardHoverStyle,X.media.smallerThanMinTablet(c||(c=(0,P.default)(["\n    width: 100%;\n    min-height: 460px;\n  "])))),ne=Z.default.div.withConfig({displayName:"ProjectCard__ProjectImageContainer",componentId:"sc-1g2kskm-1"})(["width:100%;height:254px;flex-grow:0;flex-shrink:0;flex-basis:254px;display:flex;margin-right:10px;overflow:hidden;position:relative;&.large{width:50%;height:100%;flex-basis:50%;border-top-left-radius:4px;border-bottom-left-radius:4px;}&.small{height:224px;flex-basis:224px;}"]),ie=Z.default.div.withConfig({displayName:"ProjectCard__ProjectImagePlaceholder",componentId:"sc-1g2kskm-2"})(["flex:1;display:flex;align-items:center;justify-content:center;background:",";"],X.colors.placeholderBg),re=(0,Z.default)(R.Icon).withConfig({displayName:"ProjectCard__ProjectImagePlaceholderIcon",componentId:"sc-1g2kskm-3"})(["height:45px;fill:#fff;"]),oe=(0,Z.default)(O.default).withConfig({displayName:"ProjectCard__ProjectImage",componentId:"sc-1g2kskm-4"})(["width:100%;height:100%;position:absolute;top:0;left:0;"]),de=Z.default.div.withConfig({displayName:"ProjectCard__ProjectContent",componentId:"sc-1g2kskm-5"})(["flex-grow:1;display:flex;flex-direction:column;align-items:stretch;&.large{padding-top:18px;padding-bottom:35px;padding-left:68px;padding-right:32px;","}&.small{padding-left:30px;padding-right:30px;",";}",""],X.media.smallerThanMaxTablet(p||(p=(0,P.default)(["\n      padding-left: 20px;\n      padding-right: 20px;\n    "]))),X.media.smallerThanMinTablet(f||(f=(0,P.default)(["\n      padding-left: 20px;\n      padding-right: 20px;\n    "]))),(0,X.isRtl)(m||(m=(0,P.default)(["\n    align-items: flex-end;\n\n    &.large {\n        padding-right: 68px;\n        padding-left: 32px;\n    }\n  "])))),le=Z.default.div.withConfig({displayName:"ProjectCard__ContentHeader",componentId:"sc-1g2kskm-6"})(["display:flex;align-items:center;justify-content:space-between;&.noContent{","}&.hasRightContent.noLeftContent{justify-content:flex-end;}&.hasContent{margin-bottom:","px;&.large{margin-bottom:0px;padding-bottom:","px;border-bottom:solid 1px #e0e0e0;}}&.small{padding-left:30px;padding-right:30px;"," ","}"],X.media.biggerThanMinTablet(g||(g=(0,P.default)(["\n      height: ","px;\n    "])),52),13,13,X.media.smallerThanMinTablet(h||(h=(0,P.default)(["\n      padding-left: 20px;\n      padding-right: 20px;\n    "]))),X.media.smallPhone(b||(b=(0,P.default)(["\n      padding-left: 10px;\n      padding-right: 10px;\n    "])))),se=Z.default.div.withConfig({displayName:"ProjectCard__ContentHeaderLeft",componentId:"sc-1g2kskm-7"})(["min-height:","px;flex-grow:0;flex-shrink:1;flex-basis:140px;margin-right:15px;"],39),ue=Z.default.div.withConfig({displayName:"ProjectCard__ContentHeaderRight",componentId:"sc-1g2kskm-8"})(["min-height:","px;"],39),ce=Z.default.div.withConfig({displayName:"ProjectCard__Countdown",componentId:"sc-1g2kskm-9"})(["margin-top:4px;"]),pe=Z.default.div.withConfig({displayName:"ProjectCard__TimeRemaining",componentId:"sc-1g2kskm-10"})(["color:",";font-size:","px;font-weight:400;margin-bottom:7px;"],(function(e){return e.theme.colorText}),X.fontSizes.small),fe=Z.default.div.withConfig({displayName:"ProjectCard__ProgressBar",componentId:"sc-1g2kskm-11"})(["width:100%;max-width:130px;height:5px;border-radius:",";background:#d6dade;"],(function(e){return e.theme.borderRadius})),me=Z.default.div.withConfig({displayName:"ProjectCard__ProgressBarOverlay",componentId:"sc-1g2kskm-12"})(["width:0px;height:100%;border-radius:",";background:",";transition:width 1000ms cubic-bezier(0.19,1,0.22,1);will-change:width;&.visible{width:","%;}"],(function(e){return e.theme.borderRadius}),X.colors.clRed,(function(e){return e.progress})),ge=Z.default.div.withConfig({displayName:"ProjectCard__ProjectLabel",componentId:"sc-1g2kskm-13"})(["color:",";font-size:","px;font-weight:400;text-align:center;white-space:nowrap;padding-left:14px;padding-right:14px;padding-top:8px;padding-bottom:8px;border-radius:",";background:",";"],(function(e){var t=e.theme;return(0,G.darken)(.05,t.colorSecondary)}),X.fontSizes.small,(function(e){return e.theme.borderRadius}),(function(e){var t=e.theme;return(0,G.rgba)(t.colorSecondary,.1)})),he=Z.default.div.withConfig({displayName:"ProjectCard__ContentBody",componentId:"sc-1g2kskm-14"})(["width:100%;flex-grow:1;display:flex;flex-direction:column;padding-top:20px;&.large{max-width:400px;justify-content:center;}"]),be=Z.default.h3.withConfig({displayName:"ProjectCard__ProjectTitle",componentId:"sc-1g2kskm-15"})(["line-height:normal;font-weight:500;font-size:","px;color:",";margin:0;padding:0;"," &:hover{text-decoration:underline;}"],X.fontSizes.xl,(function(e){return e.theme.colorText}),(0,X.isRtl)(x||(x=(0,P.default)(["\n    text-align: right;\n    "])))),xe=Z.default.div.withConfig({displayName:"ProjectCard__ProjectDescription",componentId:"sc-1g2kskm-16"})(["color:",";font-size:","px;line-height:normal;font-weight:300;overflow-wrap:break-word;word-wrap:break-word;word-break:break-word;margin-top:15px;",""],X.colors.label,X.fontSizes.base,(0,X.isRtl)(v||(v=(0,P.default)(["\n   text-align: right;\n "])))),ve=Z.default.div.withConfig({displayName:"ProjectCard__ContentFooter",componentId:"sc-1g2kskm-17"})(["height:45px;flex-shrink:0;flex-grow:0;flex-basis:45px;display:flex;align-items:center;justify-content:space-between;padding-top:16px;margin-top:30px;border-top:solid 1px #e0e0e0;&.hidden{border:none;&.large{margin-top:0px;}&:not(.large){","}}"],X.media.smallerThanMinTablet(j||(j=(0,P.default)(["\n        height: 20px;\n        flex-basis: 20px;\n        margin: 0px;\n        padding: 0px;\n      "])))),je=Z.default.div.withConfig({displayName:"ProjectCard__ContentFooterSection",componentId:"sc-1g2kskm-18"})(["height:100%;display:flex;align-items:center;"]),Ce=(0,Z.default)(je).withConfig({displayName:"ProjectCard__ContentFooterLeft",componentId:"sc-1g2kskm-19"})([""]),_e=(0,Z.default)(je).withConfig({displayName:"ProjectCard__ContentFooterRight",componentId:"sc-1g2kskm-20"})([""]),we=Z.default.span.withConfig({displayName:"ProjectCard__ContentHeaderLabel",componentId:"sc-1g2kskm-21"})(["height:","px;color:",";font-size:","px;font-weight:500;text-transform:uppercase;display:flex;align-items:center;"],39,X.colors.label,X.fontSizes.small),Pe=Z.default.div.withConfig({displayName:"ProjectCard__ProjectMetaItems",componentId:"sc-1g2kskm-22"})(["height:100%;color:",";font-size:","px;font-weight:400;display:flex;"],(function(e){return e.theme.colorText}),X.fontSizes.base),ye=Z.default.div.withConfig({displayName:"ProjectCard__MetaItem",componentId:"sc-1g2kskm-23"})(["display:flex;align-items:center;text-decoration:none;cursor:pointer;margin-left:24px;&.first{margin-left:0px;}",";"],X.media.smallerThanMinTablet(C||(C=(0,P.default)(["\n    margin-left: 20px;\n  "])))),ke=(0,Z.default)(R.Icon).withConfig({displayName:"ProjectCard__MetaItemIcon",componentId:"sc-1g2kskm-24"})(["width:20px;height:20px;fill:",";"],(function(e){return e.theme.colorMain})),Ie=(0,Z.default)(ke).withConfig({displayName:"ProjectCard__CommentIcon",componentId:"sc-1g2kskm-25"})(["width:23px;height:23px;"]),Me=Z.default.div.withConfig({displayName:"ProjectCard__MetaItemText",componentId:"sc-1g2kskm-26"})(["color:",";font-size:","px;font-weight:400;line-height:normal;margin-left:3px;"],(function(e){return e.theme.colorText}),X.fontSizes.base),Te=(0,y.memo)((function(e){var t,a,n=e.projectId,i=e.size,r=e.layout,o=e.hideDescriptionPreview,d=e.className,l=e.intl.formatMessage,s=(0,L.default)({projectId:n}),u=(0,V.default)(),c=(0,Y.default)({projectId:n}),p=!(0,k.isNilOrError)(s)&&null!==(t=s.relationships.current_phase)&&void 0!==t&&null!==(a=t.data)&&void 0!==a&&a.id?s.relationships.current_phase.data.id:null,f=(0,A.default)(p),m=(0,B.default)(n),g=(0,Z.useTheme)(),h=(0,y.useState)(!1),b=(0,w.default)(h,2),x=b[0],v=b[1];if(!(0,k.isNilOrError)(s)){var j=(0,D.getIdeaPostingRules)({project:s,phase:(0,k.isNilOrError)(f)?null:f,authUser:(0,k.isNilOrError)(u)?null:u}),C=(0,k.isNilOrError)(f)?s.attributes.participation_method:f.attributes.participation_method,P=!!j.enabled,N=!(!((0,k.isNilOrError)(f)?s.attributes.voting_enabled:f.attributes.voting_enabled)||!(0,I.get)(s,"attributes.action_descriptor.voting.enabled")),R=!(!((0,k.isNilOrError)(f)?s.attributes.commenting_enabled:f.attributes.commenting_enabled)||!(0,I.get)(s,"attributes.action_descriptor.commenting_idea.enabled")),O=!(0,k.isNilOrError)(c)&&c.length>0?c[0].attributes.versions.medium:null,J=(0,F.getProjectUrl)(s),X="past"===s.attributes.timeline_active,G="archived"===s.attributes.publication_status,ee=s.attributes.ideas_count,te=s.attributes.comments_count,je=s.relationships.avatars&&s.relationships.avatars.data&&s.relationships.avatars.data.length>0,Te=!("continuous"===s.attributes.process_type&&"ideation"!==s.attributes.participation_method)&&ee>0,Ee=te>0,Ne=je||Te||Ee,Re=s.relationships.avatars&&s.relationships.avatars.data?s.relationships.avatars.data.map((function(e){return e.id})):[],Oe=(0,I.get)(f,"attributes.start_at"),Se=(0,I.get)(f,"attributes.end_at"),Fe=Se?M.default.duration((0,M.default)(Se).endOf("day").diff((0,M.default)())).humanize():null,ze=null,De=null,Le=s.attributes.process_type,Ae=(0,z.getInputTerm)(Le,s,m);if(G)ze=y.default.createElement(we,{className:"e2e-project-card-archived-label"},y.default.createElement(H.FormattedMessage,K.default.archived));else if(X)ze=y.default.createElement(we,null,y.default.createElement(H.FormattedMessage,K.default.finished));else if(Fe){var Be=Fe?M.default.duration((0,M.default)(Se).diff((0,M.default)(Oe))).asDays():null,Ve=Fe?M.default.duration((0,M.default)((0,M.default)()).diff((0,M.default)(Oe))).asDays():null,Ye=Fe&&(0,I.isNumber)(Ve)&&(0,I.isNumber)(Be)?(0,I.round)(Ve/Be*100,1):null;ze=y.default.createElement(ce,{className:"e2e-project-card-time-remaining"},y.default.createElement(pe,{className:i},y.default.createElement(H.FormattedMessage,(0,_.default)({},K.default.remaining,{values:{timeRemaining:Fe}}))),y.default.createElement(T.default,{onChange:function(e,t){e.isIntersecting&&(v(!0),t())}},y.default.createElement(fe,{"aria-hidden":!0},y.default.createElement(me,{progress:Ye,className:x?"visible":""}))))}"budgeting"===C?De=y.default.createElement(H.FormattedMessage,K.default.allocateYourBudget):"information"===C?De=y.default.createElement(H.FormattedMessage,K.default.learnMore):"survey"===C?De=y.default.createElement(H.FormattedMessage,K.default.takeTheSurvey):"poll"===C?De=y.default.createElement(H.FormattedMessage,K.default.takeThePoll):"ideation"===C&&P?De=y.default.createElement(H.FormattedMessage,(0,$.getInputTermMessage)(Ae,{idea:K.default.submitYourIdea,option:K.default.addYourOption,project:K.default.submitYourProject,question:K.default.joinDiscussion,issue:K.default.submitAnIssue,contribution:K.default.contributeYourInput})):"ideation"===C&&N?De=y.default.createElement(H.FormattedMessage,K.default.vote):"ideation"===C&&R?De=y.default.createElement(H.FormattedMessage,K.default.comment):"ideation"===C&&(De=y.default.createElement(H.FormattedMessage,(0,$.getInputTermMessage)(Ae,{idea:K.default.viewTheIdeas,option:K.default.viewTheOptions,project:K.default.viewTheProjects,question:K.default.viewTheQuestions,issue:K.default.viewTheIssues,contribution:K.default.viewTheContributions})));var qe=y.default.createElement(le,{className:"".concat(i," ").concat(De?"hasContent hasRightContent":"noRightContent"," ").concat(ze?"hasContent hasLeftContent":"noLeftContent"," ").concat(De||ze?"":"noContent")},null!==ze&&y.default.createElement(se,{className:i},ze),null!==De&&!X&&!G&&y.default.createElement(ue,{className:"".concat(i," ").concat(ze?"hasProgressBar":"")},y.default.createElement(ge,{onClick:function(e){return function(){(0,Q.trackEventByName)(W.default.clickOnProjectCardCTA,{extra:{projectId:e}})}}(s.id),className:"e2e-project-card-cta"},De))),He=y.default.createElement(U.ScreenReaderOnly,null,y.default.createElement(be,null,y.default.createElement(H.FormattedMessage,K.default.a11y_projectTitle),y.default.createElement(q.default,{value:s.attributes.title_multiloc})),y.default.createElement(xe,null,y.default.createElement(H.FormattedMessage,K.default.a11y_projectDescription),y.default.createElement(q.default,{value:s.attributes.description_preview_multiloc})));return y.default.createElement(ae,{className:[d||"",r,i,"e2e-project-card","e2e-admin-publication-card",G?"archived":"",E.default.mobile||E.default.tablet?"mobile":"desktop",o?"hideDescriptionPreview":""].filter((function(e){return e})).join(" "),to:J,onClick:function(e){return function(){(0,Q.trackEventByName)(W.default.clickOnProjectCard,{extra:{projectId:e}})}}(s.id)},He,"large"!==i&&qe,y.default.createElement(ne,{className:i},y.default.createElement(ie,null,y.default.createElement(re,{name:"project"})),O&&y.default.createElement(oe,{src:O,alt:"",cover:!0})),y.default.createElement(de,{className:i},"large"===i&&qe,y.default.createElement(he,{className:i,"aria-hidden":!0},y.default.createElement(be,{className:"e2e-project-card-project-title",onClick:function(e){return function(){(0,Q.trackEventByName)(W.default.clickOnProjectTitle,{extra:{projectId:e}})}}(s.id)},y.default.createElement(q.default,{value:s.attributes.title_multiloc})),!o&&y.default.createElement(q.default,{value:s.attributes.description_preview_multiloc},(function(e){return(0,I.isEmpty)(e)?null:y.default.createElement(xe,{className:"e2e-project-card-project-description-preview"},e)}))),y.default.createElement(ve,{className:"".concat(i," ").concat(Ne?"":"hidden")},y.default.createElement(Ce,null,je&&y.default.createElement(S.default,{size:32,limit:3,userCountBgColor:g.colorMain,avatarIds:Re,userCount:s.attributes.participants_count})),y.default.createElement(_e,null,y.default.createElement(Pe,null,Te&&y.default.createElement(ye,{className:"first"},y.default.createElement(ke,{ariaHidden:!0,name:"idea"}),y.default.createElement(Me,{"aria-hidden":!0},ee),y.default.createElement(U.ScreenReaderOnly,null,l((0,$.getInputTermMessage)(Ae,{idea:K.default.xIdeas,option:K.default.xOptions,contribution:K.default.xContributions,project:K.default.xProjects,issue:K.default.xIssues,question:K.default.xQuestions}),{ideasCount:ee}))),Ee&&y.default.createElement(ye,null,y.default.createElement(Ie,{ariaHidden:!0,name:"comments"}),y.default.createElement(Me,{"aria-hidden":!0},te),y.default.createElement(U.ScreenReaderOnly,null,l(K.default.xComments,{commentsCount:te}))))))))}return null})),Ee=(0,J.default)(Te);t.default=Ee},xTvc:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSurveyTakingRules=t.getPollTakingRules=t.getIdeaPostingRules=void 0;var n=a("di2/"),i=a("KLnl"),r=a("18VM");t.getIdeaPostingRules=function(e){var t=e.project,a=e.phase,o=e.authUser,d=!(0,i.isNilOrError)(o);if(!(0,i.isNilOrError)(t)){var l=t.attributes.action_descriptor.posting_idea,s=l.disabled_reason,u=l.future_enabled,c=l.enabled;if(!(0,i.isNilOrError)(o)&&((0,r.isAdmin)({data:o})||(0,r.isProjectModerator)({data:o})))return{show:!0,enabled:!0,disabledReason:null,action:null};if(!(0,i.isNilOrError)(a)){if("ideation"!==a.attributes.participation_method||!a.attributes.posting_enabled||"not_ideation"===s)return{show:!1,enabled:null,disabledReason:null,action:null};if("present"!==(0,n.pastPresentOrFuture)([a.attributes.start_at,a.attributes.end_at]))return{show:!0,enabled:!1,disabledReason:"notActivePhase",action:null}}if((0,i.isNilOrError)(a)&&("ideation"!==t.attributes.participation_method||!t.attributes.posting_enabled||"not_ideation"===s))return{show:!1,enabled:null,disabledReason:null,action:null};if(c)return{show:!0,enabled:!0,disabledReason:null,action:null};var p=function(e,t,a){switch(e){case"not_verified":return t?{disabledReason:null,action:"verify"}:{disabledReason:null,action:"sign_in_up_and_verify"};case"not_signed_in":return{disabledReason:null,action:"sign_in_up"};case"project_inactive":return{disabledReason:a?"futureEnabled":"projectInactive",action:null};case"posting_disabled":return{disabledReason:"postingDisabled",action:null};case"not_permitted":return{disabledReason:t?"notPermitted":"maybeNotPermitted",action:null};default:return{disabledReason:"notPermitted",action:null}}}(s,d,u),f=p.disabledReason,m=p.action;return m?{action:m,disabledReason:null,show:!0,enabled:"maybe"}:{disabledReason:f,action:null,show:!0,enabled:!1}}return{show:!0,enabled:!0,disabledReason:null,action:null}};var o=function(e,t){switch(e){case"project_inactive":return"projectInactive";case"already_responded":return"alreadyResponded";case"not_verified":return t?"notVerified":"maybeNotVerified";case"not_permitted":return t?"notPermitted":"maybeNotPermitted";case"not_signed_in":return"maybeNotPermitted";default:return"notPermitted"}};t.getPollTakingRules=function(e){var t=e.project,a=e.phaseContext,i=e.signedIn,r=t.attributes.action_descriptor.taking_poll,d=r.enabled,l=r.disabled_reason;return a&&a&&"present"!==(0,n.pastPresentOrFuture)([a.attributes.start_at,a.attributes.end_at])?{enabled:!1,disabledReason:"notActivePhase",show:!0,action:null}:d?{enabled:d,disabledReason:null,show:!0,action:null}:{enabled:!1,disabledReason:o(l,!!i),show:!0,action:null}};var d=function(e,t){switch(e){case"project_inactive":return"projectInactive";case"not_signed_in":return"maybeNotPermitted";case"not_verified":return t?"notVerified":"maybeNotVerified";case"not_permitted":return t?"notPermitted":"maybeNotPermitted";default:return"notPermitted"}};t.getSurveyTakingRules=function(e){var t=e.project,a=e.phaseContext,i=e.signedIn;if(a){var r="present"===(0,n.pastPresentOrFuture)([a.attributes.start_at,a.attributes.end_at]),o=t.attributes.action_descriptor.taking_survey,l=o.disabled_reason,s=o.enabled;return r?{enabled:s,disabledReason:s?null:d(l,!!i),action:null,show:!0}:{enabled:!1,disabledReason:"notActivePhase",action:null,show:!0}}var u=t.attributes.action_descriptor.taking_survey,c=u.enabled,p=u.disabled_reason;return{enabled:c,disabledReason:c?null:d(p,!!i),action:null,show:!0}}},xZgK:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,r.useState)(void 0),a=(0,i.default)(t,2),n=a[0],s=a[1];return(0,r.useEffect)((function(){s(void 0);var t=(0,d.of)(null);e&&(t=(0,l.phaseStream)(e).observable);var a=t.subscribe((function(e){var t=(0,o.isNilOrError)(e)?e:e.data;s(t)}));return function(){return a.unsubscribe()}}),[e]),n};var i=n(a("J4zp")),r=a("q1tI"),o=a("KLnl"),d=a("DtyJ"),l=a("MfpC")}}]);
//# sourceMappingURL=18.71b560eff8e4c9acefe9.chunk.js.map