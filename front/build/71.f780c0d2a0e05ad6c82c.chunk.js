(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{"/92W":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("q1tI")),o=a("Rw3A"),l=n(a("cRzy")),r=n(a("vOnD")),u=a("96Cm"),d=r.default.div.withConfig({displayName:"LoadingComments__Container",componentId:"sc-19iey05-0"})(["width:100%;display:flex;align-items:center;justify-content:center;"]),s=r.default.div.withConfig({displayName:"LoadingComments__LoadingMessage",componentId:"sc-19iey05-1"})(["color:",";font-size:","px;font-weight:400;"],u.colors.label,u.fontSizes.medium);t.default=function(e){return i.default.createElement(d,{className:e.className},i.default.createElement(s,null,i.default.createElement(o.FormattedMessage,l.default.loadingComments)))}},"0Pyc":function(e,t,a){"use strict";a("SuFq"),a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("ma9I"),a("sMBO");var o,l,r,u=n(a("pVnL")),d=n(a("lwsE")),s=n(a("W8MJ")),c=n(a("PJYZ")),f=n(a("7W2i")),p=n(a("a1gu")),m=n(a("Nsbk")),h=n(a("lSNA")),v=n(a("VkAN")),g=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=A(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var r=o?Object.getOwnPropertyDescriptor(e,l):null;r&&(r.get||r.set)?Object.defineProperty(n,l,r):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),y=a("KLnl"),b=a("ifvJ"),w=a("DbO4"),x=n(a("T5Cy")),E=a("iP56"),S=n(a("yiTP")),M=n(a("yYlr")),_=n(a("YLV/")),I=n(a("OL75")),P=n(a("FSVo")),C=n(a("M7uY")),O=n(a("M8tl")),T=n(a("sL4G")),k=n(a("V3HD")),N=n(a("aJX8")),j=a("9FT3"),B=a("KuRP"),D=n(a("bPnU")),W=n(a("vOnD")),V=a("96Cm"),R=n(a("5hLL"));function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(A=function(e){return e?a:t})(e)}function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,m.default)(e);if(t){var i=(0,m.default)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,p.default)(this,a)}}var z=W.default.div.withConfig({displayName:"SharingModalContent__Loading",componentId:"tkeccj-0"})(["width:100%;height:460px;display:flex;align-items:center;justify-content:center;"]),q=W.default.div.withConfig({displayName:"SharingModalContent__Container",componentId:"tkeccj-1"})(["width:100%;display:flex;flex-direction:column;align-items:center;"]),L=W.default.img.withConfig({displayName:"SharingModalContent__Rocket",componentId:"tkeccj-2"})(["width:40px;height:40px;",""],V.media.smallerThanMaxTablet(o||(o=(0,v.default)(["\n    width: 35px;\n    height: 35px;\n  "])))),H=W.default.h1.withConfig({displayName:"SharingModalContent__Title",componentId:"tkeccj-3"})(["flex-shrink:0;width:100%;color:",";font-size:","px;line-height:40px;font-weight:500;text-align:center;margin:0;margin-top:20px;margin-bottom:10px;padding:0;",""],(function(e){return e.theme.colorText}),V.fontSizes.xxxxl,V.media.smallerThanMaxTablet(l||(l=(0,v.default)(["\n    max-width: auto;\n    font-size: ","px;\n    line-height: 36px;\n  "])),V.fontSizes.xxxl)),U=W.default.p.withConfig({displayName:"SharingModalContent__Description",componentId:"tkeccj-4"})(["flex-shrink:0;width:100%;max-width:500px;color:",";font-size:","px;line-height:25px;font-weight:300;text-align:center;margin:0;margin-top:10px;margin-bottom:50px;padding:0;",""],(function(e){return e.theme.colorText}),V.fontSizes.large,V.media.smallerThanMaxTablet(r||(r=(0,v.default)(["\n    font-size: ","px;\n    line-height: 21px;\n  "])),V.fontSizes.base)),J=W.default.div.withConfig({displayName:"SharingModalContent__SharingWrapper",componentId:"tkeccj-5"})(["flex-shrink:0;width:100%;max-width:300px;display:flex;flex-direction:column;"]),Y=function(e){(0,f.default)(a,e);var t=F(a);function a(){var e;(0,d.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,h.default)((0,c.default)(e),"getPostValues",(function(){var t=e.props,a=t.postType,n=t.idea,i=t.initiative,o=t.localize,l=t.locale,r=null,u=null;return"idea"!==a||(0,y.isNilOrError)(n)||(r=o(n.attributes.title_multiloc),u="".concat(location.origin,"/").concat(l,"/").concat(a,"s/").concat(n.attributes.slug)),"initiative"!==a||(0,y.isNilOrError)(i)||(r=o(i.attributes.title_multiloc),u="".concat(location.origin,"/").concat(l,"/").concat(a,"s/").concat(i.attributes.slug)),{postTitle:r,postUrl:u}})),(0,h.default)((0,c.default)(e),"getIdeaMessages",(function(){var t=e.props,a=t.project,n=t.phases,i=null,o=null,l=null;if(!(0,y.isNilOrError)(a)){var r=(0,w.getInputTerm)(a.attributes.process_type,a,n);i=(0,j.getInputTermMessage)(r,{idea:N.default.ideaEmailSharingSubjectText,option:N.default.optionEmailSharingSubject,project:N.default.projectEmailSharingSubject,question:N.default.questionEmailSharingSubject,issue:N.default.issueEmailSharingSubject,contribution:N.default.contributionEmailSharingSubject}),o=(0,j.getInputTermMessage)(r,{idea:N.default.ideaEmailSharingBody,option:N.default.optionEmailSharingBody,project:N.default.projectEmailSharingBody,question:N.default.questionEmailSharingModalContentBody,issue:N.default.issueEmailSharingBody,contribution:N.default.contributionEmailSharingBody}),l=(0,j.getInputTermMessage)(r,{idea:N.default.ideaWhatsAppMessage,option:N.default.optionWhatsAppMessage,project:N.default.projectWhatsAppMessage,question:N.default.questionWhatsAppMessage,issue:N.default.issueWhatsAppMessage,contribution:N.default.contributionWhatsAppMessage})}return{emailSharingSubject:i,emailSharingBody:o,whatsAppMessage:l}})),(0,h.default)((0,c.default)(e),"getInitiativeMessages",(function(){return{emailSharingSubject:N.default.initiativeEmailSharingSubject,emailSharingBody:N.default.initiativeEmailSharingBody,whatsAppMessage:N.default.whatsAppMessageProposal}})),(0,h.default)((0,c.default)(e),"getMessages",(function(){return"idea"===e.props.postType?e.getIdeaMessages():e.getInitiativeMessages()})),e}return(0,s.default)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.postId,a=e.postType;(0,B.trackEventByName)(D.default.sharingModalOpened.name,{postId:t,postType:a})}},{key:"render",value:function(){var e=this.props,t=e.postType,a=e.authUser,n=e.className,i=e.title,o=e.subtitle,l=this.props.intl.formatMessage,r=this.getPostValues(),u=r.postTitle,d=r.postUrl,s=this.getMessages(),c=s.emailSharingBody,f=s.emailSharingSubject,p=s.whatsAppMessage;return!(0,y.isNilOrError)(a)&&d&&c&&f&&p?g.default.createElement(q,{className:n},g.default.createElement(L,{src:R.default,alt:"rocket"}),g.default.createElement(H,{className:"e2e-".concat(t,"-social-sharing-modal-title")},i),g.default.createElement(U,null,o),g.default.createElement(J,null,g.default.createElement(x.default,{context:t,isInModal:!0,url:d,twitterMessage:l(N.default.twitterMessage,{postTitle:u}),whatsAppMessage:l(p,{postTitle:u}),emailSubject:l(f,{postTitle:u}),emailBody:l(c,{postTitle:u,postUrl:d}),utmParams:{source:"share_".concat(t),campaign:"".concat(t,"flow"),content:a.id}}))):g.default.createElement(z,null,g.default.createElement(E.Spinner,null))}}]),a}(g.PureComponent),G=(0,T.default)((0,k.default)(Y)),Z=(0,b.adopt)({locale:g.default.createElement(S.default,null),tenant:g.default.createElement(M.default,null),authUser:g.default.createElement(_.default,null),idea:function(e){var t=e.postId,a=e.postType,n=e.render;return g.default.createElement(I.default,{ideaId:t&&"idea"===a?t:null},n)},initiative:function(e){var t=e.postId,a=e.postType,n=e.render;return g.default.createElement(P.default,{id:t&&"initiative"===a?t:null},n)},project:function(e){var t=e.idea,a=e.render;return g.default.createElement(C.default,{projectId:(0,y.isNilOrError)(t)?null:t.relationships.project.data.id},a)},phases:function(e){var t=e.idea,a=e.render;return g.default.createElement(O.default,{projectId:(0,y.isNilOrError)(t)?null:t.relationships.project.data.id},a)}});t.default=function(e){return g.default.createElement(Z,e,(function(t){return g.default.createElement(G,(0,u.default)({},e,t))}))}},"1fT+":function(e,t,a){"use strict";a("SuFq"),a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a("pVnL")),l=n(a("lwsE")),r=n(a("W8MJ")),u=n(a("PJYZ")),d=n(a("7W2i")),s=n(a("a1gu")),c=n(a("Nsbk")),f=n(a("lSNA")),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=P(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var r=o?Object.getOwnPropertyDescriptor(e,l):null;r&&(r.get||r.set)?Object.defineProperty(n,l,r):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),m=n(a("vOnD")),h=a("ifvJ"),v=a("KLnl"),g=n(a("N4mL")),y=n(a("6yyz")),b=n(a("1hFV")),w=n(a("baeH")),x=a("Rw3A"),E=n(a("r5eU")),S=n(a("sL4G")),M=a("fM+I"),_=n(a("JUYq")),I=n(a("YLV/"));function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(P=function(e){return e?a:t})(e)}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,s.default)(this,a)}}var O=m.default.div.withConfig({displayName:"InitiativeMoreActions__Container",componentId:"lmf5ac-0"})([""]),T=m.default.div.withConfig({displayName:"InitiativeMoreActions__MoreActionsMenuWrapper",componentId:"lmf5ac-1"})(["display:flex;align-items:center;margin-left:35px;"]),k=function(e){(0,d.default)(a,e);var t=C(a);function a(e){var n;return(0,l.default)(this,a),n=t.call(this,e),(0,f.default)((0,u.default)(n),"openSpamModal",(function(){n.setState({spamModalVisible:!0})})),(0,f.default)((0,u.default)(n),"closeSpamModal",(function(){n.setState({spamModalVisible:!1})})),(0,f.default)((0,u.default)(n),"onEditInitiative",(function(){_.default.push("/initiatives/edit/".concat(n.props.initiative.id))})),(0,f.default)((0,u.default)(n),"onDeleteInitiative",(function(e){return function(){var t=n.props.intl.formatMessage(E.default.deleteInitiativeConfirmation);window.confirm(t)&&((0,M.deleteInitiative)(e),_.default.goBack())}})),n.state={spamModalVisible:!1},n}return(0,r.default)(a,[{key:"render",value:function(){var e=this.props,t=e.initiative,a=e.className,n=e.authUser,i=e.color,o=e.id,l=this.state.spamModalVisible;return(0,v.isNilOrError)(n)||(0,v.isNilOrError)(t)?null:p.default.createElement(O,{className:a},p.default.createElement(T,null,p.default.createElement(g.default,{item:t,action:"edit",context:t},p.default.createElement(y.default,{label:p.default.createElement(x.FormattedMessage,E.default.moreOptions),color:i,id:o,actions:[{label:p.default.createElement(x.FormattedMessage,E.default.reportAsSpam),handler:this.openSpamModal},{label:p.default.createElement(x.FormattedMessage,E.default.editInitiative),handler:this.onEditInitiative},{label:p.default.createElement(x.FormattedMessage,E.default.deleteInitiative),handler:this.onDeleteInitiative(t.id)}]}),p.default.createElement(g.default.No,null,p.default.createElement(y.default,{label:p.default.createElement(x.FormattedMessage,E.default.moreOptions),color:i,id:o,actions:[{label:p.default.createElement(x.FormattedMessage,E.default.reportAsSpam),handler:this.openSpamModal}]})))),p.default.createElement(b.default,{opened:l,close:this.closeSpamModal,header:p.default.createElement(x.FormattedMessage,E.default.reportAsSpamModalTitle)},p.default.createElement(w.default,{resourceId:t.id,resourceType:"initiatives"})))}}]),a}(p.PureComponent),N=(0,S.default)(k),j=(0,h.adopt)({authUser:p.default.createElement(I.default,null)});t.default=function(e){return p.default.createElement(j,e,(function(t){return p.default.createElement(N,(0,o.default)({},e,t))}))}},"5Rlm":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pageContentMaxWidth=t.rightColumnWidthTablet=t.columnsGapTablet=t.rightColumnWidthDesktop=t.columnsGapDesktop=void 0;t.columnsGapDesktop=100;t.rightColumnWidthDesktop=360;t.columnsGapTablet=60;t.rightColumnWidthTablet=300;t.pageContentMaxWidth=1210},"5hLL":function(e,t,a){"use strict";a.r(t),t.default=a.p+"aaae759b408aa34fd8afbcefb716a1ab.png"},"72sj":function(e,t,a){"use strict";a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var r=o?Object.getOwnPropertyDescriptor(e,l):null;r&&(r.get||r.set)?Object.defineProperty(n,l,r):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),l=n(a("vOnD")),r=a("96Cm");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}var d=l.default.img.withConfig({displayName:"Image",componentId:"sc-3ry5gv-0"})(["width:100%;margin-bottom:25px;border-radius:",";border:1px solid ",";"],(function(e){return e.theme.borderRadius}),r.colors.separation),s=(0,o.memo)((function(e){var t=e.src,a=e.alt,n=e.id;return o.default.createElement(d,{src:t,alt:a,id:n})}));t.default=s},A4tC:function(e,t,a){"use strict";a("TeQF"),a("SuFq");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("FZtP");var i=n(a("lwsE")),o=n(a("W8MJ")),l=n(a("PJYZ")),r=n(a("7W2i")),u=n(a("a1gu")),d=n(a("Nsbk")),s=n(a("lSNA")),c=n(a("q1tI")),f=a("T89o"),p=a("DtyJ"),m=a("ahDk"),h=n(a("aTp4")),v=a("Nv6i"),g=a("jtPO"),y=a("pQfs"),b=a("vDWu"),w=a("c95D"),x=a("OKda"),E=a("KLnl");function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,d.default)(e);if(t){var i=(0,d.default)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,u.default)(this,a)}}var M=function(e){(0,r.default)(a,e);var t=S(a);function a(e){var n;return(0,i.default)(this,a),n=t.call(this,e),(0,s.default)((0,l.default)(n),"inputProps$",void 0),(0,s.default)((0,l.default)(n),"subscriptions",void 0),n.state={files:void 0},n}return(0,o.default)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.resourceId,n=t.resourceType,i=t.resetOnChange;this.inputProps$=new p.BehaviorSubject({resourceId:a,resourceType:n}),this.subscriptions=[this.inputProps$.pipe((0,m.distinctUntilChanged)((function(e,t){return(0,h.default)(e,t)})),(0,m.tap)((function(){return i&&e.setState({files:void 0})})),(0,m.filter)((function(e){var t=e.resourceId;return(0,f.isString)(t)})),(0,m.switchMap)((function(e){var t,a=e.resourceId,n=e.resourceType;return"project"===n&&(t=v.projectFilesStream),"phase"===n&&(t=g.phaseFilesStream),"event"===n&&(t=y.eventFilesStream),"page"===n&&(t=b.pageFilesStream),"idea"===n&&(t=w.ideaFilesStream),"initiative"===n&&(t=x.initiativeFilesStream),t(a).observable}))).subscribe((function(t){e.setState({files:(0,E.isNilOrError)(t)?t:t.data})}))]}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.resourceId,a=e.resourceType,n=e.resetOnChange;this.inputProps$.next({resourceId:t,resourceType:a,resetOnChange:n})}},{key:"componentWillUnmount",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"render",value:function(){return(0,this.props.children)(this.state.files)}}]),a}(c.default.Component);t.default=M,(0,s.default)(M,"defaultProps",{resetOnChange:!0})},EW5Z:function(e,t,a){"use strict";a("SuFq"),a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("ma9I");var o=n(a("pVnL")),l=n(a("lwsE")),r=n(a("W8MJ")),u=n(a("PJYZ")),d=n(a("7W2i")),s=n(a("a1gu")),c=n(a("Nsbk")),f=n(a("lSNA")),p=S(a("q1tI")),m=S(a("vOnD")),h=a("96Cm"),v=a("iP56"),g=a("oGDI"),y=n(a("2fl8")),b=n(a("3A/8")),w=n(a("mzbP")),x=a("Rw3A");function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var r=o?Object.getOwnPropertyDescriptor(e,l):null;r&&(r.get||r.set)?Object.defineProperty(n,l,r):n[l]=e[l]}return n.default=e,a&&a.set(e,n),n}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,s.default)(this,a)}}var _=m.default.div.withConfig({displayName:"ThresholdReached__Container",componentId:"sc-1fw53qw-0"})([""]),I=(0,m.default)(v.Icon).withConfig({displayName:"ThresholdReached__StatusIcon",componentId:"sc-1fw53qw-1"})(["path{fill:",";}width:40px;height:40px;margin-bottom:20px;"],(function(e){return e.theme.colorText})),P=m.default.div.withConfig({displayName:"ThresholdReached__VoteText",componentId:"sc-1fw53qw-2"})(["font-size:","px;color:",";margin-top:20px;"],h.fontSizes.base,(function(e){return e.theme.colorText})),C=(0,m.default)(y.default).withConfig({displayName:"ThresholdReached__StyledButton",componentId:"sc-1fw53qw-3"})(["margin-top:20px;"]),O=function(e){(0,d.default)(a,e);var t=M(a);function a(){var e;(0,l.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,f.default)((0,u.default)(e),"handleOnVote",(function(){e.props.onVote()})),e}return(0,r.default)(a,[{key:"render",value:function(){var e=this.props,t=e.initiative,a=e.initiativeSettings,n=a.voting_threshold,i=a.threshold_reached_message,l=e.initiativeStatus,r=e.userVoted,u=t.attributes.upvotes_count,d=n;return p.default.createElement(_,null,p.default.createElement(g.StatusWrapper,null,p.default.createElement(b.default,{value:l.attributes.title_multiloc})),p.default.createElement(I,{ariaHidden:!0,name:"envelope-check"}),p.default.createElement(g.StatusExplanation,null,p.default.createElement(x.FormattedMessage,(0,o.default)({},w.default.thresholdReachedStatusExplanation,{values:{thresholdReachedStatusExplanationBold:p.default.createElement("b",null,p.default.createElement(x.FormattedMessage,w.default.thresholdReachedStatusExplanationBold))}})),i?p.default.createElement(v.IconTooltip,{icon:"info",iconColor:this.props.theme.colorText,theme:"light",placement:"bottom",content:p.default.createElement(b.default,{value:i,supportHtml:!0})}):p.default.createElement(p.default.Fragment,null)),p.default.createElement(P,null,p.default.createElement(x.FormattedMessage,(0,o.default)({},w.default.xVotesOfY,{values:{votingThreshold:d,xVotes:p.default.createElement("b",null,p.default.createElement(x.FormattedMessage,(0,o.default)({},w.default.xVotes,{values:{count:u}})))}}))),!r&&p.default.createElement(C,{icon:"upvote",onClick:this.handleOnVote},p.default.createElement(x.FormattedMessage,w.default.vote)))}}]),a}(p.PureComponent),T=(0,m.withTheme)(O);t.default=T},IcsR:function(e,t,a){"use strict";a("SuFq"),a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("ma9I");var o,l=n(a("pVnL")),r=n(a("lwsE")),u=n(a("W8MJ")),d=n(a("PJYZ")),s=n(a("7W2i")),c=n(a("a1gu")),f=n(a("Nsbk")),p=n(a("lSNA")),m=n(a("VkAN")),h=I(a("q1tI")),v=I(a("vOnD")),g=a("96Cm"),y=a("+9pX"),b=a("ufqH"),w=a("di2/"),x=a("iP56"),E=n(a("doQp")),S=a("Rw3A"),M=n(a("mzbP"));function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(_=function(e){return e?a:t})(e)}function I(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=_(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var r=o?Object.getOwnPropertyDescriptor(e,l):null;r&&(r.get||r.set)?Object.defineProperty(n,l,r):n[l]=e[l]}return n.default=e,a&&a.set(e,n),n}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,f.default)(e);if(t){var i=(0,f.default)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,c.default)(this,a)}}var C=v.default.div.withConfig({displayName:"ProposedVoted__Container",componentId:"sitr54-0"})(["display:flex;flex-direction:column;align-items:center;"]),O=(0,v.keyframes)(["0%{transform:scale(0);opacity:1;}100%{transform:scale(1);opacity:1;}"]),T=(0,v.default)(x.Icon).withConfig({displayName:"ProposedVoted__StyledIcon",componentId:"sitr54-1"})(["fill:",";width:63px;height:63px;animation:"," 0.3s cubic-bezier(0.25,0.46,0.45,0.94) both;"],g.colors.clGreenSuccess,O),k=v.default.h4.withConfig({displayName:"ProposedVoted__VotedTitle",componentId:"sitr54-2"})(["color:",";font-size:","px;font-weight:600;text-align:center;margin:0;margin-top:25px;margin-bottom:5px;width:100%;"],(function(e){return e.theme.colorText}),g.fontSizes.base),N=v.default.p.withConfig({displayName:"ProposedVoted__VotedText",componentId:"sitr54-3"})(["color:",";font-size:","px;font-weight:300;line-height:21px;text-align:center;margin:0 0 20px 0;width:100%;"],(function(e){return e.theme.colorText}),g.fontSizes.base),j=v.default.button.withConfig({displayName:"ProposedVoted__UnvoteButton",componentId:"sitr54-4"})(["color:",";font-size:","px;text-decoration:underline;&:hover{color:",";text-decoration:underline;cursor:pointer;}"],(function(e){return e.theme.colorText}),g.fontSizes.base,(function(e){return(0,b.darken)(.12,e.theme.colorText)})),B=v.default.div.withConfig({displayName:"ProposedVoted__VoteCounter",componentId:"sitr54-5"})(["margin-top:15px;width:100%;",""],g.media.smallerThanMaxTablet(o||(o=(0,m.default)(["\n    display: none;\n  "])))),D=v.default.div.withConfig({displayName:"ProposedVoted__VoteText",componentId:"sitr54-6"})(["display:flex;justify-content:space-between;align-items:flex-start;padding-bottom:4px;"]),W=v.default.div.withConfig({displayName:"ProposedVoted__VoteTextLeft",componentId:"sitr54-7"})(["font-size:","px;color:",";"],g.fontSizes.base,g.colors.clGreyOnGreyBackground),V=v.default.div.withConfig({displayName:"ProposedVoted__VoteTextRight",componentId:"sitr54-8"})(["font-size:","px;color:",";"],g.fontSizes.base,(function(e){return e.theme.colorText})),R=(0,v.default)(E.default).withConfig({displayName:"ProposedVoted__StyledProgressBar",componentId:"sitr54-9"})(["height:12px;width:100%;"]),A=function(e){(0,s.default)(a,e);var t=P(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,p.default)((0,d.default)(e),"handleOnCancelVote",(function(){e.props.onCancelVote()})),e}return(0,u.default)(a,[{key:"render",value:function(){var e=this.props,t=e.initiative,a=e.initiativeSettings.voting_threshold,n=e.theme,i=t.attributes.upvotes_count,o=a,r=(0,w.getDaysRemainingUntil)(t.attributes.expires_at);return h.default.createElement(C,null,h.default.createElement(T,{ariaHidden:!0,name:"round-checkmark"}),h.default.createElement(k,null,h.default.createElement(S.FormattedMessage,M.default.votedTitle)),h.default.createElement(N,null,h.default.createElement(S.FormattedMessage,(0,l.default)({},M.default.votedText,{values:{x:r,xDays:h.default.createElement("b",null,h.default.createElement(S.FormattedMessage,(0,l.default)({},M.default.xDays,{values:{x:r}})))}}))),h.default.createElement(j,{id:"e2e-initiative-cancel-upvote-button",onClick:this.handleOnCancelVote},h.default.createElement(S.FormattedMessage,M.default.unvoteLink)),h.default.createElement(B,null,h.default.createElement(D,{"aria-hidden":!0},h.default.createElement(W,{id:"e2e-initiative-voted-vote-count"},h.default.createElement(S.FormattedMessage,(0,l.default)({},M.default.xVotes,{values:{count:i}}))),h.default.createElement(V,null,o)),h.default.createElement(y.ScreenReaderOnly,null,h.default.createElement(S.FormattedMessage,(0,l.default)({},M.default.xVotesOfY,{values:{xVotes:h.default.createElement(S.FormattedMessage,(0,l.default)({},M.default.xVotes,{values:{count:i}})),votingThreshold:o}}))),h.default.createElement(R,{progress:i/o,color:n.colorText,bgColor:g.colors.lightGreyishBlue})))}}]),a}(h.PureComponent),F=(0,v.withTheme)(A);t.default=F},"LK/g":function(e,t,a){"use strict";a("SuFq"),a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,l=n(a("pVnL")),r=n(a("lwsE")),u=n(a("W8MJ")),d=n(a("7W2i")),s=n(a("a1gu")),c=n(a("Nsbk")),f=n(a("VkAN")),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=M(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var r=o?Object.getOwnPropertyDescriptor(e,l):null;r&&(r.get||r.set)?Object.defineProperty(n,l,r):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),m=n(a("vOnD")),h=a("96Cm"),v=a("+9pX"),g=a("iP56"),y=a("oGDI"),b=n(a("doQp")),w=n(a("2fl8")),x=n(a("3A/8")),E=n(a("mzbP")),S=a("Rw3A");function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(M=function(e){return e?a:t})(e)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,s.default)(this,a)}}var I=m.default.div.withConfig({displayName:"Expired__Container",componentId:"sc-16rkvmd-0"})([""]),P=(0,m.default)(g.Icon).withConfig({displayName:"Expired__StatusIcon",componentId:"sc-16rkvmd-1"})(["path{fill:",";}width:30px;height:30px;margin-bottom:20px;"],h.colors.clGreyOnGreyBackground),C=m.default.div.withConfig({displayName:"Expired__VoteCounter",componentId:"sc-16rkvmd-2"})(["margin-top:15px;",""],h.media.smallerThanMaxTablet(o||(o=(0,f.default)(["\n    display: none;\n  "])))),O=m.default.div.withConfig({displayName:"Expired__VoteTexts",componentId:"sc-16rkvmd-3"})(["display:flex;justify-content:space-between;align-items:flex-start;padding-bottom:4px;"]),T=m.default.div.withConfig({displayName:"Expired__VoteText",componentId:"sc-16rkvmd-4"})(["font-size:","px;color:",";"],h.fontSizes.base,h.colors.clGreyOnGreyBackground),k=(0,m.default)(b.default).withConfig({displayName:"Expired__StyledProgressBar",componentId:"sc-16rkvmd-5"})(["height:12px;width:100%;"]),N=(0,m.default)(w.default).withConfig({displayName:"Expired__StyledButton",componentId:"sc-16rkvmd-6"})(["margin-top:20px;"]),j=function(e){(0,d.default)(a,e);var t=_(a);function a(){return(0,r.default)(this,a),t.apply(this,arguments)}return(0,u.default)(a,[{key:"render",value:function(){var e=this.props,t=e.initiative,a=e.initiativeSettings.voting_threshold,n=e.initiativeStatus,i=e.userVoted,o=t.attributes.upvotes_count,r=a;return p.default.createElement(I,null,p.default.createElement(y.StatusWrapper,null,p.default.createElement(x.default,{value:n.attributes.title_multiloc})),p.default.createElement(P,{ariaHidden:!0,name:"clock"}),p.default.createElement(y.StatusExplanation,null,p.default.createElement(S.FormattedMessage,(0,l.default)({},E.default.expiredStatusExplanation,{values:{expiredStatusExplanationBold:p.default.createElement("b",null,p.default.createElement(S.FormattedMessage,(0,l.default)({},E.default.expiredStatusExplanationBold,{values:{votingThreshold:a}})))}}))),p.default.createElement(C,null,p.default.createElement(O,{"aria-hidden":!0},p.default.createElement(T,null,p.default.createElement(S.FormattedMessage,(0,l.default)({},E.default.xVotes,{values:{count:o}}))),p.default.createElement(T,null,r)),p.default.createElement(v.ScreenReaderOnly,null,p.default.createElement(S.FormattedMessage,(0,l.default)({},E.default.xVotesOfY,{values:{xVotes:p.default.createElement(S.FormattedMessage,(0,l.default)({},E.default.xVotes,{values:{count:o}})),votingThreshold:r}}))),p.default.createElement(k,{progress:o/r,color:"linear-gradient(270deg, #84939E 0%, #C8D0D6 100%)",bgColor:h.colors.lightGreyishBlue,bgShaded:!0})),p.default.createElement(N,{icon:"halt",disabled:!0},i?p.default.createElement(S.FormattedMessage,E.default.cancelVote):p.default.createElement(S.FormattedMessage,E.default.vote)))}}]),a}(p.PureComponent);t.default=j},LoHC:function(e,t,a){"use strict";a("PKPk"),a("ENF9"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("yWo2"),a("2B1R"),a("4mDm"),a("07d7"),a("3bBZ");var o,l=n(a("pVnL")),r=n(a("VkAN")),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=g(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var r=o?Object.getOwnPropertyDescriptor(e,l):null;r&&(r.get||r.set)?Object.defineProperty(n,l,r):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),d=n(a("V3HD")),s=a("Rw3A"),c=n(a("d1qu")),f=a("iP56"),p=n(a("jWBj")),m=n(a("vOnD")),h=a("96Cm"),v=a("ufqH");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(g=function(e){return e?a:t})(e)}var y=m.default.div.withConfig({displayName:"Breadcrumbs__Container",componentId:"sc-8a88sp-0"})(["width:100%;display:flex;align-items:center;"]),b=(0,m.default)(p.default).withConfig({displayName:"Breadcrumbs__HomeLink",componentId:"sc-8a88sp-1"})(["width:16px;"]),w=(0,m.default)(f.Icon).withConfig({displayName:"Breadcrumbs__HomeIcon",componentId:"sc-8a88sp-2"})(["flex:0 0 14px;height:14px;fill:",";margin-top:-3px;&:hover{fill:",";}"],h.colors.label,(0,v.darken)(.25,h.colors.label)),x=m.default.div.withConfig({displayName:"Breadcrumbs__Separator",componentId:"sc-8a88sp-3"})(["margin:0 15px;font-size:","px;font-weight:300;line-height:normal;",""],h.fontSizes.large,h.media.smallerThanMaxTablet(o||(o=(0,r.default)(["\n    margin: 0 10px;\n  "])))),E=(0,m.default)(p.default).withConfig({displayName:"Breadcrumbs__StyledLink",componentId:"sc-8a88sp-4"})(["font-size:","px;color:",";text-decoration:none;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;&:hover{color:",";text-decoration:underline;}"],h.fontSizes.small,h.colors.label,(0,v.darken)(.2,h.colors.label)),S=m.default.span.withConfig({displayName:"Breadcrumbs__LinkText",componentId:"sc-8a88sp-5"})([""]);var M=(0,u.memo)((function(e){var t=e.localize,a=e.intl,n=e.className,i=e.links,o=e.postType;return u.default.createElement(y,{className:n},u.default.createElement(b,{id:"e2e-home-page-link",to:"/"},u.default.createElement(w,{title:a.formatMessage(c.default.linkToHomePage),name:"homeFilled"})),u.default.createElement(x,null,"/"),i.map((function(e){return u.default.createElement(E,{key:e.to,id:"e2e-".concat(o,"-other-link"),to:e.to},u.default.createElement(S,null,void 0!==e.text.message?u.default.createElement(s.FormattedMessage,(0,l.default)({},e.text.message,{values:e.text.values})):t(e.text)))})))})),_=(0,s.injectIntl)((0,d.default)(M));t.default=_},LvTI:function(e,t,a){"use strict";a("SuFq"),a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("ma9I");var o,l=n(a("pVnL")),r=n(a("lwsE")),u=n(a("W8MJ")),d=n(a("PJYZ")),s=n(a("7W2i")),c=n(a("a1gu")),f=n(a("Nsbk")),p=n(a("lSNA")),m=n(a("VkAN")),h=I(a("q1tI")),v=I(a("vOnD")),g=a("96Cm"),y=a("iP56"),b=a("oGDI"),w=n(a("doQp")),x=n(a("2fl8")),E=n(a("3A/8")),S=n(a("mzbP")),M=a("Rw3A");function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(_=function(e){return e?a:t})(e)}function I(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=_(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var r=o?Object.getOwnPropertyDescriptor(e,l):null;r&&(r.get||r.set)?Object.defineProperty(n,l,r):n[l]=e[l]}return n.default=e,a&&a.set(e,n),n}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,f.default)(e);if(t){var i=(0,f.default)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,c.default)(this,a)}}var C=v.default.div.withConfig({displayName:"Ineligible__Container",componentId:"sc-145mpu-0"})([""]),O=(0,v.default)(y.Icon).withConfig({displayName:"Ineligible__StatusIcon",componentId:"sc-145mpu-1"})(["path{fill:",";}width:30px;height:30px;margin-bottom:20px;"],g.colors.clGreyOnGreyBackground),T=v.default.div.withConfig({displayName:"Ineligible__VoteCounter",componentId:"sc-145mpu-2"})(["margin-top:15px;",""],g.media.smallerThanMaxTablet(o||(o=(0,m.default)(["\n    display: none;\n  "])))),k=v.default.div.withConfig({displayName:"Ineligible__VoteTexts",componentId:"sc-145mpu-3"})(["display:flex;justify-content:space-between;align-items:flex-start;padding-bottom:4px;"]),N=v.default.div.withConfig({displayName:"Ineligible__VoteText",componentId:"sc-145mpu-4"})(["font-size:","px;color:",";"],g.fontSizes.base,g.colors.clGreyOnGreyBackground),j=(0,v.default)(w.default).withConfig({displayName:"Ineligible__StyledProgressBar",componentId:"sc-145mpu-5"})(["height:12px;width:100%;"]),B=(0,v.default)(x.default).withConfig({displayName:"Ineligible__StyledButton",componentId:"sc-145mpu-6"})(["margin-top:20px;"]),D=function(e){(0,s.default)(a,e);var t=P(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,p.default)((0,d.default)(e),"handleOnReadAnswer",(function(){e.props.onScrollToOfficialFeedback()})),e}return(0,u.default)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.initiative,n=t.initiativeSettings,i=n.eligibility_criteria,o=n.voting_threshold,r=t.initiativeStatus,u=a.attributes.upvotes_count,d=o;return h.default.createElement(C,null,h.default.createElement(b.StatusWrapper,null,h.default.createElement(E.default,{value:r.attributes.title_multiloc})),h.default.createElement(O,{ariaHidden:!0,name:"halt"}),h.default.createElement(b.StatusExplanation,null,h.default.createElement(M.FormattedMessage,(0,l.default)({},S.default.ineligibleStatusExplanation,{values:{ineligibleStatusExplanationBold:h.default.createElement("b",null,h.default.createElement(M.FormattedMessage,S.default.ineligibleStatusExplanationBold))}}),(function(t){return h.default.createElement(h.default.Fragment,null,t,i&&h.default.createElement(y.IconTooltip,{icon:"info",iconColor:e.props.theme.colorText,theme:"light",placement:"bottom",content:h.default.createElement(E.default,{value:i,supportHtml:!0})}))}))),h.default.createElement(T,null,h.default.createElement(k,null,h.default.createElement(N,null,h.default.createElement(M.FormattedMessage,(0,l.default)({},S.default.xVotes,{values:{count:u}}))),h.default.createElement(N,null,d)),h.default.createElement(j,{progress:u/d,color:"linear-gradient(270deg, #84939E 0%, #C8D0D6 100%)",bgColor:g.colors.lightGreyishBlue})),h.default.createElement(B,{onClick:this.handleOnReadAnswer},h.default.createElement(M.FormattedMessage,S.default.readAnswer)))}}]),a}(h.PureComponent),W=(0,v.withTheme)(D);t.default=W},"Nvc/":function(e,t,a){"use strict";a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a("pVnL"));a("ma9I"),a("sMBO");var l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=M(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var r=o?Object.getOwnPropertyDescriptor(e,l):null;r&&(r.get||r.set)?Object.defineProperty(n,l,r):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),r=a("ifvJ"),u=a("T89o"),d=a("qhky"),s=n(a("yiTP")),c=n(a("yYlr")),f=n(a("YLV/")),p=n(a("FSVo")),m=n(a("PC5P")),h=n(a("bc9h")),v=n(a("r5eU")),g=a("Rw3A"),y=n(a("V3HD")),b=a("N1C2"),w=a("KLnl"),x=a("1YJs"),E=n(a("wbnS")),S=n(a("+YyL"));function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(M=function(e){return e?a:t})(e)}var _=(0,l.memo)((function(e){var t=e.initiative,a=e.locale,n=e.tenant,i=e.authUser,o=e.initiativeImages,r=e.author,u=e.localize,s=e.intl.formatMessage;if(!(0,w.isNilOrError)(a)&&!(0,w.isNilOrError)(n)&&!(0,w.isNilOrError)(t)){var c=t.attributes,f=c.title_multiloc,p=c.body_multiloc,m=n.attributes.settings.core.locales,h=u(f,50),g=s(v.default.metaTitle,{initiativeTitle:h}),y=(0,b.stripHtml)(u(p),250),M=!(0,w.isNilOrError)(o)&&o.length>0?o[0].attributes.versions.fb:null,_=window.location.href,I=s(v.default.metaOgTitle,{initiativeTitle:h}),P={"@type":"Article",image:M,headline:g,author:(0,w.isNilOrError)(r)?"anonymous":"".concat(r.attributes.first_name," ").concat(r.attributes.last_name),mainEntityOfPage:{"@type":"WebPage","@id":_},datePublished:t.attributes.published_at},C={"@context":"http://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,item:{"@id":n.attributes.host,name:n.attributes.name,image:n.attributes.logo?n.attributes.logo.large:null}},{"@type":"ListItem",position:4,item:{"@id":"".concat(n.attributes.host,"/initiatives"),name:"Initiatives"}}]};return l.default.createElement(d.Helmet,null,l.default.createElement("title",null,"\n            ".concat(i&&i.attributes.unread_notifications?"(".concat(i.attributes.unread_notifications,") "):"","\n            ").concat(g)),(0,S.default)(),(0,E.default)(m),l.default.createElement("meta",{name:"title",content:g}),l.default.createElement("meta",{name:"description",content:y}),l.default.createElement("meta",{property:"og:type",content:"article"}),l.default.createElement("meta",{property:"og:title",content:I}),l.default.createElement("meta",{property:"og:description",content:s(v.default.initiativeOgDescription)}),M&&l.default.createElement("meta",{property:"og:image",content:M}),l.default.createElement("meta",{property:"og:image:width",content:"".concat(x.imageSizes.initiativeImg.fb[0])}),l.default.createElement("meta",{property:"og:image:height",content:"".concat(x.imageSizes.initiativeImg.fb[1])}),l.default.createElement("meta",{name:"twitter:title",content:I}),l.default.createElement("meta",{name:"twitter:description",content:s(v.default.initiativeOgDescription)}),M&&l.default.createElement("meta",{name:"twitter:image",content:M}),l.default.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),M&&l.default.createElement("script",{type:"application/ld+json"},JSON.stringify(P)),l.default.createElement("script",{type:"application/ld+json"},JSON.stringify(C)),l.default.createElement("meta",{property:"og:url",content:_}),l.default.createElement("meta",{property:"og:locale",content:a}))}return null})),I=(0,r.adopt)({initiative:function(e){var t=e.initiativeId,a=e.render;return l.default.createElement(p.default,{id:t},a)},initiativeImages:function(e){var t=e.initiativeId,a=e.render;return l.default.createElement(h.default,{initiativeId:t},a)},author:function(e){var t=e.initiative,a=e.render;return l.default.createElement(m.default,{id:(0,u.get)(t,"relationships.author.data.id",null)},a)},locale:l.default.createElement(s.default,null),tenant:l.default.createElement(c.default,null),authUser:l.default.createElement(f.default,null)}),P=(0,g.injectIntl)((0,y.default)(_));t.default=function(e){return l.default.createElement(I,e,(function(t){return l.default.createElement(P,(0,o.default)({},e,t))}))}},OrE6:function(e,t,a){"use strict";a("SuFq"),a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("ma9I");var o,l,r=n(a("pVnL")),u=n(a("lwsE")),d=n(a("W8MJ")),s=n(a("PJYZ")),c=n(a("7W2i")),f=n(a("a1gu")),p=n(a("Nsbk")),m=n(a("lSNA")),h=n(a("VkAN")),v=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=z(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var r=o?Object.getOwnPropertyDescriptor(e,l):null;r&&(r.get||r.set)?Object.defineProperty(n,l,r):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),g=n(a("vOnD")),y=a("ifvJ"),b=a("KLnl"),w=a("96Cm"),x=a("+9pX"),E=a("Rw3A"),S=n(a("wd/R")),M=n(a("mzbP")),_=n(a("FSVo")),I=n(a("Z94D")),P=n(a("yYlr")),C=n(a("YLV/")),O=a("uPkB"),T=n(a("PQA5")),k=n(a("IcsR")),N=n(a("LK/g")),j=n(a("EW5Z")),B=n(a("u/sY")),D=n(a("LvTI")),W=n(a("fQSr")),V=a("q3BX"),R=n(a("3SKu")),A=a("KuRP"),F=a("iH/W");function z(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(z=function(e){return e?a:t})(e)}function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,p.default)(e);if(t){var i=(0,p.default)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,f.default)(this,a)}}var L=g.default.div.withConfig({displayName:"VoteControl__Container",componentId:"i7gv70-0"})([""," ",""],w.media.biggerThanMaxTablet(o||(o=(0,h.default)(["\n    margin-bottom: 45px;\n    padding: 35px;\n    border: 1px solid #e0e0e0;\n    ",";\n  "])),w.defaultCardStyle),w.media.smallerThanMaxTablet(l||(l=(0,h.default)(["\n    padding: 15px;\n  "])))),H={proposed:{voted:k.default,notVoted:T.default},expired:{voted:N.default,notVoted:N.default},threshold_reached:{voted:j.default,notVoted:j.default},answered:{voted:B.default,notVoted:B.default},ineligible:{voted:D.default,notVoted:D.default},custom:{voted:W.default,notVoted:W.default}},U=function(e){(0,c.default)(a,e);var t=q(a);function a(){var e;(0,u.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,m.default)((0,s.default)(e),"handleOnvote",(function(){var t=e.props.votingPermission;switch(null==t?void 0:t.action){case"sign_in_up":(0,A.trackEventByName)("Sign up/in modal opened in response to clicking vote initiative"),(0,V.openSignUpInModal)({flow:"signup",verification:!1,verificationContext:void 0,action:function(){return e.vote()}});break;case"sign_in_up_and_verify":(0,A.trackEventByName)("Sign up/in modal opened in response to clicking vote initiative"),(0,V.openSignUpInModal)({flow:"signup",verification:!0,verificationContext:{type:"initiative",action:"voting_initiative"},action:function(){return e.vote()}});break;case"verify":(0,A.trackEventByName)("Verification modal opened in response to clicking vote initiative"),(0,F.openVerificationModal)({context:{action:"voting_initiative",type:"initiative"}});break;default:e.vote()}})),(0,m.default)((0,s.default)(e),"vote",(function(){var t=e.props.initiative;(0,b.isNilOrError)(t)||(0,O.addVote)(t.id,{mode:"up"})})),(0,m.default)((0,s.default)(e),"handleOnCancelVote",(function(){var t,a,n,i=e.props.initiative;!(0,b.isNilOrError)(i)&&null!==(t=i.relationships)&&void 0!==t&&null!==(a=t.user_vote)&&void 0!==a&&null!==(n=a.data)&&void 0!==n&&n.id&&(0,O.deleteVote)(i.id,i.relationships.user_vote.data.id)})),e}return(0,d.default)(a,[{key:"render",value:function(){var e=this.props,t=e.initiative,a=e.initiativeStatus,n=e.tenant,i=e.className,o=e.onScrollToOfficialFeedback,l=e.id,u=e.votingPermission;if((0,b.isNilOrError)(t)||(0,b.isNilOrError)(a)||(0,b.isNilOrError)(n)||!n.attributes.settings.initiatives)return null;var d=(0,S.default)(t.attributes.expires_at,"YYYY-MM-DDThh:mm:ss.SSSZ"),s=S.default.duration(d.diff((0,S.default)())).asSeconds()<0,c="proposed"===a.attributes.code&&s?"expired":a.attributes.code,f=!(!t.relationships.user_vote||!t.relationships.user_vote.data),p=H[c][f?"voted":"notVoted"],m=n.attributes.settings.initiatives;return v.default.createElement(L,{id:l||"",className:i||"","aria-live":"polite"},v.default.createElement(x.ScreenReaderOnly,null,v.default.createElement(E.FormattedMessage,(0,r.default)({tagName:"h3"},M.default.invisibleTitle))),v.default.createElement(p,{initiative:t,initiativeStatus:a,initiativeSettings:m,userVoted:f,onVote:this.handleOnvote,onCancelVote:this.handleOnCancelVote,onScrollToOfficialFeedback:o,disabledReason:null==u?void 0:u.disabledReason}))}}]),a}(v.PureComponent),J=(0,y.adopt)({tenant:v.default.createElement(P.default,null),authUser:v.default.createElement(C.default,null),initiative:function(e){var t=e.initiativeId,a=e.render;return v.default.createElement(_.default,{id:t},a)},initiativeStatus:function(e){var t=e.initiative,a=e.render;return!(0,b.isNilOrError)(t)&&t.relationships.initiative_status&&t.relationships.initiative_status.data?v.default.createElement(I.default,{id:t.relationships.initiative_status.data.id},a):null},votingPermission:v.default.createElement(R.default,{action:"voting_initiative"})});t.default=function(e){return v.default.createElement(J,e,(function(t){return v.default.createElement(U,(0,r.default)({},e,t))}))}},PQA5:function(e,t,a){"use strict";a("SuFq"),a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("ma9I");var o,l,r,u,d=n(a("pVnL")),s=n(a("lwsE")),c=n(a("W8MJ")),f=n(a("PJYZ")),p=n(a("7W2i")),m=n(a("a1gu")),h=n(a("Nsbk")),v=n(a("lSNA")),g=n(a("VkAN")),y=B(a("q1tI")),b=B(a("vOnD")),w=a("96Cm"),x=a("+9pX"),E=a("oGDI"),S=a("di2/"),M=n(a("tOmD")),_=a("iP56"),I=n(a("doQp")),P=n(a("2fl8")),C=a("Rw3A"),O=n(a("mzbP")),T=n(a("3A/8")),k=a("ufqH"),N=n(a("8QT5"));function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(j=function(e){return e?a:t})(e)}function B(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=j(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var r=o?Object.getOwnPropertyDescriptor(e,l):null;r&&(r.get||r.set)?Object.defineProperty(n,l,r):n[l]=e[l]}return n.default=e,a&&a.set(e,n),n}function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,h.default)(e);if(t){var i=(0,h.default)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,m.default)(this,a)}}var W=b.default.div.withConfig({displayName:"ProposedNotVoted__Container",componentId:"sc-1wcgnfz-0"})([""]),V=b.default.div.withConfig({displayName:"ProposedNotVoted__CountDownWrapper",componentId:"sc-1wcgnfz-1"})(["display:flex;flex-direction:row-reverse;",""],w.media.smallerThanMaxTablet(o||(o=(0,g.default)(["\n    display: none;\n  "])))),R=(0,b.default)(_.Icon).withConfig({displayName:"ProposedNotVoted__StatusIcon",componentId:"sc-1wcgnfz-2"})(["path{fill:",";}width:31px;height:31px;margin-bottom:10px;"],(function(e){return e.theme.colorMain})),A=b.default.div.withConfig({displayName:"ProposedNotVoted__VoteCounter",componentId:"sc-1wcgnfz-3"})(["margin-top:15px;",""],w.media.smallerThanMaxTablet(l||(l=(0,g.default)(["\n    display: none;\n  "])))),F=b.default.div.withConfig({displayName:"ProposedNotVoted__VoteText",componentId:"sc-1wcgnfz-4"})(["display:flex;justify-content:space-between;align-items:flex-start;padding-bottom:4px;"]),z=b.default.div.withConfig({displayName:"ProposedNotVoted__VoteTextLeft",componentId:"sc-1wcgnfz-5"})(["font-size:","px;color:",";"],w.fontSizes.base,(function(e){return e.theme.colorMain})),q=b.default.div.withConfig({displayName:"ProposedNotVoted__VoteTextRight",componentId:"sc-1wcgnfz-6"})(["font-size:","px;color:",";"],w.fontSizes.base,(function(e){return e.theme.colorText})),L=(0,b.default)(I.default).withConfig({displayName:"ProposedNotVoted__StyledProgressBar",componentId:"sc-1wcgnfz-7"})(["height:12px;width:100%;"]),H=(0,b.default)(P.default).withConfig({displayName:"ProposedNotVoted__StyledButton",componentId:"sc-1wcgnfz-8"})(["margin-top:20px;svg{margin-top:-2px;}"]),U=b.default.span.withConfig({displayName:"ProposedNotVoted__OnDesktop",componentId:"sc-1wcgnfz-9"})(["display:inline;",""],w.media.smallerThanMaxTablet(r||(r=(0,g.default)(["\n    display: none;\n  "])))),J=b.default.span.withConfig({displayName:"ProposedNotVoted__OnMobile",componentId:"sc-1wcgnfz-10"})(["display:inline;",""],w.media.biggerThanMaxTablet(u||(u=(0,g.default)(["\n    display: none;\n  "])))),Y=b.default.div.withConfig({displayName:"ProposedNotVoted__TooltipContent",componentId:"sc-1wcgnfz-11"})(["display:flex;align-items:center;padding:",";"],(function(e){return e.inMap?"0px":"15px"})),G=(0,b.default)(_.Icon).withConfig({displayName:"ProposedNotVoted__TooltipContentIcon",componentId:"sc-1wcgnfz-12"})(["flex:0 0 25px;width:20px;height:25px;margin-right:1rem;"]),Z=b.default.div.withConfig({displayName:"ProposedNotVoted__TooltipContentText",componentId:"sc-1wcgnfz-13"})(["flex:1 1 auto;color:",";font-size:","px;line-height:normal;font-weight:400;overflow-wrap:break-word;word-wrap:break-word;word-break:break-word;a,button{color:",";font-size:","px;line-height:normal;font-weight:400;text-align:left;text-decoration:underline;white-space:normal;overflow-wrap:break-word;word-wrap:break-word;word-break:break-all;word-break:break-word;hyphens:auto;display:inline;padding:0px;margin:0px;cursor:pointer;transition:all 100ms ease-out;&:hover{color:",";text-decoration:underline;}}"],w.colors.text,w.fontSizes.base,w.colors.clBlueDark,w.fontSizes.base,(0,k.darken)(.15,w.colors.clBlueDark)),K={notPermitted:O.default.votingNotPermitted},Q=function(e){(0,p.default)(a,e);var t=D(a);function a(){var e;(0,s.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,v.default)((0,f.default)(e),"handleOnVote",(function(){e.props.onVote()})),e}return(0,c.default)(a,[{key:"render",value:function(){var e=this.props,t=e.initiative,a=e.initiativeSettings,n=a.voting_threshold,i=a.threshold_reached_message,o=e.theme,l=e.disabledReason,r=t.attributes.upvotes_count,u=n,s=(0,S.getDaysRemainingUntil)(t.attributes.expires_at),c=i?y.default.createElement(_.IconTooltip,{icon:"info",iconColor:this.props.theme.colorText,theme:"light",placement:"bottom",content:y.default.createElement(T.default,{value:i,supportHtml:!0})}):y.default.createElement(y.default.Fragment,null),f=l?y.default.createElement(Y,{id:"tooltip-content",className:"e2e-disabled-tooltip"},y.default.createElement(G,{name:"lock-outlined",ariaHidden:!0}),y.default.createElement(Z,null,y.default.createElement(C.FormattedMessage,K[l]))):null;return y.default.createElement(W,null,y.default.createElement(V,null,y.default.createElement(M.default,{targetTime:t.attributes.expires_at})),y.default.createElement(R,{ariaHidden:!0,name:"bullseye"}),y.default.createElement(E.StatusExplanation,null,y.default.createElement(U,null,y.default.createElement(C.FormattedMessage,(0,d.default)({},O.default.proposedStatusExplanation,{values:{votingThreshold:n,proposedStatusExplanationBold:y.default.createElement("b",null,y.default.createElement(C.FormattedMessage,O.default.proposedStatusExplanationBold))}})),c),y.default.createElement(J,null,y.default.createElement(C.FormattedMessage,(0,d.default)({},O.default.proposedStatusExplanationMobile,{values:{daysLeft:s,votingThreshold:n,proposedStatusExplanationMobileBold:y.default.createElement("b",null,y.default.createElement(C.FormattedMessage,O.default.proposedStatusExplanationMobileBold))}})),c)),y.default.createElement(A,null,y.default.createElement(F,{"aria-hidden":!0},y.default.createElement(z,{id:"e2e-initiative-not-voted-vote-count"},y.default.createElement(C.FormattedMessage,(0,d.default)({},O.default.xVotes,{values:{count:r}}))),y.default.createElement(q,null,u)),y.default.createElement(x.ScreenReaderOnly,null,y.default.createElement(C.FormattedMessage,(0,d.default)({},O.default.xVotesOfY,{values:{xVotes:y.default.createElement(C.FormattedMessage,(0,d.default)({},O.default.xVotes,{values:{count:r}})),votingThreshold:u}}))),y.default.createElement(L,{progress:r/u,color:o.colorMain,bgColor:w.colors.lightGreyishBlue})),y.default.createElement(N.default,{disabled:!f,interactive:!0,placement:"bottom",content:f||y.default.createElement(y.default.Fragment,null),theme:"light",hideOnClick:!1},y.default.createElement("div",{tabIndex:f?0:-1,className:"e2e-idea-button ".concat(f?"disabled":""," ").concat(l||"")},y.default.createElement(H,{icon:"upvote","aria-describedby":"tooltip-content",iconAriaHidden:!0,disabled:!!f,buttonStyle:"primary",onClick:this.handleOnVote,id:"e2e-initiative-upvote-button",ariaDisabled:!1},y.default.createElement(C.FormattedMessage,O.default.vote)))))}}]),a}(y.PureComponent),X=(0,b.withTheme)(Q);t.default=X},QLN2:function(e,t,a){"use strict";a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,l,r=n(a("J4zp")),u=n(a("VkAN")),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=h(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var r=o?Object.getOwnPropertyDescriptor(e,l):null;r&&(r.get||r.set)?Object.defineProperty(n,l,r):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),s=a("iP56"),c=n(a("pQ8y")),f=n(a("vOnD")),p=a("96Cm"),m=a("ufqH");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(h=function(e){return e?a:t})(e)}var v=f.default.div.withConfig({displayName:"CollapsibleBox__Container",componentId:"qoxmo-0"})(["background:#fff;border:1px solid ",";border-radius:",";"],p.colors.separation,(function(e){return e.theme.borderRadius})),g=f.default.div.withConfig({displayName:"CollapsibleBox__Title",componentId:"qoxmo-1"})(["display:flex;align-items:center;"]),y=(0,f.default)(s.Icon).withConfig({displayName:"CollapsibleBox__TitleIcon",componentId:"qoxmo-2"})(["flex:0 0 16px;width:16px;height:23px;fill:",";margin-right:13px;",""],p.colors.label,p.media.smallerThanMinTablet(o||(o=(0,u.default)(["\n    flex: 0 0 14px;\n    width: 14px;\n    height: 20px;\n  "])))),b=f.default.div.withConfig({displayName:"CollapsibleBox__ContentLabel",componentId:"qoxmo-3"})(["color:",";font-size:","px;font-weight:400;margin-right:6px;text-align:left;transition:all 100ms ease-out;"],p.colors.label,p.fontSizes.base),w=f.default.button.withConfig({displayName:"CollapsibleBox__ContentToggleButton",componentId:"qoxmo-4"})(["background-color:#fff;display:flex;align-items:center;justify-content:space-between;cursor:pointer;width:100%;height:100%;padding-left:18px;padding-right:20px;padding-top:10px;padding-bottom:10px;color:",";font-size:","px;line-height:24px;font-weight:600;border-radius:",";&:hover{","{color:",";}}"],(function(e){return e.theme.colorText}),p.fontSizes.base,(function(e){return e.theme.borderRadius}),b,(0,m.darken)(.2,p.colors.label)),x=(0,f.default)(s.Icon).withConfig({displayName:"CollapsibleBox__ArrowIcon",componentId:"qoxmo-5"})(["flex:0 0 13px;width:13px;height:13px;fill:",";transform:rotate(90deg);transition:all 0.2s linear;&.open{transform:rotate(0deg);}"],p.colors.label),E=f.default.div.withConfig({displayName:"CollapsibleBox__Wrapper",componentId:"qoxmo-6"})(["position:relative;overflow:hidden;z-index:2;padding:20px;background-color:",";margin-top:1px;"," &.content-enter{height:0;opacity:0;&.content-enter-active{height:100%;opacity:1;transition:all ","ms ease-out;}}&.content-exit{height:100%;opacity:1;&.content-exit-active{height:0;opacity:0;transition:all ","ms ease-out;}}"],(function(e){return e.contentBackgroundColor||"#fff"}),p.media.largePhone(l||(l=(0,u.default)(["\n    padding: 30px 20px;\n  "]))),300,300),S=(0,d.memo)((function(e){var t=(0,d.useState)(!1),a=(0,r.default)(t,2),n=a[0],i=a[1],o=(0,d.useCallback)((function(){i(!n)}),[n]),l=e.className,u=e.titleIconName,s=e.title,f=e.children,p=e.contentBackgroundColor,m=e.e2eId;return d.default.createElement(v,{className:l},d.default.createElement(w,{id:m||"","aria-expanded":n,onClick:o},d.default.createElement(g,null,u&&d.default.createElement(y,{name:u}),d.default.createElement(b,null,s)),d.default.createElement(x,{name:"dropdown",className:n?"open":""})),d.default.createElement(c.default,{classNames:"content",in:n,timeout:300,mountOnEnter:!0,unmountOnExit:!0,exit:!0},d.default.createElement(E,{contentBackgroundColor:p},d.default.createElement(d.Suspense,{fallback:null},f))))}));t.default=S},Uj4o:function(e,t,a){"use strict";a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("yWo2"),a("2B1R"),a("TeQF");var o,l,r=n(a("VkAN")),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=h(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var r=o?Object.getOwnPropertyDescriptor(e,l):null;r&&(r.get||r.set)?Object.defineProperty(n,l,r):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),d=a("KLnl"),s=n(a("vfLC")),c=n(a("V3HD")),f=n(a("vOnD")),p=a("96Cm"),m=a("ufqH");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(h=function(e){return e?a:t})(e)}var v=f.default.div.withConfig({displayName:"Topics__Container",componentId:"tfo4q2-0"})(["display:flex;flex-wrap:wrap;",""],(0,p.isRtl)(o||(o=(0,r.default)(["\n    flex-direction: row-reverse;\n  "])))),g=f.default.div.withConfig({displayName:"Topics__Topic",componentId:"tfo4q2-1"})(["color:",";font-size:","px;font-weight:400;padding:6px 12px;margin-right:5px;margin-bottom:5px;border:1px solid ",";border-radius:",";",""],(function(e){return e.theme.colorSecondary}),p.fontSizes.small,(function(e){var t=e.theme;return(0,m.transparentize)(.7,t.colorSecondary)}),(function(e){return e.theme.borderRadius}),(0,p.isRtl)(l||(l=(0,r.default)(["\n    margin-right: 0;\n    margin-left: 5px;\n  "])))),y=(0,u.memo)((function(e){var t=e.topicIds,a=e.className,n=e.postType,i=e.localize,o=(0,s.default)({topicIds:t});return!(0,d.isNilOrError)(o)&&o.length>0?u.default.createElement(v,{id:"e2e-".concat(n,"-topics"),className:a},o.filter((function(e){return!(0,d.isNilOrError)(e)})).map((function(e){return u.default.createElement(g,{key:e.id,className:"e2e-".concat(n,"-topic")},i(e.attributes.title_multiloc))}))):null})),b=(0,c.default)(y);t.default=b},UjZJ:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.initiativeStatusStream=function(e){return o.default.get({apiEndpoint:"".concat(i.API_PATH,"/initiative_statuses/").concat(e)})},t.initiativeStatusesStream=function(){return o.default.get({apiEndpoint:"".concat(i.API_PATH,"/initiative_statuses")})},a("ma9I");var i=a("p0gT"),o=n(a("1Kqg"))},VUEM:function(e,t,a){"use strict";a("ENF9"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("4mDm"),a("07d7"),a("5s+n"),a("PKPk"),a("3bBZ");var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=r(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var u=o?Object.getOwnPropertyDescriptor(e,l):null;u&&(u.get||u.set)?Object.defineProperty(n,l,u):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),l=n(a("QLN2"));function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(r=function(e){return e?a:t})(e)}var u=o.default.lazy((function(){return a.e(151).then(a.t.bind(null,"jcw9",7))})),d=(0,o.memo)((function(e){var t=e.address,a=e.position,n=e.className,i=e.projectId;return o.default.createElement(l.default,{e2eId:"e2e-map-toggle",className:n,titleIconName:"position",title:t},o.default.createElement(u,{position:a,projectId:i}))}));t.default=d},Y6RB:function(e,t,a){"use strict";a("ENF9"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a("VkAN"));a("4mDm"),a("07d7"),a("5s+n"),a("PKPk"),a("3bBZ");var l,r,u,d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var r=o?Object.getOwnPropertyDescriptor(e,l):null;r&&(r.get||r.set)?Object.defineProperty(n,l,r):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),s=n(a("/92W")),c=n(a("vOnD")),f=a("96Cm"),p=a("l8nb");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(m=function(e){return e?a:t})(e)}var h=(0,d.lazy)((function(){return Promise.all([a.e(6),a.e(188)]).then(a.t.bind(null,"LtqC",7))})),v=c.default.div.withConfig({displayName:"Footer__Container",componentId:"sc-1cicwgk-0"})(["flex:1 1 auto;width:100%;"]),g=c.default.div.withConfig({displayName:"Footer__Content",componentId:"sc-1cicwgk-1"})(["width:100%;max-width:","px;margin-left:auto;margin-right:auto;margin-top:50px;padding-left:60px;padding-right:60px;padding-bottom:80px;",""],p.postPageContentMaxWidth,f.media.smallerThanMinTablet(l||(l=(0,o.default)(["\n    margin-top: 30px;\n    padding-left: 15px;\n    padding-right: 15px;\n    padding-bottom: 30px;\n  "])))),y=c.default.div.withConfig({displayName:"Footer__ContentInner",componentId:"sc-1cicwgk-2"})(["padding-right:","px;"," ",""],p.rightColumnWidthDesktop+p.columnsGapDesktop,f.media.tablet(r||(r=(0,o.default)(["\n    padding-right: ","px;\n  "])),p.rightColumnWidthTablet+p.columnsGapTablet),f.media.smallerThanMaxTablet(u||(u=(0,o.default)(["\n    padding-right: 0px;\n  "])))),b=(0,d.memo)((function(e){var t=e.postId,a=e.postType,n=e.className;return d.default.createElement(v,{className:n||""},d.default.createElement(g,null,d.default.createElement(y,null,d.default.createElement(d.Suspense,{fallback:d.default.createElement(s.default,null)},d.default.createElement(h,{postId:t,postType:a})))))}));t.default=b},aJX8:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,a("JRPe").defineMessages)({twitterMessage:{id:"app.components.PostComponents.SharingModalContent.twitterMessage",defaultMessage:"Vote for {postTitle} on"},ideaEmailSharingSubjectText:{id:"app.components.PostComponents.SharingModalContent.ideaEmailSharingSubjectText",defaultMessage:"Support my idea: {postTitle}"},optionEmailSharingSubject:{id:"app.components.PostComponents.SharingModalContent.optionEmailSharingSubject",defaultMessage:"Support my proposed option: {postTitle}."},issueEmailSharingSubject:{id:"app.components.PostComponents.SharingModalContent.issueEmailSharingSubject",defaultMessage:"I just posted an issue: {postTitle}."},questionEmailSharingSubject:{id:"app.components.PostComponents.SharingModalContent.questionEmailSharingSubject",defaultMessage:"Join the discussion: {postTitle}."},contributionEmailSharingSubject:{id:"app.components.PostComponents.SharingModalContent.contributionEmailSharingSubject",defaultMessage:"Support my contribution: {postTitle}."},projectEmailSharingSubject:{id:"app.components.PostComponents.SharingModalContent.projectEmailSharingSubject",defaultMessage:"Support my project: {postTitle}."},initiativeEmailSharingSubject:{id:"app.components.PostComponents.SharingModalContent.initiativeEmailSharingSubject",defaultMessage:"Support my initiative: {postTitle}."},ideaEmailSharingBody:{id:"app.components.PostComponents.SharingModalContent.ideaEmailSharingBody",defaultMessage:"Support my idea '{postTitle}' at {postUrl}!"},issueEmailSharingBody:{id:"app.components.PostComponents.SharingModalContent.issueEmailSharingBody",defaultMessage:"I posted an issue '{postTitle}' at {postUrl}!"},optionEmailSharingBody:{id:"app.components.PostComponents.SharingModalContent.optionEmailSharingBody",defaultMessage:"Support my proposed option '{postTitle}' at {postUrl}!"},contributionEmailSharingBody:{id:"app.components.PostComponents.SharingModalContent.contributionEmailSharingBody",defaultMessage:"Support my contribution '{postTitle}' at {postUrl}!"},questionEmailSharingModalContentBody:{id:"app.components.PostComponents.SharingModalContent.questionEmailSharingModalContentBody",defaultMessage:"Join the discussion about this question '{postTitle}' at {postUrl}!"},projectEmailSharingBody:{id:"app.components.PostComponents.SharingModalContent.projectEmailSharingBody",defaultMessage:"Support my project '{postTitle}' at {postUrl}!"},initiativeEmailSharingBody:{id:"app.components.PostComponents.SharingModalContent.initiativeEmailSharingBody",defaultMessage:"What do you think of this initiative? Vote on it and share the discussion at {postUrl} to make your voice heard!"},ideaWhatsAppMessage:{id:"app.components.PostComponents.SharingModalContent.ideaWhatsAppMessage",defaultMessage:"Support my idea: {postTitle}."},optionWhatsAppMessage:{id:"app.components.PostComponents.SharingModalContent.optionWhatsAppMessage",defaultMessage:"Support my option: {postTitle}."},questionWhatsAppMessage:{id:"app.components.PostComponents.SharingModalContent.questionWhatsAppMessage",defaultMessage:"Join the discussion: {postTitle}."},contributionWhatsAppMessage:{id:"app.components.PostComponents.SharingModalContent.contributionWhatsAppMessage",defaultMessage:"Support my contribution: {postTitle}."},projectWhatsAppMessage:{id:"app.components.PostComponents.SharingModalContent.projectWhatsAppMessage",defaultMessage:"Support my project: {postTitle}."},issueWhatsAppMessage:{id:"app.components.PostComponents.SharingModalContent.issueWhatsAppMessage",defaultMessage:"I just posted an issue: {postTitle}."},whatsAppMessageProposal:{id:"app.components.PostComponents.SharingModalContent.whatsAppMessageProposal",defaultMessage:"I just posted a proposal for {orgName}: {postTitle}"}});t.default=n},bPnU:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={sharingModalOpened:{name:"initiativeflow social sharing modal opened"}}},bc9h:function(e,t,a){"use strict";a("SuFq");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("FZtP");var i=n(a("lwsE")),o=n(a("W8MJ")),l=n(a("PJYZ")),r=n(a("7W2i")),u=n(a("a1gu")),d=n(a("Nsbk")),s=n(a("lSNA")),c=n(a("q1tI")),f=a("DtyJ"),p=a("ahDk"),m=n(a("aTp4")),h=a("gkAX"),v=a("T89o");function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,d.default)(e);if(t){var i=(0,d.default)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,u.default)(this,a)}}var y=function(e){(0,r.default)(a,e);var t=g(a);function a(e){var n;return(0,i.default)(this,a),n=t.call(this,e),(0,s.default)((0,l.default)(n),"inputProps$",void 0),(0,s.default)((0,l.default)(n),"subscriptions",void 0),n.state={initiativeImages:void 0},n}return(0,o.default)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.initiativeId;this.inputProps$=new f.BehaviorSubject({initiativeId:t}),this.subscriptions=[this.inputProps$.pipe((0,p.distinctUntilChanged)((function(e,t){return(0,m.default)(e,t)})),(0,p.switchMap)((function(e){var t=e.initiativeId;return(0,v.isString)(t)?(0,h.initiativeImagesStream)(t).observable:(0,f.of)(null)}))).subscribe((function(t){e.setState({initiativeImages:t?t.data:null})}))]}},{key:"componentDidUpdate",value:function(){var e=this.props.initiativeId;this.inputProps$.next({initiativeId:e})}},{key:"componentWillUnmount",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"render",value:function(){return(0,this.props.children)(this.state.initiativeImages)}}]),a}(c.default.Component);t.default=y},d1qu:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,a("JRPe").defineMessages)({linkToHomePage:{id:"app.components.PostComponents.linkToHomePage",defaultMessage:"Home page"},readMore:{id:"app.components.PostComponents.readMore",defaultMessage:"Read more..."}});t.default=n},eTaz:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={clickTranslateInitiativeButton:{name:"Clicked button to translate initiative title/description"},clickGoBackToOriginalInitiativeCopyButton:{name:"Clicked button to go back to original, non-translated initiative title/description"}}},"fM+I":function(e,t,a){"use strict";a("tkto"),a("pNMO"),a("TeQF"),a("5DmW"),a("FZtP"),a("27RR");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.initiativeByIdStream=m,t.initiativeBySlugStream=function(e){return d.default.get({apiEndpoint:"".concat(u.API_PATH,"/initiatives/by_slug/").concat(e)})},t.initiativesStream=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return d.default.get(p({apiEndpoint:"".concat(u.API_PATH,"/initiatives")},e))},t.initiativesFilterCountsStream=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return d.default.get(p(p({apiEndpoint:"".concat(u.API_PATH,"/initiatives/filter_counts")},e),{},{cacheStream:!1}))},t.initiativesMarkersStream=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return d.default.get(p(p({apiEndpoint:"".concat(u.API_PATH,"/initiatives/as_markers")},e),{},{cacheStream:!1}))},t.addInitiative=function(e){return h.apply(this,arguments)},t.updateInitiative=function(e,t){return v.apply(this,arguments)},t.deleteInitiative=function(e){return g.apply(this,arguments)},t.initiativeAllowedTransitionsStream=function(e){return d.default.get({apiEndpoint:"".concat(u.API_PATH,"/initiatives/").concat(e,"/allowed_transitions")})},t.initiativeActivities=function(e){return d.default.get({apiEndpoint:"".concat(u.API_PATH,"/initiatives/").concat(e,"/activities")})},t.getInitiativeActionDescriptors=function(){return d.default.get({apiEndpoint:"".concat(u.API_PATH,"/action_descriptors/initiatives")})};var i=n(a("o0o1")),o=n(a("J4zp")),l=n(a("yXPU")),r=n(a("lSNA"));a("ma9I"),a("4mDm"),a("07d7"),a("5s+n"),a("PKPk"),a("3bBZ");var u=a("p0gT"),d=n(a("1Kqg")),s=a("ahDk"),c=a("T89o");function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function m(e){return d.default.get({apiEndpoint:"".concat(u.API_PATH,"/initiatives/").concat(e)})}function h(){return(h=(0,l.default)(i.default.mark((function e(t){var a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.default.add("".concat(u.API_PATH,"/initiatives"),{initiative:t});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return(v=(0,l.default)(i.default.mark((function e(t,a){var n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.default.update("".concat(u.API_PATH,"/initiatives/").concat(t),t,{initiative:a});case 2:return n=e.sent,d.default.fetchAllWith({apiEndpoint:["".concat(u.API_PATH,"/stats/initiatives_count"),"".concat(u.API_PATH,"/initiatives"),"".concat(u.API_PATH,"/initiatives/").concat(t,"/activities")]}),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=(0,l.default)(i.default.mark((function e(t){var a,n,l,r,f;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([m(t).observable.pipe((0,s.first)()).toPromise(),d.default.delete("".concat(u.API_PATH,"/initiatives/").concat(t),t)]);case 2:return a=e.sent,n=(0,o.default)(a,2),l=n[0],r=n[1],f=(0,c.get)(l,"relationships.author.data.id",!1),d.default.fetchAllWith({apiEndpoint:f?["".concat(u.API_PATH,"/users/").concat(f,"/initiatives_count")]:[]}),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},fQSr:function(e,t,a){"use strict";a("SuFq"),a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("ma9I");var o,l=n(a("pVnL")),r=n(a("lwsE")),u=n(a("W8MJ")),d=n(a("PJYZ")),s=n(a("7W2i")),c=n(a("a1gu")),f=n(a("Nsbk")),p=n(a("lSNA")),m=n(a("VkAN")),h=P(a("q1tI")),v=P(a("vOnD")),g=a("96Cm"),y=a("+9pX"),b=a("oGDI"),w=n(a("tOmD")),x=n(a("doQp")),E=n(a("2fl8")),S=a("Rw3A"),M=n(a("mzbP")),_=n(a("3A/8"));function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(I=function(e){return e?a:t})(e)}function P(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=I(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var r=o?Object.getOwnPropertyDescriptor(e,l):null;r&&(r.get||r.set)?Object.defineProperty(n,l,r):n[l]=e[l]}return n.default=e,a&&a.set(e,n),n}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,f.default)(e);if(t){var i=(0,f.default)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,c.default)(this,a)}}var O=v.default.div.withConfig({displayName:"Custom__Container",componentId:"a81lus-0"})([""]),T=v.default.div.withConfig({displayName:"Custom__CountDownWrapper",componentId:"a81lus-1"})(["display:flex;flex-direction:row-reverse;",""],g.media.smallerThanMaxTablet(o||(o=(0,m.default)(["\n    display: none;\n  "])))),k=v.default.div.withConfig({displayName:"Custom__VoteCounter",componentId:"a81lus-2"})(["margin-top:15px;"]),N=v.default.div.withConfig({displayName:"Custom__VoteText",componentId:"a81lus-3"})(["display:flex;justify-content:space-between;align-items:flex-start;padding-bottom:4px;"]),j=v.default.div.withConfig({displayName:"Custom__VoteTextLeft",componentId:"a81lus-4"})(["font-size:","px;color:",";"],g.fontSizes.base,(function(e){return e.theme.colorMain})),B=v.default.div.withConfig({displayName:"Custom__VoteTextRight",componentId:"a81lus-5"})(["font-size:","px;color:",";"],g.fontSizes.base,(function(e){return e.theme.colorText})),D=(0,v.default)(x.default).withConfig({displayName:"Custom__StyledProgressBar",componentId:"a81lus-6"})(["height:12px;width:100%;"]),W=(0,v.default)(E.default).withConfig({displayName:"Custom__StyledButton",componentId:"a81lus-7"})(["margin-top:20px;"]),V=function(e){(0,s.default)(a,e);var t=C(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,p.default)((0,d.default)(e),"handleOnVote",(function(){e.props.onVote()})),e}return(0,u.default)(a,[{key:"render",value:function(){var e=this.props,t=e.initiative,a=e.initiativeStatus,n=e.initiativeSettings.voting_threshold,i=e.theme,o=e.userVoted,r=t.attributes.upvotes_count,u=n;return h.default.createElement(O,null,h.default.createElement(T,null,h.default.createElement(w.default,{targetTime:t.attributes.expires_at})),h.default.createElement(b.StatusExplanation,null,h.default.createElement(_.default,{value:a.attributes.description_multiloc})),h.default.createElement(k,null,h.default.createElement(N,{"aria-hidden":!0},h.default.createElement(j,null,h.default.createElement(S.FormattedMessage,(0,l.default)({},M.default.xVotes,{values:{count:r}}))),h.default.createElement(B,null,u)),h.default.createElement(y.ScreenReaderOnly,null,h.default.createElement(S.FormattedMessage,(0,l.default)({},M.default.xVotesOfY,{values:{xVotes:h.default.createElement(S.FormattedMessage,(0,l.default)({},M.default.xVotes,{values:{count:r}})),votingThreshold:u}}))),h.default.createElement(D,{progress:r/u,color:i.colorMain,bgColor:g.colors.lightGreyishBlue})),!o&&h.default.createElement(W,{icon:"upvote",buttonStyle:"primary",onClick:this.handleOnVote},h.default.createElement(S.FormattedMessage,M.default.vote)))}}]),a}(h.PureComponent),R=(0,v.withTheme)(V);t.default=R},gZqF:function(e,t,a){"use strict";a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,l,r,u,d=n(a("VkAN")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=w(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var r=o?Object.getOwnPropertyDescriptor(e,l):null;r&&(r.get||r.set)?Object.defineProperty(n,l,r):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),c=n(a("JUYq")),f=a("iP56"),p=n(a("je0/")),m=n(a("IAnr")),h=a("Rw3A"),v=n(a("xLus")),g=n(a("vOnD")),y=a("96Cm"),b=a("ufqH");function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(w=function(e){return e?a:t})(e)}var x=g.default.div.withConfig({displayName:"InitiativeShowPageTopBar__Container",componentId:"aqyjbz-0"})(["height:","px;background:#fff;border-bottom:solid 1px ",";",""],(function(e){return e.theme.mobileTopBarHeight}),(0,b.lighten)(.4,y.colors.label),y.media.biggerThanMaxTablet(o||(o=(0,d.default)(["\n    display: none;\n  "])))),E=g.default.div.withConfig({displayName:"InitiativeShowPageTopBar__TopBarInner",componentId:"aqyjbz-1"})(["height:100%;padding-left:15px;padding-right:15px;position:relative;display:flex;align-items:center;justify-content:space-between;",""],y.media.biggerThanMinTablet(l||(l=(0,d.default)(["\n    padding-left: 30px;\n    padding-right: 30px;\n  "])))),S=g.default.div.withConfig({displayName:"InitiativeShowPageTopBar__Left",componentId:"aqyjbz-2"})(["height:48px;align-items:center;display:none;",""],y.media.smallerThanMaxTablet(r||(r=(0,d.default)(["\n    display: flex;\n  "])))),M=g.default.div.withConfig({displayName:"InitiativeShowPageTopBar__Right",componentId:"aqyjbz-3"})([""]),_=(0,g.default)(f.Icon).withConfig({displayName:"InitiativeShowPageTopBar__GoBackIcon",componentId:"aqyjbz-4"})(["height:22px;fill:",";display:flex;align-items:center;justify-content:center;transition:fill 100ms ease-out;"],y.colors.label),I=g.default.button.withConfig({displayName:"InitiativeShowPageTopBar__GoBackButton",componentId:"aqyjbz-5"})(["width:45px;height:45px;display:flex;align-items:center;justify-content:center;padding:0;margin:0;margin-right:6px;margin-left:-2px;cursor:pointer;background:#fff;border-radius:50%;border:solid 1px ",";transition:all 100ms ease-out;&:hover{border-color:#000;","{fill:#000;}}"],(0,b.lighten)(.2,y.colors.label),_),P=g.default.div.withConfig({displayName:"InitiativeShowPageTopBar__GoBackLabel",componentId:"aqyjbz-6"})(["color:",";font-size:","px;font-weight:400;transition:fill 100ms ease-out;",""],y.colors.label,y.fontSizes.base,y.media.phone(u||(u=(0,d.default)(["\n    display: none;\n  "])))),C=(0,s.memo)((function(e){var t=e.initiativeId,a=e.insideModal,n=e.className,i=(0,s.useCallback)((function(e){e.preventDefault(),a?m.default.emit("closeIdeaModal"):c.default.push("/")}),[]);return s.default.createElement(x,{className:n||""},s.default.createElement(E,null,s.default.createElement(S,null,s.default.createElement(I,{onClick:i},s.default.createElement(_,{name:"arrow-back"})),s.default.createElement(P,null,s.default.createElement(h.FormattedMessage,v.default.goBack))),s.default.createElement(M,null,s.default.createElement(p.default,{initiativeId:t}))))}));t.default=C},gbtv:function(e,t,a){"use strict";a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a("pVnL")),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var r=o?Object.getOwnPropertyDescriptor(e,l):null;r&&(r.get||r.set)?Object.defineProperty(n,l,r):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),r=n(a("FrK0")),u=n(a("vOnD")),d=a("96Cm"),s=n(a("r5eU")),c=a("Rw3A");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}var p=u.default.div.withConfig({displayName:"PostedByMobile__Container",componentId:"sc-4rzz8u-0"})(["display:flex;align-items:center;margin-top:7px;margin-bottom:25px;"]),m=u.default.span.withConfig({displayName:"PostedByMobile__PostedByText",componentId:"sc-4rzz8u-1"})(["color:white;font-size:","px;margin-bottom:3px;"],d.fontSizes.base),h=(0,l.memo)((function(e){var t=e.authorId,a=e.className;if(t){var n=l.default.createElement(r.default,{userId:t,fontWeight:500,isLinkToProfile:!0,hideLastName:!0,color:"white"});return l.default.createElement(p,{className:"e2e-idea-author ".concat(a||"")},l.default.createElement(m,null,l.default.createElement(c.FormattedMessage,(0,o.default)({},s.default.postedByShort,{values:{authorName:n}}))))}return null}));t.default=h},l8nb:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postPageContentMaxWidth=t.rightColumnWidthTablet=t.columnsGapTablet=t.rightColumnWidthDesktop=t.columnsGapDesktop=void 0;t.columnsGapDesktop=100;t.rightColumnWidthDesktop=360;t.columnsGapTablet=60;t.rightColumnWidthTablet=300;t.postPageContentMaxWidth=1210},mzbP:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,a("JRPe").defineMessages)({invisibleTitle:{id:"app.containers.InitiativesShow.VoteControl.invisibleTitle",defaultMessage:"Status and votes"},moreInfo:{id:"app.containers.InitiativesShow.VoteControl.moreInfo",defaultMessage:"More info"},days:{id:"app.containers.InitiativesShow.VoteControl.days",defaultMessage:"days"},hours:{id:"app.containers.InitiativesShow.VoteControl.hours",defaultMessage:"hours"},minutes:{id:"app.containers.InitiativesShow.VoteControl.minutes",defaultMessage:"mins"},proposedStatusExplanation:{id:"app.containers.InitiativesShow.VoteControl.proposedStatusExplanation",defaultMessage:"{votingThreshold} votes needed to get this initiative {proposedStatusExplanationBold}"},proposedStatusExplanationBold:{id:"app.containers.InitiativesShow.VoteControl.proposedStatusExplanationBold",defaultMessage:"considered by {orgName}"},proposedStatusExplanationMobile:{id:"app.containers.InitiativesShow.VoteControl.proposedStatusExplanationMobile",defaultMessage:"{votingThreshold} votes needed within {daysLeft, plural, =0 {less than a day} one {one day} other {# days}} to get this initiative {proposedStatusExplanationMobileBold}"},proposedStatusExplanationMobileBold:{id:"app.containers.InitiativesShow.VoteControl.proposedStatusExplanationMobileBold",defaultMessage:"considered by {orgName}"},ineligibleStatusExplanation:{id:"app.containers.InitiativesShow.VoteControl.ineligibleStatusExplanation",defaultMessage:"This initiative doesn't meet the criteria {ineligibleStatusExplanationBold}"},ineligibleStatusExplanationBold:{id:"app.containers.InitiativesShow.VoteControl.ineligibleStatusExplanationBold",defaultMessage:"to be eligible"},expiredStatusExplanation:{id:"app.containers.InitiativesShow.VoteControl.expiredStatusExplanation",defaultMessage:"This initiative expired as it {expiredStatusExplanationBold}."},expiredStatusExplanationBold:{id:"app.containers.InitiativesShow.VoteControl.expiredStatusExplanationBold",defaultMessage:"didn't reach {votingThreshold} votes in time"},thresholdReachedStatusExplanation:{id:"app.containers.InitiativesShow.VoteControl.thresholdReachedStatusExplanation",defaultMessage:"{thresholdReachedStatusExplanationBold}. {orgName} got notified and will provide an answer. Voting remains open."},thresholdReachedStatusExplanationBold:{id:"app.containers.InitiativesShow.VoteControl.thresholdReachedStatusExplanationBold",defaultMessage:"The threshold has been reached"},answeredStatusExplanation:{id:"app.containers.InitiativesShow.VoteControl.answeredStatusExplanation",defaultMessage:"{answeredStatusExplanationBold} Voting remains open."},answeredStatusExplanationBold:{id:"app.containers.InitiativesShow.VoteControl.answeredStatusExplanationBold",defaultMessage:"{orgName} received the initiative and gave an official answer."},xVotes:{id:"app.containers.InitiativesShow.VoteControl.xVotes",defaultMessage:"{count, plural, =0 {no votes} one {1 vote} other {# votes}}"},vote:{id:"app.containers.InitiativesShow.VoteControl.vote",defaultMessage:"Vote"},cancelVote:{id:"app.containers.InitiativesShow.VoteControl.cancelVote",defaultMessage:"Cancel vote"},readAnswer:{id:"app.containers.InitiativesShow.VoteControl.readAnswer",defaultMessage:"Read answer"},votedTitle:{id:"app.containers.InitiativesShow.VoteControl.votedTitle",defaultMessage:"Your vote has been submitted!"},votedText:{id:"app.containers.InitiativesShow.VoteControl.votedText",defaultMessage:"You'll get notified when this initiative goes to the next step. {x, plural, =0 {There's {xDays} left.} one {There's {xDays} left.} other {There are {xDays} left.}}"},xDays:{id:"app.containers.InitiativesShow.VoteControl.xDays",defaultMessage:"{x, plural, =0 {less than a day} one {one day} other {# days}}"},unvoteLink:{id:"app.containers.InitiativesShow.VoteControl.unvoteLink",defaultMessage:"Cancel my vote"},xVotesOfY:{id:"app.containers.InitiativesShow.VoteControl.xVotesOfY",defaultMessage:"{xVotes} out of {votingThreshold}"},xPeopleVoted:{id:"app.containers.InitiativesShow.VoteControl.xPeopleVoted",defaultMessage:"{xPeople} voted for this initiative"},xPeople:{id:"app.containers.InitiativesShow.VoteControl.xPeople",defaultMessage:"{count, plural, =0 {No one} one {One person} other {# people}}"},or:{id:"app.containers.InitiativesShow.VoteControl.or",defaultMessage:"or"},votingNotPermitted:{id:"app.containers.InitiativesShow.VoteControl.votingNotPermitted",defaultMessage:"You don't have the rights to vote on this proposal."}});t.default=n},nYaD:function(e,t,a){"use strict";a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,l,r=n(a("VkAN")),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var r=o?Object.getOwnPropertyDescriptor(e,l):null;r&&(r.get||r.set)?Object.defineProperty(n,l,r):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),d=n(a("vOnD")),s=a("96Cm"),c=a("l8nb"),f=n(a("Yjdl"));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}var m=d.default.div.withConfig({displayName:"ActionBar__Container",componentId:"sc-1aorc5t-0"})(["width:100%;height:50px;color:",";background:rgba(132,147,158,0.06);border-bottom:1px solid ",";"],s.colors.label,s.colors.adminSeparation),h=d.default.div.withConfig({displayName:"ActionBar__Inner",componentId:"sc-1aorc5t-1"})(["max-width:","px;height:100%;margin:0 auto;padding-left:60px;padding-right:60px;display:flex;align-items:center;justify-content:space-between;"," ",""],c.postPageContentMaxWidth,s.media.smallerThanMaxTablet(o||(o=(0,r.default)(["\n    max-width: 100vw;\n  "]))),s.media.smallerThanMinTablet(l||(l=(0,r.default)(["\n    width: 100%;\n    max-width: 100vw;\n    padding-left: 15px;\n    padding-right: 15px;\n  "])))),v=d.default.div.withConfig({displayName:"ActionBar__Left",componentId:"sc-1aorc5t-2"})(["flex:1;min-width:0;display:flex;align-items:center;margin-right:20px;"]),g=d.default.div.withConfig({displayName:"ActionBar__Right",componentId:"sc-1aorc5t-3"})(["display:flex;align-items:center;"]),y=(0,u.memo)((function(e){var t=e.rightContent,a=e.leftContent,n=e.translateButtonClicked,i=e.onTranslate,o=e.initiative,l=e.locale;return u.default.createElement(m,null,u.default.createElement(h,null,u.default.createElement(v,null,a),u.default.createElement(g,null,u.default.createElement(f.default,{id:"app.components.PostShowComponents.ActionBar.right",translateButtonClicked:n,onClick:i,initiative:o,locale:l}),t)))}));t.default=y},oGDI:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.HelpIcon=t.TooltipWrapper=t.StatusExplanation=t.StatusWrapper=void 0;var i=n(a("VkAN"));a("yWo2");var o,l=n(a("vOnD")),r=a("96Cm"),u=a("iP56"),d=l.default.div.withConfig({displayName:"SharedStyles__StatusWrapper",componentId:"sc-1ru9hco-0"})(["display:flex;flex-direction:row-reverse;font-size:",";text-transform:uppercase;color:",";&.answered{color:",";}",""],r.fontSizes.small,r.colors.clGreyOnGreyBackground,r.colors.clGreen,r.media.smallerThanMaxTablet(o||(o=(0,i.default)(["\n    display: none;\n  "]))));t.StatusWrapper=d;var s=l.default.div.withConfig({displayName:"SharedStyles__StatusExplanation",componentId:"sc-1ru9hco-1"})(["font-size:","px;color:",";line-height:23px;.tooltip-icon{margin-left:3px;display:inline-block;}b{font-weight:600;background-color:rgba(255,197,47,0.16);}"],r.fontSizes.base,(function(e){return e.theme.colorText}));t.StatusExplanation=s;var c=l.default.div.withConfig({displayName:"SharedStyles__TooltipWrapper",componentId:"sc-1ru9hco-2"})(["padding:15px;min-width:150px;max-width:300px;font-size:","px;color:",";font-weight:400;line-height:16px;text-align:left;"],r.fontSizes.small,(function(e){return e.theme.colorText}));t.TooltipWrapper=c;var f=(0,l.default)(u.Icon).withConfig({displayName:"SharedStyles__HelpIcon",componentId:"sc-1ru9hco-3"})(["width:12px;height:12px;"]);t.HelpIcon=f},oRVF:function(e,t,a){"use strict";a("SuFq");var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("FZtP");var i=n(a("lwsE")),o=n(a("W8MJ")),l=n(a("PJYZ")),r=n(a("7W2i")),u=n(a("a1gu")),d=n(a("Nsbk")),s=n(a("lSNA")),c=n(a("q1tI")),f=a("DtyJ"),p=a("ahDk"),m=n(a("aTp4")),h=a("iamO"),v=a("KLnl");function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,d.default)(e);if(t){var i=(0,d.default)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,u.default)(this,a)}}var y=function(e){(0,r.default)(a,e);var t=g(a);function a(e){var n;return(0,i.default)(this,a),n=t.call(this,e),(0,s.default)((0,l.default)(n),"inputProps$",void 0),(0,s.default)((0,l.default)(n),"subscriptions",void 0),n.state={permission:void 0},n}return(0,o.default)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.item,n=t.action,i=t.context;this.inputProps$=new f.BehaviorSubject({item:a,action:n,context:i}),this.subscriptions=[this.inputProps$.pipe((0,p.distinctUntilChanged)((function(e,t){return(0,m.default)(e,t)})),(0,p.switchMap)((function(e){var t=e.item,a=e.action,n=e.context;return(0,v.isNilOrError)(t)?(0,f.of)(!1):(0,h.hasPermission)({item:t,action:a,context:n})}))).subscribe((function(t){return e.setState({permission:t})}))]}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.item,a=e.action,n=e.context;this.inputProps$.next({item:t,action:a,context:n})}},{key:"componentWillUnmount",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"render",value:function(){return(0,this.props.children)(this.state.permission)}}]),a}(c.default.Component);t.default=y},r2I7:function(e,t,a){"use strict";a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a("pVnL")),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=h(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var r=o?Object.getOwnPropertyDescriptor(e,l):null;r&&(r.get||r.set)?Object.defineProperty(n,l,r):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),r=a("ifvJ"),u=n(a("LoHC")),d=n(a("nYaD")),s=n(a("1fT+")),c=n(a("FSVo")),f=n(a("yiTP")),p=n(a("r5eU")),m=a("KLnl");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(h=function(e){return e?a:t})(e)}var v=(0,n(a("vOnD")).default)(s.default).withConfig({displayName:"ActionBar__StyledInitiativeMoreActions",componentId:"bzz7vb-0"})([""]),g=(0,l.memo)((function(e){var t=e.onTranslateInitiative,a=e.translateButtonClicked,n=e.initiative,i=e.locale;return l.default.createElement(d.default,{leftContent:l.default.createElement(u.default,{postType:"initiative",links:[{text:{message:p.default.allInitiatives},to:"/initiatives"}]}),rightContent:(0,m.isNilOrError)(n)?null:l.default.createElement(v,{id:"e2e-initiative-more-actions-desktop",initiative:n}),initiative:n,locale:i,onTranslate:t,translateButtonClicked:a})})),y=(0,r.adopt)({locale:l.default.createElement(f.default,null),initiative:function(e){var t=e.initiativeId,a=e.render;return l.default.createElement(c.default,{id:t},a)}});t.default=function(e){return l.default.createElement(y,e,(function(t){return l.default.createElement(g,(0,o.default)({},e,t))}))}},r5eU:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,a("JRPe").defineMessages)({metaTitle:{id:"app.containers.InitiativesShow.metaTitle",defaultMessage:"Initiative: {initiativeTitle}"},invisibleTitleContent:{id:"app.containers.InitiativesShow.invisibleTitleContent",defaultMessage:"What is this initiative about?"},metaOgTitle:{id:"app.containers.InitiativesShow.metaOgTitle",defaultMessage:"Support this initiative: {initiativeTitle}"},initiativeOgDescription:{id:"app.containers.InitiativesShow.initiativeOgDescription",defaultMessage:"What do you think of this initiative? Join the discussion and vote to make your voice heard."},learnMore:{id:"app.containers.InitiativesShow.learnMore",defaultMessage:"Learn more about initiatives"},postedBy:{id:"app.containers.InitiativesShow.postedBy",defaultMessage:"Initiative posted by {authorName}"},postedByShort:{id:"app.containers.InitiativesShow.postedByShort",defaultMessage:"Posted by {authorName}"},twitterMessage:{id:"app.containers.InitiativesShow.twitterMessage",defaultMessage:"Vote for {initiativeTitle} on"},whatsAppMessage:{id:"app.containers.InitiativesShow.whatsAppMessage",defaultMessage:"{initiativeTitle} | from the participation platform of {orgName}"},emailSharingSubject:{id:"app.containers.InitiativesShow.emailSharingSubject",defaultMessage:"Support my initiative: {initiativeTitle}."},emailSharingBody:{id:"app.containers.InitiativesShow.emailSharingBody",defaultMessage:"What do you think of this initiative? Vote on it and share the discussion at {initiativeUrl} to make your voice heard!"},allInitiatives:{id:"app.containers.InitiativesShow.allInitiatives",defaultMessage:"All Initiatves"},moreOptions:{id:"app.components.InitiativesShow.moreOptions",defaultMessage:"More options"},reportAsSpam:{id:"app.components.InitiativesShow.reportAsSpam",defaultMessage:"Report as spam"},editInitiative:{id:"app.components.InitiativesShow.editInitiative",defaultMessage:"Edit initiative"},deleteInitiative:{id:"app.components.InitiativesShow.deleteInitiative",defaultMessage:"Delete initiative"},deleteInitiativeConfirmation:{id:"app.components.InitiativesShow.deleteInitiativeConfirmation",defaultMessage:"Are you sure you want to delete this initiative?"},reportAsSpamModalTitle:{id:"app.containers.InitiativesShow.reportAsSpamModalTitle",defaultMessage:"Why do you want to report this as spam?"},skipSharing:{id:"app.components.InitiativesShow.skipSharing",defaultMessage:"Skip it, I'll do it later"},shareTitle:{id:"app.components.InitiativesShow.shareTitle",defaultMessage:"Congratulations, your initiative was successfully posted!"},shareSubtitle:{id:"app.components.InitiativesShow.shareSubtitle",defaultMessage:"Share your initiative to reach {votingThreshold} votes in {daysLimit} days."},a11y_voteControl:{id:"app.containers.InitiativesShow.a11y_voteControl",defaultMessage:"Voting and status"}});t.default=n},sLV3:function(e,t,a){"use strict";a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a("pVnL"));a("yWo2");var l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=h(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var r=o?Object.getOwnPropertyDescriptor(e,l):null;r&&(r.get||r.set)?Object.defineProperty(n,l,r):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),r=a("iP56"),u=n(a("FrK0")),d=n(a("jWBj")),s=n(a("vOnD")),c=a("96Cm"),f=a("ufqH"),p=n(a("r5eU")),m=a("Rw3A");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(h=function(e){return e?a:t})(e)}var v=s.default.div.withConfig({displayName:"PostedBy__Container",componentId:"sc-1fb9rk5-0"})(["display:flex;align-items:center;margin-bottom:25px;"]),g=(0,s.default)(r.Icon).withConfig({displayName:"PostedBy__InitiativesIcon",componentId:"sc-1fb9rk5-1"})(["width:42px;height:42px;background-color:rgba(4,77,108,0.06);fill:",";border-radius:50%;padding:10px;margin-right:17px;"],c.colors.adminTextColor),y=s.default.div.withConfig({displayName:"PostedBy__PostedByWrapper",componentId:"sc-1fb9rk5-2"})(["display:flex;flex-direction:column;"]),b=s.default.div.withConfig({displayName:"PostedBy__PostedByText",componentId:"sc-1fb9rk5-3"})(["color:",";font-size:","px;margin-bottom:3px;"],(function(e){return e.theme.colorText}),c.fontSizes.base),w=(0,s.default)(d.default).withConfig({displayName:"PostedBy__AboutInitiativesLink",componentId:"sc-1fb9rk5-4"})(["font-size:","px;color:",";text-decoration:underline;&:hover{color:",";text-decoration:underline;}"],c.fontSizes.small,c.colors.clGreyOnGreyBackground,(0,f.darken)(.2,c.colors.clGreyOnGreyBackground)),x=(0,l.memo)((function(e){var t=e.authorId,a=e.className,n=e.showAboutInitiatives;if(t){var i=l.default.createElement(u.default,{userId:t,fontWeight:500,isLinkToProfile:!0,hideLastName:!0});return l.default.createElement(v,{id:"e2e-initiative-posted-by",className:a||""},l.default.createElement(g,{name:"initiatives"}),l.default.createElement(y,null,l.default.createElement(b,null,l.default.createElement(m.FormattedMessage,(0,o.default)({},p.default.postedBy,{values:{authorName:i}}))),n&&l.default.createElement(w,{to:"/pages/initiatives"},l.default.createElement(m.FormattedMessage,p.default.learnMore))))}return null}));t.default=x},"sQU+":function(e,t,a){"use strict";a("SuFq"),a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.InitiativesShow=void 0,a("2B1R");var o,l,r,u,d,s,c,f,p,m,h,v,g,y=n(a("pVnL")),b=n(a("lwsE")),w=n(a("W8MJ")),x=n(a("PJYZ")),E=n(a("7W2i")),S=n(a("a1gu")),M=n(a("Nsbk")),_=n(a("lSNA")),I=n(a("VkAN")),P=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=be(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var r=o?Object.getOwnPropertyDescriptor(e,l):null;r&&(r.get||r.set)?Object.defineProperty(n,l,r):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),C=a("T89o"),O=a("KLnl"),T=a("ifvJ"),k=a("KuRP"),N=n(a("eTaz")),j=a("dtw8"),B=n(a("1hFV")),D=n(a("vPs5")),W=a("iP56"),V=n(a("T5Cy")),R=n(a("UjkJ")),A=n(a("0Pyc")),F=n(a("Uj4o")),z=n(a("zJWc")),q=n(a("VUEM")),L=n(a("Mh2d")),H=n(a("72sj")),U=n(a("Y6RB")),J=n(a("/Eug")),Y=n(a("Nvc/")),G=n(a("sLV3")),Z=n(a("gbtv")),K=n(a("r2I7")),Q=n(a("OrE6")),X=n(a("1fT+")),$=n(a("A4tC")),ee=n(a("yiTP")),te=n(a("bc9h")),ae=n(a("FSVo")),ne=n(a("YLV/")),ie=n(a("17nk")),oe=n(a("mjsl")),le=n(a("oRVF")),re=n(a("yYlr")),ue=a("04NW"),de=a("Rw3A"),se=n(a("sL4G")),ce=n(a("r5eU")),fe=n(a("V3HD")),pe=n(a("pQ8y")),me=n(a("vOnD")),he=a("96Cm"),ve=a("+9pX"),ge=a("5Rlm"),ye=n(a("Yjdl"));function be(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(be=function(e){return e?a:t})(e)}function we(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,M.default)(e);if(t){var i=(0,M.default)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,S.default)(this,a)}}var xe=me.default.div.withConfig({displayName:"InitiativesShow__Loading",componentId:"sc-1f3uux6-0"})(["position:absolute;top:0;bottom:0;right:0;left:0;display:flex;align-items:center;justify-content:center;"]),Ee=me.default.main.withConfig({displayName:"InitiativesShow__Container",componentId:"sc-1f3uux6-1"})(["display:flex;flex-direction:column;min-height:calc( 100vh - ","px );"," &.content-enter{opacity:0;&.content-enter-active{opacity:1;transition:opacity ","ms "," ","ms;}}&.content-enter-done{opacity:1;}"],(function(e){return e.theme.menuHeight+e.theme.footerHeight}),he.media.smallerThanMaxTablet(o||(o=(0,I.default)(["\n    min-height: calc(100vh - ","px - ","px);\n  "])),(function(e){return e.theme.mobileMenuHeight}),(function(e){return e.theme.mobileTopBarHeight})),250,"cubic-bezier(0.19, 1, 0.22, 1)",150),Se=me.default.div.withConfig({displayName:"InitiativesShow__InitiativeContainer",componentId:"sc-1f3uux6-2"})(["width:100%;max-width:","px;display:flex;flex-direction:column;margin:0;margin-left:auto;margin-right:auto;padding:0;padding-top:60px;padding-left:60px;padding-right:60px;position:relative;"," ",""],ge.pageContentMaxWidth,he.media.smallerThanMaxTablet(l||(l=(0,I.default)(["\n    padding-top: 35px;\n  "]))),he.media.smallerThanMinTablet(r||(r=(0,I.default)(["\n    padding-top: 25px;\n    padding-left: 15px;\n    padding-right: 15px;\n  "])))),Me=me.default.div.withConfig({displayName:"InitiativesShow__Content",componentId:"sc-1f3uux6-3"})(["width:100%;display:flex;",""],he.media.smallerThanMaxTablet(u||(u=(0,I.default)(["\n    display: block;\n  "])))),_e=me.default.div.withConfig({displayName:"InitiativesShow__LeftColumn",componentId:"sc-1f3uux6-4"})(["flex:2;margin:0;padding:0;padding-right:","px;"," ",""],ge.columnsGapDesktop,he.media.tablet(d||(d=(0,I.default)(["\n    padding-right: ","px;\n  "])),ge.columnsGapTablet),he.media.smallerThanMaxTablet(s||(s=(0,I.default)(["\n    padding: 0;\n  "])))),Ie=(0,me.default)(F.default).withConfig({displayName:"InitiativesShow__StyledTopics",componentId:"sc-1f3uux6-5"})(["margin-bottom:30px;",""],he.media.smallerThanMaxTablet(c||(c=(0,I.default)(["\n    margin-bottom: 5px;\n  "])))),Pe=me.default.div.withConfig({displayName:"InitiativesShow__InitiativeHeader",componentId:"sc-1f3uux6-6"})(["margin-top:-5px;margin-bottom:28px;",""],he.media.smallerThanMaxTablet(f||(f=(0,I.default)(["\n    margin-top: 0px;\n    margin-bottom: 45px;\n  "])))),Ce=me.default.div.withConfig({displayName:"InitiativesShow__InitiativeBannerContainer",componentId:"sc-1f3uux6-7"})(["width:100%;height:163px;display:flex;align-items:stretch;position:relative;background:",";",""],(function(e){return e.theme.colorMain}),he.media.smallerThanMinTablet(p||(p=(0,I.default)(["\n    min-height: 200px;\n  "])))),Oe=me.default.div.withConfig({displayName:"InitiativesShow__InitiativeBannerImage",componentId:"sc-1f3uux6-8"})(["position:absolute;top:0;bottom:0;left:0;right:0;background-repeat:no-repeat;background-position:center center;background-size:cover;background-image:url(",");"],(function(e){return e.src})),Te=me.default.div.withConfig({displayName:"InitiativesShow__InitiativeHeaderOverlay",componentId:"sc-1f3uux6-9"})(["position:absolute;top:0;bottom:0;left:0;right:0;background:linear-gradient( 0deg,rgba(0,0,0,0.5) 0%,rgba(0,0,0,0) 100% ),linear-gradient(0deg,rgba(0,0,0,0.3),rgba(0,0,0,0.3));"]),ke=me.default.div.withConfig({displayName:"InitiativesShow__InitiativeBannerContent",componentId:"sc-1f3uux6-10"})(["display:flex;flex-direction:column;justify-content:center;padding-left:20px;padding-right:20px;padding-top:40px;padding-bottom:40px;z-index:1;"]),Ne=me.default.div.withConfig({displayName:"InitiativesShow__MobileMoreActionContainer",componentId:"sc-1f3uux6-11"})(["position:absolute;top:10px;right:10px;"]),je=(0,me.default)(q.default).withConfig({displayName:"InitiativesShow__StyledDropdownMap",componentId:"sc-1f3uux6-12"})(["margin-bottom:40px;",""],he.media.smallerThanMaxTablet(m||(m=(0,I.default)(["\n    margin-bottom: 20px;\n  "])))),Be=me.default.div.withConfig({displayName:"InitiativesShow__RightColumn",componentId:"sc-1f3uux6-13"})(["flex:1;margin:0;padding:0;"]),De=(0,me.default)(Be).withConfig({displayName:"InitiativesShow__RightColumnDesktop",componentId:"sc-1f3uux6-14"})(["flex:0 0 ","px;width:","px;"," ",""],ge.rightColumnWidthDesktop,ge.rightColumnWidthDesktop,he.media.tablet(h||(h=(0,I.default)(["\n    flex: 0 0 ","px;\n    width: ","px;\n  "])),ge.rightColumnWidthTablet,ge.rightColumnWidthTablet),he.media.smallerThanMaxTablet(v||(v=(0,I.default)(["\n    display: none;\n  "])))),We=me.default.div.withConfig({displayName:"InitiativesShow__MetaContent",componentId:"sc-1f3uux6-15"})(["width:100%;display:flex;flex-direction:column;"]),Ve=me.default.div.withConfig({displayName:"InitiativesShow__SharingWrapper",componentId:"sc-1f3uux6-16"})(["display:flex;flex-direction:column;"]),Re=(0,me.default)(V.default).withConfig({displayName:"InitiativesShow__SharingButtonsMobile",componentId:"sc-1f3uux6-17"})(["padding:0;margin:0;margin-top:40px;",""],he.media.biggerThanMaxTablet(g||(g=(0,I.default)(["\n    display: none;\n  "])))),Ae=(0,me.default)(J.default).withConfig({displayName:"InitiativesShow__StyledOfficialFeedback",componentId:"sc-1f3uux6-18"})(["margin-top:80px;"]),Fe=(0,me.default)(Q.default).withConfig({displayName:"InitiativesShow__StyledVoteControl",componentId:"sc-1f3uux6-19"})(["box-shadow:1px 0px 15px rgba(0,0,0,0.06);border-bottom:1px solid rgba(0,0,0,0.06);padding:25px;"]),ze=function(e){(0,E.default)(a,e);var t=we(a);function a(e){var n;return(0,b.default)(this,a),n=t.call(this,e),(0,_.default)((0,x.default)(n),"officialFeedbackElement",(0,P.createRef)()),(0,_.default)((0,x.default)(n),"timeoutRef",void 0),(0,_.default)((0,x.default)(n),"setLoaded",(function(){var e=n.state.loaded,t=n.props,a=t.initiative,i=t.initiativeImages,o=t.officialFeedbacks;e||(0,O.isNilOrError)(a)||(0,C.isUndefined)(i)||(0,C.isUndefined)(o.officialFeedbacksList)||n.setState({loaded:!0})})),(0,_.default)((0,x.default)(n),"closeInitiativeSocialSharingModal",(function(){n.setState({initiativeIdForSocialSharing:null})})),(0,_.default)((0,x.default)(n),"onTranslateInitiative",(function(){n.setState((function(e){return!0===e.translateButtonClicked?(0,k.trackEvent)(N.default.clickGoBackToOriginalInitiativeCopyButton):!1===e.translateButtonClicked&&(0,k.trackEvent)(N.default.clickTranslateInitiativeButton),{translateButtonClicked:!e.translateButtonClicked}}))})),(0,_.default)((0,x.default)(n),"onScrollToOfficialFeedback",(function(){n.officialFeedbackElement.current&&n.officialFeedbackElement.current.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),n.setState({a11y_pronounceLatestOfficialFeedbackPost:!0}),n.timeoutRef=setTimeout((function(){return n.setState({a11y_pronounceLatestOfficialFeedbackPost:!1})}),2e3)})),n.state={loaded:!1,spamModalVisible:!1,initiativeIdForSocialSharing:null,translateButtonClicked:!1,a11y_pronounceLatestOfficialFeedbackPost:!1},n}return(0,w.default)(a,[{key:"componentDidMount",value:function(){var e,t=this,a=null===(e=this.props.location.query)||void 0===e?void 0:e.new_initiative_id;this.setLoaded(),(0,C.isString)(a)&&(setTimeout((function(){t.setState({initiativeIdForSocialSharing:a})}),1500),window.history.replaceState(null,"",window.location.pathname))}},{key:"componentDidUpdate",value:function(){this.setLoaded()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeoutRef)}},{key:"render",value:function(){var e=this.props,t=e.initiativeFiles,a=e.locale,n=e.initiative,i=e.localize,o=e.initiativeImages,l=e.authUser,r=e.windowSize,u=e.className,d=e.postOfficialFeedbackPermission,s=e.tenant,c=this.state,f=c.loaded,p=c.initiativeIdForSocialSharing,m=c.translateButtonClicked,h=c.a11y_pronounceLatestOfficialFeedbackPost,v=this.props.intl.formatMessage,g=(0,O.isNilOrError)(s)?null:s.attributes.settings.initiatives,b=g?g.voting_threshold:null,w=g?g.days_limit:null,x=null;if(g&&!(0,O.isNilOrError)(n)&&!(0,O.isNilOrError)(a)&&f){var E,S,M,_,I,C,T,k,N,j,F,q,J,$,ee,te,ae=null==n||null===(E=n.attributes)||void 0===E||null===(S=E.header_bg)||void 0===S?void 0:S.large,ne=null==n||null===(M=n.relationships)||void 0===M||null===(_=M.author)||void 0===_||null===(I=_.data)||void 0===I?void 0:I.id,ie=i(null==n||null===(C=n.attributes)||void 0===C?void 0:C.title_multiloc),oe=null==o||null===(T=o[0])||void 0===T||null===(k=T.attributes)||void 0===k||null===(N=k.versions)||void 0===N?void 0:N.large,le=null==n||null===(j=n.attributes)||void 0===j?void 0:j.location_point_geojson,re=(0,ue.getAddressOrFallbackDMS)(null==n||null===(F=n.attributes)||void 0===F?void 0:F.location_description,null==n||null===(q=n.attributes)||void 0===q?void 0:q.location_point_geojson),se=(null==n||null===(J=n.relationships)||void 0===J||null===($=J.topics)||void 0===$||null===(ee=$.data)||void 0===ee?void 0:ee.map((function(e){return e.id})))||[],fe=location.href,me=null==n?void 0:n.id,ge=i(null==n||null===(te=n.attributes)||void 0===te?void 0:te.body_multiloc),be=!r||r>he.viewportWidths.largeTablet,we=!!r&&r<=he.viewportWidths.largeTablet,Be=(0,O.isNilOrError)(l)?{source:"share_initiative",campaign:"share_content"}:{source:"share_initiative",campaign:"share_content",content:l.id};x=P.default.createElement(P.default.Fragment,null,P.default.createElement(Y.default,{initiativeId:me}),be&&ae&&P.default.createElement(Ce,null,ae&&P.default.createElement(Oe,{src:ae})),we&&P.default.createElement(Ce,null,ae&&P.default.createElement(P.default.Fragment,null,P.default.createElement(Oe,{src:ae}),P.default.createElement(Te,null)),P.default.createElement(ke,null,P.default.createElement(Ne,null,P.default.createElement(X.default,{initiative:n,id:"e2e-initiative-more-actions-mobile",color:"white"})),P.default.createElement(z.default,{postId:me,postType:"initiative",title:ie,locale:a,translateButtonClicked:m,color:"white",align:"left"}),P.default.createElement(Z.default,{authorId:ne}))),be&&P.default.createElement(K.default,{initiativeId:me,translateButtonClicked:m,onTranslateInitiative:this.onTranslateInitiative}),we&&P.default.createElement(Fe,{initiativeId:me,onScrollToOfficialFeedback:this.onScrollToOfficialFeedback}),P.default.createElement(Se,null,P.default.createElement(Me,null,P.default.createElement(_e,null,P.default.createElement(Ie,{postType:"initiative",topicIds:se}),be&&P.default.createElement(Pe,null,P.default.createElement(z.default,{postType:"initiative",postId:me,title:ie,locale:a,translateButtonClicked:m})),be&&P.default.createElement(G.default,{authorId:ne,showAboutInitiatives:!0}),oe&&P.default.createElement(H.default,{src:oe,alt:"",id:"e2e-initiative-image"}),P.default.createElement(ye.default,{id:"app.containers.InitiativesShow.left",windowSize:r,translateButtonClicked:m,onClick:this.onTranslateInitiative,initiative:n,locale:a}),le&&re&&P.default.createElement(je,{address:re,position:le}),P.default.createElement(ve.ScreenReaderOnly,null,P.default.createElement(de.FormattedMessage,(0,y.default)({tagName:"h2"},ce.default.invisibleTitleContent))),P.default.createElement(L.default,{postId:me,postType:"initiative",locale:a,body:ge,translateButtonClicked:m}),!(0,O.isNilOrError)(t)&&t.length>0&&P.default.createElement(D.default,{files:t}),P.default.createElement("div",{ref:this.officialFeedbackElement},P.default.createElement(Ae,{postId:me,postType:"initiative",permissionToPost:d,a11y_pronounceLatestOfficialFeedbackPost:h})),we&&P.default.createElement(Re,{context:"initiative",url:fe,twitterMessage:v(ce.default.twitterMessage,{initiativeTitle:ie}),whatsAppMessage:v(ce.default.whatsAppMessage,{initiativeTitle:ie}),emailSubject:v(ce.default.emailSharingSubject,{initiativeTitle:ie}),emailBody:v(ce.default.emailSharingBody,{initiativeUrl:fe,initiativeTitle:ie}),utmParams:Be})),be&&P.default.createElement(De,null,P.default.createElement(We,null,P.default.createElement(ve.ScreenReaderOnly,null,P.default.createElement(de.FormattedMessage,(0,y.default)({tagName:"h2"},ce.default.a11y_voteControl))),P.default.createElement(Q.default,{initiativeId:n.id,onScrollToOfficialFeedback:this.onScrollToOfficialFeedback,id:"e2e-initiative-vote-control"}),P.default.createElement(Ve,null,P.default.createElement(V.default,{id:"e2e-initiative-sharing-component",context:"initiative",url:fe,twitterMessage:v(ce.default.twitterMessage,{initiativeTitle:ie}),whatsAppMessage:v(ce.default.whatsAppMessage,{initiativeTitle:ie}),emailSubject:v(ce.default.emailSharingSubject,{initiativeTitle:ie}),emailBody:v(ce.default.emailSharingBody,{initiativeUrl:fe,initiativeTitle:ie}),utmParams:Be})))))),f&&P.default.createElement(U.default,{postId:me,postType:"initiative"}))}return P.default.createElement(P.default.Fragment,null,!f&&P.default.createElement(xe,null,P.default.createElement(W.Spinner,null)),P.default.createElement(pe.default,{classNames:"content",in:f,timeout:{enter:400,exit:0},enter:!0,exit:!1},P.default.createElement(Ee,{id:"e2e-initiative-show",className:u},x)),P.default.createElement(R.default,{name:"initiativeflow_social_sharing"},P.default.createElement(B.default,{opened:!!p,close:this.closeInitiativeSocialSharingModal,hasSkipButton:!0,skipText:P.default.createElement(de.FormattedMessage,ce.default.skipSharing)},p&&P.default.createElement(A.default,{postType:"initiative",postId:p,title:v(ce.default.shareTitle),subtitle:v(ce.default.shareSubtitle,{votingThreshold:b,daysLimit:w})}))))}}]),a}(P.PureComponent);t.InitiativesShow=ze;var qe=(0,fe.default)((0,se.default)((0,j.withRouter)(ze))),Le=(0,T.adopt)({locale:P.default.createElement(ee.default,null),tenant:P.default.createElement(re.default,null),authUser:P.default.createElement(ne.default,null),windowSize:P.default.createElement(ie.default,null),initiative:function(e){var t=e.initiativeId,a=e.render;return P.default.createElement(ae.default,{id:t},a)},initiativeImages:function(e){var t=e.initiativeId,a=e.render;return P.default.createElement(te.default,{initiativeId:t},a)},initiativeFiles:function(e){var t=e.initiativeId,a=e.render;return P.default.createElement($.default,{resourceId:t,resourceType:"initiative"},a)},officialFeedbacks:function(e){var t=e.initiativeId,a=e.render;return P.default.createElement(oe.default,{postId:t,postType:"initiative"},a)},postOfficialFeedbackPermission:function(e){var t=e.initiative,a=e.render;return P.default.createElement(le.default,{item:(0,O.isNilOrError)(t)?null:t,action:"moderate"},a)}});t.default=function(e){return P.default.createElement(Le,e,(function(t){return P.default.createElement(qe,(0,y.default)({},e,t))}))}},tOmD:function(e,t,a){"use strict";a("SuFq"),a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a("lwsE")),l=n(a("W8MJ")),r=n(a("PJYZ")),u=n(a("7W2i")),d=n(a("a1gu")),s=n(a("Nsbk")),c=n(a("lSNA"));a("yWo2"),a("rB9j"),a("EnZy");var f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=b(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var r=o?Object.getOwnPropertyDescriptor(e,l):null;r&&(r.get||r.set)?Object.defineProperty(n,l,r):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),p=n(a("wd/R")),m=n(a("vOnD")),h=a("96Cm"),v=a("Rw3A"),g=n(a("mzbP")),y=a("di2/");function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(b=function(e){return e?a:t})(e)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,s.default)(e);if(t){var i=(0,s.default)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,d.default)(this,a)}}var x=m.default.div.withConfig({displayName:"CountDown__Container",componentId:"d5xol3-0"})(["display:flex;"]),E=m.default.div.withConfig({displayName:"CountDown__TimeComponent",componentId:"d5xol3-1"})(["margin:0 5px 0 0;"]),S=m.default.div.withConfig({displayName:"CountDown__Count",componentId:"d5xol3-2"})(["display:flex;align-items:center;justify-content:center;width:40px;height:30px;border-radius:5px;background-color:",";font-size:","px;font-weight:500;color:",";"],h.colors.lightGreyishBlue,h.fontSizes.large,(function(e){return e.theme.colorText})),M=m.default.div.withConfig({displayName:"CountDown__Unit",componentId:"d5xol3-3"})(["display:flex;align-items:center;justify-content:center;margin:5px 0 0 0;color:",";font-size:","px;"],(function(e){return e.theme.colorText}),h.fontSizes.small),_=function(e){(0,u.default)(a,e);var t=w(a);function a(e){var n;return(0,o.default)(this,a),n=t.call(this,e),(0,c.default)((0,r.default)(n),"interval",void 0),n.state={refresh:Date.now()},n}return(0,l.default)(a,[{key:"componentDidMount",value:function(){var e=this;this.interval=setInterval((function(){e.setState({refresh:Date.now()})}),6e4)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=(0,p.default)(),t=(0,p.default)(this.props.targetTime,"YYYY-MM-DDThh:mm:ss.SSSZ"),a=p.default.duration(t.diff(e)).asSeconds(),n=(0,y.convertSecondsToDDHHMM)(a).split(":"),i=n[0],o=n[1],l=n[2];return f.default.createElement(x,{className:this.props.className},f.default.createElement(E,null,f.default.createElement(S,null,i),f.default.createElement(M,null,f.default.createElement(v.FormattedMessage,g.default.days))),f.default.createElement(E,null,f.default.createElement(S,null,o),f.default.createElement(M,null,f.default.createElement(v.FormattedMessage,g.default.hours))),f.default.createElement(E,null,f.default.createElement(S,null,l),f.default.createElement(M,null,f.default.createElement(v.FormattedMessage,g.default.minutes))))}}]),a}(f.PureComponent);t.default=_},"u/sY":function(e,t,a){"use strict";a("SuFq"),a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("ma9I");var o=n(a("pVnL")),l=n(a("lwsE")),r=n(a("W8MJ")),u=n(a("PJYZ")),d=n(a("7W2i")),s=n(a("a1gu")),c=n(a("Nsbk")),f=n(a("lSNA")),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var r=o?Object.getOwnPropertyDescriptor(e,l):null;r&&(r.get||r.set)?Object.defineProperty(n,l,r):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),m=n(a("vOnD")),h=a("96Cm"),v=a("iP56"),g=a("oGDI"),y=n(a("2fl8")),b=n(a("3A/8")),w=n(a("mzbP")),x=a("Rw3A");function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,s.default)(this,a)}}var M=m.default.div.withConfig({displayName:"Answered__Container",componentId:"y4ozhf-0"})([""]),_=(0,m.default)(v.Icon).withConfig({displayName:"Answered__StatusIcon",componentId:"y4ozhf-1"})(["path{fill:",";}width:40px;height:40px;margin-bottom:20px;"],(function(e){return e.theme.colorText})),I=m.default.div.withConfig({displayName:"Answered__VoteText",componentId:"y4ozhf-2"})(["font-size:","px;color:",";margin-top:20px;"],h.fontSizes.base,(function(e){return e.theme.colorText})),P=m.default.div.withConfig({displayName:"Answered__Buttons",componentId:"y4ozhf-3"})(["margin-top:20px;display:flex;margin:20px -3px 0 -3px;& > *{flex:1;margin:3px;}"]),C=function(e){(0,d.default)(a,e);var t=S(a);function a(){var e;(0,l.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,f.default)((0,u.default)(e),"handleOnVote",(function(){e.props.onVote()})),(0,f.default)((0,u.default)(e),"handleOnReadAnswer",(function(){e.props.onScrollToOfficialFeedback()})),e}return(0,r.default)(a,[{key:"render",value:function(){var e=this.props,t=e.initiative,a=e.initiativeStatus,n=e.userVoted,i=t.attributes.upvotes_count;return p.default.createElement(M,null,p.default.createElement(g.StatusWrapper,null,p.default.createElement(b.default,{value:a.attributes.title_multiloc})),p.default.createElement(_,{name:"envelope-check"}),p.default.createElement(g.StatusExplanation,null,p.default.createElement(x.FormattedMessage,(0,o.default)({},w.default.answeredStatusExplanation,{values:{answeredStatusExplanationBold:p.default.createElement("b",null,p.default.createElement(x.FormattedMessage,w.default.answeredStatusExplanationBold))}}))),p.default.createElement(I,null,p.default.createElement(x.FormattedMessage,(0,o.default)({},w.default.xPeopleVoted,{values:{xPeople:p.default.createElement("b",null,p.default.createElement(x.FormattedMessage,(0,o.default)({},w.default.xPeople,{values:{count:i}})))}}))),p.default.createElement(P,null,p.default.createElement(y.default,{onClick:this.handleOnReadAnswer},p.default.createElement(x.FormattedMessage,w.default.readAnswer)),!n&&p.default.createElement(y.default,{buttonStyle:"primary-outlined",onClick:this.handleOnVote},p.default.createElement(x.FormattedMessage,w.default.vote))))}}]),a}(p.PureComponent);t.default=C},uPkB:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.addVote=function(e,t){return u.apply(this,arguments)},t.deleteVote=function(e,t){return d.apply(this,arguments)};var i=n(a("o0o1"));a("ma9I");var o=n(a("yXPU")),l=a("p0gT"),r=n(a("1Kqg"));function u(){return(u=(0,o.default)(i.default.mark((function e(t,a){var n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.default.add("".concat(l.API_PATH,"/initiatives/").concat(t,"/votes"),{vote:a});case 2:return n=e.sent,e.next=5,r.default.fetchAllWith({apiEndpoint:["".concat(l.API_PATH,"/initiatives/").concat(t),"".concat(l.API_PATH,"/initiative_statuses/").concat(t)]});case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){return(d=(0,o.default)(i.default.mark((function e(t,a){var n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.default.delete("".concat(l.API_PATH,"/votes/").concat(a),a);case 2:return n=e.sent,e.next=5,r.default.fetchAllWith({apiEndpoint:["".concat(l.API_PATH,"/initiatives/").concat(t)]});case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},xLus:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,a("JRPe").defineMessages)({noInitiativeFoundHere:{id:"app.components.InitiativesShowPage.noInitiativeFoundHere",defaultMessage:"No initiative was found here."},goBack:{id:"app.components.InitiativesShowPage.goBack",defaultMessage:"Go back"},goBackToList:{id:"app.components.InitiativesShowPage.goBackToList",defaultMessage:"Go back to the list"}});t.default=n},yM83:function(e,t,a){"use strict";a("4mDm"),a("07d7"),a("PKPk"),a("ENF9"),a("3bBZ"),a("5DmW");var n=a("TqRt"),i=a("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a("pVnL")),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var a=b(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var r=o?Object.getOwnPropertyDescriptor(e,l):null;r&&(r.get||r.set)?Object.defineProperty(n,l,r):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a("q1tI")),r=a("T89o"),u=a("KLnl"),d=a("dtw8"),s=a("ifvJ"),c=n(a("sQU+")),f=n(a("2fl8")),p=n(a("gZqF")),m=n(a("FSVo")),h=a("Rw3A"),v=n(a("xLus")),g=n(a("vOnD")),y=a("96Cm");function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(b=function(e){return e?a:t})(e)}var w=g.default.div.withConfig({displayName:"InitiativesShowPage__InitiativeNotFoundWrapper",componentId:"d1hlpf-0"})(["height:calc( 100vh - ","px );display:flex;flex-direction:column;align-items:center;padding:4rem;font-size:","px;color:",";"],(function(e){return e.theme.menuHeight+e.theme.footerHeight}),y.fontSizes.large,y.colors.label),x=g.default.div.withConfig({displayName:"InitiativesShowPage__Container",componentId:"d1hlpf-1"})(["background:#fff;"]),E=(0,g.default)(p.default).withConfig({displayName:"InitiativesShowPage__StyledInitiativeShowPageTopBar",componentId:"d1hlpf-2"})(["position:fixed;top:0;left:0;right:0;z-index:1000;"]),S=(0,g.default)(c.default).withConfig({displayName:"InitiativesShowPage__StyledInitiativesShow",componentId:"d1hlpf-3"})([""]),M=l.default.createElement(h.FormattedMessage,v.default.goBackToList),_=(0,l.memo)((function(e){var t=e.initiative;return(0,r.isError)(t)?l.default.createElement(w,null,l.default.createElement("p",null,l.default.createElement(h.FormattedMessage,v.default.noInitiativeFoundHere)),l.default.createElement(f.default,{linkTo:"/initiatives",text:M,icon:"arrow-back"})):(0,u.isNilOrError)(t)?null:l.default.createElement(x,null,l.default.createElement(E,{initiativeId:t.id}),l.default.createElement(S,{initiativeId:t.id}))})),I=(0,s.adopt)({initiative:function(e){var t=e.params,a=e.render;return l.default.createElement(m.default,{slug:t.slug},a)}}),P=(0,d.withRouter)((function(e){return l.default.createElement(I,e,(function(t){return l.default.createElement(_,(0,o.default)({},e,t))}))}));t.default=P}}]);
//# sourceMappingURL=71.f780c0d2a0e05ad6c82c.chunk.js.map