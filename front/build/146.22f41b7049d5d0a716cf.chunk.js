(window.webpackJsonp=window.webpackJsonp||[]).push([[146],{maAv:function(e,t,a){"use strict";a("SuFq");var i=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.InitiativesEditPage=void 0,a("ma9I"),a("rB9j"),a("UxlC"),a("TeQF");var n,r=i(a("lwsE")),l=i(a("W8MJ")),u=i(a("PJYZ")),o=i(a("7W2i")),d=i(a("a1gu")),c=i(a("Nsbk")),s=i(a("lSNA")),f=i(a("VkAN")),m=i(a("q1tI")),p=i(a("JUYq")),v=a("ifvJ"),h=a("dtw8"),E=a("18VM"),g=i(a("N4mL")),y=i(a("YLV/")),P=i(a("yiTP")),I=i(a("FSVo")),b=i(a("bc9h")),w=i(a("Y9MJ")),N=a("gSG5"),M=i(a("lPdK")),k=a("KLnl"),A=a("MCLT"),O=i(a("ozBQ")),R=i(a("awBM")),T=i(a("AJ4R")),_=a("96Cm");function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,i=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(i,arguments,n)}else a=i.apply(this,arguments);return(0,d.default)(this,a)}}var U=(0,i(a("vOnD")).default)(R.default).withConfig({displayName:"InitiativesEditPage__StyledInitiativesEditFormWrapper",componentId:"z1b5hp-0"})(["width:100%;min-width:530px;height:900px;",""],_.media.smallerThanMaxTablet(n||(n=(0,f.default)(["\n    min-width: 230px;\n  "])))),x=function(e){(0,o.default)(a,e);var t=J(a);function a(){var e;(0,r.default)(this,a);for(var i=arguments.length,n=new Array(i),l=0;l<i;l++)n[l]=arguments[l];return e=t.call.apply(t,[this].concat(n)),(0,s.default)((0,u.default)(e),"checkPageAccess",(function(){var t=e.props.authUser;!(0,k.isNilOrError)(t)&&((0,E.isAdmin)({data:t})||(0,E.isModerator)({data:t})||(0,E.isSuperAdmin)({data:t}))||null!==t||p.default.replace(e.props.previousPathName||"/sign-up")})),(0,s.default)((0,u.default)(e),"onPublished",(function(){var t=e.props.initiative;(0,k.isNilOrError)(t)||p.default.push("/initiatives/".concat(t.attributes.slug))})),e}return(0,l.default)(a,[{key:"componentDidMount",value:function(){this.checkPageAccess()}},{key:"componentDidUpdate",value:function(e){e.authUser!==this.props.authUser&&this.checkPageAccess()}},{key:"render",value:function(){var e=this.props,t=e.authUser,a=e.locale,i=e.initiative,n=e.initiativeImages,r=e.initiativeFiles,l=e.topics;if((0,k.isNilOrError)(t)||(0,k.isNilOrError)(a)||(0,k.isNilOrError)(i)||void 0===n||void 0===r||(0,A.isError)(r)||(0,k.isNilOrError)(l))return null;var u=l.filter((function(e){return!(0,k.isNilOrError)(e)}));return m.default.createElement(g.default,{item:i,action:"edit",context:i},m.default.createElement(O.default,null),m.default.createElement(T.default,{isAdmin:(0,E.isAdmin)({data:t}),className:"e2e-initiative-edit-page"},m.default.createElement(U,{locale:a,initiative:i,initiativeImage:(0,k.isNilOrError)(n)||0===n.length?null:n[0],onPublished:this.onPublished,initiativeFiles:r,topics:u})))}}]),a}(m.default.PureComponent);t.InitiativesEditPage=x;var L=(0,v.adopt)({authUser:m.default.createElement(y.default,null),locale:m.default.createElement(P.default,null),topics:m.default.createElement(M.default,{exclude_code:"custom"}),initiative:function(e){var t=e.params,a=e.render;return m.default.createElement(I.default,{id:t.initiativeId},a)},initiativeImages:function(e){var t=e.params,a=e.render;return m.default.createElement(b.default,{initiativeId:t.initiativeId},a)},initiativeFiles:function(e){var t=e.params,a=e.render;return m.default.createElement(w.default,{resourceId:t.initiativeId,resourceType:"initiative"},a)},previousPathName:function(e){var t=e.render;return m.default.createElement(N.PreviousPathnameContext.Consumer,null,t)}}),q=(0,h.withRouter)((function(e){return m.default.createElement(L,e,(function(e){return m.default.createElement(x,e)}))}));t.default=q},ozBQ:function(e,t,a){"use strict";var i=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(a("pVnL"));a("ma9I");var r=i(a("q1tI")),l=a("qhky"),u=a("ifvJ"),o=i(a("tfkE")),d=a("Rw3A"),c=i(a("YLV/")),s=i(a("phbu")),f=i(a("wbnS")),m=i(a("+YyL")),p=r.default.memo((function(e){var t=e.intl,a=e.authUser,i=e.tenantLocales,n=t.formatMessage,u=n(o.default.metaTitle),d=n(o.default.metaDescription);return r.default.createElement(l.Helmet,null,r.default.createElement("title",null,"\n          ".concat(a&&a.attributes.unread_notifications?"(".concat(a.attributes.unread_notifications,") "):"","\n          ").concat(u)),(0,f.default)(i),(0,m.default)(),r.default.createElement("meta",{name:"title",content:u}),r.default.createElement("meta",{name:"description",content:d}),r.default.createElement("meta",{property:"og:title",content:u}),r.default.createElement("meta",{property:"og:description",content:d}))})),v=(0,d.injectIntl)(p),h=(0,u.adopt)({tenantLocales:r.default.createElement(s.default,null),authUser:r.default.createElement(c.default,null)});t.default=function(e){return r.default.createElement(h,e,(function(t){return r.default.createElement(v,(0,n.default)({},e,t))}))}},tfkE:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(0,a("JRPe").defineMessages)({metaTitle:{id:"app.containers.InitiativesEditPage.metaTitle",defaultMessage:"Edit your initiative â€¢ {orgName}"},metaDescription:{id:"app.containers.InitiativesEditPage.metaDescription",defaultMessage:"Edit your initiative. Add more information and make it even better."}});t.default=i}}]);
//# sourceMappingURL=146.22f41b7049d5d0a716cf.chunk.js.map