{"version":3,"sources":["webpack:///./app/components/FilterSelector/valuesList.tsx","webpack:///./app/utils/a11y/index.ts","webpack:///./app/components/ConsentManager/PreferencesDialog.tsx","webpack:///./app/containers/Admin/projects/edit/general/messages.ts","webpack:///./app/modules/commercial/custom_topics/admin/components/messages.ts","webpack:///./app/containers/App/Meta.tsx","webpack:///./app/modules/commercial/smart_groups/components/UserFilterConditions/ValueSelector/TopicValuesSelector.tsx","webpack:///./app/utils/cl-router/getCanonicalLink.tsx","webpack:///./app/modules/commercial/verification/citizen/components/VerificationStatus.tsx","webpack:///./app/hooks/useProjectGroups.ts","webpack:///./app/modules/commercial/smart_groups/components/SmartGroupModalHeader/index.tsx","webpack:///./app/services/permissions/permissions.ts","webpack:///./app/modules/commercial/smart_groups/index.tsx","webpack:///./app/containers/Admin/projects/all/StyledComponents.ts","webpack:///./app/services/groupsProjects.ts","webpack:///./app/containers/Admin/projects/edit/participationContext/components/CustomFieldPicker.tsx","webpack:///./app/services/verificationMethods.ts","webpack:///./app/components/SignUpIn/SignIn/PasswordSignin.tsx","webpack:///./app/modules/commercial/id_gent_rrn/components/GentRrnButton.tsx","webpack:///./app/modules/commercial/project_folders/services/projectFolderModerators.ts","webpack:///./app/modules/free/project_visibility/admin/containers/index.tsx","webpack:///./app/modules/commercial/smart_groups/components/UserFilterConditions/ValueSelector/ProjectValueSelector.tsx","webpack:///./app/modules/commercial/idea_custom_fields/index.tsx","webpack:///./app/containers/Admin/projects/edit/general/utils/save.ts","webpack:///./app/utils/map.ts","webpack:///./app/hooks/useAdminPublications.ts","webpack:///./app/containers/Admin/users/GroupCreationStep1.tsx","webpack:///./app/containers/Navbar/components/NotificationMenu/components/ProjectModerationRightsReceivedNotification/index.tsx","webpack:///./app/modules/commercial/custom_maps/shared/components/Map/LeafletConfig.tsx","webpack:///./app/modules/commercial/admin_project_templates/admin/containers/ProjectTemplatePreviewAdminWithEventWrapper.tsx","webpack:///./app/containers/Admin/projects/edit/general/components/SlugInput.tsx","webpack:///./app/modules/commercial/id_gent_rrn/components/VerificationFormGentRrn.tsx","webpack:///./app/containers/Admin/guide/ManageSection.tsx","webpack:///./app/modules/commercial/granular_permissions/admin/components/InitiativeSettingsTab.tsx","webpack:///./app/modules/commercial/custom_maps/hooks/useMapConfig.ts","webpack:///./app/modules/commercial/user_custom_fields/resources/GetUserCustomFieldOptions.tsx","webpack:///./app/modules/commercial/id_bogus/components/BogusButton.tsx","webpack:///./app/resources/GetWindowSize.tsx","webpack:///./app/services/permissions/roles.ts","webpack:///./app/modules/commercial/machine_translations/citizen/components/PostShowTranslatedTitle.tsx","webpack:///./app/containers/Admin/users/tracks.ts","webpack:///./app/containers/Navbar/components/NotificationMenu/components/OfficialFeedbackOnVotedIdeaNotification/index.tsx","webpack:///./app/utils/streams.ts","webpack:///./app/components/admin/PostManager/messages.ts","webpack:///./app/utils/fileTools.ts","webpack:///./app/containers/Admin/settings/routes.ts","webpack:///./app/modules/commercial/user_custom_fields/resources/GetUserCustomFields.tsx","webpack:///./app/components/UI/Modal/index.tsx","webpack:///./app/modules/commercial/smart_groups/components/UserFilterConditions/ValueSelector/ProjectValuesSelector.tsx","webpack:///./app/components/SignUpIn/index.tsx","webpack:///./app/containers/SiteMap/SiteMapMeta.tsx","webpack:///./app/modules/commercial/verification/citizen/components/VerificationMethods.tsx","webpack:///./app/containers/Navbar/components/NotificationMenu/components/MentionInOfficialFeedbackNotification/index.tsx","webpack:///./app/modules/commercial/insights/index.tsx","webpack:///./app/modules/commercial/project_folders/hooks/useProjectFolder.ts","webpack:///./app/components/UI/Button/index.tsx","webpack:///./app/modules/commercial/project_management/hooks/useProjectModerators.ts","webpack:///./app/containers/Admin/routes.ts","webpack:///./app/modules/commercial/google_tag_manager/messages.ts","webpack:///./app/routes.ts","webpack:///./app/containers/Admin/projects/edit/general/components/ProjectStatusPicker.tsx","webpack:///./app/containers/Admin/projects/edit/participationContext/utils/getOutput.ts","webpack:///./app/modules/commercial/id_cow/services/verify.ts","webpack:///./app/components/UI/QuillEditedContent/index.tsx","webpack:///./app/modules/commercial/verification/citizen/components/messages.ts","webpack:///./app/services/productFeedback.ts","webpack:///./app/hooks/useIdea.ts","webpack:///./app/components/T/index.tsx","webpack:///./app/modules/commercial/verification/citizen/components/illustration.svg","webpack:///./app/modules/commercial/user_custom_fields/resources/GetUserCustomFieldsSchema.tsx","webpack:///./app/modules/free/user_confirmation/admin/components/messages.ts","webpack:///./app/services/onboardingCampaigns.ts","webpack:///./app/containers/Navbar/components/NotificationMenu/components/StatusChangeOnCommentedIdeaNotification/index.tsx","webpack:///./app/modules/commercial/smart_groups/components/UserFilterConditions/ValueSelector/TopicValueSelector.tsx","webpack:///./app/modules/free/project_visibility/admin/components/Tab.tsx","webpack:///./app/services/actionPermissions.ts","webpack:///./app/components/PostShowComponents/Comments/CommentBody.tsx","webpack:///./app/hooks/useIdeaStatuses.ts","webpack:///./app/containers/SiteMap/TimelineProject.tsx","webpack:///./app/modules/commercial/segment/index.tsx","webpack:///./app/containers/Admin/guide/AdminGuideArticle.tsx","webpack:///./app/containers/Admin/projects/components/ProjectRow.tsx","webpack:///./app/modules/commercial/id_id_card_lookup/services/verificationMethods.ts","webpack:///./app/containers/Navbar/tracks.ts","webpack:///./app/modules/commercial/flag_inappropriate_content/admin/containers/Setting/messages.ts","webpack:///./app/modules/free/project_visibility/index.tsx","webpack:///./app/components/EventCard/index.tsx","webpack:///./app/components/VerticalCenterer/index.tsx","webpack:///./app/modules/commercial/project_folders/citizen/components/ProjectFolderSiteMap/index.tsx","webpack:///./app/modules/commercial/similar_ideas/tracks.ts","webpack:///./app/containers/Navbar/components/NotificationMenu/components/CommentMarkedAsSpamNotification/index.tsx","webpack:///./app/components/EventCard/EventInformation/index.tsx","webpack:///./app/containers/EventsPage/EventsViewer/EventsSpinner.tsx","webpack:///./app/containers/Admin/projects/edit/participationContext/components/IdeationInputs.tsx","webpack:///./app/modules/commercial/smart_groups/containers/RulesGroupFormWithValidation/messages.ts","webpack:///./app/modules/commercial/admin_project_templates/admin/components/Tab.tsx","webpack:///./app/hooks/useFeatureFlag.ts","webpack:///./app/modules/commercial/verification/citizen/components/VerificationSteps.tsx","webpack:///./app/components/SignUpIn/SignUp/PasswordSignup.tsx","webpack:///./app/resources/GetAreas.tsx","webpack:///./app/modules/utilComponents/RenderOnNotificationType.tsx","webpack:///./app/modules/commercial/user_custom_fields/citizen/components/UserCustomFieldsForm/index.tsx","webpack:///./app/modules/commercial/idea_assignment/admin/components/Tab.tsx","webpack:///./app/containers/Navbar/components/NotificationMenu/components/InviteAcceptedNotification/index.tsx","webpack:///./app/modules/commercial/project_management/admin/components/Tab.tsx","webpack:///./app/containers/Admin/guide/tracks.ts","webpack:///./app/components/UI/FileUploader/FileDisplay/index.tsx","webpack:///./app/containers/EventsPage/messages.ts","webpack:///./app/components/UI/LeafletMap/default-marker-hover.svg","webpack:///./app/hooks/useIsMounted.ts","webpack:///./app/modules/commercial/project_folders/admin/components/ProjectFolderRow/messages.ts","webpack:///./app/modules/commercial/project_folders/hooks/useProjectFolders.ts","webpack:///./app/modules/commercial/granular_permissions/admin/containers/Granular/Timeline.tsx","webpack:///./app/components/UI/FormComponents/messages.ts","webpack:///./app/modules/commercial/custom_maps/utils/map.ts","webpack:///./app/containers/Admin/projects/all/CreateProject.tsx","webpack:///./app/modules/commercial/id_franceconnect/messages.ts","webpack:///./app/containers/Navbar/components/NotificationMenu/components/IdeaAssignedToYouNotification/index.tsx","webpack:///./app/containers/PlatformFooter/ShortFeedbackForm.tsx","webpack:///./app/modules/commercial/idea_assignment/admin/containers/index.tsx","webpack:///./app/utils/errorUtils.ts","webpack:///./app/modules/commercial/idea_assignment/admin/components/AssigneeSelector.tsx","webpack:///./app/modules/commercial/project_folders/admin/components/ProjectFolderTitle/index.tsx","webpack:///./app/modules/commercial/user_custom_fields/services/stats.ts","webpack:///./app/utils/styleUtils.tsx","webpack:///./app/containers/OutletsProvider/index.tsx","webpack:///./app/modules/commercial/smart_groups/components/UserFilterConditions/FieldSelector.tsx","webpack:///./app/utils/i18n.ts","webpack:///./app/modules/commercial/verification/citizen/components/verificationModalEvents.ts","webpack:///./app/modules/commercial/idea_custom_fields/admin/components/messages.ts","webpack:///./app/modules/commercial/id_id_card_lookup/services/verify.ts","webpack:///./app/modules/free/user_confirmation/citizen/components/tracks.ts","webpack:///./app/components/UI/FranceConnectButton/messages.ts","webpack:///./app/modules/commercial/id_bogus/index.tsx","webpack:///./app/containers/Navbar/components/NotificationMenu/components/OfficialFeedbackOnYourIdeaNotification/index.tsx","webpack:///./app/modules/commercial/events_widget/admin/EventsWidgetSwitch.tsx","webpack:///./app/containers/Admin/projects/edit/general/index.tsx","webpack:///./app/modules/commercial/project_management/admin/components/UserSearch.tsx","webpack:///./app/services/adminPublications.ts","webpack:///./app/modules/commercial/admin_project_templates/admin/containers/ProjectTemplatePreviewAdmin.tsx","webpack:///./app/modules/commercial/id_franceconnect/index.tsx","webpack:///./app/components/PostShowComponents/Comments/tracks.ts","webpack:///./app/modules/commercial/granular_permissions/admin/components/ProjectSettingsTab.tsx","webpack:///./app/modules/commercial/intercom/index.ts","webpack:///./app/hooks/useAdminPublicationPrefetchProjects.ts","webpack:///./app/modules/commercial/user_custom_fields/admin/components/AreaChart.tsx","webpack:///./app/containers/LandingPage/tracks.ts","webpack:///./app/modules/commercial/id_clave_unica/services/verificationMethods.ts","webpack:///./app/components/EventCard/DateBlocks/styling.tsx","webpack:///./app/modules/commercial/project_folders/admin/components/ProjectFolderSelect/index.tsx","webpack:///./app/containers/Navbar/components/ProjectsListItem/index.tsx","webpack:///./app/components/UI/QuillEditor/messages.ts","webpack:///./app/modules/commercial/project_folders/hooks/useProjectFolderImages.ts","webpack:///./app/components/ConsentManager/Container.tsx","webpack:///./app/modules/commercial/user_custom_fields/admin/containers/CustomFields/messages.ts","webpack:///./app/modules/commercial/id_bosa_fas/index.tsx","webpack:///./app/modules/commercial/flag_inappropriate_content/admin/components/EmptyMessageModerationsWithFlag.tsx","webpack:///./app/resources/GetPage.tsx","webpack:///./app/containers/Navbar/components/NotificationMenu/components/ProjectPhaseStartedNotification/index.tsx","webpack:///./app/modules/commercial/verification/citizen/components/tracks.ts","webpack:///./app/components/admin/ReportExportMenu/index.tsx","webpack:///./app/services/permissions/rules/ideaPermissions.ts","webpack:///./app/modules/commercial/custom_maps/admin/components/Tab.tsx","webpack:///./app/modules/commercial/idea_assignment/admin/components/IdeaRowCell.tsx","webpack:///./app/modules/commercial/granular_permissions/admin/containers/Granular/ActionForm.tsx","webpack:///./app/modules/commercial/flag_inappropriate_content/utils.ts","webpack:///./app/modules/commercial/smart_groups/containers/RulesGroupFormWithValidation/index.tsx","webpack:///./app/modules/commercial/id_clave_unica/index.tsx","webpack:///./app/containers/Admin/projects/messages.ts","webpack:///./app/services/participationContexts.ts","webpack:///./app/containers/Navbar/components/NotificationMenu/assets/no_notification_image.svg","webpack:///./app/components/admin/FormikSubmitWrapper/index.tsx","webpack:///./app/components/ContentContainer/index.tsx","webpack:///./app/services/users.ts","webpack:///./app/modules/commercial/flag_inappropriate_content/admin/components/RemoveFlagButton.tsx","webpack:///./app/containers/SiteMap/messages.ts","webpack:///./app/components/UI/FileUploader/index.tsx","webpack:///./app/components/EventCard/EventInformation/checkTextOverflow.ts","webpack:///./app/utils/localeCookie.ts","webpack:///./app/components/UI/TranslateButton/index.tsx","webpack:///./app/modules/commercial/user_custom_fields/citizen/components/UserCustomFieldsForm/messages.ts","webpack:///./app/utils/paginationUtils.ts","webpack:///./app/components/UI/Tabs/index.tsx","webpack:///./app/utils/containers/clickOutside/index.tsx","webpack:///./app/components/UI/LeafletMap/default-marker.svg","webpack:///./app/containers/Admin/projects/edit/participationContext/components/styling.ts","webpack:///./app/modules/commercial/geographic_dashboard/index.tsx","webpack:///./app/containers/Navbar/index.tsx","webpack:///./app/components/SignUpIn/styles.tsx","webpack:///./app/modules/commercial/verification/citizen/components/VerificationSignUpSteps.tsx","webpack:///./app/modules/commercial/custom_maps/index.tsx","webpack:///./app/components/UI/UserName/index.tsx","webpack:///./app/resources/GetProjects.tsx","webpack:///./app/modules/commercial/smart_groups/components/UserFilterConditions/messages.ts","webpack:///./app/components/UI/FranceConnectButton/index.tsx","webpack:///./app/components/Loadable/Modal.tsx","webpack:///./app/components/UI/Checkbox/index.tsx","webpack:///./app/components/ConsentManager/CategoryCard.tsx","webpack:///./app/modules/commercial/flag_inappropriate_content/tracks.ts","webpack:///./app/modules/commercial/admin_project_templates/admin/components/UseTemplateModal.tsx","webpack:///./app/components/UI/PasswordInput/index.tsx","webpack:///./app/components/UI/Modal/tracks.ts","webpack:///./app/components/SignUpIn/SignIn/messages.ts","webpack:///./app/containers/Navbar/components/UserMenu/index.tsx","webpack:///./app/modules/commercial/custom_maps/services/mapLayers.ts","webpack:///./app/global-styles.ts","webpack:///./app/services/appConfiguration.ts","webpack:///./app/containers/UsersEditPage/messages.ts","webpack:///./app/modules/commercial/admin_project_templates/admin/components/PurposeFilter.tsx","webpack:///./app/modules/commercial/geographic_dashboard/admin/components/messages.ts","webpack:///./app/modules/commercial/smart_groups/components/UserFilterConditions/ValueSelector/IdeaStatusValuesSelector.tsx","webpack:///./app/containers/Navbar/components/NotificationMenu/components/InitiativeMarkedAsSpamNotification/index.tsx","webpack:///./app/containers/Admin/users/NormalGroupForm.tsx","webpack:///./app/modules/commercial/idea_assignment/admin/components/messages.ts","webpack:///./app/hooks/useAppConfiguration.ts","webpack:///./app/utils/eventEmitter.ts","webpack:///./app/modules/commercial/tagging/index.tsx","webpack:///./app/modules/commercial/custom_maps/shared/components/Map/Legend.tsx","webpack:///./app/containers/Admin/settings/areas/routes.ts","webpack:///./app/modules/commercial/project_folders/admin/components/NewProjectFolderButton/index.tsx","webpack:///./app/modules/commercial/project_folders/services/projectFolderImages.ts","webpack:///./app/resources/GetGroups.tsx","webpack:///./app/assets/css/reset.min.css","webpack:///./app/utils/cl-router/history.ts","webpack:///./app/containers/Navbar/components/MobileNavigation/index.tsx","webpack:///./app/containers/Admin/projects/components/messages.ts","webpack:///./app/modules/commercial/admin_project_templates/admin/containers/CreateProjectFromTemplate.tsx","webpack:///./app/components/SignUpIn/SignUp/success.jpg","webpack:///./app/containers/Admin/projects/edit/participationContext/components/ParticipationMethodPicker.tsx","webpack:///./app/hooks/useLocale.ts","webpack:///./app/modules/commercial/project_management/admin/containers/messages.ts","webpack:///./app/hooks/useWindowSize.ts","webpack:///./app/modules/commercial/verification/citizen/components/styles.ts","webpack:///./app/modules/commercial/google_analytics/index.ts","webpack:///./app/services/groups.ts","webpack:///./app/containers/Admin/projects/edit/participationContext/components/SortingPicker.tsx","webpack:///./app/modules/free/project_visibility/admin/components/ProjectGroupsList.tsx","webpack:///./app/utils/helperUtils.ts","webpack:///./app/modules/commercial/flag_inappropriate_content/index.tsx","webpack:///./app/components/ErrorBoundary/messages.ts","webpack:///./app/modules/commercial/verification/citizen/components/VerificationMethodButton.tsx","webpack:///./app/utils/analytics/index.ts","webpack:///./app/containers/Admin/projects/edit/general/components/HeaderImageDropzone.tsx","webpack:///./app/modules/free/project_visibility/admin/components/GroupAvatar.tsx","webpack:///./app/resources/GetFeatureFlag.tsx","webpack:///./app/components/SignUpIn/SignUp/index.tsx","webpack:///./app/components/UI/PasswordInput/PasswordInputIconTooltip.tsx","webpack:///./app/containers/Admin/guide/DecideSection.tsx","webpack:///./app/components/UI/PasswordInput/messages.ts","webpack:///./app/modules/commercial/custom_maps/services/mapConfigs.ts","webpack:///./app/modules/commercial/idea_assignment/index.tsx","webpack:///./app/modules/commercial/matomo/index.ts","webpack:///./app/components/admin/Section/index.tsx","webpack:///./app/containers/Admin/projects/components/StyledComponents.tsx","webpack:///./app/resources/GetProject.tsx","webpack:///./app/resources/GetPhases.tsx","webpack:///./app/services/phases.ts","webpack:///./app/modules/commercial/user_custom_fields/admin/components/messages.ts","webpack:///./app/components/admin/PostManager/components/PostTable/index.tsx","webpack:///./app/utils/textUtils.ts","webpack:///./app/components/UI/LeafletMap/config.ts","webpack:///./app/components/PostShowComponents/Comments/events.ts","webpack:///./app/components/HasPermission/index.tsx","webpack:///./app/modules/commercial/project_management/admin/components/ModeratorList.tsx","webpack:///./app/containers/Admin/projects/edit/participationContext/index.tsx","webpack:///./app/resources/GetOnboardingCampaigns.tsx","webpack:///./app/services/projectImages.ts","webpack:///./app/modules/commercial/machine_translations/citizen/components/PostShowTranslatedBody.tsx","webpack:///./app/components/SignUpIn/SignUp/Consent.tsx","webpack:///./app/modules/commercial/id_clave_unica/components/clave-unica-icon.svg","webpack:///./app/components/ErrorBoundary/index.tsx","webpack:///./node_modules/moment/locale sync [/\\\\](en-gb(\\.js)","webpack:///./app/modules/commercial/user_custom_fields/admin/components/CustomFieldOptionValuesSelector.tsx","webpack:///./app/modules/commercial/smart_groups/containers/RulesGroupFormWithValidation/RulesGroupForm.tsx","webpack:///./app/modules/commercial/similar_ideas/hooks/useSimilarIdeas.ts","webpack:///./app/modules/commercial/smart_groups/components/UserFilterConditions/PredicateSelector.tsx","webpack:///./app/services/permissions/rules/routePermissions.ts","webpack:///./app/services/projectFiles.ts","webpack:///./app/hooks/usePrevious.ts","webpack:///./app/services/initiativeFiles.ts","webpack:///./app/resources/GetIdea.tsx","webpack:///./app/components/admin/Chart/index.tsx","webpack:///./app/modules/commercial/user_custom_fields/admin/components/CustomFieldOptionValueSelector.tsx","webpack:///./app/components/UI/FormComponents/index.tsx","webpack:///./app/modules/commercial/user_custom_fields/admin/components/AgeChart.tsx","webpack:///./app/modules/commercial/project_folders/citizen/components/ProjectFolderModerationRightsReceivedNotification/index.tsx","webpack:///./app/modules/commercial/id_id_card_lookup/messages.ts","webpack:///./app/modules/commercial/admin_project_templates/components/ProjectTemplatePreview.tsx","webpack:///./app/containers/Admin/projects/edit/general/components/styling.ts","webpack:///./app/resources/GetNotifications.tsx","webpack:///./app/containers/Admin/users/routes.ts","webpack:///./app/containers/Admin/settings/customize/index.tsx","webpack:///./app/modules/commercial/idea_assignment/admin/containers/messages.ts","webpack:///./app/components/UI/FormikInputMultilocWithLocaleSwitcher/index.tsx","webpack:///./app/modules/commercial/idea_assignment/admin/components/IdeaHeaderCell.tsx","webpack:///./app/modules/commercial/project_folders/permissions/roles.ts","webpack:///./app/hooks/useParticipationConditions.ts","webpack:///./app/services/permissions/rules/commentPermissions.ts","webpack:///./app/components/UI/Error/messages.ts","webpack:///./app/hooks/useLocalize.ts","webpack:///./app/modules/commercial/events_widget/citizen/TopBar.tsx","webpack:///./app/utils/auth/jwt.ts","webpack:///./app/components/UI/FileUploader/FileInput/index.tsx","webpack:///./app/containers/Navbar/components/NotificationMenu/components/MentionInCommentNotification/index.tsx","webpack:///./app/modules/commercial/project_folders/citizen/components/ProjectFolderCard/messages.ts","webpack:///./app/components/admin/PostManager/components/PostTable/IdeaHeaderRow.tsx","webpack:///./app/modules/commercial/verification/citizen/components/VerificationBadge.tsx","webpack:///./app/components/Avatar/index.tsx","webpack:///./app/utils/request.ts","webpack:///./app/modules/commercial/admin_project_templates/components/messages.ts","webpack:///./app/modules/commercial/user_custom_fields/services/userCustomFieldOptions.ts","webpack:///./app/modules/commercial/granular_permissions/admin/containers/Granular/index.tsx","webpack:///./app/services/comments.ts","webpack:///./app/containers/Navbar/components/NotificationMenu/components/OfficialFeedbackOnCommentedIdeaNotification/index.tsx","webpack:///./app/containers/Admin/projects/edit/participationContext/components/ParticipatoryBudgetingInputs.tsx","webpack:///./app/utils/cl-intl/index.tsx","webpack:///./app/modules/commercial/machine_translations/resources/GetMachineTranslation.tsx","webpack:///./app/modules/commercial/user_custom_fields/admin/components/RegistrationFieldsToGraphs.tsx","webpack:///./app/containers/Navbar/components/UserMenu/User.tsx","webpack:///./app/modules/commercial/verification/citizen/components/VerificationError.tsx","webpack:///./app/containers/Admin/pages/routes.ts","webpack:///./app/modules/commercial/project_folders/services/projectFolderFiles.ts","webpack:///./app/modules/commercial/flag_inappropriate_content/citizen/components/messages.ts","webpack:///./app/services/topics.ts","webpack:///./app/components/UI/MultipleSelect/index.tsx","webpack:///./app/modules/commercial/id_bosa_fas/messages.ts","webpack:///./app/modules/commercial/id_franceconnect/components/VerificationFranceConnectButton.tsx","webpack:///./app/modules/commercial/smart_groups/components/ListItemIcon.tsx","webpack:///./app/modules/commercial/user_custom_fields/admin/components/RegistrationQuestions.tsx","webpack:///./app/components/admin/Pagination/index.tsx","webpack:///./app/modules/commercial/smart_groups/components/UserFilterConditions/ValueSelector/index.tsx","webpack:///./app/modules/commercial/admin_project_templates/index.tsx","webpack:///./app/utils/currency/messages.ts","webpack:///./app/modules/commercial/id_gent_rrn/index.tsx","webpack:///./app/services/locale.ts","webpack:///./app/components/EventCard/messages.ts","webpack:///./app/containers/SiteMap/Project.tsx","webpack:///./app/modules/commercial/id_auth0/index.tsx","webpack:///./app/containers/Admin/users/messages.ts","webpack:///./app/services/notifications.ts","webpack:///./app/components/UI/ImagesDropzone/messages.ts","webpack:///./app/modules/commercial/id_cow/components/COWHelpImage.png","webpack:///./app/containers/Admin/projects/edit/general/components/ProjectNameInput.tsx","webpack:///./app/containers/SiteMap/ProjectsSection.tsx","webpack:///./app/components/ConsentManager/consent.ts","webpack:///./app/modules/commercial/widgets/admin/components/GuideArticle.tsx","webpack:///./app/components/UI/FranceConnectButton/FranceConnectLogo.tsx","webpack:///./app/components/FeatureFlag/index.tsx","webpack:///./app/containers/Navbar/components/NotificationMenu/components/NotificationWrapper/index.tsx","webpack:///./app/modules/commercial/widgets/admin/components/Tab.tsx","webpack:///./app/modules/commercial/machine_translations/citizen/components/InitiativesTranslateButton.tsx","webpack:///./app/utils/localize.tsx","webpack:///./app/modules/commercial/id_bogus/components/VerificationFormBogus.tsx","webpack:///./app/containers/LanguageProvider/index.tsx","webpack:///./app/containers/Navbar/components/NotificationMenu/components/Notification/index.tsx","webpack:///./app/components/UI/LeafletMap/default-marker-active.svg","webpack:///./app/components/UI/UserName/messages.ts","webpack:///./app/modules/commercial/project_management/services/projectModerators.ts","webpack:///./app/modules/commercial/satismeter/index.ts","webpack:///./app/modules/commercial/flag_inappropriate_content/admin/containers/Setting/index.tsx","webpack:///./app/modules/commercial/user_custom_fields/admin/components/GenderChart.tsx","webpack:///./app/modules/commercial/widgets/index.tsx","webpack:///./app/containers/Navbar/components/NotificationMenu/components/StatusChangeOnVotedIdeaNotification/index.tsx","webpack:///./app/components/UI/QuillEditor/index.tsx","webpack:///./app/components/SignUpIn/SignUpInModal.tsx","webpack:///./app/utils/getSubmitState.ts","webpack:///./app/modules/commercial/user_custom_fields/citizen/components/CustomFieldsStep.tsx","webpack:///./app/components/UI/InputMultilocWithLocaleSwitcher/index.tsx","webpack:///./app/modules/commercial/id_auth0/components/Auth0Button.tsx","webpack:///./app/containers/Navbar/components/NotificationMenu/components/NotificationCount/index.tsx","webpack:///./app/containers/Admin/projects/edit/general/components/ProjectTypePicker.tsx","webpack:///./app/utils/validate.ts","webpack:///./app/services/ideaStatuses.ts","webpack:///./app/components/UI/SearchInput/messages.ts","webpack:///./app/containers/Admin/guide/messages.ts","webpack:///./app/modules/commercial/project_folders/hooks/useProjectFolderFiles.ts","webpack:///./app/containers/Admin/projects/edit/messages.ts","webpack:///./app/modules/commercial/project_folders/citizen/components/ProjectFolderCard/index.tsx","webpack:///./app/components/UI/Collapse/index.tsx","webpack:///./app/resources/GetAuthUser.tsx","webpack:///./app/modules/commercial/custom_topics/index.tsx","webpack:///./app/components/routing/forbiddenRoute.ts","webpack:///./app/components/Outlet/index.tsx","webpack:///./app/components/admin/SortableTableHeader/index.tsx","webpack:///./app/modules/commercial/user_custom_fields/hooks/useUserCustomFieldsSchema.ts","webpack:///./app/components/UI/Error/index.tsx","webpack:///./app/components/EventCard/DateBlocks/DateBlocksMultiYear.tsx","webpack:///./app/containers/Admin/dashboard/messages.ts","webpack:///./app/modules/free/project_visibility/admin/components/messages.ts","webpack:///./app/modules/commercial/admin_project_templates/admin/components/DepartmentFilter.tsx","webpack:///./app/containers/EventsPage/EventsViewer/EventsMessage.tsx","webpack:///./app/modules/commercial/flag_inappropriate_content/services/inappropriateContentFlags.ts","webpack:///./app/resources/GetComment.tsx","webpack:///./app/components/UI/Warning/index.tsx","webpack:///./app/utils/shallowCompare.ts","webpack:///./app/containers/Navbar/components/NotificationMenu/components/InitiativeAssignedToYouNotification/index.tsx","webpack:///./app/modules/commercial/smart_groups/components/SmartGroupType/messages.ts","webpack:///./app/components/SignUpIn/AuthProviderButton.tsx","webpack:///./app/components/IdeasShowComponents/MetaInfoStyles.tsx","webpack:///./app/hooks/useEvents.ts","webpack:///./app/containers/PlatformFooter/tracks.ts","webpack:///./app/resources/GetProjectPermissions.tsx","webpack:///./app/modules/free/user_confirmation/citizen/components/messages.ts","webpack:///./app/components/EventCard/DateBlocks/index.tsx","webpack:///./app/containers/Admin/projects/all/messages.ts","webpack:///./app/services/groupMemberships.ts","webpack:///./app/containers/LandingPage/messages.ts","webpack:///./app/utils/loggingUtils.ts","webpack:///./app/containers/LandingPage/SignedInHeader.tsx","webpack:///./app/components/UI/MentionsTextArea/index.tsx","webpack:///./app/modules/commercial/id_id_card_lookup/components/IdCardLookupButton.tsx","webpack:///./app/modules/commercial/id_clave_unica/components/ClaveUnicaButton.tsx","webpack:///./app/modules/commercial/machine_translations/services/machineTranslations.ts","webpack:///./app/modules/commercial/project_folders/services/projectFolders.ts","webpack:///./app/containers/Admin/projects/edit/general/components/ProjectImageDropzone.tsx","webpack:///./app/modules/commercial/similar_ideas/index.tsx","webpack:///./app/modules/commercial/custom_topics/admin/components/SettingsTab.tsx","webpack:///./app/services/ideaFiles.ts","webpack:///./app/containers/Admin/initiatives/routes.ts","webpack:///./app/components/SignUpIn/AuthProviders.tsx","webpack:///./app/containers/Admin/guide/index.tsx","webpack:///./app/containers/Navbar/components/NotificationMenu/components/CommentOnYourIdeaNotification/index.tsx","webpack:///./app/modules/commercial/machine_translations/citizen/components/IdeasShowTranslateButton.tsx","webpack:///./app/components/PostShowComponents/Comments/messages.ts","webpack:///./app/components/SignUpIn/SignUp/Success.tsx","webpack:///./app/modules/commercial/smart_groups/components/HeaderIcon.tsx","webpack:///./app/modules/commercial/id_gent_rrn/services/verify.ts","webpack:///./app/modules/commercial/id_id_card_lookup/index.tsx","webpack:///./app/modules/commercial/events_widget/index.tsx","webpack:///./app/modules/index.ts","webpack:///./app/modules/free/user_confirmation/index.tsx","webpack:///./app/modules/commercial/id_gent_rrn/messages.ts","webpack:///./app/modules/commercial/custom_idea_statuses/index.tsx","webpack:///./app/resources/GetUsers.tsx","webpack:///./app/hooks/useResourceFiles.ts","webpack:///./app/containers/Admin/dashboard/routes.ts","webpack:///./app/utils/dateUtils.ts","webpack:///./app/components/UI/FileUploader/messages.ts","webpack:///./app/containers/PlatformFooter/messages.ts","webpack:///./app/containers/PlatformFooter/index.tsx","webpack:///./app/hooks/usePhases.ts","webpack:///./app/modules/commercial/custom_idea_statuses/admin/components/Tab.tsx","webpack:///./app/modules/commercial/user_custom_fields/admin/components/CustomFields/All/messages.ts","webpack:///./app/modules/commercial/user_custom_fields/admin/components/CustomFieldGraphs.tsx","webpack:///./app/modules/commercial/idea_assignment/admin/components/AssigneeFilter.tsx","webpack:///./app/modules/commercial/machine_translations/citizen/components/PostShowTranslatedCommentBody.tsx","webpack:///./app/modules/commercial/user_custom_fields/utils/customFields.ts","webpack:///./app/components/SendFeedback/index.tsx","webpack:///./app/containers/Navbar/components/NotificationMenu/messages.ts","webpack:///./app/modules/commercial/admin_project_templates/admin/components/messages.ts","webpack:///./app/modules/commercial/id_clave_unica/messages.ts","webpack:///./app/containers/Admin/projects/edit/participationContext/utils/validate.tsx","webpack:///./app/containers/Admin/projects/edit/participationContext/components/PollInputs.tsx","webpack:///./app/modules/commercial/project_folders/citizen/components/ProjectFolderModerationRightsReceivedNotification/messages.ts","webpack:///./app/containers/Admin/projects/edit/participationContext/components/labels.tsx","webpack:///./app/modules/free/user_confirmation/services/confirmation.ts","webpack:///./app/modules/commercial/clusterings/admin/messages.ts","webpack:///./app/containers/Admin/projects/edit/participationContext/utils/state.ts","webpack:///./app/modules/commercial/granular_permissions/admin/containers/Granular/Continuous.tsx","webpack:///./app/containers/Navbar/components/NotificationMenu/components/OfficialFeedbackOnCommentedInitiativeNotification/index.tsx","webpack:///./app/components/admin/PostManager/tracks.ts","webpack:///./app/modules/commercial/granular_permissions/admin/containers/Granular/messages.ts","webpack:///./app/modules/commercial/project_folders/admin/components/ProjectFolderRow/index.tsx","webpack:///./app/containers/Admin/projects/all/tracks.ts","webpack:///./app/modules/commercial/granular_permissions/admin/containers/Granular/ActionsForm.tsx","webpack:///./app/components/admin/FormikSubmitWrapper/messages.js","webpack:///./app/hooks/useGraphqlTenantLocales.ts","webpack:///./app/components/admin/PostManager/components/PostTable/AssigneeSelect.tsx","webpack:///./app/containers/Admin/dashboard/users/charts/HorizontalBarChart.tsx","webpack:///./app/modules/commercial/id_cow/components/VerificationFormCOW.tsx","webpack:///./app/containers/Navbar/components/NotificationMenu/components/CommentOnYourInitiativeNotification/index.tsx","webpack:///./app/context/index.ts","webpack:///./app/modules/commercial/project_folders/admin/components/DeleteProjectFolderButton/messages.ts","webpack:///./app/components/admin/ReportExportMenu/messages.ts","webpack:///./app/components/admin/ResourceList/index.tsx","webpack:///./app/components/ConsentManager/messages.ts","webpack:///./app/components/UI/QuillEditor/tracks.ts","webpack:///./app/components/admin/SubmitWrapper/index.tsx","webpack:///./app/modules/commercial/id_cow/components/CowButton.tsx","webpack:///./app/modules/commercial/id_bosa_fas/components/BosaFasButton.tsx","webpack:///./app/containers/Admin/ideas/routes.ts","webpack:///./app/components/Verification/verificationModalEvents.ts","webpack:///./app/modules/free/user_confirmation/admin/components/ToggleUserConfirmation.tsx","webpack:///./app/modules/commercial/id_bogus/services/verify.ts","webpack:///./app/modules/commercial/id_cow/messages.ts","webpack:///./app/modules/commercial/smart_groups/components/SmartGroupModalHeader/messages.ts","webpack:///./app/services/permissions/index.ts","webpack:///./app/modules/commercial/project_folders/admin/components/NewProjectFolderButton/messages.ts","webpack:///./app/components/UserDeletedModalContent/LoadableUserDeleted.tsx","webpack:///./app/components/UI/SearchInput/index.tsx","webpack:///./app/modules/commercial/user_custom_fields/citizen/components/UserCustomFieldsSignUpInModal.tsx","webpack:///./app/containers/Admin/projects/components/PublicationStatusLabel.tsx","webpack:///./app/services/pages.ts","webpack:///./app/containers/Navbar/messages.ts","webpack:///./app/components/SignUpIn/tracks.ts","webpack:///./app/modules/commercial/clusterings/admin/components/Tab.tsx","webpack:///./app/utils/cl-router/Link.tsx","webpack:///./app/modules/commercial/admin_project_templates/admin/containers/messages.ts","webpack:///./app/i18n lazy ^\\.\\/.*$ namespace object","webpack:///./app/modules/commercial/verification/index.tsx","webpack:///./app/modules/commercial/similar_ideas/messages.ts","webpack:///./app/modules/commercial/project_management/admin/containers/ProjectManagement.tsx","webpack:///./app/components/SignUpIn/SignUp/messages.ts","webpack:///./app/modules/commercial/events_widget/citizen/index.tsx","webpack:///./app/services/phaseFiles.ts","webpack:///./app/services/permissions/rules/campaignPermissions.ts","webpack:///./app/modules/commercial/project_folders/citizen/components/ProjectFolderCard/tracks.ts","webpack:///./app/modules/commercial/admin_project_templates/utils/apolloUtils.ts","webpack:///./app/modules/commercial/id_cow/services/verificationMethods.ts","webpack:///./app/containers/Admin/projects/components/DeleteProjectButton.tsx","webpack:///./app/.htaccess","webpack:///./app/containers/Navbar/components/NotificationMenu/index.tsx","webpack:///./app/services/singleSignOn.ts","webpack:///./app/modules/commercial/user_custom_fields/services/userCustomFields.ts","webpack:///./app/components/FilterSelector/index.tsx","webpack:///./app/modules/commercial/clusterings/index.tsx","webpack:///./app/modules/commercial/smart_groups/components/UserFilterConditions/ValueSelector/TextValueSelector.tsx","webpack:///./app/modules/commercial/custom_maps/admin/components/messages.ts","webpack:///./app/modules/commercial/project_folders/admin/components/DeleteProjectFolderButton/index.tsx","webpack:///./app/modules/commercial/project_folders/index.tsx","webpack:///./app/components/UI/ImagesDropzone/index.tsx","webpack:///./app/modules/commercial/flag_inappropriate_content/citizen/components/NLPFlagNotification.tsx","webpack:///./app/services/mentions.ts","webpack:///./app/modules/commercial/idea_custom_fields/admin/components/Tab.tsx","webpack:///./app/containers/Admin/projects/edit/permissions/messages.ts","webpack:///./app/components/ConsentManager/destinations.ts","webpack:///./app/containers/App/index.tsx","webpack:///./app/modules/commercial/verification/citizen/components/VerificationOnboardingStep.tsx","webpack:///./app/components/UI/MultipleSelect/styles.ts","webpack:///./app/containers/Admin/emails/routes.ts","webpack:///./app/services/events.ts","webpack:///./app/containers/Navbar/components/NotificationMenu/components/StatusChangeOnVotedInitiativeNotification/index.tsx","webpack:///./app/containers/SiteMap/ContinuousProject.tsx","webpack:///./app/modules/commercial/verification/citizen/components/VerificationModal.tsx","webpack:///./app/containers/Admin/projects/edit/participationContext/components/DefaultViewPicker.tsx","webpack:///./app/utils/currency/FormattedCurrency.tsx","webpack:///./app/modules/commercial/user_custom_fields/index.tsx","webpack:///./app/resources/GetAdminPublications.tsx","webpack:///./app/components/UI/Modal/messages.ts","webpack:///./app/containers/Navbar/components/NotificationMenu/components/AdminRightsReceivedNotification/index.tsx","webpack:///./app/hooks/useUser.ts","webpack:///./app/modules/commercial/project_folders/admin/components/ProjectFolderSelect/messages.ts","webpack:///./app/modules/commercial/admin_project_templates/tracks.ts","webpack:///./app/modules/free/user_confirmation/citizen/components/ConfirmationSignupStep.tsx","webpack:///./app/components/UI/PasswordInput/PasswordInput.tsx","webpack:///./app/modules/commercial/insights/admin/components/NavItem.tsx","webpack:///./app/modules/commercial/project_folders/hooks/useProjectFolderModerators.ts","webpack:///./app/components/Loadable/LanguageSelector.tsx","webpack:///./app/modules/commercial/admin_project_templates/admin/components/ParticipationLevelFilter.tsx","webpack:///./app/containers/Navbar/components/NotificationMenu/components/StatusChangeOfYourInitiativeNotification/index.tsx","webpack:///./app/components/ConsentManager/Footer.tsx","webpack:///./app/modules/commercial/machine_translations/hooks/useTranslation.ts","webpack:///./app/services/ideas.ts","webpack:///./app/containers/Navbar/components/NotificationMenu/components/ProjectPhaseUpcomingNotification/index.tsx","webpack:///./app/containers/Navbar/components/NotificationMenu/components/CommentOnYourCommentNotification/index.tsx","webpack:///./app/services/participationConditions.ts","webpack:///./app/services/areas.ts","webpack:///./app/components/UI/TranslateButton/messages.ts","webpack:///./app/modules/commercial/flag_inappropriate_content/admin/components/InappropriateContentWarning.tsx","webpack:///./app/components/EventCard/DateBlocks/DateBlockSingleYear.tsx","webpack:///./app/modules/commercial/project_management/index.tsx","webpack:///./app/modules/commercial/google_tag_manager/index.tsx","webpack:///./app/components/UI/Or/messages.ts","webpack:///./app/modules/commercial/user_custom_fields/citizen/components/tracks.ts","webpack:///./app/containers/App/constants.js","webpack:///./app/containers/Admin/dashboard/users/charts/PieChartByCategory.tsx","webpack:///./app/utils/moduleUtils.ts","webpack:///./app/modules/commercial/moderation/index.tsx","webpack:///./app/services/eventFiles.ts","webpack:///./app/containers/Admin/settings/general/index.tsx","webpack:///./app/modules/commercial/smart_groups/components/UserFilterConditions/ValueSelector/AreaValueSelector.tsx","webpack:///./app/modules/free/project_visibility/admin/containers/messages.ts","webpack:///./app/modules/commercial/custom_topics/admin/components/ProjectEditTab.tsx","webpack:///./app/resources/GetAppConfigurationLocales.tsx","webpack:///./app/components/admin/PostManager/components/PostTable/Row.tsx","webpack:///./app/modules/commercial/granular_permissions/index.tsx","webpack:///./app/components/EventCard/DateBlocks/DayAndMonth.tsx","webpack:///./app/modules/commercial/id_auth0/services/verificationMethods.ts","webpack:///./app/components/UI/Image/index.tsx","webpack:///./app/modules/commercial/tagging/admin/components/NavItem.tsx","webpack:///./app/components/SignUpIn/events.ts","webpack:///./app/modules/commercial/smart_groups/components/UserFilterConditions/ValueSelector/NumberValueSelector.tsx","webpack:///./app/modules/commercial/smart_groups/components/UserFilterConditions/ValueSelector/IdeaStatusValueSelector.tsx","webpack:///./app/containers/Admin/settings/messages.ts","webpack:///./app/containers/SiteMap/index.tsx","webpack:///./app/containers/Admin/projects/edit/general/utils/validate.ts","webpack:///./app/services/permissions/rules/initiativePermissions.ts","webpack:///./app/resources/GetPhasePermissions.tsx","webpack:///./app/components/admin/PostManager/components/PostTable/InitiativesHeaderRow.tsx","webpack:///./app/modules/commercial/id_gent_rrn/services/verificationMethods.ts","webpack:///./app/services/projectTopics.ts","webpack:///./app/components/admin/PageWrapper/index.tsx","webpack:///./app/root.tsx","webpack:///./app/containers/SiteMap/StoryLink.tsx","webpack:///./app/containers/Navbar/components/NotificationMenu/components/StatusChangeOfYourIdeaNotification/index.tsx","webpack:///./app/modules/commercial/id_bogus/services/verificationMethods.ts","webpack:///./app/containers/App/messages.ts","webpack:///./app/modules/commercial/project_management/admin/components/messages.ts","webpack:///./app/utils/cl-intl/injectIntl.tsx","webpack:///./app/components/admin/ResourceList/SortableList.tsx","webpack:///./app/modules/commercial/custom_style/index.tsx","webpack:///./app/containers/Admin/guide/SetupSection.tsx","webpack:///./app/modules/commercial/id_franceconnect/services/verificationMethods.ts","webpack:///./app/modules/commercial/custom_idea_statuses/admin/components/messages.ts","webpack:///./app/assets/fonts/fonts.css","webpack:///./app/containers/Admin/invitations/routes.ts","webpack:///./app/modules/commercial/smart_groups/components/UserFilterConditions/rules.ts","webpack:///./app/components/ConsentManager/Banner.tsx","webpack:///./app/modules/commercial/flag_inappropriate_content/admin/components/messages.ts","webpack:///./app/components/admin/ResourceList/SortableRow.tsx","webpack:///./app/containers/Navbar/components/NotificationMenu/components/OfficialFeedbackOnYourInitiativeNotification/index.tsx","webpack:///./app/hooks/useVerificationMethods.ts","webpack:///./app/modules/commercial/smart_groups/components/UserFilterConditions/ValueSelector/DateValueSelector.tsx","webpack:///./app/modules/commercial/project_folders/admin/components/DeleteProjectFolderButton/StyledComponents.tsx","webpack:///./app/modules/commercial/custom_maps/shared/components/Map/legend-marker.svg","webpack:///./app/containers/Admin/projects/edit/general/components/GeographicAreaInputs.tsx","webpack:///./app/modules/commercial/smart_groups/components/UserFilterConditions/ValueSelector/AreaValuesSelector.tsx","webpack:///./app/components/SendFeedback/messages.js","webpack:///./app/modules/commercial/machine_translations/index.tsx","webpack:///./app/modules/commercial/similar_ideas/components/SimilarIdeas.tsx","webpack:///./app/modules/commercial/admin_project_templates/admin/components/ProjectTemplateCards.tsx","webpack:///./app/containers/Admin/settings/registration/index.tsx","webpack:///./app/modules/commercial/project_folders/citizen/components/ProjectFolderGoBackButton/index.tsx","webpack:///./app/hooks/useAuthUser.ts","webpack:///./app/modules/commercial/idea_assignment/admin/components/tracks.ts","webpack:///./app/services/projects.ts","webpack:///./app/modules/commercial/flag_inappropriate_content/admin/components/ActivityWarningsTab.tsx","webpack:///./app/components/UI/FullPageSpinner/index.tsx","webpack:///./app/containers/Admin/projects/edit/participationContext/components/SurveyInputs.tsx","webpack:///./app/services/pageFiles.ts","webpack:///./app/hooks/useAppConfigurationLocales.ts","webpack:///./app/modules/commercial/smart_groups/components/UserFilterConditions/Rule.tsx","webpack:///./app/components/UI/TextArea/index.tsx","webpack:///./app/utils/cl-router/updateLocationDescriptor.ts","webpack:///./app/components/UI/FileAttachments/index.tsx","webpack:///./app/containers/Admin/projects/routes.ts","webpack:///./app/containers/Navbar/components/NotificationMenu/components/IdeaMarkedAsSpamNotification/index.tsx","webpack:///./app/containers/Navbar/components/NotificationMenu/components/OfficialFeedbackOnVotedInitiativeNotification/index.tsx","webpack:///./app/modules/commercial/widgets/admin/messages.ts","webpack:///./app/modules/commercial/geographic_dashboard/admin/components/Tab.tsx","webpack:///./app/hooks/useTopics.ts","webpack:///./app/components/SignUpIn/SignIn/index.tsx","webpack:///./app/modules/commercial/project_folders/admin/components/ProjectFolderTitle/messages.ts","webpack:///./app/components/admin/PostManager/components/PostTable/NoPost.tsx","webpack:///./app/components/UI/FileAttachments/FileDisplay/index.tsx","webpack:///./app/components/UI/QuillEditor/QuillMultilocWithLocaleSwitcher.tsx","webpack:///./app/containers/Navbar/components/NotificationMenu/components/StatusChangeOnCommentedInitiativeNotification/index.tsx","webpack:///./app/utils/cl-intl/FormattedMessage/index.tsx","webpack:///./app/containers/Navbar/components/NotificationMenu/components/CommentDeletedByAdminNotification/index.tsx","webpack:///./app/components/UI/LoadableLoading/index.tsx","webpack:///./app/utils/cl-router/getAlternateLinks.tsx","webpack:///./app/services/permissions/rules/projectPermissions.ts","webpack:///./app/modules/commercial/user_custom_fields/admin/components/CustomFields/All/index.tsx","webpack:///./app/containers/Admin/guide/EngageSection.tsx","webpack:///./app/modules/commercial/admin_project_templates/admin/components/ProjectTemplateCard.tsx","webpack:///./app/services/auth.ts","webpack:///./app/hooks/useProject.ts","webpack:///./app/resources/GetSerieFromStream.tsx","webpack:///./app/components/ConsentManager/index.tsx","webpack:///./app/modules/commercial/granular_permissions/admin/components/messages.ts","webpack:///./app/modules/commercial/machine_translations/citizen/components/ActionBarTranslateButton.tsx","webpack:///./app/modules/commercial/project_folders/hooks/index.ts","webpack:///./app/modules/commercial/smart_groups/components/SmartGroupType/index.tsx","webpack:///./app/containers/Admin/dashboard/users/charts/BarChartByCategory.tsx","webpack:///./app/modules/commercial/id_bosa_fas/services/verificationMethods.ts","webpack:///./app/components/Fragment/index.tsx","webpack:///./app/resources/GetAppConfiguration.tsx","webpack:///./app/components/UI/Or/index.tsx","webpack:///./app/components/SignUpIn/messages.ts","webpack:///./app/components/UI/RangeInput/index.tsx","webpack:///./app/resources/GetLocale.tsx","webpack:///./app/modules/commercial/id_id_card_lookup/components/IdCardLookupForm.tsx","webpack:///./app/components/FilterSelector/title.tsx","webpack:///./app/containers/Navbar/components/NotificationMenu/components/ThresholdReachedForAdminNotification/index.tsx","webpack:///./app/modules/commercial/smart_groups/components/UserFilterConditions/index.tsx","webpack:///./app/components/PostShowComponents/Title.tsx","webpack:///./app/modules/commercial/flag_inappropriate_content/hooks/useInappropriateContentFlag.ts","webpack:///./app/modules/commercial/id_cow/index.tsx","webpack:///./app/modules/commercial/machine_translations/citizen/components/CommentTranslateButton.tsx","webpack:///./app/modules/commercial/user_custom_fields/hooks/useUserCustomFields.ts","webpack:///./app/modules/commercial/moderation/admin/components/NavItem.tsx","webpack:///./app/modules/commercial/verification/citizen/components/VerificationSuccess.tsx","webpack:///./app/modules/commercial/matomo/matchPath.ts","webpack:///./app/containers/Admin/projects/edit/general/utils/state.ts","webpack:///./app/containers/Admin/projects/edit/general/components/AttachmentsDropzone.tsx","webpack:///./app/modules/commercial/custom_style/admin/components/CustomStyleInputs.tsx"],"names":["List","styled","ul","ListItemText","span","colors","label","fontSizes","base","isRtl","ListItem","li","props","theme","borderRadius","clDropdownHoverBackground","CheckboxListItem","CheckboxLabel","ValuesList","event","preventDefault","entry","_event","onChange","value","type","onClickOutside","this","values","selected","multipleSelectionAllowed","opened","baseID","width","mobileWidth","maxHeight","mobileMaxHeight","top","left","mobileLeft","right","mobileRight","name","Dropdown","handleOnClickOutside","content","className","tabIndex","role","map","index","checked","includes","last","length","classNames","filter","item","isNil","join","id","key","onMouseDown","removeFocus","handleOnToggleCheckbox","text","onClick","handleOnSelectSingleValue","onKeyDown","PureComponent","undefined","HiddenLabel","hideVisually","Fieldset","fieldset","ScreenReaderOnly","invisibleA11yText","ContentContainer","div","medium","large","media","smallerThanMinTablet","doNothing","PreferencesDialog","category","categoryDestinations","preferences","Object","keys","destinations","handleChange","disableUncheck","defineMessages","titleGeneral","defaultMessage","subtitleGeneral","noTitleErrorMessage","statusLabel","publicationStatusTooltip","draftStatus","publishedStatus","archivedStatus","titleLabel","titleLabelTooltip","projectTypeTitle","projectTypeWarning","projectTypeTooltip","continuous","timeline","areasLabel","areasLabelTooltip","areasLabelTooltipLinkText","areasAllLabel","areasSelectionLabel","headerImageLabelText","headerImageLabelTooltip","projectCardImageLabelText","projectCardImageLabelTooltip","fileUploadLabel","fileUploadLabelTooltip","saveProject","saveSuccess","saveSuccessMessage","saveErrorMessage","imageSupportArticleLinkTarget","imageSupportArticleLinkText","projectName","projectUrl","urlSlugLabel","urlSlugTooltip","urlSlugBrokenLinkWarning","regexError","resultingURL","topicsTab","tabTopics","Data","adopt","locale","tenant","authUser","MetaWithHoc","injectIntl","intl","isNilOrError","formatMessage","tenantLocales","attributes","settings","core","locales","headerBg","header_bg","organizationNameMultiLoc","organization_name","organizationName","getLocalized","url","host","fbAppId","facebook_login","app_id","metaTitleMultiLoc","meta_title","metaTitle","messages","metaDescriptionMultiLoc","meta_description","metaDescription","appMetaDescription","lifecycleStage","lifecycle_stage","blockIndexing","Helmet","lang","unread_notifications","property","imageSizes","favicon","rel","sizes","href","small","API_PATH","inputProps","dataProps","memo","topics","localize","options","topic","title_multiloc","optionIds","o","pathName","location","pathname","isPage","origin","removeUrlLocale","Container","FormSection","smallerThanMaxTablet","AvatarAndShield","StyledAvatar","Avatar","ShieldIcon","Icon","Content","Title","h2","xl","Text","p","StyledText","VerifyButton","Button","ReverifyButton","button","clBlueDark","darken","onVerify","useCallback","openVerificationModal","authUserIsVerified","verified","reverifyButton","FormattedMessage","clickHereToUpdateVerification","userId","size","addVerificationBadge","verifiedIdentityTitle","verifiedIdentitySubtitle","updateverification","bgColor","padding","borderThickness","borderColor","becomeVerifiedTitle","becomeVerifiedSubtitle","verifyNow","projectId","useState","projectGroups","setProjectGroups","useEffect","of","subscription","groupsProjectsByProjectIdStream","observable","pipe","groups","data","group","subscribe","unsubscribe","modalHeaderRules","permissionRules","resourceType","action","rule","context","combineLatest","authUserStream","currentAppConfigurationStream","user","object","isObject","getPermissionRule","RenderOnType","children","ModalHeaderOutlet","ModalFormOutlet","onSubmit","isVerificationEnabled","initialValues","outlets","formattedLink","HeaderTitle","h3","adminTextColor","ListHeader","groupsProjectsId","streams","get","apiEndpoint","groupId","bodyData","groups_project","group_id","add","groupProjectId","delete","input_term","handleInputTermChange","inputTermOptions","SectionField","SubSectionTitle","inputTermSelectLabel","StyledSelect","Form","form","FormElement","ButtonWrapper","PasswordSignin","email","setState","emailError","signInError","password","hasEmptyPasswordError","onGoToLogInOptions","metaData","inModal","noPushLinks","onGoToSignUp","clHistory","push","onSignInCompleted","state","validate","processing","signIn","trackEventByName","tracks","signInEmailPasswordCompleted","signInEmailPasswordFailed","error","element","emailInputElement","passwordInputElement","signInEmailPasswordEntered","signInEmailPasswordExited","password_login","phone","isValidEmail","noValidEmailError","noEmailError","focus","windowSize","passwordLoginEnabled","googleLoginEnabled","facebookLoginEnabled","azureAdLoginEnabled","franceconnectLoginEnabled","enabledProviders","provider","isDesktop","viewportWidths","largeTablet","handleOnSubmit","noValidate","FormLabel","htmlFor","labelMessage","emailOrPhoneLabel","emailLabel","Input","handleEmailOnChange","setRef","handleEmailInputSetRef","autocomplete","autoFocus","noAutofocus","passwordLabel","handlePasswordOnChange","handlePasswordInputSetRef","isLoginPasswordInput","errors","emptyError","submit","marginTop","Options","Option","to","forgotPassword2","handleGoToLogInOptions","backToLoginOptions","goToSignUp","goToOtherFlowLink","handleGoToSignUp","signUp","PasswordSigninWithHoC","withRouter","method","onMethodSelected","handleOnClick","verifyGentRrn","projectFolderId","indexPath","queryParameters","project_folder_id","showPath","moderatorId","response","fetchAllWith","project_folder_moderator","user_id","ViewingRightsSection","Section","StyledSectionField","RadioButtonsWrapper","StyledRadio","Radio","project","visible_to","projectVisibility","setProjectVisibility","handlePermissionTypeChange","updateProject","viewingRightsTitle","currentValue","permissionsMessages","permissionsEveryoneLabel","permissionsAdministrators","permissionsSelectionLabel","onAddButtonClicked","ProjectValueSelector","projects","Select","projectsList","option","publicationStatuses","RenderOnHideTabCondition","phases","processType","process_type","participationMethod","participation_method","phase","routes","path","container","participationContextConfig","projectImages","projectImagesToRemove","projectFiles","projectFilesToRemove","projectAttributesDiff","saved","processing$","next","isNewProject","isEmpty","addProject","isString","imagesToAddPromises","file","remote","addProjectImage","base64","imagesToRemovePromises","deleteProjectImage","filesToAddPromises","addProjectFile","filesToRemovePromises","deleteProjectFile","Promise","all","submitState","eventEmitter","emit","apiErrors","centerLatLng","appConfig","tenantCenterLat","maps","map_center","lat","tenantCenterLong","long","parseFloat","DEFAULT_CENTER","zoom","tenantZoomLevel","zoom_level","parseInt","DEFAULT_ZOOM","tile_provider","DEFAULT_TILE_PROVIDER","DEFAULT_TILE_OPTIONS","convertLatLngToDMS","lng","format","location_description","location_point_geojson","point","coordinates","pageSize","areaFilter","publicationStatusFilter","rootLevelOnly","removeNotAllowedParents","setAll","list","setList","hasMore","setHasMore","loadingInitial","setLoadingInitial","loadingMore","setLoadingMore","pageNumber","setPageNumber","areas","setAreas","setPublicationStatuses","onLoadMore","prevPageNumber","onChangeAreas","onChangePublicationStatus","publication_statuses","remove_not_allowed_parents","depth","listAdminPublications","distinctUntilChanged","adminPublications","selfLink","links","self","lastLink","receivedItems","adminPublication","publicationType","relationships","publication","publicationId","prevList","unionBy","childrenOf","parent","GroupType","lightGreyishBlue","IconWrapper","transparentize","ManualGroupIcon","attrs","GroupName","GroupDescription","DescriptionText","MoreInfoLink","a","Step2Button","GroupCreationStep1","onOpenStep2","readMoreLink","createStep2Handler","groupType","step1TypeNameNormal","step1TypeDescriptionNormal","target","step1LearnMoreGroups","buttonStyle","step1CreateButtonNormal","notification","linkTo","project_id","timing","created_at","icon","isRead","read_at","projectModerationRightsReceived","projectLink","stopPropagation","project_title_multiloc","onLeafletConfigChange","zoomLevel","points","mapConfig","center","useMemo","getCenter","getZoomLevel","tileProvider","getTileProvider","tileOptions","getTileOptions","geoJsonLayers","layers","layerMarker","geojsonLayer","_latlng","marker_svg_url","legendMarkerIcon","layerTooltip","_layer","feature","properties","tooltipContent","layerPopup","popupContent","layerOverlay","useCapture","onRender","selectedProjectTemplateId","setSelectedProjectTemplateId","goBackUrl","setGoBackUrl","unlisten","setUnlisten","closeTemplatePreview","window","history","pushState","cleanup","removeEventListener","handlePopstateEvent","handleKeypress","observeEvent","eventValue","currentUrl","newPath","newUrl","addEventListener","listen","trackPage","scrollTo","projectTemplateId","goBack","currentTenant","slug","showSlugErrorMessage","handleSlugOnChange","IconTooltip","currentProjectURL","currentProjectSlug","StyledWarning","StyledInput","SlugPreview","fieldName","VerificationFormGentRrn","onCancel","onVerified","showHeader","rrn","setRrn","rrnError","setRrnError","formError","setFormError","showHelp","setShowHelp","setProcessing","onRunChange","hasEmptyFields","emptyFieldError","endpointsToRefetch","partialEndpointsToRefetch","partialApiEndpoint","takenFormError","noMatchFormError","notEntitledTooYoungFormError","notEntitledLivesOutsideFormError","invalidRrnError","reportError","somethingWentWrongError","onCancelButtonClicked","onToggleHelpButtonClick","FormContainer","verifyYourIdentity","FormField","StyledLabel","LabelTextContainer","rrnLabel","maxTooltipWidth","rrnTooltip","placeholder","onToggle","showGentRrnHelp","gentRrnHelp","Footer","SubmitButton","CancelButton","cancel","articles","getHandleClickInteralTrack","article","internalLink","extra","section","SectionWrapper","SectionHeader","SectionTitle","color","adminOrangeIcons","tagName","manageSectionTitle","manageSectionLink","externalLink","readCompleteGuide","SectionContent","i","linkMessages","manageArticle1Link","users","manageArticle2Link","titleMessages","manageArticle1Title","manageArticle2Title","descriptionMessages","giveFeedback","manageArticle2Description","linkMessage","titleMessage","descriptionMessage","adminGuideArticle","trackLink","renderArticle","onData","configuration","permissionTab","insertAfterName","prefetchMapLayers","setMapConfig","mapConfigByProjectStream","switchMap","mapLayerIds","mapLayer","mapLayerId","mapLayerByProjectMapConfigStream","GetCustomFieldOptions","customFieldOptions","customFieldId","inputProps$","BehaviorSubject","subscriptions","prev","userCustomFieldOptionsStream","forEach","React","Component","GetWindowSize","innerWidth","fromEvent","debounceTime","debounce","userHasRole","roles","find","r","isAdmin","isSuperAdmin","highest_role","isModerator","isProjectModerator","translateButtonClicked","postId","postType","align","title","attributeName","localeTo","translation","parseTranslation","addUsersToGroup","addedRedundantUserToGroup","toggleAllUsers","createGroup","editGroup","conditionAdd","pagination","toggleOneUser","adminToggle","sortChange","searchInput","idea","ideaSlug","post_slug","inputTerm","getInputTerm","getInputTermMessage","officialFeedbackOnVotedIdea","officialFeedbackOnVotedOption","officialFeedbackOnVotedProject","question","officialFeedbackOnVotedQuestion","issue","officialFeedbackOnVotedIssue","contribution","officialFeedbackOnVotedContribution","officialName","official_feedback_author","skipSanitizationFor","sanitizedQueryParameters","cloneDeep","forOwn","isUndefined","isArray","resourcesByDataId","streamIdsByApiEndPointWithQuery","streamIdsByApiEndPointWithoutQuery","streamIdsByDataIdWithoutQuery","streamIdsByDataIdWithQuery","promises","promisesToAwait","rootStreamIds","authApiEndpoint","currentAppConfigurationEndpoint","rootStreamId","fetch","streamId","endsWith","isActiveStream","modules","streamsToReset","deleteStream","params","propertyKey","frozenObject","isFrozen","freeze","hasOwnProperty","deepFreeze","refCount","source","isCacheStream","cacheStream","dataIds","dataId","lastUrlSegment","isQueryStream","isUUID","replace","inputParams","removeTrailingSlash","sanitizeQueryParameters","isSearchQuery","getStreamId","has","substr","lastIndexOf","isSingleItemStream","then","observer","catch","currentOnboardingCampaignsApiEndpoint","Observable","startWith","scan","accumulated","current","isFunction","innerData","addStreamIdByDataIdIndex","omit","publishReplay","addStreamIdByApiEndpointIndex","unsafeApiEndpoint","waitForRefetchesToResolve","stream","previous","json","reject","union","streamHasDataId","child","regexApiEndpoint","onlyFetchActiveStreams","streamIds1","flatten","streamIds2","_value","endpoint","streamIds3","regex","test","mergedStreamIds","uniq","assignedToMe","assignedTo","noOne","inputManagerHeader","inputsNeedFeedbackToggle","deleteAllSelectedInputs","deleteInputConfirmation","deleteInputsConfirmation","deleteAllSelectedInitiatives","deleteInitiativeConfirmation","deleteInitiativesConfirmation","losePhaseInfoConfirmation","edit","assignee","publication_date","remainingTime","up","votes","comments","down","participatoryBudgettingPicks","timelineTab","timelineTabTooltipText","topicsTabTooltipText","projectsTab","projectsTabTooltipContent","statusesTab","statusesTabTooltipContent","pbItemCountTooltip","exportAllInputs","exportInputsProjects","exportSelectedInputs","inputsExportFileName","inputCommentsExportFileName","exportIdeasComments","exportIdeasCommentsProjects","exportSelectedInputsComments","exportInitiatives","exportInitiativesProjects","exportSelectedInitiatives","initiativesExportFileName","initiativesCommentsExportFileName","exportInitiativesComments","exportSelectedInitiativesComments","exports","noFilteredResults","noInitiativesHere","resetInputFiltersDescription","resetFiltersButton","allProjects","allTopics","allStatuses","allPhases","oneInput","multipleInputs","oneInitiative","multipleInitiatives","changeStatusModalTitle","statusChange","feedbackBodyPlaceholder","officialUpdateBody","officialUpdateAuthor","feedbackAuthorPlaceholder","statusChangeSave","statusChangeGenericError","newFeedbackMode","latestFeedbackMode","automatic","inputs","initiatives","filename","from","convertUrlToUploadFile","getBase64FromFile","resolve","reader","FileReader","onloadend","result","onerror","Error","readAsDataURL","convertBlobToFile","blob","fileName","b","lastModifiedDate","Date","headers","Headers","append","urlFilename","substring","uploadFile","projectBg","ideaImg","fb","initiativeImg","component","loader","loading","LoadableLoadingAdmin","delay","indexRoute","childRoutes","moduleConfiguration","GetCustomFields","userCustomFields","inputTypes","userCustomFields$","userCustomFieldsStream","input_types","desktopEasing","mobileEasing","ModalContentContainer","CloseButton","defaultOutline","CloseIcon","colorText","StyledFocusOn","FocusOn","ModalContainer","clickOutside","windowHeight","Overlay","biggerThanMinTablet","HeaderContainer","h1","HeaderSubtitle","FooterContainer","separation","Skip","ButtonsWrapper","xxl","Modal","closeModal","noClose","close","closeOnClickOutside","clickOutsideModal","clickCloseButton","innerHeight","height","prevProps","openModal","header","footer","hasSkipButton","skipText","hasFixedHeight","fixedHeight","smallerThanSmallTablet","smallTablet","modalPortalElement","document","getElementById","createPortal","in","timeout","mountOnEnter","unmountOnExit","enter","exit","ariaLabelledBy","ProjectValuesSelector","customSignInHeader","customSignUpHeader","onSignUpInCompleted","flow","selectedFlow","setSelectedFlow","metaDataWithCurrentFlow","onSignUpCompleted","onToggleSelectedMethod","prevSelectedFlow","customHeader","onGoToSignIn","siteMapTitle","siteMapDescription","Loading","Header","AboveTitle","largePhone","Context","ContextLabel","ContextItem","ButtonsContainer","background","SkipButtonContainer","skippable","onSkipped","participationConditions","verificationMethods","withContext","handleOnMethodSelected","onSkipButtonClicked","Spinner","toParticipateInThisProject","andUnlockYourCitizenPotential","Subtitle","peopleMatchingConditions","rulesSet","rules","ruleIndex","Fragment","skipThisStep","mapPostTypeToLink","post_type","officialFeedbackAuthorMultiloc","deletedUser","initiating_user_slug","mentionInOfficialFeedback","DeletedUser","admin","projectFolderSlug","projectFolder","setProjectFolder","projectFolderByIdStream","projectFolderBySlugStream","projectModerators","setProjectModerators","projectModeratorsStream","isUserAuthorized","nextState","pathNameWithLocale","removeLocale","urlLocale","hasPermission","accessAthorized","urlSegments","split","onEnter","google_tag_manager","LoadableLoadingCitizen","citizen","publicationStatus","handleStatusChange","posting_enabled","commenting_enabled","voting_enabled","voting_method","voting_limited_max","downvoting_enabled","presentation_mode","min_budget","max_budget","survey_embed_url","survey_service","poll_anonymous","ideas_order","output","omitBy","run","id_serial","verification","quillEditedContent","colorMain","linkColor","textColor","mentionColor","fontSize","fontWeight","QuillEditedContent","withTheme","unverified","or","notEntitledFormError","invalidCardIdError","back","userVerifiedTitle","userVerifiedSubtitle","errorTitle","errorTakenSubtitle","errorNotEntitledSubtitle","errorGenericSubtitle","ideaId","setIdea","ideaByIdStream","ideaBySlugStream","wrapTextInDiv","T","currentTenantLocales","innerRef","createRef","locale$","localeStream","currentTenantLocales$","as","maxLength","supportHtml","wrapInDiv","localizedText","createElement","ref","dangerouslySetInnerHTML","__html","whenTurnedOnUsersWillHaveToConfirm","accountConfirmation","streamParams","statusChangeOnCommentedIdea","statusChangeOnCommentedOption","statusChangeOnCommentedProject","statusChangeOnCommentedQuestion","statusChangeOnCommentedIssue","statusChangeOnCommentedContribution","status","idea_status_title_multiloc","permissionsTab","phaseId","permissionId","permission","update","CommentWrapper","CommentText","StyledForm","CommentBody","commentContent","comment","body_multiloc","editableCommentContent","commentId","updatedComment","authorId","author_id","updateComment","onCommentSaved","isCLErrorJSON","setEditableCommentContent","onCancelEditing","setCommentContent","commentTranslateButtonClicked$","editing","commentType","rows","onEditableCommentContentChange","cancelEditing","cancelCommentEdit","saveCommentEdit","outletComponents","CommentBodyWithHoC","render","ideaStatuses","setIdeaStatuses","ideaStatusesStream","TimelineProject","dataprops","CL_SEGMENT_API_KEY","destinationConfig","feature_flag","segment","integrations","Intercom","SatisMeter","highestRole","beforeMountApplication","initializeFor","code","snippet","min","load","page","apiKey","eval","bufferUntilInitialized","analytics","identify","tenantInfo","firstName","first_name","lastName","last_name","createdAt","avatar","birthday","birthyear","gender","hideDefaultLauncher","website","organization_site","logo","events$","track","pageChanges$","pageChange","registerDestination","Article","Link","adminSecondaryTextColor","clIconAccent","adminBorder","StyledStatusLabel","StatusLabel","actions","hidePublicationStatusLabel","isBeingDeleted","setIsBeingDeleted","deletionError","setDeletionError","ManageButton","RowButton","disabled","canModerateProject","editButtonLabel","publication_status","DeleteButton","setDeleteIsProcessing","RowContent","RowContentInner","RowTitle","publication_title_multiloc","publication_visible_to","xGroupsHaveAccess","groupCount","onlyAdminsCanView","backgroundColor","ActionsRowContainer","handler","buttonContent","renderRowButton","clickOpenNotifications","clickCloseNotifications","clickNotification","clickSignUpLink","inappropriateContentDetectionSetting","inappropriateContentDetectionSettingDescription","inappropriateContentDetectionTooltip","linkToActivityPageText","RenderOnTabHideCondition","defaultCardStyle","otherProps","startAtMoment","start_at","endAtMoment","end_at","isMultiDayEvent","getIsoDate","ProjectFolderSitemap","hightestTitle","TitleComponent","H3","H4","childProjects","publication_slug","folderInfo","clickSimilarIdeaLink","initiating_user_first_name","userReportedCommentAsSpam","postTitle","post_title_multiloc","EventInformationContainer","EventTitleAndAttributes","StyledLink","xs","EventTitle","EventTimeAndLocationContainer","Time","time","Location","StyledIcon","marginRight","EventDescription","SMALL_LINE_HEIGHT","StyledT","hideTextOverflow","ShowMoreOrLessButton","EventInformation","showProjectTitle","showLocation","showDescription","showAttachments","titleFontSize","onClickTitleGoToProjectAndScrollToEvent","useTheme","eventFiles","resourceId","hasLocation","every","location_multiloc","eventDateTime","projectTitle","projectSlug","TElement","useRef","textOverflow","setTextOverflow","setHideTextOverflow","a11y_showMoreHelperText","setA11y_showMoreHelperText","setTimeout","description_multiloc","a11y_moreContentVisible","a11y_lessContentVisible","showMore","showLess","files","isCustomInputTermEnabled","noVotingLimit","togglePostingEnabled","toggleCommentingEnabled","toggleVotingEnabled","handeVotingMethodOnChange","handleVotingLimitOnChange","handleDownvotingEnabledOnChange","handleIdeasDisplayChange","handleIdeaDefaultSortMethodChange","phasePermissions","phasePermissionsTooltip","ToggleRow","ToggleLabel","inputPostingEnabled","Toggle","inputCommentingEnabled","inputVotingEnabled","votingMethod","votingMaximumTooltip","unlimited","limited","votingLimit","VotingLimitInput","toString","voting_limit","downvoting","disableDownvotingTooltip","downvotingEnabled","downvotingDisabled","rulesExplanation","verificationDisabled","rulesError","fromATemplate","insertBeforeName","tenantSettings","setTenantSettings","initialActiveStep","onCompleted","onError","activeStep","setActiveStep","setMethod","selectedMethod","goToSuccessStep","reset","onStepCancel","onStepVerified","onVerificationSkipped","StyledConsent","Consent","LabelContainer","StyledFormLabel","StyledPasswordInputIconTooltip","PasswordInputIconTooltip","PasswordSignup","token","invitationRedeemError","unknownError","firstNameError","set","lastNameError","hasMinimumLengthError","tacAccepted","tacError","privacyAccepted","privacyError","firstNameInputElement","lastNameInputElement","isInvitation","noTokenError","hasEmailError","noFirstNameError","noLastNameError","hasPasswordMinimumLength","minimum_length","hasErrors","some","signUpEmailPasswordStepCompleted","signUpEmailPasswordStepFailed","tokenNotFoundError","tokenAlreadyAcceptedError","onGoBack","signUpEmailPasswordStepEntered","signUpEmailPasswordStepExited","payload","supportEmail","reply_to_email","hasNextStep","unknownApiError","fieldKeys","difference","tokenLabel","tokenPlaceholder","handleTokenOnChange","firstNamesLabel","firstNamesPlaceholder","handleFirstNameOnChange","handleFirstNameInputSetRef","lastNameLabel","lastNamePlaceholder","handleLastNameOnChange","handleLastNameInputSetRef","emailPlaceholder","emailErrors","passwordPlaceholder","minimumLengthError","onTacAcceptedChange","handleTacAcceptedChange","onPrivacyAcceptedChange","handlePrivacyAcceptedChange","nextStep","signUp2","goBackToSignUpOptions","backToSignUpOptions","goToLogIn","handleOnGoToSignIn","logIn2","PasswordSignupWithHoC","GetAreas","defaultQueryParameters","areasStream","notificationType","StyledFormLabelValue","FormLabelValue","InvisibleSubmitButton","InputContainer","StyledIconTooltip","StyledTextArea","TextArea","StyledMultipleSelect","MultipleSelect","StyledDateInput","DateInput","UserCustomFieldsForm","submitbuttonElement","formData","sanitizedFormData","_errors","userCustomFieldsSchema","schema","uiSchema","requiredFieldNames","disabledFieldNames","fieldNames","requiredErrorMessage","requiredError","mustBeANumberMessage","mustBeANumber","requiredFieldName","isBoolean","Number","isInteger","addError","numberFieldWithError","verificationLocked","blockedVerified","selectedOption","enumOptions","enumOption","canBeEmpty","selectedOptions","inputId","noSpace","labelValue","description","rawErrors","required","hidden","descriptionJSX","optional","subtextValue","renderLabel","message","click","widgets","TextWidget","CustomInput","TextareaWidget","CustomTextarea","SelectWidget","CustomSelect","CheckboxWidget","CustomCheckbox","DateWidget","CustomDate","custom_field_values","FieldTemplate","CustomFieldTemplate","ObjectFieldTemplate","transformErrors","noHtml5Validate","liveValidate","showErrorList","handleOnChange","handleOnError","setButtonRef","UserCustomFieldsFormWithHoc","userAcceptedYourInvitation","lighten","clRed","Paperclip","FileInfo","FileDownloadLink","FileSize","TrashIcon","onDeleteClick","isError","ariaHidden","download","a11y_file","returnFileSize","a11y_removeFile","eventsPageTitle","eventsPageDescription","upcomingEvents","pastEvents","noUpcomingEvents","noPastEvents","filterDropdownTitle","errorWhenFetchingEvents","manageButtonLabel","setPageSize","projectFolders","setProjectFolders","projectFolderIds","setProjectFolderIds","onPageNumberChange","newPageNumber","onPageSizeChange","newPageSize","onProjectFolderIdsChange","projectFoldersStream","filter_ids","Permissions","Timeline","openedPhase","permittedBy","groupIds","updatePhasePermission","permission_scope","permitted_by","group_ids","style","marginBottom","handleCollapseToggle","permissions","handlePermissionChange","noActionsCanBeTakenInThisProject","buttonDisabled","buttonEnabled","mapConfigLat","center_geojson","mapConfigLng","mapConfigZoom","isNumber","mapConfigTileProvider","tileSize","zoomOffset","detectRetina","minZoom","maxZoom","crossOrigin","subdomains","attribution","getLayerType","geojson","features","geometry","fillColor","fill","markerColor","fallbackColor","layerType","iconName","tenantLocale","CreateProjectContent","CreateProjectContentInner","Expand","ExpandIconWrapper","ExpandIcon","duartion","CreateProjectButton","StyledTabs","Tabs","CreateProject","fromScratch","tabs","setTabs","tabValues","tab","selectedTabValue","setSelectedTabValue","expanded","setExpanded","handleExpandCollapse","createProjectSectionCollapsed","createProjectSectionExpanded","handleTabOnClick","newSelectedTabValue","createdProject","createAProjectFromATemplate","createAProject","mounOnEnter","insertConfiguration","items","selectedValue","verificationButtonAltText","IdeaAssignedToYouNotification","sharedValues","postAssignedToYou","xAssignedPostToYou","onClickUserName","getLinkTo","getNotificationMessage","Submitted","ShortFeedbackForm","feedbackValue","emailValue","feedbackEmptyError","feedbackValueError","validateFeedbackValue","validateForm","submitting","postProductFeedback","answer","submitted","successfullySubmitted","feedbackSuccessfullySubmitted","feedback","autofocus","onChangeFeedback","onChangeEmail","InputAssignmentSection","inputAssignmentSectionTitle","inputAssignmentTooltipText","ideaManagerLink","inputManagerLinkText","errorType","transformedErrors","remove","errorsWithPayload","IdeaAssignment","prospectAssignees","adminsAndMods","usersList","projectAssigneeOptions","prospectAssignee","unassigned","assigneeOption","defaultAssigneeId","default_assignee_id","defaultAssigneeValue","getOptions","onAssigneeChange","IdeaAssignmentWithInjectIntl","projectsAndFolders","usersByBirthyearXlsxEndpoint","usersByGenderXlsxEndpoint","usersByDomicileXlsxEndpoint","votesByGenderXlsxEndpoint","votesByBirthyearXlsxEndpoint","votesByDomicileXlsxEndpoint","args","css","OutletsContext","createContext","Provider","FieldSelector","field","customFieldToDescriptor","customField","ruleType","number","multiline_text","select","multiselect","checkbox","date","input_type","descriptorToOptionValue","fieldDescriptor","JSON","stringify","optionValueToDescriptor","parse","labelMessages","field_email","lives_in","field_lives_in","registration_completed_at","field_registration_completed_at","field_role","participated_in_project","field_participated_in_project","participated_in_topic","field_participated_in_topic","participated_in_idea_status","field_participated_in_input_status","field_verified","staticOptions","ruleTypeConstraints","userCustomField","concat","generateOptions","multiloc","graphqlLocale","convertToGraphqlLocale","graphqlTenantLocales","baseLocales","multilocLocales","graphqlMultilocLocales","multilocLocale","winnerLocale","startsWith","winner","truncate","inputType","VerificationModalEvents","openVerificationModal$","open","closeVerificationModal$","inputFormTab","idCard","card_id","signUpConfirmationStepSkipped","signUpConfirmationStepFailed","signUpConfirmationStepEntered","signUpConfirmationStepExited","signUpConfirmationStepCompleted","whatIsFranceConnect","useFranceConnectToLoginCreateOrVerifyYourAccount","franceConnectIsTheSolutionProposedByTheGovernment","officialFeedbackOnYourIdea2","officialFeedbackOnYourOption","officialFeedbackOnYourProject","officialFeedbackOnYourQuestion","officialFeedbackOnYourIssue","officialFeedbackOnYourContribution","WideSectionField","Setting","StyledToggle","LabelContent","LabelTitle","LabelDescription","AdminProjectEditGeneral","titleMultiloc","projectType","newHeader","projectHeaderImage","newProjectFile","prevState","isDuplicate","projectFileToRemove","projectImageToRemove","image","areaType","area_ids","save","admin_publication_attributes","validateSlug","titleError","apply","isSlugValid","RegExp","fieldUpdates","newState","fieldPath","getDefaultState","projectId$","currentTenant$","areas$","project$","projectByIdStream","initSubscriptions","areasOptions","projectAttrs","areasValues","area","areaOption","SectionDescription","handleTitleMultilocOnChange","ProjectType","handleProjectTypeOnChange","ParticipationContextWrapper","handleParcticipationContextOnSubmit","handleParticipationContextOnChange","handleAreaTypeChange","handleAreaSelectionChange","handleFieldUpdate","handleHeaderOnAdd","handleHeaderOnRemove","handleProjectImagesOnAdd","handleProjectImageOnRemove","handleProjectFileOnAdd","handleProjectFileOnRemove","buttonSave","buttonSuccess","messageError","messageSuccess","AdminProjectEditGeneralWithHocs","isProjectFoldersEnabled","SelectGroupsContainer","StyledAsyncSelect","AsyncSelect","AddGroupButton","UserSearch","selection","setSelection","setLoading","setSearchInput","moderators","handleOnAddModeratorsClick","addMembership","isDropdownIconHidden","isNonEmptyString","isMulti","cacheOptions","defaultOptions","loadOptions","inputValue","callback","findMembership","search","first","userIsNotYetModerator","moderator","isLoading","isDisabled","searchUsers","styles","selectStyles","noOptionsMessage","noOptions","onInputChange","components","DropdownIndicator","addModerators","orderingId","newOrder","admin_publication","ordering","AdminHeader","ProjectTemplatePreviewAdmin","templateId","modalOpened","setModalOpened","onOpenModal","useTemplateButtonClicked","onCloseModal","useTemplateModalClosed","seeMoreTemplates","useTemplate","emitSuccessEvent","showGoBackLink","focusParentCommentEditor","clickParentCommentPublish","focusChildCommentEditor","clickChildCommentPublish","clickReply","clickTranslateCommentButton","clickGoBackToOriginalCommentButton","clickCommentsSortOrder","clickParentCommentLoadMoreButton","clickParentCommentReplyButton","clickChildCommentReplyButton","clickParentCommentUpvoteButton","clickParentCommentCancelUpvoteButton","clickChildCommentUpvoteButton","clickChildCommentCancelUpvoteButton","clickCommentUpvoteButton","clickCommentCancelUpvoteButton","childCommentProfanityError","parentCommentProfanityError","projectPermissionsTab","INTERCOM_APP_ID","process","shutdownFor","_pageChange","last_request_at","getTime","projectIds","holder","projectsStream","graphTitleString","usersByDomicileTitle","graphUnit","usersByDomicileStream","convertToGraphFormat","series","res","_blank","otherArea","xlsxEndpoint","clickCreateAccountCTA","clickAvatarBubbles","clickSkipButton","EventDateBlockWrapper","EventDateBlockLabel","EventDateBlock","EventDate","EventMonth","EventDay","EventYear","ProjectFolderSelect","folder_id","useProjectFolders","userIsProjectFolderModerator","isProjectFolderModerator","userIsAdmin","userIsProjectFolderModeratorNotAdmin","getInitialRadioFolderSelect","radioFolderSelect","setRadioFolderSelect","folderSelected","setFolderSelected","folderOptions","folder","moderatesFolder","handleFolderIdChange","folderId","onRadioFolderSelectChange","newRadioProjectFolderSelect","defaultFolderSelectOptionValue","projectFolderSelectTitle","folderAdminProjectFolderSelectTooltip","adminProjectFolderSelectTooltip","optionNo","optionYes","folderSelectError","subtitle","normalText","alignCenter","alignLeft","alignRight","orderedList","unorderedList","bold","italic","video","link","linkPrompt","customLinkPrompt","videoPrompt","visitPrompt","clean","customLink","projectFolderImage","setProjectFolderImages","projectFolderImagesStream","ButtonContainer","onToggleModal","isDialogOpen","setPreferences","categorizedDestinations","e","saveConsent","resetPreferences","isConsentRequired","isCancelling","openDialog","accept","mode","array","closeDialog","handleCancelBack","handleCancelConfirm","handleCancel","handleSave","confirmation","handleCategoryChange","onAccept","onChangePreferences","answerFormat","fieldDescription","descriptionTooltip","isFieldRequired","fieldType_text","fieldType_number","fieldType_multiline_text","fieldType_select","fieldType_multiselect","fieldType_checkbox","fieldType_date","deleteButtonLabel","listTitle","addANewRegistrationField","optionDeleteButton","optionCancelButton","fieldSettingsTab","answerOptionsTab","defaultField","hiddenField","customFieldOptionDeletionConfirmation","editCustomFieldAnswerOptionFormTitle","newCustomFieldAnswerOptionFormTitle","addOption","answerOption","_props","noWarningItems","GetPage","resetOnChange","tap","pageByIdStream","pageBySlugStream","project_slug","phase_start_at","projectPhaseStarted","signUpVerificationStepSkipped","signUpVerificationStepFailed","signUpVerificationStepEntered","signUpVerificationStepExited","signUpVerificationStepCompleted","DropdownButton","svgNode","startAt","endAt","resolution","currentGroupFilter","currentTopicFilter","currentProjectFilter","currentGroupFilterLabel","currentTopicFilterLabel","currentProjectFilterLabel","formatDate","dropdownOpened","setDropdownOpened","exportingXls","setExportingXls","readableDate","day","month","year","fromFilter","untilFilter","projectFilter","groupFilter","topicFilter","toggleDropdown","downloadXlsx","requestBlob","interval","saveAs","graph","iconPos","node","findDOMNode","svgContent","XMLSerializer","serializeToString","svgBlob","Blob","downloadAsImage","definePermissionRule","_idea","_tenant","action_descriptor","posting_idea","enabled","author","isAuthor","isIdeaProjectModerator","mapTab","cellProps","singleLine","assigneeId","updateIdea","assignee_id","changeIdeaAssignment","StyledFieldset","ActionForm","groupsList","permissionData","groupsOptions","handlePermittedByUpdate","permissionsUsersLabel","handleGroupIdsUpdate","selectGroups","ActionPermissionFormWithHOCs","flag","reason_code","toxicity_label","renderRulesGroupForm","membership_type","memberships_count","Formik","helmetTitle","helmetDescription","getProjectInputTerm","getPhaseInputTerm","isValid","touched","isSubmitting","animate","buttonProps","getStatus","Outer","Inner","maxWidth","stylingConsts","bannerWidth","pageWidth","textWidth","maxPageWidth","bowser","msie","userSlug","bio_multiloc","customFieldValues","onRemoveFlags","selectedActiveFlagsCount","removeWarning","numberOfItems","homeSection","pageContents","aboutLink","cookiePolicyLink","termsAndConditionsLink","privacyPolicyLink","accessibilityStatementLink","faqLink","projectsSection","projectsCurrent","projectsArchived","projectsDraft","projectInfo","projectEvents","projectIdeas","contributions","issues","questions","projectPoll","projectSurvey","initiativesSection","signInPage","signUpPage","successStories","initiativesList","initiativesInfo","userSpaceSection","profilePage","profileSettings","homePage","FileUploader","fileToAdd","onFileAdd","fileToRemove","onFileRemove","fileNames","Array","onAdd","handleFileOnAdd","handleFileOnRemove","a11y_noFiles","a11y_filesToBeUploaded","tElementCurrent","spanElement","spanChildren","spanHeight","clientHeight","getChildrenHeight","reduce","acc","curr","COOKIE_NAME","expires","original","translate","queryString","sort","TabText","TabIcon","Tab","newSelectedValue","currentTarget","dataset","itemvalue","ClickOutside","closeOnClickOutsideEnabled","handle","contains","onMouseEnter","onMouseLeave","addEventListeners","removeEventListeners","isModal","handleRef","handleOnMouseEnter","handleOnMouseLeave","handleOnMouseDown","StyledSection","Row","Label","BudgetingAmountInput","BudgetingAmountInputError","StyledA","LabelText","Warning","LabelWrapper","menuHeight","position","navbarBackgroundColor","ContainerInner","Left","LogoLink","Logo","img","NavigationItems","nav","NavigationItemBorder","NavigationItem","navbarTextColor","navbarActiveItemBorderColor","rgba","navbarActiveItemBackgroundColor","NavigationItemText","NavigationDropdown","NavigationDropdownItem","NavigationDropdownItemIcon","ProjectsList","ProjectsListFooter","colorSecondary","Right","desktop","StyledLoadableLanguageSelector","LoadableLanguageSelector","RightItem","StyledRightFragment","LogInMenuItem","SignUpMenuItem","navbarHighlightedItemBackgroundColor","Navbar","projectsDropdownOpened","preload","setMobileNavigationRef","openSignUpInModal","fullscreenModalOpened","tenantLogo","now","firstUrlSegment","secondUrlSegment","isIdeaPage","isInitiativePage","isAdminPage","isInitiativeFormPage","isIdeaFormPage","isIdeaEditPage","isInitiativeEditPage","isEmailSettingsPage","isProjectPage","totalProjectsListLength","showMobileNav","handleMobileNavigationRef","onlyActiveOnIndex","src","alt","logoAltText","activeClassName","pageOverview","toggleProjectsDropdown","pageProjects","pageInputs","pageInitiatives","pageEvents","pageInformation","pageFaq","logIn","trackSignUpLinkClick","onMouseOver","preloadLanguageSelector","NavbarWithHOCs","StyledHeaderContainer","StyledHeaderTitle","xxxl","StyledModalContentContainer","headerHeight","stepName","isEnabled","isActive","step","verificationContext","Name","underline","clRedError","isLinkToProfile","hideLastName","canModerate","getName","profileLink","NameComponent","GetProjects","filter_can_moderate","filterCanModerate","filteredProjectIds","queryParameters$","querying","getQueryParameters","startAccumulatorValue","x","y","mergeScan","newQueryParameters","oldQueryParamsWithoutPageNumber","newQueryParamsWithoutPageNumber","oldPageNumber","isLoadingMore","isEqual","_prevState","prevPropsWithoutChildren","nextPropsWithoutChildren","loadMore","onChangeSorting","handleSortOnChange","handleAreasOnChange","onChangeTopics","handleTopicsOnChange","handlePublicationStatusOnChange","addCondition","predicate_is","predicate_not_is","predicate_contains","predicate_not_contains","predicate_begins_with","predicate_not_begins_with","predicate_ends_on","predicate_not_ends_on","predicate_is_empty","predicate_not_is_empty","predicate_has_value","predicate_not_has_value","predicate_is_one_of","predicate_not_is_one_of","predicate_is_checked","predicate_not_is_checked","predicate_is_before","predicate_is_exactly","predicate_is_after","predicate_is_equal","predicate_not_is_equal","predicate_is_larger_than","predicate_is_larger_than_or_equal","predicate_is_smaller_than","predicate_is_smaller_than_or_equal","predicate_is_admin","predicate_not_is_admin","predicate_is_project_moderator","predicate_not_is_project_moderator","predicate_is_normal_user","predicate_not_is_normal_user","predicate_in","predicate_not_in","predicate_posted_input","predicate_not_posted_input","predicate_commented_in","predicate_not_commented_in","predicate_voted_input_in","predicate_not_voted_input_in","predicate_voted_comment_in","predicate_not_voted_comment_in","predicate_budgeted_in","predicate_not_budgeted_in","predicate_volunteered_in","predicate_not_volunteered_in","predicate_is_verified","predicate_not_is_verified","rulesFormLabelField","rulesFormLabelPredicate","rulesFormLabelValue","FranceConnectButtonWrapper","FranceConnectTitle","FranceConnectSubTitle","FranceConnectButtonLink","SubSocialButtonLink","logoAlt","loaded","default","CheckboxContainer","hasLabel","CheckMarkIcon","Math","round","IndeterminateIcon","HiddenCheckbox","input","StyledCheckbox","checkedOrIndeterminate","clGreen","separationDark","Checkbox","indeterminate","TextContainer","Separator","SSpan","Tools","DestinationName","destination","config","getDestinationConfig","allow","isRequired","disallow","tools","d","settingToggled","StyledInputMultilocWithLocaleSwitcher","InputMultilocWithLocaleSwitcher","Success","SuccessIcon","clGreenSuccess","SuccessText","UseTemplateModal","setTitleMultiloc","startDate","setStartDate","selectedLocale","setSelectedLocale","setTitleError","startDateError","setStartDateError","success","setSuccess","responseError","setResponseError","TEMPLATE_TITLE_QUERY","gql","APPLY_PROJECT_TEMPLATE","useQuery","client","useMutation","applyProjectTemplate","onCreateProject","invalidTitle","getOwnPropertyNames","noDate","invalidDate","useTemplateModalCreateProjectButtonClicked","projectTitleError","projectTitleMultilocError","projectNoStartDateError","projectInvalidStartDateError","variables","transform","val","timelineStartAt","onClose","onTitleChange","onSelectedLocaleChange","newSelectedLocale","onStartDateChange","templateTitle","createProjectBasedOn","createProject","showBackground","showIcon","successMessage","goBackTo","goBackLink","projectsOverviewPage","typeProjectName","valueMultiloc","projectStartDate","tenantMinimumPasswordLength","onBlur","minimumPasswordLength","clickBack","noPasswordError","somethingWentWrongText","DropdownListItem","UserMenu","signOut","isVerified","closeDropdown","bgHoverColor","iconAriaHidden","iconSize","justify","myProfile","editProfile","createProjectMapLayer","layer","updateProjectMapLayer","reorderProjectMapLayer","deleteProjectMapLayer","createGlobalStyle","fontFamily","app_configuration","invisibleTitleUserSettings","buttonSuccessLabel","h1sub","firstNames","language","deletionSection","deletionSubtitle","deleteMyAccount","deleteYourAccount","deleteProfileError","deleteAccountSubtext","reasonsToStayListTitle","tooManyEmails","privacyReasons","conditionsLinkText","contactUs","feedbackLinkText","feedbackLinkUrl","noGoingBack","bio","bio_placeholder","domicile","imageDropzonePlaceholder","a11y_imageDropzoneRemoveIconAriaTitle","notificationsTitle","notificationsSubTitle","PurposeFilter","PURPOSES_QUERY","selectedValues","setSelectedValues","purposes","nodes","tabMap","ideaStatus","userMarkedPostAsSpam","Fill","NormalGroupForm","Field","FormikInputMultilocWithLocaleSwitcher","fieldGroupName","anyAssignment","appConfiguration","setAppConfiguration","currentAppConfiguration","subject","Subject","eventName","streamName","share","LegendItems","Item","ColorLabel","hasCustomLegend","legend","getLayerColor","getLayerIcon","legendItem","newProjectFolder","imageId","GetGroups","membershipType","getGroups","accumulatedGroupsList","onChangeMembershipType","handleMembershipTypeOnChange","historyMethod","browserHistory","mobileMenuHeight","biggerThanMaxTablet","NavigationIcon","NavigationIconWrapper","smallPhone","NavigationLabel","MobileNavigation","mobilePageHome","mobilePageProjects","mobilePageInputs","mobilePageInitiatives","archived","draft","deleteProjectConfirmation","deleteProjectError","deleteProjectButton","CreateProjectFromTemplate","organizationTypes","organization_type","departments","setDepartments","setPurposes","participationLevels","setParticipationLevels","setSearch","TEMPLATES_QUERY","cursor","fetchMore","templates","handleLoadMoreTemplatesOnClick","templatesLoadMoreButtonClicked","pageInfo","endCursor","updateQuery","previousResult","fetchMoreResult","newEdges","publishedProjectTemplates","edges","__typename","handleDepartmentFilterOnChange","departmentFilterChanged","handlePurposeFilterOnChange","purposeFilterChanged","handleParticipationLevelFilterOnChange","participationLevelFilterChanged","handleSearchOnChange","searchValue","projectTemplatesSearchValueChanged","onSearchChange","onPurposeFilterChange","onDepartmentFilterChange","onParticipationLevelFilterChange","showSurveys","handleParticipationMethodOnChange","participationMethodTitleText","participationMethodTooltip","LabelHeaderDescription","setLocale","moderatorsSectionTitle","projectManagerTooltipContent","moderationInfoCenterLinkText","moreInfoModeratorLink","windowWidth","setWindowSize","passive","HelpImage","s","m","currdate","q","arguments","l","getElementsByTagName","async","parentNode","insertBefore","ga","google_analytics","tracking_id","defaultSorting","defaultPostSortingTooltip","GroupTitle","GroupMembershipCount","ProjectGroupsList","selectedGroups","selectedGroup","addGroupProject","groupsProjects","groupProject","deletionMessage","groupDeletionConfirmation","confirm","deleteGroupProject","groups$","groupsProjects$","group_project_id","membership_count","reverse","groupsMultipleSelectPlaceholder","handleGroupsOnChange","handleOnAddGroupClick","projectGroup","isLastItem","members","count","createDeleteGroupHandler","obj","validTranslation","prototype","call","str","trim","toFixed","displayName","pageKey","pathnameWithoutLocale","newLocale","toLowerCase","indexOf","splice","pathnameWithoutTrailingSlash","tabUrl","f","Function","arg","RenderOnSelectedTabValue","isTabSelected","onlyCheckAllowed","isWarningsTabSelected","inappropriateContentFlagId","genericErrorWithForm","openFormText","errorFormTitle","errorFormSubtitle","errorFormSubtitle2","errorFormLabelName","errorFormLabelEmail","errorFormLabelComments","errorFormLabelClose","errorFormLabelSubmit","errorFormErrorGeneric","errorFormErrorFormEntry","errorFormSuccessMessage","MethodButton","fullWidth","whiteSpace","tenantId","tenantName","tenantHost","tenantOrganizationType","tenantLifecycleStage","destinationConsentChanged$","consent","isDestinationActive","o$","buffer","take","mergeAll","pairwise","previousActive","currentActive","events","eventFunctions","mapValues","extraProps","propsWithEvents","StyledImagesDropzone","ImagesDropzone","imageSupportArticleLink","images","imagePreviewRatio","acceptedFileTypes","maxImagePreviewWidth","onRemove","AvatarWrapper","GroupAvatarWrapper","GroupAvatar","memberships$","getGroupMemberships","memberships","membership","userByIdStream","GetFeatureFlag","appConfigurationSettings","SignUpHelperText","SignUp","modalContentRef","activeStepRef","authUserRef","createYourAccount","helperText","signup_helper_text","onSelected","selectedAuthProvider","goToNextStep","handleOnSSOClick","setConfiguration","enabledSteps","entries","setError","setHeaderHeight","activeStepConfiguration","getNextStep","authUserValue","startFromIndex","slice","scrollTop","handleFlowCompleted","handleStepCompleted","signUpFlowCompleted","isUndefinedOrError","signUpFlowEntered","invitationError","signUpFlowExited","signUpActiveStepChange","helpText","uniqueSteps","Set","v","activeStepNumber","totalStepsCount","handleWidth","handleHeight","onResize","_width","headerSubtitle","onAuthProviderSelected","goToOtherFlow","oldConfiguration","passwordStrengthTooltip1","passwordStrengthTooltip2","passwordStrengthTooltip3","passwordStrengthTooltip4","decideSectionTitle","setupSectionLink","ideas","decideArticle1Link","dashboard","decideArticle2Link","manageInputs","decideArticle2Title","decideArticle1Description2","decideArticle2Description","a11y_passwordVisible","a11y_passwordHidden","hidePassword","showPassword","strength1Password","strength2Password","strength3Password","strength4Password","strength5Password","a11y_strength1Password","a11y_strength2Password","a11y_strength3Password","a11y_strength4Password","a11y_strength5Password","initialPasswordStrengthCheckerMessage","minimumPasswordLengthErrorMessage","emptyPasswordError","map_config","mapConfigId","StyledAssigneeFilter","AssigneeFilter","IdeaRowCell","IdeaHeaderCell","MATOMO_HOST","allAppPaths","getAllPathsFromRoutes","tackMatomoPageview","getUrlLocale","_paq","routeMatch","exact","isExact","matomo","product_site_id","tenant_site_id","g","PageTitle","remCalc","SubSectionTitleWithDescription","GetProject","projectBySlugStream","GetPhases","phasesStream","phaseID","pm","getLatestRelevantPhase","getCurrentPhase","pastPresentOrFuture","getFirstPhase","sortBy","getLastPhase","getLastPastPhase","pastPhases","currentPhase","firstPhase","lastPhase","lastPastPhase","step2","step2Tooltip","TableHeaderCellText","PostTable","newSortAttribute","oldSortAttribute","sortAttribute","oldSortDirection","sortDirection","onChangeSort","newSortSign","onChangeSelection","newSelection","unselect","posts","allSelected","post","onChangePage","activeFilterMenu","statuses","handleSeeAll","openPreview","Table","sortable","toggleSelectAll","handleSortClick","Body","TransitionGroup","CSSTransition","onUnselect","onToggleSelect","toggleSelect","onSingleSelect","singleSelect","HeaderCell","colSpan","currentPage","currentPageNumber","totalPages","lastPageNumber","loadPage","handlePaginationClick","html","tmp","innerHTML","textContent","innerText","DEFAULT_MARKER_ICON","defaultMarker","DEFAULT_MARKER_HOVER_ICON","defaultHoverMarker","DEFAULT_MARKER_ACTIVE_ICON","defaultActiveMarker","commentReplyButtonClicked","commentReplyButtonClicked$","commentTranslateButtonClicked","commentAdded","commentAdded$","commentDeleted","commentDeleted$","HasPermission","granted","requestPermission","Children","c","No","PendingInvitation","UnknownName","ModeratorList","handleDeleteClick","deleteMessage","moderatorDeletionConfirmation","deleteProjectModerator","moderatorsNotFound","invite_status","pendingInvitation","unknownName","deleteModeratorLabel","ParticipationContext","getStateFromParticipationMethod","newMaxBudget","maxBudgetError","newMinBudget","minBudgetError","INPUT_TERMS","ideaTerm","contributionTerm","questionTerm","optionTerm","issueTerm","projectTerm","data$","phaseStream","getNewStateFromData","_prevProps","prevPartialState","nextPartialState","isValidated","surveys_enabled","typeform_enabled","enalyzer_enabled","survey_xact_enabled","qualtrics_enabled","microsoft_forms_enabled","survey_monkey_enabled","google_forms_enabled","surveyProviders","typeform","enalyzer","survey_xact","qualtrics","microsoft_forms","survey_monkey","google_forms","anyIsDefined","getInputTermOptions","handleMinBudgetingAmountChange","handleMaxBudgetingAmountChange","togglePollAnonymous","handleSurveyProviderChange","handleSurveyEmbedUrlChange","ParticipationContextWithIntl","GetOnboardingCampaigns","onboardingCampaigns","onboardingCampaigns$","currentOnboardingCampaignsStream","body","CheckboxWrapper","ConsentText","setTacAccepted","setPrivacyAccepted","toggleTacAccepted","togglePrivacyAccepted","iHaveReadAndAgreeTo","theTermsAndConditions","thePrivacyPolicy","emailConsent","StyledButton","clBlue","ErrorBoundary","reportDialogProperties","subtitle2","labelName","labelEmail","labelComments","labelClose","labelSubmit","errorGeneric","errorFormEntry","assign","showReportDialog","hasError","errorInfo","withScope","scope","setExtra","openForm","_error","ErrorBoundaryWithIntl","webpackContext","req","webpackContextResolve","__webpack_require__","module","CustomFieldOptionValuesSelector","CustomFieldOptionValuesSelectorWithHOC","SSectionField","RulesGroupForm","adminUsersMessages","FormikUserFilterConditions","similarIdeas","setSimilarIdeas","similarIdeasStream","PredicateSelector","selectedPredicate","predicate","predicate_not_posted_in","predicate_not_voted_idea_in","predicate_posted_in","predicate_voted_idea_in","getMessage","MODERATOR_ROUTES","isModeratorRoute","isModeratedProjectRoute","matches","exec","pathProjectId","isAdminRoute","tenantIsChurned","canAccessRoute","fileId","initiativeId","GetIdea","ControlBar","GraphsContainer","Column","NoDataContainer","GraphCardInner","GraphCard","GraphCardHeader","PieChartStyleFixesDiv","GraphCardHeaderWithFilter","smallerThan1280px","GraphCardTitle","GraphCardFigureContainer","GraphCardFigure","GraphCardFigureChange","CustomFieldOptionValueSelector","CustomFieldOptionValueSelectorWithHOC","TitleContainer","FormSectionTitleStyled","FormSectionDescriptionStyled","FormSectionTitle","subtitleMessage","FormLabelStyled","FormSubtextStyled","Spacer","OptionalText","labelMessageValues","subtext","subtextSupportsHtml","subtextMessage","subtextMessageValues","SubmitFooterContainer","StyledContentContainer","SubmitFooterInner","FormSubmitFooter","errorMessage","ariaDisabled","ErrorContainer","FormError","usersByAgeTitle","usersByBirthyearStream","currentYear","range","minAge","numberOfUsers","maxAge","userCount","birthYear","age","youveReceivedFolderAdminRights","folderName","project_folder_title_multiloc","SpinnerWrapper","HeaderLeft","HeaderRight","LinkCopied","LinkCopiedIcon","CopyLinkButton","MetaInfo","MetaInfoLeft","Department","MetaInfoRight","MetaInfoRightBox","MetaInfoRightBoxIcon","MetaInfoRightBoxText","Phases","PhaseBar","PhaseArrow","PhaseText","PhaseContainer","HeaderImage","SuccessCasesTitle","SuccessCases","SuccessCase","SuccessCaseImage","linkCopied","setLinkCopied","TEMPLATE_QUERY","copyLink","clipboard","writeText","projectTemplate","subtitleMultiloc","copied","department","purpose","participationLevel","headerImage","descriptionMultilocs","successCases","alsoUsedIn","successCase","StyledInputMultiloc","StyledFileUploader","GetNotifications","notifications$","notificationsStream","loadNextPage","ColorPickerSectionField","ContrastWarning","LabelTooltip","SettingsCustomizeTab","newImage","logoError","headerError","attributesDiff","titleMaxCharError","handleCoreMultilocSettingOnChange","subtitleError","subtitleMaxCharError","colorName","hexColor","contrastRatio","rgbColor","hexToRgb","calculateContrastRatio","contrastRatioWarning","hasRemoteLogo","localLogoIsNotSet","noLogo","hasRemoteHeader","localHeaderIsNotSet","noHeader","hasTitleError","hasSubtitleError","homepageInfoPage","homepageInfoPageMultiloc","homepage_info","updateAppConfiguration","homepageInfoPageId","updatePage","setting","colorPickerOpened","propertyName","handleUploadOnAdd","handleUploadOnRemove","events_page","previousValue","getSetting","events_widget","color_main","color_secondary","color_text","titleMaxCharCount","subtitleMaxCharCount","tenant$","logoUrl","headerUrl","logo$","convertUrlToUploadFileObservable","headerBg$","tenantHeaderBg","subsription","latestAppConfigStyleSettings","latestAppConfigCoreSettings","titleHomepageStyle","subtitleHomepageStyle","titlePlatformBranding","contrastRatioOfColor","contrastRatioWarningOfColor","color_primary","ColorPickerInput","handleColorPickerOnChange","contrastRatioTooLow","wcagLink","lineBreak","objectFit","handleLogoOnAdd","handleLogoOnRemove","header_bgTooltip","handleHeaderBgOnAdd","handleHeaderBgOnRemove","handleAppConfigurationStyleChange","bannerHeaderSignedOut","bannerHeaderSignedOutTooltip","maxCharCount","handleTitleOnChange","errorMultiloc","bannerHeaderSignedOutSubtitle","handleSubtitleOnChange","bannerHeaderSignedIn","projects_header","projects_header_tooltip","homePageCustomizableSection","customSectionLabel","labelTooltipText","homePageCustomizableSectionTooltip","handleCustomSectionMultilocOnChange","withCTAButton","allowed","eventsSection","handleToggleEventsPage","eventsPageSetting","eventsPageSettingDescription","handleToggleEventsWidget","eventsWidgetSetting","eventsWidgetSettingDescription","diff","SettingsCustomizeTabWithHOCs","newValue","setFieldValue","setStatus","setFieldTouched","handleOnBlur","conditions","setConditions","getPCParticipationConditions","getGlobalParticipationConditions","_comment","blank","invalid","unsupported_locales","taken","locale_blank","locale_inclusion","too_short","too_long","too_common","confirmation_code_invalid","confirmation_code_expired","confirmation_code_too_many_retries","confirmation_code_too_many_resets","after_end_at","key_invalid","unparseable_excel","max_invites_limit_exceeded","no_invites_specified","unknown_group","malformed_admin_value","malformed_groups_value","unknown_locale","invalid_email","invalid_row","email_already_invited","email_already_active","emails_duplicate","is_not_timeline_project","has_other_overlapping_phases","group_ids_unauthorized_choice_moderator","file_extension_whitelist_error","cant_change_after_first_response","cannot_contain_ideas","slug_taken","avatar_extension_whitelist_error","avatar_extension_blacklist_error","avatar_carrierwave_processing_error","avatar_carrierwave_integrity_error","avatar_carrierwave_download_error","token_invalid","title_multiloc_blank","email_taken","email_taken_by_invite","email_invalid","email_domain_blacklisted","email_blank","first_name_blank","last_name_blank","password_blank","password_too_short","view_name_taken","category_name_taken","maxChar","EventPageLink","eventsWidgetTitle","viewAllEventsText","jwt","border","fileAccept","FileInput","extension","fileInputDescription","mentionInComment","a11y_folderTitle","a11y_folderDescription","numberOfProjectsInFolder","InfoIcon","clBlueDarker","direction","featureFlag","Popup","trigger","cells","setCells","insertCellOptions","cellConfiguration","handlers","Badge","AvatarImage","borderHoverColor","AvatarIcon","fillHoverColor","BadgeIcon","hideIfNoAvatar","hasValidProfileLink","avatarSize","hasHoverEffect","avatarSrc","containerSize","badgeSize","AvatarComponent","urlParams","arrayFormat","addQueryPrefix","urlWithParams","getJwt","ok","statusText","queryParametersObject","xhr","XMLHttpRequest","responseType","setRequestHeader","onload","send","customFieldOptionId","custom_field_option","optionId","granularPermissionsTitle","parentCommentId","waitForChildCommentsRefetch","parent_id","reason","other_reason","dataIdsToRefetch","apiEndpointsToRefetch","irrelevant","inappropriate","other","officialFeedbackOnCommentedIdea","officialFeedbackOnCommentedOption","officialFeedbackOnCommentedProject","officialFeedbackOnCommentedQuestion","officialFeedbackOnCommentedIssue","officialFeedbackOnCommentedContribution","minBudgetInputValue","maxBudgetInputValue","totalBudget","totalBudgetExplanation","LabelBudgetingInput","tooltip","GetMachineTranslation","machineTranslation","machine_translation","locale_to","attribute_name","machineTranslationByIdeaIdStream","machineTranslationByInitiativeIdStream","machineTranslationByCommentIdStream","RegistrationFieldsToGraphs","customFields","convertCheckboxToGraphFormat","usersByRegFieldStream","customId","usersByRegFieldXlsxEndpoint","RegistrationFieldsToGraphsWithHoCs","UserNameContainer","StyledUserName","UserName","inappropriateContentAutoDetected","topicId","max","nextValue","emptyArray","findFullOptionValue","autoBlur","findFullOptionValues","isSearchable","blurInputOnSelect","backspaceRemovesValue","menuShouldScrollIntoView","isClearable","menuPlacement","verifyBOSA","AUTH_PATH","custom_fields_signup_helper_text","handleItemClick","bind","rangeWithDots","pageItems","calculateMenuItems","Menu","floated","active","ValueComponent","ruleToValueSelector","tokens","oneCredit","credits","multipleCredits","$tenantLocales","$authUser","updateUser","setCookieLocale","LocaleSubject","$locale","setPathnameLocale","replacePathnameLocale","newPathname","userLocale","cookieLocale","getCookieLocale","safeCookieLocale","safeUrlLocale","newLocalizedUrl","replaceState","replaceUrlLocale","setUrlLocale","startsAt","endsAt","since","seeProfile","deleteUser","userDeletionConfirmation","userDeletionFailed","youCantDeleteYourself","userExportFileName","youCantUnadminYourself","deleteGroup","allUsers","usersSubtitle","groupsTitle","noUserMatchesYourSearch","emptyGroup","goToAllUsers","createGroupButton","step1TypeNameSmart","step1TypeDescriptionSmart","step1CreateButtonSmart","modalHeaderStep1","modalHeaderManual","moveUsersTableAction","moveUsersButton","membershipAddFailed","membershipDelete","membershipDeleteConfirmation","membershipDeleteFailed","exportAllUsers","exportGroup","exportSelectedUsers","errorImageMaxSizeExceeded","errorImagesMaxSizeExceeded","remaining","onlyOneImage","onlyXImages","uploadImageLabel","uploadMultipleImagesLabel","a11y_removeImage","AllProjectsLink","ProjectsSection","projectsSectionRef","H2","setupArticle3Link","setupArticle3Title","setupArticle3Description","xmlns","xmlnsXlink","viewBox","version","stroke","strokeWidth","fillRule","isFeatureActive","FeatureFlag","showFeature","IconContainer","Message","Timing","navigate","FormattedRelative","tabWidgets","initiative","showTranslateButton","getDisplayName","desiredError","setDesiredError","desiredErrorError","setDesiredErrorError","onDesiredErrorChange","verifyBogus","LanguageProvider","importLocale","importTenantLocales","translationMessages","loadLocales","IntlProvider","only","Notification","notVerified","satismeter","script","writeKey","write_key","traits","appendChild","LabelTitleContainer","onSettingChange","flagInnaproperiateContentSetting","flag_inappropriate_content","flagInnaproperiateContentEnabled","settingChangedTo","linkToActivityPage","labelColors","male","female","unspecified","GenderChart","serie","currentChart","queryProps$","usersByGenderStream","convertedSerie","animationDuration","animationBegin","usersByGenderTitle","ResponsiveContainer","minWidth","PieChart","Pie","isAnimationActive","dataKey","outerRadius","formatEntry","Cell","Tooltip","noData","statusChangeOnVotedIdea","statusChangeOnVotedOption","statusChangeOnVotedProject","statusChangeOnVotedQuestion","statusChangeOnVotedIssue","statusChangeOnVotedContribution","DropdownList","adminMenuBackground","focussedBorder","defaultStyles","boxShadowFocused","boxShadowError","Quill","register","BlotFormatter","BaseImageFormat","import","BaseVideoFormat","ImageFormat","domNode","setAttribute","removeAttribute","formats","attribute","hasAttribute","getAttribute","blotName","VideoFormat","ALLOWED_PROTOCOLS","isExternal","protocol","CustomLink","CustomButton","QuillEditor","noToolbar","noAlign","noImages","noVideos","limitedTextFormatting","onFocus","toolbarId","editor","setEditor","contentRef","prevEditor","focussed","setFocussed","prevFocussed","editorRef","isButtonsMenuVisible","setIsButtonsMenuVisible","toggleButtonsMenu","hideButtonsMenu","editorOptions","bounds","blotFormatter","toolbar","keyboard","bindings","shiftKey","collapsed","prefix","matchVisual","getElementsByClassName","delta","convert","setContents","root","selectionChangeHandler","oldRange","_source","debouncedTextChangeHandler","on","off","trackAdvanced","advancedEditing","trackBasic","basicEditing","handleLabelOnClick","handleCustomLink","getSelection","prompt","handleNormalLink","preview","getText","classList","defaultValue","placement","interactive","visible","duration","popperOptions","strategy","x1","x2","y1","y2","imageEditing","videoEditing","onMounted","isMounted","setMetaData","signUpActiveStep","setSignUpActiveStep","hasParticipationConditions","modalWidth","modalNoClose","modalNoCloseSteps","openSignUpInModal$","isSignedIn","isSignedInNeedsVerification","prevMetaData","closeSignUpInModal$","signUpActiveStepChange$","changeMetaData$","hasAction","requiresVerification","SkipButton","CustomFieldsStep","processingSubmit","setProcessingSubmit","processingSkip","setProcessingSkip","setUnknownError","signUpCustomFieldsStepEntered","signUpCustomFieldsStepExited","completeYourProfile","hasCustomFields","handleCustomFieldsFormOnSubmit","completeRegistration","signUpCustomFieldsStepCompleted","signUpCustomFieldsStepFailed","skipStep","signUpCustomFieldsStepSkipped","completeSignUp","hasRequiredFields","textDecoration","textDecorationHover","skip","method_name_multiloc","NotificationIcon","NewNotificationsIndicator","invertedNavbarColors","NotificationCount","notificationsLabel","statusId","idea_status","ideaStatusId","searchPlaceholder","searchAriaLabel","removeSearchTerm","a11y_searchTerm","a11y_searchTermBlank","searchTerm","HTMLTitle","HTMLDescription","setupSectionTitle","setupArticle1Link","setupArticle1Title","setupArticle1Description","setupArticle2Link","setupArticle2Title","setupArticle2Description","engageSectionTitle","engageSectionLink","engageArticle1Link","engageArticle1Title","engageArticle1Description","engageArticle2Link","engageArticle2Title","engageArticle2Description","engageArticle3Link","engageArticle3Title","engageArticle3Description","decideSectionLink","projectFolderFile","setProjectFolderFiles","projectFolderFilesStream","generalTab","descriptionTab","inputManagerTab","volunteeringTab","pollTab","phasesTab","eventsTab","newProject","addNewIdea","addNewProject","addNewIssue","addNewQuestion","addNewOption","addNewContribution","viewPublicProject","noVotingLimitErrorMessage","noBudgetingAmountErrorMessage","shareInformation","shareInformationDescription","inputAndFeedback","inputAndFeedbackDescription","createSurveyText","createSurveyDescription","conductParticipatoryBudgetingText","conductParticipatoryBudgetingDescriptionText","createPoll","createPollDescription","findVolunteers","findVolunteersDescriptionText","minimum","minimumTooltip","maximum","maximumTooltip","anonymousPolling","anonymousPollingTooltip","inputsDefaultView","inputsDefaultViewTooltip","cardDisplay","mapDisplay","trendingSortingMethod","randomSortingMethod","popularSortingMethod","newestSortingMethod","oldestSortingMethod","surveyService","surveyServiceTooltipLink","surveyServiceTooltip","surveyServiceTooltipLinkText","surveyEmbedUrl","titleSurveyResults","subtitleSurveyResults","surveyResultsTab","exportSurveyResults","titleInputManager","subtitleInputManager","hiddenFieldsTip","hiddenFieldsLinkText","hiddenFieldsSupportArticleUrl","minBudgetLargerThanMaxError","minBudgetRequired","maxBudgetRequired","defaultCardHoverStyle","FolderImageContainer","FolderImagePlaceholder","placeholderBg","FolderImagePlaceholderIcon","FolderImage","Image","FolderContent","ContentHeader","ContentHeaderHeight","ContentBody","ContentHeaderLabel","FolderTitle","FolderDescription","MapIcon","MapIconDescription","layout","projectFolderImages","handleProjectCardOnClick","clickOnProjectCard","handleProjectTitleOnClick","clickOnProjectTitle","imageUrl","versions","folderUrl","visible_children_count","isArchived","contentHeader","screenReaderContent","publication_description_preview_multiloc","mobile","tablet","cover","ArrowIcon","CollapseExpandButton","CollapseContainer","handleToggle","GetAuthUser","authUser$","ForbiddenRoute","identifier","componentsToRender","useContext","SortableLink","setCustomFields","customFieldsSchemaForUsersStream$","customFieldsSchemaForUsersStream","ErrorMessageText","ErrorIcon","clRedErrorBackground","ErrorList","ErrorListItem","Bullet","mounted","dedupApiErrors","uniqBy","findMessage","row","ideasCount","ideas_count","FirstDateBlockWrapper","startAtDay","endAtDay","startAtMonth","endAtMonth","startAtYear","endAtYear","tabSummary","tabUsers","tabReports","week","fiveInputsWithMostVotes","allGroups","hiddenLabelGroupFilter","hiddenLabelProjectFilter","hiddenLabelTopicFilter","customDateRange","previous30Days","previousWeek","previous90Days","previousYear","allTime","usersByTimeTitle","activeUsers","activeUsersByTimeTitle","numberOfActiveParticipantsDescription","inputsByStatusTitle","commentsByTimeTitle","numberOfVotesUp","numberOfVotesDown","numberOfVotesTotal","cumulatedTotal","total","totalForPeriod","perPeriod","participationPerProject","hiddenLabelPickResourceByProject","selectedProject","participationPerTopic","hiddenLabelPickResourceByTopic","selectedTopic","totalCount","resourceByDifference","true","false","mostActiveUsersRankingDescription","mostActiveUsers","subtitleDashboard","titleDashboard","participants","totalUsers","timelineType","continuousType","fromTo","noPhase","customFieldTitleExport","DepartmentFilter","DEPARTMENTS_QUERY","VerticalCenterer","flagId","GetComment","commentStream","clBlueDarkBg","adminPage","InitiativeAssignedToYouNotification","smartGroupsAvailability","learnMorePlans","ConsentWrapper","ConsentWrapperInner","ContinueButton","authProvider","onContinue","setTacError","setPrivacyError","handleExpandButtonClicked","prevExpanded","signInWithSSOClicked","handleContinueClicked","signUpWithSSOClicked","iconColor","facebook","continue","compact","parameters","setEvents","setProjectIds","setCurrentPage","lastPage","setLastPage","project_ids","projectPublicationStatuses","project_publication_statuses","futureOnly","start_at_gteq","toJSON","pastOnly","start_at_lt","eventsStream","getPageNumberFromUrl","_events","getStart","sortEvents","onProjectIdsChange","onCurrentPageChange","newPage","clickShortFeedbackYes","clickShortFeedbackNo","sendShortFeedbackForm","GetProjectPermissions","projectPermissions","confirmYourAccount","anExampleCodeHasBeenSent","pleaseInsertCodeHere","verifyAndContinue","wrongEmail","didntGetAnEmail","changeYourEmail","sendNewCode","pleaseInsertYourNewEmail","sendEmailWithCode","foundYourCode","confirmationCodeSent","insertYour4DigitCodeHere","weAskEveryoneToConfirmTheirEmail","EventDateBlocks","isMultiYearEvent","overviewPageTitle","overviewPageSubtitle","overviewPageSubtitleModerator","published","existingProjects","mergedStreamParams","streamInputParams","membershipId","titleCity","subtitleCity","createAccount","cityProjects","twitterMessage","completeProfile","doItLater","defaultSignedInMessage","initiativesBoxTitle","initiativesBoxText","startInitiative","browseInitiative","new","wat","captureException","captureMessage","contentTimeout","contentEasing","contentDelay","HeaderImageContainer","HeaderImageContainerInner","HeaderImageOverlay","signedInHeaderOverlayColor","signedInHeaderOverlayOpacity","HeaderContent","HeaderContentCompleteProfile","HeaderContentCustomCta","HeaderContentDefault","Icons","CompleteProfileIcon","AcceptButton","SignedInHeader","dismissOnboardingCampaign","tenantHeaderImage","custom_onboarding_fallback_message","objectFitCoverSupported","CSS","supports","headerTitleMultiLoc","header_title","genericTitle","translatedTitle","handleSkip","textHoverColor","onSkip","handleAccept","cta_message_multiloc","cta_button_multiloc","cta_button_link","SignedInHeaderWithHoC","StyledMentionsInput","MentionsInput","MentionsTextArea","control","margin","appearance","WebkitAppearance","lineHeight","minHeight","outline","boxShadow","transition","suggestions","overflow","borderBottom","_id","display","textareaElement","getTextareaRef","query","mention","capitalize","mentionsStream","toPromise","mentionStyle","getStyle","paddingTop","paddingBottom","paddingLeft","paddingRight","ariaLabel","displayTransform","mentionDisplayTransform","markup","handleOnFocus","inputRef","Mention","getUsers","appendSpaceOnAdd","ButtonIcon","ButtonLabel","HelperText","verifyClaveUnica","project_folder","adminPublicationId","StyledAuthProviderButton","AuthProviderButton","AuthProviders","azureProviderName","azure_ad_login","login_mechanism_name","handleOnAuthProviderSelected","handleOnFranceConnectSelected","handleGoToOtherFlow","signUpButtonAltText","loginMechanismName","signUpWithPhoneOrEmail","signUpWithEmail","logInWithPhoneOrEmail","logInWithEmail","continueWithGoogle","continueWithFacebook","continueWithAzure","AuthProvidersWithHoC","Meta","PageWrapper","articleComponent","AdminGuide","userCommentedOnYourIdea","userCommentedOnYourOption","userCommentedOnYourProject","userCommentedOnYourQuestion","userCommentedOnYourIssue","userCommentedOnYourContribution","StyledTranslateButton","TranslateButton","invisibleTitleComments","official","addCommentError","replyToComment","childCommentBodyPlaceholder","publishComment","commentDeletedPlaceholder","commentingDisabledInactiveProject","commentingDisabledProject","commentingDisabledInCurrentPhase","commentingDisabledUnverified","commentingMaybeNotPermitted","signInToComment","commentingInitiativeNotPermitted","commentingInitiativeMaybeNotPermitted","signInToCommentInitiative","signInAndVerifyToCommentInitiative","signInLinkText","signUpLinkText","verifyIdentityLinkText","adminCommentDeletionCancelButton","adminCommentDeletionConfirmButton","reportAsSpam","deleteComment","editComment","confirmCommentDeletion","commentDeletionCancelButton","commentDeletionConfirmButton","reportAsSpamModalTitle","commentsSortTitle","oldestToNewest","mostUpvoted","upvoteComment","commentUpvote","commentCancelUpvote","commentReplyButton","seeTranslation","seeOriginal","loadingMoreComments","loadMoreComments","loadingComments","ideaCommentBodyPlaceholder","initiativeCommentBodyPlaceholder","yourComment","showMoreActions","deleteReason_other","deleteReason_inappropriate","deleteReason_irrelevant","a11y_commentPosted","a11y_commentDeleted","a11y_upvoteCount","a11y_undoUpvote","profanityError","guidelinesLinkText","ImageContainer","handleOnClose","signUpSuccess","loadModules","projectFoldersConfiguration","CL_CONFIG","smartGroupsConfiguration","userCustomFieldsConfiguration","ideaCustomFieldsConfiguration","googleTagManagerConfiguration","matomoConfiguration","googleAnalyticsConfiguration","intercomConfiguration","satismeterConfiguration","segmentConfiguration","granularPermissionsConfiguration","projectVisibilityConfiguration","projectManagementConfiguration","moderationConfiguration","flagInappropriateContentConfiguration","ideaAssignmentConfiguration","customIdeaStatusesConfiguration","customTopicsConfiguration","clusteringsConfiguration","geographicDashboardConfiguration","adminProjectTemplatesConfiguration","similarIdeaConfiguration","customMapsConfiguration","idAuth0Configuration","idBosaFasConfiguration","idCowConfiguration","idBogusConfiguration","idIdCardLookupConfiguration","IdFranceConnectConfiguration","IdGentRrnConfiguration","IdClaveUnicaConfiguration","machineTranslationsConfiguration","verificationConfiguration","widgetsConfiguration","eventsWidgetConfiguration","taggingConfiguration","insightsConfiguration","customStyleConfiguration","userConfirmationConfiguration","CONFIRMATION_STEP_NAME","isUserConfirmationEnabled","confirmation_required","requiresConfirmation","modifyMetaData","GetUsers","can_moderate_project","can_moderate","can_admin","canAdmin","getSortAttribute","getSortDirection","loadMoreCount","initialSort","usersStream","handleChangeSorting","onChangeSearchTerm","handleChangeSearchTerm","handleChangePage","handleLoadMore","setFiles","projectFilesStream","phaseFilesStream","eventFilesStream","pageFilesStream","ideaFilesStream","initiativeFilesStream","getResourceStream","isoDate","currentIsoDate","isAfter","startIsoDate","endIsoDate","isBetween","hours","seconds","daysLeft","floor","formattedDaysLeft","hoursLeft","formattedHoursLeft","minutesLeft","formattedMinutesLeft","incorrect_extension","poweredBy","information","termsAndConditions","privacyPolicy","accessibilityStatement","cookiePolicy","faq","cookieSettings","feedbackQuestion","yes","no","thanksForFeedback","sendFeedback","feedbackModalTitle","moreInfo","siteMap","insideModal","ShortFeedbackContainer","ShortFeedback","ThankYouNote","FeedbackQuestion","FeedbackButtons","FeedbackButton","PagesNav","PagesNavList","PagesNavListItem","linkStyle","PoweredBy","PoweredByText","CitizenlabLink","StyledSendFeedback","SendFeedback","ShortFeedbackFormModalFooter","CitizenLabLogo","PlatformFooter","shortFeedbackButtonClicked","err","openFeedbackModal","feedbackModalOpen","feedbackSubmitting","feedbackSubmitted","customizedA11yHrefEnabled","custom_accessibility_statement_link","getHasCustomizedA11yFooterLink","showShortFeedback","hasCustomizedA11yFooterLink","customizedA11yHref","getCustomizedA11yHref","handleFeedbackButtonClick","closeFeedbackModalCancel","closeFeedbackModal","shortFeedbackFormOnSubmit","closeFeedbackModalSuccess","handleFeedbackOnSubmit","handleFeedbackSubmitted","LEGAL_PAGES","openConsentManager","showFeedbackText","setPhases","tabStatuses","registrationFields","subtitleRegistration","addAFieldButton","domicileManagementInfo","geographicAreasTabLinkText","customFieldDeletionConfirmation","genderColors","customFieldEndpoints","CustomFieldsComparison","totalSerie","participantSerie","totalNumberOfUsers","paticipants","resubscribe","currentProject","combined$","totalUsersStream","participantsStream","convertedAndMergedSeries","convertAndMergeSeries","chartLabelSize","chartLabelColor","barFill","newBarFill","BarChart","bottom","Bar","barSize","LabelList","YAxis","tickLine","XAxis","WrappedCustomFieldComparison","participationMethods","memoize","assigneeOptions","dynamicOptions","postManagerMessages","assigneeName","realFiterParam","assigneeFilterUsed","adminAtWork","handleAssigneeFilterChange","getAssigneeOptions","AssigneeFilterWithHocs","customFieldsSchemas","customFieldNames","SendFeedbackText","SendFeedbackIcon","SendFeedbackComponent","sendFeedbackLink","noNotifications","userCommentedOnYourInitiative","userReactedToYourComment","statusChangedOfYourIdea","statusChangedOfYourInitiative","statusChangeOnVotedInitiative","statusChangeOnCommentedInitiative","thresholdReachedForAdmin","commentDeletedByAdminFor","adminRightsReceived","officialFeedbackOnYourInitiative","officialFeedbackOnVotedInitiative","officialFeedbackOnCommentedInitiative","projectPhaseUpcoming","moreDetails","loadMoreTemplates","noTemplatesFound","isFinite","isNaN","confirmationApiEndpoint","resendCodeApiEndpoint","newEmail","new_email","absolute","relative","relativeImportanceInputsTooltip","addClusteringButton","fieldTitle","clusteringDeletionConfirmation","titleClusterings","viewButtonLabel","titleClusterInformation","titleInputFilters","fieldAttributes","fieldExcludeEmptyCluster","fieldProjects","fieldTopics","fieldStatuses","fieldSearch","fieldMinimalTotalVotes","fieldMinimalUpvotes","fieldMinimalDownvotes","level_project","level_topic","level_area","level_description","level_clustering","firstGroup","thenLevel","keywords","clusterContainsSelectedInputs","controls","upvotes","downvotes","noVotes","numVotes","clickLegend","shiftLegend","ctrlLegend","details","tabInsights","ideaDefaultSortMethodFallback","Continuous","updateProjectPermission","clickExportIdeas","clickExportInitiatives","clickExportComments","changeInitiativeAssignment","ideaStatusChange","initiativeStatusChange","permissionAction_comment_ideas","permissionAction_comment_projects","permissionAction_comment_contributions","permissionAction_comment_options","permissionAction_comment_questions","permissionAction_comment_issues","permissionAction_vote_ideas","permissionAction_vote_projects","permissionAction_vote_contributions","permissionAction_vote_options","permissionAction_vote_questions","permissionAction_vote_issues","permissionAction_submit_idea","permissionAction_submit_project","permissionAction_submit_contribution","permissionAction_submit_option","permissionAction_submit_question","permissionAction_submit_issue","permissionAction_comment_proposals","permissionAction_vote_proposals","permissionAction_post_proposal","permissionAction_take_survey","permissionAction_take_poll","permissionAction_budgeting","FolderIcon","FolderRowContent","hasProjects","ProjectRows","InFolderProjectRow","ProjectRow","publicationChildrenOf","folderOpen","setFolderOpen","folderDeletionError","setFolderDeletionError","ActionPermissionWrapper","permissionAction","voting_idea","commenting_idea","taking_survey","taking_poll","budgeting","voting_initiative","commenting_initiative","posting_initiative","getPermissionActionMessage","setGraphqlTenantLocales","graphqlLocales","AssigneeSelect","AssigneeSelectWithHocs","HorizontalBarChart","unitName","tick","HorizontalBarChartWithHoCs","dx","dy","textAnchor","VerificationFormCOW","setRun","idSerial","setIdSerial","runError","setRunError","idError","setIdError","onIdSerialChange","verifyCOW","invalidRunError","invalidIdSerialError","showCOWHelp","helpImage","PreviousPathnameContext","deleteFolderError","deleteFolderConfirmation","deleteFolderButton","StyledList","TextCell","noDestinations","mainText","policyLink","subText","manage","ariaButtonClose","functional","functionalPurpose","analyticsPurpose","advertising","advertisingPurpose","requiredPurpose","Wrapper","SubmitWrapper","el","blur","submitButton","customError","setSubmitButtonRef","verifyCow","ToggleContainer","ToggleHint","latestAppConfigSettings","user_confirmation","newUserConfirmationSetting","labelTextColor","desired_error","UserDeleted","SearchInputWrapper","setClearButtonRef","setSearchTerm","handleClearButtonRef","SearchInput","i18nRemoveSearchTermMessage","i18nSearchTermMessage","i18nSearchTermBlankMessage","customFieldsSchema","closeSignUpInModal","publicationStatusColor","pageSlug","pageData","pageId","mobilePageEvents","signInFlowEntered","signInFlowExited","signInFlowCompleted","infoboxLine1","infoboxLine2","citizenlabExpert","webpackAsyncContext","ids","t","VerificationOnboardingStep","similarInputs","ModeratorSubSection","moderationInfoCenterLink","EventsWidgetContainer","NoEventsText","CardsContainer","StyledEventCard","EventCard","eventsLoading","eventsError","_campaign","httpLink","HttpLink","uri","authMiddleware","ApolloLink","operation","forward","setContext","authorization","fetchOptions","ApolloClient","cache","InMemoryCache","DeleteProjectButton","rest","deletionProps","copy","errorCopy","confirmationCopy","handleDelete","deleteProject","handleDeletePublication","iconHoverColor","LoadingContainer","NotificationsWrapper","EmptyStateContainer","EmptyStateImageWrapper","EmptyStateImage","EmptyStateText","NotificationMenu","markAllAsRead","notifications","pageStart","useWindow","threshold","EmptyStateImg","ssoParams","sso_response","sso_flow","sso_pathname","sso_verification","sso_verification_action","sso_verification_id","isProjectContext","sso_verification_type","urlSearchParams","userCustomFieldsSchemaApiEndpoint","custom_field","FilterSelector","newTitle","random","without","closeExpanded","currentTitle","getTitle","toggleExpanded","selectionChange","handleClickOutside","DeleteProjectFolderButton","deleteProjectFolder","RenderOnPublicationType","RenderOnProjectFolderModerator","RenderOnNotificationType","afterMountApplication","ContentWrapper","ErrorWrapper","DropzoneLabelText","DropzoneLabelIcon","DropzoneImagesRemaining","DropzoneInput","DropzoneContent","DropzoneContentInner","Box","ratio","RemoveIcon","RemoveButton","maxNumberOfImages","urlObjects","newUrlObjects","URL","createObjectURL","urlObject","revokeObjectURL","maxItemsCount","oldItemsCount","newItemsCount","remainingItemsCount","maxImageSizeInMb","getMaxImageSizeInMb","maxFileSize","removedImage","maxImageFileSize","setUrlObjects","removeExcessImages","remainingImages","maxSize","onDrop","onDropRejected","getRootProps","getInputProps","removeImage","removeIconAriaTitle","flaggable_url","idea_id","participationAccessRightsTitle","moderationRightsTitle","CATEGORIES","destinationConfigs","PostPageFullscreenModal","lazy","InnerContainer","mobileTopBarHeight","App","modalId","modalSlug","modalType","userDeletedModalOpened","navbarRef","mobileNavbarRef","verificationModalMounted","signUpInModalMounted","previousPathname","userActuallyDeleted","redirectsEnabled","listenBefore","newLocation","newPreviousPathname","pathsToIgnore","handleCustomRedirect","smoothscroll","polyfill","configureScope","setUser","moment","tz","setDefault","timezone","appLocalesMomentPairs","require","momentLoc","customFontAdobeId","WebfontLoader","typekit","openPostPageModal","closePostPageModal","signOutAndDeleteAccountPart2","isAuthError","signUpInModalHasMounted","ignoreQueryPrefix","shouldCompleteRegistration","shouldConfirm","shouldVerify","verification_error","redirects","isSignInPage","isSignUpPage","getTheme","showFooter","ThemeProvider","LiveAnnouncer","Suspense","fallback","closeUserDeletedModal","handleSignUpInModalMounted","handleModalMounted","setNavbarRef","AppWithHoC","getSelectStyles","isFocused","borderWidth","hoveredBorder","indicatorSeparator","dropdownIndicator","multiValue","multiValueLabel","multiValueRemove","eventId","initiative_status_title_multiloc","closeVerificationModal","currency","RenderOnCustomFields","CustomFieldGraphs","AllCustomFields","RegistrationQuestions","prefetchProjects","userBySlugStream","userResponse","moreDetailsButtonClicked","FooterNotes","FooterNote","FooterNoteLink","FooterNoteSuccessMessage","FooterNoteSuccessMessageIcon","setConfirmation","setNewEmail","setApiErrors","changingEmail","setChangingEmail","codeResent","setCodeResent","handleSubmitConfirmation","handleEmailSubmit","resendCode","userEmail","prevConfirmation","PasswordStrengthBar","EyeIcon","EyeClosedIcon","ShowPasswordButton","setShowPassword","passwordScore","setPasswordScore","emptyPasswordErrorMessage","inputElement","minLength","shortScoreWord","scoreWords","onChangeScore","score","scoreWordStyle","featureName","folderModerators","setFolderModerators","folderModeratorsStream","LanguageSelector","ParticipationlevelFilter","PARTICIPATIONLEVELS_QUERY","initiativeTitle","setMachineTranslation","getObservable","phaseStartAt","FormattedDate","areaId","WarningContent","inappropriateContentFlag","flagType","getFlagType","nlp_flagged","nlpFlaggedWarningText","user_flagged","userFlaggedWarningText","flagTooltip","isMultiMonthEvent","w","j","container_id","__esModule","shortenedAppLocalePairs","appGraphqlLocalePairs","appLocalePairs","DEFAULT_LOCALE","GRAPHQL_PORT","GRAPHQL_HOST","API_PORT","API_HOST","GOOGLE_MAPS_API_KEY","hostname","en","mi","fr","de","nl","nb","da","es","enGb","enCa","frBe","frFr","nlBe","nlNl","deDe","itIt","daDk","nbNo","esEs","esCl","plPl","klGl","huHu","roRo","ptBr","arSa","srLatn","PieChartByCategory","innerRadius","_","PieChartByCategoryWithHoCs","RouteTypes","CITIZEN","ADMIN","convertConfigurationToRoute","childRoute","parseModuleRoutes","route","enabledModuleConfigurations","mergedRoutes","mergeWith","objValue","srcValue","castArray","callLifecycleMethods","lifecycleMethod","itemAlreadyInserted","referenceIndex","findIndex","insertIndex","clamp","SettingsGeneralTab","selectedLocaleOptions","hasUrlError","fragment","blocking_profanity","oldProfanityBlockerEnabled","settingsSavingError","settingsUpdatedSuccessFully","settingName","oldSettingEnabled","appConfiguration$","updatedLocales","appConfigAttrs","merge","appConfigLocales","organizationType","appConfigSite","organizationNameMultiloc","localeOptions","localesToOptions","profanityBlockerSetting","titleBasic","platformConfiguration","subtitleBasic","handleOrganizatioNameOnChange","languages","languagesTooltip","handleLocalesOnChange","urlTitle","urlTitleTooltip","handleUrlOnChange","urlError","contentModeration","onToggleBlockProfanitySetting","profanityBlockerSettingDescription","handleSettingChange","successfulUpdateSettings","AreaValueSelector","AreaValueSelectorWithHOC","GetAppConfigurationLocales","appConfigurationLocales","currentAppConfiguration$","console","log","IdeaRow","InitiativeRow","StyledRow","tr","undraggable","FilterCell","td","TitleLink","nothingHappens","onClickCheckbox","onClickTitle","ImageElement","fadeIn","fadeInDuration","Fallback","unobserve","isIntersecting","isLazy","onLoad","handleImageLoaded","rootMargin","handleIntersection","emittedMetaData","oldMetaData","newMetaData","overridenMetaData","changeMetaData","newActiveStep","pageTitle","tabSettings","tabCustomize","tabPages","tabRegistration","imageOverlayColor","imageOverlayOpacity","registrationTitle","tabAreas","signupFormText","signupFormTooltip","step1","step1Tooltip","registrationTabDescription","footerHeight","PageContent","main","TOC","Ul","ProjectsSubsectionUl","h4","NavItem","SiteMap","success_stories","detail","offset","archivedSection","currentSection","draftSection","hasProjectSubsection","story","page_slug","currentTenantLocale","_initiative","GetPhasePermissions","projectTopicId","topic_id","projects_topic","rootRoute","Root","Router","applyRouterMiddleware","useScroll","mountApplication","StoryLink","ideaTitle","messageDescriptor","orgName","orgType","intlReplacement","formatMessageReplacement","SortableList","fromIndex","toIndex","listItems","itemsWhileDragging","clone","itemId","onReorder","itemsList","handleDragRow","handleDropRow","DragDropContext","HTML5Backend","CustomStyleInputs","user_custom_fields","fieldColor","categoryDescription","proposedFieldCodeTitle","viewedFieldCodeTitle","under_considerationFieldCodeTitle","acceptedFieldCodeTitle","implementedFieldCodeTitle","rejectedFieldCodeTitle","customFieldCodeTitle","proposedFieldCodeDescription","viewedFieldCodeDescription","under_considerationFieldCodeDescription","acceptedFieldCodeDescription","implementedFieldCodeDescription","rejectedFieldCodeDescription","custom_field_text","is","TextValueSelector","not_is","not_contains","begins_with","not_begins_with","ends_on","not_ends_on","is_empty","not_is_empty","custom_field_select","has_value","not_has_value","is_one_of","not_is_one_of","custom_field_checkbox","is_checked","not_is_checked","custom_field_date","is_before","DateValueSelector","is_exactly","is_after","custom_field_number","is_equal","NumberValueSelector","not_is_equal","is_larger_than","is_larger_than_or_equal","is_smaller_than","is_smaller_than_or_equal","AreaValuesSelector","is_admin","not_is_admin","is_project_moderator","not_is_project_moderator","is_normal_user","not_is_normal_user","not_in","posted_in","not_posted_in","commented_in","not_commented_in","voted_idea_in","not_voted_idea_in","voted_comment_in","not_voted_comment_in","budgeted_in","not_budgeted_in","volunteered_in","not_volunteered_in","TopicValuesSelector","TopicValueSelector","IdeaStatusValuesSelector","IdeaStatusValueSelector","is_verified","not_is_verified","ContentContainerInner","Line","PreferencesButton","Banner","warnings","DragHandle","SortableRow","connectDropTarget","connectDragSource","isDragging","lastItem","opacity","dropTarget","hover","monitor","getItem","hoverBoundingRect","getBoundingClientRect","hoverMiddleY","hoverClientY","getClientOffset","moveRow","drop","dropRow","DropTarget","connect","DragSource","beginDrag","dragSource","setVerificationMethods","verificationMethodsStream","openOnLeft","areasLabelTooltipLink","AreaValuesSelectorWithHOC","ActionBarTranslateButton","InitiativesTranslateButton","IdeasShowTranslateButton","PostShowTranslatedCommentBody","PostShowTranslatedBody","PostShowTranslatedTitle","IdeaList","IdeaListItem","IdeaLink","SimilarIdeas","onClickIdeaLink","similarIdea","Filters","StyledSearchInput","Cards","StyledProjectTemplateCard","ProjectTemplateCard","LoadMoreButtonWrapper","LoadMoreButton","NoTemplates","ProjectTemplateCards","cardImage","SignUpFieldsSection","isFormSubmitting","setIsFormSubmitting","isFormSaved","setIsFormSaved","setErrors","setAttributesDiff","handlePageOnChange","handleSubmit","newAttributesDiff","setAuthUser","currentAuthUser","projectMethod","rootProjectUrl","getProjectUrl","projectData","activeFlagsCount","FullPageContainer","hiddenFieldsLink","setAppConfigurationLocales","IconCell","SelectorCell","StyledRemoveButton","newRule","pick","showLabels","ruleName","hasValue","fieldDescriptorFromRule","handleChangeField","handleChangePredicate","handleChangeValue","TextAreaContainer","defaultInputStyle","CharacterCount","focusOnError","descriptor","matchRegexp","titleWidgets","subtitleWidgets","titleInputSelection","titleDimensions","titleStyle","titleHeaderAndFooter","fieldWidth","fieldHeight","fieldSiteBackgroundColor","fieldBackgroundColor","fieldTextColor","fieldAccentColor","fieldFont","fieldFontSize","fieldFontDescription","fieldRelativeLink","fieldShowHeader","fieldShowLogo","fieldHeaderText","fieldHeaderTextDefault","fieldHeaderSubText","fieldHeaderSubTextDefault","fieldShowFooter","fieldButtonText","fieldButtonTextDefault","fieldSort","sortTrending","sortPopular","sortNewest","fieldInputsLimit","settingsTitle","previewTitle","exportHtmlCodeButton","htmlCodeTitle","htmlCodeExplanation","homepage","copyToClipboard","topicIds","exclude_code","setTopics","projectTopicsStream","topicByIdStream","topicsStream","handleGoToSignUpFlow","handleOnSignInCompleted","NoPostPage","NoPostHeader","NoPostDescription","StyledLocaleSwitcher","LocaleSwitcher","quillProps","handleValueOnChange","newValueMultiloc","handleOnSelectedLocaleChange","CommentDeletedByAdminNotification","reasonCode","otherReason","pastDelay","loc","hrefLang","_project","Buttons","StyledBadge","StyledTextCell","TextCellContent","CustomFields","isProcessing","deleteUserCustomField","updateCustomFieldForUsers","newListItems","fieldId","listItem","reorderCustomFieldForUsers","prevCustomFieldsIds","nextCustomFieldsIds","listItemsLength","isHiddenField","handleOnEnabledToggle","geographicAreasTabLink","customfieldMessages","isBuiltInField","handleOnDeleteClick","CustomFieldsListWithHoCs","invitations_colleagues","invitations_target_audience","manual_emailing","easing","UseTemplateButton","MoreDetailsButton","onMoreDetailsBtnClick","_reject","decodedJwt","decode","sub","_res","removeJwt","logout_supported","auth","httpMethod","setJwt","getAuthUserAsync","innerBodyData","signUpEndpoint","authenticatedUser","setProject","GetSerieFromStream","ConsentManager","changedPreference","getCurrentPreferences","cookieConsent","newChoices","getActiveDestinations","getCategory","setConsent","savedChoices","getConsent","newPreferences","allCategories","getDestinationConfigs","newDestinations","activeDestinations","activeCategorizedDestinations","categorizeDestinations","toggleDefault","BaseGroupType","BaseIconWrapper","LightningBoltIcon","BlackedOut","Copy","LockIcon","LearnMoreLink","isSmartGroupsEnabled","BarChartByCategory","barHoverColor","BarChartByCategoryWithHoCs","StyledIframe","iframe","qs","fragmentsFeatureFlag","fragments","enabled_fragments","iframeNode","contentWindow","iframeHeight","scrollHeight","fragmentActive","setIframeRef","fragmentUrl","setIframeHeight","GetAppConfiguration","OrContainer","OrText","Range","renderTrack","onTouchStart","getTrackBackground","alignSelf","renderThumb","isDragged","justifyContent","alignItems","GetLocale","VerificationFormLookup","cardId","setCardId","cardIdError","setCardIdError","onCardIdChange","verifyIDLookup","card_id_multiloc","card_id_tooltip_multiloc","card_id_placeholder","explainer_image_url","DropdownIcon","RulesList","AddButton","UserFilterConditions","newRules","trackConditionAdd","handleOnChangeRule","handleOnRemoveRule","handleOnAddRule","UserFilterConditionsWithHoc","injectTracks","setInappropriateContentFlag","inappropriateContentFlagByIdStream","CommentTranslateButton","setTranslateButtonClicked","onTranslate","commentBodyMultiloc","setUserCustomFields","ImageAvatarContainer","illustration","makeRoute","head","paths","replaceAll","cacheCount","compilePath","cacheKey","end","strict","sensitive","pathCache","regexp","pathToRegexp","matched","match","presentationMode","projectHeaderImage$","projectFiles$","projectFile","projectImages$","projectImagesStream","projectImage","signedOutHeaderOverlayColor","signedOutHeaderOverlayOpacity"],"mappings":"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ACTC,QAAS,GACTC,aAAa,EACbC,WAAY,CAAC,IAAK,IAAK,KACvBC,YACE,4FAIC,uBAGF,IAAMC,EAAe,SAAC/4B,GAA8C,YACzE,OAAOA,SAAA,UAAAA,EAAUg5B,eAAV,mBAAmBC,gBAAnB,mBAA8B,UAA9B,mBAAkCC,gBAAlC,eAA4CxkD,OAAQ,S,iCAGhC,SAACsrB,GAA8C,oBACpEtrB,EAAOqkD,EAAa/4B,GACpBm5B,EACJn5B,SADiC,UACjCA,EAAUg5B,eADuB,iBACjC,EAAmBC,gBADc,iBACjC,EAA8B,UADG,iBACjC,EAAkCnhC,kBADD,aACjC,EAA8CshC,KAC1CC,EACJr5B,SADmC,UACnCA,EAAUg5B,eADyB,iBACnC,EAAmBC,gBADgB,iBACnC,EAA8B,UADK,iBACnC,EAAkCnhC,kBADC,aACnC,EAA+C,gBAC3CwhC,EAAgB,UAEtB,MAAa,UAAT5kD,EACK2kD,GAAeF,GAAaG,EAG9BH,GAAaG,G,eAGM,SAACt5B,GAC3B,IAAMu5B,EAAYR,EAAa/4B,GAC3Bw5B,EAA2C,YAQ/C,MANkB,UAAdD,EACFC,EAAW,QACY,eAAdD,IACTC,EAAW,QAGNA,G,+BAGmC,SAACr9C,GAC3C,IACM6C,EAAiB,GAIvB,OAHA7C,EAAcwkB,SACZ,SAAC84B,GAAD,OAAmBz6C,EAAey6C,GAHP,mBAKtBz6C,G,gBAGoB,CAC3B,YACA,WACA,UACA,eACA,mBACA,iBACA,WACA,cACA,aACA,SACA,OACA,MACA,WACA,aACA,OACA,UACA,gBACA,WACA,MACA,OACA,WACA,MACA,WACA,SACA,SACA,iBACA,iBACA,UACA,aACA,UACA,QACA,MACA,SACA,UACA,SACA,WACA,iBACA,UACA,WACA,YACA,QACA,eACA,OACA,SACA,OACA,OACA,UACA,cACA,SACA,QACA,WACA,WACA,YACA,WACA,cACA,UACA,UACA,aACA,UACA,SACA,WACA,WACA,SACA,QACA,OACA,UACA,iBACA,WACA,cACA,QACA,mBACA,aACA,SACA,OACA,SACA,OACA,aACA,aACA,iBACA,sBACA,mBACA,mBACA,a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AAD,cACE55B,IAAK,IAAAvO,cAAaN,GAAiD,KAAvC,aAAyB6O,EAAI7O,IACrDyoC,Q,GANc9sC,iB,mBAYX,SAACmH,GAAD,OACb,wBAAC,UAAD,MAAY,SAAC9C,GAAD,OAAY,wBAAC8lC,GAAD,gBAAUhjC,EAAV,CAAsB9C,OAAQA,U,oGCpCxD,I,GAEe,EAFf,UAEe7C,gBAAe,CAC5B+gB,OAAQ,CACNhjB,GAAI,+CACJmC,eAAgB,WAElB6xD,iBAAkB,CAChBh0D,GAAI,yDACJmC,eAAgB,sBAElBk8I,aAAc,CACZr+I,GAAI,qDACJmC,eAAgB,6DAElBm8I,aAAc,CACZt+I,GAAI,qDACJmC,eACE,yFAEJo8I,iBAAkB,CAChBv+I,GAAI,yDACJmC,eAAgB,qBAElB8xD,YAAa,CACXj0D,GAAI,oDACJmC,eAAgB,uB,kCC1BpB,IAAI9C,EAAM,CACT,KAAM,CACL,OACA,EACA,IAED,UAAW,CACV,OACA,GACA,EACA,IAED,aAAc,CACb,OACA,GACA,EACA,IAED,UAAW,CACV,OACA,EACA,IAED,aAAc,CACb,OACA,EACA,IAED,UAAW,CACV,OACA,EACA,IAED,aAAc,CACb,OACA,EACA,IAED,OAAQ,CACP,OACA,EACA,IAED,UAAW,CACV,OACA,EACA,IAED,aAAc,CACb,OACA,EACA,IAED,UAAW,CACV,OACA,EACA,IAED,aAAc,CACb,OACA,EACA,IAED,UAAW,CACV,OACA,EACA,IAED,UAAW,CACV,OACA,GACA,EACA,IAED,aAAc,CACb,OACA,GACA,EACA,IAED,UAAW,CACV,OACA,GACA,EACA,IAED,aAAc,CACb,OACA,GACA,EACA,IAED,UAAW,CACV,OACA,EACA,IAED,aAAc,CACb,OACA,EACA,IAED,UAAW,CACV,OACA,EACA,IAED,aAAc,CACb,OACA,EACA,IAED,UAAW,CACV,OACA,EACA,IAED,aAAc,CACb,OACA,EACA,IAED,UAAW,CACV,OACA,EACA,IAED,aAAc,CACb,OACA,EACA,IAED,UAAW,CACV,OACA,EACA,IAED,aAAc,CACb,OACA,EACA,IAED,U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yD,GACjEh6H,EAAQ+5H,SACN55F,cAEFngC,EAAQ85H,SAAW35F,OACnBngC,EAAQ65H,aAEa,oBAAXptI,OAAyB,YAAcA,OAAOxZ,SAASgnJ,SACjEj6H,EAAQ45H,aAA2C,KACnD55H,EAAQ25H,eAAiB,KAOzB35H,EAAQ5vB,QAAU,CAChB,KACA,KACA,KACA,KACA,KACA,KACA,KACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,KACA,WAEF4vB,EAAQmkH,eAAiB,CACvB,KACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,UAGFnkH,EAAQ05H,eAAiB,CACvBQ,GAAI,UACJ,QAAS,0BACT,QAAS,mBACT,QAAS,sBACT,QAAS,oBACT,QAAS,sBACT,QAAS,yBACT,QAAS,UACT,QAAS,WACT,QAAS,QACT,QAAS,iBACT,QAAS,mBACT,QAAS,kBACT,QAAS,SACT,QAAS,cACT,QAAS,SACT,QAAS,SACT,QAAS,qBACT,QAAS,OACTC,GAAI,QACJ,UAAW,mBAEbn6H,EAAQy5H,sBAAwB,CAC9BS,GAAI,KACJE,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,KAAM,QACNC,KAAM,QACNC,KAAM,QACNC,KAAM,QACNC,KAAM,QACNC,KAAM,QACNC,KAAM,QACNC,KAAM,QACNC,KAAM,QACNC,KAAM,QACNC,KAAM,QACNC,KAAM,QACNC,KAAM,QACNC,KAAM,QACNC,KAAM,QACNC,KAAM,QACNC,KAAM,QACNC,KAAM,KACNxB,GAAI,KACJyB,OAAQ,WAEV57H,EAAQw5H,wBAA0B,CAChCU,GAAI,UACJ,QAAS,UACT,QAAS,UACT,QAAS,WACT,QAAS,WACT,QAAS,aACT,QAAS,aACT,QAAS,UACT,QAAS,WACT,QAAS,QACT,QAAS,QACT,QAAS,UACT,QAAS,UACT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","file":"main.b7bd91e34888bb41b55c.chunk.js","sourcesContent":["import React, { PureComponent } from 'react';\nimport { includes, isNil } from 'lodash-es';\n\n// components\nimport Checkbox from 'components/UI/Checkbox';\nimport { Dropdown } from 'cl2-component-library';\n\n// style\nimport styled from 'styled-components';\nimport { colors, fontSizes, isRtl } from 'utils/styleUtils';\n\nconst List = styled.ul`\n  margin: 0;\n  padding: 0;\n  list-style: none;\n`;\n\nconst ListItemText = styled.span`\n  flex-grow: 1;\n  flex-shrink: 1;\n  flex-basis: 0;\n  color: ${colors.label};\n  font-size: ${fontSizes.base}px;\n  font-weight: 400;\n  line-height: 21px;\n  text-align: left;\n  overflow-wrap: break-word;\n  word-wrap: break-word;\n  word-break: break-word;\n  ${isRtl`\n    text-align: right;\n  `}\n`;\n\nconst ListItem = styled.li`\n  width: 100%;\n  display: flex;\n  align-items: center;\n  margin: 0px;\n  margin-bottom: 4px;\n  padding: 10px;\n  list-style: none;\n  background: #fff;\n  border-radius: ${(props: any) => props.theme.borderRadius};\n  cursor: pointer;\n  transition: all 80ms ease-out;\n\n  &.last {\n    margin-bottom: 0px;\n  }\n\n  &:hover,\n  &:focus,\n  &.selected {\n    background: ${colors.clDropdownHoverBackground};\n\n    ${ListItemText} {\n      color: #000;\n    }\n  }\n`;\n\nconst CheckboxListItem = styled.li`\n  width: 100%;\n  display: flex;\n  align-items: center;\n  margin: 0px;\n  margin-bottom: 4px;\n  padding: 10px;\n  list-style: none;\n  background: #fff;\n  border-radius: ${(props: any) => props.theme.borderRadius};\n  cursor: pointer;\n  transition: all 80ms ease-out;\n  padding: 0 10px;\n\n  &.last {\n    margin-bottom: 0px;\n  }\n\n  &:hover,\n  &:focus,\n  &.selected {\n    background: ${colors.clDropdownHoverBackground};\n\n    ${ListItemText} {\n      color: #000;\n    }\n  }\n`;\n\nconst CheckboxLabel = styled.span`\n  flex: 1;\n  color: ${colors.label};\n  font-size: ${fontSizes.base}px;\n  font-weight: 400;\n  line-height: 21px;\n  text-align: left;\n  overflow-wrap: break-word;\n  word-wrap: break-word;\n  word-break: break-word;\n  display: block;\n  padding: 10px 0;\n`;\n\ninterface Value {\n  text: string | JSX.Element;\n  value: any;\n}\n\ninterface DefaultProps {\n  width?: string;\n  mobileWidth?: string;\n  maxHeight?: string;\n  mobileMaxHeight?: string;\n  top?: string;\n  left?: string;\n  mobileLeft?: string;\n  right?: string;\n  mobileRight?: string;\n}\n\ninterface Props extends DefaultProps {\n  title: string | JSX.Element;\n  values: Value[];\n  onChange: (arg: string) => void;\n  onClickOutside?: (event: React.FormEvent) => void;\n  selected: any[];\n  right?: string;\n  mobileRight?: string;\n  multipleSelectionAllowed?: boolean;\n  opened: boolean;\n  baseID: string;\n  name: string;\n}\n\ninterface State {}\n\nexport default class ValuesList extends PureComponent<Props, State> {\n  static defaultProps: DefaultProps = {\n    width: undefined,\n    mobileWidth: undefined,\n    maxHeight: undefined,\n    mobileMaxHeight: undefined,\n    top: '34px',\n    left: undefined,\n    mobileLeft: undefined,\n    right: undefined,\n    mobileRight: undefined,\n  };\n\n  removeFocus = (event: React.MouseEvent) => {\n    event.preventDefault();\n  };\n\n  handleOnToggleCheckbox = (entry) => (_event: React.ChangeEvent) => {\n    this.props.onChange(entry.value);\n  };\n\n  handleOnSelectSingleValue = (entry) => (\n    event: React.MouseEvent | React.KeyboardEvent\n  ) => {\n    if (\n      event.type === 'click' ||\n      (event.type === 'keydown' && event['key'] === 'Enter')\n    ) {\n      event.preventDefault();\n      this.props.onChange(entry.value);\n    }\n  };\n\n  handleOnClickOutside = (event: React.FormEvent) => {\n    this.props.onClickOutside && this.props.onClickOutside(event);\n  };\n\n  render() {\n    const {\n      values,\n      selected,\n      multipleSelectionAllowed,\n      opened,\n      baseID,\n      width,\n      mobileWidth,\n      maxHeight,\n      mobileMaxHeight,\n      top,\n      left,\n      mobileLeft,\n      right,\n      mobileRight,\n      name,\n    } = this.props;\n\n    // ARIA reference example: https://www.w3.org/TR/wai-aria-practices/examples/listbox/listbox-collapsible.html\n    return (\n      <Dropdown\n        width={width}\n        mobileWidth={mobileWidth}\n        maxHeight={maxHeight}\n        mobileMaxHeight={mobileMaxHeight}\n        top={top}\n        left={left}\n        mobileLeft={mobileLeft}\n        right={right}\n        mobileRight={mobileRight}\n        opened={opened}\n        onClickOutside={this.handleOnClickOutside}\n        content={\n          <List\n            className=\"e2e-sort-items\"\n            tabIndex={-1}\n            role=\"listbox\"\n            aria-multiselectable={multipleSelectionAllowed}\n          >\n            {values &&\n              values.map((entry, index) => {\n                const checked = includes(selected, entry.value);\n                const last = index === values.length - 1;\n                const classNames = [\n                  `e2e-sort-item-${\n                    entry.value !== '-new' ? entry.value : 'old'\n                  }`,\n                  !multipleSelectionAllowed && checked ? 'selected' : '',\n                  last ? 'last' : '',\n                ]\n                  .filter((item) => !isNil(item))\n                  .join(' ');\n\n                return multipleSelectionAllowed ? (\n                  <CheckboxListItem\n                    id={`${baseID}-${index}`}\n                    role=\"option\"\n                    aria-posinset={index + 1}\n                    aria-selected={checked}\n                    key={entry.value}\n                    onMouseDown={this.removeFocus}\n                    className={classNames}\n                  >\n                    <Checkbox\n                      checked={checked}\n                      onChange={this.handleOnToggleCheckbox(entry)}\n                      label={<CheckboxLabel>{entry.text}</CheckboxLabel>}\n                      name={name}\n                    />\n                  </CheckboxListItem>\n                ) : (\n                  <ListItem\n                    id={`${baseID}-${index}`}\n                    role=\"option\"\n                    aria-posinset={index + 1}\n                    aria-selected={checked}\n                    key={entry.value}\n                    onMouseDown={this.removeFocus}\n                    className={classNames}\n                    onClick={this.handleOnSelectSingleValue(entry)}\n                    onKeyDown={this.handleOnSelectSingleValue(entry)}\n                    tabIndex={0}\n                  >\n                    <ListItemText>{entry.text}</ListItemText>\n                  </ListItem>\n                );\n              })}\n          </List>\n        }\n      />\n    );\n  }\n}\n\n// TODO: page jump on landing page (doesn't happen on projects page)\n","import styled from 'styled-components';\nimport { hideVisually } from 'polished';\nimport { invisibleA11yText } from 'utils/styleUtils';\n\nexport const HiddenLabel = styled.label`\n  span:first-child {\n    ${hideVisually()}\n  }\n`;\n\n/**\n * Our fieldsets usually don't have borders\n */\nexport const Fieldset = styled.fieldset`\n  border: none;\n`;\n\n/**\n * Wrap in this component any element that should only be visible by screen readers\n */\nexport const ScreenReaderOnly = styled.span`\n  ${invisibleA11yText()}\n`;\n","import React, { PureComponent } from 'react';\n\n// Components\nimport CategoryCard from './CategoryCard';\n\n// Typing\nimport { CategorizedDestinations, IPreferences } from '.';\n\n// Styling\nimport styled from 'styled-components';\nimport { fontSizes, media } from 'utils/styleUtils';\n\nexport const ContentContainer = styled.div`\n  padding: 30px;\n  background: white;\n\n  h1 {\n    font-size: ${fontSizes.medium}px;\n  }\n\n  h2 {\n    font-size: ${fontSizes.large}px;\n  }\n\n  ${media.smallerThanMinTablet`\n    margin: 0;\n    padding: 20px;\n  `}\n`;\n\ninterface Props {\n  onChange: (category, value) => void;\n  categoryDestinations: CategorizedDestinations;\n  preferences: IPreferences;\n}\n\nconst doNothing = () => () => {};\n\nexport default class PreferencesDialog extends PureComponent<Props> {\n  static displayName = 'PreferencesDialog';\n\n  handleChange = (category: string, value: boolean) => (_event) => {\n    this.props.onChange(category, value);\n  };\n\n  render() {\n    const { categoryDestinations, preferences } = this.props;\n    return (\n      <ContentContainer id=\"e2e-preference-dialog\">\n        {Object.keys(categoryDestinations).map((category) => {\n          if (categoryDestinations[category].length > 0) {\n            return (\n              <CategoryCard\n                key={category}\n                category={category}\n                destinations={categoryDestinations[category]}\n                checked={preferences[category]}\n                handleChange={this.handleChange}\n              />\n            );\n          }\n          return;\n        })}\n        <CategoryCard\n          key={'required'}\n          category={'required'}\n          destinations={[]}\n          checked={true}\n          handleChange={doNothing}\n          disableUncheck={true}\n        />\n      </ContentContainer>\n    );\n  }\n}\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  titleGeneral: {\n    id: 'app.containers.AdminPage.ProjectEdit.titleGeneral',\n    defaultMessage: 'General settings for the project',\n  },\n  subtitleGeneral: {\n    id: 'app.containers.AdminPage.ProjectEdit.subtitleGeneral',\n    defaultMessage: 'Personalize your project. You can change it at anytime.',\n  },\n  noTitleErrorMessage: {\n    id: 'app.containers.AdminPage.ProjectEdit.noTitleErrorMessage',\n    defaultMessage: 'Please enter a project title',\n  },\n  statusLabel: {\n    id: 'app.containers.AdminPage.ProjectEdit.statusLabel',\n    defaultMessage: 'Publication status',\n  },\n  publicationStatusTooltip: {\n    id:\n      'app.containers.AdminPage.ProjectEdit.generalTab.publicationStatusTooltip',\n    defaultMessage:\n      'Choose whether this project is \"draft\", \"published\" or \"archived\" (not shown, shown and active, shown but inactive)',\n  },\n  draftStatus: {\n    id: 'app.containers.AdminPage.ProjectEdit.draftStatus',\n    defaultMessage: 'Draft',\n  },\n  publishedStatus: {\n    id: 'app.containers.AdminPage.ProjectEdit.publishedStatus',\n    defaultMessage: 'Published',\n  },\n  archivedStatus: {\n    id: 'app.containers.AdminPage.ProjectEdit.archivedStatus',\n    defaultMessage: 'Archived',\n  },\n  titleLabel: {\n    id: 'app.containers.AdminPage.ProjectEdit.titleLabel',\n    defaultMessage: 'Title',\n  },\n  titleLabelTooltip: {\n    id: 'app.containers.AdminPage.ProjectEdit.titleLabelTooltip',\n    defaultMessage:\n      'Choose a title that is short, engaging and clear. It will be shown in the dropdown overview and on the project cards on the home page.',\n  },\n  projectTypeTitle: {\n    id: 'app.containers.AdminPage.ProjectEdit.projectTypeTitle',\n    defaultMessage: 'Project type',\n  },\n  projectTypeWarning: {\n    id: 'app.containers.AdminPage.ProjectEdit.projectTypeWarning',\n    defaultMessage: 'The project type can not be changed later.',\n  },\n  projectTypeTooltip: {\n    id: 'app.containers.AdminPage.ProjectEdit.projectTypeTooltip',\n    defaultMessage:\n      'Projects with a timeline have a clear beginning and end and can have different phases. Projects without a timeline are continuous.',\n  },\n  continuous: {\n    id: 'app.containers.AdminPage.ProjectEdit.continuous',\n    defaultMessage: 'Continuous',\n  },\n  timeline: {\n    id: 'app.containers.AdminPage.ProjectEdit.timeline',\n    defaultMessage: 'Timeline',\n  },\n  areasLabel: {\n    id: 'app.containers.AdminPage.ProjectEdit.areasLabel',\n    defaultMessage: 'Areas',\n  },\n  areasLabelTooltip: {\n    id: 'app.containers.AdminPage.ProjectEdit.areasLabelTooltip',\n    defaultMessage:\n      'Indicate on what geographical areas this project applies. The areas can be set {areasLabelTooltipLink}.',\n  },\n  areasLabelTooltipLinkText: {\n    id: 'app.containers.AdminPage.ProjectEdit.areasLabelTooltipLinkText',\n    defaultMessage: 'here',\n  },\n  areasAllLabel: {\n    id: 'app.containers.AdminPage.ProjectEdit.areasAllLabel',\n    defaultMessage: 'All Areas',\n  },\n  areasSelectionLabel: {\n    id: 'app.containers.AdminPage.ProjectEdit.areasSelectionLabel',\n    defaultMessage: 'Selection',\n  },\n  headerImageLabelText: {\n    id: 'app.containers.AdminPage.ProjectEdit.headerImageLabelText',\n    defaultMessage: 'Header image',\n  },\n  headerImageLabelTooltip: {\n    id: 'app.containers.AdminPage.ProjectEdit.headerImageLabelTooltip',\n    defaultMessage:\n      'This image will be shown on top of the project page. The ideal dimensions are described in {imageSupportArticleLink}.',\n  },\n  projectCardImageLabelText: {\n    id: 'app.containers.AdminPage.ProjectEdit.projectCardImageLabelText',\n    defaultMessage: 'Project card image',\n  },\n  projectCardImageLabelTooltip: {\n    id: 'app.containers.AdminPage.ProjectEdit.projectCardImageLabelTooltip',\n    defaultMessage:\n      'This image will be shown on the project card on the home page. The ideal dimensions are a width of 1440 pixels and a height between 1440 and 720 pixels.',\n  },\n  fileUploadLabel: {\n    id: 'app.containers.AdminPage.ProjectEdit.fileUploadLabel',\n    defaultMessage: 'Attach files to this project',\n  },\n  fileUploadLabelTooltip: {\n    id: 'app.containers.AdminPage.ProjectEdit.fileUploadLabelTooltip',\n    defaultMessage:\n      'Files should not be larger than 50Mb. Added files will be shown on the project information page.',\n  },\n  saveProject: {\n    id: 'app.containers.AdminPage.ProjectEdit.saveProject',\n    defaultMessage: 'Save',\n  },\n  saveSuccess: {\n    id: 'app.containers.AdminPage.ProjectEdit.saveSuccess',\n    defaultMessage: 'Success!',\n  },\n  saveSuccessMessage: {\n    id: 'app.containers.AdminPage.ProjectEdit.saveSuccessMessage',\n    defaultMessage: 'Your form has been saved!',\n  },\n  saveErrorMessage: {\n    id: 'app.containers.AdminPage.ProjectEdit.saveErrorMessage',\n    defaultMessage:\n      'An error occurred while saving your data. Please try again.',\n  },\n  imageSupportArticleLinkTarget: {\n    id: 'app.containers.AdminPage.ProjectEdit.imageSupportArticleLinkTarget',\n    defaultMessage:\n      'http://support.citizenlab.co/en/articles/1346397-what-are-the-recommended-dimensions-and-sizes-of-the-platform-images',\n  },\n  imageSupportArticleLinkText: {\n    id: 'app.containers.AdminPage.ProjectEdit.imageSupportArticleLinkText',\n    defaultMessage: 'this article',\n  },\n  projectName: {\n    id: 'app.containers.AdminPage.ProjectEdit.projectName',\n    defaultMessage: 'Project name',\n  },\n  projectUrl: {\n    id: 'app.containers.AdminPage.ProjectEdit.projectUrl',\n    defaultMessage: 'Project URL',\n  },\n  urlSlugLabel: {\n    id: 'app.containers.AdminPage.ProjectEdit.urlSlugLabel',\n    defaultMessage: 'Project slug',\n  },\n  urlSlugTooltip: {\n    id: 'app.containers.AdminPage.ProjectEdit.urlSlugTooltip',\n    defaultMessage:\n      \"You can specify the last part of your project page's URL (called the slug). For example, the current project's URL is {currentProjectURL}, where {currentProjectSlug} is the slug.\",\n  },\n  urlSlugBrokenLinkWarning: {\n    id: 'app.containers.AdminPage.ProjectEdit.urlSlugBrokenLinkWarning',\n    defaultMessage:\n      'If you change the project URL, links to the project page using the old URL will no longer work.',\n  },\n  regexError: {\n    id: 'app.containers.AdminPage.ProjectEdit.regexError',\n    defaultMessage:\n      'The slug can only contain regular, lowercase letters (a-z), numbers (0-9) and hyphens (-). The first and last characters cannot be hyphens. Consecutive hyphens (--) are forbidden.',\n  },\n  resultingURL: {\n    id: 'app.containers.AdminPage.ProjectEdit.resultingURL',\n    defaultMessage: 'Resulting project URL',\n  },\n});\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  topicsTab: {\n    id: 'app.containers.AdminPage.ProjectEdit.topicsTab',\n    defaultMessage: 'Topics',\n  },\n  tabTopics: {\n    id: 'app.containers.AdminPage.SettingsPage.tabTopics',\n    defaultMessage: 'Topic manager',\n  },\n});\n","import React from 'react';\nimport { adopt } from 'react-adopt';\n\n// libraries\nimport { Helmet } from 'react-helmet';\n\n// resources\nimport GetLocale, { GetLocaleChildProps } from 'resources/GetLocale';\nimport GetAppConfiguration, {\n  GetAppConfigurationChildProps,\n} from 'resources/GetAppConfiguration';\nimport GetAuthUser, { GetAuthUserChildProps } from 'resources/GetAuthUser';\n\n// i18n\nimport messages from './messages';\nimport { getLocalized } from 'utils/i18n';\nimport { InjectedIntlProps } from 'react-intl';\nimport { injectIntl } from 'utils/cl-intl';\n\n// utils\nimport { isNilOrError } from 'utils/helperUtils';\nimport { imageSizes } from 'utils/fileTools';\nimport { API_PATH } from 'containers/App/constants';\nimport getCanonicalLink from 'utils/cl-router/getCanonicalLink';\nimport getAlternateLinks from 'utils/cl-router/getAlternateLinks';\n\ninterface InputProps {}\n\ninterface DataProps {\n  locale: GetLocaleChildProps;\n  tenant: GetAppConfigurationChildProps;\n  authUser: GetAuthUserChildProps;\n}\n\ninterface Props extends InputProps, DataProps {}\n\nconst Meta: React.SFC<Props & InjectedIntlProps> = ({\n  locale,\n  tenant,\n  authUser,\n  intl,\n}) => {\n  if (!isNilOrError(locale) && !isNilOrError(tenant)) {\n    const { formatMessage } = intl;\n    const tenantLocales = tenant.attributes.settings.core.locales;\n    const headerBg =\n      tenant.attributes.header_bg && tenant.attributes.header_bg.large\n        ? tenant.attributes.header_bg.large\n        : '';\n    const organizationNameMultiLoc =\n      tenant.attributes.settings.core.organization_name;\n    const organizationName = getLocalized(\n      organizationNameMultiLoc,\n      locale,\n      tenantLocales\n    );\n    const url = `https://${tenant.attributes.host}`;\n    const fbAppId =\n      tenant.attributes.settings.facebook_login &&\n      tenant.attributes.settings.facebook_login.app_id;\n\n    const metaTitleMultiLoc = tenant.attributes.settings.core.meta_title;\n    let metaTitle = getLocalized(metaTitleMultiLoc, locale, tenantLocales, 50);\n    metaTitle = metaTitle || formatMessage(messages.metaTitle);\n\n    const metaDescriptionMultiLoc =\n      tenant.attributes.settings.core.meta_description;\n    let metaDescription = getLocalized(\n      metaDescriptionMultiLoc,\n      locale,\n      tenantLocales\n    );\n    metaDescription =\n      metaDescription || formatMessage(messages.appMetaDescription);\n\n    const lifecycleStage = tenant.attributes.settings.core.lifecycle_stage;\n    const blockIndexing = !['active', 'churned'].includes(lifecycleStage);\n\n    return (\n      <Helmet>\n        <html lang={locale} />\n        {blockIndexing && <meta name=\"robots\" content=\"noindex\" />}\n        <title>\n          {`${\n            authUser && authUser.attributes.unread_notifications\n              ? `(${authUser.attributes.unread_notifications}) `\n              : ''\n          }\n            ${metaTitle}`}\n        </title>\n        {/* https://github.com/nfl/react-helmet/issues/279 href comes first! */}\n        {getCanonicalLink()}\n        {getAlternateLinks(tenantLocales)}\n        <meta name=\"title\" content={metaTitle} />\n        <meta name=\"description\" content={metaDescription} />\n        <meta property=\"og:title\" content={metaTitle} />\n        <meta property=\"og:type\" content=\"website\" />\n        <meta property=\"og:description\" content={metaDescription} />\n        <meta property=\"og:image\" content={headerBg} />\n        <meta\n          property=\"og:image:width\"\n          content={`${imageSizes.headerBg.large[0]}`}\n        />\n        <meta\n          property=\"og:image:height\"\n          content={`${imageSizes.headerBg.large[1]}`}\n        />\n        <meta property=\"og:url\" content={`${url}/${locale}`} />\n        <meta name=\"twitter:card\" content=\"summary_large_image\" />\n        <meta property=\"fb:app_id\" content={fbAppId} />\n        <meta property=\"og:site_name\" content={organizationName} />\n        <meta name=\"application-name\" content={organizationName} />\n        {tenant.attributes.favicon && tenant.attributes.favicon.medium && (\n          <link\n            rel=\"icon\"\n            sizes=\"32x32\"\n            href={tenant.attributes.favicon.medium}\n          />\n        )}\n        {tenant.attributes.favicon && tenant.attributes.favicon.small && (\n          <link\n            rel=\"icon\"\n            sizes=\"16x16\"\n            href={tenant.attributes.favicon.small}\n          />\n        )}\n        {tenant.attributes.favicon && tenant.attributes.favicon.large && (\n          <link\n            rel=\"apple-touch-icon\"\n            sizes=\"152x152\"\n            href={tenant.attributes.favicon.large}\n          />\n        )}\n        {tenant.attributes.favicon && tenant.attributes.favicon.large && (\n          <link rel=\"manifest\" href={`${API_PATH}/manifest.json`} />\n        )}\n      </Helmet>\n    );\n  }\n\n  return null;\n};\n\nconst Data = adopt<DataProps, InputProps>({\n  locale: <GetLocale />,\n  tenant: <GetAppConfiguration />,\n  authUser: <GetAuthUser />,\n});\n\nconst MetaWithHoc = injectIntl<Props>(Meta);\n\nexport default (inputProps: InputProps) => (\n  <Data {...inputProps}>\n    {(dataProps) => <MetaWithHoc {...inputProps} {...dataProps} />}\n  </Data>\n);\n","import React, { memo } from 'react';\nimport { IOption } from 'typings';\nimport useTopics from 'hooks/useTopics';\nimport useLocalize from 'hooks/useLocalize';\nimport MultipleSelect from 'components/UI/MultipleSelect';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { ITopicData } from 'services/topics';\n\nexport interface Props {\n  value: string;\n  onChange: (value: string[]) => void;\n}\n\nconst TopicValuesSelector = memo(({ value, onChange }: Props) => {\n  const topics = useTopics({});\n  const localize = useLocalize();\n  const generateOptions = (): IOption[] => {\n    if (!isNilOrError(topics)) {\n      return topics\n        .filter((topic) => !isNilOrError(topic))\n        .map((topic: ITopicData) => {\n          return {\n            value: topic.id,\n            label: localize(topic.attributes.title_multiloc),\n          };\n        });\n    } else {\n      return [];\n    }\n  };\n\n  const handleOnChange = (options: IOption[]) => {\n    const optionIds = options.map((o) => o.value);\n    onChange(optionIds);\n  };\n\n  return (\n    <MultipleSelect\n      value={value}\n      options={generateOptions()}\n      onChange={handleOnChange}\n    />\n  );\n});\n\nexport default TopicValuesSelector;\n","import React from 'react';\nimport { removeUrlLocale } from 'services/locale';\nimport { isPage } from 'utils/helperUtils';\n\n/**\n * Make url without locale the canonical of a certain page.\n * E.g. our URL = https://youth4climate.be/nl-BE/.\n * This function will turn it into the following link element to put in the head element of the page:\n * <link rel=\"canonical\" href=\"https://youth4climate.be/\"/>.\n * This lets Google know it should show 'https://youth4climate.be/' in the search results, not the version with locale\n */\nexport default function getCanonicalLink() {\n  const pathName = location.pathname;\n  return !isPage('admin', pathName) ? (\n    <link\n      rel=\"canonical\"\n      href={`${location.origin}${removeUrlLocale(pathName)}`}\n    />\n  ) : null;\n}\n","import React, { memo, useCallback } from 'react';\nimport { isNilOrError } from 'utils/helperUtils';\n\n// hooks\nimport useAuthUser from 'hooks/useAuthUser';\n\n// components\nimport FeatureFlag from 'components/FeatureFlag';\nimport { FormSection } from 'components/UI/FormComponents';\nimport Button from 'components/UI/Button';\nimport { Icon } from 'cl2-component-library';\nimport Avatar from 'components/Avatar';\n\n// i18n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from 'containers/UsersEditPage/messages';\n\n// styling\nimport styled from 'styled-components';\nimport { fontSizes, colors, media } from 'utils/styleUtils';\nimport { darken } from 'polished';\nimport { openVerificationModal } from 'components/Verification/verificationModalEvents';\n\nconst Container = styled(FormSection)`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 30px 40px;\n\n  ${media.smallerThanMaxTablet`\n    flex-direction: column;\n    align-items: flex-start;\n    justify-content: left;\n  `}\n`;\n\nconst AvatarAndShield = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst StyledAvatar = styled(Avatar)`\n  margin-right: -4px;\n  z-index: 2;\n`;\n\nconst ShieldIcon = styled(Icon)`\n  fill: ${colors.label};\n  width: 48px;\n  height: 53px;\n  margin-left: -4px;\n`;\n\nconst Content = styled.div`\n  margin-left: 30px;\n  margin-right: 20px;\n\n  ${media.smallerThanMaxTablet`\n    text-align: left;\n    margin-left: 0px;\n    margin-right: 0px;\n    margin-top: 20px;\n    margin-bottom: 20px;\n  `}\n`;\n\nconst Title = styled.h2`\n  font-size: ${fontSizes.xl}px;\n  font-weight: 600;\n  line-height: 28px;\n  padding: 0;\n  margin: 0;\n`;\n\nconst Text = styled.p`\n  color: ${colors.text};\n  font-size: ${fontSizes.base}px;\n  font-weight: 300;\n  line-height: normal;\n  margin: 0px;\n  margin-top: 16px;\n`;\n\nconst StyledText = styled(Text)`\n  margin-top: 10px;\n`;\n\nconst VerifyButton = styled(Button)``;\n\nconst ReverifyButton = styled.button`\n  color: ${colors.clBlueDark};\n  font-size: ${fontSizes.base}px;\n  font-weight: 300;\n  line-height: normal;\n  white-space: normal;\n  text-align: left;\n  text-decoration: underline;\n  display: inline;\n  padding: 0px;\n  margin: 0px;\n  border: none;\n  cursor: pointer;\n\n  &:hover {\n    color: ${darken(0.15, colors.clBlueDark)};\n    text-decoration: underline;\n  }\n`;\n\nconst VerificationStatus = memo(({ className }: { className?: string }) => {\n  const authUser = useAuthUser();\n\n  const onVerify = useCallback(() => {\n    openVerificationModal();\n  }, []);\n\n  if (isNilOrError(authUser)) return null;\n\n  const authUserIsVerified = authUser.attributes.verified;\n\n  const reverifyButton = (\n    <ReverifyButton className=\"e2e-reverify-user-button\" onClick={onVerify}>\n      <FormattedMessage {...messages.clickHereToUpdateVerification} />\n    </ReverifyButton>\n  );\n\n  return (\n    <FeatureFlag name=\"verification\">\n      <Container\n        id=\"e2e-verification-status\"\n        className={`${className} e2e${\n          authUserIsVerified ? '' : '-not'\n        }-verified`}\n      >\n        {authUserIsVerified ? (\n          <>\n            <StyledAvatar\n              userId={authUser.id}\n              size={52}\n              addVerificationBadge\n              aria-hidden\n            />\n            <Content>\n              <Title>\n                <FormattedMessage {...messages.verifiedIdentityTitle} />\n              </Title>\n              <Text>\n                <FormattedMessage {...messages.verifiedIdentitySubtitle} />\n              </Text>\n              <Text>\n                <FormattedMessage\n                  {...messages.updateverification}\n                  values={{ reverifyButton }}\n                />\n              </Text>\n            </Content>\n          </>\n        ) : (\n          <>\n            <AvatarAndShield aria-hidden>\n              <StyledAvatar\n                userId={authUser?.id}\n                size={52}\n                bgColor=\"transparent\"\n                padding={0}\n                borderThickness={2}\n                borderColor=\"#fff\"\n              />\n              <ShieldIcon name=\"verify_dark\" />\n            </AvatarAndShield>\n            <Content>\n              <Title>\n                <FormattedMessage {...messages.becomeVerifiedTitle} />\n              </Title>\n              <StyledText>\n                <FormattedMessage {...messages.becomeVerifiedSubtitle} />\n              </StyledText>\n            </Content>\n            <VerifyButton onClick={onVerify} id=\"e2e-verify-user-button\">\n              <FormattedMessage {...messages.verifyNow} />\n            </VerifyButton>\n          </>\n        )}\n      </Container>\n    </FeatureFlag>\n  );\n});\n\nexport default VerificationStatus;\n","import { useState, useEffect } from 'react';\nimport { Observable, of } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport {\n  IGroupsProjectsData,\n  groupsProjectsByProjectIdStream,\n} from 'services/groupsProjects';\n\ninterface Props {\n  projectId: string;\n}\n\nexport default function useProjectGroups({ projectId }: Props) {\n  const [projectGroups, setProjectGroups] = useState<\n    IGroupsProjectsData[] | undefined | null | Error\n  >(undefined);\n\n  useEffect(() => {\n    let observable: Observable<IGroupsProjectsData[] | null> = of(null);\n\n    observable = groupsProjectsByProjectIdStream(projectId).observable.pipe(\n      map((groups) => groups.data.filter((group) => group))\n    );\n\n    const subscription = observable.subscribe((groups) => {\n      setProjectGroups(groups);\n    });\n\n    return () => subscription.unsubscribe();\n  }, [projectId]);\n\n  return projectGroups;\n}\n","import React from 'react';\nimport FormattedMessage from 'utils/cl-intl/FormattedMessage';\nimport messages from './messages';\n\nconst SmartGroupModalHeader = () => (\n  <FormattedMessage {...messages.modalHeaderRules} />\n);\n\nexport default SmartGroupModalHeader;\n","import { authUserStream } from 'services/auth';\nimport { IUser } from 'services/users';\nimport { isObject } from 'lodash-es';\nimport { combineLatest } from 'rxjs';\nimport {\n  currentAppConfigurationStream,\n  IAppConfigurationData,\n} from 'services/appConfiguration';\nimport { map } from 'rxjs/operators';\n\nexport type TPermissionItem = IResourceData | IRouteItem | TResourceType;\n\ninterface IResourceData {\n  type: string;\n  [key: string]: any;\n}\n\nexport interface IRouteItem {\n  type: 'route';\n  path: string;\n}\n\ninterface IPermissionRule {\n  (\n    resource: TPermissionItem | null,\n    user: IUser | null,\n    tenant: IAppConfigurationData,\n    context?: any\n  ): boolean;\n}\n\ninterface IPermissionRules {\n  [key: string]: {\n    [key: string]: IPermissionRule;\n  };\n}\n\ntype TResourceType = string;\ntype TAction = string;\n\nconst permissionRules: IPermissionRules = {};\n\nconst isResource = (object: any): object is IResourceData => {\n  return isObject(object) && 'type' in object;\n};\n\nconst definePermissionRule = (\n  resourceType: TResourceType,\n  action: TAction,\n  rule: IPermissionRule\n) => {\n  permissionRules[resourceType] = {\n    ...(permissionRules[resourceType] || {}),\n    [action]: rule,\n  };\n};\n\nconst getPermissionRule = (resourceType: TResourceType, action: TAction) => {\n  return permissionRules[resourceType][action];\n};\n\n/**\n *\n * @param param0.item The data item\n * @param param0.action The action to apply to the item, typically a verb\n * @param param0.context Optional context argument that can be used to pass in aditional context to make the permissions decision\n */\nconst hasPermission = ({\n  item,\n  action,\n  context,\n}: {\n  item: TPermissionItem | null;\n  action: string;\n  context?: any;\n}) => {\n  return combineLatest(\n    authUserStream().observable,\n    currentAppConfigurationStream().observable\n  ).pipe(\n    map(([user, tenant]) => {\n      if (!item) {\n        return false;\n      }\n\n      const resourceType = isResource(item) ? item.type : item;\n      const rule = getPermissionRule(resourceType, action);\n\n      if (rule) {\n        return rule(item, user, tenant.data, context);\n      } else {\n        throw `No permission rule is specified on resource '${resourceType}' for action '${action}'`;\n      }\n    })\n  );\n};\n\nexport { definePermissionRule, hasPermission };\n","import { NormalFormValues } from 'containers/Admin/users/NormalGroupForm';\nimport React, { ReactNode } from 'react';\nimport { MembershipType } from 'resources/GetGroups';\nimport { IGroupDataAttributes } from 'services/groups';\nimport { FormikSubmitHandler } from 'typings';\nimport { ModuleConfiguration } from 'utils/moduleUtils';\nimport HeaderIcon from './components/HeaderIcon';\n\nimport ListItemIcon from './components/ListItemIcon';\nimport SmartGroupModalHeader from './components/SmartGroupModalHeader';\nimport SmartGroupType, {\n  SmartGroupTypeProps,\n} from './components/SmartGroupType';\nimport RulesGroupFormWithValidation from './containers/RulesGroupFormWithValidation';\n\ninterface RenderOnTypeProps {\n  type: MembershipType;\n  children: ReactNode;\n}\n\nconst RenderOnType = ({ type, children }: RenderOnTypeProps) => {\n  if (type === 'rules') {\n    return <>{children}</>;\n  }\n  return null;\n};\n\ninterface ModalHeaderOutletProps {\n  type: MembershipType;\n}\n\nconst ModalHeaderOutlet = ({ type }: ModalHeaderOutletProps) => (\n  <RenderOnType type={type}>\n    <SmartGroupModalHeader />\n  </RenderOnType>\n);\n\ninterface ModalFormOutletProps {\n  type: MembershipType;\n  onSubmit: FormikSubmitHandler<NormalFormValues>;\n  isVerificationEnabled: boolean;\n  initialValues: IGroupDataAttributes;\n}\n\nconst ModalFormOutlet = ({\n  type,\n  onSubmit,\n  isVerificationEnabled,\n  initialValues,\n}: ModalFormOutletProps) => (\n  <RenderOnType type={type}>\n    <RulesGroupFormWithValidation\n      initialValues={initialValues}\n      onSubmit={onSubmit}\n      isVerificationEnabled={isVerificationEnabled}\n    />\n  </RenderOnType>\n);\n\nconst configuration: ModuleConfiguration = {\n  outlets: {\n    'app.containers.Admin.users.GroupCreationStep1.type': ({\n      onClick,\n      formattedLink,\n    }: SmartGroupTypeProps) => (\n      <SmartGroupType onClick={onClick} formattedLink={formattedLink} />\n    ),\n    'app.containers.Admin.users.GroupsListPanel.listitem.icon': ({\n      type,\n    }: RenderOnTypeProps) => (\n      <RenderOnType type={type}>\n        <ListItemIcon />\n      </RenderOnType>\n    ),\n    'app.containers.Admin.users.UsersHeader.icon': ({\n      type,\n    }: RenderOnTypeProps) => (\n      <RenderOnType type={type}>\n        <HeaderIcon />\n      </RenderOnType>\n    ),\n    'app.containers.Admin.users.form': ModalFormOutlet,\n    'app.containers.Admin.users.UsersGroup.form': ModalFormOutlet,\n    'app.containers.Admin.users.UsersGroup.header': ModalHeaderOutlet,\n    'app.containers.Admin.users.header': ModalHeaderOutlet,\n  },\n};\n\nexport default configuration;\n","import { fontSizes, colors } from 'utils/styleUtils';\nimport styled from 'styled-components';\n\nexport const HeaderTitle = styled.h3`\n  display: flex;\n  align-items: center;\n  color: ${colors.adminTextColor};\n  font-size: ${fontSizes.xl}px;\n  font-weight: 400;\n  padding: 0;\n  margin: 0;\n  margin-right: 8px;\n`;\n\nexport const ListHeader = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  margin-bottom: 25px;\n\n  & ~ & {\n    margin-top: 70px;\n  }\n`;\n","import { API_PATH } from 'containers/App/constants';\nimport streams from 'utils/streams';\n\nexport interface IGroupsProjectsData {\n  id: string;\n  type: 'groups_project';\n  relationships: {\n    group: {\n      data: {\n        id: string;\n        type: 'group';\n      };\n      type: 'groups_project';\n    };\n  };\n}\n\nexport interface IGroupsProjects {\n  data: IGroupsProjectsData[];\n}\n\nexport function groupsProjectsByIdStream(groupsProjectsId: string) {\n  return streams.get<IGroupsProjects>({\n    apiEndpoint: `${API_PATH}/groups_projects/${groupsProjectsId}`,\n  });\n}\n\nexport function groupsProjectsByProjectIdStream(projectId: string) {\n  return streams.get<IGroupsProjects>({\n    apiEndpoint: `${API_PATH}/projects/${projectId}/groups_projects`,\n  });\n}\n\nexport async function addGroupProject(projectId: string, groupId: string) {\n  const bodyData = {\n    groups_project: {\n      group_id: groupId,\n    },\n  };\n\n  return streams.add<IGroupsProjects>(\n    `${API_PATH}/projects/${projectId}/groups_projects`,\n    bodyData\n  );\n}\n\nexport async function deleteGroupProject(groupProjectId: string) {\n  return streams.delete(\n    `${API_PATH}/groups_projects/${groupProjectId}`,\n    groupProjectId\n  );\n}\n","import React from 'react';\n\n// components\nimport { SectionField, SubSectionTitle } from 'components/admin/Section';\nimport { StyledSelect } from './styling';\n\n// i18n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from '../../messages';\n\n// typings\nimport { InputTerm } from 'services/participationContexts';\nimport { IOption } from 'cl2-component-library/dist/utils/typings';\n\ninterface Props {\n  input_term: InputTerm | undefined;\n  handleInputTermChange: (option: IOption) => void;\n  inputTermOptions: IOption[];\n}\n\nexport default ({\n  input_term,\n  handleInputTermChange,\n  inputTermOptions,\n}: Props) => (\n  <SectionField>\n    <SubSectionTitle>\n      <FormattedMessage {...messages.inputTermSelectLabel} />\n    </SubSectionTitle>\n    <StyledSelect\n      value={input_term}\n      options={inputTermOptions}\n      onChange={handleInputTermChange}\n    />\n  </SectionField>\n);\n","import { API_PATH } from 'containers/App/constants';\nimport streams from 'utils/streams';\n\nexport interface IVerificationMethodNamesMap {}\n\nexport type VerificationMethodNames = IVerificationMethodNamesMap[keyof IVerificationMethodNamesMap];\n\ntype IGenericMethod = {\n  id: string;\n  type: 'verification_method';\n  attributes: {\n    name: VerificationMethodNames;\n  };\n};\n\nexport interface IVerificationMethodMap {\n  generic: IGenericMethod;\n}\n\nexport type IVerificationMethod = IVerificationMethodMap[keyof IVerificationMethodMap];\n\nexport interface IVerificationMethods {\n  data: IVerificationMethod[];\n}\n\nexport function verificationMethodsStream() {\n  return streams.get<IVerificationMethods>({\n    apiEndpoint: `${API_PATH}/verification_methods`,\n  });\n}\n","import React, { PureComponent } from 'react';\nimport { adopt } from 'react-adopt';\nimport { withRouter, WithRouterProps } from 'react-router';\nimport clHistory from 'utils/cl-router/history';\n\n// libraries\nimport Link from 'utils/cl-router/Link';\n\n// components\nimport { Input } from 'cl2-component-library';\nimport PasswordInput from 'components/UI/PasswordInput';\nimport Button from 'components/UI/Button';\nimport Error from 'components/UI/Error';\nimport { FormLabel } from 'components/UI/FormComponents';\nimport { Options, Option } from 'components/SignUpIn/styles';\n\n// resources\nimport GetAppConfiguration, {\n  GetAppConfigurationChildProps,\n} from 'resources/GetAppConfiguration';\nimport GetWindowSize, {\n  GetWindowSizeChildProps,\n} from 'resources/GetWindowSize';\nimport GetFeatureFlag from 'resources/GetFeatureFlag';\n\n// services\nimport { signIn } from 'services/auth';\n\n// i18n\nimport { InjectedIntlProps } from 'react-intl';\nimport { injectIntl, FormattedMessage } from 'utils/cl-intl';\nimport messages from './messages';\n\n// utils\nimport { isValidEmail } from 'utils/validate';\nimport { isNilOrError } from 'utils/helperUtils';\n\n// analytics\nimport { trackEventByName } from 'utils/analytics';\nimport tracks from 'components/SignUpIn/tracks';\n\n// style\nimport styled from 'styled-components';\nimport { viewportWidths } from 'utils/styleUtils';\n\n// typings\nimport { ISignUpInMetaData } from 'components/SignUpIn';\n\nconst Container = styled.div`\n  flex: 1 1 auto;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst Form = styled.form`\n  width: 100%;\n`;\n\nconst FormElement = styled.div`\n  width: 100%;\n  margin-bottom: 16px;\n  position: relative;\n`;\n\nconst ButtonWrapper = styled.div`\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding-top: 10px;\n`;\n\nexport interface InputProps {\n  metaData: ISignUpInMetaData;\n  onSignInCompleted: (userId: string) => void;\n  onGoToSignUp: () => void;\n  onGoToLogInOptions: () => void;\n  className?: string;\n}\n\ninterface DataProps {\n  tenant: GetAppConfigurationChildProps;\n  windowSize: GetWindowSizeChildProps;\n  passwordLoginEnabled: boolean | null;\n  googleLoginEnabled: boolean | null;\n  facebookLoginEnabled: boolean | null;\n  azureAdLoginEnabled: boolean | null;\n  franceconnectLoginEnabled: boolean | null;\n}\n\ninterface Props extends InputProps, DataProps {}\n\ntype State = {\n  email: string | null;\n  password: string | null;\n  processing: boolean;\n  emailError: string | null;\n  signInError: string | null;\n  hasEmptyPasswordError: boolean;\n};\n\nclass PasswordSignin extends PureComponent<\n  Props & InjectedIntlProps & WithRouterProps,\n  State\n> {\n  emailInputElement: HTMLInputElement | null;\n  passwordInputElement: HTMLInputElement | null;\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: null,\n      password: null,\n      processing: false,\n      emailError: null,\n      signInError: null,\n      hasEmptyPasswordError: false,\n    };\n    this.emailInputElement = null;\n    this.passwordInputElement = null;\n  }\n\n  handleEmailOnChange = (email: string) => {\n    this.setState({\n      email,\n      emailError: null,\n      signInError: null,\n    });\n  };\n\n  componentDidMount() {\n    trackEventByName(tracks.signInEmailPasswordEntered);\n  }\n\n  componentWillUnmount() {\n    trackEventByName(tracks.signInEmailPasswordExited);\n  }\n\n  handlePasswordOnChange = (password: string) => {\n    this.setState({\n      password,\n      hasEmptyPasswordError: false,\n      signInError: null,\n    });\n  };\n\n  handleGoToLogInOptions = (event: React.FormEvent) => {\n    event.preventDefault();\n    this.props.onGoToLogInOptions();\n  };\n\n  handleGoToSignUp = (event: React.FormEvent) => {\n    event.preventDefault();\n\n    if (this.props.metaData?.inModal || this.props.metaData?.noPushLinks) {\n      this.props.onGoToSignUp();\n    } else {\n      clHistory.push('/sign-up');\n    }\n  };\n\n  validate(email: string | null) {\n    const {\n      intl: { formatMessage },\n      tenant,\n    } = this.props;\n    const { password } = this.state;\n    const phone =\n      !isNilOrError(tenant) && tenant.attributes.settings.password_login?.phone;\n    const hasEmailError = !phone && (!email || !isValidEmail(email));\n    const emailError = hasEmailError\n      ? !email\n        ? formatMessage(messages.noEmailError)\n        : formatMessage(messages.noValidEmailError)\n      : null;\n    const hasEmptyPasswordError = !password;\n\n    this.setState({ emailError, hasEmptyPasswordError });\n\n    if (emailError && this.emailInputElement) {\n      this.emailInputElement.focus();\n    }\n\n    if (!emailError && hasEmptyPasswordError && this.passwordInputElement) {\n      this.passwordInputElement.focus();\n    }\n\n    return !emailError && !hasEmptyPasswordError;\n  }\n\n  handleOnSubmit = async (event: React.FormEvent) => {\n    event.preventDefault();\n\n    const { onSignInCompleted } = this.props;\n    const { formatMessage } = this.props.intl;\n    const { email, password } = this.state;\n\n    if (this.validate(email) && email && password) {\n      try {\n        this.setState({ processing: true });\n        const user = await signIn(email, password);\n        trackEventByName(tracks.signInEmailPasswordCompleted);\n        onSignInCompleted(user.data.id);\n      } catch (error) {\n        trackEventByName(tracks.signInEmailPasswordFailed, { error });\n        const signInError = formatMessage(messages.signInError);\n        this.setState({ signInError, processing: false });\n      }\n    }\n  };\n\n  handleEmailInputSetRef = (element: HTMLInputElement) => {\n    if (element) {\n      this.emailInputElement = element;\n    }\n  };\n\n  handlePasswordInputSetRef = (element: HTMLInputElement) => {\n    this.passwordInputElement = element;\n  };\n\n  render() {\n    const {\n      email,\n      password,\n      processing,\n      emailError,\n      signInError,\n      hasEmptyPasswordError,\n    } = this.state;\n    const {\n      className,\n      tenant,\n      windowSize,\n      passwordLoginEnabled,\n      googleLoginEnabled,\n      facebookLoginEnabled,\n      azureAdLoginEnabled,\n      franceconnectLoginEnabled,\n    } = this.props;\n    const { formatMessage } = this.props.intl;\n    const phone =\n      !isNilOrError(tenant) && tenant.attributes.settings.password_login?.phone;\n    const enabledProviders = [\n      passwordLoginEnabled,\n      googleLoginEnabled,\n      facebookLoginEnabled,\n      azureAdLoginEnabled,\n      franceconnectLoginEnabled,\n    ].filter((provider) => provider === true);\n    const isDesktop = windowSize\n      ? windowSize > viewportWidths.largeTablet\n      : true;\n\n    return (\n      <Container\n        id=\"e2e-sign-in-email-password-container\"\n        className={className || ''}\n      >\n        <Form id=\"signin\" onSubmit={this.handleOnSubmit} noValidate={true}>\n          <FormElement>\n            <FormLabel\n              htmlFor=\"email\"\n              labelMessage={\n                phone ? messages.emailOrPhoneLabel : messages.emailLabel\n              }\n            />\n            <Input\n              type=\"email\"\n              id=\"email\"\n              value={email}\n              error={emailError}\n              onChange={this.handleEmailOnChange}\n              setRef={this.handleEmailInputSetRef}\n              autocomplete=\"email\"\n              autoFocus={!!(isDesktop && !this.props.metaData?.noAutofocus)}\n            />\n          </FormElement>\n\n          <FormElement>\n            <FormLabel\n              htmlFor=\"password\"\n              labelMessage={messages.passwordLabel}\n            />\n            <PasswordInput\n              id=\"password\"\n              password={password}\n              onChange={this.handlePasswordOnChange}\n              setRef={this.handlePasswordInputSetRef}\n              autocomplete=\"current-password\"\n              isLoginPasswordInput\n              errors={{ emptyError: hasEmptyPasswordError }}\n            />\n          </FormElement>\n\n          <FormElement>\n            <ButtonWrapper>\n              <Button\n                onClick={this.handleOnSubmit}\n                processing={processing}\n                text={formatMessage(messages.submit)}\n                id=\"e2e-signin-password-submit-button\"\n              />\n            </ButtonWrapper>\n            <Error marginTop=\"10px\" text={signInError} />\n          </FormElement>\n        </Form>\n\n        <Options>\n          <Option>\n            <Link\n              to=\"/password-recovery\"\n              className=\"link e2e-password-recovery-link\"\n            >\n              <FormattedMessage {...messages.forgotPassword2} />\n            </Link>\n          </Option>\n          <Option>\n            {enabledProviders.length > 1 ? (\n              <button\n                id=\"e2e-login-options\"\n                onClick={this.handleGoToLogInOptions}\n                className=\"link\"\n              >\n                <FormattedMessage {...messages.backToLoginOptions} />\n              </button>\n            ) : (\n              <FormattedMessage\n                {...messages.goToSignUp}\n                values={{\n                  goToOtherFlowLink: (\n                    <button\n                      id=\"e2e-goto-signup\"\n                      onClick={this.handleGoToSignUp}\n                    >\n                      {formatMessage(messages.signUp)}\n                    </button>\n                  ),\n                }}\n              />\n            )}\n          </Option>\n        </Options>\n      </Container>\n    );\n  }\n}\n\nconst PasswordSigninWithHoC = withRouter<Props>(injectIntl(PasswordSignin));\n\nconst Data = adopt<DataProps>({\n  tenant: <GetAppConfiguration />,\n  windowSize: <GetWindowSize />,\n  passwordLoginEnabled: <GetFeatureFlag name=\"password_login\" />,\n  googleLoginEnabled: <GetFeatureFlag name=\"google_login\" />,\n  facebookLoginEnabled: <GetFeatureFlag name=\"facebook_login\" />,\n  azureAdLoginEnabled: <GetFeatureFlag name=\"azure_ad_login\" />,\n  franceconnectLoginEnabled: <GetFeatureFlag name=\"franceconnect_login\" />,\n});\n\nexport default (inputProps: InputProps) => (\n  <Data>\n    {(dataProps) => <PasswordSigninWithHoC {...inputProps} {...dataProps} />}\n  </Data>\n);\n","import React, { useCallback } from 'react';\n\n// typings\nimport { IVerificationMethod } from 'services/verificationMethods';\n\n// components\nimport VerificationMethodButton from 'modules/commercial/verification/citizen/components/VerificationMethodButton';\n\n// i18n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from '../messages';\n\ninterface Props {\n  method: IVerificationMethod;\n  onMethodSelected: () => void;\n  last: boolean;\n}\n\nconst GentRrnButton = ({ method, last, onMethodSelected }: Props) => {\n  const handleOnClick = useCallback(() => {\n    onMethodSelected();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <VerificationMethodButton\n      key={method.id}\n      id={`e2e-${method.attributes.name}-button`}\n      className={last ? 'last' : ''}\n      onClick={handleOnClick}\n    >\n      <FormattedMessage {...messages.verifyGentRrn} />\n    </VerificationMethodButton>\n  );\n};\n\nexport default GentRrnButton;\n","import { API_PATH } from 'containers/App/constants';\nimport streams from 'utils/streams';\nimport { IUsers } from 'services/users';\n\nconst indexPath = (projectFolderId: string) =>\n  `${API_PATH}/project_folders/${projectFolderId}/moderators`;\n\nconst showPath = (projectFolderId: string, moderatorId: string) =>\n  `${indexPath(projectFolderId)}/${moderatorId}`;\n\nexport function folderModeratorsStream(projectFolderId: string) {\n  return streams.get<IUsers>({\n    apiEndpoint: indexPath(projectFolderId),\n    queryParameters: { project_folder_id: projectFolderId },\n  });\n}\n\nexport async function deleteFolderModerator(\n  projectFolderId: string,\n  moderatorId: string\n) {\n  const response = await streams.delete(\n    showPath(projectFolderId, moderatorId),\n    moderatorId,\n    true\n  );\n  await streams.fetchAllWith({\n    apiEndpoint: [indexPath(projectFolderId)],\n  });\n  return response;\n}\n\nexport async function addFolderModerator(\n  projectFolderId: string,\n  moderatorId: string\n) {\n  const response = await streams.add(indexPath(projectFolderId), {\n    project_folder_moderator: {\n      user_id: moderatorId,\n    },\n  });\n  await streams.fetchAllWith({\n    apiEndpoint: [indexPath(projectFolderId)],\n  });\n  return response;\n}\n","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { fontSizes } from 'utils/styleUtils';\nimport { isNilOrError } from 'utils/helperUtils';\n\n// components\nimport {\n  Section,\n  SubSectionTitle,\n  SectionField,\n} from 'components/admin/Section';\nimport { Radio } from 'cl2-component-library';\nimport ProjectGroupsList from '../components/ProjectGroupsList';\n\n// i18n\nimport { InjectedIntlProps } from 'react-intl';\nimport { injectIntl, FormattedMessage } from 'utils/cl-intl';\nimport messages from './messages';\nimport permissionsMessages from 'containers/Admin/projects/edit/permissions/messages';\n\n// services\nimport { updateProject } from 'services/projects';\n\n// hooks\nimport useProject from 'hooks/useProject';\n\nconst ViewingRightsSection = styled(Section)`\n  margin-bottom: 30px;\n`;\n\nconst StyledSectionField = styled(SectionField)`\n  margin-bottom: 5px;\n`;\n\nconst RadioButtonsWrapper = styled.fieldset`\n  border: none;\n  padding: 0;\n  margin-bottom: 10px;\n`;\n\nconst StyledRadio = styled(Radio)`\n  margin-bottom: 10px;\n  cursor: pointer;\n\n  .text {\n    font-size: ${fontSizes.base}px;\n    font-weight: 400;\n    line-height: 22px;\n  }\n`;\n\ninterface Props {\n  projectId: string;\n}\n\nconst ProjectVisibility = ({\n  projectId,\n  intl: { formatMessage },\n}: Props & InjectedIntlProps) => {\n  const project = useProject({ projectId });\n\n  const [projectVisibility, setProjectVisibility] = useState<\n    'public' | 'admins' | 'groups'\n  >(!isNilOrError(project) ? project.attributes.visible_to : 'public');\n\n  useEffect(() => {\n    if (!isNilOrError(project)) {\n      setProjectVisibility(project.attributes.visible_to);\n    }\n  }, [project]);\n\n  const handlePermissionTypeChange = (\n    projectVisibility: 'public' | 'groups' | 'admins'\n  ) => {\n    updateProject(projectId, { visible_to: projectVisibility });\n  };\n\n  const noOp = () => {\n    // empty\n  };\n\n  return (\n    <ViewingRightsSection>\n      <StyledSectionField>\n        <SubSectionTitle>\n          <FormattedMessage {...messages.viewingRightsTitle} />\n        </SubSectionTitle>\n\n        <RadioButtonsWrapper>\n          <StyledRadio\n            onChange={handlePermissionTypeChange}\n            currentValue={projectVisibility}\n            name=\"permissionsType\"\n            label={formatMessage(permissionsMessages.permissionsEveryoneLabel)}\n            value=\"public\"\n            id=\"permissions-all\"\n          />\n          <StyledRadio\n            onChange={handlePermissionTypeChange}\n            currentValue={projectVisibility}\n            name=\"permissionsType\"\n            label={formatMessage(permissionsMessages.permissionsAdministrators)}\n            value=\"admins\"\n            id=\"permissions-administrators\"\n          />\n          <StyledRadio\n            onChange={handlePermissionTypeChange}\n            currentValue={projectVisibility}\n            name=\"permissionsType\"\n            label={formatMessage(permissionsMessages.permissionsSelectionLabel)}\n            value=\"groups\"\n            id=\"permissions-selection\"\n          />\n        </RadioButtonsWrapper>\n      </StyledSectionField>\n\n      {projectVisibility === 'groups' && (\n        <ProjectGroupsList projectId={projectId} onAddButtonClicked={noOp} />\n      )}\n    </ViewingRightsSection>\n  );\n};\n\nexport default injectIntl(ProjectVisibility);\n","import React, { memo } from 'react';\nimport { TRule } from '../rules';\nimport { IOption } from 'typings';\nimport GetProjects, { GetProjectsChildProps } from 'resources/GetProjects';\nimport { Select } from 'cl2-component-library';\nimport useLocalize from 'hooks/useLocalize';\nimport { isNilOrError } from 'utils/helperUtils';\n\nexport interface Props {\n  rule: TRule;\n  value: string;\n  onChange: (value: string) => void;\n  projects: GetProjectsChildProps;\n}\n\nconst ProjectValueSelector = memo(({ value, onChange, projects }: Props) => {\n  const localize = useLocalize();\n  const generateOptions = (): IOption[] => {\n    if (!isNilOrError(projects) && projects.projectsList) {\n      return projects.projectsList.map((project) => {\n        return {\n          value: project.id,\n          label: localize(project.attributes.title_multiloc),\n        };\n      });\n    } else {\n      return [];\n    }\n  };\n\n  const handleOnChange = (option: IOption) => {\n    onChange(option.value);\n  };\n\n  return (\n    <Select\n      value={value}\n      options={generateOptions()}\n      onChange={handleOnChange}\n    />\n  );\n});\n\nexport default (inputProps: Props) => (\n  <GetProjects publicationStatuses={['draft', 'published', 'archived']}>\n    {(projects) => <ProjectValueSelector {...inputProps} projects={projects} />}\n  </GetProjects>\n);\n","import React, { ReactNode } from 'react';\nimport { ModuleConfiguration } from 'utils/moduleUtils';\nimport Tab from './admin/components/Tab';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { IProjectData } from 'services/projects';\nimport { IPhaseData } from 'services/phases';\n\ntype RenderOnHideTabConditionProps = {\n  project: IProjectData;\n  phases: IPhaseData[] | null;\n  children: ReactNode;\n};\n\nconst RenderOnHideTabCondition = (props: RenderOnHideTabConditionProps) => {\n  const { project, phases, children } = props;\n  const processType = project.attributes.process_type;\n  const participationMethod = project.attributes.participation_method;\n  const hideTab =\n    (processType === 'continuous' &&\n      participationMethod !== 'ideation' &&\n      participationMethod !== 'budgeting') ||\n    (processType === 'timeline' &&\n      !isNilOrError(phases) &&\n      phases.filter((phase) => {\n        return (\n          phase.attributes.participation_method === 'ideation' ||\n          phase.attributes.participation_method === 'budgeting'\n        );\n      }).length === 0);\n\n  if (hideTab) {\n    return null;\n  }\n\n  return <>{children}</>;\n};\n\nconst configuration: ModuleConfiguration = {\n  routes: {\n    'admin.projects': [\n      {\n        path: '/:locale/admin/projects/:projectId/ideaform',\n        name: 'ideaform',\n        container: () => import('./admin/containers/projects/edit/ideaform'),\n      },\n    ],\n  },\n  outlets: {\n    'app.containers.Admin.projects.edit': (props) => {\n      return (\n        <RenderOnHideTabCondition project={props.project} phases={props.phases}>\n          <Tab {...props} />\n        </RenderOnHideTabCondition>\n      );\n    },\n  },\n};\n\nexport default configuration;\n","import { isEmpty, get, isString } from 'lodash-es';\nimport eventEmitter from 'utils/eventEmitter';\nimport { IParticipationContextConfig } from '../../participationContext';\n\n// i18n\nimport messages from '../messages';\n\n// services\nimport {\n  IUpdatedProjectProperties,\n  addProject,\n  updateProject,\n} from 'services/projects';\nimport { addProjectFile, deleteProjectFile } from 'services/projectFiles';\nimport { addProjectImage, deleteProjectImage } from 'services/projectImages';\n\n// typings\nimport { INewProjectCreatedEvent } from '../../../all/CreateProject';\n\nexport default async function save(\n  participationContextConfig: IParticipationContextConfig | null\n) {\n  if (this.validate() && !this.state.processing) {\n    const { formatMessage } = this.props.intl;\n    const {\n      project,\n      projectImages,\n      projectImagesToRemove,\n      projectFiles,\n      projectFilesToRemove,\n    } = this.state;\n    const projectAttributesDiff: IUpdatedProjectProperties = {\n      ...this.state.projectAttributesDiff,\n      ...participationContextConfig,\n    };\n\n    try {\n      this.setState({ saved: false });\n      this.processing$.next(true);\n\n      let isNewProject = false;\n      let projectId = project ? project.data.id : null;\n\n      if (!isEmpty(projectAttributesDiff)) {\n        if (project) {\n          await updateProject(project.data.id, projectAttributesDiff);\n        } else {\n          const project = await addProject(projectAttributesDiff);\n          projectId = project.data.id;\n          isNewProject = true;\n        }\n      }\n\n      if (isString(projectId)) {\n        const imagesToAddPromises = projectImages\n          .filter((file) => !file.remote)\n          .map((file) => addProjectImage(projectId as string, file.base64));\n        const imagesToRemovePromises = projectImagesToRemove\n          .filter((file) => file.remote === true && isString(file.id))\n          .map((file) =>\n            deleteProjectImage(projectId as string, file.id as string)\n          );\n        const filesToAddPromises = projectFiles\n          .filter((file) => !file.remote)\n          .map((file) =>\n            addProjectFile(projectId as string, file.base64, file.name)\n          );\n        const filesToRemovePromises = projectFilesToRemove\n          .filter((file) => file.remote === true && isString(file.id))\n          .map((file) =>\n            deleteProjectFile(projectId as string, file.id as string)\n          );\n\n        await Promise.all([\n          ...imagesToAddPromises,\n          ...imagesToRemovePromises,\n          ...filesToAddPromises,\n          ...filesToRemovePromises,\n        ] as Promise<any>[]);\n      }\n\n      this.setState({\n        saved: true,\n        submitState: 'success',\n        projectImagesToRemove: [],\n        projectFilesToRemove: [],\n      });\n\n      this.processing$.next(false);\n\n      if (isNewProject && projectId) {\n        eventEmitter.emit<INewProjectCreatedEvent>('NewProjectCreated', {\n          projectId,\n        });\n      }\n    } catch (errors) {\n      // const cannotContainIdeasError = get(errors, 'json.errors.base', []).some((item) => get(item, 'error') === 'cannot_contain_ideas');\n      const apiErrors = get(\n        errors,\n        'json.errors',\n        formatMessage(messages.saveErrorMessage)\n      );\n      const submitState = 'error';\n      this.setState({ apiErrors, submitState });\n      this.processing$.next(false);\n    }\n  }\n}\n","import { isNilOrError } from 'utils/helperUtils';\nimport { IAppConfiguration } from 'services/appConfiguration';\nimport {\n  DEFAULT_TILE_PROVIDER,\n  DEFAULT_TILE_OPTIONS,\n  DEFAULT_CENTER,\n  DEFAULT_ZOOM,\n} from 'components/UI/LeafletMap/config';\nimport { LatLngTuple } from 'leaflet';\nimport { isNil } from 'lodash-es';\nimport formatcoords from 'formatcoords';\n\nexport const getCenter = (\n  centerLatLng?: LatLngTuple | null,\n  appConfig?: IAppConfiguration | null | Error\n) => {\n  const tenantCenterLat =\n    !isNilOrError(appConfig) &&\n    appConfig?.data?.attributes?.settings?.maps?.map_center?.lat;\n  const tenantCenterLong =\n    !isNilOrError(appConfig) &&\n    appConfig?.data?.attributes?.settings?.maps?.map_center?.long;\n\n  if (!isNilOrError(centerLatLng)) {\n    return centerLatLng;\n  } else if (\n    tenantCenterLat !== undefined &&\n    tenantCenterLat !== false &&\n    tenantCenterLong !== undefined &&\n    tenantCenterLong !== false\n  ) {\n    return [\n      parseFloat(tenantCenterLat),\n      parseFloat(tenantCenterLong),\n    ] as LatLngTuple;\n  }\n\n  return DEFAULT_CENTER;\n};\n\nexport const getZoomLevel = (\n  zoom?: number,\n  appConfig?: IAppConfiguration | null | Error\n) => {\n  const tenantZoomLevel =\n    !isNilOrError(appConfig) &&\n    (appConfig?.data?.attributes?.settings?.maps?.zoom_level as any);\n  return parseInt(zoom || tenantZoomLevel || DEFAULT_ZOOM, 10);\n};\n\nexport const getTileProvider = (\n  appConfig?: IAppConfiguration | null | Error\n) => {\n  const tileProvider =\n    !isNilOrError(appConfig) &&\n    (appConfig?.data?.attributes?.settings?.maps?.tile_provider as string);\n  return tileProvider || DEFAULT_TILE_PROVIDER;\n};\n\nexport const getTileOptions = () => {\n  return DEFAULT_TILE_OPTIONS;\n};\n\nexport const convertLatLngToDMS = (lat: any, lng: any) => {\n  if (!isNil(lat) && !isNil(lng)) {\n    return formatcoords(parseFloat(lat), parseFloat(lng)).format() as string;\n  }\n\n  return null;\n};\n\nexport const getAddressOrFallbackDMS = (\n  location_description: string | null,\n  location_point_geojson: GeoJSON.Point | null\n) => {\n  const point = location_point_geojson;\n  const lat = point?.coordinates?.[1] || null;\n  const lng = point?.coordinates?.[0] || null;\n  const address = location_description || convertLatLngToDMS(lat, lng) || null;\n  return address;\n};\n","import { useState, useEffect, useCallback } from 'react';\nimport { distinctUntilChanged } from 'rxjs/operators';\nimport {\n  listAdminPublications,\n  IAdminPublicationData,\n  AdminPublicationType,\n} from 'services/adminPublications';\nimport { PublicationStatus } from 'services/projects';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { unionBy, isString } from 'lodash-es';\nimport { IRelationship } from 'typings';\n\nexport interface InputProps {\n  pageSize?: number;\n  areaFilter?: string[];\n  publicationStatusFilter: PublicationStatus[];\n  rootLevelOnly?: boolean;\n  removeNotAllowedParents?: boolean;\n}\n\nexport type IAdminPublicationContent = {\n  id: string;\n  publicationType: AdminPublicationType;\n  publicationId: string;\n  attributes: IAdminPublicationData['attributes'];\n  relationships: {\n    children: {\n      data: IRelationship[];\n    };\n    parent: {\n      data?: IRelationship;\n    };\n    publication: {\n      data: IRelationship;\n    };\n  };\n};\n\nexport interface ChildrenOfProps {\n  id?: string;\n}\nexport interface IUseAdminPublicationsOutput {\n  list: IAdminPublicationContent[] | undefined | null;\n  hasMore: boolean;\n  loadingInitial: boolean;\n  loadingMore: boolean;\n  onLoadMore: () => void;\n  childrenOf: ({ id }: ChildrenOfProps) => IAdminPublicationContent[];\n  onChangeAreas: (areas: string[] | null) => void;\n  onChangePublicationStatus: (publicationStatuses: PublicationStatus[]) => void;\n}\n\nexport default function useAdminPublications({\n  pageSize = 1000,\n  areaFilter,\n  publicationStatusFilter,\n  rootLevelOnly = false,\n  removeNotAllowedParents = false,\n}: InputProps) {\n  const [all, setAll] = useState<IAdminPublicationContent[] | undefined | null>(\n    undefined\n  );\n  const [list, setList] = useState<\n    IAdminPublicationContent[] | undefined | null\n  >(undefined);\n  const [hasMore, setHasMore] = useState(false);\n  const [loadingInitial, setLoadingInitial] = useState(true);\n  const [loadingMore, setLoadingMore] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [areas, setAreas] = useState<string[] | undefined>(areaFilter);\n  const [publicationStatuses, setPublicationStatuses] = useState<\n    PublicationStatus[]\n  >(publicationStatusFilter);\n\n  const onLoadMore = useCallback(() => {\n    if (hasMore) {\n      setLoadingMore(true);\n      setPageNumber((prevPageNumber) => prevPageNumber + 1);\n    }\n  }, [hasMore]);\n\n  const onChangeAreas = useCallback((areas) => {\n    setAreas(areas);\n    setPageNumber(1);\n  }, []);\n\n  const onChangePublicationStatus = useCallback((publicationStatuses) => {\n    setPublicationStatuses(publicationStatuses);\n    setPageNumber(1);\n  }, []);\n\n  // reset pageNumber on pageSize change\n  useEffect(() => {\n    setPageNumber(1);\n  }, [pageSize]);\n\n  useEffect(() => {\n    const queryParameters = {\n      areas,\n      publication_statuses: publicationStatuses,\n      'page[number]': pageNumber,\n      'page[size]': pageSize,\n      remove_not_allowed_parents: removeNotAllowedParents,\n      depth: rootLevelOnly && 0,\n    };\n\n    const subscription = listAdminPublications({\n      queryParameters,\n    })\n      .observable.pipe(distinctUntilChanged())\n      .subscribe((adminPublications) => {\n        if (isNilOrError(adminPublications)) {\n          setList(null);\n          setHasMore(false);\n        } else {\n          const selfLink = adminPublications?.links?.self;\n          const lastLink = adminPublications?.links?.last;\n\n          const receivedItems = adminPublications.data\n            .map((adminPublication) => {\n              const publicationType =\n                adminPublication.relationships.publication.data.type;\n              const publicationId =\n                adminPublication.relationships.publication.data.id;\n\n              return {\n                publicationId,\n                publicationType,\n                id: adminPublication.id,\n                relationships: adminPublication.relationships,\n                attributes: {\n                  ...adminPublication.attributes,\n                },\n              };\n            })\n            .filter((item) => item) as IAdminPublicationContent[];\n\n          const hasMore = !!(\n            isString(selfLink) &&\n            isString(lastLink) &&\n            selfLink !== lastLink\n          );\n          setHasMore(hasMore);\n          setList((prevList) =>\n            !isNilOrError(prevList) && loadingMore\n              ? unionBy(prevList, receivedItems, 'id')\n              : receivedItems\n          );\n        }\n        setLoadingInitial(false);\n        setLoadingMore(false);\n      });\n\n    return () => subscription.unsubscribe();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [\n    pageNumber,\n    pageSize,\n    areas,\n    publicationStatuses,\n    rootLevelOnly,\n    removeNotAllowedParents,\n  ]);\n\n  useEffect(() => {\n    const queryParameters = {\n      areas,\n      publication_statuses: publicationStatuses,\n    };\n\n    const subscription = listAdminPublications({ queryParameters })\n      .observable.pipe(distinctUntilChanged())\n      .subscribe((adminPublications) => {\n        const receivedItems = adminPublications.data\n          .map((adminPublication) => {\n            const publicationType =\n              adminPublication.relationships.publication.data.type;\n            const publicationId =\n              adminPublication.relationships.publication.data.id;\n\n            return {\n              publicationId,\n              publicationType,\n              id: adminPublication.id,\n              relationships: adminPublication.relationships,\n              attributes: {\n                ...adminPublication.attributes,\n              },\n            };\n          })\n          .filter((item) => item) as IAdminPublicationContent[];\n\n        setAll(receivedItems);\n      });\n\n    return () => subscription.unsubscribe();\n  }, [areas, publicationStatuses]);\n\n  const childrenOf = useCallback(\n    ({ id: publicationId }: ChildrenOfProps) => {\n      if (isNilOrError(all)) {\n        return [];\n      }\n\n      return all.filter(\n        (publication) =>\n          !isNilOrError(publication.relationships.parent.data) &&\n          publication.relationships.parent.data.id === publicationId\n      );\n    },\n    [all]\n  );\n\n  return {\n    list,\n    hasMore,\n    loadingInitial,\n    loadingMore,\n    childrenOf,\n    onLoadMore,\n    onChangeAreas,\n    onChangePublicationStatus,\n  };\n}\n","// Libraries\nimport React, { memo } from 'react';\n\n// Components\nimport { Icon } from 'cl2-component-library';\nimport Button from 'components/UI/Button';\n\n// i18n\nimport FormattedMessage from 'utils/cl-intl/FormattedMessage';\nimport { injectIntl } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\nimport messages from './messages';\n\n// Styling\nimport styled from 'styled-components';\nimport { colors, fontSizes } from 'utils/styleUtils';\nimport { darken, transparentize } from 'polished';\n\nconst Container = styled.div`\n  display: flex;\n`;\n\nexport const GroupType = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding-left: 30px;\n  padding-right: 30px;\n  padding-top: 50px;\n  padding-bottom: 50px;\n  position: relative;\n  flex: 1;\n  background: ${colors.lightGreyishBlue};\n`;\n\nexport const IconWrapper = styled.div`\n  width: 62px;\n  height: 62px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: ${transparentize(0.9, colors.adminTextColor)};\n`;\n\nconst ManualGroupIcon = styled(Icon).attrs({ name: 'database' })`\n  width: 28px;\n  height: 28px;\n  fill: ${colors.adminTextColor};\n  fill: ${colors.adminTextColor};\n`;\n\nexport const GroupName = styled.p`\n  color: ${colors.adminTextColor};\n  font-size: ${fontSizes.xl}px;\n  font-weight: 600;\n  margin-top: 15px;\n`;\n\nexport const GroupDescription = styled.div`\n  min-height: 100px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-bottom: 30px;\n`;\n\nexport const DescriptionText = styled.div`\n  max-width: 285px;\n  color: ${colors.adminTextColor};\n  text-align: center;\n`;\n\nexport const MoreInfoLink = styled.a`\n  color: ${colors.clBlueDark};\n  text-align: center;\n  text-decoration: underline;\n  margin-top: 10px;\n\n  &:hover {\n    color: ${darken(0.15, colors.clBlueDark)};\n    text-decoration: underline;\n  }\n`;\n\nexport const Step2Button = styled(Button)``;\n\n// Typings\nimport { IGroupData } from 'services/groups';\nimport Outlet from 'components/Outlet';\nimport { MembershipType } from 'resources/GetGroups';\n\nexport interface Props {\n  onOpenStep2: (groupType: IGroupData['attributes']['membership_type']) => void;\n}\n\nconst GroupCreationStep1 = memo(\n  ({ intl, onOpenStep2 }: Props & InjectedIntlProps) => {\n    const formattedLink = intl.formatMessage(messages.readMoreLink);\n\n    const createStep2Handler = (groupType: MembershipType) => () => {\n      onOpenStep2(groupType);\n    };\n\n    return (\n      <Container>\n        <GroupType className=\"manual\">\n          <IconWrapper>\n            <ManualGroupIcon />\n          </IconWrapper>\n          <GroupName>\n            <FormattedMessage {...messages.step1TypeNameNormal} />\n          </GroupName>\n          <GroupDescription>\n            <DescriptionText>\n              <FormattedMessage {...messages.step1TypeDescriptionNormal} />\n            </DescriptionText>\n            <MoreInfoLink href={formattedLink} target=\"_blank\">\n              <FormattedMessage {...messages.step1LearnMoreGroups} />\n            </MoreInfoLink>\n          </GroupDescription>\n          <Step2Button\n            className=\"e2e-create-normal-group-button\"\n            buttonStyle=\"cl-blue\"\n            onClick={createStep2Handler('manual')}\n          >\n            <FormattedMessage {...messages.step1CreateButtonNormal} />\n          </Step2Button>\n        </GroupType>\n        <Outlet\n          id=\"app.containers.Admin.users.GroupCreationStep1.type\"\n          onClick={createStep2Handler}\n          formattedLink={formattedLink}\n        />\n      </Container>\n    );\n  }\n);\n\nexport default injectIntl<Props>(GroupCreationStep1);\n","import React, { memo } from 'react';\nimport { stopPropagation } from 'utils/helperUtils';\n\n// resources\nimport { IProjectModerationRightsReceivedNotificationData } from 'services/notifications';\n\n// i18n\nimport messages from '../../messages';\nimport { FormattedMessage } from 'utils/cl-intl';\nimport T from 'components/T';\n\n// components\nimport NotificationWrapper from '../NotificationWrapper';\nimport Link from 'utils/cl-router/Link';\n\ninterface Props {\n  notification: IProjectModerationRightsReceivedNotificationData;\n}\n\nconst ProjectModerationRightsReceivedNotification = memo<Props>((props) => {\n  const { notification } = props;\n\n  return (\n    <NotificationWrapper\n      linkTo={`/admin/projects/${notification.attributes.project_id}/edit`}\n      timing={notification.attributes.created_at}\n      icon=\"admin\"\n      isRead={!!notification.attributes.read_at}\n    >\n      <FormattedMessage\n        {...messages.projectModerationRightsReceived}\n        values={{\n          projectLink: (\n            <Link\n              to={`admin/projects/${notification.attributes.project_id}/ideas`}\n              onClick={stopPropagation}\n            >\n              <T value={notification.attributes.project_title_multiloc} />\n            </Link>\n          ),\n        }}\n      />\n    </NotificationWrapper>\n  );\n});\n\nexport default ProjectModerationRightsReceivedNotification;\n","import { memo, useMemo, useEffect, useCallback } from 'react';\n\n// hooks\nimport useAppConfiguration from 'hooks/useAppConfiguration';\nimport useMapConfig from '../../../hooks/useMapConfig';\n\n// utils\nimport {\n  getCenter,\n  getZoomLevel,\n  getTileProvider,\n  getTileOptions,\n} from '../../../utils/map';\n\n// i18n\nimport useLocalize from 'hooks/useLocalize';\n\n// styling\nimport legendMarkerIcon from './legend-marker.svg';\nimport { ILeafletMapConfig } from 'components/UI/LeafletMap/useLeaflet';\n\n// typings\nimport { LatLngTuple } from 'leaflet';\nimport { GeoJSONLayer, Point } from 'components/UI/LeafletMap/typings';\n\ninterface Props {\n  onLeafletConfigChange: (newLeafletConfig: ILeafletMapConfig) => void;\n  projectId?: string | null;\n  centerLatLng?: LatLngTuple;\n  zoomLevel?: number;\n  points?: Point[];\n}\n\nconst LeafletConfig = memo<Props>(\n  ({ onLeafletConfigChange, projectId, centerLatLng, zoomLevel, points }) => {\n    const localize = useLocalize();\n    const appConfig = useAppConfiguration();\n    const mapConfig = useMapConfig({ projectId });\n\n    const center = useMemo(() => {\n      return getCenter(centerLatLng, appConfig, mapConfig);\n    }, [centerLatLng, appConfig, mapConfig]);\n\n    const zoom = useMemo(() => {\n      return getZoomLevel(zoomLevel, appConfig, mapConfig);\n    }, [zoomLevel, appConfig, mapConfig]);\n\n    const tileProvider = useMemo(() => {\n      return getTileProvider(appConfig, mapConfig);\n    }, [appConfig, mapConfig]);\n\n    const tileOptions = useMemo(() => {\n      return getTileOptions(tileProvider);\n    }, [tileProvider]);\n\n    const geoJsonLayers = useMemo(() => {\n      if (!mapConfig) {\n        return [];\n      }\n\n      return mapConfig.attributes.layers as GeoJSONLayer[];\n    }, [mapConfig]);\n\n    const layerMarker = useCallback(\n      (geojsonLayer: GeoJSONLayer, _latlng: L.LatLng) => {\n        return geojsonLayer.marker_svg_url || legendMarkerIcon;\n      },\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      [geoJsonLayers]\n    );\n\n    const layerTooltip = useCallback(\n      (_layer: L.GeoJSON, feature: GeoJSON.Feature) => {\n        return localize(feature?.properties?.tooltipContent);\n      },\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      [geoJsonLayers]\n    );\n\n    const layerPopup = useCallback(\n      (_layer: L.GeoJSON, feature: GeoJSON.Feature) => {\n        return localize(feature?.properties?.popupContent);\n      },\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      [geoJsonLayers]\n    );\n\n    const layerOverlay = useCallback(\n      (geojsonLayer: GeoJSONLayer) => {\n        return localize(geojsonLayer.title_multiloc);\n      },\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      [geoJsonLayers]\n    );\n\n    useEffect(() => {\n      onLeafletConfigChange({\n        geoJsonLayers,\n        points,\n        zoom,\n        center,\n        tileProvider,\n        tileOptions,\n        layerMarker,\n        layerTooltip,\n        layerPopup,\n        layerOverlay,\n      });\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [\n      geoJsonLayers,\n      points,\n      zoom,\n      center,\n      tileProvider,\n      tileOptions,\n      layerMarker,\n      layerTooltip,\n      layerPopup,\n      layerOverlay,\n    ]);\n\n    return null;\n  }\n);\n\nexport default LeafletConfig;\n","import React, { useEffect, useState } from 'react';\nimport ProjectTemplatePreviewAdmin from './ProjectTemplatePreviewAdmin';\nimport eventEmitter from 'utils/eventEmitter';\nimport useLocale from 'hooks/useLocale';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { trackPage } from 'utils/analytics';\nimport clHistory from 'utils/cl-router/history';\n\ninterface Props {\n  onRender: (hasRendered: boolean) => void;\n}\n\nconst useCapture = false;\n\nconst ProjectTemplatePreviewAdminWithEventWrapper = ({ onRender }: Props) => {\n  const locale = useLocale();\n  const [selectedProjectTemplateId, setSelectedProjectTemplateId] = useState<\n    string | null\n  >(null);\n  const [goBackUrl, setGoBackUrl] = useState<string | null>(null);\n  const [unlisten, setUnlisten] = useState<{ (): void } | null>(null);\n\n  const closeTemplatePreview = () => {\n    setSelectedProjectTemplateId(null);\n    onRender(false);\n    window.history.pushState({ path: goBackUrl }, '', goBackUrl);\n  };\n\n  const cleanup = () => {\n    if (goBackUrl) {\n      window.removeEventListener('popstate', handlePopstateEvent, useCapture);\n      window.removeEventListener('keydown', handleKeypress, useCapture);\n    }\n\n    setGoBackUrl(null);\n\n    if (typeof unlisten === 'function') {\n      unlisten();\n      setUnlisten(null);\n    }\n  };\n\n  const handlePopstateEvent = () => {\n    closeTemplatePreview();\n  };\n\n  const handleKeypress = (event: KeyboardEvent) => {\n    if (event.type === 'keydown' && event.key === 'Escape') {\n      event.preventDefault();\n      closeTemplatePreview();\n    }\n  };\n\n  useEffect(() => {\n    const subscription = eventEmitter\n      .observeEvent<string>('ProjectTemplateCardClicked')\n      .subscribe(({ eventValue }) => {\n        if (typeof eventValue === 'string' && !isNilOrError(locale)) {\n          const selectedProjectTemplateId = eventValue;\n          const currentUrl = window.location.href;\n          const newPath = `/${locale}/admin/projects/templates/${selectedProjectTemplateId}`;\n          const newUrl = `${window.location.origin}${newPath}`;\n\n          setSelectedProjectTemplateId(selectedProjectTemplateId);\n          setGoBackUrl(currentUrl);\n\n          window.history.pushState({ path: newUrl }, '', newUrl);\n          window.addEventListener('popstate', handlePopstateEvent, useCapture);\n          window.addEventListener('keydown', handleKeypress, useCapture);\n          setUnlisten(clHistory.listen(() => closeTemplatePreview()));\n          trackPage(newUrl);\n\n          window.scrollTo(0, 0);\n        }\n\n        return () => {\n          cleanup();\n          subscription.unsubscribe();\n        };\n      });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [locale]);\n\n  useEffect(() => {\n    cleanup();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [selectedProjectTemplateId]);\n\n  if (selectedProjectTemplateId) {\n    return (\n      <ProjectTemplatePreviewAdmin\n        projectTemplateId={selectedProjectTemplateId}\n        goBack={closeTemplatePreview}\n        onRender={onRender}\n      />\n    );\n  }\n\n  return null;\n};\n\nexport default ProjectTemplatePreviewAdminWithEventWrapper;\n","import React from 'react';\n\n// components\nimport Error from 'components/UI/Error';\nimport { IconTooltip } from 'cl2-component-library';\nimport { SubSectionTitle } from 'components/admin/Section';\nimport {\n  StyledSectionField,\n  StyledWarning,\n  StyledInput,\n  SlugPreview,\n} from './styling';\n\n// i18n\nimport { InjectedIntlProps } from 'react-intl';\nimport { injectIntl, FormattedMessage } from 'utils/cl-intl';\nimport messages from '../messages';\n\n// typings\nimport { IAppConfiguration } from 'services/appConfiguration';\nimport { IProject } from 'services/projects';\nimport { CLErrors } from 'typings';\n\ninterface Props {\n  currentTenant: IAppConfiguration;\n  project: IProject;\n  locale: string;\n  slug: string | null;\n  apiErrors: CLErrors;\n  showSlugErrorMessage: boolean;\n  handleSlugOnChange: (slug: string) => void;\n}\n\nexport default injectIntl(\n  ({\n    currentTenant,\n    project,\n    locale,\n    slug,\n    apiErrors,\n    showSlugErrorMessage,\n    handleSlugOnChange,\n    intl: { formatMessage },\n  }: Props & InjectedIntlProps) => (\n    <StyledSectionField>\n      <SubSectionTitle>\n        <FormattedMessage {...messages.projectUrl} />\n        <IconTooltip\n          content={\n            <FormattedMessage\n              {...messages.urlSlugTooltip}\n              values={{\n                currentProjectURL: (\n                  <em>\n                    <b>\n                      {currentTenant.data.attributes.host}/{locale}\n                      /projects/{project.data.attributes.slug}\n                    </b>\n                  </em>\n                ),\n                currentProjectSlug: (\n                  <em>\n                    <b>{project.data.attributes.slug}</b>\n                  </em>\n                ),\n              }}\n            />\n          }\n        />\n      </SubSectionTitle>\n      <StyledWarning>\n        <FormattedMessage {...messages.urlSlugBrokenLinkWarning} />\n      </StyledWarning>\n      <StyledInput\n        id=\"project-slug\"\n        type=\"text\"\n        label={<FormattedMessage {...messages.urlSlugLabel} />}\n        onChange={handleSlugOnChange}\n        value={slug}\n      />\n      <SlugPreview>\n        <b>{formatMessage(messages.resultingURL)}</b>:{' '}\n        {currentTenant?.data.attributes.host}/{locale}/projects/\n        {slug}\n      </SlugPreview>\n      {/* Backend error */}\n      <Error fieldName=\"slug\" apiErrors={apiErrors.slug} />\n      {/* Frontend error */}\n      {showSlugErrorMessage && (\n        <Error text={formatMessage(messages.regexError)} />\n      )}\n    </StyledSectionField>\n  )\n);\n","import React, { memo, useCallback, useState } from 'react';\nimport { isEmpty, get } from 'lodash-es';\nimport { reportError } from 'utils/loggingUtils';\nimport { API_PATH } from 'containers/App/constants';\nimport streams from 'utils/streams';\nimport { isNilOrError } from 'utils/helperUtils';\n\n// components\nimport { Input, IconTooltip } from 'cl2-component-library';\nimport Error from 'components/UI/Error';\nimport Collapse from 'components/UI/Collapse';\nimport {\n  FormContainer,\n  Title,\n  Form,\n  FormField,\n  StyledLabel,\n  LabelTextContainer,\n  Footer,\n  SubmitButton,\n  CancelButton,\n} from 'modules/commercial/verification/citizen/components/styles';\n\n// hooks\nimport useAuthUser from 'hooks/useAuthUser';\n\n// services\nimport { verifyGentRrn } from '../services/verify';\n\n// i18n\nimport { InjectedIntlProps } from 'react-intl';\nimport { injectIntl, FormattedMessage } from 'utils/cl-intl';\nimport messages from '../messages';\n\n// images\nimport { IVerificationMethod } from 'services/verificationMethods';\n\ninterface Props {\n  onCancel: () => void;\n  onVerified: () => void;\n  showHeader?: boolean;\n  inModal: boolean;\n  method: IVerificationMethod;\n  className?: string;\n}\n\nconst VerificationFormGentRrn = memo<Props & InjectedIntlProps>(\n  ({ onCancel, onVerified, showHeader, inModal, className, intl }) => {\n    const authUser = useAuthUser();\n\n    const [rrn, setRrn] = useState('');\n    const [rrnError, setRrnError] = useState<string | null>(null);\n    const [formError, setFormError] = useState<string | null>(null);\n    const [showHelp, setShowHelp] = useState(false);\n    const [processing, setProcessing] = useState(false);\n\n    const onRunChange = useCallback((rrn: string) => {\n      setRrnError(null);\n      setRrn(rrn);\n    }, []);\n\n    const onSubmit = useCallback(\n      async (event: React.FormEvent<HTMLButtonElement>) => {\n        event.preventDefault();\n\n        const { formatMessage } = intl;\n        let hasEmptyFields = false;\n\n        // first reset the errors\n        setRrnError(null);\n        setFormError(null);\n\n        if (isEmpty(rrn)) {\n          setRrnError(formatMessage(messages.emptyFieldError));\n          hasEmptyFields = true;\n        }\n\n        if (!hasEmptyFields && !processing) {\n          try {\n            setProcessing(true);\n\n            await verifyGentRrn(rrn);\n\n            const endpointsToRefetch = [\n              `${API_PATH}/users/me`,\n              `${API_PATH}/users/me/locked_attributes`,\n              `${API_PATH}/users/custom_fields/schema`,\n              `${API_PATH}/projects`,\n            ];\n            const partialEndpointsToRefetch = [\n              `${API_PATH}/projects/`,\n              `${API_PATH}/ideas/`,\n            ];\n\n            if (!isNilOrError(authUser)) {\n              endpointsToRefetch.push(`${API_PATH}/users/${authUser.id}`);\n            }\n\n            await streams.fetchAllWith({\n              apiEndpoint: endpointsToRefetch,\n              partialApiEndpoint: partialEndpointsToRefetch,\n            });\n\n            setProcessing(false);\n\n            onVerified();\n          } catch (error) {\n            setProcessing(false);\n\n            if (get(error, 'json.errors.base[0].error') === 'taken') {\n              setFormError(formatMessage(messages.takenFormError));\n            } else if (get(error, 'json.errors.base[0].error') === 'no_match') {\n              setFormError(formatMessage(messages.noMatchFormError));\n            } else if (\n              get(error, 'json.errors.base[0].error') === 'not_entitled' &&\n              get(error, 'json.errors.base[0].why') === 'too_young'\n            ) {\n              setFormError(\n                formatMessage(messages.notEntitledTooYoungFormError)\n              );\n            } else if (\n              get(error, 'json.errors.base[0].error') === 'not_entitled' &&\n              get(error, 'json.errors.base[0].why') === 'lives_outside'\n            ) {\n              setFormError(\n                formatMessage(messages.notEntitledLivesOutsideFormError)\n              );\n            } else if (get(error, 'json.errors.rrn[0].error') === 'invalid') {\n              setRrnError(formatMessage(messages.invalidRrnError));\n            } else {\n              reportError(error);\n              setFormError(formatMessage(messages.somethingWentWrongError));\n            }\n          }\n        }\n      },\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      [rrn, processing, intl]\n    );\n\n    const onCancelButtonClicked = useCallback(() => {\n      onCancel();\n    }, [onCancel]);\n\n    const onToggleHelpButtonClick = useCallback(() => {\n      setShowHelp((showHelp) => !showHelp);\n    }, []);\n\n    return (\n      <FormContainer className={className} inModal={inModal}>\n        {showHeader && (\n          <Title>\n            <strong>\n              <FormattedMessage {...messages.verifyYourIdentity} />\n            </strong>\n          </Title>\n        )}\n\n        <Form inModal={inModal}>\n          <FormField>\n            <StyledLabel htmlFor=\"rrn\">\n              <LabelTextContainer>\n                <span>\n                  <FormattedMessage {...messages.rrnLabel} />\n                </span>\n                <IconTooltip\n                  maxTooltipWidth={200}\n                  content={<FormattedMessage {...messages.rrnTooltip} />}\n                />\n              </LabelTextContainer>\n              <Input\n                id=\"rrn\"\n                type=\"text\"\n                placeholder=\"xxxxxx-xxx.xx\"\n                onChange={onRunChange}\n                value={rrn}\n                error={rrnError}\n              />\n            </StyledLabel>\n            <Collapse\n              opened={showHelp}\n              onToggle={onToggleHelpButtonClick}\n              label={intl.formatMessage(messages.showGentRrnHelp)}\n            >\n              <FormattedMessage {...messages.gentRrnHelp} />\n            </Collapse>\n          </FormField>\n\n          {formError && <Error text={formError} />}\n\n          <Footer>\n            <SubmitButton onClick={onSubmit} processing={processing}>\n              <FormattedMessage {...messages.submit} />\n            </SubmitButton>\n            <CancelButton\n              onClick={onCancelButtonClicked}\n              buttonStyle=\"secondary\"\n            >\n              <FormattedMessage {...messages.cancel} />\n            </CancelButton>\n          </Footer>\n        </Form>\n      </FormContainer>\n    );\n  }\n);\n\nexport default injectIntl(VerificationFormGentRrn);\n","import React from 'react';\nimport {\n  SectionWrapper,\n  SectionHeader,\n  SectionTitle,\n  SectionContent,\n  TManageArticle,\n  renderArticle,\n} from './';\nimport AdminGuideArticle from './AdminGuideArticle';\nimport { Icon } from 'cl2-component-library';\nimport { colors } from 'utils/styleUtils';\n\n// analytics\nimport { trackEventByName } from 'utils/analytics';\nimport tracks from './tracks';\n\n// i18n\nimport { FormattedMessage, injectIntl } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\nimport messages from './messages';\n\n//\n\nconst articles: TManageArticle[] = ['projects', 'users'];\ntype ManageMessages = {\n  [key in TManageArticle]: ReactIntl.FormattedMessage.MessageDescriptor;\n};\n\nconst ManageSection = ({ intl: { formatMessage } }: InjectedIntlProps) => {\n  const handleClickExternalTrack = () => {\n    trackEventByName(tracks.externalLink.name, {\n      extra: { section: 'manage' },\n    });\n  };\n  const getHandleClickInteralTrack = (article: TManageArticle) => () => {\n    trackEventByName(tracks.internalLink.name, {\n      extra: { article, section: 'manage' },\n    });\n  };\n\n  return (\n    <SectionWrapper>\n      <SectionHeader>\n        <SectionTitle color={colors.adminOrangeIcons}>\n          <Icon name={'manage'} />\n          <FormattedMessage tagName=\"h2\" {...messages.manageSectionTitle} />\n        </SectionTitle>\n        <a\n          href={formatMessage(messages.manageSectionLink)}\n          target=\"_blank\"\n          onClick={handleClickExternalTrack}\n          rel=\"noreferrer\"\n        >\n          <FormattedMessage {...messages.readCompleteGuide} />\n        </a>\n      </SectionHeader>\n      <SectionContent>\n        {articles.map((article, i) => {\n          const linkMessages: ManageMessages = {\n            projects: messages.manageArticle1Link,\n            users: messages.manageArticle2Link,\n          };\n          const titleMessages: ManageMessages = {\n            projects: messages.manageArticle1Title,\n            users: messages.manageArticle2Title,\n          };\n          const descriptionMessages: ManageMessages = {\n            projects: messages.giveFeedback,\n            users: messages.manageArticle2Description,\n          };\n          const linkMessage = linkMessages[article];\n          const titleMessage = titleMessages[article];\n          const descriptionMessage = descriptionMessages[article];\n          const adminGuideArticle = (\n            <AdminGuideArticle\n              key={`manageArticle${i}`}\n              trackLink={getHandleClickInteralTrack(article)}\n              linkMessage={linkMessage}\n              titleMessage={titleMessage}\n              descriptionMessage={descriptionMessage}\n            />\n          );\n\n          return renderArticle(article, i, adminGuideArticle);\n        })}\n      </SectionContent>\n    </SectionWrapper>\n  );\n};\n\nexport default injectIntl(ManageSection);\n","import { FC, useEffect } from 'react';\nimport { InsertConfigurationOptions, ITab } from 'typings';\n\n// i18n\nimport { injectIntl } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\nimport messages from './messages';\n\ntype Props = {\n  onData: (data: InsertConfigurationOptions<ITab>) => void;\n};\n\nconst Tab: FC<Props & InjectedIntlProps> = ({\n  onData,\n  intl: { formatMessage },\n}) => {\n  useEffect(\n    () =>\n      onData({\n        configuration: {\n          label: formatMessage(messages.permissionTab),\n          name: 'permissions',\n          url: '/admin/initiatives/permissions',\n          feature: 'granular_permissions',\n        },\n        insertAfterName: 'manage',\n      }),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  );\n  return null;\n};\n\nexport default injectIntl(Tab);\n","import { useState, useEffect } from 'react';\nimport {\n  mapConfigByProjectStream,\n  IMapConfigData,\n  IMapConfig,\n} from '../services/mapConfigs';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { combineLatest, of, Observable } from 'rxjs';\nimport { switchMap } from 'rxjs/operators';\nimport { mapLayerByProjectMapConfigStream } from '../services/mapLayers';\n\nexport interface Props {\n  projectId?: string | null;\n  prefetchMapLayers?: boolean;\n}\n\nexport type IOutput = IMapConfigData | undefined | null;\n\nexport default ({ projectId, prefetchMapLayers }: Props): IOutput => {\n  const [mapConfig, setMapConfig] = useState<IMapConfigData | undefined | null>(\n    undefined\n  );\n\n  useEffect(() => {\n    setMapConfig(undefined);\n\n    let observable: Observable<IMapConfig | null> = of(null);\n\n    if (projectId) {\n      observable = mapConfigByProjectStream(projectId).observable.pipe(\n        switchMap((mapConfig) => {\n          if (!isNilOrError(mapConfig) && prefetchMapLayers) {\n            const mapLayerIds = mapConfig?.data?.attributes?.layers?.map(\n              (mapLayer) => mapLayer.id\n            );\n\n            if (mapLayerIds && mapLayerIds.length > 0) {\n              combineLatest(\n                mapLayerIds.map(\n                  (mapLayerId) =>\n                    mapLayerByProjectMapConfigStream(projectId, mapLayerId)\n                      .observable\n                )\n              );\n            }\n          }\n\n          return of(mapConfig);\n        })\n      );\n    }\n\n    const subscription = observable.subscribe((mapConfig) => {\n      setMapConfig(!isNilOrError(mapConfig) ? mapConfig.data : null);\n    });\n\n    return () => subscription.unsubscribe();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [projectId]);\n\n  return mapConfig;\n};\n","import React from 'react';\nimport { BehaviorSubject, Subscription } from 'rxjs';\nimport { distinctUntilChanged, switchMap } from 'rxjs/operators';\nimport shallowCompare from 'utils/shallowCompare';\nimport {\n  userCustomFieldOptionsStream,\n  IUserCustomFieldOptionData,\n} from '../services/userCustomFieldOptions';\nimport { isNilOrError } from 'utils/helperUtils';\n\ninterface InputProps {\n  customFieldId: string;\n}\n\ntype children = (\n  renderProps: GetUserCustomFieldOptionsChildProps\n) => JSX.Element | null;\n\ninterface Props extends InputProps {\n  children?: children;\n}\n\ninterface State {\n  customFieldOptions: IUserCustomFieldOptionData[] | undefined | null | Error;\n}\n\nexport type GetUserCustomFieldOptionsChildProps =\n  | IUserCustomFieldOptionData[]\n  | undefined\n  | null\n  | Error;\n\nexport default class GetCustomFieldOptions extends React.Component<\n  Props,\n  State\n> {\n  private inputProps$: BehaviorSubject<InputProps>;\n  private subscriptions: Subscription[];\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      customFieldOptions: undefined,\n    };\n  }\n\n  componentDidMount() {\n    const { customFieldId } = this.props;\n\n    this.inputProps$ = new BehaviorSubject({ customFieldId });\n\n    this.subscriptions = [\n      this.inputProps$\n        .pipe(\n          distinctUntilChanged((prev, next) => shallowCompare(prev, next)),\n          switchMap(\n            ({ customFieldId }) =>\n              userCustomFieldOptionsStream(customFieldId).observable\n          )\n        )\n        .subscribe((customFieldOptions) =>\n          this.setState({\n            customFieldOptions: !isNilOrError(customFieldOptions)\n              ? customFieldOptions.data\n              : customFieldOptions,\n          })\n        ),\n    ];\n  }\n\n  componentDidUpdate() {\n    const { customFieldId } = this.props;\n    this.inputProps$.next({ customFieldId });\n  }\n\n  componentWillUnmount() {\n    this.subscriptions.forEach((subscription) => subscription.unsubscribe());\n  }\n\n  render() {\n    const { children } = this.props;\n    const { customFieldOptions } = this.state;\n    return (children as children)(customFieldOptions);\n  }\n}\n","import React, { useCallback } from 'react';\n\n// typings\nimport { IVerificationMethod } from 'services/verificationMethods';\n\n// components\nimport VerificationMethodButton from 'modules/commercial/verification/citizen/components/VerificationMethodButton';\n\ninterface Props {\n  method: IVerificationMethod;\n  onMethodSelected: () => void;\n  last: boolean;\n}\n\nconst BogusButton = ({ method, last, onMethodSelected }: Props) => {\n  const handleOnClick = useCallback(() => {\n    onMethodSelected();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <VerificationMethodButton\n      key={method.id}\n      id={`e2e-${method.attributes.name}-button`}\n      className={last ? 'last' : ''}\n      onClick={handleOnClick}\n    >\n      Bogus verification (testing)\n    </VerificationMethodButton>\n  );\n};\n\nexport default BogusButton;\n","import React from 'react';\nimport { Subscription, fromEvent } from 'rxjs';\nimport { debounceTime, distinctUntilChanged } from 'rxjs/operators';\n\ninterface InputProps {}\n\ntype children = (renderProps: GetWindowSizeChildProps) => JSX.Element | null;\n\ninterface Props extends InputProps {\n  debounce?: number;\n  children?: children;\n}\n\ninterface State {\n  size: number | undefined | null;\n}\n\nexport type GetWindowSizeChildProps = number | undefined | null;\n\nexport default class GetWindowSize extends React.Component<Props, State> {\n  private subscriptions: Subscription[];\n\n  static defaultProps = {\n    debounce: 50,\n  };\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      size: undefined,\n    };\n  }\n\n  componentDidMount() {\n    this.setState({ size: window.innerWidth });\n\n    this.subscriptions = [\n      fromEvent(window, 'resize')\n        .pipe(\n          debounceTime(this.props.debounce as number),\n          distinctUntilChanged()\n        )\n        .subscribe((event) => {\n          if (event.target) {\n            const size = event.target['innerWidth'] as number;\n            this.setState({ size });\n          }\n        }),\n    ];\n  }\n\n  componentWillUnmount() {\n    this.subscriptions.forEach((subscription) => subscription.unsubscribe());\n  }\n\n  render() {\n    const { children } = this.props;\n    const { size } = this.state;\n    return (children as children)(size);\n  }\n}\n","import { IUser, IRole, IProjectModeratorRole } from 'services/users';\nimport { isNilOrError } from 'utils/helperUtils';\n\nexport const userHasRole = (user: IUser, role: IRole['type']) => {\n  return !!(\n    user.data.attributes?.roles &&\n    user.data.attributes.roles?.find((r) => r.type === role)\n  );\n};\n\nexport const isAdmin = (user?: IUser | null | undefined | Error) => {\n  if (!isNilOrError(user)) {\n    return !!user && userHasRole(user, 'admin');\n  }\n\n  return false;\n};\n\n/*\n  A super admin is an admin with @citizenlab.co email address.\n  In the frontend, it doesn't have a significant meaning at the time of writing (18/1/'21).\n  It does not exist in the roles value of an authUser.\n  super_admin can be the highest_role value though.\n  In the backend, it's used for data integrity.\n  Most of the times it's used it's to make sure that we don't accept test data from CL employees as valid data.\n*/\nexport const isSuperAdmin = (user?: IUser | null | Error) => {\n  if (!isNilOrError(user)) {\n    return user.data.attributes?.highest_role === 'super_admin';\n  }\n  return false;\n};\n\nexport const isModerator = (user?: IUser | null) => {\n  return !!user && userHasRole(user, 'project_moderator');\n};\n\nexport const isProjectModerator = (user?: IUser | null, projectId?: string) => {\n  return (\n    isModerator(user) &&\n    (!projectId ||\n      !!(\n        user &&\n        projectId &&\n        user.data.attributes?.roles &&\n        user.data.attributes?.roles?.find(\n          (r: IProjectModeratorRole) => r.project_id === projectId\n        )\n      ))\n  );\n};\n\nexport const moderatesProject = (user?: IUser | null, projectId?: string) => {\n  return (\n    isProjectModerator(user, projectId) || isAdmin(user) || isSuperAdmin(user)\n  );\n};\n","import React from 'react';\n\nimport { Title } from 'components/PostShowComponents/Title';\nimport GetMachineTranslation, {\n  GetMachineTranslationChildProps,\n} from 'modules/commercial/machine_translations/resources/GetMachineTranslation';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { Locale } from 'typings';\n\nconst parseTranslation = (\n  translation: GetMachineTranslationChildProps,\n  title\n) => {\n  if (!isNilOrError(translation)) {\n    return translation.attributes.translation;\n  }\n\n  return title;\n};\n\ninterface Props {\n  postId: string;\n  postType: 'idea' | 'initiative';\n  title: string;\n  locale?: Locale;\n  translateButtonClicked?: boolean;\n  color?: string;\n  align: 'left' | 'center';\n}\n\nconst PostShowTranslatedTitle = ({\n  locale,\n  translateButtonClicked,\n  postId,\n  postType,\n  color,\n  align,\n  title,\n}: Props) => {\n  if (locale && translateButtonClicked) {\n    return (\n      <GetMachineTranslation\n        attributeName=\"title_multiloc\"\n        localeTo={locale}\n        id={postId}\n        context={postType}\n      >\n        {(translation) => (\n          <Title\n            id={`e2e-${postType}-title`}\n            color={color}\n            align={align}\n            aria-live=\"polite\"\n          >\n            {parseTranslation(translation, title)}\n          </Title>\n        )}\n      </GetMachineTranslation>\n    );\n  }\n\n  return (\n    <Title id={`e2e-${postType}-title`} color={color} align={align}>\n      {title}\n    </Title>\n  );\n};\n\nexport default PostShowTranslatedTitle;\n","export default {\n  // UserTableActions\n  addUsersToGroup: {\n    name: 'Clicked add users to group button',\n  },\n  addedRedundantUserToGroup: {\n    // Is fired once even if a user tries to add several redundant users\n    name: 'Tried to add again one or more existing group member(s)',\n  },\n  toggleAllUsers: {\n    name: 'Selected or Unselected all users',\n  },\n  // GroupsListPanel\n  createGroup: {\n    name: 'Clicked group creation button',\n  },\n  // UsersGroup\n  editGroup: {\n    name: 'Opened edit group modal',\n  },\n  // app/components/admin/UserFilterConditions/index.tsx\n  conditionAdd: {\n    name: 'Clicked add condition in smartgroups',\n  },\n  // UserTable\n  pagination: {\n    name: 'Clicked any pagination button in user section',\n  },\n  toggleOneUser: {\n    name: 'Selected or unselected one user',\n  },\n  adminToggle: {\n    name: 'Clicked an admin toggle',\n  },\n  sortChange: {\n    name: 'Changed sorting of users in the table',\n  },\n  // UsersHeader\n  searchInput: {\n    name: 'Entered user search input',\n  },\n};\n","import React, { memo } from 'react';\nimport useIdea from 'hooks/useIdea';\nimport useProject from 'hooks/useProject';\nimport usePhases from 'hooks/usePhases';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { getInputTerm } from 'services/participationContexts';\n\nimport { IOfficialFeedbackOnVotedIdeaNotificationData } from 'services/notifications';\n\n// i18n\nimport messages from '../../messages';\nimport { FormattedMessage } from 'utils/cl-intl';\nimport { getInputTermMessage } from 'utils/i18n';\n\n// components\nimport NotificationWrapper from '../NotificationWrapper';\nimport T from 'components/T';\n\ninterface Props {\n  notification: IOfficialFeedbackOnVotedIdeaNotificationData;\n}\n\nconst OfficialFeedbackOnVotedIdeaNotification = memo<Props>((props) => {\n  const { notification } = props;\n  const idea = useIdea({ ideaSlug: notification.attributes.post_slug });\n  const projectId = !isNilOrError(idea)\n    ? idea.relationships.project.data.id\n    : null;\n  const project = useProject({ projectId });\n  const phases = usePhases(projectId);\n\n  if (!isNilOrError(project)) {\n    const inputTerm = getInputTerm(\n      project.attributes.process_type,\n      project,\n      phases\n    );\n    return (\n      <NotificationWrapper\n        linkTo={`/ideas/${notification.attributes.post_slug}`}\n        timing={notification.attributes.created_at}\n        icon=\"comments\"\n        isRead={!!notification.attributes.read_at}\n      >\n        <FormattedMessage\n          {...getInputTermMessage(inputTerm, {\n            idea: messages.officialFeedbackOnVotedIdea,\n            option: messages.officialFeedbackOnVotedOption,\n            project: messages.officialFeedbackOnVotedProject,\n            question: messages.officialFeedbackOnVotedQuestion,\n            issue: messages.officialFeedbackOnVotedIssue,\n            contribution: messages.officialFeedbackOnVotedContribution,\n          })}\n          values={{\n            officialName: (\n              <T value={notification.attributes.official_feedback_author} />\n            ),\n          }}\n        />\n      </NotificationWrapper>\n    );\n  }\n\n  return null;\n});\n\nexport default OfficialFeedbackOnVotedIdeaNotification;\n","import { Observer, Observable, Subscription } from 'rxjs';\nimport {\n  startWith,\n  scan,\n  filter,\n  distinctUntilChanged,\n  refCount,\n  publishReplay,\n} from 'rxjs/operators';\nimport {\n  includes,\n  flatten,\n  forOwn,\n  isArray,\n  isString,\n  isObject,\n  isEmpty,\n  isFunction,\n  cloneDeep,\n  has,\n  omit,\n  forEach,\n  union,\n  uniq,\n  isUndefined,\n} from 'lodash-es';\nimport request from 'utils/request';\nimport { authApiEndpoint } from 'services/auth';\nimport { currentAppConfigurationEndpoint } from 'services/appConfiguration';\nimport { currentOnboardingCampaignsApiEndpoint } from 'services/onboardingCampaigns';\nimport stringify from 'json-stable-stringify';\nimport { reportError } from 'utils/loggingUtils';\nimport { isUUID } from 'utils/helperUtils';\nimport modules from 'modules';\n\nexport type pureFn<T> = (arg: T) => T;\ntype fetchFn = () => Promise<any>;\ninterface IObject {\n  [key: string]: any;\n}\nexport type IObserver<T> = Observer<T | pureFn<T> | null>;\nexport interface IStreamParams {\n  bodyData?: IObject | null;\n  queryParameters?: IObject | null;\n  cacheStream?: boolean;\n  skipSanitizationFor?: string[];\n}\nexport interface IInputStreamParams extends IStreamParams {\n  apiEndpoint: string;\n}\ninterface IExtendedStreamParams {\n  apiEndpoint: string;\n  cacheStream?: boolean;\n  bodyData: IObject | null;\n  queryParameters: IObject | null;\n}\nexport interface IStream<T> {\n  params: IExtendedStreamParams;\n  streamId: string;\n  isQueryStream: boolean;\n  isSearchQuery: boolean;\n  isSingleItemStream: boolean;\n  cacheStream?: boolean;\n  type: 'singleObject' | 'arrayOfObjects' | 'unknown';\n  fetch: fetchFn;\n  observer: IObserver<T>;\n  observable: Observable<T>;\n  subscription?: Subscription;\n  dataIds: { [key: string]: true };\n}\n\nclass Streams {\n  public streams: { [key: string]: IStream<any> };\n  public resourcesByDataId: { [key: string]: any };\n  public streamIdsByApiEndPointWithQuery: { [key: string]: string[] };\n  public streamIdsByApiEndPointWithoutQuery: { [key: string]: string[] };\n  public streamIdsByDataIdWithoutQuery: { [key: string]: string[] };\n  public streamIdsByDataIdWithQuery: { [key: string]: string[] };\n\n  constructor() {\n    // this.streams = collection of all streams that are initiated by endpoint\n    // requests to the back-end\n    this.streams = {};\n    // this.resourcesByDataId = key-value object with keys being the unique data\n    // id's (e.g. idea.data.id) and values the data associated with those id's\n    this.resourcesByDataId = {};\n    // this.streamIdsByApiEndPointWithQuery = key-value object that indexes all\n    // streams with query params by their api endpoint. key = api endpoint,\n    // value = the stream associated with this endpoint (included in this.streams)\n    this.streamIdsByApiEndPointWithQuery = {};\n    // this.streamIdsByApiEndPointWithoutQuery = same as\n    // streamIdsByApiEndPointWithQuery, but instead indexes streams that do not\n    // include query parameters\n    this.streamIdsByApiEndPointWithoutQuery = {};\n    // this.streamIdsByDataIdWithQuery = key-value object that indexes all streams\n    // with query params by their dataId(s). key = api endpoint, value = the stream\n    // associated with this endpoint (included in this.streams)\n    this.streamIdsByDataIdWithoutQuery = {};\n    // this.streamIdsByDataIdWithoutQuery = same as streamIdsByDataIdWithQuery,\n    // but instead indexes streams that do not include query parameters\n    this.streamIdsByDataIdWithQuery = {};\n  }\n\n  async reset() {\n    this.resourcesByDataId = {};\n\n    const promises: Promise<any>[] = [];\n    const promisesToAwait: Promise<any>[] = [];\n\n    // rootStreams are the streams that should always be refetched when a reset occurs,\n    // and for which their refetch should be awaited before any others streams are refetched.\n    // Currently the only 2 rootstreams are those for the authUser\n    // and appConfiguration endpoints\n    const rootStreamIds = [authApiEndpoint, currentAppConfigurationEndpoint];\n\n    rootStreamIds.forEach((rootStreamId) => {\n      promisesToAwait.push(this.streams[rootStreamId].fetch());\n    });\n\n    // Here we loop through all streams that are currently in the browser memory.\n    // Every stream in the browser memory will be either refetched or removed\n    // when reset() is executed, with the exception of the rootstreams\n    // (authUser and appConfiguration) and the custom fields stream\n    // ('/users/custom_fields/schema'), which we ignore here.\n    Object.keys(this.streams).forEach((streamId) => {\n      // If it's a rootstream or the custom fields stream\n      // ('/users/custom_fields/schema') we ignore it.\n      // The rootstreams are already included in promisesToAwait and therefore\n      // so already queued for refetch, so would be redundant to add them to\n      // the list of refetched streams here as well.\n      // We also ignore the custom fields stream in order to fix a bug\n      // that could potentially freeze the browser when the custom fields stream would be refetched.\n      if (\n        !includes(rootStreamIds, streamId) &&\n        !streamId.endsWith('/users/custom_fields/schema')\n      ) {\n        // If the stream is currently active\n        // (= being subscribed to by one or more components that are mounted when reset() gets called)\n        // we inlcude the stream in the list of streams to refetch.\n        // Otherwise we include the stream in the list of streams that will be removed,\n        // with the exception of the custom fields stream\n        if (\n          this.isActiveStream(streamId) ||\n          modules?.streamsToReset?.includes(streamId)\n        ) {\n          promises.push(this.streams[streamId].fetch());\n        } else {\n          this.deleteStream(\n            streamId,\n            this.streams[streamId].params.apiEndpoint\n          );\n        }\n      }\n    });\n\n    try {\n      // first we await the refetch promises for the rootstreams\n      await Promise.all(promisesToAwait);\n      // afterwards we refetch the active streams as determined\n      // by the loop above -without- awaiting there promises as that would take up too much time and is not needed\n      Promise.all(promises);\n    } finally {\n      // finally we return a true value. We use 'finally' here to not block the reset\n      // from completing when there are refetches that fail\n\n      // eslint-disable-next-line no-unsafe-finally\n      return true;\n    }\n  }\n\n  // Here we recursively freeze each property in the object provided\n  // as the argument so that the return object is immutable (=read-only).\n  // This is a safety mechanism we apply to all objects being put in\n  // the streams to make sure that any given stream can\n  // be simultaneously subscribed to in different components with the guarantee that\n  // each component will receive the exact same data for that stream.\n  // If the stream data would not be immutable, you could in theory\n  // overwrite it in one place and (unknowingly) affect the data in other\n  // places that subscribe to that stream as well.\n  // By making the stream data immutable, you avoid this scenario.\n  deepFreeze<T>(object: T): T {\n    let frozenObject = object;\n\n    if (frozenObject && !Object.isFrozen(frozenObject)) {\n      let property;\n      let propertyKey;\n\n      frozenObject = Object.freeze(object);\n\n      for (propertyKey in frozenObject) {\n        if (\n          // eslint-disable-next-line no-prototype-builtins\n          (frozenObject as Record<string, any>).hasOwnProperty(propertyKey)\n        ) {\n          property = frozenObject[propertyKey];\n\n          if (\n            typeof property !== 'object' ||\n            !(property instanceof Object) ||\n            Object.isFrozen(property)\n          ) {\n            continue;\n          }\n\n          this.deepFreeze(property);\n        }\n      }\n    }\n\n    return frozenObject;\n  }\n\n  // Checks if a stream is subscribed to by one ore more currently mounted components.\n  // To determine this, we use the internal rxjs refCount property, which keeps track\n  // of the subscribe count for any given stream.\n  isActiveStream(streamId: string) {\n    const refCount = cloneDeep(\n      this.streams[streamId].observable.source['_refCount']\n    );\n    const isCacheStream = cloneDeep(this.streams[streamId].cacheStream);\n\n    // If a stream is cached we keep at least 1 subscription to it open at all times,\n    // and therefore it will always have a refCount of at least 1.\n    // Hence we have to check for a count larger than 1 to determine if the stream is\n    // actively being used.\n    // None-cached streams on the other hand are not subscribed to by default and\n    // have a refCount of 0 when not actively used.\n    if ((isCacheStream && refCount > 1) || (!isCacheStream && refCount > 0)) {\n      return true;\n    }\n\n    return false;\n  }\n\n  // Completetly removes a stream from all indexes and from browser memory\n  // We call this function in 2 places:\n  // - Whenever a reset occurs (streams.reset())\n  // -> here we destroy the streams so it can be re-initiated after a user has logged in or out\n  // - When a fetch inside of streams.get() returns an error\n  // -> here we destroy the stream so it can be re-initiated\n  deleteStream(streamId: string, apiEndpoint: string) {\n    if (includes(this.streamIdsByApiEndPointWithQuery[apiEndpoint], streamId)) {\n      this.streamIdsByApiEndPointWithQuery[\n        apiEndpoint\n      ] = this.streamIdsByApiEndPointWithQuery[apiEndpoint].filter((value) => {\n        return value !== streamId;\n      });\n    }\n\n    if (\n      includes(this.streamIdsByApiEndPointWithoutQuery[apiEndpoint], streamId)\n    ) {\n      this.streamIdsByApiEndPointWithoutQuery[\n        apiEndpoint\n      ] = this.streamIdsByApiEndPointWithoutQuery[apiEndpoint].filter(\n        (value) => {\n          return value !== streamId;\n        }\n      );\n    }\n\n    if (streamId && this.streams[streamId]) {\n      Object.keys(this.streams[streamId].dataIds).forEach((dataId) => {\n        if (includes(this.streamIdsByDataIdWithQuery[dataId], streamId)) {\n          this.streamIdsByDataIdWithQuery[\n            dataId\n          ] = this.streamIdsByDataIdWithQuery[dataId].filter((value) => {\n            return value !== streamId;\n          });\n        }\n\n        if (includes(this.streamIdsByDataIdWithoutQuery[dataId], streamId)) {\n          this.streamIdsByDataIdWithoutQuery[\n            dataId\n          ] = this.streamIdsByDataIdWithoutQuery[dataId].filter((value) => {\n            return value !== streamId;\n          });\n        }\n      });\n    }\n\n    if (this.streams[streamId] && this.streams[streamId].subscription) {\n      (this.streams[streamId].subscription as Subscription).unsubscribe();\n    }\n\n    delete this.streams[streamId];\n  }\n\n  // Here we sanitize endpoints with query parameters\n  // to normalize them (e.g. make sure any null, undefined or '' params\n  // do not get taken into account when determining if a stream for the given params already exists).\n  // The 'skipSanitizationFor' parameter can be used to provide\n  // a list of query parameter names that should not be sanitized\n  sanitizeQueryParameters = (\n    queryParameters: IObject | null,\n    skipSanitizationFor?: string[]\n  ) => {\n    const sanitizedQueryParameters = cloneDeep(queryParameters);\n\n    forOwn(queryParameters, (value, key) => {\n      if (\n        !skipSanitizationFor?.includes(key) &&\n        (isUndefined(value) ||\n          (isString(value) && isEmpty(value)) ||\n          (isArray(value) && isEmpty(value)) ||\n          (isObject(value) && isEmpty(value)))\n      ) {\n        delete (sanitizedQueryParameters as IObject)[key];\n      }\n    });\n\n    return isObject(sanitizedQueryParameters) &&\n      !isEmpty(sanitizedQueryParameters)\n      ? sanitizedQueryParameters\n      : null;\n  };\n\n  // Determines wether the stream is associated with an endpoint\n  // that return a single object (e.g. an idea endpoint)\n  // or an endpoint that returns a collection of objects (e.g. the ideas endpoint)\n  isSingleItemStream(lastUrlSegment: string, isQueryStream: boolean) {\n    if (!isQueryStream) {\n      // When the endpoint url ends with a UUID we're dealing with a single-item endpoint\n      return isUUID(lastUrlSegment);\n    }\n\n    return false;\n  }\n\n  // Remove trailing slash to normalize the api endpoint names.\n  // This is needed to avoid the creation of redundant streams for the same endpoint\n  // (e.g. when providing the endpoint both with and without trailing slash)\n  removeTrailingSlash(apiEndpoint: string) {\n    return apiEndpoint.replace(/\\/$/, '');\n  }\n\n  // The streamId is the unique identifier for a stream, and is composed by\n  // the following data:\n  // - The api endpoint\n  // - An optional cache parameter set to false\n  // when the stream is not cached (not included when cacheStream is true)\n  // - Normalized and stringified query parameters (if any are present)\n  // Together these parameters will return a streamId in the form of a string.\n  getStreamId(\n    apiEndpoint: string,\n    isQueryStream: boolean,\n    queryParameters: IObject | null,\n    cacheStream: boolean\n  ) {\n    let streamId = apiEndpoint;\n\n    if (!cacheStream) {\n      streamId = `${streamId}?cached=${cacheStream}`;\n    }\n\n    if (queryParameters !== null && isQueryStream) {\n      streamId = `${streamId}&${stringify(queryParameters)}`;\n    }\n\n    return streamId;\n  }\n\n  // addStreamIdByDataIdIndex will index a given streamId by the dataId(s) it includes.\n  // This may sound a bit complicated, but it's actually rather simple:\n  // Any given stream will have 1) a streamId and 2) one or more objects\n  // with corresponding dataIds inside of it\n  // E.g. You have a stream for the '/ideas' endpoint (without query\n  // params to make it a bit simpler).\n  // The streamId for this stream is '/ideas', and the stream includes\n  // 2 idea objects. Each of these object has a data.id attribute\n  // (= the unique identifier that's part of the object).\n  // For the sake of the example: the first object has an dataId of\n  // '123', the second object a dataId of '456'.\n  // So we know that the stream with streamId '/ideas' has 2 objects\n  // in it. We also know the stream does not contain any query parameters.\n  // With this knowledge we can now index this stream by its dataIds,\n  // e.g: this.streamIdsByDataIdWithoutQuery['123'] = ['/ideas']\n  // and this.streamIdsByDataIdWithoutQuery['465'] = ['/ideas'].\n  // Now that we have these indexes we can later determine which streams\n  // to update when either the data with dataId '123' or '456' changes.\n  // E.g. when an update to dataId '123' occurs we can loop through\n  // all streams that contain this dataId, refetch their endpoints and push the new,\n  // updated data in the corresponding streams.\n  // Alternatively we can also manually push the updated objects into\n  // all streams that contain this dataId.\n  // Note: The latter case, manually pushing updated data into a stream,\n  // only applies to none-query streams. The reason being that you don't want\n  // to push data in a stream that contains a sorted or/and paginated list.\n  // In this case manually adding/removing/updating an item in the list\n  // might not reflect the new state the back-end would return.\n  // For example: when the vote count on an idea changes, the newly\n  // returned list of ideas might vary from the previous if it's sorted by votes.\n  // The only way to have a correct reflection of this new state is to\n  // refetch the list from the back-end. Hence never manually push data in a query stream,\n  // but always do a refetch!\n  addStreamIdByDataIdIndex(\n    streamId: string,\n    isQueryStream: boolean,\n    dataId: string\n  ) {\n    if (isQueryStream) {\n      if (\n        this.streamIdsByDataIdWithQuery[dataId] &&\n        !includes(this.streamIdsByDataIdWithQuery[dataId], streamId)\n      ) {\n        this.streamIdsByDataIdWithQuery[dataId].push(streamId);\n      } else if (!this.streamIdsByDataIdWithQuery[dataId]) {\n        this.streamIdsByDataIdWithQuery[dataId] = [streamId];\n      }\n    }\n\n    if (!isQueryStream) {\n      if (\n        this.streamIdsByDataIdWithoutQuery[dataId] &&\n        !includes(this.streamIdsByDataIdWithoutQuery[dataId], streamId)\n      ) {\n        this.streamIdsByDataIdWithoutQuery[dataId].push(streamId);\n      } else if (!this.streamIdsByDataIdWithoutQuery[dataId]) {\n        this.streamIdsByDataIdWithoutQuery[dataId] = [streamId];\n      }\n    }\n  }\n\n  // Same concept as addStreamIdByDataIdIndex, but instead of indexing by\n  // dataId we index here by apiEndpoint\n  // Why index by both dataId and apiEndpoint? Because we want to be able to\n  // control refetches by both dataId and apiEndpoints.\n  // Sometimes we might know the dataId of an object that is being updated/removed,\n  // other times we only know the apiEndpoint -or- are creating a new object that does not have a dataId.\n  // So to cover all cases you need to index the streams by both the dataIds\n  // they include, and the apiEndpoint they represent.\n  addStreamIdByApiEndpointIndex(\n    apiEndpoint: string,\n    streamId: string,\n    isQueryStream: boolean\n  ) {\n    if (isQueryStream) {\n      if (!this.streamIdsByApiEndPointWithQuery[apiEndpoint]) {\n        this.streamIdsByApiEndPointWithQuery[apiEndpoint] = [streamId];\n      } else {\n        this.streamIdsByApiEndPointWithQuery[apiEndpoint].push(streamId);\n      }\n    }\n\n    if (!isQueryStream) {\n      if (!this.streamIdsByApiEndPointWithoutQuery[apiEndpoint]) {\n        this.streamIdsByApiEndPointWithoutQuery[apiEndpoint] = [streamId];\n      } else {\n        this.streamIdsByApiEndPointWithoutQuery[apiEndpoint].push(streamId);\n      }\n    }\n  }\n\n  // This is the 'heart' of streams.ts.\n  // Here we create a stream if it doesn't exist yet for the given set of criteria\n  // (endpoint + query params + cacheStream) -or- return the previsouly created stream.\n  get<T>(inputParams: IInputStreamParams) {\n    const params: IExtendedStreamParams = {\n      bodyData: null,\n      queryParameters: null,\n      ...inputParams,\n    };\n    const apiEndpoint = this.removeTrailingSlash(params.apiEndpoint);\n    const queryParameters = this.sanitizeQueryParameters(\n      params.queryParameters,\n      inputParams.skipSanitizationFor\n    );\n    const isQueryStream =\n      isObject(queryParameters) && !isEmpty(queryParameters);\n    // Check if the requested endpoint contains a search query param. See explanation below for more details.\n    const isSearchQuery =\n      isQueryStream &&\n      queryParameters &&\n      queryParameters['search'] &&\n      isString(queryParameters['search']) &&\n      !isEmpty(queryParameters['search']);\n    // whenever the cacheStream argument is set to false or a search param\n    // is included in the list of query params\n    // the stream will not be cached.\n    // Why also for search queries? Because these could potentially create\n    // many different streams (e.g. when the user performs multiple searches,\n    // when the debouncing isn't fast enough, etc...)\n    // and we don't want to cache them all as they might potentially take\n    // up a lot amount of memory and even choke the system\n    const cacheStream =\n      isSearchQuery || inputParams.cacheStream === false ? false : true;\n    const streamId = this.getStreamId(\n      apiEndpoint,\n      isQueryStream,\n      queryParameters,\n      cacheStream\n    );\n\n    // If a stream with the calculated streamId does not yet exist\n    if (!has(this.streams, streamId)) {\n      const { bodyData } = params;\n      const lastUrlSegment = apiEndpoint.substr(\n        apiEndpoint.lastIndexOf('/') + 1\n      );\n      // Use to last url segment of the requested endpoint and check if it's a UUID.\n      // If so, we're dealing with a single-item endpoint (as opposed to an array)\n      const isSingleItemStream = this.isSingleItemStream(\n        lastUrlSegment,\n        isQueryStream\n      );\n      // You can think of the observer as the 'pump' that takes data as input and pushes it,\n      // using its .next() method, into the stream it's associated with.\n      const observer: IObserver<T | null> = null as any;\n\n      // Here we fetch the data for the given andpoint and push it into the associated stream\n      const fetch = () => {\n        return request<any>(\n          apiEndpoint,\n          bodyData,\n          { method: 'GET' },\n          queryParameters\n        )\n          .then((response) => {\n            // grab the response and push it into the stream\n            this.streams?.[streamId]?.observer?.next(response);\n            return response;\n          })\n          .catch((error) => {\n            // When the endpoint returns an error we destroy the stream\n            // so it can again be recreated afterwards and start of with\n            // a 'clean slate' to retry the endpoint.\n            // Note: streams.ts will first push the error object into\n            // the stream and only afterwards destroy it, so that any subscriber still gets the error object.\n            // When an unsuscribe -> resubscribe action occurs in the hook\n            // or component, streams.ts will create and fetch the stream from scratch again.\n            // Note: when we're dealing with either the authUser stream or\n            // the currentOnboardingCampaigns stream we do not destory the stream when an error occurs,\n            // because these 2 endpoints produce error responses whenever\n            // the user is not logged. There are however not 'true' errors\n            // (e.g. not similar to, for example, a connection failure error)\n            // but rather the back-end telling us the user needs to be logged in to use the endpoint.\n            // We can therefore view errors from these 2 endpoints as valid return values\n            // and exclude them from the error-handling logic.\n            if (\n              streamId !== authApiEndpoint &&\n              streamId !== currentOnboardingCampaignsApiEndpoint\n            ) {\n              // push the error reponse into the stream\n              this.streams[streamId].observer.next(error);\n              // destroy the stream\n              this.deleteStream(streamId, apiEndpoint);\n              reportError(error);\n              throw error;\n            } else if (streamId === authApiEndpoint) {\n              this.streams[streamId].observer.next(null);\n            }\n\n            return null;\n          });\n      };\n\n      // The observable constant here can be considered as the pipe\n      // that contains the stream (if that makes any sense :)).\n      // E.g. when data gets pushed into the stream by using observer.next(),\n      // you can think of it as the data being pushed into this observable pipe\n      // to which you can subscribe to capture any data that comes out of this pipe.\n      // To fully grasp the concepts invloved here I recommend to take\n      // a deep dive into RxJS (trust me, you won't regret doing so!).\n      const observable = new Observable<T | null>((observer) => {\n        const dataId = lastUrlSegment;\n\n        if (this.streams[streamId]) {\n          this.streams[streamId].observer = observer;\n        }\n\n        // When we know the stream represents a single-item endpoint,\n        // and cache for this stream is not turned of\n        // we first check the resourcesByDataId key-value store to check\n        // if it includes the object with the requested dataId.\n        // If so, we directly push it into the stream without making a request to the server.\n        // If not, we fetch the endpoint and push the return value into the stream (see fetch()).\n        if (\n          cacheStream &&\n          isSingleItemStream &&\n          has(this.resourcesByDataId, dataId)\n        ) {\n          observer.next(this.resourcesByDataId[dataId]);\n        } else {\n          fetch();\n        }\n\n        // clean-up function that gets triggered whenever there are no subscibers anymore to the stream\n        // Note: cahced streams will always have at least 1 subscriber,\n        // and therefore this function will only ever gets triggered for uncached streams\n        return () => {\n          this.deleteStream(streamId, apiEndpoint);\n        };\n      }).pipe(\n        // startsWith -> will push an initial value into a newly created stream\n        // as long as it's waiting for a proper respose. We check for this 'initial' string\n        // to determine if the valid response already took place.\n        // See https://www.learnrxjs.io/learn-rxjs/operators/combination/startwith for more info\n        // scan\n        // -> The RxJS documentation can probably explain it better than I can:\n        // https://www.learnrxjs.io/learn-rxjs/operators/transformation/scan\n        startWith('initial' as any),\n        scan((accumulated: T, current: T | pureFn<T>) => {\n          let data: any = accumulated;\n          const dataIds = {};\n\n          this.streams[streamId].type = 'unknown';\n\n          // I don't think we still have uss cases were current is a function\n          // instead of a value (was an early experiment)\n          // so I wouldn't worry too much about this line.\n          // It's safe to assume current will always be an object or an array, as opposed to a function.\n          // If you're feeling brave you could try removing it and try data = current instead :).\n          data = isFunction(current) ? current(data) : current;\n\n          if (isObject(data) && !isEmpty(data)) {\n            const innerData = data['data'];\n\n            // endpoints that return an array of objects\n            if (isArray(innerData)) {\n              this.streams[streamId].type = 'arrayOfObjects';\n              // loop through the array of objects\n              innerData\n                .filter((item) => has(item, 'id'))\n                .forEach((item) => {\n                  const dataId = item.id;\n                  dataIds[dataId] = true;\n                  if (cacheStream) {\n                    // write the endpoint response to the key-value object cache\n                    // first deepfreeze it to guarantee immutability\n                    this.resourcesByDataId[dataId] = this.deepFreeze({\n                      data: item,\n                    });\n                  }\n                  // create an index for the stream by its dataId\n                  this.addStreamIdByDataIdIndex(\n                    streamId,\n                    isQueryStream,\n                    dataId\n                  );\n                });\n            }\n            // endpoints that return a single object\n            else if (isObject(innerData) && has(innerData, 'id')) {\n              const dataId = innerData['id'];\n              this.streams[streamId].type = 'singleObject';\n              dataIds[dataId] = true;\n              if (cacheStream) {\n                // write the endpoint response to the key-value object cache\n                // first deepfreeze it to guarantee immutability\n                this.resourcesByDataId[dataId] = this.deepFreeze({\n                  data: innerData,\n                });\n              }\n              // create an index for the stream by its dataId\n              this.addStreamIdByDataIdIndex(streamId, isQueryStream, dataId);\n            }\n\n            // Important: also loop through any included data and put in it the key-value object cache\n            if (has(data, 'included')) {\n              data['included']\n                .filter((item) => item.id)\n                .forEach((item) => {\n                  this.resourcesByDataId[item.id] = this.deepFreeze({\n                    data: item,\n                  });\n                });\n\n              // Important: remove the included object after it's been cached!\n              // Note: We do this because we do never want to access data through\n              // the included attribute.\n              // Instead what we want to do is create a separate stream whenever\n              // we want to access data that migth already have been included in a previous response.\n              // When the stream gets initiated it will check if the data is already\n              // present in the cache. If so, it will use the cache and not make a redundant request.\n              // This way we can keep the 'clean' abstraction of having separate\n              // streams for separate pieces of data while limiting requests and being able to use\n              // included data to their full potential.\n              // TL;DR: always cache and remove included data, never read it directly\n              // from a response!\n              data = omit(data, 'included');\n            }\n          }\n\n          this.streams[streamId].dataIds = dataIds;\n\n          return this.deepFreeze(data);\n        }),\n        filter((data) => data !== 'initial'),\n        distinctUntilChanged(),\n        publishReplay(1),\n        refCount()\n      );\n\n      // this is the container for the entire stream that holds both the 'pipe' (= observable),\n      // the pump (= observer), utility functions (fetch) and metadata (params, streamId, isQueryStream, etc...)\n      this.streams[streamId] = {\n        params,\n        fetch,\n        observer,\n        observable,\n        streamId,\n        isQueryStream,\n        isSearchQuery,\n        isSingleItemStream,\n        cacheStream,\n        type: 'unknown',\n        dataIds: {},\n      };\n\n      this.addStreamIdByApiEndpointIndex(apiEndpoint, streamId, isQueryStream);\n\n      if (cacheStream) {\n        // here we subscribe to the stream if it should be cached,\n        // to make sure there at any give time at least 1 subscriber\n        // (you can kind of view this as being similar to a subscription to the stream in App.tsx...\n        // it will stay subscribed as long as the user is on the platform)\n        this.streams[streamId].subscription = this.streams[\n          streamId\n        ].observable.subscribe();\n      }\n\n      return this.streams[streamId] as IStream<T>;\n    }\n\n    return this.streams[streamId] as IStream<T>;\n  }\n\n  async add<T>(\n    unsafeApiEndpoint: string,\n    bodyData: Record<string, any> | null,\n    waitForRefetchesToResolve = false\n  ) {\n    const apiEndpoint = this.removeTrailingSlash(unsafeApiEndpoint);\n\n    try {\n      const promises: Promise<any>[] = [];\n      const response = await request<T>(\n        apiEndpoint,\n        bodyData,\n        { method: 'POST' },\n        null\n      );\n\n      forEach(\n        this.streamIdsByApiEndPointWithoutQuery[apiEndpoint],\n        (streamId) => {\n          const stream = this.streams[streamId];\n\n          if (\n            stream.cacheStream &&\n            stream.type === 'singleObject' &&\n            !isEmpty(response?.['data']) &&\n            !isArray(response?.['data'])\n          ) {\n            stream.observer.next(this.deepFreeze(response));\n          } else if (\n            stream.cacheStream &&\n            stream.type === 'arrayOfObjects' &&\n            !isEmpty(response?.['data'])\n          ) {\n            stream.observer.next((previous) => {\n              let data: any;\n\n              if (isArray(response['data'])) {\n                data = [...previous?.data, ...response['data']];\n              } else {\n                data = [...previous?.data, response['data']];\n              }\n\n              return this.deepFreeze({\n                ...previous,\n                data,\n              });\n            });\n          } else {\n            promises.push(stream.fetch());\n          }\n        }\n      );\n\n      forEach(this.streamIdsByApiEndPointWithQuery[apiEndpoint], (streamId) => {\n        promises.push(this.streams[streamId].fetch());\n      });\n\n      if (waitForRefetchesToResolve) {\n        await Promise.all(promises);\n      }\n\n      return response;\n    } catch (error) {\n      if (!error.json || !error.json.errors) {\n        reportError(error);\n      }\n      return Promise.reject(error);\n    }\n  }\n\n  async update<T>(\n    unsafeApiEndpoint: string,\n    dataId: string,\n    bodyData: Record<string, any>,\n    waitForRefetchesToResolve = false\n  ) {\n    const apiEndpoint = this.removeTrailingSlash(unsafeApiEndpoint);\n\n    try {\n      const promises: Promise<any>[] = [];\n      const response = await request<T>(\n        apiEndpoint,\n        bodyData,\n        { method: 'PATCH' },\n        null\n      );\n\n      union(\n        this.streamIdsByDataIdWithoutQuery[dataId],\n        this.streamIdsByApiEndPointWithoutQuery[apiEndpoint]\n      ).forEach((streamId) => {\n        const stream = this.streams[streamId];\n        const streamHasDataId = has(stream, `dataIds.${dataId}`);\n\n        if (!stream.cacheStream) {\n          promises.push(stream.fetch());\n        } else if (streamHasDataId && stream.type === 'singleObject') {\n          stream.observer.next(response);\n        } else if (streamHasDataId && stream.type === 'arrayOfObjects') {\n          stream.observer.next((previous) =>\n            this.deepFreeze({\n              ...previous,\n              data: previous.data.map((child) =>\n                child.id === dataId ? response['data'] : child\n              ),\n            })\n          );\n        }\n      });\n\n      union(\n        this.streamIdsByApiEndPointWithQuery[apiEndpoint],\n        this.streamIdsByDataIdWithQuery[dataId]\n      ).forEach((streamId) => {\n        promises.push(this.streams[streamId].fetch());\n      });\n\n      if (waitForRefetchesToResolve) {\n        await Promise.all(promises);\n      }\n\n      return response;\n    } catch (error) {\n      if (!error.json || !error.json.errors) {\n        reportError(error);\n      }\n\n      return Promise.reject(error);\n    }\n  }\n\n  async delete(\n    unsafeApiEndpoint: string,\n    dataId: string,\n    waitForRefetchesToResolve = false\n  ) {\n    const apiEndpoint = this.removeTrailingSlash(unsafeApiEndpoint);\n\n    try {\n      const promises: Promise<any>[] = [];\n\n      await request(apiEndpoint, null, { method: 'DELETE' }, null);\n\n      union(\n        this.streamIdsByDataIdWithoutQuery[dataId],\n        this.streamIdsByApiEndPointWithoutQuery[apiEndpoint]\n      ).forEach((streamId) => {\n        const stream = this.streams[streamId];\n        const streamHasDataId = has(stream, `dataIds.${dataId}`);\n\n        if (stream && !stream.cacheStream) {\n          promises.push(stream.fetch());\n        } else if (streamHasDataId && stream.type === 'singleObject') {\n          stream.observer.next(undefined);\n        } else if (streamHasDataId && stream.type === 'arrayOfObjects') {\n          stream.observer.next((previous) =>\n            this.deepFreeze({\n              ...previous,\n              data: previous.data.filter((child) => child.id !== dataId),\n            })\n          );\n        }\n      });\n\n      union(\n        this.streamIdsByApiEndPointWithQuery[apiEndpoint],\n        this.streamIdsByDataIdWithQuery[dataId]\n      ).forEach((streamId) => {\n        promises.push(this.streams[streamId].fetch());\n      });\n\n      if (waitForRefetchesToResolve) {\n        await Promise.all(promises);\n      }\n\n      return true;\n    } catch (error) {\n      if (process.env.NODE_ENV === 'development') {\n        // eslint-disable-next-line no-console\n        console.log(error);\n      }\n\n      if (!error.json || !error.json.errors) {\n        reportError(error);\n      }\n\n      return Promise.reject(error);\n    }\n  }\n\n  async fetchAllWith({\n    dataId,\n    apiEndpoint,\n    partialApiEndpoint,\n    regexApiEndpoint,\n    onlyFetchActiveStreams,\n  }: {\n    dataId?: string[];\n    apiEndpoint?: string[];\n    partialApiEndpoint?: string[];\n    regexApiEndpoint?: RegExp[];\n    onlyFetchActiveStreams?: boolean;\n  }) {\n    const keys = [...(dataId || []), ...(apiEndpoint || [])];\n    const promises: Promise<any>[] = [];\n\n    const streamIds1 = flatten(\n      keys.map((key) => [\n        ...(this.streamIdsByDataIdWithQuery[key] || []),\n        ...(this.streamIdsByDataIdWithoutQuery[key] || []),\n        ...(this.streamIdsByApiEndPointWithQuery[key] || []),\n        ...(this.streamIdsByApiEndPointWithoutQuery[key] || []),\n      ])\n    );\n\n    const streamIds2: string[] = [];\n    if (partialApiEndpoint && partialApiEndpoint.length > 0) {\n      forOwn(this.streamIdsByApiEndPointWithQuery, (_value, key) => {\n        partialApiEndpoint.forEach((endpoint) => {\n          if (\n            key.includes(endpoint) &&\n            this.streamIdsByApiEndPointWithQuery[key]\n          ) {\n            streamIds2.push(...this.streamIdsByApiEndPointWithQuery[key]);\n          }\n        });\n      });\n\n      forOwn(this.streamIdsByApiEndPointWithoutQuery, (_value, key) => {\n        partialApiEndpoint.forEach((endpoint) => {\n          if (\n            key.includes(endpoint) &&\n            this.streamIdsByApiEndPointWithoutQuery[key]\n          ) {\n            streamIds2.push(...this.streamIdsByApiEndPointWithoutQuery[key]);\n          }\n        });\n      });\n    }\n\n    const streamIds3: string[] = [];\n    if (regexApiEndpoint && regexApiEndpoint.length > 0) {\n      forOwn(this.streamIdsByApiEndPointWithQuery, (_value, key) => {\n        regexApiEndpoint.forEach((regex) => {\n          if (regex.test(key) && this.streamIdsByApiEndPointWithQuery[key]) {\n            streamIds3.push(...this.streamIdsByApiEndPointWithQuery[key]);\n          }\n        });\n      });\n\n      forOwn(this.streamIdsByApiEndPointWithoutQuery, (_value, key) => {\n        regexApiEndpoint.forEach((regex) => {\n          if (regex.test(key) && this.streamIdsByApiEndPointWithoutQuery[key]) {\n            streamIds3.push(...this.streamIdsByApiEndPointWithoutQuery[key]);\n          }\n        });\n      });\n    }\n\n    const mergedStreamIds = [...streamIds1, ...streamIds2, ...streamIds3];\n\n    if (includes(keys, authApiEndpoint)) {\n      mergedStreamIds.push(authApiEndpoint);\n    }\n\n    uniq(mergedStreamIds).forEach((streamId) => {\n      if (!onlyFetchActiveStreams || this.isActiveStream(streamId)) {\n        promises.push(this.streams[streamId].fetch());\n      }\n    });\n\n    return await Promise.all(promises);\n  }\n}\n\nconst streams = new Streams();\nexport default streams;\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  assignedToMe: {\n    id: 'app.components.admin.PostManager.assignedToMe',\n    defaultMessage: 'Assigned to me',\n  },\n  assignedTo: {\n    id: 'app.components.admin.PostManager.assignedTo',\n    defaultMessage: 'Assigned to {assigneeName}',\n  },\n  noOne: {\n    id: 'app.components.admin.PostManager.noOne',\n    defaultMessage: 'Unassigned',\n  },\n  inputManagerHeader: {\n    id: 'app.components.admin.PostManager.inputManagerHeader',\n    defaultMessage: 'Inputs',\n  },\n  inputsNeedFeedbackToggle: {\n    id: 'app.components.admin.PostManager.inputsNeedFeedbackToggle',\n    defaultMessage: 'Only show inputs that need feedback',\n  },\n  delete: {\n    id: 'app.components.admin.PostManager.delete',\n    defaultMessage: 'Delete',\n  },\n  deleteAllSelectedInputs: {\n    id: 'app.components.admin.PostManager.deleteAllSelectedInputs',\n    defaultMessage: 'Delete {count} inputs',\n  },\n  deleteInputConfirmation: {\n    id: 'app.components.admin.PostManager.deleteInputConfirmation',\n    defaultMessage: 'Are you sure you want to delete this input?',\n  },\n  deleteInputsConfirmation: {\n    id: 'app.components.admin.PostManager.deleteInputsConfirmation',\n    defaultMessage: 'Are you sure you want to delete {count} inputs?',\n  },\n  deleteAllSelectedInitiatives: {\n    id: 'app.components.admin.PostManager.deleteAllSelectedInitiatives',\n    defaultMessage: 'Delete {count} selected initiatives',\n  },\n  deleteInitiativeConfirmation: {\n    id: 'app.components.admin.PostManager.deleteInitiativeConfirmation',\n    defaultMessage: 'Are you sure you want to delete this initiative?',\n  },\n  deleteInitiativesConfirmation: {\n    id: 'app.components.admin.PostManager.deleteInitiativesConfirmation',\n    defaultMessage: 'Are you sure you want to delete {count} initiatives?',\n  },\n  losePhaseInfoConfirmation: {\n    id: 'app.components.admin.PostManager.losePhaseInfoConfirmation',\n    defaultMessage:\n      \"Moving '{ideaTitle}' away from its current project will lose the information about its assigned phases. Do you want to proceed?\",\n  },\n  edit: {\n    id: 'app.components.admin.PostManager.edit',\n    defaultMessage: 'Edit',\n  },\n  title: {\n    id: 'app.components.admin.PostManager.title',\n    defaultMessage: 'Title',\n  },\n  assignee: {\n    id: 'app.components.admin.PostManager.assignee',\n    defaultMessage: 'Assignee',\n  },\n  publication_date: {\n    id: 'app.components.admin.PostManager.publication_date',\n    defaultMessage: 'Published on',\n  },\n  remainingTime: {\n    id: 'app.components.admin.PostManager.remainingTime',\n    defaultMessage: 'Days Remaining',\n  },\n  up: {\n    id: 'app.components.admin.PostManager.up',\n    defaultMessage: 'Up',\n  },\n  votes: {\n    id: 'app.components.admin.PostManager.votes',\n    defaultMessage: 'Votes',\n  },\n  comments: {\n    id: 'app.components.admin.PostManager.comments',\n    defaultMessage: 'Comments',\n  },\n  down: {\n    id: 'app.components.admin.PostManager.down',\n    defaultMessage: 'Down',\n  },\n  participatoryBudgettingPicks: {\n    id: 'app.components.admin.PostManager.participatoryBudgettingPicks',\n    defaultMessage: 'Picks',\n  },\n  timelineTab: {\n    id: 'app.components.admin.PostManager.timelineTab',\n    defaultMessage: 'Timeline',\n  },\n  timelineTabTooltipText: {\n    id: 'app.components.admin.PostManager.timelineTabTooltipText',\n    defaultMessage:\n      'Drag and drop inputs to copy them to different project phases.',\n  },\n  topicsTab: {\n    id: 'app.components.admin.PostManager.topicsTab',\n    defaultMessage: 'Topics',\n  },\n  topicsTabTooltipText: {\n    id: 'app.components.admin.PostManager.topicsTabTooltipText',\n    defaultMessage: 'Add topics to an input using drag and drop.',\n  },\n  projectsTab: {\n    id: 'app.components.admin.PostManager.projectsTab',\n    defaultMessage: 'Projects',\n  },\n  projectsTabTooltipContent: {\n    id: 'app.components.admin.PostManager.projectsTabTooltipContent',\n    defaultMessage:\n      'You can drag and drop posts to move them from one project to another. Note that for timeline projects, you will still need to add the post to a specific phase.',\n  },\n  statusesTab: {\n    id: 'app.components.admin.PostManager.statusesTab',\n    defaultMessage: 'Status',\n  },\n  statusesTabTooltipContent: {\n    id: 'app.components.admin.PostManager.statusesTabTooltipContent',\n    defaultMessage:\n      'Change the status of a post using drag and drop. The original author and other contributors will receive a notification of the changed status.',\n  },\n  pbItemCountTooltip: {\n    id: 'app.components.admin.PostManager.pbItemCountTooltip',\n    defaultMessage:\n      \"The number of times this has been included in other participants' participatory budgets\",\n  },\n  exportAllInputs: {\n    id: 'app.components.admin.PostManager.exportAllInputs',\n    defaultMessage: 'Export all inputs (.xslx)',\n  },\n  exportInputsProjects: {\n    id: 'app.components.admin.PostManager.exportInputsProjects',\n    defaultMessage: 'Export inputs for this project (.xslx)',\n  },\n  exportSelectedInputs: {\n    id: 'app.components.admin.PostManager.exportSelectedInputs',\n    defaultMessage: 'Export selected inputs (.xslx)',\n  },\n  inputsExportFileName: {\n    id: 'app.components.admin.PostManager.inputsExportFileName',\n    defaultMessage: 'input',\n  },\n  inputCommentsExportFileName: {\n    id: 'app.components.admin.PostManager.inputCommentsExportFileName',\n    defaultMessage: 'input_comments',\n  },\n  exportIdeasComments: {\n    id: 'app.components.admin.PostManager.exportIdeasComments',\n    defaultMessage: 'Export all comments (.xslx)',\n  },\n  exportIdeasCommentsProjects: {\n    id: 'app.components.admin.PostManager.exportIdeasCommentsProjects',\n    defaultMessage: 'Export comments for this project (.xslx)',\n  },\n  exportSelectedInputsComments: {\n    id: 'app.components.admin.PostManager.exportSelectedInputsComments',\n    defaultMessage: 'Export comments for selected inputs (.xslx)',\n  },\n  exportInitiatives: {\n    id: 'app.components.admin.PostManager.exportInitiatives',\n    defaultMessage: 'Export all initiatives (.xslx)',\n  },\n  exportInitiativesProjects: {\n    id: 'app.components.admin.PostManager.exportInitiativesProjects',\n    defaultMessage: 'Export initiatives for this project (.xslx)',\n  },\n  exportSelectedInitiatives: {\n    id: 'app.components.admin.PostManager.exportSelectedInitiatives',\n    defaultMessage: 'Export selected initiatives (.xslx)',\n  },\n  initiativesExportFileName: {\n    id: 'app.components.admin.PostManager.initiativesExportFileName',\n    defaultMessage: 'proposals',\n  },\n  initiativesCommentsExportFileName: {\n    id: 'app.components.admin.PostManager.initiativesCommentsExportFileName',\n    defaultMessage: 'proposal_comments',\n  },\n  exportInitiativesComments: {\n    id: 'app.components.admin.PostManager.exportInitiativesComments',\n    defaultMessage: 'Export all comments (.xslx)',\n  },\n  exportSelectedInitiativesComments: {\n    id: 'app.components.admin.PostManager.exportSelectedInitiativesComments',\n    defaultMessage: 'Export comments for selected initiatives (.xslx)',\n  },\n  exports: {\n    id: 'app.components.admin.PostManager.exports',\n    defaultMessage: 'Exports',\n  },\n  noFilteredResults: {\n    id: 'app.components.admin.PostManager.noFilteredResults',\n    defaultMessage: 'The filters you selected did not return any results',\n  },\n  noInitiativesHere: {\n    id: 'app.components.admin.PostManager.noInitiativesHere',\n    defaultMessage: 'No initiatives match the current filters',\n  },\n  resetInputFiltersDescription: {\n    id: 'app.components.admin.PostManager.resetInputFiltersDescription',\n    defaultMessage: 'Reset the filters to see all inputs.',\n  },\n  resetFiltersButton: {\n    id: 'app.components.admin.PostManager.resetFiltersButton',\n    defaultMessage: 'Reset filters',\n  },\n  allProjects: {\n    id: 'app.components.admin.PostManager.allProjects',\n    defaultMessage: 'All projects',\n  },\n  allTopics: {\n    id: 'app.components.admin.PostManager.allTopics',\n    defaultMessage: 'All topics',\n  },\n  allStatuses: {\n    id: 'app.components.admin.PostManager.allStatuses',\n    defaultMessage: 'All statuses',\n  },\n  allPhases: {\n    id: 'app.components.admin.PostManager.allPhases',\n    defaultMessage: 'All phases',\n  },\n  oneInput: {\n    id: 'app.components.admin.InputManager.onePost',\n    defaultMessage: '1 input',\n  },\n  multipleInputs: {\n    id: 'app.components.admin.PostManager.multipleInputs',\n    defaultMessage: '{ideaCount} inputs',\n  },\n  oneInitiative: {\n    id: 'app.components.admin.PostManager.oneInitiative',\n    defaultMessage: '1 initiative',\n  },\n  multipleInitiatives: {\n    id: 'app.components.admin.PostManager.multipleInitiatives',\n    defaultMessage: '{initiativesCount} initiatives',\n  },\n  changeStatusModalTitle: {\n    id: 'app.components.admin.PostManager.changeStatusModalTitle',\n    defaultMessage: \"Change this initiative's status\",\n  },\n  statusChange: {\n    id: 'app.components.admin.PostManager.statusChange',\n    defaultMessage:\n      \"To change {initiativeTitle}'s status to {newStatus}, please provide feedback to the community.\",\n  },\n  feedbackBodyPlaceholder: {\n    id: 'app.components.admin.PostManager.feedbackBodyPlaceholder',\n    defaultMessage: 'Justify this status change',\n  },\n  officialUpdateBody: {\n    id: 'app.components.admin.PostManager.officialUpdateBody',\n    defaultMessage: 'Justify this status change',\n  },\n  officialUpdateAuthor: {\n    id: 'app.components.admin.PostManager.officialUpdateAuthor',\n    defaultMessage: 'Choose how people will see your name',\n  },\n  feedbackAuthorPlaceholder: {\n    id: 'app.components.admin.PostManager.feedbackAuthorPlaceholder',\n    defaultMessage: 'Choose how people will see your name',\n  },\n  statusChangeSave: {\n    id: 'app.components.admin.PostManager.statusChangeSave',\n    defaultMessage: 'Change status',\n  },\n  statusChangeGenericError: {\n    id: 'app.components.admin.PostManager.statusChangeGenericError',\n    defaultMessage:\n      'There was an error, please try again later or contact support.',\n  },\n  newFeedbackMode: {\n    id: 'app.components.admin.PostManager.newFeedbackMode',\n    defaultMessage: 'Write a new official update to explain this change',\n  },\n  latestFeedbackMode: {\n    id: 'app.components.admin.PostManager.latestFeedbackMode',\n    defaultMessage: 'Use the latest existing official update as an explanation',\n  },\n  automatic: {\n    id: 'app.components.admin.PostManager.automatic',\n    defaultMessage: '(automatic)',\n  },\n  inputs: {\n    id: 'app.components.admin.PostManager.inputs',\n    defaultMessage: 'inputs',\n  },\n  initiatives: {\n    id: 'app.components.admin.PostManager.initiatives',\n    defaultMessage: 'initiatives',\n  },\n});\n","import 'whatwg-fetch';\nimport { from } from 'rxjs';\nimport { UploadFile } from 'typings';\nimport { isString } from 'lodash-es';\nimport { reportError } from 'utils/loggingUtils';\n\nexport const imageSizes = {\n  headerBg: {\n    large: [1440, 480],\n    medium: [720, 152],\n    small: [520, 250],\n  },\n  projectBg: {\n    large: [1440, 360],\n    medium: [720, 180],\n    small: [520, 250],\n  },\n  ideaImg: {\n    fb: [1200, 630],\n    medium: [298, 135],\n    small: [96, 96],\n  },\n  initiativeImg: {\n    fb: [1200, 630],\n    medium: [298, 135],\n    small: [96, 96],\n  },\n};\n\nexport async function getBase64FromFile(file: File) {\n  return new Promise<string>((resolve, reject) => {\n    if (file && !isString(file)) {\n      const reader = new FileReader();\n      reader.onloadend = (event: any) => resolve(event.target.result);\n      reader.onerror = () => reject(new Error('error for getBase64()'));\n      reader.readAsDataURL(file);\n    } else {\n      reject(new Error('input is not of type File'));\n    }\n  });\n}\n\nfunction convertBlobToFile(blob: Blob, fileName: string) {\n  const b: any = blob;\n  b.lastModifiedDate = new Date();\n  b.name = fileName;\n  return <File>b;\n}\n\nexport async function convertUrlToUploadFile(\n  url: string,\n  id?: string | null,\n  filename?: string | null\n) {\n  const headers = new Headers();\n  headers.append('cache-control', 'no-cache');\n  headers.append('pragma', 'no-cache');\n\n  try {\n    const blob = await fetch(url, { headers }).then((response) =>\n      response.blob()\n    );\n    const urlFilename = url.substring(url.lastIndexOf('/') + 1);\n    const uploadFile = convertBlobToFile(\n      blob,\n      filename || urlFilename\n    ) as UploadFile;\n    const base64 = await getBase64FromFile(uploadFile);\n    uploadFile.url = url;\n    uploadFile.base64 = base64;\n    uploadFile.remote = true;\n    uploadFile.filename = filename || urlFilename;\n    uploadFile.id = id || undefined;\n    return uploadFile;\n  } catch (error) {\n    reportError(error);\n    return null;\n  }\n}\n\nexport function convertUrlToUploadFileObservable(\n  url: string,\n  id: string | null,\n  filename: string | null\n) {\n  return from(convertUrlToUploadFile(url, id, filename));\n}\n","import Loadable from 'react-loadable';\nimport { LoadableLoadingAdmin } from 'components/UI/LoadableLoading';\nimport moduleConfiguration from 'modules';\n\nexport default () => ({\n  path: 'settings',\n  name: 'admin settings',\n  component: Loadable({\n    loader: () => import('containers/Admin/settings'),\n    loading: LoadableLoadingAdmin,\n    delay: 500,\n  }),\n  indexRoute: {\n    component: Loadable({\n      loader: () => import('containers/Admin/settings/general'),\n      loading: LoadableLoadingAdmin,\n      delay: 500,\n    }),\n  },\n  childRoutes: [\n    {\n      path: 'general',\n      component: Loadable({\n        loader: () => import('containers/Admin/settings/general'),\n        loading: () => null,\n      }),\n    },\n    {\n      path: 'customize',\n      component: Loadable({\n        loader: () => import('containers/Admin/settings/customize'),\n        loading: () => null,\n      }),\n    },\n    {\n      path: 'pages',\n      component: Loadable({\n        loader: () => import('containers/Admin/settings/pages'),\n        loading: () => null,\n      }),\n    },\n    {\n      path: 'registration',\n      component: Loadable({\n        loader: () => import('containers/Admin/settings/registration'),\n        loading: () => null,\n      }),\n    },\n    ...moduleConfiguration.routes['admin.settings'],\n  ],\n});\n","import React from 'react';\nimport { Subscription } from 'rxjs';\nimport {\n  userCustomFieldsStream,\n  IUserCustomFieldData,\n  IUserCustomFieldInputType,\n} from '../services/userCustomFields';\n\ninterface InputProps {}\n\ntype children = (\n  renderProps: GetUserCustomFieldsChildProps\n) => JSX.Element | null;\n\ninterface Props extends InputProps {\n  children?: children;\n  inputTypes?: IUserCustomFieldInputType[];\n}\n\ninterface State {\n  userCustomFields: IUserCustomFieldData[] | undefined | null;\n}\n\nexport type GetUserCustomFieldsChildProps =\n  | IUserCustomFieldData[]\n  | undefined\n  | null;\n\nexport default class GetCustomFields extends React.Component<Props, State> {\n  private subscriptions: Subscription[];\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      userCustomFields: undefined,\n    };\n  }\n\n  componentDidMount() {\n    const { inputTypes } = this.props;\n    const userCustomFields$ = userCustomFieldsStream({\n      queryParameters: { input_types: inputTypes },\n    }).observable;\n\n    this.subscriptions = [\n      userCustomFields$.subscribe((userCustomFields) => {\n        this.setState({\n          userCustomFields: userCustomFields.data,\n        });\n      }),\n    ];\n  }\n\n  componentWillUnmount() {\n    this.subscriptions.forEach((subscription) => subscription.unsubscribe());\n  }\n\n  render() {\n    const { children } = this.props;\n    const { userCustomFields } = this.state;\n    return (children as children)(userCustomFields);\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { createPortal } from 'react-dom';\nimport { adopt } from 'react-adopt';\nimport { Subscription, fromEvent } from 'rxjs';\nimport { debounceTime, distinctUntilChanged } from 'rxjs/operators';\nimport clHistory from 'utils/cl-router/history';\nimport eventEmitter from 'utils/eventEmitter';\nimport { FocusOn } from 'react-focus-on';\n\n// i18n\nimport messages from './messages';\nimport { FormattedMessage } from 'utils/cl-intl';\n\n// components\nimport { Icon } from 'cl2-component-library';\nimport clickOutside from 'utils/containers/clickOutside';\n\n// resources\nimport GetWindowSize, {\n  GetWindowSizeChildProps,\n} from 'resources/GetWindowSize';\n\n// animations\nimport CSSTransition from 'react-transition-group/CSSTransition';\n\n// analytics\nimport { trackEventByName } from 'utils/analytics';\nimport tracks from './tracks';\n\n// style\nimport styled from 'styled-components';\nimport {\n  media,\n  colors,\n  fontSizes,\n  defaultOutline,\n  viewportWidths,\n  isRtl,\n} from 'utils/styleUtils';\n\nconst desktopOpacityTimeout = 500;\nconst mobileOpacityTimeout = 250;\n\nconst desktopTransformTimeout = 500;\nconst mobileTransformTimeout = 700;\n\nconst desktopTranslateY = '-200px';\nconst mobileTranslateY = '300px';\n\nconst desktopEasing = 'cubic-bezier(0.19, 1, 0.22, 1)';\nconst mobileEasing = 'cubic-bezier(0.19, 1, 0.22, 1)';\n\nexport const ModalContentContainer = styled.div<{\n  padding?: string | undefined;\n}>`\n  flex: 1 1 auto;\n  width: 100%;\n  overflow-y: auto;\n  overflow-x: hidden;\n  -webkit-overflow-scrolling: touch;\n  padding: ${({ padding }) => padding || '30px'};\n\n  ${media.smallerThanMinTablet`\n    padding: ${({ padding }) => padding || '20px'};\n  `}\n`;\n\nconst CloseButton = styled.button`\n  width: 30px;\n  height: 30px;\n  position: absolute;\n  top: 19px;\n  right: 25px;\n  cursor: pointer;\n  margin: 0;\n  padding: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 2000;\n  border-radius: 50%;\n  border: solid 1px transparent;\n  background: #fff;\n  transition: all 100ms ease-out;\n  outline: none !important;\n\n  ${isRtl`\n    right: auto;\n    left: 25px;\n  `}\n\n  &:hover {\n    background: #e0e0e0;\n  }\n\n  &.focus-visible {\n    ${defaultOutline};\n  }\n\n  ${media.smallerThanMinTablet`\n    top: 13px;\n    right: 15px;\n  `}\n`;\n\nconst CloseIcon = styled(Icon)`\n  width: 12px;\n  height: 12px;\n  fill: ${(props: any) => props.theme.colorText};\n`;\n\nconst StyledFocusOn = styled(FocusOn)<{ width: number }>`\n  width: 100%;\n  max-width: ${({ width }) => width}px;\n  display: flex;\n  justify-content: center;\n`;\n\nconst ModalContainer = styled(clickOutside)<{ windowHeight: string }>`\n  width: 100%;\n  max-height: 85vh;\n  margin-top: 50px;\n  background: #fff;\n  border-radius: ${({ theme }) => theme.borderRadius};\n  display: flex;\n  flex-direction: column;\n  outline: none;\n  overflow: hidden;\n  padding: 0px;\n  position: relative;\n\n  &.fixedHeight {\n    height: 100%;\n    max-height: 600px;\n  }\n\n  /* tall desktops screens */\n  @media (min-height: 1200px) {\n    margin-top: 120px;\n  }\n\n  ${media.smallerThanMinTablet`\n    max-width: calc(100vw - 30px);\n    max-height: ${(props) => `calc(${props.windowHeight} - 30px)`};\n    margin-top: 15px;\n\n    &.fixedHeight {\n      height: auto;\n      max-height: 85vh;\n    }\n  `}\n`;\n\nconst Overlay = styled.div`\n  width: 100vw;\n  height: 100vh;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  align-items: flex-start;\n  justify-content: center;\n  background: rgba(0, 0, 0, 0.75);\n  padding-left: 30px;\n  padding-right: 30px;\n  overflow: hidden;\n  z-index: 1000001;\n  will-change: opacity, transform;\n\n  ${media.biggerThanMinTablet`\n    justify-content: center;\n  `}\n\n  ${media.smallerThanMinTablet`\n    padding-left: 12px;\n    padding-right: 12px;\n    padding: 0px;\n  `}\n\n  &.modal-enter {\n    opacity: 0;\n\n    ${ModalContainer} {\n      opacity: 1;\n      transform: translateY(${desktopTranslateY});\n\n      ${media.smallerThanMinTablet`\n        transform: translateY(${mobileTranslateY});\n      `}\n    }\n\n    &.modal-enter-active {\n      opacity: 1;\n      transition: opacity ${desktopOpacityTimeout}ms ${desktopEasing};\n\n      ${media.smallerThanMinTablet`\n        transition: opacity ${mobileOpacityTimeout}ms ${mobileEasing};\n      `}\n\n      ${ModalContainer} {\n        opacity: 1;\n        transform: translateY(0px);\n        transition: opacity ${desktopOpacityTimeout}ms ${desktopEasing},\n          transform ${desktopTransformTimeout}ms ${desktopEasing};\n\n        ${media.smallerThanMinTablet`\n          transition: opacity ${mobileOpacityTimeout}ms ${mobileEasing},\n                      transform ${mobileTransformTimeout}ms ${mobileEasing};\n        `}\n      }\n    }\n  }\n`;\n\nexport const HeaderContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  padding-left: 30px;\n  padding-right: 30px;\n  padding-top: 20px;\n  padding-bottom: 20px;\n  border-bottom: solid 1px #e0e0e0;\n  background: transparent;\n\n  ${media.smallerThanMinTablet`\n    padding-top: 15px;\n    padding-bottom: 15px;\n    padding-left: 20px;\n    padding-right: 20px;\n  `}\n`;\n\nexport const HeaderTitle = styled.h1`\n  color: ${(props: any) => props.theme.colorText};\n  font-size: ${fontSizes.xl}px;\n  font-weight: 600;\n  line-height: normal;\n  margin: 0;\n  margin-right: 45px;\n  padding: 0;\n\n  ${media.smallerThanMinTablet`\n    margin-right: 35px;\n  `}\n\n  ${isRtl`\n    text-align: right;\n    margin: 0;\n    margin-left: 45px;\n\n    ${media.smallerThanMinTablet`\n      margin-left: 35px;\n    `}\n  `}\n`;\n\nexport const HeaderSubtitle = styled.h2`\n  width: 100%;\n  color: ${(props: any) => props.theme.colorText};\n  font-size: ${fontSizes.base}px;\n  font-weight: 300;\n  line-height: normal;\n  margin: 0;\n  margin-top: 5px;\n  padding: 0;\n\n  ${isRtl`\n    text-align: right;\n  `}\n`;\n\nconst FooterContainer = styled.div`\n  width: 100%;\n  display: flex;\n  flex-shrink: 0;\n  flex-direction: row;\n  align-items: center;\n  padding-left: 30px;\n  padding-right: 30px;\n  padding-top: 15px;\n  padding-bottom: 15px;\n  border-top: solid 1px ${colors.separation};\n  background: #fff;\n\n  ${media.smallerThanMinTablet`\n    padding-top: 10px;\n    padding-bottom: 10px;\n    padding-left: 20px;\n    padding-right: 20px;\n  `}\n`;\n\nconst Skip = styled.div`\n  color: #fff;\n  font-size: ${fontSizes.base}px;\n  text-align: center;\n  text-decoration: underline;\n  margin-top: 15px;\n  cursor: pointer;\n\n  ${media.smallerThanMaxTablet`\n    display: none;\n  `}\n`;\n\nexport const ButtonsWrapper = styled.div`\n  display: flex;\n  justify-content: flex-start;\n  flex-wrap: wrap;\n  width: 100%;\n\n  .Button {\n    margin-right: 1rem;\n    margin-bottom: 0.5rem;\n  }\n`;\n\nexport const Content = styled.p`\n  font-size: ${fontSizes.base}px;\n  line-height: ${fontSizes.xxl}px;\n  margin-bottom: 30px;\n`;\n\ninterface DataProps {\n  windowSize: GetWindowSizeChildProps;\n}\n\nexport interface InputProps {\n  opened: boolean;\n  fixedHeight?: boolean;\n  width?: number;\n  close: () => void;\n  className?: string;\n  header?: JSX.Element | string;\n  footer?: JSX.Element;\n  hasSkipButton?: boolean;\n  skipText?: JSX.Element;\n  padding?: string;\n  noClose?: boolean;\n  closeOnClickOutside?: boolean;\n  children: React.ReactNode;\n}\n\ninterface Props extends InputProps, DataProps {}\n\ninterface State {\n  windowHeight: string;\n}\n\nclass Modal extends PureComponent<Props, State> {\n  unlisten: null | (() => void);\n  subscription: Subscription | null;\n\n  static defaultProps = {\n    fixedHeight: false,\n    width: 650,\n  };\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      windowHeight: `${window.innerHeight}px`,\n    };\n    this.unlisten = null;\n    this.subscription = null;\n  }\n\n  componentDidMount() {\n    this.subscription = fromEvent(window, 'resize')\n      .pipe(debounceTime(50), distinctUntilChanged())\n      .subscribe((event) => {\n        if (event.target) {\n          const height = event.target['innerHeight'] as number;\n          this.setState({ windowHeight: `${height}px` });\n        }\n      });\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (!prevProps.opened && this.props.opened) {\n      this.openModal();\n    } else if (prevProps.opened && !this.props.opened) {\n      this.cleanup();\n    }\n  }\n\n  componentWillUnmount() {\n    this.subscription?.unsubscribe();\n    this.cleanup();\n  }\n\n  openModal = () => {\n    window.addEventListener('popstate', this.handlePopstateEvent);\n    window.addEventListener('keydown', this.handleKeypress);\n    eventEmitter.emit('modalOpened');\n    this.unlisten = clHistory.listen(() => this.closeModal());\n  };\n\n  closeModal = () => {\n    if (!this.props.noClose) {\n      this.props.close();\n    }\n  };\n\n  handlePopstateEvent = () => {\n    this.closeModal();\n  };\n\n  handleKeypress = (event) => {\n    if (event.type === 'keydown' && event.key === 'Escape') {\n      event.preventDefault();\n      this.closeModal();\n    }\n  };\n\n  cleanup = () => {\n    window.removeEventListener('popstate', this.handlePopstateEvent);\n    window.removeEventListener('keydown', this.handleKeypress);\n    eventEmitter.emit('modalClosed');\n    this.unlisten && this.unlisten();\n    this.unlisten = null;\n  };\n\n  clickOutsideModal = () => {\n    if (this.props.closeOnClickOutside !== false) {\n      trackEventByName(tracks.clickOutsideModal);\n      this.closeModal();\n    }\n  };\n\n  clickCloseButton = (event: React.MouseEvent<any>) => {\n    event.preventDefault();\n    event.stopPropagation();\n    trackEventByName(tracks.clickCloseButton);\n    this.closeModal();\n  };\n\n  removeFocus = (event: React.MouseEvent<HTMLButtonElement>) => {\n    event.preventDefault();\n  };\n\n  render() {\n    const { windowHeight } = this.state;\n    const {\n      windowSize,\n      width,\n      children,\n      opened,\n      header,\n      footer,\n      hasSkipButton,\n      skipText,\n      noClose,\n    } = this.props;\n    const hasFixedHeight = this.props.fixedHeight;\n    const smallerThanSmallTablet = windowSize\n      ? windowSize <= viewportWidths.smallTablet\n      : false;\n    const modalPortalElement = document?.getElementById('modal-portal');\n    let padding: string | undefined = undefined;\n\n    if (header !== undefined || footer !== undefined) {\n      padding = '0px';\n    } else if (this.props.padding) {\n      padding = this.props.padding;\n    }\n\n    if (modalPortalElement && width) {\n      return createPortal(\n        <CSSTransition\n          classNames=\"modal\"\n          in={opened}\n          timeout={\n            smallerThanSmallTablet\n              ? mobileTransformTimeout\n              : desktopTransformTimeout\n          }\n          mountOnEnter={true}\n          unmountOnExit={true}\n          enter={true}\n          exit={false}\n        >\n          <Overlay id=\"e2e-modal-container\" className={this.props.className}>\n            <StyledFocusOn width={width}>\n              <ModalContainer\n                className={`modalcontent ${\n                  hasFixedHeight ? 'fixedHeight' : ''\n                }`}\n                onClickOutside={this.clickOutsideModal}\n                windowHeight={windowHeight}\n                ariaLabelledBy=\"modal-header\"\n                aria-modal=\"true\"\n                role=\"dialog\"\n              >\n                {!noClose && (\n                  <CloseButton\n                    className=\"e2e-modal-close-button\"\n                    onMouseDown={this.removeFocus}\n                    onClick={this.clickCloseButton}\n                  >\n                    <CloseIcon\n                      title={<FormattedMessage {...messages.closeModal} />}\n                      name=\"close\"\n                    />\n                  </CloseButton>\n                )}\n\n                {header && (\n                  <HeaderContainer>\n                    <HeaderTitle id=\"modal-header\">{header}</HeaderTitle>\n                  </HeaderContainer>\n                )}\n\n                <ModalContentContainer padding={padding}>\n                  {children}\n                </ModalContentContainer>\n\n                {footer && <FooterContainer>{footer}</FooterContainer>}\n\n                {hasSkipButton && skipText && (\n                  <Skip onClick={this.clickCloseButton}>{skipText}</Skip>\n                )}\n              </ModalContainer>\n            </StyledFocusOn>\n          </Overlay>\n        </CSSTransition>,\n        modalPortalElement\n      );\n    }\n\n    return null;\n  }\n}\n\nconst Data = adopt<DataProps, InputProps>({\n  windowSize: <GetWindowSize />,\n});\n\nexport default (inputProps: InputProps) => (\n  <Data {...inputProps}>\n    {(dataProps) => <Modal {...inputProps} {...dataProps} />}\n  </Data>\n);\n","import React, { memo } from 'react';\nimport { TRule } from '../rules';\nimport { IOption } from 'typings';\nimport GetProjects, { GetProjectsChildProps } from 'resources/GetProjects';\nimport useLocalize from 'hooks/useLocalize';\nimport MultipleSelect from 'components/UI/MultipleSelect';\nimport { isNilOrError } from 'utils/helperUtils';\n\nexport interface Props {\n  rule: TRule;\n  value: string;\n  onChange: (value: string[]) => void;\n  projects: GetProjectsChildProps;\n}\n\nconst ProjectValuesSelector = memo(({ value, onChange, projects }: Props) => {\n  const localize = useLocalize();\n  const generateOptions = (): IOption[] => {\n    if (!isNilOrError(projects) && projects.projectsList) {\n      return projects.projectsList.map((project) => ({\n        value: project.id,\n        label: localize(project.attributes.title_multiloc),\n      }));\n    } else {\n      return [];\n    }\n  };\n\n  const handleOnChange = (options: IOption[]) => {\n    const optionIds = options.map((o) => o.value);\n    onChange(optionIds);\n  };\n\n  return (\n    <MultipleSelect\n      value={value}\n      options={generateOptions()}\n      onChange={handleOnChange}\n    />\n  );\n});\n\nexport default (inputProps) => (\n  <GetProjects publicationStatuses={['draft', 'published', 'archived']}>\n    {(projects) => (\n      <ProjectValuesSelector {...inputProps} projects={projects} />\n    )}\n  </GetProjects>\n);\n","import React, { memo, useCallback, useState } from 'react';\nimport { isNilOrError } from 'utils/helperUtils';\n\n// hooks\nimport useAppConfiguration from 'hooks/useAppConfiguration';\nimport useWindowSize from 'hooks/useWindowSize';\n\n// component\nimport SignUp from 'components/SignUpIn/SignUp';\nimport SignIn from 'components/SignUpIn/SignIn';\n\n// styling\nimport styled from 'styled-components';\nimport { ContextShape } from 'components/Verification/verificationModalEvents';\n\n// typings\n\nconst Container = styled.div``;\n\nexport type ISignUpInActionType = 'upvote' | 'downvote' | 'comment' | 'post';\n\nexport type ISignUpInActionContextType =\n  | 'idea'\n  | 'initiative'\n  | 'project'\n  | 'phase';\n\nexport type TSignUpInFlow = 'signup' | 'signin';\n\nexport interface ISignUpInMetaData {\n  flow: TSignUpInFlow;\n  pathname: string;\n  verification?: boolean;\n  verificationContext?: ContextShape;\n  error?: boolean;\n  isInvitation?: boolean;\n  token?: string;\n  inModal?: boolean;\n  modalNoCloseSteps?: string[];\n  noPushLinks?: boolean;\n  noAutofocus?: boolean;\n  action?: () => void;\n}\n\ninterface Props {\n  metaData: ISignUpInMetaData;\n  customSignInHeader?: JSX.Element;\n  customSignUpHeader?: JSX.Element;\n  onSignUpInCompleted: (flow: TSignUpInFlow) => void;\n  className?: string;\n}\n\nconst SignUpIn = memo<Props>(\n  ({\n    metaData,\n    customSignInHeader,\n    customSignUpHeader,\n    onSignUpInCompleted,\n    className,\n  }) => {\n    const tenant = useAppConfiguration();\n    const { windowHeight } = useWindowSize();\n\n    const [selectedFlow, setSelectedFlow] = useState(metaData.flow || 'signup');\n\n    const metaDataWithCurrentFlow = { ...metaData, flow: selectedFlow };\n    const onSignUpCompleted = useCallback(() => {\n      onSignUpInCompleted('signup');\n    }, [onSignUpInCompleted]);\n\n    const onSignInCompleted = useCallback(() => {\n      onSignUpInCompleted('signin');\n    }, [onSignUpInCompleted]);\n\n    const onToggleSelectedMethod = useCallback(() => {\n      setSelectedFlow((prevSelectedFlow) =>\n        prevSelectedFlow === 'signup' ? 'signin' : 'signup'\n      );\n    }, []);\n\n    if (!isNilOrError(tenant)) {\n      return (\n        <Container className={className}>\n          {selectedFlow === 'signup' ? (\n            <SignUp\n              metaData={metaDataWithCurrentFlow}\n              windowHeight={windowHeight}\n              customHeader={customSignUpHeader}\n              onSignUpCompleted={onSignUpCompleted}\n              onGoToSignIn={onToggleSelectedMethod}\n            />\n          ) : (\n            <SignIn\n              metaData={metaDataWithCurrentFlow}\n              windowHeight={windowHeight}\n              customHeader={customSignInHeader}\n              onSignInCompleted={onSignInCompleted}\n              onGoToSignUp={onToggleSelectedMethod}\n            />\n          )}\n        </Container>\n      );\n    }\n\n    return null;\n  }\n);\n\nexport default SignUpIn;\n","import React from 'react';\nimport { Helmet } from 'react-helmet';\nimport { injectIntl } from 'utils/cl-intl';\nimport messages from './messages';\n\nconst SiteMapMeta = ({ intl }) => (\n  <Helmet>\n    <title>{intl.formatMessage(messages.siteMapTitle)}</title>\n    <meta\n      name=\"description\"\n      content={intl.formatMessage(messages.siteMapDescription)}\n    />\n  </Helmet>\n);\n\nexport default injectIntl(SiteMapMeta);\n","import React, { memo, useCallback, Fragment } from 'react';\nimport { isNilOrError } from 'utils/helperUtils';\n\n// components\nimport { Icon, Spinner } from 'cl2-component-library';\nimport Avatar from 'components/Avatar';\nimport T from 'components/T';\nimport Button from 'components/UI/Button';\nimport { Title, Subtitle } from './styles';\nimport Or from 'components/UI/Or';\n\n// hooks\nimport useAuthUser from 'hooks/useAuthUser';\nimport useParticipationConditions from 'hooks/useParticipationConditions';\nimport useVerificationMethods from 'hooks/useVerificationMethods';\n\n// i18n\nimport messages from './messages';\nimport { FormattedMessage } from 'utils/cl-intl';\n\n// style\nimport styled from 'styled-components';\nimport { colors, fontSizes, media } from 'utils/styleUtils';\n\n// typings\nimport { IVerificationMethod } from 'services/verificationMethods';\nimport Outlet from 'components/Outlet';\nimport { ContextShape } from 'components/Verification/verificationModalEvents';\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n`;\n\nconst Loading = styled.div`\n  width: 100%;\n  height: 250px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst Header = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  margin-bottom: 35px;\n\n  ${media.smallerThanMaxTablet`\n    justify-content: flex-start;\n    margin-bottom: 20px;\n  `}\n`;\n\nconst AboveTitle = styled.div`\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-bottom: 25px;\n`;\n\nconst StyledAvatar = styled(Avatar)`\n  margin-left: -5px;\n  margin-right: -5px;\n  z-index: 2;\n\n  ${media.largePhone`\n    margin-left: 0;\n  `}\n`;\n\nconst ShieldIcon = styled(Icon)`\n  fill: ${colors.label};\n  width: 48px;\n  height: 53px;\n  margin-left: -5px;\n`;\n\nconst Content = styled.div`\n  display: flex;\n  margin-bottom: 10px;\n\n  &.inModal {\n    justify-content: center;\n  }\n\n  ${media.smallerThanMaxTablet`\n    flex-wrap: wrap;\n  `}\n`;\n\nconst Context = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  padding-right: 30px;\n  padding-top: 30px;\n  padding-bottom: 30px;\n\n  ${media.smallerThanMaxTablet`\n    padding: 0;\n    margin-bottom: 25px;\n  `}\n`;\n\nconst ContextLabel = styled.div`\n  color: ${({ theme }) => theme.colorText};\n  font-size: ${fontSizes.small}px;\n  font-weight: 400;\n  line-height: normal;\n  margin-bottom: 17px;\n`;\n\nconst ContextItem = styled.span`\n  color: ${(props: any) => props.theme.colorText};\n  font-size: ${fontSizes.small}px;\n  line-height: normal;\n  border-radius: ${(props) => props.theme.borderRadius};\n  border: 1px solid #ccc;\n  padding: 6px 13px;\n  margin-bottom: 5px;\n  max-width: 100%;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n\n  &:first-letter {\n    text-transform: capitalize;\n  }\n\n  ${media.largePhone`\n    white-space: normal;\n  `}\n`;\n\nconst ButtonsContainer = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n\n  &.inModal {\n    padding: 30px;\n    background: ${colors.background};\n    border-radius: ${(props: any) => props.theme.borderRadius};\n\n    ${media.smallerThanMinTablet`\n      padding: 15px;\n    `}\n\n    &.withoutContext {\n      max-width: 650px;\n    }\n  }\n`;\n\nconst SkipButtonContainer = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  margin-top: 15px;\n`;\n\ninterface Props {\n  context: ContextShape | null;\n  showHeader?: boolean;\n  skippable?: boolean;\n  inModal: boolean;\n  onMethodSelected: (selectedMethod: IVerificationMethod) => void;\n  onSkipped?: () => void;\n  className?: string;\n}\n\nconst VerificationMethods = memo<Props>(\n  ({\n    context,\n    showHeader,\n    skippable,\n    inModal,\n    onMethodSelected,\n    onSkipped,\n    className,\n  }) => {\n    const participationConditions = useParticipationConditions(context);\n\n    const authUser = useAuthUser();\n    const verificationMethods = useVerificationMethods();\n\n    const withContext =\n      !isNilOrError(participationConditions) &&\n      participationConditions.length > 0;\n\n    const handleOnMethodSelected = useCallback(\n      (method: IVerificationMethod) => () => {\n        onMethodSelected(method);\n      },\n      [onMethodSelected]\n    );\n\n    const onSkipButtonClicked = useCallback(() => {\n      onSkipped?.();\n    }, [onSkipped]);\n\n    if (\n      verificationMethods === undefined ||\n      participationConditions === undefined\n    ) {\n      return (\n        <Loading>\n          <Spinner />\n        </Loading>\n      );\n    }\n\n    if (\n      !isNilOrError(verificationMethods) &&\n      participationConditions !== undefined\n    ) {\n      return (\n        <Container\n          id=\"e2e-verification-wizard-method-selection-step\"\n          className={className || ''}\n        >\n          {showHeader && (\n            <Header>\n              <AboveTitle aria-hidden>\n                <StyledAvatar\n                  userId={!isNilOrError(authUser) ? authUser.id : null}\n                  size={55}\n                />\n                <ShieldIcon name=\"verify_dark\" />\n              </AboveTitle>\n              <Title id=\"modal-header\">\n                <strong>\n                  <FormattedMessage {...messages.verifyYourIdentity} />\n                </strong>\n                {withContext ? (\n                  <FormattedMessage {...messages.toParticipateInThisProject} />\n                ) : (\n                  <FormattedMessage\n                    {...messages.andUnlockYourCitizenPotential}\n                  />\n                )}\n              </Title>\n            </Header>\n          )}\n\n          <Content className={`${inModal ? 'inModal' : ''}`}>\n            {withContext &&\n              !isNilOrError(participationConditions) &&\n              participationConditions.length > 0 && (\n                <Context>\n                  <Subtitle>\n                    <FormattedMessage {...messages.participationConditions} />\n                  </Subtitle>\n\n                  <ContextLabel>\n                    <FormattedMessage {...messages.peopleMatchingConditions} />\n                  </ContextLabel>\n\n                  {participationConditions.map((rulesSet, index) => {\n                    const rules = rulesSet.map((rule, ruleIndex) => (\n                      <ContextItem className=\"e2e-rule-item\" key={ruleIndex}>\n                        <T value={rule} />\n                      </ContextItem>\n                    ));\n                    return index === 0 ? (\n                      rules\n                    ) : (\n                      <Fragment key={index}>\n                        <Or />\n                        {rules}\n                      </Fragment>\n                    );\n                  })}\n                </Context>\n              )}\n\n            <ButtonsContainer\n              className={`${withContext ? 'withContext' : 'withoutContext'} ${\n                inModal ? 'inModal' : ''\n              }`}\n            >\n              {verificationMethods.data.map((method, index) => (\n                <Outlet\n                  key={method.id}\n                  id=\"app.components.VerificationModal.button\"\n                  method={method}\n                  onMethodSelected={handleOnMethodSelected(method)}\n                  last={index + 1 === verificationMethods.data.length}\n                />\n              ))}\n            </ButtonsContainer>\n          </Content>\n\n          {skippable && (\n            <SkipButtonContainer>\n              <Button\n                buttonStyle=\"text\"\n                padding=\"0px\"\n                onClick={onSkipButtonClicked}\n              >\n                <FormattedMessage {...messages.skipThisStep} />\n              </Button>\n            </SkipButtonContainer>\n          )}\n        </Container>\n      );\n    }\n\n    return null;\n  }\n);\n\nexport default VerificationMethods;\n","import React, { memo } from 'react';\nimport { isNilOrError, stopPropagation } from 'utils/helperUtils';\n\n// services\nimport { IMentionInOfficialFeedbackNotificationData } from 'services/notifications';\n\n// i18n\nimport messages from '../../messages';\nimport { FormattedMessage } from 'utils/cl-intl';\n\n// components\nimport NotificationWrapper from '../NotificationWrapper';\nimport Link from 'utils/cl-router/Link';\nimport { DeletedUser } from '../Notification';\nimport T from 'components/T';\n\ninterface Props {\n  notification: IMentionInOfficialFeedbackNotificationData;\n}\n\nconst mapPostTypeToLink = (\n  notification: IMentionInOfficialFeedbackNotificationData\n): string => {\n  switch (notification.attributes.post_type) {\n    case 'Idea':\n      return `/ideas/${notification.attributes.post_slug}`;\n    case 'Initiative':\n      return `/initiatives/${notification.attributes.post_slug}`;\n  }\n};\n\nconst MentionInCommentNotification = memo<Props>((props) => {\n  const { notification } = props;\n\n  const officialFeedbackAuthorMultiloc =\n    notification.attributes.official_feedback_author;\n  const deletedUser = isNilOrError(\n    notification.attributes.initiating_user_slug\n  );\n\n  return (\n    <NotificationWrapper\n      linkTo={mapPostTypeToLink(notification)}\n      timing={notification.attributes.created_at}\n      icon=\"notification_mention\"\n      isRead={!!notification.attributes.read_at}\n    >\n      <FormattedMessage\n        {...messages.mentionInOfficialFeedback}\n        values={{\n          officialName: deletedUser ? (\n            <DeletedUser>\n              <FormattedMessage {...messages.deletedUser} />\n            </DeletedUser>\n          ) : (\n            <Link\n              to={`/profile/${notification.attributes.initiating_user_slug}`}\n              onClick={stopPropagation}\n            >\n              <T value={officialFeedbackAuthorMultiloc} />\n            </Link>\n          ),\n        }}\n      />\n    </NotificationWrapper>\n  );\n});\n\nexport default MentionInCommentNotification;\n","import React from 'react';\nimport { ModuleConfiguration } from 'utils/moduleUtils';\nimport NavItem from './admin/components/NavItem';\n\nconst configuration: ModuleConfiguration = {\n  routes: {\n    admin: [\n      {\n        path: 'insights',\n        container: () => import('./admin/containers'),\n        indexRoute: {\n          container: () => import('./admin/containers/Insights/List'),\n        },\n        childRoutes: [\n          {\n            path: 'reports',\n            container: () => import('./admin/containers/Reports'),\n          },\n          {\n            path: 'reports/:projectId',\n            container: () => import('./admin/containers/Reports/ProjectReport'),\n          },\n          {\n            path: ':viewId',\n            container: () => import('./admin/containers/Insights/Details'),\n          },\n          {\n            path: ':viewId/edit',\n            container: () => import('./admin/containers/Insights/Edit'),\n          },\n          {\n            path: ':viewId/detect',\n            container: () => import('./admin/containers/Insights/Detect'),\n          },\n        ],\n      },\n    ],\n  },\n  outlets: {\n    'app.containers.Admin.sideBar.navItems': (props) => <NavItem {...props} />,\n  },\n};\n\nexport default configuration;\n","import { useState, useEffect } from 'react';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { Observable, of } from 'rxjs';\nimport {\n  projectFolderByIdStream,\n  projectFolderBySlugStream,\n  IProjectFolderData,\n} from '../services/projectFolders';\n\ninterface Props {\n  projectFolderId?: string | null;\n  projectFolderSlug?: string | null;\n}\n\nexport default function useProjectFolder({\n  projectFolderId,\n  projectFolderSlug,\n}: Props) {\n  const [projectFolder, setProjectFolder] = useState<\n    IProjectFolderData | undefined | null | Error\n  >(undefined);\n\n  useEffect(() => {\n    setProjectFolder(undefined);\n\n    let observable: Observable<{ data: IProjectFolderData } | null> = of(null);\n\n    if (projectFolderId) {\n      observable = projectFolderByIdStream(projectFolderId).observable;\n    } else if (projectFolderSlug) {\n      observable = projectFolderBySlugStream(projectFolderSlug).observable;\n    }\n\n    const subscription = observable.subscribe((response) => {\n      const projectFolder = !isNilOrError(response) ? response.data : response;\n      setProjectFolder(projectFolder);\n    });\n\n    return () => subscription.unsubscribe();\n  }, [projectFolderId, projectFolderSlug]);\n\n  return projectFolder;\n}\n","import React, { memo } from 'react';\nimport { isNilOrError } from 'utils/helperUtils';\nimport useLocale from 'hooks/useLocale';\nimport {\n  Button,\n  ButtonProps,\n  ButtonContainerProps as ComponentLibraryButtonContainerProps,\n  ButtonStyles as ComponentLibraryButtonStyles,\n} from 'cl2-component-library';\n\ninterface Props extends Omit<ButtonProps, 'locale'> {}\n\ninterface ButtonContainerProps extends ComponentLibraryButtonContainerProps {}\n\ntype ButtonStyles = ComponentLibraryButtonStyles;\n\nconst ButtonWrapper = memo<Props>((props) => {\n  const locale = useLocale();\n\n  if (!isNilOrError(locale)) {\n    return <Button {...props} locale={locale} />;\n  }\n\n  return null;\n});\n\nexport default ButtonWrapper;\n\nexport { Props, ButtonContainerProps, ButtonStyles };\n","import { useState, useEffect } from 'react';\nimport { IUserData } from 'services/users';\nimport { projectModeratorsStream } from 'modules/commercial/project_management/services/projectModerators';\n\nexport default function useProjectModerators(projectId: string) {\n  const [projectModerators, setProjectModerators] = useState<\n    IUserData[] | undefined | null | Error\n  >(undefined);\n\n  useEffect(() => {\n    const subscription = projectModeratorsStream(\n      projectId\n    ).observable.subscribe((response) => {\n      setProjectModerators(response.data);\n    });\n\n    return () => subscription.unsubscribe();\n  }, [projectId]);\n\n  return projectModerators;\n}\n","// These are the pages you can go to. (within the admin)\n// They are all wrapped in the App component, which should contain the navbar etc\n// See http://blog.mxstbr.com/2016/01/react-apps-with-pages for more information\n// about the code splitting business\nimport dashboardRoutes from './dashboard/routes';\nimport initiativesRoutes from './initiatives/routes';\nimport usersRoutes from './users/routes';\nimport invitationsRoutes from './invitations/routes';\nimport projectsRoutes from './projects/routes';\nimport settingsRoutes from './settings/routes';\nimport settingsAreasRoutes from './settings/areas/routes';\nimport pagesRoutes from './pages/routes';\nimport emailsRoutes from './emails/routes';\nimport ideasRoutes from './ideas/routes';\n\nimport moduleConfiguration from 'modules';\n\nimport { hasPermission } from 'services/permissions';\nimport { removeLocale } from 'utils/cl-router/updateLocationDescriptor';\nimport { isUUID } from 'utils/helperUtils';\n\nimport Loadable from 'react-loadable';\nimport { LoadableLoadingAdmin } from 'components/UI/LoadableLoading';\nimport { currentAppConfigurationStream } from 'services/appConfiguration';\nimport { combineLatest } from 'rxjs';\nimport { authUserStream } from 'services/auth';\nimport { isModerator } from 'services/permissions/roles';\n\nconst isUserAuthorized = (nextState, replace) => {\n  const pathNameWithLocale = nextState.location.pathname;\n  const { pathname, urlLocale } = removeLocale(pathNameWithLocale);\n  combineLatest(\n    hasPermission({\n      item: { type: 'route', path: pathname },\n      action: 'access',\n    }),\n    currentAppConfigurationStream().observable,\n    authUserStream().observable\n  ).subscribe(([accessAthorized, tenant, authUser]) => {\n    if (!accessAthorized) {\n      if (tenant.data.attributes.settings.core.lifecycle_stage === 'churned') {\n        replace(`${urlLocale && `/${urlLocale}`}/subscription-ended`);\n      } else if (isModerator(authUser)) {\n        replace(`${urlLocale && `/${urlLocale}`}/`);\n      } else {\n        // get array with url segments (e.g. 'admin/projects/all' becomes ['admin', 'projects', 'all'])\n        const urlSegments = pathname\n          ? pathname.replace(/^\\/+/g, '').split('/')\n          : null;\n\n        // check if a unauthorized user is trying to access a template preview page (url pattern: /admin/projects/templates/[id])\n        // if so, redirect them to the citizen-facing version of the template preview page (url pattern: /templates/[id])\n        // if not, redirect them to the sign-in page\n        if (\n          urlSegments &&\n          urlSegments.length === 4 &&\n          urlSegments[0] === 'admin' &&\n          urlSegments[1] === 'projects' &&\n          urlSegments[2] === 'templates' &&\n          isUUID(urlSegments[3])\n        ) {\n          replace(`/${urlLocale}/templates/${urlSegments[3]}`);\n        } else {\n          replace(`${urlLocale && `/${urlLocale}`}/sign-in`);\n        }\n      }\n    }\n  });\n};\n\nexport default () => ({\n  path: 'admin',\n  name: 'Admin page',\n  component: Loadable({\n    loader: () => import('containers/Admin'),\n    loading: () => null,\n  }),\n  onEnter: isUserAuthorized,\n  indexRoute: {\n    onEnter: (nextState, replace) => {\n      const pathNameWithLocale = nextState.location.pathname;\n      const { urlLocale } = removeLocale(pathNameWithLocale);\n      replace(`${urlLocale && `/${urlLocale}`}/admin/dashboard`);\n    },\n  },\n  childRoutes: [\n    dashboardRoutes(),\n    initiativesRoutes(),\n    usersRoutes(),\n    projectsRoutes(),\n    settingsRoutes(),\n    settingsAreasRoutes(),\n    pagesRoutes(),\n    invitationsRoutes(),\n    emailsRoutes(),\n    ideasRoutes(),\n    {\n      path: 'workshops',\n      component: Loadable({\n        loader: () => import('containers/Admin/workshops'),\n        loading: LoadableLoadingAdmin,\n        delay: 500,\n      }),\n    },\n    {\n      path: 'favicon',\n      component: Loadable({\n        loader: () => import('containers/Admin/favicon'),\n        loading: LoadableLoadingAdmin,\n        delay: 500,\n      }),\n    },\n    {\n      path: 'guide',\n      component: Loadable({\n        loader: () => import('containers/Admin/guide'),\n        loading: LoadableLoadingAdmin,\n        delay: 500,\n      }),\n    },\n    ...moduleConfiguration.routes.admin,\n  ],\n});\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  google_tag_manager: {\n    id:\n      'app.components.ConsentManager.Modal.PreferencesDialog.google_tag_manager',\n    defaultMessage: 'Google Tag Manager ({destinations})',\n  },\n});\n","import adminRoutes from 'containers/Admin/routes';\nimport Loadable from 'react-loadable';\nimport { LoadableLoadingCitizen } from 'components/UI/LoadableLoading';\nimport moduleConfiguration from 'modules';\n\nexport default function createRoutes() {\n  return [\n    {\n      path: '/:locale',\n      name: 'LocaleWrapper',\n      indexRoute: {\n        name: 'home',\n        component: Loadable({\n          loader: () => import('containers/LandingPage'),\n          loading: LoadableLoadingCitizen,\n          delay: 500,\n        }),\n      },\n      childRoutes: [\n        {\n          path: 'sign-in',\n          name: 'signInPage',\n          component: Loadable({\n            loader: () => import('containers/SignUpInPage'),\n            loading: LoadableLoadingCitizen,\n            delay: 500,\n          }),\n        },\n        {\n          path: 'sign-up',\n          name: 'signUpPage',\n          component: Loadable({\n            loader: () => import('containers/SignUpInPage'),\n            loading: LoadableLoadingCitizen,\n            delay: 500,\n          }),\n        },\n        {\n          path: 'invite',\n          component: Loadable({\n            loader: () => import('containers/LandingPage'),\n            loading: LoadableLoadingCitizen,\n            delay: 500,\n          }),\n        },\n        {\n          path: 'complete-signup',\n          component: Loadable({\n            loader: () => import('containers/LandingPage'),\n            loading: LoadableLoadingCitizen,\n            delay: 500,\n          }),\n        },\n        {\n          path: 'authentication-error',\n          component: Loadable({\n            loader: () => import('containers/LandingPage'),\n            loading: LoadableLoadingCitizen,\n            delay: 500,\n          }),\n        },\n        {\n          path: 'site-map',\n          name: 'siteMap',\n          component: Loadable({\n            loader: () => import('containers/SiteMap'),\n            loading: LoadableLoadingCitizen,\n            delay: 500,\n          }),\n        },\n        {\n          path: 'profile/edit',\n          name: 'usersEditPage',\n          component: Loadable({\n            loader: () => import('containers/UsersEditPage'),\n            loading: LoadableLoadingCitizen,\n            delay: 500,\n          }),\n        },\n        {\n          path: 'profile/:slug',\n          name: 'usersShowPage',\n          component: Loadable({\n            loader: () => import('containers/UsersShowPage'),\n            loading: LoadableLoadingCitizen,\n            delay: 500,\n          }),\n        },\n        {\n          path: 'ideas/new',\n          name: 'IdeasProjectSelectPage',\n          component: Loadable({\n            loader: () => import('containers/IdeasProjectSelectPage'),\n            loading: LoadableLoadingCitizen,\n            delay: 500,\n          }),\n        },\n        {\n          path: 'ideas/edit/:ideaId',\n          name: 'IdeasEditPage',\n          component: Loadable({\n            loader: () => import('containers/IdeasEditPage'),\n            loading: LoadableLoadingCitizen,\n            delay: 500,\n          }),\n        },\n        {\n          path: 'ideas',\n          name: 'ideasPage',\n          component: Loadable({\n            loader: () => import('containers/IdeasIndexPage'),\n            loading: LoadableLoadingCitizen,\n            delay: 500,\n          }),\n        },\n        {\n          path: 'ideas/:slug',\n          name: 'ideasShow',\n          component: Loadable({\n            loader: () => import('containers/IdeasShowPage'),\n            loading: LoadableLoadingCitizen,\n            delay: 500,\n          }),\n        },\n        {\n          path: 'initiatives',\n          name: 'initiativesPage',\n          component: Loadable({\n            loader: () => import('containers/InitiativesIndexPage'),\n            loading: LoadableLoadingCitizen,\n            delay: 500,\n          }),\n        },\n        {\n          path: 'initiatives/edit/:initiativeId',\n          name: 'InitiativesEditPage',\n          component: Loadable({\n            loader: () => import('containers/InitiativesEditPage'),\n            loading: LoadableLoadingCitizen,\n            delay: 500,\n          }),\n        },\n        {\n          path: 'initiatives/new',\n          name: 'initiativesNewPage',\n          component: Loadable({\n            loader: () => import('containers/InitiativesNewPage'),\n            loading: LoadableLoadingCitizen,\n            delay: 500,\n          }),\n        },\n        // super important that this comes AFTER initiatives/new, if it comes before, new is interpreted as a slug\n        {\n          path: 'initiatives/:slug',\n          name: 'initiativesShow',\n          component: Loadable({\n            loader: () => import('containers/InitiativesShowPage'),\n            loading: LoadableLoadingCitizen,\n            delay: 10,\n          }),\n        },\n        {\n          path: 'projects/:slug/ideas/new',\n          name: 'IdeasNewPage',\n          component: Loadable({\n            loader: () => import('containers/IdeasNewPage'),\n            loading: LoadableLoadingCitizen,\n            delay: 500,\n          }),\n        },\n        adminRoutes(),\n        {\n          path: 'projects',\n          name: 'Project page',\n          component: Loadable({\n            loader: () => import('containers/ProjectsIndexPage'),\n            loading: LoadableLoadingCitizen,\n            delay: 500,\n          }),\n        },\n        {\n          path: 'projects/:slug',\n          name: 'Project page',\n          component: Loadable({\n            loader: () => import('containers/ProjectsShowPage'),\n            loading: LoadableLoadingCitizen,\n            delay: 500,\n          }),\n          indexRoute: {\n            name: 'Project page',\n            component: Loadable({\n              loader: () => import('containers/ProjectsShowPage'),\n              loading: LoadableLoadingCitizen,\n              delay: 500,\n            }),\n          },\n          childRoutes: [\n            {\n              path: ':phaseNumber',\n              name: 'Project page: specific phase',\n              component: Loadable({\n                loader: () => import('containers/ProjectsShowPage'),\n                loading: LoadableLoadingCitizen,\n                delay: 500,\n              }),\n            },\n            {\n              path: '*',\n              name: 'Project page',\n              component: Loadable({\n                loader: () => import('containers/ProjectsShowPage'),\n                loading: LoadableLoadingCitizen,\n                delay: 500,\n              }),\n            },\n          ],\n        },\n        {\n          path: 'events',\n          name: 'Events page',\n          component: Loadable({\n            loader: () => import('containers/EventsPage'),\n            loading: LoadableLoadingCitizen,\n            delay: 500,\n          }),\n        },\n        {\n          path: 'pages/cookie-policy',\n          name: 'cookiePolicy',\n          component: Loadable({\n            loader: () => import('containers/CookiePolicy'),\n            loading: LoadableLoadingCitizen,\n            delay: 500,\n          }),\n        },\n        {\n          path: 'pages/accessibility-statement',\n          name: 'accessibilityStatement',\n          component: Loadable({\n            loader: () => import('containers/AccessibilityStatement'),\n            loading: LoadableLoadingCitizen,\n            delay: 500,\n          }),\n        },\n        {\n          path: 'pages/:slug',\n          name: 'pagesShowPage',\n          component: Loadable({\n            loader: () => import('containers/PagesShowPage'),\n            loading: LoadableLoadingCitizen,\n            delay: 500,\n          }),\n        },\n        {\n          path: 'password-recovery',\n          name: 'passwordRecovery',\n          component: Loadable({\n            loader: () => import('containers/PasswordRecovery'),\n            loading: LoadableLoadingCitizen,\n            delay: 500,\n          }),\n        },\n        {\n          // Used as link in email received for password recovery\n          path: 'reset-password',\n          name: 'passwordReset',\n          component: Loadable({\n            loader: () => import('containers/PasswordReset'),\n            loading: LoadableLoadingCitizen,\n            delay: 500,\n          }),\n        },\n        {\n          path: 'subscription-ended',\n          name: 'subscriptionEnded',\n          component: Loadable({\n            loader: () => import('containers/SubscriptionEndedPage'),\n            loading: LoadableLoadingCitizen,\n            delay: 500,\n          }),\n        },\n        {\n          path: 'email-settings',\n          name: 'EmailSettingPage',\n          component: Loadable({\n            loader: () => import('containers/EmailSettingsPage'),\n            loading: LoadableLoadingCitizen,\n            delay: 500,\n          }),\n        },\n        ...moduleConfiguration.routes.citizen,\n        {\n          path: '*',\n          name: 'notfound',\n          component: Loadable({\n            loader: () => import('containers/PagesShowPage'),\n            loading: LoadableLoadingCitizen,\n            delay: 500,\n          }),\n        },\n      ],\n    },\n  ];\n}\n","import React from 'react';\n\n// components\nimport { Radio, IconTooltip } from 'cl2-component-library';\nimport { SubSectionTitle } from 'components/admin/Section';\nimport { StyledSectionField } from './styling';\n\n// i18n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from '../messages';\n\n// typings\nimport { PublicationStatus } from '..';\n\ninterface Props {\n  publicationStatus: PublicationStatus;\n  handleStatusChange: (value: PublicationStatus) => void;\n}\n\nexport default ({ publicationStatus, handleStatusChange }: Props) => (\n  <StyledSectionField>\n    <SubSectionTitle>\n      <FormattedMessage {...messages.statusLabel} />\n      <IconTooltip\n        content={<FormattedMessage {...messages.publicationStatusTooltip} />}\n      />\n    </SubSectionTitle>\n    <Radio\n      onChange={handleStatusChange}\n      currentValue={publicationStatus}\n      value=\"draft\"\n      name=\"projectstatus\"\n      id=\"projecstatus-draft\"\n      className=\"e2e-projecstatus-draft\"\n      label={<FormattedMessage {...messages.draftStatus} />}\n    />\n    <Radio\n      onChange={handleStatusChange}\n      currentValue={publicationStatus}\n      value=\"published\"\n      name=\"projectstatus\"\n      id=\"projecstatus-published\"\n      className=\"e2e-projecstatus-published\"\n      label={<FormattedMessage {...messages.publishedStatus} />}\n    />\n    <Radio\n      onChange={handleStatusChange}\n      currentValue={publicationStatus}\n      value=\"archived\"\n      name=\"projectstatus\"\n      id=\"projecstatus-archived\"\n      className=\"e2e-projecstatus-archived\"\n      label={<FormattedMessage {...messages.archivedStatus} />}\n    />\n  </StyledSectionField>\n);\n","import { omitBy, isNil } from 'lodash-es';\nimport { State, IParticipationContextConfig } from '..';\n\nexport default ({\n  participation_method,\n  posting_enabled,\n  commenting_enabled,\n  voting_enabled,\n  voting_method,\n  voting_limited_max,\n  downvoting_enabled,\n  presentation_mode,\n  min_budget,\n  max_budget,\n  survey_embed_url,\n  survey_service,\n  poll_anonymous,\n  ideas_order,\n  input_term,\n}: State) => {\n  let output: IParticipationContextConfig = {} as any;\n\n  if (participation_method === 'information') {\n    output = {\n      participation_method,\n    };\n  } else if (participation_method === 'ideation') {\n    output = omitBy(\n      {\n        participation_method,\n        posting_enabled,\n        commenting_enabled,\n        voting_enabled,\n        presentation_mode,\n        ideas_order,\n        input_term,\n        voting_method: voting_enabled ? voting_method : null,\n        voting_limited_max:\n          voting_enabled && voting_method === 'limited'\n            ? voting_limited_max\n            : null,\n        downvoting_enabled: voting_enabled ? downvoting_enabled : null,\n      },\n      isNil\n    ) as IParticipationContextConfig;\n  } else if (participation_method === 'survey') {\n    output = {\n      participation_method,\n      survey_embed_url,\n      survey_service,\n    };\n  } else if (participation_method === 'poll') {\n    output = {\n      participation_method,\n      poll_anonymous,\n    };\n  } else if (participation_method === 'volunteering') {\n    output = {\n      participation_method,\n    };\n  } else if (participation_method === 'budgeting') {\n    output = omitBy(\n      {\n        participation_method,\n        min_budget,\n        max_budget,\n        commenting_enabled,\n        presentation_mode,\n        ideas_order,\n        input_term,\n      },\n      isNil\n    ) as IParticipationContextConfig;\n  }\n\n  return output;\n};\n","import { API_PATH } from 'containers/App/constants';\nimport { IVerifiedResponse } from 'services/verify';\nimport streams from 'utils/streams';\n\nexport function verifyCOW(run: string, id_serial: string) {\n  return streams.add<IVerifiedResponse>(\n    `${API_PATH}/verification_methods/cow/verification`,\n    {\n      verification: {\n        run,\n        id_serial,\n      },\n    }\n  );\n}\n","import React, { PureComponent } from 'react';\nimport styled, { withTheme } from 'styled-components';\nimport { quillEditedContent } from 'utils/styleUtils';\n\nconst Container: any = styled.div`\n  ${(props: any) =>\n    quillEditedContent(\n      props.theme.colorMain,\n      props.linkColor,\n      props.textColor,\n      props.mentionColor,\n      props.fontSize,\n      props.fontWeight\n    )}\n`;\n\ninterface Props {\n  linkColor?: string;\n  textColor?: string;\n  mentionColor?: string;\n  fontSize?: 'small' | 'base' | 'medium' | 'large';\n  fontWeight?: 300 | 400;\n  children: JSX.Element | JSX.Element[] | string;\n  className?: string;\n  theme: any;\n}\n\ninterface State {}\n\nclass QuillEditedContent extends PureComponent<Props, State> {\n  render() {\n    const {\n      linkColor,\n      textColor,\n      mentionColor,\n      fontSize,\n      fontWeight,\n      children,\n      className,\n      theme,\n    } = this.props;\n\n    return (\n      <Container\n        linkColor={linkColor}\n        textColor={textColor}\n        mentionColor={mentionColor || theme.colorText}\n        fontSize={fontSize}\n        fontWeight={fontWeight}\n        className={className || ''}\n      >\n        {children}\n      </Container>\n    );\n  }\n}\n\nexport default withTheme(QuillEditedContent);\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  verifyYourIdentity: {\n    id: 'app.components.VerificationModal.verifyYourIdentity',\n    defaultMessage: 'Verify your identity',\n  },\n  andUnlockYourCitizenPotential: {\n    id: 'app.components.VerificationModal.andUnlockYourCitizenPotential',\n    defaultMessage: 'and unlock your citizen potential',\n  },\n  toParticipateInThisProject: {\n    id: 'app.components.VerificationModal.toParticipateInThisProject',\n    defaultMessage: 'to participate in this project',\n  },\n  verified: {\n    id: 'app.containers.Navbar.verified',\n    defaultMessage: 'Verified',\n  },\n  unverified: {\n    id: 'app.containers.Navbar.unverified',\n    defaultMessage: 'Unverified',\n  },\n  showHelp: {\n    id: 'app.components.VerificationModal.showHelp',\n    defaultMessage: 'Where can I find my ID Serial Number?',\n  },\n  or: {\n    id: 'app.components.VerificationModal.or',\n    defaultMessage: 'or',\n  },\n  takenFormError: {\n    id: 'app.components.VerificationModal.takenFormError',\n    defaultMessage: 'Already taken.',\n  },\n  emptyFieldError: {\n    id: 'app.components.VerificationModal.emptyFieldError',\n    defaultMessage: 'This field cannot be empty.',\n  },\n  noMatchFormError: {\n    id: 'app.components.VerificationModal.noMatchFormError',\n    defaultMessage: 'No match was found.',\n  },\n  notEntitledFormError: {\n    id: 'app.components.VerificationModal.notEntitledFormError',\n    defaultMessage: 'Not entitled.',\n  },\n  invalidCardIdError: {\n    id: 'app.components.VerificationModal.invalidCardIdError',\n    defaultMessage: 'This id is not valid.',\n  },\n  somethingWentWrongError: {\n    id: 'app.components.VerificationModal.somethingWentWrongError',\n    defaultMessage: \"We can't verify you because something went wrong\",\n  },\n  submit: {\n    id: 'app.components.VerificationModal.submit',\n    defaultMessage: 'Submit',\n  },\n  cancel: {\n    id: 'app.components.VerificationModal.cancel',\n    defaultMessage: 'Cancel',\n  },\n  back: {\n    id: 'app.components.VerificationModal.back',\n    defaultMessage: 'Back',\n  },\n  userVerifiedTitle: {\n    id: 'app.components.VerificationModal.userVerifiedTitle',\n    defaultMessage: 'Youre now verified !',\n  },\n  userVerifiedSubtitle: {\n    id: 'app.components.VerificationModal.userVerifiedSubtitle',\n    defaultMessage:\n      'Your identity has been verified. Youre now a full member of the community on this platform.',\n  },\n  errorTitle: {\n    id: 'app.components.VerificationModal.errorTitle',\n    defaultMessage: 'There was an issue with the verification of your account',\n  },\n  errorTakenSubtitle: {\n    id: 'app.components.VerificationModal.errorTakenSubtitle',\n    defaultMessage:\n      'Verification failed because another account is already using this identity.',\n  },\n  errorNotEntitledSubtitle: {\n    id: 'app.components.VerificationModal.errorNotEntitledSubtitle',\n    defaultMessage:\n      \"Your identity has been found, but it doesn't have enough civil rights to be considered verified\",\n  },\n  errorGenericSubtitle: {\n    id: 'app.components.VerificationModal.errorGenericSubtitle',\n    defaultMessage:\n      'There was an unkown issue with the verification of your account, please try again.',\n  },\n  participationConditions: {\n    id: 'app.components.VerificationModal.participationConditions',\n    defaultMessage: 'Participation conditions',\n  },\n  peopleMatchingConditions: {\n    id: 'app.components.VerificationModal.peopleMatchingConditions',\n    defaultMessage: 'People matching the following conditions:',\n  },\n  verifyNow: {\n    id: 'app.components.VerificationModal.verifyNow',\n    defaultMessage: 'Verify now',\n  },\n  skipThisStep: {\n    id: 'app.components.VerificationModal.skipThisStep',\n    defaultMessage: 'Skip this step',\n  },\n  close: {\n    id: 'app.components.VerificationModal.close',\n    defaultMessage: 'Close',\n  },\n});\n","import { API_PATH } from 'containers/App/constants';\nimport { Locale } from 'typings';\nimport request from 'utils/request';\n\nconst apiEndpoint = `${API_PATH}/product_feedback`;\n\nexport interface IProductFeedbackParams {\n  question: string;\n  answer: string;\n  page?: string;\n  email?: string | null;\n  message?: string;\n  locale?: Locale;\n}\n\n// todo resp with error types ?\nexport async function postProductFeedback(params: IProductFeedbackParams) {\n  try {\n    const response = await request(\n      apiEndpoint,\n      params,\n      { method: 'POST' },\n      null\n    );\n    return response;\n  } catch (error) {\n    return Promise.reject(error);\n  }\n}\n","import { useState, useEffect } from 'react';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { Observable, of } from 'rxjs';\nimport {\n  ideaByIdStream,\n  ideaBySlugStream,\n  IIdea,\n  IIdeaData,\n} from 'services/ideas';\n\ninterface Props {\n  ideaId?: string | null;\n  ideaSlug?: string | null;\n}\n\nexport default function useIdea({ ideaId, ideaSlug }: Props) {\n  const [idea, setIdea] = useState<IIdeaData | undefined | null | Error>(\n    undefined\n  );\n\n  useEffect(() => {\n    setIdea(undefined);\n\n    let observable: Observable<IIdea | null> = of(null);\n\n    if (ideaId) {\n      observable = ideaByIdStream(ideaId).observable;\n    } else if (ideaSlug) {\n      observable = ideaBySlugStream(ideaSlug).observable;\n    }\n\n    const subscription = observable.subscribe((response) => {\n      const idea = !isNilOrError(response) ? response.data : response;\n      setIdea(idea);\n    });\n\n    return () => subscription.unsubscribe();\n  }, [ideaId, ideaSlug]);\n\n  return idea;\n}\n","import React, { createElement } from 'react';\nimport { Subscription, combineLatest } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { Multiloc, Locale } from 'typings';\nimport { getLocalized } from 'utils/i18n';\nimport { localeStream } from 'services/locale';\nimport { currentAppConfigurationStream } from 'services/appConfiguration';\n\ntype children = (localizedText: string) => JSX.Element | null;\n\ntype Props = {\n  value: Multiloc | null | undefined;\n  as?: string;\n  className?: string;\n  children?: children;\n  maxLength?: number;\n  supportHtml?: boolean;\n  graphql?: boolean;\n  onClick?: () => void;\n  wrapInDiv?: boolean;\n};\n\ntype State = {\n  locale: Locale | null;\n  currentTenantLocales: Locale[] | null;\n  innerRef: any;\n};\n\nconst wrapTextInDiv = (text: string) => `<div>${text}</div>`;\n\nexport default class T extends React.PureComponent<Props, State> {\n  subscriptions: Subscription[];\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      locale: null,\n      currentTenantLocales: null,\n      innerRef: React.createRef(),\n    };\n    this.subscriptions = [];\n  }\n\n  componentDidMount() {\n    const locale$ = localeStream().observable;\n    const currentTenantLocales$ = currentAppConfigurationStream().observable.pipe(\n      map(\n        (currentTenant) => currentTenant.data.attributes.settings.core.locales\n      )\n    );\n\n    this.subscriptions = [\n      combineLatest(locale$, currentTenantLocales$).subscribe(\n        ([locale, currentTenantLocales]) => {\n          this.setState({ locale, currentTenantLocales });\n        }\n      ),\n    ];\n  }\n\n  componentWillUnmount() {\n    this.subscriptions.forEach((subscription) => subscription.unsubscribe());\n  }\n\n  render() {\n    const { locale, currentTenantLocales } = this.state;\n\n    if (locale && currentTenantLocales) {\n      const {\n        value,\n        as,\n        children,\n        maxLength,\n        className,\n        supportHtml,\n        onClick,\n        wrapInDiv,\n      } = this.props;\n      const localizedText = getLocalized(\n        value,\n        locale,\n        currentTenantLocales,\n        maxLength\n      );\n\n      if (children) {\n        return (children as children)(localizedText);\n      }\n\n      if (supportHtml) {\n        return createElement(as || 'span', {\n          className,\n          onClick,\n          ref: this.state.innerRef,\n          dangerouslySetInnerHTML: {\n            __html: wrapInDiv ? wrapTextInDiv(localizedText) : localizedText,\n          },\n        });\n      } else {\n        return createElement(as || 'span', {\n          className,\n          onClick,\n          ref: this.state.innerRef,\n          children: wrapInDiv ? wrapTextInDiv(localizedText) : localizedText,\n        });\n      }\n    }\n\n    return null;\n  }\n}\n","export default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDc3IiBoZWlnaHQ9IjEzOCIgdmlld0JveD0iMCAwIDQ3NyAxMzgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHJlY3QgeD0iMTE1LjAxNCIgeT0iNDguNjYzOCIgd2lkdGg9IjE3IiBoZWlnaHQ9IjE3IiByeD0iMiIgdHJhbnNmb3JtPSJyb3RhdGUoMTggMTE1LjAxNCA0OC42NjM4KSIgZmlsbD0iIzgwQ0ZEOCIgLz4KICA8cmVjdCBvcGFjaXR5PSIwLjAzMzgzOTkiIHg9IjE2Ljc2MDMiIHk9IjYyLjY2MzgiIHdpZHRoPSIxNyIgaGVpZ2h0PSIxNyIgcng9IjIiIHRyYW5zZm9ybT0icm90YXRlKC0xNzAuMzY4IDE2Ljc2MDMgNjIuNjYzOCkiIGZpbGw9IiM4MENGRDgiIC8+CiAgPHJlY3Qgb3BhY2l0eT0iMC40Njk1MDciIHg9IjI2OS43NiIgeT0iODMuNjYzOCIgd2lkdGg9IjE3IiBoZWlnaHQ9IjE3IiByeD0iMiIgdHJhbnNmb3JtPSJyb3RhdGUoMTM1LjM3OSAyNjkuNzYgODMuNjYzOCkiIGZpbGw9IiM4MENGRDgiIC8+CiAgPHJlY3Qgb3BhY2l0eT0iMC41MDYzODkiIHg9IjMzOC43NiIgeT0iMTAwLjY2NCIgd2lkdGg9IjEyIiBoZWlnaHQ9IjEyIiByeD0iMiIgdHJhbnNmb3JtPSJyb3RhdGUoLTYuMDg1NzkgMzM4Ljc2IDEwMC42NjQpIiBmaWxsPSIjODBDRkQ4IiAvPgogIDxyZWN0IG9wYWNpdHk9IjAuMTA2MjQ1IiB4PSI0NTcuNzYiIHk9IjI5LjY2MzgiIHdpZHRoPSIxNyIgaGVpZ2h0PSIxNyIgcng9IjIiIHRyYW5zZm9ybT0icm90YXRlKC04LjExNDM5IDQ1Ny43NiAyOS42NjM4KSIgZmlsbD0iIzgwQ0ZEOCIgLz4KICA8cGF0aCBvcGFjaXR5PSIwLjM3MDA1NCIgZD0iTTE2Ni4yODkgMTE5LjM3TDE2OC43NDkgMTMzLjAwN0wxNTUuNzA5IDEyOC4zMTlMMTY2LjI4OSAxMTkuMzdaIiBmaWxsPSIjRkY2NzJGIiAvPgogIDxwYXRoIG9wYWNpdHk9IjAuOTAyODA0IiBkPSJNNDAuNzk1MiAzMC43MzQxTDI4Ljc2NDggMzcuNjA5NEwyOC44MjU3IDIzLjc1MzJMNDAuNzk1MiAzMC43MzQxWiIgZmlsbD0iI0ZGNjcyRiIgZmlsbC1vcGFjaXR5PSIwLjMiIC8+CiAgPHBhdGggb3BhY2l0eT0iMC41Njc5MTIiIGQ9Ik00MTMuNTE0IDcwLjU1MDJMMzk5Ljg4OSA3My4wNzA2TDQwNC41MTkgNjAuMDEwNkw0MTMuNTE0IDcwLjU1MDJaIiBmaWxsPSIjRkY2NzJGIiAvPgogIDxjaXJjbGUgY3g9IjEzOS43NiIgY3k9IjkzLjY2MzgiIHI9IjQiIGZpbGw9IiMzMkI2N0EiIC8+CiAgPGNpcmNsZSBvcGFjaXR5PSIwLjcwNjQ3MiIgY3g9IjMzNS41NDQiIGN5PSIxMC41NTQyIiByPSI1LjUiIHRyYW5zZm9ybT0icm90YXRlKC0zLjA0MjkgMzM1LjU0NCAxMC41NTQyKSIgZmlsbD0iIzMyQjY3QSIgZmlsbC1vcGFjaXR5PSIwLjIiIC8+CiAgPGNpcmNsZSBvcGFjaXR5PSIwLjgyMjU4MSIgY3g9IjMyMS44NjQiIGN5PSI2MS4zNTA0IiByPSI2LjUiIHRyYW5zZm9ybT0icm90YXRlKDE0OS41NzYgMzIxLjg2NCA2MS4zNTA0KSIgZmlsbD0iIzMyQjY3QSIgLz4KICA8Y2lyY2xlIG9wYWNpdHk9IjAuMTI2NDc5IiBjeD0iMTcxLjIxMSIgY3k9IjguODMxOTQiIHI9IjYuNSIgdHJhbnNmb3JtPSJyb3RhdGUoLTE1MS4wOTkgMTcxLjIxMSA4LjgzMTk0KSIgZmlsbD0iIzMyQjY3QSIgLz4KICA8Y2lyY2xlIG9wYWNpdHk9IjAuOTgyMTciIGN4PSI4My45Mjc5IiBjeT0iMzkuMzU1NyIgcj0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoMTcwLjg3MyA4My45Mjc5IDM5LjM1NTcpIiBmaWxsPSIjMzJCNjdBIiBmaWxsLW9wYWNpdHk9IjAuMiIgLz4KICA8Y2lyY2xlIG9wYWNpdHk9IjAuODAwOTc5IiBjeD0iMTkzLjAxNSIgY3k9IjEwNC4wMTUiIHI9IjYuNSIgdHJhbnNmb3JtPSJyb3RhdGUoNTYuMjgxNSAxOTMuMDE1IDEwNC4wMTUpIiBmaWxsPSIjMzJCNjdBIiAvPgo8L3N2Zz4K\"","import useUserCustomFieldsSchema, {\n  UserCustomFieldsSchema,\n} from '../hooks/useUserCustomFieldsSchema';\n\ninterface InputProps {}\n\ntype children = (\n  renderProps: GetUserCustomFieldsSchemaChildProps\n) => JSX.Element | null;\n\ninterface Props extends InputProps {\n  children?: children;\n}\n\nexport type GetUserCustomFieldsSchemaChildProps = UserCustomFieldsSchema;\n\nexport default ({ children }: Props) => {\n  const userCustomFieldsSchema = useUserCustomFieldsSchema();\n  return (children as children)(userCustomFieldsSchema);\n};\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  whenTurnedOnUsersWillHaveToConfirm: {\n    id: 'app.components.ConfirmationModal.whenTurnedOnUsersWillHaveToConfirm',\n    defaultMessage:\n      'When turned on, new users will have to confirm their email address or phone number with a 4-digit code they receive via email or SMS to complete their registration.',\n  },\n  accountConfirmation: {\n    id: 'app.components.ConfirmationModal.accountConfirmation',\n    defaultMessage: 'Account Confirmation',\n  },\n});\n","import { API_PATH } from 'containers/App/constants';\nimport streams, { IStreamParams } from 'utils/streams';\nimport { Multiloc } from 'typings';\n\nexport type IOnboardingCampaignNames =\n  | 'complete_profile'\n  | 'custom_cta'\n  | 'default'\n  | 'verification';\nexport const currentOnboardingCampaignsApiEndpoint = `${API_PATH}/onboarding_campaigns/current`;\n\nexport type IOnboardingCampaigns = {\n  name: IOnboardingCampaignNames;\n  cta_message_multiloc: Multiloc;\n  cta_button_multiloc: Multiloc;\n  cta_button_link: string;\n};\n\nexport interface IOnboardingCampaignsData {\n  data: {\n    type: 'onboarding_status';\n    attributes: IOnboardingCampaigns;\n  };\n}\n\nexport function currentOnboardingCampaignsStream(\n  streamParams: IStreamParams | null = null\n) {\n  return streams.get<IOnboardingCampaignsData>({\n    apiEndpoint: currentOnboardingCampaignsApiEndpoint,\n    ...streamParams,\n  });\n}\n\nexport async function dismissOnboardingCampaign(\n  name: IOnboardingCampaignNames\n) {\n  const response = await streams.add<IOnboardingCampaignsData>(\n    `${API_PATH}/onboarding_campaigns/${name}/dismissal`,\n    {}\n  );\n  await streams.fetchAllWith({\n    apiEndpoint: [currentOnboardingCampaignsApiEndpoint],\n  });\n  return response;\n}\n","import React, { memo } from 'react';\nimport { IStatusChangeOnCommentedIdeaNotificationData } from 'services/notifications';\nimport T from 'components/T';\nimport NotificationWrapper from '../NotificationWrapper';\nimport useIdea from 'hooks/useIdea';\nimport useProject from 'hooks/useProject';\nimport usePhases from 'hooks/usePhases';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { getInputTerm } from 'services/participationContexts';\n\n// // i18n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from '../../messages';\nimport { getInputTermMessage } from 'utils/i18n';\n\ninterface Props {\n  notification: IStatusChangeOnCommentedIdeaNotificationData;\n}\n\nconst StatusChangeOnCommentedIdeaNotification = memo<Props>((props) => {\n  const { notification } = props;\n  const idea = useIdea({ ideaSlug: notification.attributes.post_slug });\n  const projectId = !isNilOrError(idea)\n    ? idea.relationships.project.data.id\n    : null;\n  const project = useProject({ projectId });\n  const phases = usePhases(projectId);\n\n  if (!isNilOrError(project)) {\n    const inputTerm = getInputTerm(\n      project.attributes.process_type,\n      project,\n      phases\n    );\n    return (\n      <NotificationWrapper\n        linkTo={`/ideas/${notification.attributes.post_slug}`}\n        timing={notification.attributes.created_at}\n        icon=\"notification_status\"\n        isRead={!!notification.attributes.read_at}\n      >\n        <FormattedMessage\n          {...getInputTermMessage(inputTerm, {\n            idea: messages.statusChangeOnCommentedIdea,\n            option: messages.statusChangeOnCommentedOption,\n            project: messages.statusChangeOnCommentedProject,\n            question: messages.statusChangeOnCommentedQuestion,\n            issue: messages.statusChangeOnCommentedIssue,\n            contribution: messages.statusChangeOnCommentedContribution,\n          })}\n          values={{\n            status: (\n              <T value={notification.attributes.idea_status_title_multiloc} />\n            ),\n          }}\n        />\n      </NotificationWrapper>\n    );\n  }\n\n  return null;\n});\n\nexport default StatusChangeOnCommentedIdeaNotification;\n","import React, { memo } from 'react';\nimport { IOption } from 'typings';\nimport useTopics from 'hooks/useTopics';\nimport { Select } from 'cl2-component-library';\nimport useLocalize from 'hooks/useLocalize';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { ITopicData } from 'services/topics';\n\nexport interface Props {\n  value: string;\n  onChange: (value: string) => void;\n}\n\nconst TopicValueSelector = memo(({ value, onChange }: Props) => {\n  const topics = useTopics({});\n  const localize = useLocalize();\n  const generateOptions = (): IOption[] => {\n    if (!isNilOrError(topics)) {\n      return topics\n        .filter((topic) => !isNilOrError(topic))\n        .map((topic: ITopicData) => {\n          return {\n            value: topic.id,\n            label: localize(topic.attributes.title_multiloc),\n          };\n        });\n    } else {\n      return [];\n    }\n  };\n\n  const handleOnChange = (option: IOption) => {\n    onChange(option.value);\n  };\n\n  return (\n    <Select\n      value={value}\n      options={generateOptions()}\n      onChange={handleOnChange}\n    />\n  );\n});\n\nexport default TopicValueSelector;\n","import { FC, useEffect } from 'react';\nimport { InjectedIntlProps } from 'react-intl';\nimport { InsertConfigurationOptions, ITab } from 'typings';\nimport { injectIntl } from 'utils/cl-intl';\nimport messages from './messages';\n\ntype Props = {\n  onData: (data: InsertConfigurationOptions<ITab>) => void;\n};\n\nconst Tab: FC<Props & InjectedIntlProps> = ({\n  onData,\n  intl: { formatMessage },\n}) => {\n  useEffect(() => {\n    onData({\n      configuration: {\n        label: formatMessage(messages.permissionsTab),\n        url: `permissions`,\n        feature: 'private_projects',\n        name: 'permissions',\n      },\n      insertAfterName: 'events',\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return null;\n};\n\nexport default injectIntl(Tab);\n","import { API_PATH } from 'containers/App/constants';\nimport streams, { IStreamParams } from 'utils/streams';\nimport { IRelationship } from 'typings';\n\nexport type IGlobalPermissionAction =\n  | 'voting_initiative'\n  | 'commenting_initiative'\n  | 'posting_initiative';\n\nexport interface IGlobalPermissionData {\n  id: string;\n  type: string;\n  attributes: {\n    action: IGlobalPermissionAction;\n    permitted_by: 'everyone' | 'users' | 'groups' | 'admins_moderators';\n    created_at: string;\n    updated_at: string;\n  };\n  relationships: {\n    permission_scope: {\n      data: null;\n    };\n    groups: {\n      data: IRelationship[];\n    };\n  };\n}\nexport type IPCPermissionAction =\n  | 'voting_idea'\n  | 'commenting_idea'\n  | 'commenting_idea'\n  | 'taking_survey'\n  | 'taking_poll'\n  | 'budgeting';\nexport interface IPCPermissionData {\n  id: string;\n  type: string;\n  attributes: {\n    action: IPCPermissionAction;\n    permitted_by: 'everyone' | 'users' | 'groups' | 'admins_moderators';\n    created_at: string;\n    updated_at: string;\n  };\n  relationships: {\n    permission_scope: {\n      data: IRelationship;\n    };\n    groups: {\n      data: IRelationship[];\n    };\n  };\n}\n\nexport type IPermissionData = IPCPermissionData | IGlobalPermissionData;\n\nexport interface IPCPermission {\n  data: IPCPermissionData;\n}\n\nexport interface IPCPermissions {\n  data: IPCPermissionData[];\n}\nexport interface IGlobalPermission {\n  data: IGlobalPermissionData;\n}\n\nexport interface IGlobalPermissions {\n  data: IGlobalPermissionData[];\n}\nexport interface IPermission {\n  data: IPermissionData;\n}\n\nexport interface IPermissions {\n  data: IPermissionData[];\n}\n\nexport interface IPermissionUpdate {\n  group_ids: string[];\n  permitted_by: IPermissionData['attributes']['permitted_by'];\n}\n\nexport function phasePermissions(\n  phaseId: string,\n  streamParams: IStreamParams | null = null\n) {\n  return streams.get<IPCPermissions>({\n    apiEndpoint: `${API_PATH}/phases/${phaseId}/permissions`,\n    ...streamParams,\n  });\n}\n\nexport function projectPermissions(\n  projectId: string,\n  streamParams: IStreamParams | null = null\n) {\n  return streams.get<IPCPermissions>({\n    apiEndpoint: `${API_PATH}/projects/${projectId}/permissions`,\n    ...streamParams,\n  });\n}\n\nexport function globalPermissions(streamParams: IStreamParams | null = null) {\n  return streams.get<IGlobalPermissions>({\n    apiEndpoint: `${API_PATH}/permissions`, // or `${API_PATH}/action_descriptors/initiatives`\n    ...streamParams,\n  });\n}\n\nexport function updateGlobalPermission(\n  permissionId: string,\n  action: string,\n  permission: Partial<IPermissionUpdate>\n) {\n  return streams.update<IPCPermission>(\n    `${API_PATH}/permissions/${action}`,\n    permissionId,\n    { permission }\n  );\n}\n\nexport function updatePhasePermission(\n  permissionId: string,\n  phaseId: string,\n  action: string,\n  permission: Partial<IPermissionUpdate>\n) {\n  return streams.update<IPCPermission>(\n    `${API_PATH}/phases/${phaseId}/permissions/${action}`,\n    permissionId,\n    { permission }\n  );\n}\n\nexport function updateProjectPermission(\n  permissionId: string,\n  projectId: string,\n  action: string,\n  permission: Partial<IPermissionUpdate>\n) {\n  return streams.update<IPCPermission>(\n    `${API_PATH}/projects/${projectId}/permissions/${action}`,\n    permissionId,\n    { permission }\n  );\n}\n","// Libraries\nimport React, { PureComponent, FormEvent } from 'react';\nimport { Subscription } from 'rxjs';\nimport { filter } from 'rxjs/operators';\nimport { get } from 'lodash-es';\nimport { adopt } from 'react-adopt';\nimport { isNilOrError } from 'utils/helperUtils';\n\n// Services\nimport { updateComment, IUpdatedComment } from 'services/comments';\n\n// Resources\nimport GetLocale, { GetLocaleChildProps } from 'resources/GetLocale';\nimport GetAppConfigurationLocales, {\n  GetAppConfigurationLocalesChildProps,\n} from 'resources/GetAppConfigurationLocales';\nimport GetComment, { GetCommentChildProps } from 'resources/GetComment';\n\nimport { commentTranslateButtonClicked$ } from './events';\n\n// i18n\nimport { getLocalized } from 'utils/i18n';\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from './messages';\n\n// Components\nimport MentionsTextArea from 'components/UI/MentionsTextArea';\nimport Button from 'components/UI/Button';\nimport Error from 'components/UI/Error';\nimport QuillEditedContent from 'components/UI/QuillEditedContent';\n\n// Styling\nimport styled, { withTheme } from 'styled-components';\n\n// Typings\nimport { CLErrorsJSON, CLErrors } from 'typings';\nimport { isCLErrorJSON } from 'utils/errorUtils';\n\nimport Outlet from 'components/Outlet';\n\nconst Container = styled.div``;\n\nconst CommentWrapper = styled.div`\n  white-space: pre-line;\n`;\n\nexport const CommentText = styled.div`\n  display: inline;\n`;\n\nconst StyledForm = styled.form`\n  position: relative;\n`;\n\nconst ButtonsWrapper = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  margin-top: 1em;\n\n  > * + * {\n    margin-left: 0.5rem;\n  }\n`;\n\ninterface InputProps {\n  commentId: string;\n  commentType: 'parent' | 'child';\n  editing: boolean;\n  last?: boolean;\n  onCommentSaved: () => void;\n  onCancelEditing: () => void;\n  className?: string;\n}\n\ninterface DataProps {\n  locale: GetLocaleChildProps;\n  tenantLocales: GetAppConfigurationLocalesChildProps;\n  comment: GetCommentChildProps;\n}\n\ninterface Props extends InputProps, DataProps {\n  theme: any;\n}\n\nexport interface State {\n  commentContent: string;\n  editableCommentContent: string;\n  translateButtonClicked: boolean;\n  processing: boolean;\n  apiErrors: CLErrors | null;\n}\n\nclass CommentBody extends PureComponent<Props, State> {\n  subscriptions: Subscription[] = [];\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      commentContent: '',\n      editableCommentContent: '',\n      translateButtonClicked: false,\n      processing: false,\n      apiErrors: null,\n    };\n  }\n\n  componentDidMount() {\n    this.setCommentContent();\n    this.setEditableCommentContent();\n\n    this.subscriptions = [\n      commentTranslateButtonClicked$\n        .pipe(\n          filter(\n            ({ eventValue: commentId }) => commentId === this.props.commentId\n          )\n        )\n        .subscribe(() => {\n          this.setState(({ translateButtonClicked }) => ({\n            translateButtonClicked: !translateButtonClicked,\n          }));\n        }),\n    ];\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.comment !== this.props.comment) {\n      this.setCommentContent();\n      this.setEditableCommentContent();\n    }\n  }\n\n  componentWillUnmount() {\n    this.subscriptions.forEach((subscription) => subscription.unsubscribe());\n  }\n\n  setCommentContent = () => {\n    let commentContent = '';\n    const { comment, locale, tenantLocales } = this.props;\n\n    if (\n      !isNilOrError(locale) &&\n      !isNilOrError(tenantLocales) &&\n      !isNilOrError(comment)\n    ) {\n      commentContent = getLocalized(\n        comment.attributes.body_multiloc,\n        locale,\n        tenantLocales\n      ).replace(\n        /<span\\sclass=\"cl-mention-user\"[\\S\\s]*?data-user-id=\"([\\S\\s]*?)\"[\\S\\s]*?data-user-slug=\"([\\S\\s]*?)\"[\\S\\s]*?>([\\S\\s]*?)<\\/span>/gi,\n        '<a class=\"mention\" data-link=\"/profile/$2\" href=\"/profile/$2\">$3</a>'\n      );\n    }\n\n    this.setState({ commentContent });\n  };\n\n  setEditableCommentContent = () => {\n    let editableCommentContent = '';\n    const { comment, locale, tenantLocales } = this.props;\n\n    if (\n      !isNilOrError(locale) &&\n      !isNilOrError(tenantLocales) &&\n      !isNilOrError(comment)\n    ) {\n      editableCommentContent = getLocalized(\n        comment.attributes.body_multiloc,\n        locale,\n        tenantLocales\n      ).replace(\n        /<span\\sclass=\"cl-mention-user\"[\\S\\s]*?data-user-id=\"([\\S\\s]*?)\"[\\S\\s]*?data-user-slug=\"([\\S\\s]*?)\"[\\S\\s]*?>@([\\S\\s]*?)<\\/span>/gi,\n        '@[$3]($2)'\n      );\n    }\n\n    this.setState({ editableCommentContent });\n  };\n\n  onEditableCommentContentChange = (editableCommentContent: string) => {\n    this.setState({ editableCommentContent });\n  };\n\n  onSubmit = async (event: FormEvent<any>) => {\n    event.preventDefault();\n\n    const { locale, commentId, comment } = this.props;\n    const { editableCommentContent } = this.state;\n\n    if (!isNilOrError(locale) && !isNilOrError(comment)) {\n      const updatedComment: IUpdatedComment = {\n        body_multiloc: {\n          [locale]: editableCommentContent.replace(\n            /@\\[(.*?)\\]\\((.*?)\\)/gi,\n            '@$2'\n          ),\n        },\n      };\n\n      const authorId = get(comment, 'relationships.author.data.id', false);\n      if (authorId) {\n        updatedComment.author_id = authorId;\n      }\n\n      this.setState({ processing: true, apiErrors: null });\n\n      try {\n        await updateComment(commentId, updatedComment);\n        this.props.onCommentSaved();\n      } catch (error) {\n        if (isCLErrorJSON(error)) {\n          const apiErrors = (error as CLErrorsJSON).json.errors;\n          this.setState({ apiErrors });\n        }\n      }\n\n      this.setState({ processing: false });\n    }\n  };\n\n  cancelEditing = (event: FormEvent<HTMLButtonElement>) => {\n    event.preventDefault();\n    this.setEditableCommentContent();\n    this.props.onCancelEditing();\n  };\n\n  render() {\n    const {\n      editing,\n      commentType,\n      locale,\n      commentId,\n      className,\n      theme,\n    } = this.props;\n\n    const {\n      commentContent,\n      editableCommentContent,\n      translateButtonClicked,\n      processing,\n      apiErrors,\n    } = this.state;\n\n    let content: JSX.Element | null = null;\n\n    if (!isNilOrError(locale)) {\n      if (!editing) {\n        content = (\n          <CommentWrapper className={`e2e-comment-body ${commentType}`}>\n            <QuillEditedContent fontWeight={400} textColor={theme.colorText}>\n              <div aria-live=\"polite\">\n                <Outlet\n                  id=\"app.components.PostShowComponents.CommentBody.translation\"\n                  translateButtonClicked={translateButtonClicked}\n                  commentContent={commentContent}\n                  locale={locale}\n                  commentId={commentId}\n                >\n                  {(outletComponents) =>\n                    outletComponents.length > 0 ? (\n                      <>{outletComponents}</>\n                    ) : (\n                      <CommentText\n                        dangerouslySetInnerHTML={{ __html: commentContent }}\n                      />\n                    )\n                  }\n                </Outlet>\n              </div>\n            </QuillEditedContent>\n          </CommentWrapper>\n        );\n      } else {\n        content = (\n          <StyledForm onSubmit={this.onSubmit}>\n            <QuillEditedContent fontWeight={400} textColor={theme.colorText}>\n              <MentionsTextArea\n                name=\"body\"\n                value={editableCommentContent}\n                rows={1}\n                onChange={this.onEditableCommentContentChange}\n                padding=\"15px\"\n                fontWeight=\"300\"\n              />\n            </QuillEditedContent>\n            <ButtonsWrapper>\n              {apiErrors &&\n                apiErrors.body_multiloc &&\n                apiErrors.body_multiloc[locale] && (\n                  <Error apiErrors={apiErrors.body_multiloc[locale]} />\n                )}\n              <Button buttonStyle=\"secondary\" onClick={this.cancelEditing}>\n                <FormattedMessage {...messages.cancelCommentEdit} />\n              </Button>\n              <Button\n                buttonStyle=\"primary\"\n                processing={processing}\n                onClick={this.onSubmit}\n              >\n                <FormattedMessage {...messages.saveCommentEdit} />\n              </Button>\n            </ButtonsWrapper>\n          </StyledForm>\n        );\n      }\n\n      return <Container className={className}>{content}</Container>;\n    }\n\n    return null;\n  }\n}\n\nconst CommentBodyWithHoC = withTheme(CommentBody);\n\nconst Data = adopt<DataProps, InputProps>({\n  locale: <GetLocale />,\n  tenantLocales: <GetAppConfigurationLocales />,\n  comment: ({ commentId, render }) => (\n    <GetComment id={commentId}>{render}</GetComment>\n  ),\n});\n\nexport default (inputProps: InputProps) => (\n  <Data {...inputProps}>\n    {(dataProps) => <CommentBodyWithHoC {...inputProps} {...dataProps} />}\n  </Data>\n);\n","import { useState, useEffect } from 'react';\nimport { IIdeaStatusData, ideaStatusesStream } from 'services/ideaStatuses';\nimport { isNilOrError } from 'utils/helperUtils';\n\nexport default function useIdeaStatuses() {\n  const [ideaStatuses, setIdeaStatuses] = useState<\n    IIdeaStatusData[] | null | Error\n  >(null);\n\n  useEffect(() => {\n    const observable = ideaStatusesStream().observable;\n\n    const subscription = observable.subscribe((response) => {\n      isNilOrError(response)\n        ? setIdeaStatuses(response)\n        : setIdeaStatuses(response.data);\n    });\n\n    return () => subscription.unsubscribe();\n  }, []);\n\n  return ideaStatuses;\n}\n","import React from 'react';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { adopt } from 'react-adopt';\nimport { IProjectData } from 'services/projects';\nimport Link from 'utils/cl-router/Link';\nimport GetPhases, { GetPhasesChildProps } from 'resources/GetPhases';\nimport T from 'components/T';\n\n// intl\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from './messages';\n\ninterface InputProps {\n  project: IProjectData;\n}\n\ninterface DataProps {\n  phases: GetPhasesChildProps;\n}\n\ninterface Props extends InputProps, DataProps {}\n\nconst TimelineProject = ({ project, phases }: Props) => {\n  if (!isNilOrError(phases)) {\n    if (phases.length > 1) {\n      return (\n        <li>\n          <FormattedMessage {...messages.timeline} />\n          <ul>\n            {phases.map((phase) => (\n              <li key={phase.id}>\n                <Link\n                  to={{\n                    pathname: `/projects/${project.attributes.slug}/process`,\n                  }}\n                >\n                  <T value={phase.attributes.title_multiloc} />\n                </Link>\n              </li>\n            ))}\n          </ul>\n        </li>\n      );\n    }\n\n    if (phases.length === 1) {\n      return (\n        <li key={phases[0].id}>\n          <Link\n            to={{ pathname: `/projects/${project.attributes.slug}/process` }}\n          >\n            <T value={phases[0].attributes.title_multiloc} />\n          </Link>\n        </li>\n      );\n    }\n  }\n\n  return null;\n};\n\nconst Data = adopt<DataProps, InputProps>({\n  phases: ({ project, render }) => (\n    <GetPhases projectId={project.id}>{render}</GetPhases>\n  ),\n});\n\nexport default (inputProps: InputProps) => (\n  <Data {...inputProps}>\n    {(dataprops) => <TimelineProject {...inputProps} {...dataprops} />}\n  </Data>\n);\n","import {\n  IDestinationConfig,\n  registerDestination,\n} from 'components/ConsentManager/destinations';\nimport {\n  bufferUntilInitialized,\n  events$,\n  initializeFor,\n  pageChanges$,\n  tenantInfo,\n} from 'utils/analytics';\nimport snippet from '@segment/snippet';\nimport { currentAppConfigurationStream } from 'services/appConfiguration';\nimport { authUserStream } from 'services/auth';\nimport { combineLatest } from 'rxjs';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { get, isFunction } from 'lodash-es';\nimport { IUser } from 'services/users';\nimport {\n  isAdmin,\n  isProjectModerator,\n  isSuperAdmin,\n} from 'services/permissions/roles';\nimport { ModuleConfiguration } from 'utils/moduleUtils';\n\nexport const CL_SEGMENT_API_KEY =\n  process.env.SEGMENT_API_KEY || 'sIoYsVoTTCBmrcs7yAz1zRFRGhAofBlg';\n\ndeclare module 'components/ConsentManager/destinations' {\n  export interface IDestinationMap {\n    segment: 'segment';\n  }\n}\n\nconst destinationConfig: IDestinationConfig = {\n  key: 'segment',\n  category: 'analytics',\n  feature_flag: 'segment',\n  name: (tenant) => {\n    const destinations = tenant.attributes.settings.segment?.destinations;\n    return `Segment${destinations ? ` (${destinations})` : ''}`;\n  },\n};\n\nconst integrations = (user: IUser | null) => {\n  const output = {\n    Intercom: false,\n    SatisMeter: false,\n  };\n\n  if (user) {\n    const highestRole = user.data.attributes.highest_role;\n    output['Intercom'] =\n      highestRole === 'admin' || highestRole === 'project_moderator';\n    output['SatisMeter'] =\n      highestRole === 'admin' || highestRole === 'project_moderator';\n  }\n  return output;\n};\n\nconst configuration: ModuleConfiguration = {\n  beforeMountApplication: () => {\n    initializeFor('segment').subscribe(() => {\n      const code = snippet.min({\n        host: 'cdn.segment.com',\n        load: true,\n        page: false,\n        apiKey: CL_SEGMENT_API_KEY,\n      });\n\n      // eslint-disable-next-line no-eval\n      eval(code);\n    });\n\n    combineLatest([\n      currentAppConfigurationStream().observable,\n      bufferUntilInitialized('segment', authUserStream().observable),\n    ]).subscribe(([tenant, user]) => {\n      if (\n        !isNilOrError(tenant) &&\n        isFunction(get(window, 'analytics.identify')) &&\n        isFunction(get(window, 'analytics.group'))\n      ) {\n        if (user) {\n          analytics.identify(\n            user.data.id,\n            {\n              ...tenantInfo(tenant.data),\n              email: user.data.attributes.email,\n              firstName: user.data.attributes.first_name,\n              lastName: user.data.attributes.last_name,\n              createdAt: user.data.attributes.created_at,\n              avatar: user.data.attributes.avatar\n                ? user.data.attributes.avatar.large\n                : null,\n              birthday: user.data.attributes.birthyear,\n              gender: user.data.attributes.gender,\n              locale: user.data.attributes.locale,\n              isSuperAdmin: isSuperAdmin(user),\n              isAdmin: isAdmin(user),\n              isProjectModerator: isProjectModerator(user),\n              highestRole: user.data.attributes.highest_role,\n            },\n            {\n              integrations: integrations(user),\n              Intercom: { hideDefaultLauncher: !isAdmin(user) },\n            } as any\n          );\n          analytics.group(\n            tenant.data.id,\n            {\n              ...tenantInfo(tenant.data),\n              name: tenant.data.attributes.name,\n              website: tenant.data.attributes.settings.core.organization_site,\n              avatar:\n                tenant.data.attributes.logo &&\n                tenant.data.attributes.logo.medium,\n              tenantLocales: tenant.data.attributes.settings.core.locales,\n            },\n            { integrations: integrations(user) }\n          );\n        } else {\n          // no user\n          analytics.identify(tenantInfo(tenant.data), {\n            integrations: integrations(user),\n            Intercom: { hideDefaultLauncher: true },\n          } as any);\n        }\n      }\n    });\n\n    combineLatest([\n      currentAppConfigurationStream().observable,\n      authUserStream().observable,\n      bufferUntilInitialized('segment', events$),\n    ]).subscribe(([tenant, user, event]) => {\n      if (!isNilOrError(tenant)) {\n        if (isFunction(get(window, 'analytics.track'))) {\n          analytics.track(\n            event.name,\n            {\n              ...tenantInfo(tenant.data),\n              location: window?.location?.pathname,\n              ...event.properties,\n            },\n            { integrations: integrations(user) }\n          );\n        }\n      }\n    });\n\n    combineLatest([\n      currentAppConfigurationStream().observable,\n      authUserStream().observable,\n      bufferUntilInitialized('segment', pageChanges$),\n    ]).subscribe(([tenant, user, pageChange]) => {\n      if (!isNilOrError(tenant) && isFunction(get(window, 'analytics.page'))) {\n        analytics.page(\n          '',\n          {\n            path: pageChange.path,\n            url: `https://${tenant.data.attributes.host}${pageChange.path}`,\n            title: null,\n            ...tenantInfo(tenant.data),\n            ...pageChange.properties,\n          },\n          { integrations: integrations(user) }\n        );\n      }\n    });\n\n    registerDestination(destinationConfig);\n  },\n};\n\nexport default configuration;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { colors } from 'utils/styleUtils';\nimport Link from 'utils/cl-router/Link';\n\n// components\nimport { IconWrapper } from '.';\nimport { Icon } from 'cl2-component-library';\n\n// i18n\nimport { FormattedMessage, injectIntl } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\n\nconst Article = styled(Link)`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 30px 0;\n  h3 {\n    color: ${colors.adminTextColor};\n    font-weight: 500;\n  }\n  p {\n    color: ${colors.adminSecondaryTextColor};\n  }\n  svg * {\n    fill: ${colors.adminTextColor};\n  }\n  &:hover * {\n    color: ${colors.clIconAccent};\n    fill: ${colors.clIconAccent};\n  }\n\n  &:not(:last-child) {\n    border-bottom: 1px solid ${colors.adminBorder};\n  }\n`;\n\ninterface Props {\n  trackLink: () => void;\n  linkMessage: ReactIntl.FormattedMessage.MessageDescriptor;\n  titleMessage: ReactIntl.FormattedMessage.MessageDescriptor;\n  descriptionMessage: ReactIntl.FormattedMessage.MessageDescriptor;\n}\n\nconst AdminGuideArticle = ({\n  intl: { formatMessage },\n  trackLink,\n  linkMessage,\n  titleMessage,\n  descriptionMessage,\n}: Props & InjectedIntlProps) => {\n  return (\n    <Article to={formatMessage(linkMessage)} onClick={trackLink}>\n      <div>\n        <FormattedMessage tagName=\"h3\" {...titleMessage} />\n        <FormattedMessage tagName=\"p\" {...descriptionMessage} />\n      </div>\n      <IconWrapper>\n        <Icon name=\"arrowLeft\" />\n      </IconWrapper>\n    </Article>\n  );\n};\n\nexport default injectIntl(AdminGuideArticle);\n","import React, { useState } from 'react';\nimport { isNilOrError } from 'utils/helperUtils';\nimport styled from 'styled-components';\nimport { colors } from 'utils/styleUtils';\n\n// i18n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from '../messages';\n\n// components\nimport {\n  RowContent,\n  RowContentInner,\n  RowTitle,\n  RowButton,\n  ActionsRowContainer,\n} from './StyledComponents';\nimport DeleteProjectButton from './DeleteProjectButton';\nimport PublicationStatusLabel from './PublicationStatusLabel';\nimport { IconNames, StatusLabel } from 'cl2-component-library';\nimport Error from 'components/UI/Error';\n\n// resources\nimport useProjectGroups from 'hooks/useProjectGroups';\nimport { canModerateProject } from 'services/permissions/rules/projectPermissions';\nimport useAuthUser from 'hooks/useAuthUser';\n\n// types\nimport { IAdminPublicationContent } from 'hooks/useAdminPublications';\n\nconst StyledStatusLabel = styled(StatusLabel)`\n  margin-right: 5px;\n  margin-top: 4px;\n  margin-bottom: 4px;\n`;\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n`;\n\ninterface Props {\n  publication: IAdminPublicationContent;\n  actions?: (\n    | {\n        buttonContent: JSX.Element;\n        handler: (publicationId: string) => () => void;\n        icon: IconNames;\n        processing?: boolean;\n      }\n    | 'manage'\n    | 'delete'\n  )[];\n  hidePublicationStatusLabel?: boolean;\n  className?: string;\n}\n\nexport default ({\n  publication,\n  actions,\n  hidePublicationStatusLabel,\n  className,\n}: Props) => {\n  const [isBeingDeleted, setIsBeingDeleted] = useState<boolean>(false);\n  const [deletionError, setDeletionError] = useState<string>('');\n  const authUser = useAuthUser();\n\n  const projectGroups = useProjectGroups({\n    projectId: publication.publicationId,\n  });\n\n  const ManageButton = (\n    <RowButton\n      className={`\n        e2e-admin-edit-publication\n      `}\n      linkTo={`/admin/projects/${publication.publicationId}/edit`}\n      buttonStyle=\"secondary\"\n      icon=\"edit\"\n      type=\"button\"\n      key=\"manage\"\n      disabled={\n        isBeingDeleted ||\n        (!isNilOrError(authUser) &&\n          !canModerateProject(publication.publicationId, { data: authUser }))\n      }\n    >\n      <FormattedMessage {...messages.editButtonLabel} />\n    </RowButton>\n  );\n  const publicationStatus = publication.attributes.publication_status;\n\n  const DeleteButton = (\n    <DeleteProjectButton\n      publication={publication}\n      setDeleteIsProcessing={setIsBeingDeleted}\n      setDeletionError={setDeletionError}\n      processing={isBeingDeleted}\n      key=\"delete\"\n    />\n  );\n\n  const renderRowButton = (action) => (\n    <RowButton\n      key={action.icon}\n      type=\"button\"\n      className={[\n        'e2e-admin-edit-publication',\n        publication.attributes.publication_title_multiloc?.['en-GB'],\n      ]\n        .filter((item) => item)\n        .join(' ')}\n      onClick={action.handler(publication.publicationId)}\n      buttonStyle=\"secondary\"\n      icon={action.icon}\n      processing={action.processing}\n      disabled={isBeingDeleted}\n    >\n      {action.buttonContent}\n    </RowButton>\n  );\n\n  return (\n    <Container className={className}>\n      <RowContent className=\"e2e-admin-projects-list-item\">\n        <RowContentInner className=\"expand primary\">\n          <RowTitle value={publication.attributes.publication_title_multiloc} />\n          {publication.attributes?.publication_visible_to === 'groups' &&\n            !isNilOrError(projectGroups) && (\n              <StyledStatusLabel\n                text={\n                  projectGroups.length > 0 ? (\n                    <FormattedMessage\n                      {...messages.xGroupsHaveAccess}\n                      values={{ groupCount: projectGroups.length }}\n                    />\n                  ) : (\n                    <FormattedMessage {...messages.onlyAdminsCanView} />\n                  )\n                }\n                backgroundColor={colors.clBlueDark}\n                icon=\"lock\"\n              />\n            )}\n          {publication.attributes?.publication_visible_to === 'admins' && (\n            <StyledStatusLabel\n              text={<FormattedMessage {...messages.onlyAdminsCanView} />}\n              backgroundColor={colors.clBlueDark}\n              icon=\"lock\"\n            />\n          )}\n\n          {!hidePublicationStatusLabel && (\n            <PublicationStatusLabel publicationStatus={publicationStatus} />\n          )}\n        </RowContentInner>\n        {actions ? (\n          <ActionsRowContainer>\n            {actions.map((action) => {\n              if (action === 'delete') {\n                return DeleteButton;\n              } else if (action === 'manage') {\n                return ManageButton;\n              } else {\n                return renderRowButton(action);\n              }\n            })}\n          </ActionsRowContainer>\n        ) : (\n          ManageButton\n        )}\n      </RowContent>\n      {deletionError && <Error text={deletionError} />}\n    </Container>\n  );\n};\n","import 'services/verificationMethods';\nimport { Multiloc } from 'typings';\n\ndeclare module 'services/verificationMethods' {\n  export interface IVerificationMethodNamesMap {\n    id_card_lookup: 'id_card_lookup';\n  }\n\n  export type IDLookupMethod = {\n    id: string;\n    type: 'verification_method';\n    attributes: {\n      name: 'id_card_lookup';\n      card_id_multiloc: Multiloc;\n      card_id_placeholder: string;\n      card_id_tooltip_multiloc: Multiloc;\n      explainer_image_url: string;\n      method_name_multiloc: Multiloc;\n    };\n  };\n\n  export interface IVerificationMethodMap {\n    id_card_lookup: IDLookupMethod;\n  }\n}\n","export default {\n  clickOpenNotifications: {\n    name: 'Notification menu clicked',\n  },\n  clickCloseNotifications: {\n    name: 'Notification menu closed',\n  },\n  clickNotification: {\n    name: 'Notification clicked',\n  },\n  clickSignUpLink: {\n    name: 'Sign Up link in top navbar clicked',\n  },\n};\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  inappropriateContentDetectionSetting: {\n    id:\n      'app.containers.AdminPage.SettingsPage.inappropriateContentDetectionSetting',\n    defaultMessage: 'Detect inappropriate content',\n  },\n  inappropriateContentDetectionSettingDescription: {\n    id:\n      'app.containers.AdminPage.SettingsPage.inappropriateContentDetectionSettingDescription',\n    defaultMessage: 'Auto-detect inappropriate content posted on the platform.',\n  },\n  inappropriateContentDetectionTooltip: {\n    id:\n      'app.containers.AdminPage.SettingsPage.inappropriateContentDetectionTooltip',\n    defaultMessage:\n      'In Beta: currently available in English, French, German, Portuguese and Spanish. While this feature is enabled, input, proposals and comments posted by participants will be automatically reviewed using Natural Language Processing. Posts flagged as potentially containing inappropriate content will not be blocked, but will be highlighted for review on the {linkToActivityPage} page.',\n  },\n  linkToActivityPageText: {\n    id: 'app.containers.AdminPage.SettingsPage.linkToActivityPageText',\n    defaultMessage: 'Activity',\n  },\n});\n","import useFeatureFlag from 'hooks/useFeatureFlag';\nimport React, { ReactNode } from 'react';\nimport { ModuleConfiguration } from 'utils/moduleUtils';\nimport ProjectVisibility from './admin/containers/index';\nimport Tab from './admin/components/Tab';\nimport FeatureFlag from 'components/FeatureFlag';\n\ntype RenderOnTabHideConditionProps = {\n  children: ReactNode;\n};\n\nconst RenderOnTabHideCondition = ({\n  children,\n}: RenderOnTabHideConditionProps) => {\n  // Could be more than just a feature flag check,\n  // hence we're not using the FeatureFlag component\n  const isEnabled = useFeatureFlag('project_visibility');\n  if (isEnabled) {\n    return <>{children}</>;\n  }\n  return null;\n};\n\nconst configuration: ModuleConfiguration = {\n  outlets: {\n    'app.containers.Admin.project.edit.permissions.participationRights': (\n      props\n    ) => (\n      <FeatureFlag name=\"project_visibility\">\n        <ProjectVisibility {...props} />\n      </FeatureFlag>\n    ),\n    'app.containers.Admin.projects.edit': (props) => {\n      return (\n        <RenderOnTabHideCondition>\n          <Tab {...props} />\n        </RenderOnTabHideCondition>\n      );\n    },\n  },\n};\n\nexport default configuration;\n","import React, { memo } from 'react';\nimport moment from 'moment';\n\n// components\nimport DateBlocks from './DateBlocks';\nimport EventInformation from './EventInformation';\n\n// services\nimport { IEventData } from 'services/events';\n\n// style\nimport styled from 'styled-components';\nimport { defaultCardStyle } from 'utils/styleUtils';\n\n// other\nimport { getIsoDate } from 'utils/dateUtils';\nimport { isNilOrError } from 'utils/helperUtils';\n\nconst Container = styled.div<{ clickable?: boolean }>`\n  ${defaultCardStyle};\n  width: 100%;\n  padding: 30px;\n  display: flex;\n  box-shadow: none;\n  border: solid 1px #ccc;\n`;\n\ninterface Props {\n  event: IEventData;\n  className?: string;\n  id?: string;\n  showProjectTitle?: boolean;\n  showLocation?: boolean;\n  showDescription?: boolean;\n  showAttachments?: boolean;\n  titleFontSize?: number;\n  onClickTitleGoToProjectAndScrollToEvent?: boolean;\n}\n\nconst EventCard = memo<Props>((props) => {\n  const { event, className, id, ...otherProps } = props;\n\n  if (!isNilOrError(event)) {\n    const startAtMoment = moment(event.attributes.start_at);\n    const endAtMoment = moment(event.attributes.end_at);\n    const startAtIsoDate = getIsoDate(event.attributes.start_at);\n    const endAtIsoDate = getIsoDate(event.attributes.end_at);\n    const isMultiDayEvent = startAtIsoDate !== endAtIsoDate;\n\n    return (\n      <Container className={className || ''} id={id || ''}>\n        <DateBlocks\n          startAtMoment={startAtMoment}\n          endAtMoment={endAtMoment}\n          isMultiDayEvent={isMultiDayEvent}\n        />\n\n        <EventInformation\n          event={event}\n          startAtMoment={startAtMoment}\n          endAtMoment={endAtMoment}\n          isMultiDayEvent={isMultiDayEvent}\n          {...otherProps}\n        />\n      </Container>\n    );\n  }\n\n  return null;\n});\n\nexport default EventCard;\n","import styled from 'styled-components';\n\nexport default styled.div`\n  height: 100%;\n  flex: 1 0 auto;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 4rem;\n`;\n","import React, { useMemo } from 'react';\nimport { adopt } from 'react-adopt';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { H3, H4 } from 'containers/SiteMap';\nimport T from 'components/T';\nimport Link from 'utils/cl-router/Link';\n\n// intl\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from 'containers/SiteMap/messages';\nimport {\n  IAdminPublicationContent,\n  IUseAdminPublicationsOutput,\n} from 'hooks/useAdminPublications';\nimport GetAdminPublications from 'resources/GetAdminPublications';\nimport Project from 'containers/SiteMap/Project';\n\ninterface InputProps {\n  adminPublication: IAdminPublicationContent;\n  hightestTitle: 'h3' | 'h4';\n}\ninterface DataProps {\n  adminPublications: IUseAdminPublicationsOutput;\n}\n\ninterface Props extends InputProps, DataProps {}\n\nconst ProjectFolderSitemap = ({\n  adminPublication,\n  hightestTitle,\n  adminPublications: { childrenOf },\n}: Props) => {\n  const TitleComponent = hightestTitle === 'h3' ? H3 : H4;\n\n  const childProjects = useMemo(() => childrenOf(adminPublication), [\n    childrenOf,\n    adminPublication,\n  ]);\n\n  return (\n    <>\n      <TitleComponent>\n        <T value={adminPublication.attributes.publication_title_multiloc} />\n      </TitleComponent>\n      <ul>\n        <li>\n          <Link\n            to={`/adminPublication/${adminPublication.attributes.publication_slug}/info`}\n          >\n            <FormattedMessage {...messages.folderInfo} />\n          </Link>\n        </li>\n        {!isNilOrError(childProjects) &&\n          childProjects.map((adminPublication) => (\n            <Project\n              key={adminPublication.id}\n              hightestTitle=\"h4\"\n              adminPublication={adminPublication}\n            />\n          ))}\n      </ul>\n    </>\n  );\n};\n\nconst Data = adopt<DataProps, InputProps>({\n  adminPublications: ({ render }) => (\n    <GetAdminPublications\n      publicationStatusFilter={['published', 'archived', 'draft']}\n    >\n      {render}\n    </GetAdminPublications>\n  ),\n});\n\nexport default (inputProps: InputProps) => (\n  <Data {...inputProps}>\n    {(dataprops) => <ProjectFolderSitemap {...inputProps} {...dataprops} />}\n  </Data>\n);\n","export default {\n  clickSimilarIdeaLink: {\n    name: 'Clicked on a Similar Idea',\n  },\n};\n","import React, { memo } from 'react';\nimport { isNilOrError, stopPropagation } from 'utils/helperUtils';\n\n// data\nimport { ICommentMarkedAsSpamNotificationData } from 'services/notifications';\n\n// i18n\nimport messages from '../../messages';\nimport { FormattedMessage } from 'utils/cl-intl';\n\n// components\nimport T from 'components/T';\nimport NotificationWrapper from '../NotificationWrapper';\nimport Link from 'utils/cl-router/Link';\nimport { DeletedUser } from '../Notification';\n\ninterface Props {\n  notification: ICommentMarkedAsSpamNotificationData;\n}\n\nconst mapPostTypeToLink = (\n  notification: ICommentMarkedAsSpamNotificationData\n): string => {\n  switch (notification.attributes.post_type) {\n    case 'Idea':\n      return `/ideas/${notification.attributes.post_slug}`;\n    case 'Initiative':\n      return `/initiatives/${notification.attributes.post_slug}`;\n  }\n};\n\nconst CommentMarkedAsSpamNotification = memo<Props>((props) => {\n  const { notification } = props;\n\n  const deletedUser =\n    isNilOrError(notification.attributes.initiating_user_first_name) ||\n    isNilOrError(notification.attributes.initiating_user_slug);\n\n  return (\n    <NotificationWrapper\n      linkTo={mapPostTypeToLink(notification)}\n      timing={notification.attributes.created_at}\n      icon=\"comments\"\n      isRead={!!notification.attributes.read_at}\n    >\n      <FormattedMessage\n        {...messages.userReportedCommentAsSpam}\n        values={{\n          name: deletedUser ? (\n            <DeletedUser>\n              <FormattedMessage {...messages.deletedUser} />\n            </DeletedUser>\n          ) : (\n            <Link\n              to={`/profile/${notification.attributes.initiating_user_slug}`}\n              onClick={stopPropagation}\n            >\n              {notification.attributes.initiating_user_first_name}\n            </Link>\n          ),\n          postTitle: <T value={notification.attributes.post_title_multiloc} />,\n        }}\n      />\n    </NotificationWrapper>\n  );\n});\n\nexport default CommentMarkedAsSpamNotification;\n","import React, { memo, useRef, useState, useEffect } from 'react';\nimport { isEmpty, every } from 'lodash-es';\nimport moment from 'moment';\n\n// components\nimport Link from 'utils/cl-router/Link';\nimport QuillEditedContent from 'components/UI/QuillEditedContent';\nimport { Icon } from 'cl2-component-library';\nimport FileAttachments from 'components/UI/FileAttachments';\n\n// hooks\nimport useResourceFiles from 'hooks/useResourceFiles';\nimport useProject from 'hooks/useProject';\n\n// services\nimport { IEventData } from 'services/events';\n\n// i18n\nimport T from 'components/T';\nimport { injectIntl } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\nimport messages from '../messages';\n\n// styling\nimport styled, { useTheme } from 'styled-components';\nimport { colors, fontSizes, media } from 'utils/styleUtils';\n\n// other\nimport checkTextOverflow from './checkTextOverflow';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { ScreenReaderOnly } from 'utils/a11y';\n\nconst EventInformationContainer = styled.div`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  margin-left: 23px;\n  margin-top: 4px;\n`;\n\nconst EventTitleAndAttributes = styled.div`\n  margin-bottom: 25px;\n`;\n\nconst StyledLink = styled(Link)`\n  cursor: pointer;\n  color: ${colors.label};\n  font-size: ${fontSizes.xs}px;\n  display: block;\n  margin: 0 0 5px 0;\n\n  &:hover {\n    color: ${({ theme }) => theme.colorMain};\n  }\n`;\n\nconst EventTitle = styled.h3<{ fontSize?: number }>`\n  color: ${(props: any) => props.theme.colorText};\n  font-size: ${({ fontSize }) => fontSize ?? fontSizes.xl}px;\n  font-weight: 700;\n  line-height: normal;\n  margin: 0 0 9px 0 !important;\n\n  &:hover {\n    color: ${({ theme }) => theme.colorMain};\n  }\n`;\n\nconst EventTimeAndLocationContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n\n  ${media.smallerThanMinTablet`\n    flex-direction: column;\n  `}\n\n  color: ${(props: any) => props.theme.colorText};\n  font-size: ${fontSizes.xs}px;\n`;\n\nconst Time = styled.time`\n  margin-right: 23px;\n\n  ${media.smallerThanMinTablet`\n    margin-bottom: 5px;\n    margin-right: 0px;\n  `}\n`;\n\nconst Location = styled.div``;\n\ninterface StyledIconProps {\n  width: number;\n  height: number;\n  marginRight: number;\n}\n\nconst StyledIcon = styled(Icon)<StyledIconProps>`\n  flex: 0 0 24px;\n  fill: ${colors.label};\n  margin-right: ${({ marginRight }) => marginRight}px;\n  width: ${({ width }) => width}px;\n  height: ${({ height }) => height}px;\n  margin-top: -1.5px;\n\n  ${media.smallerThanMinTablet`\n    margin-right: 6px;\n  `}\n`;\n\nconst EventDescription = styled.div``;\n\nconst SMALL_LINE_HEIGHT = fontSizes.small + 2.45;\n\ninterface IStyledT {\n  hideTextOverflow?: boolean;\n}\n\n// https://css-tricks.com/line-clampin/#the-fade-out-way\nconst StyledT = styled(T)<IStyledT>`\n  ${({ hideTextOverflow }) => {\n    if (!hideTextOverflow) return '';\n\n    return `\n      overflow: hidden;\n      height: calc(${SMALL_LINE_HEIGHT}px * 4);\n\n      &:after {\n        content: \"\";\n        text-align: right;\n        position: absolute;\n        bottom: 0;\n        right: 0;\n        width: 100%;\n        height: ${SMALL_LINE_HEIGHT * 2}px;\n        background: linear-gradient(to bottom, rgba(255, 255, 255, 0), rgba(255, 255, 255, 1) 100%);\n      }\n    `;\n  }}\n\n  p {\n    font-size: ${fontSizes.small}px;\n    line-height: ${SMALL_LINE_HEIGHT}px;\n  }\n\n  color: ${(props: any) => props.theme.colorText};\n  position: relative;\n  display: block;\n`;\n\nconst ShowMoreOrLessButton = styled.button`\n  margin-top: 18px;\n  padding: 0;\n  color: ${colors.label};\n  cursor: pointer;\n  font-weight: 600;\n  text-decoration-line: underline;\n\n  &:hover {\n    color: ${({ theme }) => theme.colorMain};\n    text-decoration-line: none;\n  }\n`;\n\ninterface Props {\n  event: IEventData;\n  startAtMoment: moment.Moment;\n  endAtMoment: moment.Moment;\n  isMultiDayEvent: boolean;\n  showProjectTitle?: boolean;\n  showLocation?: boolean;\n  showDescription?: boolean;\n  showAttachments?: boolean;\n  titleFontSize?: number;\n  onClickTitleGoToProjectAndScrollToEvent?: boolean;\n}\n\nconst EventInformation = memo<Props & InjectedIntlProps>((props) => {\n  const {\n    event,\n    isMultiDayEvent,\n    startAtMoment,\n    endAtMoment,\n    showProjectTitle,\n    showLocation,\n    showDescription,\n    showAttachments,\n    titleFontSize,\n    onClickTitleGoToProjectAndScrollToEvent,\n    intl,\n  } = props;\n\n  const theme: any = useTheme();\n\n  const eventFiles = useResourceFiles({\n    resourceType: 'event',\n    resourceId: event.id,\n  });\n\n  const hasLocation = !every(event.attributes.location_multiloc, isEmpty);\n  const eventDateTime = isMultiDayEvent\n    ? `${startAtMoment.format('LLL')} - ${endAtMoment.format('LLL')}`\n    : `${startAtMoment.format('LL')}  ${startAtMoment.format(\n        'LT'\n      )} - ${endAtMoment.format('LT')}`;\n\n  const projectId = event.relationships.project.data.id;\n  const project = useProject({ projectId });\n  const projectTitle = project?.attributes.title_multiloc;\n  const projectSlug = project?.attributes.slug;\n\n  const TElement = useRef(null);\n\n  const [textOverflow, setTextOverflow] = useState(true);\n  const [hideTextOverflow, setHideTextOverflow] = useState(true);\n  const [a11y_showMoreHelperText, setA11y_showMoreHelperText] = useState('');\n\n  const toggleHiddenText = () => {\n    if (hideTextOverflow) {\n      setHideTextOverflow(false);\n      setA11y_showMoreHelperText(\n        intl.formatMessage(messages.a11y_moreContentVisible)\n      );\n    } else {\n      setHideTextOverflow(true);\n      setA11y_showMoreHelperText(\n        intl.formatMessage(messages.a11y_lessContentVisible)\n      );\n    }\n  };\n\n  useEffect(() => {\n    if (textOverflow === false || showDescription === false) return;\n\n    setTextOverflow(true);\n\n    setTimeout(() => {\n      setTextOverflow(!!checkTextOverflow(TElement));\n    }, 0);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [TElement]);\n\n  return (\n    <EventInformationContainer data-testid=\"EventInformation\">\n      <EventTitleAndAttributes>\n        {showProjectTitle && projectTitle && (\n          <StyledLink to={`/projects/${projectSlug}`}>\n            <T value={projectTitle} />\n          </StyledLink>\n        )}\n\n        {onClickTitleGoToProjectAndScrollToEvent && (\n          <Link to={`/projects/${projectSlug}?scrollToEventId=${event.id}`}>\n            <EventTitle fontSize={titleFontSize}>\n              <T value={event.attributes.title_multiloc} />\n            </EventTitle>\n          </Link>\n        )}\n\n        {!onClickTitleGoToProjectAndScrollToEvent && (\n          <EventTitle fontSize={titleFontSize}>\n            <T value={event.attributes.title_multiloc} />\n          </EventTitle>\n        )}\n\n        <EventTimeAndLocationContainer>\n          <Time>\n            <StyledIcon\n              name=\"clock-solid\"\n              width={fontSizes.medium}\n              height={fontSizes.medium}\n              marginRight={6}\n            />\n            {eventDateTime}\n          </Time>\n\n          {hasLocation && showLocation && (\n            <Location>\n              <StyledIcon\n                name=\"mapmarker\"\n                width={fontSizes.medium}\n                height={fontSizes.medium}\n                marginRight={3}\n              />\n              <T value={event.attributes.location_multiloc} />\n            </Location>\n          )}\n        </EventTimeAndLocationContainer>\n      </EventTitleAndAttributes>\n\n      {showDescription && (\n        <EventDescription>\n          <QuillEditedContent textColor={theme.colorText}>\n            <StyledT\n              value={event.attributes.description_multiloc}\n              supportHtml={true}\n              ref={TElement}\n              wrapInDiv={true}\n              hideTextOverflow={hideTextOverflow && textOverflow}\n            />\n          </QuillEditedContent>\n\n          {((textOverflow && hideTextOverflow) || !hideTextOverflow) && (\n            <>\n              <ShowMoreOrLessButton onClick={toggleHiddenText}>\n                {intl.formatMessage(\n                  hideTextOverflow ? messages.showMore : messages.showLess\n                )}\n              </ShowMoreOrLessButton>\n              <ScreenReaderOnly aria-live=\"polite\">\n                {a11y_showMoreHelperText}\n              </ScreenReaderOnly>\n            </>\n          )}\n        </EventDescription>\n      )}\n\n      {!isNilOrError(eventFiles) &&\n        eventFiles.length > 0 &&\n        showAttachments && <FileAttachments files={eventFiles} />}\n    </EventInformationContainer>\n  );\n});\n\nexport default injectIntl(EventInformation);\n","import React from 'react';\n\n// components\nimport VerticalCenterer from 'components/VerticalCenterer';\nimport { Spinner } from 'cl2-component-library';\n\nexport default () => (\n  <VerticalCenterer>\n    <Spinner />\n  </VerticalCenterer>\n);\n","import React from 'react';\n\n// components\nimport { Radio, IconTooltip, Toggle } from 'cl2-component-library';\nimport FeatureFlag from 'components/FeatureFlag';\nimport Error from 'components/UI/Error';\nimport { SectionField, SubSectionTitle } from 'components/admin/Section';\nimport CustomFieldPicker from './CustomFieldPicker';\nimport DefaultViewPicker from './DefaultViewPicker';\nimport SortingPicker from './SortingPicker';\nimport {\n  StyledSectionField,\n  ToggleRow,\n  ToggleLabel,\n  VotingLimitInput,\n} from './styling';\n\n// i18n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from '../../messages';\n\n// typings\nimport { ApiErrors } from '..';\nimport {\n  IdeaDefaultSortMethod,\n  InputTerm,\n} from 'services/participationContexts';\nimport { IOption } from 'cl2-component-library/dist/utils/typings';\n\ninterface Props {\n  isCustomInputTermEnabled: boolean;\n  input_term: InputTerm | undefined;\n  handleInputTermChange: (option: IOption) => void;\n  inputTermOptions: IOption[];\n  posting_enabled: boolean | null | undefined;\n  commenting_enabled: boolean | null | undefined;\n  voting_enabled: boolean | null | undefined;\n  voting_method: 'unlimited' | 'limited' | null | undefined;\n  voting_limited_max: number | null | undefined;\n  downvoting_enabled: boolean | null | undefined;\n  noVotingLimit: JSX.Element | null;\n  apiErrors: ApiErrors;\n  togglePostingEnabled: () => void;\n  toggleCommentingEnabled: () => void;\n  toggleVotingEnabled: () => void;\n  handeVotingMethodOnChange: (voting_method: 'unlimited' | 'limited') => void;\n  handleVotingLimitOnChange: (voting_limited_max: string) => void;\n  handleDownvotingEnabledOnChange: (downvoting_enabled: boolean) => void;\n  presentation_mode: 'card' | 'map' | null | undefined;\n  handleIdeasDisplayChange: (presentation_mode: 'map' | 'card') => void;\n  ideas_order: IdeaDefaultSortMethod | undefined;\n  handleIdeaDefaultSortMethodChange: (\n    ideas_order: IdeaDefaultSortMethod\n  ) => void;\n}\n\nexport default ({\n  isCustomInputTermEnabled,\n  input_term,\n  handleInputTermChange,\n  inputTermOptions,\n  posting_enabled,\n  commenting_enabled,\n  voting_enabled,\n  voting_method,\n  voting_limited_max,\n  downvoting_enabled,\n  noVotingLimit,\n  apiErrors,\n  togglePostingEnabled,\n  toggleCommentingEnabled,\n  toggleVotingEnabled,\n  handeVotingMethodOnChange,\n  handleVotingLimitOnChange,\n  handleDownvotingEnabledOnChange,\n  presentation_mode,\n  handleIdeasDisplayChange,\n  ideas_order,\n  handleIdeaDefaultSortMethodChange,\n}: Props) => (\n  <>\n    {isCustomInputTermEnabled && (\n      <CustomFieldPicker\n        input_term={input_term}\n        handleInputTermChange={handleInputTermChange}\n        inputTermOptions={inputTermOptions}\n      />\n    )}\n\n    <StyledSectionField>\n      <SubSectionTitle>\n        <FormattedMessage {...messages.phasePermissions} />\n        <IconTooltip\n          content={<FormattedMessage {...messages.phasePermissionsTooltip} />}\n        />\n      </SubSectionTitle>\n\n      <ToggleRow>\n        <ToggleLabel>\n          <FormattedMessage {...messages.inputPostingEnabled} />\n        </ToggleLabel>\n        <Toggle\n          checked={posting_enabled as boolean}\n          onChange={togglePostingEnabled}\n        />\n        <Error apiErrors={apiErrors && apiErrors.posting_enabled} />\n      </ToggleRow>\n\n      <ToggleRow>\n        <ToggleLabel>\n          <FormattedMessage {...messages.inputCommentingEnabled} />\n        </ToggleLabel>\n        <Toggle\n          checked={commenting_enabled as boolean}\n          onChange={toggleCommentingEnabled}\n        />\n        <Error apiErrors={apiErrors && apiErrors.commenting_enabled} />\n      </ToggleRow>\n\n      <ToggleRow className=\"last\">\n        <ToggleLabel>\n          <FormattedMessage {...messages.inputVotingEnabled} />\n        </ToggleLabel>\n        <Toggle\n          checked={voting_enabled as boolean}\n          onChange={toggleVotingEnabled}\n        />\n        <Error apiErrors={apiErrors && apiErrors.voting_enabled} />\n      </ToggleRow>\n    </StyledSectionField>\n    {voting_enabled && (\n      <>\n        <SectionField>\n          <SubSectionTitle>\n            <FormattedMessage {...messages.votingMethod} />\n            <IconTooltip\n              content={<FormattedMessage {...messages.votingMaximumTooltip} />}\n            />\n          </SubSectionTitle>\n          <Radio\n            onChange={handeVotingMethodOnChange}\n            currentValue={voting_method}\n            value=\"unlimited\"\n            name=\"votingmethod\"\n            id=\"votingmethod-unlimited\"\n            label={<FormattedMessage {...messages.unlimited} />}\n          />\n          <Radio\n            onChange={handeVotingMethodOnChange}\n            currentValue={voting_method}\n            value=\"limited\"\n            name=\"votingmethod\"\n            id=\"votingmethod-limited\"\n            label={<FormattedMessage {...messages.limited} />}\n          />\n          <Error apiErrors={apiErrors && apiErrors.voting_method} />\n\n          {voting_method === 'limited' && (\n            <>\n              <SubSectionTitle>\n                <FormattedMessage {...messages.votingLimit} />\n              </SubSectionTitle>\n              <VotingLimitInput\n                id=\"voting-limit\"\n                type=\"number\"\n                min=\"1\"\n                placeholder=\"\"\n                value={\n                  voting_limited_max ? voting_limited_max.toString() : null\n                }\n                onChange={handleVotingLimitOnChange}\n              />\n              <Error\n                text={noVotingLimit}\n                apiErrors={apiErrors && apiErrors.voting_limit}\n              />\n            </>\n          )}\n        </SectionField>\n\n        <FeatureFlag name=\"disable_downvoting\">\n          <SectionField>\n            <SubSectionTitle>\n              <FormattedMessage {...messages.downvoting} />\n              <IconTooltip\n                content={\n                  <FormattedMessage {...messages.disableDownvotingTooltip} />\n                }\n              />\n            </SubSectionTitle>\n            <Radio\n              onChange={handleDownvotingEnabledOnChange}\n              currentValue={downvoting_enabled}\n              value={true}\n              name=\"enableDownvoting\"\n              id=\"enableDownvoting-true\"\n              label={<FormattedMessage {...messages.downvotingEnabled} />}\n            />\n            <Radio\n              onChange={handleDownvotingEnabledOnChange}\n              currentValue={downvoting_enabled}\n              value={false}\n              name=\"enableDownvoting\"\n              id=\"enableDownvoting-false\"\n              label={<FormattedMessage {...messages.downvotingDisabled} />}\n            />\n            <Error apiErrors={apiErrors && apiErrors.downvoting_enabled} />\n          </SectionField>\n        </FeatureFlag>\n\n        <DefaultViewPicker\n          presentation_mode={presentation_mode}\n          apiErrors={apiErrors}\n          handleIdeasDisplayChange={handleIdeasDisplayChange}\n        />\n\n        <SortingPicker\n          ideas_order={ideas_order}\n          apiErrors={apiErrors}\n          handleIdeaDefaultSortMethodChange={handleIdeaDefaultSortMethodChange}\n        />\n      </>\n    )}\n  </>\n);\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  rulesExplanation: {\n    id: 'app.containers.AdminPage.Users.GroupCreation.rulesExplanation',\n    defaultMessage:\n      'Users matching all of the following conditions will be automatically added to the group:',\n  },\n  verificationDisabled: {\n    id: 'app.containers.AdminPage.Users.UsersGroup.verificationDisabled',\n    defaultMessage:\n      'Verification is disabled for your platform, remove the verification rule or contact support.',\n  },\n  rulesError: {\n    id: 'app.containers.AdminPage.Users.UsersGroup.rulesError',\n    defaultMessage: 'Some conditions are incomplete',\n  },\n});\n","import { FC, useEffect } from 'react';\nimport { InjectedIntlProps } from 'react-intl';\nimport { injectIntl } from 'utils/cl-intl';\nimport messages from './messages';\nimport { ITabItem } from 'components/UI/Tabs';\nimport { InsertConfigurationOptions } from 'typings';\n\ntype Props = {\n  onData: (data: InsertConfigurationOptions<ITabItem>) => void;\n};\n\nconst Tab: FC<Props & InjectedIntlProps> = ({\n  onData,\n  intl: { formatMessage },\n}) => {\n  useEffect(() => {\n    onData({\n      configuration: {\n        name: 'template',\n        label: formatMessage(messages.fromATemplate),\n        icon: 'template',\n      },\n      insertBeforeName: 'scratch',\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return null;\n};\n\nexport default injectIntl(Tab);\n","import { useState, useEffect } from 'react';\nimport {\n  currentAppConfigurationStream,\n  IAppConfiguration,\n  TAppConfigurationSetting,\n} from 'services/appConfiguration';\nimport { get } from 'lodash-es';\n\nexport default function useFeatureFlag(name: TAppConfigurationSetting) {\n  const [tenantSettings, setTenantSettings] = useState<\n    | IAppConfiguration['data']['attributes']['settings']\n    | undefined\n    | null\n    | Error\n  >(undefined);\n\n  useEffect(() => {\n    const subscription = currentAppConfigurationStream().observable.subscribe(\n      (tenantSettings) =>\n        setTenantSettings(tenantSettings.data.attributes.settings)\n    );\n\n    return subscription.unsubscribe();\n  });\n\n  return (\n    get(tenantSettings, `${name}.allowed`) === true &&\n    get(tenantSettings, `${name}.enabled`) === true\n  );\n}\n","import React, { memo, useCallback, useState, useEffect } from 'react';\nimport streams from 'utils/streams';\n\n// components\nimport VerificationMethods from './VerificationMethods';\nimport { Spinner } from 'cl2-component-library';\nimport Outlet from 'components/Outlet';\n\n// resource hooks\nimport useAuthUser from 'hooks/useAuthUser';\nimport useVerificationMethods from 'hooks/useVerificationMethods';\n\n// style\nimport styled from 'styled-components';\nimport { media } from 'utils/styleUtils';\n\n// typings\nimport { IVerificationMethod } from 'services/verificationMethods';\nimport { isNilOrError } from 'utils/helperUtils';\nimport {\n  ContextShape,\n  IVerificationError,\n  TVerificationSteps,\n} from 'components/Verification/verificationModalEvents';\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  padding-bottom: 30px;\n\n  ${media.smallerThanMinTablet`\n    padding-bottom: 20px;\n  `}\n`;\n\nconst Loading = styled.div`\n  width: 100%;\n  height: 250px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nexport interface Props {\n  context: ContextShape; // TODO change to pass in additionnal rules info\n  initialActiveStep: TVerificationSteps;\n  showHeader?: boolean;\n  inModal: boolean;\n  skippable?: boolean;\n  onCompleted?: () => void;\n  onSkipped?: () => void;\n  onError?: () => void;\n  className?: string;\n  error?: IVerificationError | null | undefined;\n}\n\nconst VerificationSteps = memo<Props>(\n  ({\n    className,\n    context,\n    initialActiveStep,\n    showHeader,\n    inModal,\n    skippable,\n    onCompleted,\n    onSkipped,\n    onError,\n    error,\n  }) => {\n    const [activeStep, setActiveStep] = useState<TVerificationSteps>(\n      initialActiveStep || 'method-selection'\n    );\n    const [method, setMethod] = useState<IVerificationMethod | null>(null);\n\n    const authUser = useAuthUser();\n    const verificationMethods = useVerificationMethods();\n\n    useEffect(() => {\n      if (activeStep === 'success' && onCompleted) {\n        onCompleted();\n      }\n\n      if (activeStep === 'error' && (context === null || error) && onError) {\n        onError();\n      }\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [onCompleted, onError, context, activeStep]);\n\n    const onMethodSelected = useCallback(\n      (selectedMethod: IVerificationMethod) => {\n        setMethod(selectedMethod);\n        setActiveStep('method-step');\n      },\n      []\n    );\n\n    const goToSuccessStep = useCallback(() => {\n      if (!isNilOrError(authUser)) {\n        streams.reset().then(() => {\n          setActiveStep('success');\n          setMethod(null);\n        });\n      }\n    }, [authUser]);\n\n    const onStepCancel = useCallback(() => {\n      setActiveStep('method-selection');\n      setMethod(null);\n    }, []);\n\n    const onStepVerified = useCallback(() => {\n      goToSuccessStep();\n    }, [goToSuccessStep]);\n\n    const onVerificationSkipped = useCallback(() => {\n      onSkipped?.();\n    }, [onSkipped]);\n\n    if (verificationMethods === undefined) {\n      return (\n        <Loading>\n          <Spinner />\n        </Loading>\n      );\n    }\n\n    if (verificationMethods !== undefined) {\n      return (\n        <Container\n          id=\"e2e-verification-wizard-root\"\n          className={className || ''}\n        >\n          {activeStep === 'method-selection' && (\n            <VerificationMethods\n              context={context}\n              showHeader={showHeader}\n              inModal={inModal}\n              skippable={skippable}\n              onSkipped={onVerificationSkipped}\n              onMethodSelected={onMethodSelected}\n            />\n          )}\n\n          {activeStep === 'method-step' && method && (\n            <Outlet\n              id=\"app.components.VerificationModal.methodStep\"\n              method={method}\n              showHeader={showHeader}\n              inModal={inModal}\n              onCancel={onStepCancel}\n              onVerified={onStepVerified}\n            />\n          )}\n        </Container>\n      );\n    }\n\n    return null;\n  }\n);\n\nexport default VerificationSteps;\n","import React, { PureComponent } from 'react';\nimport { set, keys, difference, get } from 'lodash-es';\nimport { adopt } from 'react-adopt';\nimport clHistory from 'utils/cl-router/history';\nimport { API_PATH } from 'containers/App/constants';\nimport request from 'utils/request';\n\n// components\nimport { Input } from 'cl2-component-library';\nimport Button from 'components/UI/Button';\nimport PasswordInput, {\n  hasPasswordMinimumLength,\n} from 'components/UI/PasswordInput';\nimport PasswordInputIconTooltip from 'components/UI/PasswordInput/PasswordInputIconTooltip';\nimport Error from 'components/UI/Error';\nimport { FormLabel } from 'components/UI/FormComponents';\nimport Consent from 'components/SignUpIn/SignUp/Consent';\nimport { Options, Option } from 'components/SignUpIn/styles';\n\n// utils\nimport { isValidEmail } from 'utils/validate';\nimport { isCLErrorJSON } from 'utils/errorUtils';\nimport { isNilOrError } from 'utils/helperUtils';\n\n// services\nimport { signUp } from 'services/auth';\n\n// resources\nimport GetLocale, { GetLocaleChildProps } from 'resources/GetLocale';\nimport GetWindowSize, {\n  GetWindowSizeChildProps,\n} from 'resources/GetWindowSize';\nimport GetAppConfiguration, {\n  GetAppConfigurationChildProps,\n} from 'resources/GetAppConfiguration';\nimport GetFeatureFlag from 'resources/GetFeatureFlag';\n\n// i18n\nimport { InjectedIntlProps } from 'react-intl';\nimport { injectIntl, FormattedMessage } from 'utils/cl-intl';\nimport messages from './messages';\n\n// analytics\nimport { trackEventByName } from 'utils/analytics';\nimport tracks from 'components/SignUpIn/tracks';\n\n// style\nimport styled from 'styled-components';\nimport { viewportWidths } from 'utils/styleUtils';\n\n// typings\nimport { CLErrorsJSON } from 'typings';\nimport { ISignUpInMetaData } from 'components/SignUpIn';\nimport { IUser } from 'services/users';\n\nconst Container = styled.div``;\n\nconst Form = styled.form`\n  width: 100%;\n`;\n\nconst FormElement = styled.div`\n  width: 100%;\n  margin-bottom: 20px;\n`;\n\nconst StyledConsent = styled(Consent)`\n  padding-top: 10px;\n`;\n\nconst ButtonWrapper = styled.div`\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding-top: 8px;\n`;\n\nconst LabelContainer = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nconst StyledFormLabel = styled(FormLabel)`\n  width: max-content;\n  margin-right: 5px;\n`;\n\nconst StyledPasswordInputIconTooltip = styled(PasswordInputIconTooltip)`\n  margin-bottom: 4px;\n`;\n\ntype InputProps = {\n  metaData: ISignUpInMetaData;\n  hasNextStep?: boolean;\n  onCompleted: (userId: string) => void;\n  onGoToSignIn: () => void;\n  onGoBack?: () => void;\n  className?: string;\n};\n\ninterface DataProps {\n  locale: GetLocaleChildProps;\n  tenant: GetAppConfigurationChildProps;\n  windowSize: GetWindowSizeChildProps;\n  passwordLoginEnabled: boolean | null;\n  googleLoginEnabled: boolean | null;\n  facebookLoginEnabled: boolean | null;\n  azureAdLoginEnabled: boolean | null;\n  franceconnectLoginEnabled: boolean | null;\n}\n\ninterface Props extends InputProps, DataProps {}\n\ntype State = {\n  token: string | null | undefined;\n  firstName: string | null;\n  lastName: string | null;\n  email: string | null | undefined;\n  password: string | null;\n  tacAccepted: boolean;\n  privacyAccepted: boolean;\n  processing: boolean;\n  invitationRedeemError: string | null;\n  firstNameError: string | null;\n  lastNameError: string | null;\n  emailError: string | null;\n  privacyError: boolean;\n  hasMinimumLengthError: boolean;\n  tacError: boolean;\n  unknownError: string | null;\n  apiErrors: CLErrorsJSON | null | Error;\n};\n\nclass PasswordSignup extends PureComponent<Props & InjectedIntlProps, State> {\n  firstNameInputElement: HTMLInputElement | null;\n  lastNameInputElement: HTMLInputElement | null;\n  emailInputElement: HTMLInputElement | null;\n  passwordInputElement: HTMLInputElement | null;\n\n  constructor(props: Props & InjectedIntlProps) {\n    super(props);\n    this.state = {\n      token: props.metaData.token,\n      firstName: null,\n      lastName: null,\n      email: null,\n      password: null,\n      tacAccepted: false,\n      privacyAccepted: false,\n      processing: false,\n      invitationRedeemError: null,\n      firstNameError: null,\n      lastNameError: null,\n      emailError: null,\n      hasMinimumLengthError: false,\n      tacError: false,\n      privacyError: false,\n      unknownError: null,\n      apiErrors: null,\n    };\n\n    this.firstNameInputElement = null;\n    this.lastNameInputElement = null;\n    this.emailInputElement = null;\n    this.passwordInputElement = null;\n  }\n\n  componentDidMount() {\n    trackEventByName(tracks.signUpEmailPasswordStepEntered);\n\n    const { metaData } = this.props;\n\n    this.setState({ token: metaData?.token });\n\n    if (metaData?.token) {\n      request<IUser>(\n        `${API_PATH}/users/by_invite/${metaData.token}`,\n        null,\n        { method: 'GET' },\n        null\n      ).then((response) => {\n        this.setState({\n          firstName: response?.data?.attributes?.first_name || null,\n          lastName: response?.data?.attributes.last_name || null,\n          email: response?.data?.attributes?.email || null,\n        });\n      });\n    }\n  }\n\n  // eslint-disable-next-line react/no-deprecated\n  componentWillMount() {\n    trackEventByName(tracks.signUpEmailPasswordStepExited);\n  }\n\n  handleTokenOnChange = (token: string) => {\n    this.setState({\n      token,\n      invitationRedeemError: null,\n      unknownError: null,\n    });\n  };\n\n  handleFirstNameOnChange = (firstName: string) => {\n    this.setState((state) => ({\n      firstName,\n      firstNameError: null,\n      unknownError: null,\n      apiErrors: state.apiErrors\n        ? set(state.apiErrors, 'json.errors.first_name', null)\n        : null,\n    }));\n  };\n\n  handleLastNameOnChange = (lastName: string) => {\n    this.setState((state) => ({\n      lastName,\n      lastNameError: null,\n      unknownError: null,\n      apiErrors: state.apiErrors\n        ? set(state.apiErrors, 'json.errors.last_name', null)\n        : null,\n    }));\n  };\n\n  handleEmailOnChange = (email: string) => {\n    this.setState((state) => ({\n      email,\n      emailError: null,\n      unknownError: null,\n      apiErrors: state.apiErrors\n        ? set(state.apiErrors, 'json.errors.email', null)\n        : null,\n    }));\n  };\n\n  handlePasswordOnChange = (password: string) => {\n    this.setState((state) => ({\n      password,\n      hasMinimumLengthError: false,\n      unknownError: null,\n      apiErrors: state.apiErrors\n        ? set(state.apiErrors, 'json.errors.password', null)\n        : null,\n    }));\n  };\n\n  handleOnGoToSignIn = (event: React.FormEvent) => {\n    event.preventDefault();\n\n    if (this.props.metaData?.inModal || this.props.metaData?.noPushLinks) {\n      this.props.onGoToSignIn();\n    } else {\n      clHistory.push('/sign-in');\n    }\n  };\n\n  handleTacAcceptedChange = (tacAccepted: boolean) => {\n    this.setState({\n      tacAccepted,\n      tacError: false,\n    });\n  };\n\n  handlePrivacyAcceptedChange = (privacyAccepted: boolean) => {\n    this.setState({\n      privacyAccepted,\n      privacyError: false,\n    });\n  };\n\n  handleFirstNameInputSetRef = (element: HTMLInputElement) => {\n    if (element) {\n      this.firstNameInputElement = element;\n    }\n  };\n  handleLastNameInputSetRef = (element: HTMLInputElement) => {\n    if (element) {\n      this.lastNameInputElement = element;\n    }\n  };\n\n  handleEmailInputSetRef = (element: HTMLInputElement) => {\n    if (element) {\n      this.emailInputElement = element;\n    }\n  };\n\n  handlePasswordInputSetRef = (element: HTMLInputElement) => {\n    if (element) {\n      this.passwordInputElement = element;\n    }\n  };\n\n  handleOnSubmit = async (event: React.FormEvent) => {\n    event.preventDefault();\n\n    const { tenant } = this.props;\n    const { isInvitation } = this.props.metaData;\n    const { formatMessage } = this.props.intl;\n    const { locale } = this.props;\n    const {\n      token,\n      firstName,\n      lastName,\n      email,\n      password,\n      tacAccepted,\n      privacyAccepted,\n      processing,\n    } = this.state;\n    let invitationRedeemError =\n      isInvitation && !token ? formatMessage(messages.noTokenError) : null;\n    const phone =\n      !isNilOrError(tenant) && tenant.attributes.settings.password_login?.phone;\n    const hasEmailError = !phone && (!email || !isValidEmail(email));\n    const emailError = hasEmailError\n      ? !email\n        ? formatMessage(messages.noEmailError)\n        : formatMessage(messages.noValidEmailError)\n      : null;\n    const firstNameError = !firstName\n      ? formatMessage(messages.noFirstNameError)\n      : null;\n    const lastNameError = !lastName\n      ? formatMessage(messages.noLastNameError)\n      : null;\n    const hasMinimumLengthError =\n      typeof password === 'string'\n        ? hasPasswordMinimumLength(\n            password,\n            !isNilOrError(tenant)\n              ? tenant.attributes.settings.password_login?.minimum_length\n              : undefined\n          )\n        : true;\n    const tacError = !tacAccepted;\n    const privacyError = !privacyAccepted;\n\n    if (this.firstNameInputElement && firstNameError) {\n      this.firstNameInputElement.focus();\n    } else if (this.lastNameInputElement && lastNameError) {\n      this.lastNameInputElement.focus();\n    } else if (this.emailInputElement && emailError) {\n      this.emailInputElement.focus();\n    } else if (this.passwordInputElement && hasMinimumLengthError) {\n      this.passwordInputElement.focus();\n    }\n\n    const hasErrors = [\n      invitationRedeemError,\n      emailError,\n      firstNameError,\n      lastNameError,\n      hasMinimumLengthError,\n      tacError,\n      privacyError,\n    ].some((error) => error);\n\n    this.setState({\n      invitationRedeemError,\n      emailError,\n      firstNameError,\n      lastNameError,\n      hasMinimumLengthError,\n      tacError,\n      privacyError,\n    });\n\n    if (\n      !hasErrors &&\n      !processing &&\n      firstName &&\n      lastName &&\n      email &&\n      password &&\n      locale\n    ) {\n      try {\n        this.setState({ processing: true, unknownError: null });\n        const user = await signUp(\n          firstName,\n          lastName,\n          email,\n          password,\n          locale,\n          isInvitation,\n          token\n        );\n        this.setState({ processing: false });\n        trackEventByName(tracks.signUpEmailPasswordStepCompleted);\n        this.props.onCompleted(user.data.id);\n      } catch (errors) {\n        trackEventByName(tracks.signUpEmailPasswordStepFailed, { errors });\n\n        // custom error handling for invitation codes\n        if (get(errors, 'json.errors.base[0].error') === 'token_not_found') {\n          invitationRedeemError = formatMessage(messages.tokenNotFoundError);\n        }\n\n        if (get(errors, 'json.errors.base[0].error') === 'already_accepted') {\n          invitationRedeemError = formatMessage(\n            messages.tokenAlreadyAcceptedError\n          );\n        }\n\n        this.setState({\n          invitationRedeemError,\n          processing: false,\n          apiErrors: errors,\n        });\n      }\n    }\n  };\n\n  goBackToSignUpOptions = (event: React.MouseEvent) => {\n    event.preventDefault();\n\n    if (this.props.metaData?.inModal || this.props.metaData?.noPushLinks) {\n      this.props.onGoBack?.();\n    } else {\n      clHistory.push('/sign-up');\n    }\n  };\n\n  get emailErrors() {\n    const { tenant } = this.props;\n    const { apiErrors } = this.state;\n\n    return get(apiErrors, 'json.errors.email')?.map((error) => ({\n      ...error,\n      payload: {\n        supportEmail: isNilOrError(tenant)\n          ? 'support@citizenlab.co'\n          : tenant?.attributes?.settings?.core?.reply_to_email ||\n            'support@citizenlab.co',\n      },\n    }));\n  }\n\n  render() {\n    const {\n      tenant,\n      windowSize,\n      className,\n      hasNextStep,\n      passwordLoginEnabled,\n      googleLoginEnabled,\n      facebookLoginEnabled,\n      azureAdLoginEnabled,\n      franceconnectLoginEnabled,\n      metaData: { isInvitation },\n      intl: { formatMessage },\n    } = this.props;\n    const {\n      token,\n      firstName,\n      lastName,\n      email,\n      password,\n      processing,\n      invitationRedeemError,\n      firstNameError,\n      lastNameError,\n      emailError,\n      hasMinimumLengthError,\n      apiErrors,\n    } = this.state;\n    const phone =\n      !isNilOrError(tenant) && tenant.attributes.settings.password_login?.phone;\n    const enabledProviders = [\n      passwordLoginEnabled,\n      googleLoginEnabled,\n      facebookLoginEnabled,\n      azureAdLoginEnabled,\n      franceconnectLoginEnabled,\n    ].filter((provider) => provider === true);\n    const isDesktop = windowSize\n      ? windowSize > viewportWidths.largeTablet\n      : true;\n\n    let unknownApiError: string | null = null;\n\n    if (apiErrors) {\n      if (isCLErrorJSON(apiErrors)) {\n        // weirdly TS doesn't understand my typeguard.\n        const fieldKeys = keys((apiErrors as any).json.errors);\n\n        if (\n          difference(fieldKeys, [\n            'first_name',\n            'last_name',\n            'email',\n            'password',\n            'base',\n          ]).length > 0\n        ) {\n          unknownApiError = formatMessage(messages.unknownError);\n        }\n      } else {\n        unknownApiError = formatMessage(messages.unknownError);\n      }\n    }\n\n    return (\n      <Container\n        id=\"e2e-sign-up-email-password-container\"\n        className={className}\n      >\n        <>\n          <Form\n            id=\"e2e-signup-password\"\n            onSubmit={this.handleOnSubmit}\n            noValidate={true}\n          >\n            {isInvitation && !this.props.metaData.token && (\n              <FormElement id=\"e2e-token-container\">\n                <FormLabel labelMessage={messages.tokenLabel} htmlFor=\"token\" />\n                <Input\n                  id=\"token\"\n                  type=\"text\"\n                  value={token}\n                  placeholder={formatMessage(messages.tokenPlaceholder)}\n                  error={invitationRedeemError}\n                  onChange={this.handleTokenOnChange}\n                  autoFocus={\n                    !!(\n                      isDesktop &&\n                      isInvitation &&\n                      !this.props.metaData.token &&\n                      !this.props.metaData?.noAutofocus\n                    )\n                  }\n                />\n              </FormElement>\n            )}\n\n            <FormElement id=\"e2e-firstName-container\">\n              <FormLabel\n                labelMessage={messages.firstNamesLabel}\n                htmlFor=\"firstName\"\n              />\n              <Input\n                id=\"firstName\"\n                type=\"text\"\n                value={firstName}\n                placeholder={formatMessage(messages.firstNamesPlaceholder)}\n                error={firstNameError}\n                onChange={this.handleFirstNameOnChange}\n                autocomplete=\"given-name\"\n                autoFocus={\n                  !this.props.metaData?.noAutofocus &&\n                  isDesktop &&\n                  (!isInvitation ||\n                    !!(isInvitation && this.props.metaData.token))\n                }\n                setRef={this.handleFirstNameInputSetRef}\n              />\n              <Error\n                fieldName={'first_name'}\n                apiErrors={get(apiErrors, 'json.errors.first_name')}\n              />\n            </FormElement>\n\n            <FormElement id=\"e2e-lastName-container\">\n              <FormLabel\n                labelMessage={messages.lastNameLabel}\n                htmlFor=\"lastName\"\n              />\n              <Input\n                id=\"lastName\"\n                type=\"text\"\n                value={lastName}\n                placeholder={formatMessage(messages.lastNamePlaceholder)}\n                error={lastNameError}\n                onChange={this.handleLastNameOnChange}\n                autocomplete=\"family-name\"\n                setRef={this.handleLastNameInputSetRef}\n              />\n              <Error\n                fieldName={'last_name'}\n                apiErrors={get(apiErrors, 'json.errors.last_name')}\n              />\n            </FormElement>\n\n            <FormElement id=\"e2e-email-container\">\n              <FormLabel\n                labelMessage={\n                  phone ? messages.emailOrPhoneLabel : messages.emailLabel\n                }\n                htmlFor=\"email\"\n              />\n              <Input\n                type=\"email\"\n                id=\"email\"\n                value={email}\n                placeholder={formatMessage(messages.emailPlaceholder)}\n                error={emailError}\n                onChange={this.handleEmailOnChange}\n                autocomplete=\"email\"\n                setRef={this.handleEmailInputSetRef}\n              />\n              <Error fieldName={'email'} apiErrors={this.emailErrors} />\n            </FormElement>\n\n            <FormElement id=\"e2e-password-container\">\n              <LabelContainer>\n                <StyledFormLabel\n                  labelMessage={messages.passwordLabel}\n                  htmlFor=\"signup-password-input\"\n                />\n                <StyledPasswordInputIconTooltip />\n              </LabelContainer>\n              <PasswordInput\n                id=\"password\"\n                password={password}\n                placeholder={formatMessage(messages.passwordPlaceholder)}\n                onChange={this.handlePasswordOnChange}\n                autocomplete=\"new-password\"\n                errors={{ minimumLengthError: hasMinimumLengthError }}\n                setRef={this.handlePasswordInputSetRef}\n              />\n              <Error\n                fieldName={'password'}\n                apiErrors={get(apiErrors, 'json.errors.password')}\n              />\n            </FormElement>\n\n            <FormElement>\n              <StyledConsent\n                tacError={this.state.tacError}\n                privacyError={this.state.privacyError}\n                onTacAcceptedChange={this.handleTacAcceptedChange}\n                onPrivacyAcceptedChange={this.handlePrivacyAcceptedChange}\n              />\n            </FormElement>\n\n            <FormElement>\n              <ButtonWrapper>\n                <Button\n                  id=\"e2e-signup-password-submit-button\"\n                  processing={processing}\n                  text={formatMessage(\n                    hasNextStep ? messages.nextStep : messages.signUp2\n                  )}\n                  onClick={this.handleOnSubmit}\n                />\n              </ButtonWrapper>\n            </FormElement>\n\n            <Error text={invitationRedeemError || unknownApiError} />\n          </Form>\n\n          <Options>\n            <Option>\n              {enabledProviders.length > 1 ? (\n                <button onClick={this.goBackToSignUpOptions} className=\"link\">\n                  <FormattedMessage {...messages.backToSignUpOptions} />\n                </button>\n              ) : (\n                <FormattedMessage\n                  {...messages.goToLogIn}\n                  values={{\n                    goToOtherFlowLink: (\n                      <button\n                        onClick={this.handleOnGoToSignIn}\n                        className=\"link\"\n                      >\n                        {formatMessage(messages.logIn2)}\n                      </button>\n                    ),\n                  }}\n                />\n              )}\n            </Option>\n          </Options>\n        </>\n      </Container>\n    );\n  }\n}\n\nconst Data = adopt<DataProps, InputProps>({\n  locale: <GetLocale />,\n  tenant: <GetAppConfiguration />,\n  windowSize: <GetWindowSize />,\n  passwordLoginEnabled: <GetFeatureFlag name=\"password_login\" />,\n  googleLoginEnabled: <GetFeatureFlag name=\"google_login\" />,\n  facebookLoginEnabled: <GetFeatureFlag name=\"facebook_login\" />,\n  azureAdLoginEnabled: <GetFeatureFlag name=\"azure_ad_login\" />,\n  franceconnectLoginEnabled: <GetFeatureFlag name=\"franceconnect_login\" />,\n});\n\nconst PasswordSignupWithHoC = injectIntl<Props>(PasswordSignup);\n\nexport default (inputProps: InputProps) => (\n  <Data {...inputProps}>\n    {(dataprops) => <PasswordSignupWithHoC {...inputProps} {...dataprops} />}\n  </Data>\n);\n","import React from 'react';\nimport { Subscription } from 'rxjs';\nimport { IAreaData, areasStream } from 'services/areas';\nimport { isNilOrError } from 'utils/helperUtils';\n\ninterface InputProps {}\n\ntype children = (renderProps: GetAreasChildProps) => JSX.Element | null;\n\ninterface Props extends InputProps {\n  children?: children;\n}\n\ninterface State {\n  areas: IAreaData[] | undefined | null | Error;\n}\n\nexport interface IQueryParameters {\n  'page[number]': number;\n  'page[size]': number;\n}\n\nexport type GetAreasChildProps = IAreaData[] | undefined | null | Error;\n\nexport default class GetAreas extends React.Component<Props, State> {\n  defaultQueryParameters: IQueryParameters;\n  private subscriptions: Subscription[];\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      areas: undefined,\n    };\n\n    this.defaultQueryParameters = {\n      'page[number]': 1 as number,\n      'page[size]': 5000 as number,\n    };\n  }\n\n  componentDidMount() {\n    this.subscriptions = [\n      areasStream({\n        queryParameters: this.defaultQueryParameters,\n      }).observable.subscribe((areas) =>\n        this.setState({ areas: !isNilOrError(areas) ? areas.data : areas })\n      ),\n    ];\n  }\n\n  componentWillUnmount() {\n    this.subscriptions.forEach((subscription) => subscription.unsubscribe());\n  }\n\n  render() {\n    const { children } = this.props;\n    const { areas } = this.state;\n    return (children as children)(areas);\n  }\n}\n","import React, { ReactNode } from 'react';\nimport { TNotificationData, TNotificationType } from 'services/notifications';\n\nexport type RenderOnNotificationTypeProps = {\n  children: ReactNode;\n  notification: TNotificationData;\n  notificationType: TNotificationType;\n};\n\nconst RenderOnNotificationType = ({\n  children,\n  notification,\n  notificationType,\n}: RenderOnNotificationTypeProps) => {\n  if (notification.attributes.type === notificationType) {\n    return <>{children}</>;\n  }\n\n  return null;\n};\n\nexport default RenderOnNotificationType;\n","import React, { PureComponent } from 'react';\nimport { adopt } from 'react-adopt';\nimport { Subscription } from 'rxjs';\nimport moment from 'moment';\nimport {\n  isBoolean,\n  forOwn,\n  get,\n  uniq,\n  isNil,\n  isEmpty,\n  isString,\n} from 'lodash-es';\nimport { isNilOrError } from 'utils/helperUtils';\n\n// libraries\nimport Form, { FieldProps } from 'react-jsonschema-form';\n\n// services\nimport GetUserCustomFieldsSchema, {\n  GetUserCustomFieldsSchemaChildProps,\n} from '../../../resources/GetUserCustomFieldsSchema';\n\n// components\nimport { FormLabelValue } from 'components/UI/FormComponents';\nimport TextArea from 'components/UI/TextArea';\nimport { Input, IconTooltip, Select, DateInput } from 'cl2-component-library';\nimport MultipleSelect from 'components/UI/MultipleSelect';\nimport Checkbox from 'components/UI/Checkbox';\nimport { SectionField } from 'components/admin/Section';\nimport Error from 'components/UI/Error';\nimport {\n  ExtraFormDataConfiguration,\n  ExtraFormDataKey,\n} from 'containers/UsersEditPage/ProfileForm';\n\n// i18n\nimport { InjectedIntlProps } from 'react-intl';\nimport { injectIntl, FormattedMessage } from 'utils/cl-intl';\nimport messages from './messages';\n\n// styling\nimport styled from 'styled-components';\n\n// typings\nimport { IOption } from 'typings';\nimport { IUserData } from 'services/users';\n\n// utils\nimport eventEmitter from 'utils/eventEmitter';\n\nconst Container = styled.div``;\n\nconst StyledSectionField = styled(SectionField)`\n  margin-bottom: 30px;\n`;\n\nconst StyledFormLabelValue = styled(FormLabelValue)`\n  display: block;\n  margin-bottom: 10px;\n`;\n\nconst InvisibleSubmitButton = styled.button`\n  visibility: hidden;\n`;\n\nconst InputContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n`;\n\nconst StyledIconTooltip = styled(IconTooltip)`\n  margin-left: 5px;\n`;\n\nconst StyledSelect = styled(Select)`\n  flex-grow: 1;\n`;\n\nconst StyledTextArea = styled(TextArea)`\n  flex-grow: 1;\n`;\n\nconst StyledMultipleSelect = styled(MultipleSelect)`\n  flex-grow: 1;\n`;\n\nconst StyledDateInput = styled(DateInput)`\n  flex-grow: 1;\n`;\n\ntype FormData = Record<string, any> | null;\nexport interface InputProps {\n  authUser: IUserData;\n  onSubmit: (data: { key: string; formData: FormData }) => void;\n  onChange?: () => void;\n  onData?: (data: {\n    key: ExtraFormDataKey;\n    data: ExtraFormDataConfiguration;\n  }) => void;\n}\n\ninterface State {\n  formData: FormData;\n}\n\ninterface DataProps {\n  userCustomFieldsSchema: GetUserCustomFieldsSchemaChildProps;\n}\n\ninterface Props extends InputProps, DataProps {}\n\nclass UserCustomFieldsForm extends PureComponent<\n  Props & InjectedIntlProps,\n  State\n> {\n  submitbuttonElement: HTMLButtonElement | null;\n  subscriptions: Subscription[];\n\n  constructor(props) {\n    super(props);\n    this.subscriptions = [];\n    this.state = {\n      formData: null,\n    };\n  }\n\n  componentDidMount() {\n    this.subscriptions = [\n      eventEmitter.observeEvent('customFieldsSubmitEvent').subscribe(() => {\n        this.submitbuttonElement?.click?.();\n      }),\n    ];\n\n    this.props.onData?.({\n      key: 'custom_field_values',\n      data: {\n        submit: () => this?.submitbuttonElement?.click?.(),\n      },\n    });\n  }\n\n  componentWillUnmount() {\n    this.subscriptions.forEach((subscription) => subscription.unsubscribe());\n  }\n\n  setButtonRef = (element: HTMLButtonElement) => {\n    if (element) {\n      this.submitbuttonElement = element;\n    }\n  };\n\n  handleOnChange = ({ formData }) => {\n    const sanitizedFormData = {};\n\n    forOwn(formData, (value, key) => {\n      sanitizedFormData[key] = value === null ? undefined : value;\n    });\n\n    this.setState({ formData: sanitizedFormData }, () =>\n      this.props.onChange?.()\n    );\n  };\n\n  handleOnSubmit = ({ formData }) => {\n    const sanitizedFormData = {};\n\n    forOwn(formData, (value, key) => {\n      sanitizedFormData[key] = value === null ? undefined : value;\n    });\n\n    this.setState({ formData: sanitizedFormData }, () =>\n      this.props.onSubmit({\n        key: 'custom_field_values',\n        formData: this.state.formData,\n      })\n    );\n  };\n\n  handleOnError = (_errors) => {\n    // empty\n  };\n\n  validate = (formData, errors) => {\n    const { userCustomFieldsSchema } = this.props;\n\n    if (!isNilOrError(userCustomFieldsSchema)) {\n      const { schema, uiSchema } = userCustomFieldsSchema;\n      const requiredFieldNames = get(schema, 'required', []);\n      const disabledFieldNames = get(uiSchema, 'ui:disabled', []);\n      const fieldNames = get(schema, 'properties', null);\n      const requiredErrorMessage = this.props.intl.formatMessage(\n        messages.requiredError\n      );\n      const mustBeANumberMessage = this.props.intl.formatMessage(\n        messages.mustBeANumber\n      );\n\n      errors['__errors'] = [];\n\n      forOwn(fieldNames, (_value, fieldName) => {\n        errors[fieldName]['__errors'] = [];\n      });\n\n      requiredFieldNames\n        .filter((requiredFieldName) => {\n          return (\n            disabledFieldNames.includes(requiredFieldName) ||\n            isNil(formData[requiredFieldName]) ||\n            (!isBoolean(formData[requiredFieldName]) &&\n              !Number.isInteger(formData[requiredFieldName]) &&\n              isEmpty(formData[requiredFieldName])) ||\n            (isBoolean(formData[requiredFieldName]) &&\n              formData[requiredFieldName] === false)\n          );\n        })\n        .forEach((requiredFieldName) => {\n          errors[requiredFieldName].addError(requiredErrorMessage);\n        });\n\n      if (!isNilOrError(schema)) {\n        Object.keys(fieldNames)\n          .filter((fieldName) => {\n            return (\n              !isNil(formData[fieldName]) &&\n              schema.properties[fieldName].type === 'number' &&\n              !Number.isInteger(formData[fieldName])\n            );\n          })\n          .forEach((numberFieldWithError) => {\n            errors[numberFieldWithError].addError(mustBeANumberMessage);\n          });\n      }\n      return errors;\n    }\n  };\n\n  CustomInput = (props: FieldProps) => {\n    const onChange = (value) => props.onChange(value);\n\n    return (\n      <InputContainer>\n        <Input\n          type=\"text\"\n          value={props.value}\n          onChange={onChange}\n          key={props.id}\n          id={props.id}\n          disabled={props.disabled}\n        />\n        {props.options.verificationLocked && (\n          <StyledIconTooltip\n            content={<FormattedMessage {...messages.blockedVerified} />}\n            icon=\"lock\"\n          />\n        )}\n      </InputContainer>\n    );\n  };\n\n  CustomTextarea = (props: FieldProps) => {\n    const onChange = (value) => props.onChange(value);\n\n    return (\n      <InputContainer>\n        <StyledTextArea\n          onChange={onChange}\n          rows={6}\n          value={props.value}\n          key={props.id}\n          id={props.id}\n          disabled={props.disabled}\n        />\n        {props.options.verificationLocked && (\n          <StyledIconTooltip\n            content={<FormattedMessage {...messages.blockedVerified} />}\n            icon=\"lock\"\n          />\n        )}\n      </InputContainer>\n    );\n  };\n\n  CustomSelect = (props: FieldProps) => {\n    if (props.schema.type === 'string' || props.schema.type === 'number') {\n      const selectedOption: IOption | null = props.value\n        ? {\n            value: props.value,\n            label: get(\n              props.options.enumOptions.find(\n                (enumOption) => enumOption.value === props.value\n              ),\n              'label',\n              null\n            ),\n          }\n        : null;\n\n      const onChange = (selectedOption: IOption) => {\n        props?.onChange?.(selectedOption ? selectedOption.value : null);\n      };\n\n      return (\n        <InputContainer>\n          <StyledSelect\n            value={selectedOption}\n            options={props.options.enumOptions}\n            onChange={onChange}\n            key={props.id}\n            id={props.id}\n            disabled={props.disabled}\n            aria-label={props.label}\n            canBeEmpty={true}\n          />\n          {props.options.verificationLocked && (\n            <StyledIconTooltip\n              content={<FormattedMessage {...messages.blockedVerified} />}\n              icon=\"lock\"\n            />\n          )}\n        </InputContainer>\n      );\n    }\n\n    if (props.schema.type === 'array') {\n      const selectedOptions: IOption[] | null =\n        props.value && props.value.length > 0\n          ? props.value.map((value) => ({\n              value,\n              label: get(\n                props.options.enumOptions.find(\n                  (enumOption) => enumOption.value === value\n                ),\n                'label',\n                null\n              ),\n            }))\n          : null;\n\n      const onChange = (selectedOptions: IOption[]) => {\n        props.onChange(\n          selectedOptions\n            ? selectedOptions.map((selectedOption) => selectedOption.value)\n            : null\n        );\n      };\n\n      return (\n        <InputContainer>\n          <StyledMultipleSelect\n            value={selectedOptions}\n            options={props.options.enumOptions}\n            onChange={onChange}\n            inputId={props.id}\n            disabled={props.disabled}\n            aria-label={props.label}\n          />\n          {props.options.verificationLocked && (\n            <StyledIconTooltip\n              content={<FormattedMessage {...messages.blockedVerified} />}\n              icon=\"lock\"\n            />\n          )}\n        </InputContainer>\n      );\n    }\n\n    return null;\n  };\n\n  CustomCheckbox = (props: FieldProps) => {\n    const onChange = () =>\n      props.onChange(isBoolean(props.value) ? !props.value : true);\n    const { title } = props.schema;\n    const id = props.id;\n\n    if (isString(id)) {\n      return (\n        <>\n          {title && (\n            <StyledFormLabelValue noSpace htmlFor={id} labelValue={title} />\n          )}\n          <InputContainer>\n            <Checkbox\n              checked={isBoolean(props.value) ? props.value : false}\n              onChange={onChange}\n              label={props.schema.description || null}\n              disabled={props.disabled}\n            />\n            {props.options.verificationLocked && (\n              <StyledIconTooltip\n                content={<FormattedMessage {...messages.blockedVerified} />}\n                icon=\"lock\"\n              />\n            )}\n          </InputContainer>\n        </>\n      );\n    }\n\n    return null;\n  };\n\n  CustomDate = (props: FieldProps) => {\n    const onChange = (value: moment.Moment | null) =>\n      props.onChange(value ? value.format('YYYY-MM-DD') : null);\n\n    return (\n      <InputContainer>\n        <StyledDateInput\n          value={props.value ? moment(props.value, 'YYYY-MM-DD') : null}\n          onChange={onChange}\n          disabled={props.disabled}\n        />\n        {props.options.verificationLocked && (\n          <StyledIconTooltip\n            content={<FormattedMessage {...messages.blockedVerified} />}\n            icon=\"lock\"\n          />\n        )}\n      </InputContainer>\n    );\n  };\n\n  CustomFieldTemplate = (props: FieldProps) => {\n    const { id, label, description, rawErrors, children, required } = props;\n    const errors: any = uniq(rawErrors);\n\n    if (props.hidden !== true) {\n      const safeDescription =\n        description &&\n        get(description, 'props.description') &&\n        description.props.description.length > 0;\n      const descriptionJSX = safeDescription && (\n        <div\n          dangerouslySetInnerHTML={{ __html: description.props.description }}\n        />\n      );\n\n      return (\n        <StyledSectionField>\n          {props.schema.type !== 'boolean' &&\n            renderLabel(id, label, required, descriptionJSX)}\n\n          {children}\n\n          {errors &&\n            errors.length > 0 &&\n            errors.map((value, index) => {\n              return <Error key={index} marginTop=\"10px\" text={value} />;\n            })}\n        </StyledSectionField>\n      );\n    }\n\n    return null;\n  };\n\n  ObjectFieldTemplate: any = (props: FieldProps) => {\n    return (\n      <>\n        {props.properties.map((element, index) => (\n          <div key={index}>{element.content}</div>\n        ))}\n      </>\n    );\n  };\n\n  transformErrors = (errors) => {\n    return errors\n      .filter((error) => {\n        return error.name === 'required';\n      })\n      .map((error) => ({\n        ...error,\n        message: this.props.intl.formatMessage(messages.requiredError),\n      }));\n  };\n\n  render() {\n    const { userCustomFieldsSchema, authUser } = this.props;\n    const { formData } = this.state;\n\n    if (!isNilOrError(userCustomFieldsSchema)) {\n      const { schema, uiSchema } = userCustomFieldsSchema;\n      const widgets: any = {\n        TextWidget: this.CustomInput,\n        TextareaWidget: this.CustomTextarea,\n        SelectWidget: this.CustomSelect,\n        CheckboxWidget: this.CustomCheckbox,\n        DateWidget: this.CustomDate,\n      };\n\n      return (\n        <Container>\n          {schema && uiSchema && (\n            <Form\n              schema={schema}\n              uiSchema={uiSchema}\n              formData={formData || authUser.attributes.custom_field_values}\n              widgets={widgets}\n              FieldTemplate={this.CustomFieldTemplate as any}\n              ObjectFieldTemplate={this.ObjectFieldTemplate}\n              transformErrors={this.transformErrors}\n              noHtml5Validate={true}\n              liveValidate={false}\n              showErrorList={false}\n              validate={this.validate}\n              onChange={this.handleOnChange}\n              onSubmit={this.handleOnSubmit}\n              onError={this.handleOnError}\n            >\n              <InvisibleSubmitButton ref={this.setButtonRef} />\n            </Form>\n          )}\n        </Container>\n      );\n    }\n\n    return null;\n  }\n}\n\nfunction renderLabel(id, label, required, descriptionJSX) {\n  if (label && label.length > 0) {\n    return (\n      <FormLabelValue\n        htmlFor={id}\n        labelValue={label}\n        optional={!required}\n        subtextValue={descriptionJSX}\n      />\n    );\n  }\n  return;\n}\n\nconst Data = adopt<DataProps, InputProps>({\n  userCustomFieldsSchema: <GetUserCustomFieldsSchema />,\n});\n\nconst UserCustomFieldsFormWithHoc = injectIntl<Props>(UserCustomFieldsForm);\n\nexport default (inputProps: InputProps) => (\n  <Data {...inputProps}>\n    {(dataprops) => (\n      <UserCustomFieldsFormWithHoc {...inputProps} {...dataprops} />\n    )}\n  </Data>\n);\n","import { FC, useEffect } from 'react';\nimport { InjectedIntlProps } from 'react-intl';\nimport { InsertConfigurationOptions, ITab } from 'typings';\nimport { injectIntl } from 'utils/cl-intl';\nimport messages from './messages';\n\ntype Props = {\n  onData: (data: InsertConfigurationOptions<ITab>) => void;\n};\n\nconst Tab: FC<Props & InjectedIntlProps> = ({\n  onData,\n  intl: { formatMessage },\n}) => {\n  useEffect(() => {\n    onData({\n      configuration: {\n        label: formatMessage(messages.permissionsTab),\n        url: `permissions`,\n        feature: 'private_projects',\n        name: 'permissions',\n      },\n      insertAfterName: 'events',\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return null;\n};\n\nexport default injectIntl(Tab);\n","import React, { memo } from 'react';\nimport { isNilOrError, stopPropagation } from 'utils/helperUtils';\n\n// services\nimport { IInviteAcceptedNotificationData } from 'services/notifications';\n\n// i18n\nimport messages from '../../messages';\nimport { FormattedMessage } from 'utils/cl-intl';\n\n// components\nimport NotificationWrapper from '../NotificationWrapper';\nimport Link from 'utils/cl-router/Link';\nimport { DeletedUser } from '../Notification';\n\ninterface Props {\n  notification: IInviteAcceptedNotificationData;\n}\n\nconst InviteAcceptedNotification = memo<Props>((props) => {\n  const { notification } = props;\n  const deletedUser =\n    isNilOrError(notification.attributes.initiating_user_first_name) ||\n    isNilOrError(notification.attributes.initiating_user_slug);\n\n  return (\n    <NotificationWrapper\n      linkTo={'/admin/users/invitations'}\n      timing={notification.attributes.created_at}\n      icon=\"notification_invitation_accepted\"\n      isRead={!!notification.attributes.read_at}\n    >\n      <FormattedMessage\n        {...messages.userAcceptedYourInvitation}\n        values={{\n          name: deletedUser ? (\n            <DeletedUser>\n              <FormattedMessage {...messages.deletedUser} />\n            </DeletedUser>\n          ) : (\n            <Link\n              to={`/profile/${notification.attributes.initiating_user_slug}`}\n              onClick={stopPropagation}\n            >\n              {notification.attributes.initiating_user_first_name}\n            </Link>\n          ),\n        }}\n      />\n    </NotificationWrapper>\n  );\n});\n\nexport default InviteAcceptedNotification;\n","import { FC, useEffect } from 'react';\nimport { InjectedIntlProps } from 'react-intl';\nimport { InsertConfigurationOptions, ITab } from 'typings';\nimport { injectIntl } from 'utils/cl-intl';\nimport messages from './messages';\n\ntype Props = {\n  onData: (data: InsertConfigurationOptions<ITab>) => void;\n};\n\nconst Tab: FC<Props & InjectedIntlProps> = ({\n  onData,\n  intl: { formatMessage },\n}) => {\n  useEffect(() => {\n    onData({\n      configuration: {\n        label: formatMessage(messages.permissionsTab),\n        url: `permissions`,\n        feature: 'private_projects',\n        name: 'permissions',\n      },\n      insertAfterName: 'events',\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return null;\n};\n\nexport default injectIntl(Tab);\n","export default {\n  // Onboarding actions\n  internalLink: {\n    name: 'Clicked an internal link in admin guide',\n  },\n  externalLink: {\n    name: 'Clicked an external link in admin guide',\n  },\n};\n","import React from 'react';\nimport { returnFileSize } from 'utils/helperUtils';\nimport { lighten } from 'polished';\n\n// styles\nimport styled from 'styled-components';\nimport { colors, fontSizes, media } from 'utils/styleUtils';\nimport { ScreenReaderOnly } from 'utils/a11y';\n\n// components\nimport { Icon } from 'cl2-component-library';\nimport { isError } from 'util';\nimport { UploadFile } from 'typings';\n\n// i18n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from '../messages';\n\nconst Container = styled.div<{ error: boolean }>`\n  display: flex;\n  align-items: center;\n  padding: 10px 20px;\n  margin-bottom: 10px;\n  margin-top: 10px;\n  border-radius: ${(props: any) => props.theme.borderRadius};\n  border: 1px solid\n    ${({ error }) =>\n      error ? lighten(0.4, colors.clRed) : lighten(0.4, colors.label)};\n`;\n\nconst Paperclip = styled(Icon)`\n  flex: 0 0 10px;\n  width: 10px;\n  height: 20px;\n  fill: ${colors.label};\n  margin-right: 15px;\n`;\n\nconst FileInfo = styled.div`\n  flex: 1;\n  display: flex;\n  align-items: center;\n`;\n\nconst FileDownloadLink = styled.a<{ error: boolean }>`\n  color: ${({ error }) => (error ? colors.clRed : colors.label)};\n  font-size: ${fontSizes.base}px;\n  font-weight: 400;\n  line-height: normal;\n  overflow-wrap: break-word;\n  word-wrap: break-word;\n  word-break: break-all;\n  word-break: break-word;\n  hyphens: auto;\n\n  &:hover {\n    color: inherit;\n    text-decoration: underline;\n  }\n`;\n\nconst FileSize = styled.span<{ error: boolean }>`\n  color: ${({ error }) => (error ? colors.clRed : colors.label)};\n  font-size: ${fontSizes.base}px;\n  font-weight: 400;\n  line-height: normal;\n  white-space: nowrap;\n  margin-left: 10px;\n\n  ${media.smallerThanMinTablet`\n    display: none;\n  `}\n`;\n\nconst TrashIcon = styled(Icon)`\n  flex: 0 0 12px;\n  width: 12px;\n  height: 14px;\n  fill: ${colors.label};\n`;\n\nconst DeleteButton = styled.button`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  margin-left: 10px;\n\n  &:hover {\n    ${TrashIcon} {\n      fill: ${colors.clRed};\n    }\n  }\n`;\n\ninterface Props {\n  file: UploadFile;\n  onDeleteClick?: (event) => void;\n}\n\nconst FileDisplay = ({ file, onDeleteClick }: Props) => {\n  if (file && !isError(file)) {\n    return (\n      <Container error={!!file.error}>\n        <Paperclip name=\"paperclip\" ariaHidden />\n        <FileInfo>\n          <FileDownloadLink\n            error={!!file.error}\n            href={file.url}\n            download={file.filename}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            {file.error ? (\n              <FormattedMessage\n                {...messages[file.error[0]]}\n                values={{ fileName: file.filename }}\n              />\n            ) : (\n              <>\n                <ScreenReaderOnly>\n                  <FormattedMessage {...messages.a11y_file} />\n                </ScreenReaderOnly>\n                {file.filename}\n              </>\n            )}\n          </FileDownloadLink>\n          <FileSize error={!!file.error}>\n            ({returnFileSize(file.size)})\n          </FileSize>\n        </FileInfo>\n        {onDeleteClick && (\n          <DeleteButton type=\"button\" onClick={onDeleteClick}>\n            <TrashIcon\n              name=\"delete\"\n              title={<FormattedMessage {...messages.a11y_removeFile} />}\n            />\n          </DeleteButton>\n        )}\n      </Container>\n    );\n  }\n\n  return null;\n};\n\nexport default FileDisplay;\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  eventsPageTitle: {\n    id: 'app.containers.eventspage.eventsPageTitle',\n    defaultMessage: 'Events',\n  },\n  eventsPageDescription: {\n    id: 'app.containers.eventspage.eventsPageDescription',\n    defaultMessage:\n      'Show all events posted on the participation platform of {orgName}.',\n  },\n  upcomingEvents: {\n    id: 'app.containers.eventspage.upcomingEvents',\n    defaultMessage: 'Upcoming events',\n  },\n  pastEvents: {\n    id: 'app.containers.eventspage.pastEvents',\n    defaultMessage: 'Past events',\n  },\n  noUpcomingEvents: {\n    id: 'app.containers.eventspage.noUpcomingEvents',\n    defaultMessage: 'No upcoming events are currently scheduled',\n  },\n  noPastEvents: {\n    id: 'app.containers.eventspage.noPastEvents',\n    defaultMessage: 'No past events to display',\n  },\n  filterDropdownTitle: {\n    id: 'app.containers.eventspage.filterDropdownTitle',\n    defaultMessage: 'Projects',\n  },\n  errorWhenFetchingEvents: {\n    id: 'app.containers.eventspage.errorWhenFetchingEvents',\n    defaultMessage:\n      'An error occurred while loading events. Please try reloading the page.',\n  },\n});\n","export default \"data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNCA0OCI+CiAgPHBhdGggZD0iTTE1LjggNDRsMS4yIDEuNSAxLjItMS42YzQuNy02LjEgOC4yLTExLjQgMTAuNi0xNS44IDIuNC00LjQgMy43LTguMSAzLjctMTEuMWExNS41IDE1LjUgMCAxMC0zMSAwYzAgMyAxLjMgNi43IDMuNyAxMSAyLjQgNC41IDYgOS44IDEwLjYgMTZ6bTUuOC0yMi40YTYuNSA2LjUgMCAxMS05LjItOS4yIDYuNSA2LjUgMCAwMTkuMiA5LjJ6IiBmaWxsPSIjMDAwIiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMi41Ii8+Cjwvc3ZnPgo=\"","import { useRef, useEffect } from 'react';\n\nexport default function useIsMounted(): () => boolean {\n  const ref = useRef(false);\n\n  useEffect(() => {\n    ref.current = true;\n    return () => {\n      ref.current = false;\n    };\n  }, []);\n\n  return () => ref.current;\n}\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  manageButtonLabel: {\n    id: 'app.containers.Admin.projects.all.components.manageButtonLabel',\n    defaultMessage: 'Manage',\n  },\n});\n","import { useState, useEffect, useCallback } from 'react';\nimport {\n  IProjectFolderData,\n  projectFoldersStream,\n} from '../services/projectFolders';\n\ninterface Props {\n  projectFolderIds?: string[];\n  pageNumber?: number;\n  pageSize?: number;\n}\n\nfunction useProjectFolders(props: Props) {\n  const [pageNumber, setPageNumber] = useState(props.pageNumber);\n  const [pageSize, setPageSize] = useState(props.pageSize);\n  const [projectFolders, setProjectFolders] = useState<\n    IProjectFolderData[] | undefined | null | Error\n  >(undefined);\n  const [projectFolderIds, setProjectFolderIds] = useState(\n    props.projectFolderIds\n  );\n\n  const onPageNumberChange = useCallback((newPageNumber: number) => {\n    setPageNumber(newPageNumber);\n  }, []);\n\n  const onPageSizeChange = useCallback((newPageSize: number) => {\n    setPageSize(newPageSize);\n    setPageNumber(1);\n  }, []);\n\n  const onProjectFolderIdsChange = useCallback((projectFolderIds: string[]) => {\n    setProjectFolderIds([...projectFolderIds]);\n  }, []);\n\n  useEffect(() => {\n    const subscription = projectFoldersStream({\n      queryParameters: {\n        'page[number]': pageNumber || 1,\n        'page[size]': pageSize,\n        filter_ids: projectFolderIds,\n      },\n    }).observable.subscribe((response) => {\n      setProjectFolders(response.data);\n    });\n\n    return () => subscription.unsubscribe();\n  }, [projectFolderIds, pageNumber, pageSize]);\n\n  return {\n    projectFolders,\n    onPageNumberChange,\n    onPageSizeChange,\n    onProjectFolderIdsChange,\n  };\n}\n\nexport default useProjectFolders;\n","import React, { PureComponent } from 'react';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { fontSizes } from 'utils/styleUtils';\n\n// components\nimport Collapse from 'components/UI/Collapse';\nimport ActionsForm from './ActionsForm';\n\n// services\nimport {\n  updatePhasePermission,\n  IPCPermissionData,\n} from 'services/actionPermissions';\n\n// resources\nimport GetPhases, { GetPhasesChildProps } from 'resources/GetPhases';\nimport GetPhasePermissions from 'resources/GetPhasePermissions';\n\n// i18n\nimport T from 'components/T';\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from './messages';\n\n// styling\nimport styled from 'styled-components';\n\nconst Container = styled.div`\n  margin-bottom: 20px;\n\n  p {\n    font-size: ${fontSizes.base}px;\n    font-style: italic;\n  }\n`;\n\nconst Permissions = styled.div`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  padding: 25px;\n  border-radius: ${(props: any) => props.theme.borderRadius};\n  border: solid 1px #ddd;\n  background: #fff;\n`;\n\ninterface InputProps {\n  projectId: string;\n}\n\ninterface DataProps {\n  phases: GetPhasesChildProps;\n}\n\ninterface Props extends InputProps, DataProps {}\n\ninterface State {\n  openedPhase: string | null;\n}\n\nclass Timeline extends PureComponent<Props, State> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      openedPhase: null,\n    };\n  }\n\n  handleCollapseToggle = (phaseId: string) => () => {\n    const { openedPhase } = this.state;\n    this.setState({ openedPhase: openedPhase === phaseId ? null : phaseId });\n  };\n\n  handlePermissionChange = (\n    permission: IPCPermissionData,\n    permittedBy: IPCPermissionData['attributes']['permitted_by'],\n    groupIds: string[]\n  ) => {\n    updatePhasePermission(\n      permission.id,\n      permission.relationships.permission_scope.data.id,\n      permission.attributes.action,\n      { permitted_by: permittedBy, group_ids: groupIds }\n    );\n  };\n\n  render() {\n    const { phases, projectId } = this.props;\n    const { openedPhase } = this.state;\n\n    return (\n      <Container>\n        {phases &&\n          phases.length > 0 &&\n          phases.map((phase) => (\n            <div style={{ marginBottom: '20px' }} key={phase.id}>\n              <Collapse\n                opened={openedPhase === phase.id}\n                onToggle={this.handleCollapseToggle(phase.id)}\n                label={<T value={phase.attributes.title_multiloc} />}\n              >\n                <Permissions>\n                  <GetPhasePermissions phaseId={phase.id}>\n                    {(permissions) => {\n                      return isNilOrError(permissions) ? null : (\n                        <ActionsForm\n                          permissions={permissions}\n                          onChange={this.handlePermissionChange}\n                          postType=\"idea\"\n                          projectId={projectId}\n                        />\n                      );\n                    }}\n                  </GetPhasePermissions>\n                </Permissions>\n              </Collapse>\n            </div>\n          ))}\n        {!phases ||\n          (phases.length < 1 && (\n            <p>\n              <FormattedMessage\n                {...messages.noActionsCanBeTakenInThisProject}\n              />\n            </p>\n          ))}\n      </Container>\n    );\n  }\n}\n\nexport default (inputProps: InputProps) => (\n  <GetPhases projectId={inputProps.projectId}>\n    {(phases) => <Timeline {...inputProps} phases={phases} />}\n  </GetPhases>\n);\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  optional: {\n    id: 'UI.FormComponents.optional',\n    defaultMessage: 'optional',\n  },\n  buttonDisabled: {\n    id: 'UI.FormComponents.buttonDisabled',\n    defaultMessage: 'Submit button disabled',\n  },\n  buttonEnabled: {\n    id: 'UI.FormComponents.buttonEnabled',\n    defaultMessage: 'Submit button enabled',\n  },\n});\n","import { isNilOrError } from 'utils/helperUtils';\nimport { IOutput as IMapConfig } from '../hooks/useMapConfig';\nimport { IAppConfiguration } from 'services/appConfiguration';\nimport { IMapLayerAttributes } from '../services/mapLayers';\nimport { Locale } from 'typings';\nimport { LatLngTuple } from 'leaflet';\nimport { isNumber } from 'lodash-es';\nimport {\n  getCenter as baseGetCenter,\n  getZoomLevel as baseGetZoomLevel,\n  getTileProvider as baseGetTileProvider,\n  getTileOptions as baseGetTileOptions,\n} from 'utils/map';\n\nexport const getCenter = (\n  centerLatLng: LatLngTuple | null | undefined,\n  appConfig: IAppConfiguration | undefined | null | Error,\n  mapConfig: IMapConfig\n) => {\n  const mapConfigLat = !isNilOrError(mapConfig)\n    ? mapConfig?.attributes.center_geojson?.coordinates[1]\n    : null;\n  const mapConfigLng = !isNilOrError(mapConfig)\n    ? mapConfig?.attributes.center_geojson?.coordinates[0]\n    : null;\n\n  if (centerLatLng) {\n    return centerLatLng as LatLngTuple;\n  } else if (!isNilOrError(mapConfigLng) && !isNilOrError(mapConfigLat)) {\n    return [mapConfigLat, mapConfigLng] as LatLngTuple;\n  }\n\n  return baseGetCenter(undefined, appConfig);\n};\n\nexport const getZoomLevel = (\n  zoom: number | undefined,\n  appConfig: IAppConfiguration | undefined | null | Error,\n  mapConfig: IMapConfig\n) => {\n  const mapConfigZoom = !isNilOrError(mapConfig)\n    ? mapConfig?.attributes.zoom_level\n    : null;\n\n  if (isNumber(zoom)) {\n    return zoom;\n  } else if (!isNilOrError(mapConfigZoom)) {\n    return parseInt(mapConfigZoom, 10);\n  }\n\n  return baseGetZoomLevel(undefined, appConfig);\n};\n\nexport const getTileProvider = (\n  appConfig: IAppConfiguration | undefined | null | Error,\n  mapConfig: IMapConfig\n) => {\n  const mapConfigTileProvider = !isNilOrError(mapConfig)\n    ? mapConfig?.attributes.tile_provider\n    : null;\n\n  if (!isNilOrError(mapConfigTileProvider)) {\n    return mapConfigTileProvider;\n  }\n\n  return baseGetTileProvider(appConfig);\n};\n\nexport const getTileOptions = (tileProvider?: string | null) => {\n  if (tileProvider?.includes('maptiler')) {\n    return {\n      tileSize: 512,\n      zoomOffset: -1,\n      detectRetina: false,\n      minZoom: 1,\n      maxZoom: 19,\n      crossOrigin: true,\n      subdomains: ['a', 'b', 'c'],\n      attribution:\n        '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors',\n    };\n  }\n\n  return baseGetTileOptions();\n};\n\nexport const getLayerType = (mapLayer: IMapLayerAttributes | undefined) => {\n  return mapLayer?.geojson?.features?.[0]?.geometry?.type || 'Point';\n};\n\nexport const getLayerColor = (mapLayer: IMapLayerAttributes | undefined) => {\n  const type = getLayerType(mapLayer);\n  const fillColor: string | undefined =\n    mapLayer?.geojson?.features?.[0]?.properties?.fill;\n  const markerColor: string | undefined =\n    mapLayer?.geojson?.features?.[0]?.properties?.['marker-color'];\n  const fallbackColor = '#7D7D7D';\n\n  if (type === 'Point') {\n    return markerColor || fillColor || fallbackColor;\n  }\n\n  return fillColor || fallbackColor;\n};\n\nexport const getLayerIcon = (mapLayer: IMapLayerAttributes | undefined) => {\n  const layerType = getLayerType(mapLayer);\n  let iconName: 'point' | 'line' | 'rectangle' = 'rectangle';\n\n  if (layerType === 'Point') {\n    iconName = 'point';\n  } else if (layerType === 'LineString') {\n    iconName = 'line';\n  }\n\n  return iconName;\n};\n\nexport const getUnnamedLayerTitleMultiloc = (tenantLocales: Locale[]) => {\n  const newUnnamedLayerTitle = 'Unnamed layer';\n  const title_multiloc = {};\n  tenantLocales.forEach(\n    (tenantLocale) => (title_multiloc[tenantLocale] = newUnnamedLayerTitle)\n  );\n  return title_multiloc;\n};\n\nexport const makiIconNames = [\n  'aerialway',\n  'airfield',\n  'airport',\n  'alcohol-shop',\n  'america-football',\n  'amusement-park',\n  'aquarium',\n  'art-gallery',\n  'attraction',\n  'bakery',\n  'bank',\n  'bar',\n  'baseball',\n  'basketball',\n  'beer',\n  'bicycle',\n  'bicycle-share',\n  'building',\n  'bus',\n  'cafe',\n  'campsite',\n  'car',\n  'cemetery',\n  'cinema',\n  'circle',\n  'circle-stroked',\n  'clothing-store',\n  'college',\n  'commercial',\n  'cricket',\n  'cross',\n  'dam',\n  'danger',\n  'dentist',\n  'doctor',\n  'dog-park',\n  'drinking-water',\n  'embassy',\n  'entrance',\n  'fast-food',\n  'ferry',\n  'fire-station',\n  'fuel',\n  'garden',\n  'gift',\n  'golf',\n  'grocery',\n  'hairdresser',\n  'harbor',\n  'heart',\n  'heliport',\n  'hospital',\n  'ice-cream',\n  'industry',\n  'information',\n  'laundry',\n  'library',\n  'lighthouse',\n  'lodging',\n  'marker',\n  'monument',\n  'mountain',\n  'museum',\n  'music',\n  'park',\n  'parking',\n  'parking-garage',\n  'pharmacy',\n  'picnic-site',\n  'pitch',\n  'place-of-worship',\n  'playground',\n  'police',\n  'post',\n  'prison',\n  'rail',\n  'rail-light',\n  'rail-metro',\n  'ranger-station',\n  'religious-christian',\n  'religious-jewish',\n  'religious-muslim',\n  'restaurant',\n  'roadblock',\n  'rocket',\n  'school',\n  'shelter',\n  'shop',\n  'skiing',\n  'soccer',\n  'square',\n  'square-stroke',\n  'stadium',\n  'star',\n  'star-stroke',\n  'suitcase',\n  'sushi',\n  'swimming',\n  'telephone',\n  'tennis',\n  'theatre',\n  'toilets',\n  'town-hall',\n  'triangle',\n  'triangle-stroked',\n  'veterinary',\n  'volcano',\n  'warehouse',\n  'waste-basket',\n  'water',\n  'wetland',\n  'zoo',\n];\n","import React, {\n  memo,\n  useState,\n  useCallback,\n  useEffect,\n  MouseEvent,\n} from 'react';\nimport clHistory from 'utils/cl-router/history';\nimport { insertConfiguration } from 'utils/moduleUtils';\nimport { InsertConfigurationOptions } from 'typings';\n// components\nimport Outlet from 'components/Outlet';\nimport { Icon } from 'cl2-component-library';\nimport AdminProjectEditGeneral from 'containers/Admin/projects/edit/general';\nimport { HeaderTitle } from './StyledComponents';\nimport Tabs, { ITabItem } from 'components/UI/Tabs';\n\n// utils\nimport eventEmitter from 'utils/eventEmitter';\n\n// analytics\nimport { trackEventByName } from 'utils/analytics';\nimport tracks from './tracks';\n\n// i18n\nimport { FormattedMessage, injectIntl } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\nimport messages from './messages';\n\n// style\nimport { colors } from 'utils/styleUtils';\nimport styled from 'styled-components';\nimport { transparentize } from 'polished';\n\n// animations\nimport CSSTransition from 'react-transition-group/CSSTransition';\n\nconst duartion = 350;\nconst easing = 'cubic-bezier(0.19, 1, 0.22, 1)';\n\nconst Container = styled.div`\n  background: #fff;\n  border-radius: ${({ theme }) => theme.borderRadius};\n  border: 1px solid ${({ theme }) => theme.colors.separation};\n`;\n\nconst CreateProjectContent = styled.div`\n  width: 100%;\n  opacity: 0;\n  display: none;\n  transition: all ${duartion}ms ${easing};\n  will-change: opacity, height;\n\n  &.content-enter {\n    opacity: 0;\n    max-height: 0px;\n    overflow: hidden;\n    display: block;\n\n    &.content-enter-active {\n      opacity: 1;\n      max-height: 635px;\n      overflow: hidden;\n      display: block;\n    }\n  }\n\n  &.content-enter-done {\n    opacity: 1;\n    max-height: auto;\n    overflow: visible;\n    display: block;\n  }\n\n  &.content-exit {\n    opacity: 1;\n    max-height: 635px;\n    overflow: hidden;\n    display: block;\n\n    &.content-exit-active {\n      opacity: 0;\n      max-height: 0px;\n      overflow: hidden;\n      display: block;\n    }\n  }\n\n  &.content-exit-done {\n    display: none;\n    max-height: auto;\n  }\n`;\n\nconst CreateProjectContentInner = styled.div`\n  padding-left: 4rem;\n  padding-right: 4rem;\n  padding-top: 0.5rem;\n  padding-bottom: 2.8rem;\n`;\n\nconst Expand = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nconst ExpandIconWrapper = styled.div`\n  width: 30px;\n  height: 30px;\n  border-radius: ${({ theme }) => theme.borderRadius};\n  border: solid 1px ${transparentize(0.7, colors.label)};\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 100ms ease-out;\n`;\n\nconst ExpandIcon = styled(Icon)`\n  height: 11px;\n  fill: ${colors.label};\n  transition: all ${duartion - 100}ms ease-out;\n\n  &.expanded {\n    transform: rotate(90deg);\n  }\n`;\n\nconst CreateProjectButton = styled.button`\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0;\n  padding-left: 4rem;\n  padding-right: 4rem;\n  padding-top: 30px;\n  padding-bottom: 30px;\n  margin: 0;\n  cursor: pointer;\n\n  &:hover {\n    ${ExpandIconWrapper} {\n      border-color: ${transparentize(0.2, colors.label)};\n    }\n  }\n`;\n\nconst StyledTabs = styled(Tabs)`\n  margin-bottom: 25px;\n`;\n\nexport interface INewProjectCreatedEvent {\n  projectId?: string;\n}\n\ninterface Props {\n  className?: string;\n}\n\nexport interface ITabNamesMap {\n  scratch: 'scratch';\n}\n\nexport type TTabName = ITabNamesMap[keyof ITabNamesMap];\n\nconst CreateProject = memo<Props & InjectedIntlProps>(\n  ({ className, intl: { formatMessage } }) => {\n    const [tabs, setTabs] = useState<ITabItem[]>([\n      {\n        name: 'scratch',\n        label: formatMessage(messages.fromScratch),\n        icon: 'scratch',\n      },\n    ]);\n    const tabValues = tabs.map((tab) => tab.name) as TTabName[];\n\n    const [selectedTabValue, setSelectedTabValue] = useState<TTabName>(\n      'scratch'\n    );\n    const [expanded, setExpanded] = useState(false);\n\n    useEffect(() => {\n      // when inserting tabs, always reset the default selected tab\n      // to the first tab\n      setSelectedTabValue(tabValues[0]);\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [tabs]);\n\n    useEffect(() => {\n      const subscription = eventEmitter\n        .observeEvent<INewProjectCreatedEvent>('NewProjectCreated')\n        .subscribe(({ eventValue }) => {\n          const projectId = eventValue?.projectId;\n\n          if (projectId) {\n            setTimeout(() => {\n              clHistory.push({\n                pathname: `/admin/projects/${projectId}/edit`,\n              });\n            }, 1000);\n          }\n        });\n\n      return () => subscription.unsubscribe();\n    }, []);\n\n    const removeFocus = useCallback((event: MouseEvent<HTMLElement>) => {\n      event.preventDefault();\n    }, []);\n\n    const handleExpandCollapse = useCallback(() => {\n      if (expanded) {\n        trackEventByName(tracks.createProjectSectionCollapsed);\n      } else {\n        trackEventByName(tracks.createProjectSectionExpanded);\n      }\n\n      setExpanded(!expanded);\n    }, [expanded]);\n\n    const handleTabOnClick = useCallback(\n      (newSelectedTabValue: TTabName) => {\n        trackEventByName(tracks.createdProject, {\n          selectedTabValue,\n        });\n        setSelectedTabValue(newSelectedTabValue);\n      },\n      [selectedTabValue]\n    );\n\n    const handleData = (data: InsertConfigurationOptions<ITabItem>) =>\n      setTabs(insertConfiguration(data));\n\n    return (\n      <Container className={className}>\n        <CreateProjectButton\n          className={`e2e-create-project-expand-collapse-button ${\n            expanded ? 'expanded' : 'collapsed'\n          }`}\n          aria-label={formatMessage(messages.createAProjectFromATemplate)}\n          onMouseDown={removeFocus}\n          onClick={handleExpandCollapse}\n        >\n          <HeaderTitle>\n            <FormattedMessage {...messages.createAProject} />\n          </HeaderTitle>\n          <Expand>\n            <ExpandIconWrapper>\n              <ExpandIcon\n                name=\"chevron-right\"\n                className={expanded ? 'expanded' : 'collapsed'}\n              />\n            </ExpandIconWrapper>\n          </Expand>\n        </CreateProjectButton>\n        <CSSTransition\n          classNames=\"content\"\n          in={expanded}\n          timeout={duartion}\n          mounOnEnter={true}\n          unmountOnExit={true}\n          enter={true}\n        >\n          <CreateProjectContent\n            className={`${expanded ? 'expanded' : 'collapsed'}`}\n          >\n            <CreateProjectContentInner>\n              <Outlet\n                id=\"app.containers.Admin.projects.all.createProject.tabs\"\n                onData={handleData}\n              />\n              {tabs.length > 1 && (\n                <StyledTabs\n                  className=\"e2e-create-project-tabs\"\n                  items={tabs}\n                  selectedValue={selectedTabValue}\n                  onClick={handleTabOnClick}\n                />\n              )}\n              <Outlet\n                id=\"app.containers.Admin.projects.all.createProject\"\n                selectedTabValue={selectedTabValue}\n              />\n              {selectedTabValue === 'scratch' && <AdminProjectEditGeneral />}\n            </CreateProjectContentInner>\n          </CreateProjectContent>\n        </CSSTransition>\n      </Container>\n    );\n  }\n);\n\nexport default injectIntl(CreateProject);\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  verificationButtonAltText: {\n    id: 'app.modules.id_franceconnect.verificationButtonAltText',\n    defaultMessage: 'Verify with FranceConnect',\n  },\n});\n","import React from 'react';\nimport { adopt } from 'react-adopt';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { IIdeaAssignedToYouNotificationData } from 'services/notifications';\nimport { get } from 'lodash-es';\n\n// i18n\nimport messages from '../../messages';\nimport { FormattedMessage } from 'utils/cl-intl';\n\n// permissions\nimport { isAdmin, isProjectModerator } from 'services/permissions/roles';\n\n// components\nimport NotificationWrapper from '../NotificationWrapper';\nimport Link from 'utils/cl-router/Link';\nimport T from 'components/T';\n\n// resources\nimport GetAuthUser, { GetAuthUserChildProps } from 'resources/GetAuthUser';\nimport GetIdea, { GetIdeaChildProps } from 'resources/GetIdea';\nimport GetProject, { GetProjectChildProps } from 'resources/GetProject';\n\ntype DataProps = {\n  authUser: GetAuthUserChildProps;\n  idea: GetIdeaChildProps;\n  project: GetProjectChildProps;\n};\n\ntype InputProps = {\n  notification: IIdeaAssignedToYouNotificationData;\n};\n\ntype Props = DataProps & InputProps;\n\ninterface State {}\n\nclass IdeaAssignedToYouNotification extends React.PureComponent<Props, State> {\n  onClickUserName = (event) => {\n    event.stopPropagation();\n  };\n\n  getNotificationMessage = (): JSX.Element => {\n    const { notification } = this.props;\n    const sharedValues = {\n      postTitle: <T value={notification.attributes.post_title_multiloc} />,\n    };\n\n    if (isNilOrError(notification.attributes.initiating_user_slug)) {\n      return (\n        <FormattedMessage\n          {...messages.postAssignedToYou}\n          values={{\n            ...sharedValues,\n          }}\n        />\n      );\n    } else {\n      return (\n        <FormattedMessage\n          {...messages.xAssignedPostToYou}\n          values={{\n            ...sharedValues,\n            name: (\n              <Link\n                to={`/profile/${notification.attributes.initiating_user_slug}`}\n                onClick={this.onClickUserName}\n              >\n                {notification.attributes.initiating_user_first_name}\n              </Link>\n            ),\n          }}\n        />\n      );\n    }\n  };\n\n  getLinkTo = () => {\n    const { authUser, project } = this.props;\n\n    if (authUser) {\n      if (isAdmin({ data: authUser })) {\n        return '/admin/ideas';\n      } else if (\n        !isNilOrError(project) &&\n        isProjectModerator({ data: authUser })\n      ) {\n        return `/admin/projects/${project.id}/ideas`;\n      }\n    }\n\n    return null;\n  };\n\n  render() {\n    const { notification } = this.props;\n    const linkTo = this.getLinkTo();\n\n    if (linkTo) {\n      return (\n        <NotificationWrapper\n          linkTo={linkTo}\n          timing={notification.attributes.created_at}\n          icon=\"idea\"\n          isRead={!!notification.attributes.read_at}\n        >\n          {this.getNotificationMessage()}\n        </NotificationWrapper>\n      );\n    }\n\n    return null;\n  }\n}\n\nconst Data = adopt<DataProps, InputProps>({\n  authUser: <GetAuthUser />,\n  idea: ({ notification, render }) => (\n    <GetIdea ideaSlug={notification?.attributes?.post_slug}>{render}</GetIdea>\n  ),\n  project: ({ idea, render }) => (\n    <GetProject projectId={get(idea, 'relationships.project.data.id')}>\n      {render}\n    </GetProject>\n  ),\n});\n\nexport default (inputProps) => (\n  <Data {...inputProps}>\n    {(dataProps) => (\n      <IdeaAssignedToYouNotification {...dataProps} {...inputProps} />\n    )}\n  </Data>\n);\n","// libraries\nimport React, { PureComponent } from 'react';\nimport { omit } from 'lodash-es';\nimport { adopt } from 'react-adopt';\nimport { Subscription } from 'rxjs';\n\n// translations\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from './messages';\n\n// components\nimport { Input } from 'cl2-component-library';\nimport { SectionField } from 'components/admin/Section';\nimport TextArea from 'components/UI/TextArea';\nimport Error from 'components/UI/Error';\nimport { FormLabel } from 'components/UI/FormComponents';\n\n// utils\nimport eventEmitter from 'utils/eventEmitter';\n\n// resources, services, typings\nimport GetLocale, { GetLocaleChildProps } from 'resources/GetLocale';\nimport { postProductFeedback } from 'services/productFeedback';\nimport { removeUrlLocale } from 'services/locale';\nimport { CLError } from 'typings';\n\n// styling\nimport styled from 'styled-components';\nimport { fontSizes, media } from 'utils/styleUtils';\nimport { isCLErrorJSON } from 'utils/errorUtils';\n\nconst Container = styled.div``;\n\nconst Form = styled.form`\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  padding: 30px;\n  padding-bottom: 15px;\n\n  ${media.smallerThanMinTablet`\n    padding: 15px;\n  `}\n`;\n\nconst Submitted = styled.span`\n  height: 370px;\n  font-size: ${fontSizes.large}px;\n  text-align: center;\n  padding-left: 25px;\n  padding-right: 25px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  ${media.smallerThanMinTablet`\n    height: 300px;\n  `}\n`;\n\ninterface DataProps {\n  locale: GetLocaleChildProps;\n}\n\ninterface InputProps {\n  closeModal: () => void;\n  submitting: (submitting: boolean) => void;\n  successfullySubmitted: () => void;\n}\n\ninterface Props extends InputProps, DataProps {}\n\ninterface State {\n  emailValue: string;\n  feedbackValue: string;\n  apiErrors?: { [fieldName: string]: CLError[] };\n  submitted: boolean;\n  feedbackValueError: JSX.Element | null;\n}\n\nclass ShortFeedbackForm extends PureComponent<Props, State> {\n  subscriptions: Subscription[] = [];\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      emailValue: '',\n      feedbackValue: '',\n      submitted: false,\n      feedbackValueError: null,\n    };\n  }\n\n  componentDidMount() {\n    this.subscriptions = [\n      eventEmitter\n        .observeEvent('ShortFeedbackFormSubmitEvent')\n        .subscribe(() => {\n          this.onSubmit();\n        }),\n    ];\n  }\n\n  componentWillUnmount() {\n    this.subscriptions.forEach((subscription) => subscription.unsubscribe());\n  }\n\n  onChangeFeedback = (feedbackValue: string) => {\n    this.setState((prev) => ({\n      feedbackValue,\n      apiErrors: omit(prev.apiErrors, 'message'),\n    }));\n  };\n\n  onChangeEmail = (emailValue: string) => {\n    this.setState((prev) => ({\n      emailValue,\n      apiErrors: omit(prev.apiErrors, 'email'),\n    }));\n  };\n\n  validateFeedbackValue = () => {\n    const { feedbackValue } = this.state;\n    if (!feedbackValue) {\n      return <FormattedMessage {...messages.feedbackEmptyError} />;\n    }\n\n    return null;\n  };\n\n  validateForm = () => {\n    const feedbackValueError = this.validateFeedbackValue();\n\n    this.setState({ feedbackValueError });\n\n    if (!feedbackValueError) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  onSubmit = async () => {\n    const { emailValue, feedbackValue } = this.state;\n    const isFormValid = this.validateForm();\n\n    if (isFormValid) {\n      try {\n        this.props.submitting(true);\n        await postProductFeedback({\n          question: 'found_what_youre_looking_for?',\n          page: removeUrlLocale(location.pathname),\n          locale: this.props.locale || undefined,\n          answer: 'no',\n          email: emailValue.length > 0 ? emailValue : null,\n          message: feedbackValue,\n        });\n        this.setState({ submitted: true });\n        this.props.submitting(false);\n        this.props.successfullySubmitted();\n      } catch (error) {\n        if (isCLErrorJSON(error)) {\n          this.props.submitting(false);\n          this.setState({\n            submitted: false,\n            apiErrors: error.json.errors,\n          });\n        }\n      }\n    }\n  };\n\n  render() {\n    const {\n      emailValue,\n      feedbackValue,\n      submitted,\n      feedbackValueError,\n    } = this.state;\n\n    return (\n      <Container aria-live=\"polite\">\n        {submitted ? (\n          <Submitted>\n            <FormattedMessage {...messages.feedbackSuccessfullySubmitted} />\n          </Submitted>\n        ) : (\n          <Form>\n            <SectionField className=\"fullWidth\">\n              <FormLabel\n                labelMessage={messages.feedback}\n                htmlFor=\"short-feedback-textarea\"\n              />\n              <TextArea\n                autofocus={true}\n                name=\"feedback\"\n                value={feedbackValue}\n                onChange={this.onChangeFeedback}\n                id=\"short-feedback-textarea\"\n              />\n              {feedbackValueError && <Error text={feedbackValueError} />}\n              {this.state.apiErrors && (\n                <Error apiErrors={this.state.apiErrors.message} />\n              )}\n            </SectionField>\n\n            <SectionField className=\"fullWidth\">\n              <FormLabel\n                labelMessage={messages.email}\n                htmlFor=\"short-feedback-email\"\n              />\n              <Input\n                type=\"text\"\n                value={emailValue}\n                onChange={this.onChangeEmail}\n                autocomplete=\"email\"\n                id=\"short-feedback-email\"\n              />\n              {this.state.apiErrors && (\n                <Error apiErrors={this.state.apiErrors.email} />\n              )}\n            </SectionField>\n          </Form>\n        )}\n      </Container>\n    );\n  }\n}\n\nconst Data = adopt<DataProps, InputProps>({\n  locale: <GetLocale />,\n});\n\nexport default (inputProps: InputProps) => (\n  <Data {...inputProps}>\n    {(dataProps) => <ShortFeedbackForm {...inputProps} {...dataProps} />}\n  </Data>\n);\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport { Section, SubSectionTitle } from 'components/admin/Section';\nimport { IconTooltip } from 'cl2-component-library';\nimport Link from 'utils/cl-router/Link';\nimport AssigneeSelector from '../components/AssigneeSelector';\n\nconst InputAssignmentSection = styled(Section)`\n  margin-bottom: 30px;\n`;\n\nconst StyledLink = styled(Link)`\n  &:hover {\n    text-decoration: underline;\n  }\n`;\n\n// i18n\nimport messages from './messages';\nimport { FormattedMessage } from 'utils/cl-intl';\n\ninterface Props {\n  projectId: string;\n}\n\nconst InputAssignment = ({ projectId }: Props) => {\n  return (\n    <InputAssignmentSection>\n      <SubSectionTitle>\n        <FormattedMessage {...messages.inputAssignmentSectionTitle} />\n        <IconTooltip\n          content={\n            <FormattedMessage\n              {...messages.inputAssignmentTooltipText}\n              values={{\n                ideaManagerLink: (\n                  <StyledLink to={`/admin/projects/${projectId}/ideas`}>\n                    <FormattedMessage {...messages.inputManagerLinkText} />\n                  </StyledLink>\n                ),\n              }}\n            />\n          }\n        />\n      </SubSectionTitle>\n      <AssigneeSelector projectId={projectId} />\n    </InputAssignmentSection>\n  );\n};\n\nexport default InputAssignment;\n","import merge from 'deepmerge';\nimport { remove } from 'lodash-es';\nimport { CLError } from 'typings';\n\nexport function isCLErrorJSON(error) {\n  return !!(error && error.json && error.json.errors);\n}\n\n//\n// Adds translation [values] to ApiErrors to be displayed with an <Error/> Component.\n//\n// Example:\n//\n//    @errors       { name: [{ error: 'is_invalid'}, { error: 'blank' }], description: [{ error: 'blank' }] }\n//    @fieldName    'name'\n//    @errorType    'blank'\n//    @payload      { link: <Link to=\"/some_path_to_add_name\" /> }\n//\n//    @return       { name: [{ error: 'is_invalid'}, { error: 'blank', payload: { link: <Link to=\"/some_path_to_add_name\" /> }  }], description: [{ error: 'blank' }] }\n//\nexport function addErrorPayload(\n  errors: CLError[],\n  fieldName: string,\n  errorType: string,\n  payload: Record<string, any>\n) {\n  const error = errors[fieldName].find(({ error }) => error === errorType);\n\n  if (error) {\n    const transformedErrors = remove(\n      errors,\n      ({ error }) => error === errorType\n    );\n\n    const errorsWithPayload = {\n      [fieldName]: [{ ...error, payload }],\n    };\n\n    return merge(transformedErrors, errorsWithPayload);\n  }\n\n  return errors;\n}\n","import React from 'react';\nimport { adopt } from 'react-adopt';\nimport { isString, get } from 'lodash-es';\nimport styled from 'styled-components';\n\n// typings\nimport { IOption } from 'typings';\n\n// utils\nimport { isNilOrError } from 'utils/helperUtils';\n\n// resources\nimport GetProject, { GetProjectChildProps } from 'resources/GetProject';\nimport GetUsers, { GetUsersChildProps } from 'resources/GetUsers';\n\n// services\nimport { updateProject } from 'services/projects';\n\n// components\nimport { Select } from 'cl2-component-library';\n\n// i18n\nimport messages from './messages';\nimport { injectIntl } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\n\nconst StyledSelect = styled(Select)`\n  width: 300px;\n`;\n\ninterface InputProps {\n  projectId: string;\n}\n\ninterface DataProps {\n  project: GetProjectChildProps;\n  adminsAndMods: GetUsersChildProps;\n}\n\ninterface Props extends InputProps, DataProps {}\n\nclass IdeaAssignment extends React.PureComponent<Props & InjectedIntlProps> {\n  getOptions = () => {\n    const { adminsAndMods } = this.props;\n    const prospectAssignees = adminsAndMods.usersList;\n    let projectAssigneeOptions: IOption[] = [];\n\n    if (!isNilOrError(prospectAssignees)) {\n      projectAssigneeOptions = prospectAssignees.map((prospectAssignee) => {\n        return {\n          value: prospectAssignee.id,\n          label: `${prospectAssignee.attributes.first_name} ${prospectAssignee.attributes.last_name}`,\n        };\n      });\n    }\n\n    return [\n      {\n        value: 'unassigned',\n        label: this.props.intl.formatMessage(messages.unassigned),\n      },\n      ...projectAssigneeOptions,\n    ];\n  };\n\n  onAssigneeChange = (assigneeOption: IOption) => {\n    const { projectId } = this.props;\n    // convert 'unassigned' to null for the back-end update\n    const defaultAssigneeId =\n      assigneeOption.value !== 'unassigned' ? assigneeOption.value : null;\n\n    updateProject(projectId, {\n      default_assignee_id: defaultAssigneeId,\n    });\n  };\n\n  render() {\n    const { project } = this.props;\n\n    if (!isNilOrError(project)) {\n      const defaultAssigneeId = get(\n        project,\n        'relationships.default_assignee.data.id'\n      );\n      // If defaultAssigneeValue is not a string, it's null, so we convert it to a string (see this.getoptions)\n      const defaultAssigneeValue = isString(defaultAssigneeId)\n        ? defaultAssigneeId\n        : 'unassigned';\n\n      return (\n        <StyledSelect\n          options={this.getOptions()}\n          value={defaultAssigneeValue}\n          onChange={this.onAssigneeChange}\n        />\n      );\n    }\n\n    return null;\n  }\n}\n\nconst Data = adopt<DataProps, InputProps>({\n  project: ({ projectId, render }) => (\n    <GetProject projectId={projectId}>{render}</GetProject>\n  ),\n  adminsAndMods: ({ projectId, render }) => (\n    <GetUsers canModerateProject={projectId}>{render}</GetUsers>\n  ),\n});\n\nconst IdeaAssignmentWithInjectIntl = injectIntl(IdeaAssignment);\n\nexport default (inputProps: InputProps) => (\n  <Data {...inputProps}>\n    {(dataprops) => (\n      <IdeaAssignmentWithInjectIntl {...inputProps} {...dataprops} />\n    )}\n  </Data>\n);\n","import React from 'react';\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from './messages';\n\nconst ProjectFolderTitle = () => (\n  <FormattedMessage {...messages.projectsAndFolders} />\n);\n\nexport default ProjectFolderTitle;\n","import { API_PATH } from 'containers/App/constants';\nimport { Multiloc } from 'typings';\nimport streams, { IStreamParams } from 'utils/streams';\n\nconst apiEndpoint = `${API_PATH}/stats`;\n\nexport interface IUsersByGender {\n  series: {\n    users: {\n      [key: string]: number;\n    };\n  };\n}\n\nexport interface IUsersByRegistrationField {\n  series: {\n    users: {\n      [key: string]: number;\n    };\n  };\n  options: {\n    [key: string]: {\n      title_multiloc: Multiloc;\n    };\n  };\n}\n\nexport interface IUsersByDomicile {\n  series: {\n    users: {\n      [key: string]: number;\n    };\n  };\n  areas: {\n    [key: string]: {\n      title_multiloc: Multiloc;\n    };\n  };\n}\n\nexport interface IUsersByBirthyear {\n  series: {\n    users: {\n      [key: string]: number;\n    };\n  };\n}\n\ninterface IGenderCounts {\n  male?: number;\n  female?: number;\n  unspecified?: number;\n  _blank?: number;\n}\n\nexport interface IVotesByGender {\n  series: {\n    up: IGenderCounts;\n    down: IGenderCounts;\n    total: IGenderCounts;\n  };\n}\n\nexport interface IVotesByBirthyear {\n  series: {\n    up: { [key: number]: number };\n    down: { [key: number]: number };\n    total: { [key: number]: number };\n  };\n}\n\nexport interface IVotesByDomicile {\n  series: {\n    up: { [key: string]: number };\n    down: { [key: string]: number };\n    total: { [key: string]: number };\n  };\n}\n\nexport const usersByRegFieldXlsxEndpoint = (customFieldId: string) =>\n  `${apiEndpoint}/users_by_custom_field_as_xlsx/${customFieldId}`;\n\nexport function usersByRegFieldStream(\n  streamParams: IStreamParams | null = null,\n  customFieldId: string\n) {\n  return streams.get<IUsersByRegistrationField>({\n    apiEndpoint: `${apiEndpoint}/users_by_custom_field/${customFieldId}`,\n    ...streamParams,\n    cacheStream: false,\n  });\n}\n\nexport const usersByBirthyearXlsxEndpoint = `${apiEndpoint}/users_by_birthyear_as_xlsx`;\n\nexport function usersByBirthyearStream(\n  streamParams: IStreamParams | null = null\n) {\n  return streams.get<IUsersByBirthyear>({\n    apiEndpoint: `${apiEndpoint}/users_by_birthyear`,\n    ...streamParams,\n  });\n}\n\nexport const usersByGenderXlsxEndpoint = `${apiEndpoint}/users_by_gender_as_xlsx`;\n\nexport function usersByGenderStream(streamParams: IStreamParams | null = null) {\n  return streams.get<IUsersByGender>({\n    apiEndpoint: `${apiEndpoint}/users_by_gender`,\n    ...streamParams,\n  });\n}\n\nexport const usersByDomicileXlsxEndpoint = `${apiEndpoint}/users_by_domicile_as_xlsx`;\n\nexport function usersByDomicileStream(\n  streamParams: IStreamParams | null = null\n) {\n  return streams.get<IUsersByDomicile>({\n    apiEndpoint: `${apiEndpoint}/users_by_domicile`,\n    ...streamParams,\n  });\n}\n\nexport const votesByGenderXlsxEndpoint = `${apiEndpoint}/votes_by_gender_as_xlsx`;\n\nexport function votesByGenderStream(streamParams: IStreamParams | null = null) {\n  return streams.get<IVotesByGender>({\n    apiEndpoint: `${apiEndpoint}/votes_by_gender`,\n    ...streamParams,\n  });\n}\n\nexport const votesByBirthyearXlsxEndpoint = `${apiEndpoint}/votes_by_birthyear_as_xlsx`;\n\nexport function votesByBirthyearStream(\n  streamParams: IStreamParams | null = null\n) {\n  return streams.get<IVotesByBirthyear>({\n    apiEndpoint: `${apiEndpoint}/votes_by_birthyear`,\n    ...streamParams,\n  });\n}\n\nexport const votesByDomicileXlsxEndpoint = `${apiEndpoint}/votes_by_domicile_as_xlsx`;\n\nexport function votesByDomicileStream(\n  streamParams: IStreamParams | null = null\n) {\n  return streams.get<IVotesByDomicile>({\n    apiEndpoint: `${apiEndpoint}/votes_by_domicile`,\n    ...streamParams,\n  });\n}\n","import {\n  viewportWidths,\n  media,\n  colors,\n  fontSizes,\n  defaultStyles,\n  defaultCardStyle,\n  defaultCardHoverStyle,\n  defaultOutline,\n  defaultInputStyle,\n  stylingConsts,\n  quillEditedContent,\n  getTheme,\n  invisibleA11yText,\n  remCalc,\n  calculateContrastRatio,\n  hexToRgb,\n} from 'cl2-component-library';\n\nimport { css } from 'styled-components';\n\nconst isRtl = (style, ...args) => css`\n  ${(props) => (props.theme.isRtl ? css(style, ...args) : '')}\n`;\n\nexport {\n  viewportWidths,\n  media,\n  colors,\n  fontSizes,\n  defaultStyles,\n  defaultCardStyle,\n  defaultCardHoverStyle,\n  defaultOutline,\n  defaultInputStyle,\n  stylingConsts,\n  quillEditedContent,\n  getTheme,\n  invisibleA11yText,\n  remCalc,\n  calculateContrastRatio,\n  hexToRgb,\n  isRtl,\n};\n","import React, { createContext } from 'react';\nimport moduleConfiguration from 'modules';\n\nexport const OutletsContext = createContext({});\n\nconst OutletsProvider = ({ children }) => {\n  return (\n    <OutletsContext.Provider value={moduleConfiguration.outlets}>\n      {children}\n    </OutletsContext.Provider>\n  );\n};\n\nexport default OutletsProvider;\n","import React, { memo } from 'react';\nimport { keys } from 'lodash-es';\nimport { Select } from 'cl2-component-library';\nimport { isNilOrError } from 'utils/helperUtils';\n\nimport { IOption } from 'typings';\n\nimport {\n  TRule,\n  TStaticRuleType,\n  TCustomRuleType,\n  ruleTypeConstraints,\n} from './rules';\n\nimport {\n  IUserCustomFieldData,\n  IUserCustomFieldInputType,\n} from 'modules/commercial/user_custom_fields/services/userCustomFields';\n\nimport { injectIntl } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\nimport messages from './messages';\n\n// hooks\nimport useLocalize from 'hooks/useLocalize';\nimport useUserCustomFields from 'modules/commercial/user_custom_fields/hooks/useUserCustomFields';\n\nexport interface FieldDescriptor {\n  ruleType?: TRule['ruleType'];\n  customFieldId?: string;\n}\n\ninterface Props {\n  field: FieldDescriptor;\n  onChange: (FieldDescriptor: FieldDescriptor) => void;\n  fieldName?: string;\n}\n\nconst FieldSelector = memo(\n  ({\n    intl: { formatMessage },\n    onChange,\n    field,\n    fieldName,\n  }: Props & InjectedIntlProps) => {\n    const localize = useLocalize();\n    const userCustomFields = useUserCustomFields({});\n\n    const generateOptions = (\n      userCustomFields: IUserCustomFieldData[]\n    ): IOption[] => {\n      const labelMessages: {\n        [key in TStaticRuleType]: ReactIntl.FormattedMessage.MessageDescriptor;\n      } = {\n        email: messages.field_email,\n        lives_in: messages.field_lives_in,\n        registration_completed_at: messages.field_registration_completed_at,\n        role: messages.field_role,\n        participated_in_project: messages.field_participated_in_project,\n        participated_in_topic: messages.field_participated_in_topic,\n        participated_in_idea_status:\n          messages.field_participated_in_input_status,\n        verified: messages.field_verified,\n      };\n      const staticOptions = keys(ruleTypeConstraints)\n        .filter((ruleType) => !/^custom_field_.*$/.test(ruleType))\n        .map((ruleType) => {\n          return {\n            value: descriptorToOptionValue({\n              ruleType: ruleType as TRule['ruleType'],\n            }),\n            label: formatMessage(labelMessages[ruleType]),\n          };\n        });\n      const customFieldOptions = userCustomFields\n        .filter(\n          (userCustomField) => userCustomField.attributes.code !== 'domicile'\n        )\n        .map((userCustomField) => ({\n          value: descriptorToOptionValue(\n            customFieldToDescriptor(userCustomField)\n          ),\n          label: localize(userCustomField.attributes.title_multiloc),\n        }));\n\n      return staticOptions.concat(customFieldOptions);\n    };\n\n    const handleOnChange = (option: IOption) => {\n      onChange(optionValueToDescriptor(option.value));\n    };\n\n    const customFieldToDescriptor = (customField: IUserCustomFieldData) => {\n      const inputType = customField.attributes.input_type;\n      const ruleTypes: {\n        [key in IUserCustomFieldInputType]: TCustomRuleType;\n      } = {\n        text: 'custom_field_text',\n        number: 'custom_field_number',\n        multiline_text: 'custom_field_text',\n        select: 'custom_field_select',\n        multiselect: 'custom_field_select',\n        checkbox: 'custom_field_checkbox',\n        date: 'custom_field_date',\n      };\n      const ruleType = ruleTypes[inputType];\n\n      return {\n        ruleType,\n        customFieldId: customField.id,\n      };\n    };\n\n    const descriptorToOptionValue = (fieldDescriptor: FieldDescriptor) => {\n      return JSON.stringify(fieldDescriptor);\n    };\n\n    const optionValueToDescriptor = (value) => {\n      return JSON.parse(value);\n    };\n\n    if (!isNilOrError(userCustomFields)) {\n      return (\n        <Select\n          options={generateOptions(userCustomFields)}\n          onChange={handleOnChange}\n          value={descriptorToOptionValue(field)}\n          id={`${fieldName}-e2e`}\n        />\n      );\n    }\n\n    return null;\n  }\n);\n\nexport default injectIntl(FieldSelector);\n","import { Multiloc, GraphqlMultiloc, Locale } from 'typings';\nimport { keys, uniq, isArray, isObject, isEmpty, get, has } from 'lodash-es';\nimport { isNilOrError, convertToGraphqlLocale } from 'utils/helperUtils';\nimport { truncate } from 'utils/textUtils';\nimport { InputTerm } from 'services/participationContexts';\n\ntype IInputTermMessages = {\n  [key in InputTerm]: ReactIntl.FormattedMessage.MessageDescriptor;\n};\n\nexport const getInputTermMessage = (\n  inputType: InputTerm,\n  messages: IInputTermMessages\n) => {\n  return messages[inputType];\n};\n\nexport function getLocalized(\n  multiloc: Multiloc | GraphqlMultiloc | null | undefined,\n  locale: Locale | null | undefined | Error,\n  tenantLocales: Locale[] | null | undefined | Error,\n  maxLength?: number\n) {\n  if (\n    !isNilOrError(multiloc) &&\n    !isNilOrError(locale) &&\n    !isNilOrError(tenantLocales) &&\n    tenantLocales.length > 0\n  ) {\n    const graphqlLocale = convertToGraphqlLocale(locale);\n    const graphqlTenantLocales = tenantLocales.map((tenantLocale) =>\n      convertToGraphqlLocale(tenantLocale)\n    );\n    const baseLocales = uniq([\n      locale,\n      graphqlLocale,\n      ...tenantLocales,\n      ...graphqlTenantLocales,\n    ]);\n\n    if (\n      isArray(multiloc) &&\n      !isEmpty(multiloc) &&\n      has(multiloc[0], 'content') &&\n      has(multiloc[0], 'locale')\n    ) {\n      const multilocLocales = multiloc.map((item) => item.locale);\n      const graphqlMultilocLocales = multilocLocales.map((multilocLocale) =>\n        convertToGraphqlLocale(multilocLocale)\n      );\n      const candidateLocales = uniq([\n        ...baseLocales,\n        ...multilocLocales,\n        ...graphqlMultilocLocales,\n      ]).filter((locale) => !locale.startsWith('__'));\n      const winnerLocale = candidateLocales.find((locale) =>\n        multiloc.some((item) => item.locale === locale)\n      );\n      const winner = get(\n        multiloc.find((item) => item.locale === winnerLocale),\n        'content',\n        ''\n      );\n      return winner;\n    }\n\n    if (isObject(multiloc) && !isEmpty(multiloc)) {\n      const multilocLocales = keys(multiloc) as Locale[];\n      const graphqlMultilocLocales = multilocLocales.map((multilocLocale) =>\n        convertToGraphqlLocale(multilocLocale)\n      );\n      const candidateLocales = uniq([\n        ...baseLocales,\n        ...multilocLocales,\n        ...graphqlMultilocLocales,\n      ]).filter((locale) => !locale.startsWith('__'));\n      const winnerLocale = candidateLocales.find(\n        (locale) => !!multiloc[locale]\n      );\n      const winner = winnerLocale ? multiloc[winnerLocale] : '';\n      return truncate(winner, maxLength);\n    }\n  }\n\n  return '';\n}\n","import eventEmitter from 'utils/eventEmitter';\nimport {\n  VerificationModalEvents,\n  OpenVerificationModalData,\n} from 'components/Verification/verificationModalEvents';\n\nexport function closeVerificationModal() {\n  eventEmitter.emit(VerificationModalEvents.close);\n}\n\nexport const openVerificationModal$ = eventEmitter.observeEvent<\n  OpenVerificationModalData\n>(VerificationModalEvents.open);\n\nexport const closeVerificationModal$ = eventEmitter.observeEvent(\n  VerificationModalEvents.close\n);\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  inputFormTab: {\n    id: 'app.containers.AdminPage.ProjectEdit.inputFormTab',\n    defaultMessage: 'Input form',\n  },\n});\n","import { API_PATH } from 'containers/App/constants';\nimport { IVerifiedResponse } from 'services/verify';\nimport streams from 'utils/streams';\n\nexport function verifyIDLookup(idCard: string) {\n  return streams.add<IVerifiedResponse>(\n    `${API_PATH}/verification_methods/id_card_lookup/verification`,\n    {\n      verification: {\n        card_id: idCard,\n      },\n    }\n  );\n}\n","export default {\n  signUpConfirmationStepSkipped: 'Sign up - confirmation step skipped',\n  signUpConfirmationStepFailed: 'Sign up - confirmation step failed',\n  signUpConfirmationStepEntered: 'Sign up - confirmation step entered',\n  signUpConfirmationStepExited: 'Sign up - confirmation step exited',\n  signUpConfirmationStepCompleted: 'Sign up - confirmation step completed',\n};\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  whatIsFranceConnect: {\n    id: 'app.containers.SignIn.whatIsFranceConnect',\n    defaultMessage: 'What is France Connect?',\n  },\n  useFranceConnectToLoginCreateOrVerifyYourAccount: {\n    id:\n      'app.containers.SignIn.useFranceConnectToLoginCreateOrVerifyYourAccount',\n    defaultMessage:\n      'Use FranceConnect to Login, Signup or Verify your account.',\n  },\n  franceConnectIsTheSolutionProposedByTheGovernment: {\n    id:\n      'app.containers.SignIn.franceConnectIsTheSolutionProposedByTheGovernment',\n    defaultMessage:\n      'FranceConnect is the solution proposed by the French state to secure and simplify the sign up to more than 700 online services.',\n  },\n});\n","import React from 'react';\nimport { ModuleConfiguration } from 'utils/moduleUtils';\nimport './services/verificationMethods';\nimport Bogus from './components/BogusButton';\nimport VerificationFormBogus from './components/VerificationFormBogus';\n\nconst configuration: ModuleConfiguration = {\n  outlets: {\n    'app.components.VerificationModal.button': (props) => {\n      if (props.method.attributes.name !== 'bogus') return null;\n      return <Bogus {...props} />;\n    },\n    'app.components.VerificationModal.methodStep': (props) => {\n      if (props.method.attributes.name !== 'bogus') return null;\n\n      return <VerificationFormBogus {...props} />;\n    },\n  },\n};\n\nexport default configuration;\n","import React, { memo } from 'react';\nimport useIdea from 'hooks/useIdea';\nimport useProject from 'hooks/useProject';\nimport usePhases from 'hooks/usePhases';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { getInputTerm } from 'services/participationContexts';\n\nimport { IOfficialFeedbackOnYourIdeaNotificationData } from 'services/notifications';\n\n// i18n\nimport messages from '../../messages';\nimport { FormattedMessage } from 'utils/cl-intl';\nimport { getInputTermMessage } from 'utils/i18n';\n\n// components\nimport NotificationWrapper from '../NotificationWrapper';\nimport Link from 'utils/cl-router/Link';\nimport T from 'components/T';\n\ninterface Props {\n  notification: IOfficialFeedbackOnYourIdeaNotificationData;\n}\n\nconst OfficialFeedbackOnYourIdeaNotification = memo<Props>((props) => {\n  const { notification } = props;\n  const idea = useIdea({ ideaSlug: notification.attributes.post_slug });\n  const projectId = !isNilOrError(idea)\n    ? idea.relationships.project.data.id\n    : null;\n  const project = useProject({ projectId });\n  const phases = usePhases(projectId);\n\n  if (!isNilOrError(project)) {\n    const inputTerm = getInputTerm(\n      project.attributes.process_type,\n      project,\n      phases\n    );\n\n    return (\n      <NotificationWrapper\n        linkTo={`/ideas/${notification.attributes.post_slug}`}\n        timing={notification.attributes.created_at}\n        icon=\"comments\"\n        isRead={!!notification.attributes.read_at}\n      >\n        <FormattedMessage\n          {...getInputTermMessage(inputTerm, {\n            idea: messages.officialFeedbackOnYourIdea2,\n            option: messages.officialFeedbackOnYourOption,\n            project: messages.officialFeedbackOnYourProject,\n            question: messages.officialFeedbackOnYourQuestion,\n            issue: messages.officialFeedbackOnYourIssue,\n            contribution: messages.officialFeedbackOnYourContribution,\n          })}\n          values={{\n            officialName: (\n              <T value={notification.attributes.official_feedback_author} />\n            ),\n            idea: (\n              <Link to={`/ideas/${notification.attributes.post_slug}`}>\n                <T value={notification.attributes.post_title_multiloc} />\n              </Link>\n            ),\n          }}\n        />\n      </NotificationWrapper>\n    );\n  }\n\n  return null;\n});\n\nexport default OfficialFeedbackOnYourIdeaNotification;\n","import React from 'react';\n\n// Components\nimport { WideSectionField } from 'containers/Admin/settings/customize';\nimport {\n  Setting,\n  ToggleLabel,\n  StyledToggle,\n  LabelContent,\n  LabelTitle,\n  LabelDescription,\n} from 'containers/Admin/settings/general';\n\ninterface Props {\n  checked: boolean;\n  onChange: () => void;\n  title: string;\n  description: string;\n}\n\nexport default ({ checked, onChange, title, description }: Props) => (\n  <>\n    <WideSectionField>\n      <Setting>\n        <ToggleLabel>\n          <StyledToggle checked={checked} onChange={onChange} />\n          <LabelContent>\n            <LabelTitle>{title}</LabelTitle>\n            <LabelDescription>{description}</LabelDescription>\n          </LabelContent>\n        </ToggleLabel>\n      </Setting>\n    </WideSectionField>\n  </>\n);\n","import React, { PureComponent, FormEvent } from 'react';\nimport { Subscription, BehaviorSubject, of } from 'rxjs';\nimport { switchMap, distinctUntilChanged } from 'rxjs/operators';\nimport { isEmpty, get, set } from 'lodash-es';\nimport { adopt } from 'react-adopt';\nimport deepMerge from 'deepmerge';\nimport eventEmitter from 'utils/eventEmitter';\nimport { withRouter, WithRouterProps } from 'react-router';\n\n// components\nimport ProjectStatusPicker from './components/ProjectStatusPicker';\nimport ProjectNameInput from './components/ProjectNameInput';\nimport SlugInput from './components/SlugInput';\nimport ProjectTypePicker from './components/ProjectTypePicker';\nimport GeographicAreaInputs from './components/GeographicAreaInputs';\nimport HeaderImageDropzone from './components/HeaderImageDropzone';\nimport ProjectImageDropzone from './components/ProjectImageDropzone';\nimport AttachmentsDropzone from './components/AttachmentsDropzone';\nimport SubmitWrapper from 'components/admin/SubmitWrapper';\nimport {\n  Section,\n  SectionTitle,\n  SectionDescription,\n  SubSectionTitle,\n} from 'components/admin/Section';\nimport ParticipationContext, {\n  IParticipationContextConfig,\n} from '../participationContext';\nimport Outlet from 'components/Outlet';\nimport {\n  StyledForm,\n  ProjectType,\n  StyledSectionField,\n  ParticipationContextWrapper,\n} from './components/styling';\n\n// animation\nimport CSSTransition from 'react-transition-group/CSSTransition';\n\n// i18n\nimport { InjectedIntlProps } from 'react-intl';\nimport { injectIntl, FormattedMessage } from 'utils/cl-intl';\nimport messages from './messages';\n\n// services\nimport {\n  IUpdatedProjectProperties,\n  projectByIdStream,\n  IProjectFormState,\n} from 'services/projects';\nimport { areasStream } from 'services/areas';\nimport { localeStream } from 'services/locale';\nimport { currentAppConfigurationStream } from 'services/appConfiguration';\n\n// resources\nimport GetFeatureFlag, {\n  GetFeatureFlagChildProps,\n} from 'resources/GetFeatureFlag';\nimport GetAuthUser, { GetAuthUserChildProps } from 'resources/GetAuthUser';\n\n// utils\nimport { getDefaultState, initSubscriptions } from './utils/state';\nimport save from './utils/save';\nimport validate from './utils/validate';\n\n// typings\nimport { IOption, Multiloc, UploadFile } from 'typings';\nimport { isNilOrError } from 'utils/helperUtils';\n\nexport const timeout = 350;\n\nexport interface InputProps {}\n\ninterface DataProps {\n  isProjectFoldersEnabled: GetFeatureFlagChildProps;\n  authUser: GetAuthUserChildProps;\n}\n\ninterface Props extends InputProps, DataProps {}\n\nexport type onProjectFormStateChange = (fieldUpdates: {\n  [fieldPath: string]: any;\n}) => void;\n\nexport type PublicationStatus = 'draft' | 'published' | 'archived';\n\nclass AdminProjectEditGeneral extends PureComponent<\n  Props & InjectedIntlProps & WithRouterProps,\n  IProjectFormState\n> {\n  projectId$: BehaviorSubject<string | null>;\n  processing$: BehaviorSubject<boolean>;\n  subscriptions: Subscription[] = [];\n\n  constructor(props) {\n    super(props);\n\n    this.state = getDefaultState();\n\n    this.projectId$ = new BehaviorSubject(null);\n    this.processing$ = new BehaviorSubject(false);\n    this.subscriptions = [];\n  }\n\n  componentDidMount() {\n    const locale$ = localeStream().observable;\n    const currentTenant$ = currentAppConfigurationStream().observable;\n    const areas$ = areasStream().observable;\n    const project$ = this.projectId$.pipe(\n      distinctUntilChanged(),\n      switchMap((projectId) =>\n        projectId ? projectByIdStream(projectId).observable : of(null)\n      )\n    );\n\n    this.projectId$.next(\n      get(this.props, 'params.projectId', null) as string | null\n    );\n\n    this.subscriptions = initSubscriptions.apply(this, [\n      locale$,\n      currentTenant$,\n      areas$,\n      project$,\n    ]);\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (\n      get(this.props, 'params.projectId') !== get(prevProps, 'params.projectId')\n    ) {\n      this.projectId$.next(get(this.props, 'params.projectId', null));\n    }\n  }\n\n  componentWillUnmount() {\n    this.subscriptions.forEach((subscription) => subscription.unsubscribe());\n  }\n\n  handleTitleMultilocOnChange = (titleMultiloc: Multiloc) => {\n    this.setState(({ projectAttributesDiff }) => ({\n      submitState: 'enabled',\n      projectAttributesDiff: {\n        ...projectAttributesDiff,\n        title_multiloc: titleMultiloc,\n      },\n    }));\n  };\n\n  handleParticipationContextOnChange = (\n    participationContextConfig: IParticipationContextConfig\n  ) => {\n    this.setState(({ projectAttributesDiff }) => ({\n      submitState: 'enabled',\n      projectAttributesDiff: {\n        ...projectAttributesDiff,\n        ...participationContextConfig,\n      },\n    }));\n  };\n\n  handleProjectTypeOnChange = (projectType: 'continuous' | 'timeline') => {\n    this.setState(({ projectAttributesDiff }) => ({\n      projectType,\n      submitState: 'enabled',\n      projectAttributesDiff: {\n        ...projectAttributesDiff,\n        process_type: projectType,\n      },\n    }));\n  };\n\n  handleHeaderOnAdd = (newHeader: UploadFile[]) => {\n    this.setState(({ projectAttributesDiff }) => ({\n      submitState: 'enabled',\n      projectAttributesDiff: {\n        ...projectAttributesDiff,\n        header_bg: newHeader[0].base64,\n      },\n      projectHeaderImage: [newHeader[0]],\n    }));\n  };\n\n  handleHeaderOnRemove = async () => {\n    this.setState(({ projectAttributesDiff }) => ({\n      submitState: 'enabled',\n      projectAttributesDiff: {\n        ...projectAttributesDiff,\n        header_bg: null,\n      },\n      projectHeaderImage: null,\n    }));\n  };\n\n  handleProjectFileOnAdd = (newProjectFile: UploadFile) => {\n    this.setState((prevState) => {\n      const isDuplicate = prevState.projectFiles.some(\n        (file) => file.base64 === newProjectFile.base64\n      );\n      const projectFiles = isDuplicate\n        ? prevState.projectFiles\n        : [...prevState.projectFiles, newProjectFile];\n      const submitState = isDuplicate ? prevState.submitState : 'enabled';\n\n      return {\n        projectFiles,\n        submitState,\n      };\n    });\n  };\n\n  handleProjectFileOnRemove = (projectFileToRemove: UploadFile) => {\n    this.setState(({ projectFiles, projectFilesToRemove }) => ({\n      submitState: 'enabled',\n      projectFiles: projectFiles.filter(\n        (file) => file.base64 !== projectFileToRemove.base64\n      ),\n      projectFilesToRemove: [...projectFilesToRemove, projectFileToRemove],\n    }));\n  };\n\n  handleProjectImagesOnAdd = (projectImages: UploadFile[]) => {\n    this.setState({\n      projectImages,\n      submitState: 'enabled',\n    });\n  };\n\n  handleProjectImageOnRemove = (projectImageToRemove: UploadFile) => {\n    this.setState(({ projectImages, projectImagesToRemove }) => ({\n      submitState: 'enabled',\n      projectImages: projectImages.filter(\n        (image) => image.base64 !== projectImageToRemove.base64\n      ),\n      projectImagesToRemove: [...projectImagesToRemove, projectImageToRemove],\n    }));\n  };\n\n  handleAreaTypeChange = (value: 'all' | 'selection') => {\n    this.setState(({ projectAttributesDiff }) => ({\n      submitState: 'enabled',\n      areaType: value,\n      projectAttributesDiff: {\n        ...projectAttributesDiff,\n        area_ids: value === 'all' ? [] : projectAttributesDiff.area_ids,\n      },\n    }));\n  };\n\n  handleAreaSelectionChange = (values: IOption[]) => {\n    this.setState(({ projectAttributesDiff }) => ({\n      submitState: 'enabled',\n      projectAttributesDiff: {\n        ...projectAttributesDiff,\n        area_ids: values.map((value) => value.value),\n      },\n    }));\n  };\n\n  onSubmit = (event: FormEvent<any>) => {\n    event.preventDefault();\n\n    const { projectType } = this.state;\n\n    // if it's a new project of type continuous\n    if (projectType === 'continuous') {\n      eventEmitter.emit('getParticipationContext');\n    } else {\n      this.save();\n    }\n  };\n\n  handleParcticipationContextOnSubmit = (\n    participationContextConfig: IParticipationContextConfig\n  ) => {\n    this.save(participationContextConfig);\n  };\n\n  handleStatusChange = (value: PublicationStatus) => {\n    this.setState(({ projectAttributesDiff }) => ({\n      submitState: 'enabled',\n      publicationStatus: value,\n      projectAttributesDiff: {\n        ...projectAttributesDiff,\n        admin_publication_attributes: {\n          publication_status: value,\n        },\n      },\n    }));\n  };\n\n  handleSlugOnChange = (slug: string) => {\n    this.setState(({ projectAttributesDiff }) => {\n      return {\n        slug,\n        projectAttributesDiff: {\n          ...projectAttributesDiff,\n          slug,\n        },\n      };\n    });\n\n    this.validateSlug(slug);\n  };\n\n  validate = () => {\n    const { formatMessage } = this.props.intl;\n    const { currentTenant, projectAttributesDiff, project } = this.state;\n\n    const { hasErrors, titleError } = validate(\n      currentTenant,\n      projectAttributesDiff,\n      project,\n      formatMessage\n    );\n\n    this.setState({\n      titleError: !isEmpty(titleError) ? titleError : null,\n    });\n\n    return !hasErrors;\n  };\n\n  save = async (\n    participationContextConfig: IParticipationContextConfig | null = null\n  ) => {\n    await save.apply(this, [participationContextConfig]);\n  };\n\n  validateSlug = (slug: string) => {\n    // Default slug rules including arabic character ranges\n    const slugRexEx = RegExp(\n      /^[a-z0-9\\u0600-\\u06FF\\u0750-\\u077F]+(?:-[a-z0-9\\u0600-\\u06FF\\u0750-\\u077F]+)*$/\n    );\n    const isSlugValid = slugRexEx.test(slug);\n\n    this.setState({\n      showSlugErrorMessage: !isSlugValid,\n      submitState: isSlugValid ? 'enabled' : 'disabled',\n    });\n  };\n\n  handleFieldUpdate = (fieldUpdates: { [fieldPath: string]: any }) => {\n    this.setState((prevState) => {\n      const newState = { ...prevState };\n      set(newState, 'submitState', 'enabled');\n      for (const fieldPath in fieldUpdates) {\n        set(newState, fieldPath, fieldUpdates[fieldPath]);\n      }\n      return deepMerge(prevState, newState);\n    });\n  };\n\n  render() {\n    const {\n      publicationStatus,\n      projectType,\n      titleError,\n      project,\n      projectHeaderImage,\n      projectImages,\n      projectFiles,\n      processing,\n      projectAttributesDiff,\n      areasOptions,\n      areaType,\n      submitState,\n      apiErrors,\n      slug,\n      showSlugErrorMessage,\n      currentTenant,\n      locale,\n    } = this.state;\n\n    const { authUser } = this.props;\n\n    if (\n      !isNilOrError(authUser) &&\n      (!get(this.props, 'params.projectId') ||\n        (get(this.props, 'params.projectId') && project !== undefined))\n    ) {\n      const projectAttrs = {\n        ...(project ? project.data.attributes : {}),\n        ...projectAttributesDiff,\n      } as IUpdatedProjectProperties;\n      const areaIds =\n        projectAttrs.area_ids ||\n        (project &&\n          project.data.relationships.areas.data.map((area) => area.id)) ||\n        [];\n      const areasValues = areaIds\n        .filter((id) => {\n          return areasOptions.some((areaOption) => areaOption.value === id);\n        })\n        .map((id) => {\n          return areasOptions.find(\n            (areaOption) => areaOption.value === id\n          ) as IOption;\n        });\n\n      return (\n        <StyledForm\n          className=\"e2e-project-general-form\"\n          onSubmit={this.onSubmit}\n        >\n          <Section>\n            {get(this.props, 'params.projectId') && (\n              <>\n                <SectionTitle>\n                  <FormattedMessage {...messages.titleGeneral} />\n                </SectionTitle>\n                <SectionDescription>\n                  <FormattedMessage {...messages.subtitleGeneral} />\n                </SectionDescription>\n              </>\n            )}\n\n            <ProjectStatusPicker\n              publicationStatus={publicationStatus}\n              handleStatusChange={this.handleStatusChange}\n            />\n\n            <ProjectNameInput\n              projectAttrs={projectAttrs}\n              titleError={titleError}\n              apiErrors={this.state.apiErrors}\n              handleTitleMultilocOnChange={this.handleTitleMultilocOnChange}\n            />\n\n            {/* Only show this field when slug is already saved to project (i.e. not when creating a new project, which uses this form as well) */}\n            {currentTenant && project?.data.attributes.slug && (\n              <SlugInput\n                currentTenant={currentTenant}\n                project={project}\n                locale={locale}\n                slug={slug}\n                apiErrors={apiErrors}\n                showSlugErrorMessage={showSlugErrorMessage}\n                handleSlugOnChange={this.handleSlugOnChange}\n              />\n            )}\n\n            <StyledSectionField>\n              {!project ? (\n                <ProjectTypePicker\n                  projectType={projectType}\n                  handleProjectTypeOnChange={this.handleProjectTypeOnChange}\n                />\n              ) : (\n                <>\n                  <SubSectionTitle>\n                    <FormattedMessage {...messages.projectTypeTitle} />\n                  </SubSectionTitle>\n                  <ProjectType>\n                    {<FormattedMessage {...messages[projectType]} />}\n                  </ProjectType>\n                </>\n              )}\n\n              {!project && (\n                <CSSTransition\n                  classNames=\"participationcontext\"\n                  in={projectType === 'continuous'}\n                  timeout={timeout}\n                  mountOnEnter={true}\n                  unmountOnExit={true}\n                  enter={true}\n                  exit={false}\n                >\n                  <ParticipationContextWrapper>\n                    <ParticipationContext\n                      onSubmit={this.handleParcticipationContextOnSubmit}\n                      onChange={this.handleParticipationContextOnChange}\n                      apiErrors={apiErrors}\n                    />\n                  </ParticipationContextWrapper>\n                </CSSTransition>\n              )}\n            </StyledSectionField>\n\n            {project && projectType === 'continuous' && (\n              <ParticipationContext\n                projectId={project.data.id}\n                onSubmit={this.handleParcticipationContextOnSubmit}\n                onChange={this.handleParticipationContextOnChange}\n                apiErrors={apiErrors}\n              />\n            )}\n\n            <GeographicAreaInputs\n              areaType={areaType}\n              areasOptions={areasOptions}\n              areasValues={areasValues}\n              handleAreaTypeChange={this.handleAreaTypeChange}\n              handleAreaSelectionChange={this.handleAreaSelectionChange}\n            />\n\n            <Outlet\n              id=\"app.components.AdminPage.projects.form.additionalInputs.inputs\"\n              projectAttrs={projectAttrs}\n              onChange={this.handleFieldUpdate}\n              authUser={authUser}\n            />\n\n            <HeaderImageDropzone\n              projectHeaderImage={projectHeaderImage}\n              handleHeaderOnAdd={this.handleHeaderOnAdd}\n              handleHeaderOnRemove={this.handleHeaderOnRemove}\n            />\n\n            <ProjectImageDropzone\n              projectImages={projectImages}\n              handleProjectImagesOnAdd={this.handleProjectImagesOnAdd}\n              handleProjectImageOnRemove={this.handleProjectImageOnRemove}\n            />\n\n            <AttachmentsDropzone\n              projectFiles={projectFiles}\n              apiErrors={apiErrors}\n              handleProjectFileOnAdd={this.handleProjectFileOnAdd}\n              handleProjectFileOnRemove={this.handleProjectFileOnRemove}\n            />\n\n            <SubmitWrapper\n              loading={processing}\n              status={submitState}\n              messages={{\n                buttonSave: messages.saveProject,\n                buttonSuccess: messages.saveSuccess,\n                messageError: messages.saveErrorMessage,\n                messageSuccess: messages.saveSuccessMessage,\n              }}\n            />\n          </Section>\n        </StyledForm>\n      );\n    }\n\n    return null;\n  }\n}\n\nconst AdminProjectEditGeneralWithHocs = injectIntl(AdminProjectEditGeneral);\nconst Data = adopt({\n  isProjectFoldersEnabled: <GetFeatureFlag name=\"project_folders\" />,\n  authUser: <GetAuthUser />,\n});\n\nexport default withRouter((inputProps: InputProps & WithRouterProps) => (\n  <Data {...inputProps}>\n    {(dataProps: DataProps) => (\n      <AdminProjectEditGeneralWithHocs {...inputProps} {...dataProps} />\n    )}\n  </Data>\n));\n","// Libraries\nimport React, { memo, useState } from 'react';\nimport { get } from 'lodash-es';\nimport { first } from 'rxjs/operators';\nimport { isNilOrError, isNonEmptyString } from 'utils/helperUtils';\n\n// Services\nimport {\n  findMembership,\n  addMembership,\n} from 'modules/commercial/project_management/services/projectModerators';\nimport { IGroupMembershipsFoundUserData } from 'services/groupMemberships';\n\n// hooks\nimport useProjectModerators from 'modules/commercial/project_management/hooks/useProjectModerators';\n\n// i18n\nimport { InjectedIntlProps } from 'react-intl';\nimport { injectIntl } from 'utils/cl-intl';\nimport messages from './messages';\n\n// Components\nimport Button from 'components/UI/Button';\nimport AsyncSelect from 'react-select/async';\n\n// Style\nimport styled from 'styled-components';\nimport selectStyles from 'components/UI/MultipleSelect/styles';\n\n// Typings\nimport { IOption } from 'typings';\n\nconst Container = styled.div`\n  width: 100%;\n  margin-bottom: 20px;\n`;\n\nconst SelectGroupsContainer = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n  align-items: center;\n  margin-bottom: 30px;\n`;\n\nconst StyledAsyncSelect = styled(AsyncSelect)`\n  min-width: 300px;\n`;\n\nconst AddGroupButton = styled(Button)`\n  flex-grow: 0;\n  flex-shrink: 0;\n  margin-left: 20px;\n`;\n\ninterface Props {\n  projectId: string;\n}\n\nfunction isModerator(user: IGroupMembershipsFoundUserData) {\n  return get(user.attributes, 'is_moderator') !== undefined;\n}\n\nconst UserSearch = memo(\n  ({ projectId, intl: { formatMessage } }: Props & InjectedIntlProps) => {\n    const [selection, setSelection] = useState<IOption[]>([]);\n    const [loading, setLoading] = useState(false);\n    const [processing, setProcessing] = useState(false);\n    const [searchInput, setSearchInput] = useState('');\n    const moderators = useProjectModerators(projectId);\n\n    const getOptions = (users: IGroupMembershipsFoundUserData[]) => {\n      return users\n        .filter((user) => {\n          let userIsNotYetModerator = true;\n\n          if (!isNilOrError(moderators)) {\n            moderators.forEach((moderator) => {\n              if (moderator.id === user.id) {\n                userIsNotYetModerator = false;\n              }\n            });\n          }\n\n          return userIsNotYetModerator;\n        })\n        .map((user) => {\n          return {\n            value: user.id,\n            label: `${user.attributes.first_name} ${user.attributes.last_name}`,\n            email: `${user.attributes.email}`,\n            disabled: isModerator(user)\n              ? get(user.attributes, 'is_moderator')\n              : get(user.attributes, 'is_member'),\n          };\n        });\n    };\n\n    const loadOptions = (inputValue: string, callback) => {\n      if (inputValue) {\n        setLoading(true);\n\n        findMembership(projectId, {\n          queryParameters: {\n            search: inputValue,\n          },\n        })\n          .observable.pipe(first())\n          .subscribe((response) => {\n            const options = getOptions(response.data);\n            setLoading(false);\n            callback(options);\n          });\n      }\n    };\n\n    const handleOnChange = async (selection: IOption[]) => {\n      setSelection(selection);\n    };\n\n    const handleOnAddModeratorsClick = async () => {\n      if (selection && selection.length > 0) {\n        setProcessing(true);\n        const promises = selection.map((item) =>\n          addMembership(projectId, item.value)\n        );\n\n        try {\n          await Promise.all(promises);\n          setSelection([]);\n          setProcessing(false);\n        } catch {\n          setSelection([]);\n          setProcessing(false);\n        }\n      }\n    };\n\n    const handleSearchInputOnChange = (inputValue: string) => {\n      setSearchInput(inputValue);\n    };\n\n    const noOptionsMessage = (inputValue: string) => {\n      if (!isNonEmptyString(inputValue)) {\n        return null;\n      }\n      return formatMessage(messages.noOptions);\n    };\n\n    const isDropdownIconHidden = !isNonEmptyString(searchInput);\n\n    return (\n      <Container>\n        <SelectGroupsContainer>\n          <StyledAsyncSelect\n            name=\"search-user\"\n            isMulti={true}\n            cacheOptions={false}\n            defaultOptions={false}\n            loadOptions={loadOptions}\n            isLoading={loading}\n            isDisabled={processing}\n            value={selection}\n            onChange={handleOnChange}\n            placeholder={formatMessage(messages.searchUsers)}\n            styles={selectStyles}\n            noOptionsMessage={noOptionsMessage}\n            onInputChange={handleSearchInputOnChange}\n            components={\n              isDropdownIconHidden && {\n                DropdownIndicator: () => null,\n              }\n            }\n          />\n\n          <AddGroupButton\n            text={formatMessage(messages.addModerators)}\n            buttonStyle=\"cl-blue\"\n            icon=\"plus-circle\"\n            padding=\"13px 16px\"\n            onClick={handleOnAddModeratorsClick}\n            disabled={!selection || selection.length === 0}\n            processing={processing}\n          />\n        </SelectGroupsContainer>\n      </Container>\n    );\n  }\n);\n\nexport default injectIntl(UserSearch);\n","import streams, { IStreamParams } from 'utils/streams';\nimport { API_PATH } from 'containers/App/constants';\nimport { ILinks, Multiloc } from 'typings';\nimport { PublicationStatus } from 'services/projects';\n\nconst apiEndpoint = `${API_PATH}/admin_publications`;\n\n/**\n * The sole purpose of this interface is to allow widening the types\n * in external modules, by reopening the interface and adding other key-values\n */\nexport interface IAdminPublicationTypeMap {\n  project: 'project';\n}\n\nexport type AdminPublicationType = IAdminPublicationTypeMap[keyof IAdminPublicationTypeMap];\n\n/**\n  Data structure to handle the ordering of published projects and folders.\n  Projects and folders are not included, they have to be fetched separately.\n*/\nexport interface IAdminPublicationData {\n  id: string;\n  type: 'admin_publication';\n  attributes: {\n    parent_id?: string;\n    ordering: number;\n    depth: number;\n    publication_status: PublicationStatus;\n    visible_children_count: number;\n    publication_title_multiloc: Multiloc;\n    publication_description_multiloc: Multiloc;\n    publication_description_preview_multiloc: Multiloc;\n    publication_slug: string;\n    publication_visible_to?: 'public' | 'groups' | 'admins' | null;\n  };\n  relationships: {\n    publication: {\n      data: {\n        id: string;\n        type: AdminPublicationType;\n      };\n    };\n  };\n}\n\nexport interface IAdminPublications {\n  data: IAdminPublicationData[];\n  links: ILinks;\n}\n\ninterface IQueryParametersWithPS {\n  publication_statuses: PublicationStatus[];\n  areas?: string[];\n  topics?: string[];\n  [key: string]: any;\n}\n\ninterface StreamParamsForProjects extends IStreamParams {\n  queryParameters: IQueryParametersWithPS;\n}\n\nexport function adminPublicationByIdStream(id: string) {\n  return streams.get<{ data: IAdminPublicationData }>({\n    apiEndpoint: `${apiEndpoint}/${id}`,\n  });\n}\n\nexport function listAdminPublications(streamParams: StreamParamsForProjects) {\n  return streams.get<IAdminPublications>({ apiEndpoint, ...streamParams });\n}\n\nexport async function reorderAdminPublication(\n  orderingId: string,\n  newOrder: number\n) {\n  return streams.update<IAdminPublications>(\n    `${apiEndpoint}/${orderingId}/reorder`,\n    orderingId,\n    {\n      admin_publication: {\n        ordering: newOrder,\n      },\n    }\n  );\n}\n","import React, { memo, useCallback, useEffect, useState } from 'react';\nimport { get } from 'lodash-es';\nimport { withRouter, WithRouterProps } from 'react-router';\nimport clHistory from 'utils/cl-router/history';\n\n// components\nimport Button from 'components/UI/Button';\nimport ProjectTemplatePreview from '../../components/ProjectTemplatePreview';\nimport UseTemplateModal from '../components/UseTemplateModal';\n\n// i18n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from './messages';\n\n// analytics\nimport { trackEventByName } from 'utils/analytics';\nimport tracks from 'containers/Admin/projects/all/tracks';\n\n// styling\nimport styled from 'styled-components';\n\nconst Container = styled.div`\n  width: 100%;\n  max-width: 1050px;\n  margin-bottom: 60px;\n`;\n\nconst AdminHeader = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 30px;\n  margin-left: -20px;\n`;\n\nexport interface Props {\n  projectTemplateId?: string;\n  goBack?: () => void;\n  className?: string;\n  onRender?: (hasRendered: boolean) => void;\n}\n\nconst ProjectTemplatePreviewAdmin = memo<Props & WithRouterProps>(\n  ({ params, projectTemplateId, goBack, className, onRender }) => {\n    const templateId: string | undefined =\n      projectTemplateId || get(params, 'projectTemplateId');\n\n    const [modalOpened, setModalOpened] = useState<boolean>(false);\n\n    const onOpenModal = useCallback(() => {\n      trackEventByName(tracks.useTemplateButtonClicked, { projectTemplateId });\n      setModalOpened(true);\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    const onCloseModal = useCallback(() => {\n      trackEventByName(tracks.useTemplateModalClosed, { projectTemplateId });\n      setModalOpened(false);\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    const onGoBack = useCallback(() => {\n      goBack ? goBack() : clHistory.push('/admin/projects');\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    useEffect(() => {\n      if (onRender) {\n        onRender(true);\n      }\n    }, [onRender]);\n\n    if (templateId) {\n      return (\n        <Container className={className || ''}>\n          <AdminHeader>\n            {goBack ? (\n              <Button buttonStyle=\"text\" icon=\"arrow-back\" onClick={onGoBack}>\n                <FormattedMessage {...messages.goBack} />\n              </Button>\n            ) : (\n              <Button buttonStyle=\"text\" icon=\"list\" onClick={onGoBack}>\n                <FormattedMessage {...messages.seeMoreTemplates} />\n              </Button>\n            )}\n            <Button onClick={onOpenModal} buttonStyle=\"admin-dark\">\n              <FormattedMessage {...messages.useTemplate} />\n            </Button>\n          </AdminHeader>\n\n          <ProjectTemplatePreview projectTemplateId={templateId} />\n\n          <UseTemplateModal\n            projectTemplateId={projectTemplateId as string}\n            opened={modalOpened}\n            emitSuccessEvent={true}\n            showGoBackLink={true}\n            close={onCloseModal}\n          />\n        </Container>\n      );\n    }\n\n    return null;\n  }\n);\n\nexport default withRouter(ProjectTemplatePreviewAdmin);\n","import React from 'react';\nimport { ModuleConfiguration } from 'utils/moduleUtils';\nimport './services/verificationMethods';\nimport VerificationFranceConnectButton from './components/VerificationFranceConnectButton';\n\nconst configuration: ModuleConfiguration = {\n  outlets: {\n    'app.components.VerificationModal.button': (props) => {\n      if (props.method.attributes.name !== 'franceconnect') return null;\n      return <VerificationFranceConnectButton {...props} />;\n    },\n  },\n};\n\nexport default configuration;\n","export default {\n  focusParentCommentEditor: 'Add a parent comment editor focused',\n  clickParentCommentPublish: 'Clicked button to post a parent comment',\n  focusChildCommentEditor: 'Add a child comment editor focused',\n  clickChildCommentPublish: 'Clicked button to post a child comment',\n  clickReply: 'Comment reply clicked',\n  clickTranslateCommentButton: 'Clicked button to translate comment',\n  clickGoBackToOriginalCommentButton:\n    'Clicked button to go back to original, non-translated comment',\n  clickCommentsSortOrder: 'Clicked the comments sort order dropdown',\n  clickParentCommentLoadMoreButton:\n    \"Clicked the 'Load more' button of a parent comment to load more child comments\",\n  clickParentCommentReplyButton:\n    'Clicked on the reply button of a parent comment',\n  clickChildCommentReplyButton:\n    'Clicked on the reply button of a child comment',\n  clickParentCommentUpvoteButton:\n    'Clicked on the upvote button of a parent comment',\n  clickParentCommentCancelUpvoteButton:\n    'Clicked on the cancel upvote button of a parent comment',\n  clickChildCommentUpvoteButton:\n    'Clicked on the upvote button of a child comment',\n  clickChildCommentCancelUpvoteButton:\n    'Clicked on the cancel upvote button of a child comment',\n  clickCommentUpvoteButton: 'Clicked on the upvote button of a comment',\n  clickCommentCancelUpvoteButton:\n    'Clicked on the cancel upvote button of a comment',\n  childCommentProfanityError: {\n    name: 'Profane child comment blocked',\n  },\n  parentCommentProfanityError: {\n    name: 'Profane parent comment blocked',\n  },\n};\n","import { FC, useEffect } from 'react';\nimport { InjectedIntlProps } from 'react-intl';\nimport { InsertConfigurationOptions, ITab } from 'typings';\nimport { injectIntl } from 'utils/cl-intl';\nimport messages from './messages';\n\ntype Props = {\n  onData: (data: InsertConfigurationOptions<ITab>) => void;\n};\n\nconst Tab: FC<Props & InjectedIntlProps> = ({\n  onData,\n  intl: { formatMessage },\n}) => {\n  useEffect(() => {\n    onData({\n      configuration: {\n        label: formatMessage(messages.projectPermissionsTab),\n        url: `permissions`,\n        feature: 'private_projects',\n        name: 'permissions',\n      },\n      insertAfterName: 'events',\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return null;\n};\n\nexport default injectIntl(Tab);\n","import { combineLatest } from 'rxjs';\nimport { authUserStream } from 'services/auth';\nimport { currentAppConfigurationStream } from 'services/appConfiguration';\nimport {\n  bufferUntilInitialized,\n  events$,\n  initializeFor,\n  pageChanges$,\n  shutdownFor,\n  tenantInfo,\n} from 'utils/analytics';\nimport { isNilOrError } from 'utils/helperUtils';\nimport {\n  IDestinationConfig,\n  registerDestination,\n} from 'components/ConsentManager/destinations';\nimport { isAdmin, isModerator } from 'services/permissions/roles';\nimport { ModuleConfiguration } from 'utils/moduleUtils';\n\nexport const INTERCOM_APP_ID = process.env.INTERCOM_APP_ID;\n\ndeclare module 'components/ConsentManager/destinations' {\n  export interface IDestinationMap {\n    intercom: 'intercom';\n  }\n}\n\nconst destinationConfig: IDestinationConfig = {\n  key: 'intercom',\n  category: 'functional',\n  feature_flag: 'intercom',\n  hasPermission: (user) =>\n    !!user && (isAdmin({ data: user }) || isModerator({ data: user })),\n  name: () => 'Intercom',\n};\n\nconst configuration: ModuleConfiguration = {\n  beforeMountApplication: () => {\n    combineLatest([\n      currentAppConfigurationStream().observable,\n      authUserStream().observable,\n      initializeFor('intercom'),\n    ]).subscribe(([tenant, user, _]) => {\n      if (!INTERCOM_APP_ID) return;\n\n      (function () {\n        const w = window;\n        const ic = w.Intercom;\n        if (typeof ic === 'function') {\n          ic('reattach_activator');\n          ic('update', w.intercomSettings);\n        } else {\n          const d = document;\n          const i = function () {\n            // eslint-disable-next-line prefer-rest-params\n            i.c(arguments);\n          };\n          i.q = [];\n          i.c = function (args) {\n            i.q.push(args);\n          };\n          w.Intercom = i;\n          const l = function () {\n            const s = d.createElement('script');\n            s.type = 'text/javascript';\n            s.async = true;\n            s.src = `https://widget.intercom.io/widget/'${INTERCOM_APP_ID}`;\n            const x = d.getElementsByTagName('script')[0];\n            x?.parentNode?.insertBefore(s, x);\n          };\n          if (document.readyState === 'complete') {\n            l();\n          } else if (w.attachEvent) {\n            w.attachEvent('onload', l);\n          } else {\n            w.addEventListener('load', l, false);\n          }\n        }\n      })();\n\n      window.Intercom &&\n        window.Intercom('boot', {\n          app_id: INTERCOM_APP_ID,\n          ...(!isNilOrError(user)\n            ? {\n                email: user.data.attributes.email,\n                user_id: user.data.id,\n                name: `${user.data.attributes.first_name} + ${user.data.attributes.last_name}`,\n                firstName: user.data.attributes.first_name,\n                lastName: user.data.attributes.last_name,\n                locale: user.data.attributes.locale,\n                ...tenantInfo(tenant.data),\n              }\n            : {}),\n          ...(!isNilOrError(tenant)\n            ? {\n                company: {\n                  company_id: tenant.data.id,\n                  name: tenant.data.attributes.name,\n                  ...tenantInfo(tenant.data),\n                },\n              }\n            : {}),\n        });\n    });\n\n    shutdownFor('intercom').subscribe(() => {\n      if (window.Intercom) {\n        window.Intercom('shutdown');\n      }\n    });\n\n    combineLatest([\n      bufferUntilInitialized('intercom', events$),\n      currentAppConfigurationStream().observable,\n    ]).subscribe(([event, tenant]) => {\n      if (!isNilOrError(tenant) && window.Intercom) {\n        const properties = {\n          ...tenantInfo(tenant.data),\n          ...event.properties,\n        };\n        window.Intercom('trackEvent', event.name, properties);\n      }\n    });\n\n    pageChanges$.subscribe((_pageChange) => {\n      if (window.Intercom) {\n        window.Intercom('update', {\n          last_request_at: new Date().getTime() / 1000,\n        });\n      }\n    });\n\n    registerDestination(destinationConfig);\n  },\n};\n\nexport default configuration;\n","import { useState, useEffect, useCallback } from 'react';\nimport { combineLatest } from 'rxjs';\nimport { switchMap, map, distinctUntilChanged } from 'rxjs/operators';\nimport { listAdminPublications } from 'services/adminPublications';\nimport { projectsStream, PublicationStatus } from 'services/projects';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { unionBy, isString } from 'lodash-es';\nimport {\n  IAdminPublicationContent,\n  InputProps,\n  ChildrenOfProps,\n} from './useAdminPublications';\n\nexport default function useAdminPublicationsPrefetchProjects({\n  pageSize = 1000,\n  areaFilter,\n  publicationStatusFilter,\n  rootLevelOnly = false,\n  removeNotAllowedParents = false,\n}: InputProps) {\n  const [all, setAll] = useState<IAdminPublicationContent[] | undefined | null>(\n    undefined\n  );\n  const [list, setList] = useState<\n    IAdminPublicationContent[] | undefined | null\n  >(undefined);\n  const [hasMore, setHasMore] = useState(false);\n  const [loadingInitial, setLoadingInitial] = useState(true);\n  const [loadingMore, setLoadingMore] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [areas, setAreas] = useState<string[] | undefined>(areaFilter);\n  const [publicationStatuses, setPublicationStatuses] = useState<\n    PublicationStatus[]\n  >(publicationStatusFilter);\n\n  const onLoadMore = useCallback(() => {\n    if (hasMore) {\n      setLoadingMore(true);\n      setPageNumber((prevPageNumber) => prevPageNumber + 1);\n    }\n  }, [hasMore]);\n\n  const onChangeAreas = useCallback((areas) => {\n    setAreas(areas);\n    setPageNumber(1);\n  }, []);\n\n  const onChangePublicationStatus = useCallback((publicationStatuses) => {\n    setPublicationStatuses(publicationStatuses);\n    setPageNumber(1);\n  }, []);\n\n  // reset pageNumber on pageSize change\n  useEffect(() => {\n    setPageNumber(1);\n  }, [pageSize]);\n\n  useEffect(() => {\n    const queryParameters = {\n      areas,\n      publication_statuses: publicationStatuses,\n      'page[number]': pageNumber,\n      'page[size]': pageSize,\n      remove_not_allowed_parents: removeNotAllowedParents,\n      depth: rootLevelOnly && 0,\n    };\n\n    const subscription = listAdminPublications({ queryParameters })\n      .observable.pipe(\n        distinctUntilChanged(),\n        switchMap((adminPublications) => {\n          const projectIds = adminPublications.data\n            .filter(\n              (holder) =>\n                holder.relationships.publication.data.type === 'project'\n            )\n            .map((holder) => holder.relationships.publication.data.id);\n\n          return combineLatest(\n            projectsStream({\n              queryParameters: {\n                filter_ids: projectIds,\n              },\n            }).observable\n          ).pipe(\n            map((projects) => ({\n              adminPublications,\n              projects: projects[0].data,\n            }))\n          );\n        })\n      )\n      .subscribe(({ adminPublications }) => {\n        if (isNilOrError(adminPublications)) {\n          setList(null);\n          setHasMore(false);\n        } else {\n          const selfLink = adminPublications?.links?.self;\n          const lastLink = adminPublications?.links?.last;\n\n          const receivedItems = adminPublications.data\n            .map((adminPublication) => {\n              const publicationType =\n                adminPublication.relationships.publication.data.type;\n              const publicationId =\n                adminPublication.relationships.publication.data.id;\n\n              return {\n                publicationId,\n                publicationType,\n                id: adminPublication.id,\n                relationships: adminPublication.relationships,\n                attributes: {\n                  ...adminPublication.attributes,\n                },\n              };\n            })\n            .filter((item) => item) as IAdminPublicationContent[];\n\n          const hasMore = !!(\n            isString(selfLink) &&\n            isString(lastLink) &&\n            selfLink !== lastLink\n          );\n          setHasMore(hasMore);\n          setList((prevList) =>\n            !isNilOrError(prevList) && loadingMore\n              ? unionBy(prevList, receivedItems, 'id')\n              : receivedItems\n          );\n        }\n        setLoadingInitial(false);\n        setLoadingMore(false);\n      });\n\n    return () => subscription.unsubscribe();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [\n    pageNumber,\n    pageSize,\n    areas,\n    publicationStatuses,\n    rootLevelOnly,\n    removeNotAllowedParents,\n  ]);\n\n  useEffect(() => {\n    const queryParameters = {\n      areas,\n      publication_statuses: publicationStatuses,\n    };\n\n    const subscription = listAdminPublications({ queryParameters })\n      .observable.pipe(distinctUntilChanged())\n      .subscribe((adminPublications) => {\n        const receivedItems = adminPublications.data\n          .map((adminPublication) => {\n            const publicationType =\n              adminPublication.relationships.publication.data.type;\n            const publicationId =\n              adminPublication.relationships.publication.data.id;\n\n            return {\n              publicationId,\n              publicationType,\n              id: adminPublication.id,\n              relationships: adminPublication.relationships,\n              attributes: {\n                ...adminPublication.attributes,\n              },\n            };\n          })\n          .filter((item) => item) as IAdminPublicationContent[];\n\n        setAll(receivedItems);\n      });\n\n    return () => subscription.unsubscribe();\n  }, [areas, publicationStatuses]);\n\n  const childrenOf = useCallback(\n    ({ id: publicationId }: ChildrenOfProps) => {\n      if (isNilOrError(all)) {\n        return [];\n      }\n\n      return all.filter(\n        (publication) =>\n          !isNilOrError(publication.relationships.parent.data) &&\n          publication.relationships.parent.data.id === publicationId\n      );\n    },\n    [all]\n  );\n\n  return {\n    list,\n    hasMore,\n    loadingInitial,\n    loadingMore,\n    childrenOf,\n    onLoadMore,\n    onChangeAreas,\n    onChangePublicationStatus,\n  };\n}\n","// Libraries\nimport React from 'react';\nimport { map } from 'lodash-es';\n\n// i18n\nimport { injectIntl } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\nimport localize, { InjectedLocalized } from 'utils/localize';\nimport messages from 'containers/Admin/dashboard/messages';\n\n// services\nimport {\n  IUsersByDomicile,\n  usersByDomicileStream,\n  usersByDomicileXlsxEndpoint,\n} from 'modules/commercial/user_custom_fields/services/stats';\n\n// components\nimport HorizontalBarChart from 'containers/Admin/dashboard/users/charts/HorizontalBarChart';\n\n// utils\nimport { isNilOrError } from 'utils/helperUtils';\n\ninterface Props {\n  startAt: string | null | undefined;\n  endAt: string | null;\n  currentGroupFilter: string | undefined;\n  currentGroupFilterLabel: string | undefined;\n  className?: string;\n}\n\nconst AreaChart = (props: Props & InjectedIntlProps & InjectedLocalized) => {\n  const {\n    intl: { formatMessage },\n    localize,\n  } = props;\n\n  const convertToGraphFormat = (data: IUsersByDomicile) => {\n    if (!isNilOrError(data)) {\n      const { series, areas } = data;\n\n      const res = map(areas, (value, key) => ({\n        value: series.users[key],\n        name: localize(value.title_multiloc),\n        code: key,\n      }));\n\n      if (series.users['_blank']) {\n        res.push({\n          value: series.users['_blank'],\n          name: formatMessage(messages._blank),\n          code: '_blank',\n        });\n      }\n      if (series.users['outside']) {\n        res.push({\n          value: series.users['outside'],\n          name: formatMessage(messages.otherArea),\n          code: 'outside',\n        });\n      }\n\n      return res.length > 0 ? res : null;\n    }\n\n    return null;\n  };\n\n  return (\n    <HorizontalBarChart\n      {...props}\n      graphTitleString={formatMessage(messages.usersByDomicileTitle)}\n      graphUnit=\"users\"\n      stream={usersByDomicileStream}\n      convertToGraphFormat={convertToGraphFormat}\n      className=\"dynamicHeight\"\n      xlsxEndpoint={usersByDomicileXlsxEndpoint}\n    />\n  );\n};\n\nconst WrappedAreaChart = injectIntl<Props>(\n  localize<Props & InjectedIntlProps>(AreaChart)\n);\n\nexport default WrappedAreaChart;\n","export default {\n  clickCreateAccountCTA: 'Landingpage Create An Account CTA button clicked',\n  clickAvatarBubbles: 'Landingpage avatar bubbles clicked',\n  clickSkipButton: 'Landingpage skip button clicked',\n};\n","import 'services/verificationMethods';\n\ndeclare module 'services/verificationMethods' {\n  export interface IVerificationMethodNamesMap {\n    clave_unica: 'clave_unica';\n  }\n}\n","import styled from 'styled-components';\nimport { colors, media, fontSizes } from 'utils/styleUtils';\n\nexport const EventDateBlockWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n`;\n\nexport const EventDateBlockLabel = styled.div`\n  color: ${colors.label};\n  font-size: ${fontSizes.xs}px;\n  line-height: normal;\n  font-weight: 600;\n  text-transform: uppercase;\n  margin-bottom: 4px;\n`;\n\nexport const EventDateBlock = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n`;\n\nexport const EventDate = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: stretch;\n  padding: 6px;\n  border-radius: ${(props: any) => props.theme.borderRadius};\n  border-bottom-left-radius: 0;\n  border-bottom-right-radius: 0;\n  background: #f5f6f7;\n  border: solid 1px #ccc;\n  border-bottom: none;\n  color: ${(props: any) => props.theme.colorText};\n\n  ${media.smallerThanMinTablet`\n    padding: 4px;\n  `}\n`;\n\nexport const EventMonth = styled.div`\n  color: ${(props: any) => props.theme.colorText};\n  font-size: ${fontSizes.small}px;\n  line-height: normal;\n  font-weight: 500;\n  text-transform: uppercase;\n`;\n\nexport const EventDay = styled.div`\n  color: ${(props: any) => props.theme.colorText};\n  font-size: ${fontSizes.medium}px;\n  line-height: normal;\n  font-weight: 400;\n\n  ${media.smallerThanMinTablet`\n    font-size: ${fontSizes.base}px;\n  `}\n`;\n\nexport const EventYear = styled.div`\n  color: #fff;\n  font-size: ${fontSizes.base}px;\n  line-height: normal;\n  font-weight: 400;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 6px;\n  border-radius: ${(props: any) => props.theme.borderRadius};\n  border-top-left-radius: 0;\n  border-top-right-radius: 0;\n  background: ${({ theme }) => theme.colorMain};\n\n  ${media.smallerThanMinTablet`\n    font-size: ${fontSizes.small}px;\n  `}\n`;\n","import React, { useMemo, memo, useCallback, useState } from 'react';\nimport styled from 'styled-components';\n\n// hooks\nimport { useProjectFolders } from '../../../hooks';\nimport useLocalize from 'hooks/useLocalize';\nimport { IUserData } from 'services/users';\n\n// services\nimport { IUpdatedProjectProperties } from 'services/projects';\nimport { userHasRole } from 'services/permissions/roles';\nimport {\n  isProjectFolderModerator,\n  moderatesFolder,\n} from 'modules/commercial/project_folders/permissions/roles';\nimport { onProjectFormStateChange } from 'containers/Admin/projects/edit/general';\n\n// components\nimport { Radio, Select, IconTooltip } from 'cl2-component-library';\nimport { SectionField, SubSectionTitle } from 'components/admin/Section';\nimport Error from 'components/UI/Error';\n\n// utils\nimport { isNilOrError } from 'utils/helperUtils';\n\n// typings\nimport { IOption } from 'typings';\n\n// i18n\nimport { FormattedMessage, injectIntl } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\nimport messages from './messages';\n\nconst StyledSectionField = styled(SectionField)`\n  max-width: 100%;\n  margin-bottom: 40px;\n`;\n\ndeclare module 'services/projects' {\n  export interface IProjectFormState {\n    folder_id?: string;\n  }\n}\n\ninterface Props {\n  onChange: onProjectFormStateChange;\n  projectAttrs: IUpdatedProjectProperties;\n  authUser: IUserData;\n}\n\nconst ProjectFolderSelect = memo<Props & InjectedIntlProps>(\n  ({\n    projectAttrs: { folder_id },\n    onChange,\n    intl: { formatMessage },\n    authUser,\n  }) => {\n    const { projectFolders } = useProjectFolders({});\n    const localize = useLocalize();\n    const userIsProjectFolderModerator = isProjectFolderModerator(authUser);\n    const userIsAdmin = userHasRole({ data: authUser }, 'admin');\n    const userIsProjectFolderModeratorNotAdmin =\n      userIsProjectFolderModerator && !userIsAdmin;\n    const [radioFolderSelect, setRadioFolderSelect] = useState(\n      getInitialRadioFolderSelect(\n        userIsProjectFolderModeratorNotAdmin,\n        folder_id\n      )\n    );\n\n    function getInitialRadioFolderSelect(\n      userIsProjectFolderModeratorNotAdmin: boolean,\n      folder_id?: string\n    ) {\n      if (userIsProjectFolderModeratorNotAdmin) {\n        // folder moderators always need to pick a folder\n        // when they create a project\n        return true;\n      } else if (folder_id) {\n        // when we already have a folder_id for our project,\n        // the project folder select should be turned on\n        // so we can see our selected folder.\n        return true;\n      } else {\n        return false;\n      }\n    }\n    const [folderSelected, setFolderSelected] = useState(false);\n\n    const folderOptions: IOption[] = useMemo(() => {\n      if (!isNilOrError(projectFolders)) {\n        return [\n          {\n            value: '',\n            label: '',\n          },\n          ...projectFolders\n            .filter((folder) => moderatesFolder(authUser, folder.id))\n            .map((folder) => {\n              return {\n                value: folder.id,\n                label: localize(folder.attributes.title_multiloc),\n              };\n            }),\n        ];\n      }\n\n      return [];\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [projectFolders]);\n\n    const handleSelectFolderChange = ({ value: folderId }) => {\n      if (typeof folderId === 'string') {\n        if (folderId === '') {\n          handleFolderIdChange(null, 'disabled');\n        } else {\n          handleFolderIdChange(folderId, 'enabled');\n        }\n      }\n    };\n\n    const handleFolderIdChange = useCallback(\n      (folderId: string | null, submitState: 'enabled' | 'disabled') => {\n        if (folderId === null) {\n          setFolderSelected(false);\n        } else {\n          setFolderSelected(true);\n        }\n\n        onChange({\n          submitState,\n          'projectAttributesDiff.folder_id': folderId,\n        });\n      },\n      [onChange]\n    );\n\n    const onRadioFolderSelectChange = useCallback(\n      (newRadioProjectFolderSelect: boolean) => {\n        if (newRadioProjectFolderSelect === true) {\n          setRadioFolderSelect(true);\n          handleFolderIdChange(null, 'disabled');\n        }\n\n        if (newRadioProjectFolderSelect === false) {\n          setRadioFolderSelect(false);\n          handleFolderIdChange(null, 'enabled');\n        }\n      },\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      [onChange]\n    );\n\n    if (folderOptions.length > 0) {\n      const defaultFolderSelectOptionValue = folderOptions[0].value;\n\n      return (\n        <StyledSectionField>\n          <SubSectionTitle>\n            <FormattedMessage {...messages.projectFolderSelectTitle} />\n            <IconTooltip\n              content={\n                <FormattedMessage\n                  {...(userIsProjectFolderModeratorNotAdmin\n                    ? messages.folderAdminProjectFolderSelectTooltip\n                    : messages.adminProjectFolderSelectTooltip)}\n                />\n              }\n            />\n          </SubSectionTitle>\n          <Radio\n            onChange={onRadioFolderSelectChange}\n            currentValue={radioFolderSelect}\n            value={false}\n            name=\"folderSelect\"\n            id=\"folderSelect-no\"\n            label={<FormattedMessage {...messages.optionNo} />}\n            disabled={userIsProjectFolderModeratorNotAdmin}\n          />\n          <Radio\n            onChange={onRadioFolderSelectChange}\n            currentValue={radioFolderSelect}\n            value={true}\n            name=\"folderSelect\"\n            id=\"folderSelect-yes\"\n            label={<FormattedMessage {...messages.optionYes} />}\n            disabled={userIsProjectFolderModeratorNotAdmin}\n          />\n          {radioFolderSelect && (\n            <Select\n              value={folder_id || defaultFolderSelectOptionValue}\n              options={folderOptions}\n              onChange={handleSelectFolderChange}\n            />\n          )}\n          {radioFolderSelect && !folder_id && !folderSelected && (\n            <Error text={formatMessage(messages.folderSelectError)} />\n          )}\n        </StyledSectionField>\n      );\n    }\n\n    return null;\n  }\n);\n\nexport default injectIntl(ProjectFolderSelect);\n","import styled from 'styled-components';\nimport { colors, fontSizes } from 'utils/styleUtils';\nimport Link from 'utils/cl-router/Link';\n\nconst ProjectsListItem = styled(Link)`\n  color: ${colors.label};\n  font-size: ${fontSizes.base}px;\n  font-weight: 400;\n  line-height: 21px;\n  text-decoration: none;\n  padding: 10px;\n  margin-bottom: 4px;\n  background: transparent;\n  border-radius: ${(props: any) => props.theme.borderRadius};\n\n  &:hover,\n  &:focus {\n    color: #000;\n    background: ${colors.clDropdownHoverBackground};\n    text-decoration: none;\n  }\n`;\n\nexport default ProjectsListItem;\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  title: {\n    id: 'app.components.QuillEditor.title',\n    defaultMessage: 'Title',\n  },\n  subtitle: {\n    id: 'app.components.QuillEditor.subtitle',\n    defaultMessage: 'Subtitle',\n  },\n  normalText: {\n    id: 'app.components.QuillEditor.normalText',\n    defaultMessage: 'Normal',\n  },\n  alignCenter: {\n    id: 'app.components.QuillEditor.alignCenter',\n    defaultMessage: 'Center text',\n  },\n  alignLeft: {\n    id: 'app.components.QuillEditor.alignLeft',\n    defaultMessage: 'Align left',\n  },\n  alignRight: {\n    id: 'app.components.QuillEditor.alignRight',\n    defaultMessage: 'Align right',\n  },\n  orderedList: {\n    id: 'app.components.QuillEditor.orderedList',\n    defaultMessage: 'Ordered list',\n  },\n  unorderedList: {\n    id: 'app.components.QuillEditor.unorderedList',\n    defaultMessage: 'Unordered list',\n  },\n  bold: {\n    id: 'app.components.QuillEditor.bold',\n    defaultMessage: 'Bold',\n  },\n  italic: {\n    id: 'app.components.QuillEditor.italic',\n    defaultMessage: 'Italic',\n  },\n  image: {\n    id: 'app.components.QuillEditor.image',\n    defaultMessage: 'Upload image',\n  },\n  video: {\n    id: 'app.components.QuillEditor.video',\n    defaultMessage: 'Add video',\n  },\n  link: {\n    id: 'app.components.QuillEditor.link',\n    defaultMessage: 'Add link',\n  },\n  linkPrompt: {\n    id: 'app.components.QuillEditor.linkPrompt',\n    defaultMessage: 'Enter link:',\n  },\n  customLinkPrompt: {\n    id: 'app.components.QuillEditor.customLinkPrompt',\n    defaultMessage: 'Enter link:',\n  },\n  videoPrompt: {\n    id: 'app.components.QuillEditor.videoPrompt',\n    defaultMessage: 'Enter video:',\n  },\n  visitPrompt: {\n    id: 'app.components.QuillEditor.visitPrompt',\n    defaultMessage: 'Visit link:',\n  },\n  save: {\n    id: 'app.components.QuillEditor.save',\n    defaultMessage: 'Save',\n  },\n  edit: {\n    id: 'app.components.QuillEditor.edit',\n    defaultMessage: 'Edit',\n  },\n  remove: {\n    id: 'app.components.QuillEditor.remove',\n    defaultMessage: 'Remove',\n  },\n  clean: {\n    id: 'app.components.QuillEditor.clean',\n    defaultMessage: 'Remove formatting',\n  },\n  customLink: {\n    id: 'app.components.QuillEditor.customLink',\n    defaultMessage: 'Add button',\n  },\n});\n","import { useState, useEffect } from 'react';\nimport {\n  projectFolderImagesStream,\n  IProjectFolderImages,\n} from '../services/projectFolderImages';\n\nexport default function useProjectFolderImages(\n  projectFolderId: string | undefined\n) {\n  const [projectFolderImage, setProjectFolderImages] = useState<\n    IProjectFolderImages | undefined | null | Error\n  >(undefined);\n\n  useEffect(() => {\n    const subscription = projectFolderId\n      ? projectFolderImagesStream(projectFolderId).observable.subscribe(\n          (projectFolderImage) => {\n            setProjectFolderImages(projectFolderImage);\n          }\n        )\n      : null;\n\n    return () => subscription?.unsubscribe();\n  }, [projectFolderId]);\n\n  return projectFolderImage;\n}\n","import React, { PureComponent, FormEvent } from 'react';\nimport { Subscription } from 'rxjs';\n\n// Events\nimport eventEmitter from 'utils/eventEmitter';\n\n// Components\nimport Banner from './Banner';\nimport PreferencesDialog, { ContentContainer } from './PreferencesDialog';\nimport Footer from './Footer';\nimport LoadableModal from 'components/Loadable/Modal';\n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from './messages';\n\nimport { CategorizedDestinations, IPreferences } from './';\n\nimport styled from 'styled-components';\n\nexport const ButtonContainer = styled.div`\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n`;\n\ninterface Props {\n  setPreferences: (arg: Record<string, unknown>) => void;\n  resetPreferences: () => void;\n  accept: () => void;\n  saveConsent: () => void;\n  isConsentRequired: boolean;\n  preferences: IPreferences;\n  categorizedDestinations: CategorizedDestinations;\n  onToggleModal: (opened: boolean) => void;\n}\n\ninterface State {\n  isDialogOpen: boolean;\n  isCancelling: boolean;\n}\n\nexport default class Container extends PureComponent<Props, State> {\n  subscriptions: Subscription[] = [];\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isDialogOpen: false,\n      isCancelling: false,\n    };\n  }\n\n  componentDidMount() {\n    this.subscriptions = [\n      eventEmitter\n        .observeEvent('openConsentManager')\n        .subscribe(this.openDialog),\n    ];\n  }\n\n  componentWillUnmount() {\n    this.subscriptions.forEach((subscription) => subscription.unsubscribe());\n  }\n\n  openDialog = () => {\n    this.props.onToggleModal(false);\n    this.setState({\n      isDialogOpen: true,\n    });\n  };\n\n  closeDialog = () => {\n    this.props.onToggleModal(true);\n    this.setState({\n      isDialogOpen: false,\n    });\n  };\n\n  handleCategoryChange = (category: string, value: boolean) => {\n    const { setPreferences } = this.props;\n\n    setPreferences({\n      [category]: value,\n    });\n  };\n\n  validate = () => {\n    let res = true;\n    const { preferences, categorizedDestinations } = this.props;\n    for (const category of Object.keys(categorizedDestinations)) {\n      if (categorizedDestinations[category].length > 0) {\n        res = res && !(preferences[category] === undefined);\n      }\n    }\n    return res;\n  };\n\n  handleSave = (e: FormEvent<any>) => {\n    e.preventDefault();\n\n    if (!this.validate()) {\n      return;\n    }\n\n    const { saveConsent } = this.props;\n\n    this.setState({\n      isDialogOpen: false,\n    });\n    saveConsent();\n  };\n\n  handleCancel = () => {\n    const { resetPreferences, isConsentRequired, preferences } = this.props;\n\n    const isEmpty = Object.values(preferences).every((e) => e === undefined);\n\n    // Only show the cancel confirmation if there's unconsented destinations...\n    // or if the user made a choice and we want to confirm aborting it\n    if (isConsentRequired && !isEmpty) {\n      this.setState({ isCancelling: true });\n    } else {\n      this.setState({ isDialogOpen: false });\n      resetPreferences();\n    }\n  };\n\n  handleCancelBack = () => {\n    this.setState({ isCancelling: false });\n  };\n\n  handleCancelConfirm = () => {\n    const { resetPreferences } = this.props;\n\n    this.setState({\n      isCancelling: false,\n      isDialogOpen: false,\n    });\n    resetPreferences();\n  };\n\n  render() {\n    const {\n      preferences,\n      isConsentRequired,\n      categorizedDestinations,\n      accept,\n    } = this.props;\n    const { isDialogOpen, isCancelling } = this.state;\n    const noDestinations = Object.values(categorizedDestinations).every(\n      (array) => array.length === 0\n    );\n    const mode = noDestinations\n      ? 'noDestinations'\n      : !isCancelling\n      ? 'preferenceForm'\n      : 'cancelling';\n\n    return (\n      <>\n        <LoadableModal\n          opened={isDialogOpen}\n          close={this.closeDialog}\n          header={<FormattedMessage {...messages.title} />}\n          footer={\n            <Footer\n              validate={this.validate}\n              mode={mode}\n              handleCancelBack={this.handleCancelBack}\n              handleCancelConfirm={this.handleCancelConfirm}\n              handleCancel={this.handleCancel}\n              handleSave={this.handleSave}\n            />\n          }\n        >\n          {!isCancelling ? (\n            <PreferencesDialog\n              onChange={this.handleCategoryChange}\n              categoryDestinations={categorizedDestinations}\n              preferences={preferences}\n            />\n          ) : (\n            <ContentContainer role=\"dialog\" aria-modal>\n              <FormattedMessage {...messages.confirmation} tagName=\"h1\" />\n            </ContentContainer>\n          )}\n        </LoadableModal>\n\n        {isConsentRequired && (\n          <Banner onAccept={accept} onChangePreferences={this.openDialog} />\n        )}\n      </>\n    );\n  }\n}\n","/*\n * AdminPage.SettingsPage Messages\n *\n * This contains all the text for the AdminPage.SettingsPage component.\n */\n\nimport { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  answerFormat: {\n    id: 'app.containers.AdminPage.SettingsPage.CustomSignupFields.answerFormat',\n    defaultMessage: 'Answer format',\n  },\n  fieldName: {\n    id: 'app.containers.AdminPage.SettingsPage.CustomSignupFields.fieldName',\n    defaultMessage: 'Field name',\n  },\n  fieldDescription: {\n    id:\n      'app.containers.AdminPage.SettingsPage.CustomSignupFields.fieldDescription',\n    defaultMessage: 'Description',\n  },\n  descriptionTooltip: {\n    id:\n      'app.containers.AdminPage.SettingsPage.CustomSignupFields.descriptionTooltip',\n    defaultMessage:\n      'Optional text shown under the field name on the signup form.',\n  },\n  isFieldRequired: {\n    id:\n      'app.containers.AdminPage.SettingsPage.CustomSignupFields.isFieldRequired',\n    defaultMessage: 'Make answering this field required?',\n  },\n  fieldType_text: {\n    id:\n      'app.containers.AdminPage.SettingsPage.CustomSignupFields.fieldType_text',\n    defaultMessage: 'Short answer',\n  },\n  fieldType_number: {\n    id:\n      'app.containers.AdminPage.SettingsPage.CustomSignupFields.fieldType_number',\n    defaultMessage: 'Numeric value',\n  },\n  fieldType_multiline_text: {\n    id:\n      'app.containers.AdminPage.SettingsPage.CustomSignupFields.fieldType_multiline_text',\n    defaultMessage: 'Long answer',\n  },\n  fieldType_select: {\n    id:\n      'app.containers.AdminPage.SettingsPage.CustomSignupFields.fieldType_select',\n    defaultMessage: 'Multiple choice (select one)',\n  },\n  fieldType_multiselect: {\n    id:\n      'app.containers.AdminPage.SettingsPage.CustomSignupFields.fieldType_multiselect',\n    defaultMessage: 'Multiple choice (select multiple)',\n  },\n  fieldType_checkbox: {\n    id:\n      'app.containers.AdminPage.SettingsPage.CustomSignupFields.fieldType_checkbox',\n    defaultMessage: 'Yes-no (checkbox)',\n  },\n  fieldType_date: {\n    id:\n      'app.containers.AdminPage.SettingsPage.CustomSignupFields.fieldType_date',\n    defaultMessage: 'Date',\n  },\n  deleteButtonLabel: {\n    id:\n      'app.containers.AdminPage.SettingsPage.CustomSignupFields.deleteButtonLabel',\n    defaultMessage: 'Delete',\n  },\n  editButtonLabel: {\n    id:\n      'app.containers.AdminPage.SettingsPage.CustomSignupFields.editButtonLabel',\n    defaultMessage: 'Edit',\n  },\n\n  listTitle: {\n    id: 'app.containers.AdminPage.SettingsPage.CustomSignupFields.listTitle',\n    defaultMessage: 'Custom fields',\n  },\n\n  addANewRegistrationField: {\n    id:\n      'app.containers.AdminPage.SettingsPage.CustomSignupFields.addANewRegistrationField',\n    defaultMessage: 'Add a new registration field',\n  },\n  optionDeleteButton: {\n    id:\n      'app.containers.AdminPage.SettingsPage.CustomSignupFields.optionDeleteButton',\n    defaultMessage: 'Delete',\n  },\n  optionCancelButton: {\n    id:\n      'app.containers.AdminPage.SettingsPage.CustomSignupFields.optionCancelButton',\n    defaultMessage: 'Cancel',\n  },\n  fieldSettingsTab: {\n    id:\n      'app.containers.AdminPage.SettingsPage.CustomSignupFields.fieldSettingsTab',\n    defaultMessage: 'Field settings',\n  },\n  answerOptionsTab: {\n    id:\n      'app.containers.AdminPage.SettingsPage.CustomSignupFields.answerOptionsTab',\n    defaultMessage: 'Answer options',\n  },\n  defaultField: {\n    id: 'app.containers.AdminPage.SettingsPage.CustomSignupFields.defaultField',\n    defaultMessage: 'Default field',\n  },\n  hiddenField: {\n    id: 'app.containers.AdminPage.SettingsPage.CustomSignupFields.hiddenField',\n    defaultMessage: 'Hidden field',\n  },\n  required: {\n    id: 'app.containers.AdminPage.SettingsPage.CustomSignupFields.required',\n    defaultMessage: 'Required',\n  },\n  customFieldOptionDeletionConfirmation: {\n    id:\n      'app.containers.AdminPage.SettingsPage.CustomSignupFields.customFieldOptionDeletionConfirmation',\n    defaultMessage: 'Are you sure you want to delete this custom field option?',\n  },\n  editCustomFieldAnswerOptionFormTitle: {\n    id:\n      'app.containers.AdminPage.SettingsPage.CustomSignupFields.editCustomFieldAnswerOptionFormTitle',\n    defaultMessage: 'Edit answer option',\n  },\n  newCustomFieldAnswerOptionFormTitle: {\n    id:\n      'app.containers.AdminPage.SettingsPage.CustomSignupFields.newCustomFieldAnswerOptionFormTitle',\n    defaultMessage: 'Add answer option',\n  },\n  addOption: {\n    id: 'app.containers.AdminPage.SettingsPage.CustomSignupFields.addOption',\n    defaultMessage: 'Add option',\n  },\n  answerOption: {\n    id: 'app.containers.AdminPage.SettingsPage.CustomSignupFields.answerOption',\n    defaultMessage: 'Answer option',\n  },\n});\n","import React from 'react';\nimport { ModuleConfiguration } from 'utils/moduleUtils';\nimport './services/verificationMethods';\nimport BosaFasButton from './components/BosaFasButton';\n\nconst configuration: ModuleConfiguration = {\n  outlets: {\n    'app.components.VerificationModal.button': (props) => {\n      if (props.method.attributes.name !== 'bosa_fas') return null;\n      return <BosaFasButton {...props} />;\n    },\n  },\n};\n\nexport default configuration;\n","import React from 'react';\n\n// i18n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from './messages';\n\ninterface Props {}\n\nconst EmptyMessageModerationWithFlag = (_props: Props) => {\n  return <FormattedMessage {...messages.noWarningItems} />;\n};\n\nexport default EmptyMessageModerationWithFlag;\n","import React from 'react';\nimport { isString } from 'lodash-es';\nimport { Subscription, BehaviorSubject, of } from 'rxjs';\nimport { distinctUntilChanged, tap, switchMap } from 'rxjs/operators';\nimport shallowCompare from 'utils/shallowCompare';\nimport { IPageData, pageByIdStream, pageBySlugStream } from 'services/pages';\nimport { isNilOrError } from 'utils/helperUtils';\n\ninterface InputProps {\n  id?: string;\n  slug?: string;\n  resetOnChange?: boolean;\n}\n\nexport type GetPageChildProps = IPageData | undefined | null | Error;\n\ntype children = (renderProps: GetPageChildProps) => JSX.Element | null;\n\ninterface Props extends InputProps {\n  children?: children;\n}\n\ninterface State {\n  page: GetPageChildProps;\n}\n\nexport default class GetPage extends React.Component<Props, State> {\n  private inputProps$: BehaviorSubject<InputProps>;\n  private subscriptions: Subscription[];\n\n  static defaultProps = {\n    resetOnChange: true,\n  };\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      page: undefined,\n    };\n  }\n\n  componentDidMount() {\n    const { id, slug, resetOnChange } = this.props;\n\n    this.inputProps$ = new BehaviorSubject({ id, slug, resetOnChange });\n\n    this.subscriptions = [\n      this.inputProps$\n        .pipe(\n          distinctUntilChanged((prev, next) => shallowCompare(prev, next)),\n          tap(() => resetOnChange && this.setState({ page: undefined })),\n          switchMap(({ id, slug }) => {\n            if (isString(id)) {\n              return pageByIdStream(id).observable;\n            } else if (isString(slug)) {\n              return pageBySlugStream(slug).observable;\n            }\n\n            return of(null);\n          })\n        )\n        .subscribe((page) => {\n          this.setState({ page: !isNilOrError(page) ? page.data : page });\n        }),\n    ];\n  }\n\n  componentDidUpdate() {\n    const { id, slug, resetOnChange } = this.props;\n    this.inputProps$.next({ id, slug, resetOnChange });\n  }\n\n  componentWillUnmount() {\n    this.subscriptions.forEach((subscription) => subscription.unsubscribe());\n  }\n\n  render() {\n    const { children } = this.props;\n    const { page } = this.state;\n    return (children as children)(page);\n  }\n}\n","import React, { memo } from 'react';\nimport { IProjectPhaseStartedNotificationData } from 'services/notifications';\n\n// i18n\nimport messages from '../../messages';\nimport { FormattedMessage } from 'utils/cl-intl';\n\n// components\nimport NotificationWrapper from '../NotificationWrapper';\nimport T from 'components/T';\n\ntype Props = {\n  notification: IProjectPhaseStartedNotificationData;\n};\n\nconst ProjectPhaseStartedNotification = memo<Props>((props) => {\n  const { notification } = props;\n\n  return (\n    <NotificationWrapper\n      linkTo={`/projects/${notification.attributes.project_slug}`}\n      timing={notification.attributes.phase_start_at}\n      icon=\"timeline\"\n      isRead={!!notification.attributes.read_at}\n    >\n      <FormattedMessage\n        {...messages.projectPhaseStarted}\n        values={{\n          projectTitle: (\n            <T value={notification.attributes.project_title_multiloc} />\n          ),\n        }}\n      />\n    </NotificationWrapper>\n  );\n});\n\nexport default ProjectPhaseStartedNotification;\n","export default {\n  signUpVerificationStepSkipped: 'Sign up - verification step skipped',\n  signUpVerificationStepFailed: 'Sign up - verification step failed',\n  signUpVerificationStepEntered: 'Sign up - verification step entered',\n  signUpVerificationStepExited: 'Sign up - verification step exited',\n  signUpVerificationStepCompleted: 'Sign up - verification step completed',\n};\n","// libraries\nimport React, { useState } from 'react';\nimport { findDOMNode } from 'react-dom';\nimport { trackEventByName } from 'utils/analytics';\n\n// styling\nimport styled from 'styled-components';\nimport { fontSizes } from 'utils/styleUtils';\n\n// components\nimport Button from 'components/UI/Button';\nimport { Dropdown } from 'cl2-component-library';\nimport { requestBlob } from 'utils/request';\nimport { reportError } from 'utils/loggingUtils';\nimport { saveAs } from 'file-saver';\nimport { InjectedIntlProps } from 'react-intl';\nimport { injectIntl, FormattedMessage } from 'utils/cl-intl';\nimport messages from './messages';\nimport { IResolution } from 'components/admin/ResolutionControl';\n\nconst DropdownButton = styled(Button)``;\n\nconst Container = styled.div`\n  display: flex;\n  align-items: end;\n  position: relative;\n  cursor: pointer;\n`;\n\ninterface ReportExportMenuProps {\n  className?: string;\n  name: string;\n  svgNode?: React.RefObject<any>;\n  xlsxEndpoint?: string;\n  startAt?: string | null | undefined;\n  endAt?: string | null;\n  resolution?: IResolution;\n  currentProjectFilter?: string | undefined;\n  currentGroupFilter?: string | undefined;\n  currentTopicFilter?: string | undefined;\n  currentProjectFilterLabel?: string | undefined;\n  currentGroupFilterLabel?: string | undefined;\n  currentTopicFilterLabel?: string | undefined;\n}\n\nconst ReportExportMenu: React.SFC<\n  ReportExportMenuProps & InjectedIntlProps\n> = ({\n  svgNode,\n  className,\n  xlsxEndpoint,\n  name,\n  startAt,\n  endAt,\n  resolution,\n  currentGroupFilter,\n  currentTopicFilter,\n  currentProjectFilter,\n  currentGroupFilterLabel,\n  currentTopicFilterLabel,\n  currentProjectFilterLabel,\n  intl: { formatMessage, formatDate },\n}) => {\n  const [dropdownOpened, setDropdownOpened] = useState(false);\n  const [exportingXls, setExportingXls] = useState(false);\n\n  const readableDate = (date: string) => {\n    return formatDate(date, {\n      day: resolution === 'month' ? undefined : '2-digit',\n      month: 'long',\n      year: 'numeric',\n    });\n  };\n\n  const fileName = `${name}${\n    startAt\n      ? `_${formatMessage(messages.fromFilter)}-${readableDate(startAt)}`\n      : ''\n  }${\n    endAt\n      ? `_${formatMessage(messages.untilFilter)}-${readableDate(endAt)}`\n      : ''\n  }${\n    currentProjectFilterLabel\n      ? `_${formatMessage(messages.projectFilter)}-${currentProjectFilterLabel}`\n      : ''\n  }${\n    currentGroupFilterLabel\n      ? `_${formatMessage(messages.groupFilter)}-${currentGroupFilterLabel}`\n      : ''\n  }${\n    currentTopicFilterLabel\n      ? `_${formatMessage(messages.topicFilter)}-${currentTopicFilterLabel}`\n      : ''\n  }`;\n\n  const handleDownloadSvg = () => {\n    // eslint-disable-next-line react/no-find-dom-node\n    const node = findDOMNode(svgNode && svgNode.current.container.children[0]);\n    if (node) {\n      const svgContent = new XMLSerializer().serializeToString(node);\n      const svgBlob = new Blob([svgContent], {\n        type: 'image/svg+xml;charset=utf-8',\n      });\n      setDropdownOpened(false);\n      saveAs(svgBlob, `${fileName}.svg`);\n    }\n\n    trackEventByName('Clicked export svg', { extra: { graph: name } });\n  };\n\n  const toggleDropdown = (value?: boolean) => () => {\n    setDropdownOpened(value || !dropdownOpened);\n  };\n\n  const downloadXlsx = async () => {\n    try {\n      setExportingXls(true);\n      const blob = await requestBlob(\n        xlsxEndpoint,\n        'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n        {\n          start_at: startAt,\n          end_at: endAt,\n          interval: resolution,\n          project: currentProjectFilter,\n          group: currentGroupFilter,\n          topic: currentTopicFilter,\n        }\n      );\n      if (blob.size <= 2467) {\n        throw new Error(`Empty xlsx : ${xlsxEndpoint}`);\n      }\n      saveAs(blob, `${fileName}.xlsx`);\n      setExportingXls(false);\n      setDropdownOpened(false);\n    } catch (error) {\n      reportError(error);\n      setExportingXls(false);\n    }\n\n    // track this click for user analytics\n    trackEventByName('Clicked export xlsx', { extra: { graph: name } });\n  };\n\n  return (\n    <Container className={className}>\n      <DropdownButton\n        buttonStyle=\"admin-dark-text\"\n        onClick={toggleDropdown()}\n        icon=\"download\"\n        iconPos=\"right\"\n        padding=\"10px\"\n      />\n      <Dropdown\n        width=\"100%\"\n        top=\"35px\"\n        right=\"-5px\"\n        mobileRight=\"-5px\"\n        opened={dropdownOpened}\n        onClickOutside={toggleDropdown(false)}\n        content={\n          <>\n            {svgNode && (\n              <Button\n                onClick={handleDownloadSvg}\n                buttonStyle=\"text\"\n                padding=\"0\"\n                fontSize={`${fontSizes.small}px`}\n              >\n                <FormattedMessage {...messages.downloadAsImage} />\n              </Button>\n            )}\n            {xlsxEndpoint && (\n              <Button\n                onClick={downloadXlsx}\n                buttonStyle=\"text\"\n                processing={exportingXls}\n                padding=\"0\"\n                fontSize={`${fontSizes.small}px`}\n              >\n                <FormattedMessage {...messages.downloadXlsx} />\n              </Button>\n            )}\n          </>\n        }\n      />\n    </Container>\n  );\n};\n\nexport default injectIntl(ReportExportMenu);\n","import { definePermissionRule } from 'services/permissions/permissions';\nimport { isAdmin, isProjectModerator } from '../roles';\nimport { IIdeaData } from 'services/ideas';\nimport { IUser } from 'services/users';\n\nconst isAuthor = (idea: IIdeaData, user?: IUser) => {\n  return (\n    user &&\n    idea.relationships.author.data &&\n    idea.relationships.author.data.id === user.data.id\n  );\n};\n\nconst isIdeaProjectModerator = (idea: IIdeaData, user?: IUser) => {\n  return user && isProjectModerator(user, idea.relationships.project.data.id);\n};\n\ndefinePermissionRule(\n  'idea',\n  'create',\n  (_idea: IIdeaData, user: IUser, _tenant, { project = null }) => {\n    if (project) {\n      return (\n        project.attributes.action_descriptor.posting_idea.enabled ||\n        isAdmin(user)\n      );\n    }\n\n    return true;\n  }\n);\n\ndefinePermissionRule('idea', 'edit', (idea: IIdeaData, user: IUser) => {\n  return !!(\n    isAuthor(idea, user) ||\n    isAdmin(user) ||\n    isIdeaProjectModerator(idea, user)\n  );\n});\n\ndefinePermissionRule('idea', 'markAsSpam', () => {\n  return true;\n});\n\ndefinePermissionRule(\n  'idea',\n  'assignBudget',\n  (idea: IIdeaData | null, user: IUser, _tenant, { projectId }) => {\n    return !!isAdmin(user) || (!!idea && !!isProjectModerator(user, projectId));\n  }\n);\n","import { FC, useEffect } from 'react';\nimport { InjectedIntlProps } from 'react-intl';\nimport { InsertConfigurationOptions, ITab } from 'typings';\nimport { injectIntl } from 'utils/cl-intl';\nimport messages from './messages';\n\ntype Props = {\n  onData: (data: InsertConfigurationOptions<ITab>) => void;\n};\n\nconst Tab: FC<Props & InjectedIntlProps> = ({\n  onData,\n  intl: { formatMessage },\n}) => {\n  useEffect(() => {\n    const tabName = 'map';\n    onData({\n      configuration: {\n        label: formatMessage(messages.mapTab),\n        name: tabName,\n        url: 'map',\n        feature: 'custom_maps',\n      },\n      insertBeforeName: 'phases',\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return null;\n};\n\nexport default injectIntl(Tab);\n","import React, { FC, useEffect } from 'react';\nimport { get } from 'lodash-es';\n\nimport AssigneeSelect from 'components/admin/PostManager/components/PostTable/AssigneeSelect';\nimport { IIdeaData, updateIdea } from 'services/ideas';\nimport {\n  InsertConfigurationOptions,\n  CellConfiguration,\n  Override,\n} from 'typings';\nimport { trackEventByName } from 'utils/analytics';\nimport tracks from 'components/admin/PostManager/tracks';\n\nimport { IdeaCellComponentProps } from 'components/admin/PostManager/components/PostTable/IdeaRow';\n\ntype Props = {\n  onData: (\n    data: InsertConfigurationOptions<CellConfiguration<IdeaCellComponentProps>>\n  ) => void;\n};\n\nconst IdeaRowCell: FC<Props> = ({ onData }) => {\n  useEffect(\n    () =>\n      onData({\n        configuration: {\n          name: 'assignee',\n          cellProps: {\n            onClick: (event: Event) => {\n              event.preventDefault();\n              event.stopPropagation();\n            },\n            singleLine: true,\n          },\n          onChange: (idea: IIdeaData) => (assigneeId: string | undefined) => {\n            const ideaId = idea.id;\n\n            updateIdea(ideaId, { assignee_id: assigneeId || null });\n\n            trackEventByName(tracks.changeIdeaAssignment, {\n              location: 'Idea Manager',\n              method: 'Changed through the dropdown n the table overview',\n              idea: ideaId,\n            });\n          },\n          Component: ({\n            idea,\n            onChange,\n          }: Override<\n            IdeaCellComponentProps,\n            {\n              onChange: (idea: IIdeaData) => (assigneeId?: string) => void;\n            }\n          >) => {\n            return (\n              <AssigneeSelect\n                onAssigneeChange={onChange(idea)}\n                projectId={get(idea, 'relationships.project.data.id')}\n                assigneeId={get(idea, 'relationships.assignee.data.id')}\n              />\n            );\n          },\n        },\n        insertAfterName: 'title',\n      }),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  );\n  return null;\n};\n\nexport default IdeaRowCell;\n","import React, { PureComponent } from 'react';\nimport styled from 'styled-components';\nimport { isNilOrError } from 'utils/helperUtils';\n\nimport localize, { InjectedLocalized } from 'utils/localize';\nimport GetGroups, { GetGroupsChildProps } from 'resources/GetGroups';\n\nimport MultipleSelect from 'components/UI/MultipleSelect';\nimport { Radio } from 'cl2-component-library';\n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from './messages';\nimport permissionsMessages from 'containers/Admin/projects/edit/permissions/messages';\nimport { IPermissionData } from 'services/actionPermissions';\n\nconst StyledFieldset = styled.fieldset`\n  border: none;\n  padding: 0;\n`;\n\nconst StyledMultipleSelect = styled(MultipleSelect)`\n  width: 300px;\n`;\n\ninterface InputProps {\n  permissionData: IPermissionData;\n  groupIds?: string[];\n  onChange: (\n    permittedBy: IPermissionData['attributes']['permitted_by'],\n    groupIds: Props['groupIds']\n  ) => void;\n}\n\ninterface DataProps {\n  groups: GetGroupsChildProps;\n}\n\nexport interface Props extends InputProps, DataProps, InjectedLocalized {}\n\nclass ActionForm extends PureComponent<Props> {\n  groupsOptions = () => {\n    const {\n      groups: { groupsList },\n    } = this.props;\n    if (isNilOrError(groupsList)) {\n      return [];\n    } else {\n      return groupsList.map((group) => ({\n        label: this.props.localize(group.attributes.title_multiloc),\n        value: group.id,\n      }));\n    }\n  };\n\n  handlePermittedByUpdate = (\n    value: IPermissionData['attributes']['permitted_by']\n  ) => () => {\n    const { groupIds, onChange } = this.props;\n    onChange(value, groupIds);\n  };\n\n  handleGroupIdsUpdate = (options: { value: string }[]) => {\n    const { permissionData, onChange } = this.props;\n    onChange(\n      permissionData.attributes.permitted_by,\n      options.map((o) => o.value)\n    );\n  };\n\n  render() {\n    const { permissionData, groupIds } = this.props;\n    const groupsOptions = this.groupsOptions();\n\n    const {\n      id: permissionId,\n      attributes: { permitted_by: permittedBy, action },\n    } = permissionData;\n    return (\n      <form>\n        <StyledFieldset>\n          {action === 'taking_survey' && (\n            <Radio\n              name={`permittedBy-${permissionId}`}\n              value=\"everyone\"\n              currentValue={permittedBy}\n              label={\n                <FormattedMessage\n                  {...permissionsMessages.permissionsEveryoneLabel}\n                />\n              }\n              onChange={this.handlePermittedByUpdate('everyone')}\n              id={`participation-permission-everyone-${permissionId}`}\n            />\n          )}\n          <Radio\n            name={`permittedBy-${permissionId}`}\n            value=\"users\"\n            currentValue={permittedBy}\n            label={<FormattedMessage {...messages.permissionsUsersLabel} />}\n            onChange={this.handlePermittedByUpdate('users')}\n            id={`participation-permission-users-${permissionId}`}\n          />\n          <Radio\n            name={`permittedBy-${permissionId}`}\n            value=\"admins_moderators\"\n            currentValue={permittedBy}\n            label={\n              <FormattedMessage\n                {...permissionsMessages.permissionsAdministrators}\n              />\n            }\n            onChange={this.handlePermittedByUpdate('admins_moderators')}\n            id={`participation-permission-admins-${permissionId}`}\n          />\n          <Radio\n            name={`permittedBy-${permissionId}`}\n            value=\"groups\"\n            currentValue={permittedBy}\n            label={\n              <FormattedMessage\n                {...permissionsMessages.permissionsSelectionLabel}\n              />\n            }\n            onChange={this.handlePermittedByUpdate('groups')}\n            id={`participation-permission-certain-groups-${permissionId}`}\n          />\n          {permittedBy === 'groups' && (\n            <StyledMultipleSelect\n              value={groupIds || []}\n              options={groupsOptions}\n              onChange={this.handleGroupIdsUpdate}\n              placeholder={<FormattedMessage {...messages.selectGroups} />}\n            />\n          )}\n        </StyledFieldset>\n      </form>\n    );\n  }\n}\n\nconst ActionPermissionFormWithHOCs = localize<InputProps & DataProps>(\n  ActionForm\n);\n\nexport default (inputProps: InputProps) => (\n  <GetGroups>\n    {(groups) => (\n      <ActionPermissionFormWithHOCs {...inputProps} groups={groups} />\n    )}\n  </GetGroups>\n);\n","import { IInappropriateContentFlagData } from './services/inappropriateContentFlags';\n\nexport function isFlagActive(flag: IInappropriateContentFlagData) {\n  return flag.attributes.reason_code !== null;\n}\n\nexport function getFlagType(flag: IInappropriateContentFlagData) {\n  // A flag could be both user and NLP flagged at the same time\n  // Reporting NLP flagging has precedence.\n\n  // If the reason_code is null, the flag has been removed\n  if (flag.attributes.reason_code !== null) {\n    // If flag has toxicity_label, we know for sure it's NLP flagged\n    if (flag.attributes.toxicity_label) {\n      return 'nlp_flagged';\n    } else {\n      // If toxicity_label is null, yet we have a flag with a reason_code that is not null,\n      // we know it's user reported\n      return 'user_flagged';\n    }\n  }\n\n  return null;\n}\n","import React from 'react';\n\nimport { Formik, FormikErrors } from 'formik';\nimport RulesGroupForm, { RulesFormValues } from './RulesGroupForm';\nimport { isEmpty, values as getValues, every } from 'lodash-es';\nimport { IGroupDataAttributes } from 'services/groups';\nimport { FormikSubmitHandler } from 'typings';\nimport { NormalFormValues } from 'containers/Admin/users/NormalGroupForm';\n\ninterface Props {\n  onSubmit: FormikSubmitHandler<NormalFormValues>;\n  isVerificationEnabled: boolean;\n  initialValues: IGroupDataAttributes;\n}\n\nconst renderRulesGroupForm = (props) => <RulesGroupForm {...props} />;\n\nconst RulesGroupFormWithValidation = ({\n  onSubmit,\n  isVerificationEnabled,\n  initialValues = {\n    title_multiloc: {},\n    rules: [{}],\n    membership_type: 'rules',\n    memberships_count: 0,\n  },\n}: Props) => {\n  const validate = (values: RulesFormValues) => {\n    const errors: FormikErrors<RulesFormValues> = {};\n\n    if (every(getValues(values.title_multiloc), isEmpty)) {\n      errors.title_multiloc = [{ error: 'blank' }] as any;\n    }\n\n    if (\n      !isVerificationEnabled &&\n      values.rules.find((rule) => rule.ruleType === 'verified')\n    ) {\n      errors.rules = 'verificationDisabled' as any;\n    }\n\n    return errors;\n  };\n\n  return (\n    <Formik\n      initialValues={initialValues}\n      validate={validate}\n      render={renderRulesGroupForm}\n      onSubmit={onSubmit}\n    />\n  );\n};\n\nexport default RulesGroupFormWithValidation;\n","import React from 'react';\nimport { ModuleConfiguration } from 'utils/moduleUtils';\nimport './services/verificationMethods';\nimport ClaveUnicaButton from './components/ClaveUnicaButton';\n\nconst configuration: ModuleConfiguration = {\n  outlets: {\n    'app.components.VerificationModal.button': (props) => {\n      if (props.method.attributes.name !== 'clave_unica') return null;\n      return <ClaveUnicaButton {...props} />;\n    },\n  },\n};\n\nexport default configuration;\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  helmetTitle: {\n    id: 'app.containers.AdminPage.ProjectDashboard.helmetTitle',\n    defaultMessage: 'Admin - Projects dashboard',\n  },\n  helmetDescription: {\n    id: 'app.containers.AdminPage.ProjectDashboard.helmetDescription',\n    defaultMessage: 'List of projects on the platform',\n  },\n  xGroupsHaveAccess: {\n    id: 'app.containers.AdminPage.ProjectEdit.xGroupsHaveAccess',\n    defaultMessage:\n      '{groupCount, plural, no {# groups can view} one {# group can view} other {# groups can view}}',\n  },\n  onlyAdminsCanView: {\n    id: 'app.containers.AdminPage.ProjectEdit.onlyAdminsCanView',\n    defaultMessage: 'Only admins can view',\n  },\n  editButtonLabel: {\n    id: 'app.containers.AdminPage.ProjectEdit.editButtonLabel',\n    defaultMessage: 'Edit',\n  },\n});\n","import { isNilOrError } from 'utils/helperUtils';\nimport {\n  getProjectInputTerm,\n  IProjectData,\n  ProcessType,\n} from 'services/projects';\nimport { getPhaseInputTerm, IPhaseData } from 'services/phases';\n\nexport type SurveyServices =\n  | 'typeform'\n  | 'survey_monkey'\n  | 'google_forms'\n  | 'enalyzer'\n  | 'qualtrics'\n  | 'microsoft_forms';\n\nexport type ParticipationMethod =\n  | 'ideation'\n  | 'information'\n  | 'survey'\n  | 'budgeting'\n  | 'poll'\n  | 'volunteering';\n\nexport type IdeaDefaultSortMethod =\n  | 'trending'\n  | 'random'\n  | 'popular'\n  | 'new'\n  | '-new'\n  | null;\n\nexport const INPUT_TERMS = [\n  'idea',\n  'option',\n  'project',\n  'question',\n  'issue',\n  'contribution',\n];\nexport type InputTerm =\n  | 'idea'\n  | 'option'\n  | 'project'\n  | 'question'\n  | 'issue'\n  | 'contribution';\n\nexport function getInputTerm(\n  processType: ProcessType,\n  project: IProjectData | undefined | null | Error,\n  phases: IPhaseData[] | undefined | null | Error\n) {\n  return {\n    // To make sure copy depending on an input_term doesn't break,\n    // we have a fallback to idea here.\n    continuous: !isNilOrError(project) ? getProjectInputTerm(project) : 'idea',\n    // (2020/12/9): When a new timeline project is created, phases will initially\n    // be []. To make sure we don't break copy that depends on an input_term,\n    // we have the fallback to idea here in that case.\n    timeline:\n      !isNilOrError(phases) && phases.length > 0\n        ? getPhaseInputTerm(phases)\n        : 'idea',\n  }[processType];\n}\n\nexport const ideaDefaultSortMethodFallback = 'trending';\n","export default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTkiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA5OSA4MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KPHRpdGxlPlBhZ2UgMTwvdGl0bGU+CjxkZXNjPkNyZWF0ZWQgdXNpbmcgRmlnbWE8L2Rlc2M+CjxnIGlkPSJDYW52YXMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzOTExIC0yMzg0KSI+CjxnIGlkPSJQYWdlIDEiPgo8ZyBpZD0iRmlsbCAxIj4KPHVzZSB4bGluazpocmVmPSIjcGF0aDBfZmlsbCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEzOTExIDIzODQpIiBmaWxsPSIjQTZBNkE2Ii8+CjwvZz4KPGcgaWQ9IkZpbGwgMyI+Cjx1c2UgeGxpbms6aHJlZj0iI3BhdGgxX2ZpbGwiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzgyMi44IDI0MjguMDgpIiBmaWxsPSIjQTZBNkE2Ii8+CjwvZz4KPGcgaWQ9IkZpbGwgNCI+Cjx1c2UgeGxpbms6aHJlZj0iI3BhdGgxX2ZpbGwiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzgyOCAyNDI4LjA4KSIgZmlsbD0iI0E2QTZBNiIvPgo8L2c+CjxnIGlkPSJGaWxsIDUiPgo8dXNlIHhsaW5rOmhyZWY9IiNwYXRoMV9maWxsIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTM4MzguNSAyNDI4LjA4KSIgZmlsbD0iI0E2QTZBNiIvPgo8L2c+CjxnIGlkPSJGaWxsIDYiPgo8dXNlIHhsaW5rOmhyZWY9IiNwYXRoMV9maWxsIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTM4MzMuMyAyNDI4LjA4KSIgZmlsbD0iI0E2QTZBNiIvPgo8L2c+CjxnIGlkPSJGaWxsIDciPgo8dXNlIHhsaW5rOmhyZWY9IiNwYXRoMV9maWxsIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTM4OTkgMjQyOC4wOCkiIGZpbGw9IiNBNkE2QTYiLz4KPC9nPgo8ZyBpZD0iRmlsbCA4Ij4KPHVzZSB4bGluazpocmVmPSIjcGF0aDFfZmlsbCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEzODkzLjggMjQyOC4wOCkiIGZpbGw9IiNBNkE2QTYiLz4KPC9nPgo8ZyBpZD0iRmlsbCA5Ij4KPHVzZSB4bGluazpocmVmPSIjcGF0aDFfZmlsbCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEzODg4LjUgMjQyOC4wOCkiIGZpbGw9IiNBNkE2QTYiLz4KPC9nPgo8ZyBpZD0iRmlsbCAxMCI+Cjx1c2UgeGxpbms6aHJlZj0iI3BhdGgxX2ZpbGwiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzkwNC4yIDI0MjguMDgpIiBmaWxsPSIjQTZBNkE2Ii8+CjwvZz4KPGcgaWQ9IlN0cm9rZSAxMSI+Cjx1c2UgeGxpbms6aHJlZj0iI3BhdGgyX3N0cm9rZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEzODczIDI0MDQuNjkpIiBmaWxsPSIjQTZBNkE2Ii8+CjwvZz4KPGcgaWQ9IlN0cm9rZSAxMiI+Cjx1c2UgeGxpbms6aHJlZj0iI3BhdGgzX3N0cm9rZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEzODgwLjMgMjM5NC43NykiIGZpbGw9IiNBNkE2QTYiLz4KPC9nPgo8ZyBpZD0iU3Ryb2tlIDEzIj4KPHVzZSB4bGluazpocmVmPSIjcGF0aDNfc3Ryb2tlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTM4NDkuNCAyMzk1Ljc3KSIgZmlsbD0iI0E2QTZBNiIvPgo8L2c+CjwvZz4KPC9nPgo8ZGVmcz4KPHBhdGggaWQ9InBhdGgwX2ZpbGwiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTSAyLjI1IDc3LjEzMjJMIDk2IDc3LjEzMjJMIDk2IDcyLjMwMkwgMi4yNSA3Mi4zMDJMIDIuMjUgNzcuMTMyMlpNIDI5Ljg1IDM3LjU4NUMgMzAuNDUgNDcuNjk4MiAzOC44NSA1NS44NDkxIDQ5LjA1IDU1Ljg0OTFDIDU5LjI1IDU1Ljg0OTEgNjcuNjUgNDcuNjk4MiA2OC4yNSAzNy41ODVMIDk1Ljg1IDM3LjU4NUwgOTUuODUgNzAuMDM3OEwgMi4yNSA3MC4wMzc4TCAyLjI1IDM3LjU4NUwgMjkuODUgMzcuNTg1Wk0gMTguMjk5OCAyLjA4NzQzQyAxOS4zNDk4IDIuMDg3NDMgNzkuOTQ5OCAxLjcxNDYgNzkuOTQ5OCAxLjcxNDZMIDgwLjQ4NjggMzUuMzIwNkwgODIuMTk5OCAzNS4zMjA2TCA2Ni4xNDk4IDM1LjMyMDZMIDY2LjE0OTggMzYuNTI4MkMgNjYuMTQ5OCA0Ni4wMzc2IDU4LjQ5OTggNTMuNTg0OCA0OS4xOTk4IDUzLjU4NDhDIDM5Ljc0OTggNTMuNTg0OCAzMi4yNDk4IDQ1Ljg4NjcgMzIuMjQ5OCAzNi41MjgyTCAzMi4yNDk4IDM1LjMyMDZMIDE4LjM3NDggMzUuMzIwNkwgMTguMjk5OCAyLjA4NzQzWk0gODIuMiAzNS4zMjA4TCA4Mi4yIDBMIDE1LjkgMEwgMTUuOSAzNS4xNjk4TCAwIDM1LjE2OThMIDAgNzkuMjQ1M0wgOTguMjUgNzkuMjQ1M0wgOTguMjUgMzUuMzIwOEwgODIuMiAzNS4zMjA4WiIvPgo8cGF0aCBpZD0icGF0aDFfZmlsbCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNIDAgMi4yNjQxNUwgMi4yNSAyLjI2NDE1TCAyLjI1IDBMIDAgMEwgMCAyLjI2NDE1WiIvPgo8cGF0aCBpZD0icGF0aDJfc3Ryb2tlIiBkPSJNIC0xIDEwLjIxODlDIC0xIDEwLjc3MTIgLTAuNTUyMjg1IDExLjIxODkgMCAxMS4yMTg5QyAwLjU1MjI4NSAxMS4yMTg5IDEgMTAuNzcxMiAxIDEwLjIxODlMIC0xIDEwLjIxODlaTSAyMS4xOTI1IDEwLjIxODlDIDIxLjE5MjUgMTAuNzcxMiAyMS42NDAyIDExLjIxODkgMjIuMTkyNSAxMS4yMTg5QyAyMi43NDQ4IDExLjIxODkgMjMuMTkyNSAxMC43NzEyIDIzLjE5MjUgMTAuMjE4OUwgMjEuMTkyNSAxMC4yMTg5Wk0gMSAxMC4yMTg5QyAxIDUuMjAzMyA1LjQ0MTE4IDEgMTEuMDk1NSAxTCAxMS4wOTU1IC0xQyA0LjQ5NDgyIC0xIC0xIDMuOTQ2ODkgLTEgMTAuMjE4OUwgMSAxMC4yMTg5Wk0gMTEuMDk1NSAxQyAxNi43NTE0IDEgMjEuMTkyNSA1LjIwMzM4IDIxLjE5MjUgMTAuMjE4OUwgMjMuMTkyNSAxMC4yMTg5QyAyMy4xOTI1IDMuOTQ2ODEgMTcuNjk3NiAtMSAxMS4wOTU1IC0xTCAxMS4wOTU1IDFaIi8+CjxwYXRoIGlkPSJwYXRoM19zdHJva2UiIGQ9Ik0gMC40ODcyODQgLTAuODczMjQ0QyAwLjAwNTAwNDk2IC0xLjE0MjM2IC0wLjYwNDEyNCAtMC45Njk1NjMgLTAuODczMjQ0IC0wLjQ4NzI4NEMgLTEuMTQyMzYgLTAuMDA1MDA0OTYgLTAuOTY5NTYzIDAuNjA0MTI0IC0wLjQ4NzI4NCAwLjg3MzI0NEwgMC40ODcyODQgLTAuODczMjQ0Wk0gNy44NTQ0NSAwLjgxODE4N0MgOC4zMDYzMiAwLjUwMDY0OSA4LjQxNTIyIC0wLjEyMzA4MSA4LjA5NzY5IC0wLjU3NDk1M0MgNy43ODAxNSAtMS4wMjY4MiA3LjE1NjQyIC0xLjEzNTcyIDYuNzA0NTUgLTAuODE4MTg3TCA3Ljg1NDQ1IDAuODE4MTg3Wk0gMCAwQyAtMC40ODcyODQgMC44NzMyNDQgLTAuNDg2OTQyIDAuODczNDM0IC0wLjQ4NjU4NSAwLjg3MzYzM0MgLTAuNDg2NDQ2IDAuODczNzExIC0wLjQ4NjA3MiAwLjg3MzkxOSAtMC40ODU3OTIgMC44NzQwNzVDIC0wLjQ4NTQ0OSAwLjg3NDI2NSAtMC40ODQ2MDYgMC44NzQ3MzMgLTAuNDgzOTIgMC44NzUxMTNDIC0wLjQ4Mjk4NiAwLjg3NTYzMSAtMC40ODA5MTcgMC44NzY3NzQgLTAuNDc5MDQ3IDAuODc3ODA0QyAtMC40NzYxODYgMC44NzkzNzcgLTAuNDcwNTMzIDAuODgyNDcgLTAuNDY0ODIyIDAuODg1NTY4QyAtMC40NTUxODkgMC44OTA3ODcgLTAuNDM3OTE2IDAuOTAwMDQ4IC0wLjQxODgzMSAwLjkxMDA4OEMgLTAuMzg0MzQ1IDAuOTI4MTk5IC0wLjMyNjc0MSAwLjk1Nzc3NCAtMC4yNTk2MjcgMC45OTA3MzNDIC0wLjEzMzE5OCAxLjA1MjY3IDAuMDY3OTk0NSAxLjE0NjA1IDAuMzA0NDUgMS4yNDM0M0MgMC43NjAxNjEgMS40MzAxOSAxLjQ1OTU1IDEuNjcyMjQgMi4yMzU2NSAxLjgyOTY5QyAzLjc5NTA0IDIuMTQxMTIgNS45MzI1NiAyLjE2ODczIDcuODU0NDUgMC44MTgxODdMIDYuNzA0NTUgLTAuODE4MTg3QyA1LjQwNDQ0IDAuMDk1NDIwNyAzLjkwMjIxIDAuMTIzMDMgMi42MjczNSAtMC4xMzE1NzhDIDEuOTg2MzMgLTAuMjU3MTQyIDEuNDY5OTYgLTAuNDM5NjIxIDEuMDY0MjEgLTAuNjA2NjRDIDAuODY5OTI3IC0wLjY4NjE0IDAuNzI4OTU2IC0wLjc1MTk2MSAwLjYyMDkwNCAtMC44MDUwMDJDIDAuNTcwNzc5IC0wLjgyOTUzMSAwLjUzODA2MyAtMC44NDYzODkgMC41MTE1MzkgLTAuODYwMzM5QyAwLjUwMDEyIC0wLjg2NjMyOSAwLjQ5NDIxNSAtMC44Njk1MDYgMC40ODgyOTcgLTAuODcyNzE2QyAwLjQ4NjIzMyAtMC44NzM4MzMgMC40ODYwMTggLTAuODczOTUzIDAuNDg0OTUzIC0wLjg3NDUzOUMgMC40ODQ4NjEgLTAuODc0NTg5IDAuNDg1MzUgLTAuODc0MzE5IDAuNDg1NDAyIC0wLjg3NDI5MUMgMC40ODUyMDkgLTAuODc0Mzk4IDAuNDg2MjU4IC0wLjg3MzgxNSAwLjQ4NjE2MyAtMC44NzM4NjhDIDAuNDg2MzE5IC0wLjg3Mzc4MSAwLjQ4NjYgLTAuODczNjI1IDAuNDg2Njc4IC0wLjg3MzU4MUMgMC40ODY5NzMgLTAuODczNDE3IDAuNDg3Mjg0IC0wLjg3MzI0NCAwIDBaIi8+CjwvZGVmcz4KPC9zdmc+Cg==\"","import React from 'react';\nimport { isEmpty, omit } from 'lodash-es';\nimport SubmitWrapper from 'components/admin/SubmitWrapper';\nimport messages from './messages';\nimport {\n  ButtonStyles,\n  Props as OriginalButtonProps,\n} from 'components/UI/Button';\nimport { Omit } from 'typings';\n\ninterface Props\n  extends Omit<\n    OriginalButtonProps,\n    'className' | 'text' | 'disabled' | 'setSubmitButtonRef' | 'processing'\n  > {\n  isValid: boolean;\n  isSubmitting: boolean;\n  status: any;\n  touched: any;\n  messages?: {\n    buttonSave: { id: string; defaultMessage?: string };\n    buttonError: { id: string; defaultMessage?: string };\n    buttonSuccess: { id: string; defaultMessage?: string };\n    messageSuccess: { id: string; defaultMessage?: string };\n    messageError: { id: string; defaultMessage?: string };\n  };\n  buttonStyle?: ButtonStyles;\n  animate?: boolean;\n}\n\ninterface State {}\n\nclass FormikSubmitWrapper extends React.PureComponent<Props, State> {\n  getStatus = () => {\n    const { isValid, status, touched } = this.props;\n\n    if (isEmpty(touched) && status === 'success') {\n      return 'success';\n    } else if (!isValid) {\n      return 'disabled';\n    }\n\n    if (status === 'error') return 'error';\n\n    return 'enabled';\n  };\n\n  render() {\n    const { isSubmitting, buttonStyle: style, animate } = this.props;\n    const buttonProps = omit(this.props, [\n      'status',\n      'isSubmitting',\n      'isValid',\n      'messages',\n      'style',\n      'status',\n      'touched',\n    ]);\n\n    return (\n      <SubmitWrapper\n        status={this.getStatus()}\n        loading={isSubmitting}\n        messages={this.props.messages || messages}\n        buttonStyle={style || 'primary'}\n        animate={animate}\n        {...buttonProps}\n      />\n    );\n  }\n}\n\nexport default FormikSubmitWrapper;\n","import React, { PureComponent } from 'react';\nimport { isNumber } from 'lodash-es';\nimport styled from 'styled-components';\nimport { stylingConsts, media } from 'utils/styleUtils';\nimport bowser from 'bowser';\n\nconst Outer = styled.div`\n  width: 100%;\n  position: relative;\n  padding-left: 30px;\n  padding-right: 30px;\n\n  ${media.smallerThanMinTablet`\n    padding-left: 20px;\n    padding-right: 20px;\n  `}\n\n  &:not(.ie) {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n  }\n`;\n\nconst Inner = styled.div<{ maxWidth?: string | number }>`\n  width: 100%;\n  max-width: ${({ maxWidth }) =>\n    isNumber(maxWidth) ? `${maxWidth}px` : maxWidth};\n\n  &.ie {\n    margin-left: auto;\n    margin-right: auto;\n  }\n`;\n\ninterface Props {\n  children?: any;\n  id?: string;\n  className?: string;\n  mode?: 'oldPage' | 'banner' | 'page' | 'text';\n  maxWidth?: number | string;\n}\n\ninterface State {}\n\nexport default class ContentContainer extends PureComponent<Props, State> {\n  render() {\n    const { mode, id, className, children } = this.props;\n    let maxWidth = this.props.maxWidth;\n\n    if (!maxWidth) {\n      if (mode === 'banner') {\n        maxWidth = stylingConsts.bannerWidth;\n      } else if (mode === 'page') {\n        maxWidth = stylingConsts.pageWidth;\n      } else if (mode === 'text') {\n        maxWidth = stylingConsts.textWidth;\n      } else {\n        maxWidth = stylingConsts.maxPageWidth;\n      }\n    }\n\n    return (\n      <Outer\n        id={id || ''}\n        className={`${className} ${bowser.msie ? 'ie' : ''}`}\n      >\n        <Inner\n          className={`inner ${bowser.msie ? 'ie' : ''}`}\n          maxWidth={maxWidth}\n        >\n          {children}\n        </Inner>\n      </Outer>\n    );\n  }\n}\n","import { API_PATH } from 'containers/App/constants';\nimport streams, { IStreamParams } from 'utils/streams';\nimport { ImageSizes, Multiloc, Locale } from 'typings';\n\nconst apiEndpoint = `${API_PATH}/users`;\n\nexport type IProjectModeratorRole = {\n  type: 'project_moderator';\n  project_id: string;\n};\n\ntype IAdminRole = {\n  type: 'admin';\n};\n\nexport type IRole =\n  | IAdminRole\n  | IProjectModeratorRole\n  | IProjectFolderModeratorRole;\n\nexport interface IUserAttributes {\n  first_name: string;\n  // CL1 legacy: last names used to not be required\n  // or when signing up with Google, it can be null too\n  last_name: string | null;\n  slug: string;\n  locale: Locale;\n  avatar?: ImageSizes;\n  roles?: IRole[];\n  highest_role: 'super_admin' | 'admin' | 'project_moderator' | 'user';\n  bio_multiloc: Multiloc;\n  registration_completed_at: string | null;\n  created_at: string;\n  updated_at: string;\n  email?: string;\n  gender?: 'male' | 'female' | 'unspecified';\n  birthyear?: number;\n  domicile?: string;\n  education?: string;\n  unread_notifications?: number;\n  custom_field_values?: Record<string, any>;\n  invite_status: 'pending' | 'accepted' | null;\n  verified?: boolean;\n}\n\nexport interface IUserData {\n  id: string;\n  type: string;\n  attributes: IUserAttributes;\n}\n\nexport interface IUserLinks {\n  self: string;\n  first: string;\n  prev: string;\n  next: string;\n  last: string;\n}\n\nexport interface IUsers {\n  data: IUserData[];\n  links: IUserLinks;\n}\n\nexport interface IUser {\n  data: IUserData;\n}\n\nexport interface IUserUpdate {\n  first_name?: string;\n  last_name?: string;\n  email?: string;\n  password?: string;\n  locale?: string;\n  avatar?: string;\n  roles?: IRole[];\n  birthyear?: number;\n  gender?: string;\n  domicile?: string;\n  education?: string;\n  bio_multiloc?: Multiloc;\n  custom_field_values?: Record<string, any>;\n}\n\nexport function usersStream(streamParams: IStreamParams | null = null) {\n  return streams.get<IUsers>({ apiEndpoint, ...streamParams });\n}\n\nexport function userByIdStream(userId: string) {\n  return streams.get<IUser>({ apiEndpoint: `${apiEndpoint}/${userId}` });\n}\n\nexport function userBySlugStream(userSlug: string) {\n  return streams.get<IUser>({\n    apiEndpoint: `${apiEndpoint}/by_slug/${userSlug}`,\n  });\n}\n\nexport function userByInviteStream(\n  token: string,\n  streamParams: IStreamParams | null = null\n) {\n  return streams.get<IUser>({\n    apiEndpoint: `${apiEndpoint}/by_invite/${token}`,\n    ...streamParams,\n  });\n}\n\nexport async function updateUser(userId: string, object: IUserUpdate) {\n  const response = await streams.update<IUser>(\n    `${apiEndpoint}/${userId}`,\n    userId,\n    { user: object }\n  );\n\n  await streams.fetchAllWith({\n    dataId: [userId],\n    apiEndpoint: [`${API_PATH}/groups`, `${API_PATH}/users`],\n  });\n  return response;\n}\n\nexport async function deleteUser(userId: string) {\n  const response = await streams.delete(`${apiEndpoint}/${userId}`, userId);\n  await streams.fetchAllWith({\n    apiEndpoint: [\n      `${API_PATH}/groups`,\n      `${API_PATH}/users`,\n      `${API_PATH}/stats/users_count`,\n    ],\n  });\n  return response;\n}\n\nexport async function completeRegistration(\n  customFieldValues?: Record<string, any>\n) {\n  const authUser = await streams.add<IUser>(\n    `${apiEndpoint}/complete_registration`,\n    { user: { custom_field_values: customFieldValues || {} } }\n  );\n  await streams.reset();\n  return authUser;\n}\n\nexport function mapUserToDiff(user: IUserData): IUserUpdate {\n  return {\n    first_name: user.attributes.first_name || undefined,\n    last_name: user.attributes.last_name || undefined,\n    email: user.attributes.email || undefined,\n    locale: user.attributes.locale || undefined,\n    bio_multiloc: user.attributes.bio_multiloc || undefined,\n    custom_field_values: undefined,\n  };\n}\n\nexport function getUserName(user: IUserData): string {\n  // This might be locale-dependant in the future\n  return `${user.attributes.first_name} ${user.attributes.last_name}`;\n}\n","import React from 'react';\nimport Button from 'components/UI/Button';\n\n// i18n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from './messages';\n\ninterface Props {\n  processing: boolean;\n  onRemoveFlags: () => void;\n  selectedActiveFlagsCount: number;\n}\n\nconst RemoveFlagButton = ({\n  processing,\n  onRemoveFlags,\n  selectedActiveFlagsCount,\n}: Props) => {\n  if (selectedActiveFlagsCount > 0) {\n    return (\n      <Button\n        icon=\"exclamation-trapezium-strikethrough\"\n        buttonStyle=\"cl-blue\"\n        processing={processing}\n        onClick={onRemoveFlags}\n      >\n        <FormattedMessage\n          {...messages.removeWarning}\n          values={{\n            numberOfItems: selectedActiveFlagsCount,\n          }}\n        />\n      </Button>\n    );\n  }\n\n  return null;\n};\n\nexport default RemoveFlagButton;\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  siteMapTitle: {\n    id: 'containers.SiteMap.siteMapTitle',\n    defaultMessage: 'Site map of the participation platform of {orgName}',\n  },\n  siteMapDescription: {\n    id: 'containers.SiteMap.siteMapDescription',\n    defaultMessage:\n      'From this page, you can navigate to any content on the platform.',\n  },\n  homeSection: {\n    id: 'containers.SiteMap.homeSection',\n    defaultMessage: 'General',\n  },\n  pageContents: {\n    id: 'containers.SiteMap.pageContents',\n    defaultMessage: 'Page contents',\n  },\n  aboutLink: {\n    id: 'containers.SiteMap.aboutLink',\n    defaultMessage: 'About the platform',\n  },\n  cookiePolicyLink: {\n    id: 'containers.SiteMap.cookiePolicyLink',\n    defaultMessage: 'Cookie policy',\n  },\n  termsAndConditionsLink: {\n    id: 'containers.SiteMap.termsAndConditionsLink',\n    defaultMessage: 'Terms and Conditions',\n  },\n  privacyPolicyLink: {\n    id: 'containers.SiteMap.privacyPolicyLink',\n    defaultMessage: 'Privacy Policy',\n  },\n  accessibilityStatementLink: {\n    id: 'containers.SiteMap.accessibilityStatementLink',\n    defaultMessage: 'Accessibility statement',\n  },\n  faqLink: {\n    id: 'containers.SiteMap.faqLink',\n    defaultMessage: 'Frequently Asked Questions (FAQ)',\n  },\n  projectsSection: {\n    id: 'containers.SiteMap.projectsSection',\n    defaultMessage: 'Projects of {orgName}',\n  },\n  projectsCurrent: {\n    id: 'containers.SiteMap.projectsCurrent',\n    defaultMessage: 'Current Projects',\n  },\n  projectsArchived: {\n    id: 'containers.SiteMap.projectsArchived',\n    defaultMessage: 'Archived Projects',\n  },\n  projectsDraft: {\n    id: 'containers.SiteMap.projectsDraft',\n    defaultMessage: 'Draft Projects',\n  },\n  projectInfo: {\n    id: 'containers.SiteMap.projectInfo',\n    defaultMessage: 'Information',\n  },\n  projectEvents: {\n    id: 'containers.SiteMap.projectEvents',\n    defaultMessage: 'Events',\n  },\n  projectIdeas: {\n    id: 'containers.SiteMap.projectIdeas',\n    defaultMessage: 'Ideas',\n  },\n  contributions: {\n    id: 'app.containers.SiteMap.contributions',\n    defaultMessage: 'Contributions',\n  },\n  issues: {\n    id: 'app.containers.SiteMap.issues',\n    defaultMessage: 'Issues',\n  },\n  options: {\n    id: 'app.containers.SiteMap.options',\n    defaultMessage: 'Options',\n  },\n  questions: {\n    id: 'app.containers.SiteMap.questions',\n    defaultMessage: 'Questions',\n  },\n  projects: {\n    id: 'app.containers.SiteMap.projects',\n    defaultMessage: 'Projects',\n  },\n  projectPoll: {\n    id: 'containers.SiteMap.projectPoll',\n    defaultMessage: 'Poll',\n  },\n  projectSurvey: {\n    id: 'containers.SiteMap.projectSurvey',\n    defaultMessage: 'Survey',\n  },\n  timeline: {\n    id: 'containers.SiteMap.timeline',\n    defaultMessage: 'Project phases',\n  },\n  initiativesSection: {\n    id: 'containers.SiteMap.initiativesSection',\n    defaultMessage: 'Initiatives',\n  },\n  signInPage: {\n    id: 'containers.SiteMap.signInPage',\n    defaultMessage: 'Sign in',\n  },\n  signUpPage: {\n    id: 'containers.SiteMap.signUpPage',\n    defaultMessage: 'Sign up',\n  },\n  successStories: {\n    id: 'containers.SiteMap.successStories',\n    defaultMessage: 'Success Stories',\n  },\n  initiativesList: {\n    id: 'containers.SiteMap.initiativesList',\n    defaultMessage: 'All initiatives on this platform',\n  },\n  initiativesInfo: {\n    id: 'containers.SiteMap.initiativesInfo',\n    defaultMessage: 'More information about initiatives',\n  },\n  userSpaceSection: {\n    id: 'containers.SiteMap.userSpaceSection',\n    defaultMessage: 'Your Account',\n  },\n  profilePage: {\n    id: 'containers.SiteMap.profilePage',\n    defaultMessage: 'Your Profile Page',\n  },\n  profileSettings: {\n    id: 'containers.SiteMap.profileSettings',\n    defaultMessage: 'Your settings',\n  },\n  homePage: {\n    id: 'containers.SiteMap.homePage',\n    defaultMessage: 'Home page',\n  },\n  allProjects: {\n    id: 'containers.SiteMap.allProjects',\n    defaultMessage: 'All projects',\n  },\n  folderInfo: {\n    id: 'containers.SiteMap.folderInfo',\n    defaultMessage: 'More info',\n  },\n});\n","import React, { PureComponent } from 'react';\n\n// components\nimport FileInput from './FileInput';\nimport FileDisplay from './FileDisplay';\nimport Error from 'components/UI/Error';\n\n// typings\nimport { CLError, UploadFile } from 'typings';\n\n// style\nimport styled from 'styled-components';\nimport { ScreenReaderOnly } from 'utils/a11y';\n\n// i18n\nimport messages from './messages';\nimport { FormattedMessage } from 'utils/cl-intl';\n\nconst Container = styled.div`\n  width: 100%;\n`;\n\ninterface Props {\n  onFileAdd: (fileToAdd: UploadFile) => void;\n  onFileRemove: (fileToRemove: UploadFile) => void;\n  files: UploadFile[] | null | Error | undefined;\n  errors?: { [fieldName: string]: CLError[] } | null;\n  id?: string;\n  className?: string;\n}\n\ninterface State {}\n\nexport default class FileUploader extends PureComponent<Props, State> {\n  handleFileOnAdd = (fileToAdd: UploadFile) => {\n    this.props.onFileAdd(fileToAdd);\n  };\n\n  handleFileOnRemove = (fileToRemove: UploadFile) => (event) => {\n    event.preventDefault();\n    event.stopPropagation();\n    this.props.onFileRemove(fileToRemove);\n  };\n\n  render() {\n    const { files, errors, id, className } = this.props;\n    const fileNames =\n      Array.isArray(files) && files.map((file) => file.filename).join(', ');\n    return (\n      <Container className={className}>\n        <FileInput onAdd={this.handleFileOnAdd} id={id} />\n\n        {errors && <Error fieldName=\"file\" apiErrors={errors.file} />}\n\n        {Array.isArray(files) &&\n          files.map((file) => (\n            <FileDisplay\n              key={file.id || file.filename}\n              onDeleteClick={this.handleFileOnRemove(file)}\n              file={file}\n            />\n          ))}\n        <ScreenReaderOnly aria-live=\"polite\">\n          {Array.isArray(files) && files.length === 0 && (\n            <FormattedMessage {...messages.a11y_noFiles} />\n          )}\n          {Array.isArray(files) && files.length > 0 && (\n            <FormattedMessage\n              {...messages.a11y_filesToBeUploaded}\n              values={{ fileNames }}\n            />\n          )}\n        </ScreenReaderOnly>\n      </Container>\n    );\n  }\n}\n","import React from 'react';\n\nexport default function checkTextOverflow(\n  TElement: React.MutableRefObject<any>\n) {\n  const tElementCurrent: any = TElement?.current;\n  if (!tElementCurrent) return;\n\n  const spanElement = tElementCurrent.state.innerRef.current;\n  if (!spanElement) return;\n\n  const spanChildren = [...spanElement.children];\n\n  const spanHeight = spanElement.clientHeight;\n  const spanChildrenHeight = getChildrenHeight(spanChildren);\n\n  return spanChildrenHeight > spanHeight;\n}\n\nconst getChildrenHeight = (children) =>\n  children.reduce((acc, curr) => acc + curr.clientHeight, 0);\n","import { get, set, remove } from 'js-cookie';\nimport { Locale } from 'typings';\n\nconst COOKIE_NAME = 'cl2_locale';\n\nexport function getCookieLocale() {\n  try {\n    return get(COOKIE_NAME);\n  } catch (error) {\n    return null;\n  }\n}\n\nexport function setCookieLocale(locale: Locale) {\n  set(COOKIE_NAME, locale, { expires: 60 });\n}\n\nexport function removeCookieLocale() {\n  remove(COOKIE_NAME, { expires: 60 });\n}\n","import React from 'react';\n\n// components\nimport Button from 'components/UI/Button';\n\n// i18n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from './messages';\n\ninterface Props {\n  translateButtonClicked: boolean;\n  onClick: () => void;\n  className?: string;\n}\n\nconst TranslateButton = (props: Props) => {\n  const { translateButtonClicked, className, onClick } = props;\n\n  return (\n    <Button\n      buttonStyle=\"secondary-outlined\"\n      icon=\"translate\"\n      onClick={onClick}\n      className={className}\n    >\n      {translateButtonClicked ? (\n        <FormattedMessage {...messages.original} />\n      ) : (\n        <FormattedMessage {...messages.translate} />\n      )}\n    </Button>\n  );\n};\n\nexport default TranslateButton;\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  requiredError: {\n    id: 'app.components.CustomFieldsForm.requiredError',\n    defaultMessage: 'This field is required',\n  },\n  optional: {\n    id: 'app.components.CustomFieldsForm.optional',\n    defaultMessage: '(optional)',\n  },\n  mustBeANumber: {\n    id: 'app.components.CustomFieldsForm.mustBeANumber',\n    defaultMessage: 'This field expects a number',\n  },\n  blockedVerified: {\n    id: 'app.components.CustomFieldsForm.blockedVerified',\n    defaultMessage:\n      \"You can't edit this field because it contains verified informtion\",\n  },\n});\n","import { parse } from 'qs';\nimport { isNil } from 'lodash-es';\n\nexport type SortDirection = 'ascending' | 'descending';\n\nexport function getPageNumberFromUrl(url) {\n  if (!url || typeof url !== 'string' || url === '') return null;\n  const queryString = url.split('?')[1];\n  const result = parse(queryString).page?.['number'];\n  return isNil(result) || result < 0 ? null : parseInt(result, 10);\n}\n\nexport function getPageItemCountFromUrl(url) {\n  if (!url) return null;\n  const queryString = url.split('?')[1];\n  const result = parse(queryString).page?.['size'];\n  return isNil(result) || result < 0 ? null : parseInt(result, 10);\n}\n\nexport function getSortAttribute<Sort, SortAttribute>(sort: Sort) {\n  return (sort as any).replace(/^-/, '') as SortAttribute;\n}\n\nexport function getSortDirection<Sort>(sort: Sort): SortDirection {\n  return (sort as any).startsWith('-') ? 'descending' : 'ascending';\n}\n","import React, { memo, useCallback, MouseEvent } from 'react';\n\n// components\nimport { Icon, IconNames } from 'cl2-component-library';\n\n// styling\nimport styled from 'styled-components';\nimport { colors, fontSizes } from 'utils/styleUtils';\n\nconst Container = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nconst TabText = styled.span`\n  color: ${colors.adminTextColor};\n  font-size: ${fontSizes.base}px;\n  font-weight: 400;\n  white-space: nowrap;\n`;\n\nconst TabIcon = styled(Icon)`\n  fill: ${colors.label};\n  flex: 0 0 20px;\n  width: 20px;\n  height: 20px;\n  margin-left: 10px;\n`;\n\nconst Tab = styled.button<{ index: number }>`\n  display: flex;\n  align-items: center;\n  margin: 0;\n  margin-left: -1px;\n  padding: 11px 18px;\n  background: #fff;\n  border-radius: 0;\n  border: solid 1px #aaa;\n  z-index: ${({ index }) => index};\n  cursor: pointer;\n  transition: all 80ms ease-out;\n\n  &.first {\n    border-top-left-radius: ${({ theme }) => theme.borderRadius};\n    border-bottom-left-radius: ${({ theme }) => theme.borderRadius};\n  }\n\n  &.last {\n    border-top-right-radius: ${({ theme }) => theme.borderRadius};\n    border-bottom-right-radius: ${({ theme }) => theme.borderRadius};\n  }\n\n  &:not(.selected):hover,\n  &:not(.selected):focus {\n    z-index: 10;\n    border-color: ${colors.adminTextColor};\n  }\n\n  &.selected {\n    border-color: ${colors.adminTextColor};\n    background: ${colors.adminTextColor};\n\n    ${TabText} {\n      color: #fff;\n    }\n\n    ${TabIcon} {\n      fill: #fff;\n    }\n  }\n`;\n\nexport interface ITabItem {\n  name: string;\n  label: string | JSX.Element;\n  icon?: IconNames;\n}\n\ninterface Props {\n  items: ITabItem[];\n  selectedValue: string;\n  selectedTabBgColor?: string;\n  className?: string;\n  onClick: (itemName: string) => void;\n}\n\nconst Tabs = memo<Props>(({ items, selectedValue, onClick, className }) => {\n  const removeFocus = useCallback((event: MouseEvent<HTMLElement>) => {\n    event.preventDefault();\n  }, []);\n\n  const handleTabOnClick = useCallback((event: MouseEvent<HTMLElement>) => {\n    const newSelectedValue = event.currentTarget.dataset.itemvalue as string;\n    onClick(newSelectedValue);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <Container className={className} role=\"tablist\">\n      {items.map((item: ITabItem, index) => (\n        <Tab\n          id={item.name}\n          index={index + 1}\n          role=\"tab\"\n          aria-selected={selectedValue === item.name}\n          aria-controls={item.name}\n          key={item.name}\n          className={`${selectedValue === item.name ? 'selected' : ''} ${\n            index === 0 ? 'first' : ''\n          } ${index + 1 === items.length ? 'last' : ''}`}\n          onMouseDown={removeFocus}\n          onClick={handleTabOnClick}\n          data-itemvalue={item.name}\n        >\n          <TabText>{item.label}</TabText>\n          {item.icon && <TabIcon name={item.icon} />}\n        </Tab>\n      ))}\n    </Container>\n  );\n});\n\nexport default Tabs;\n","import React, { PureComponent } from 'react';\n\ntype Props = {\n  children?: any;\n  onClick?: (event) => void;\n  onClickOutside: (event) => void;\n  onMouseEnter?: (event) => void;\n  onMouseLeave?: (event) => void;\n  onMouseDown?: (event) => void;\n  className?: string;\n  id?: string;\n  setRef?: (arg: HTMLElement) => void;\n  role?: string;\n  closeOnClickOutsideEnabled?: boolean;\n  isModal?: boolean;\n  ariaLabelledBy?: string;\n};\n\ninterface State {}\n\nexport default class ClickOutside extends PureComponent<Props, State> {\n  container: HTMLDivElement | null = null;\n\n  static defaultProps = {\n    closeOnClickOutsideEnabled: true,\n  };\n\n  componentDidMount() {\n    this.addEventListeners();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (\n      !prevProps.closeOnClickOutsideEnabled &&\n      this.props.closeOnClickOutsideEnabled\n    ) {\n      this.addEventListeners();\n    }\n\n    if (\n      prevProps.closeOnClickOutsideEnabled &&\n      !this.props.closeOnClickOutsideEnabled\n    ) {\n      this.removeEventListeners();\n    }\n  }\n\n  componentWillUnmount() {\n    this.container = null;\n    this.removeEventListeners();\n  }\n\n  addEventListeners = () => {\n    if (this.props.closeOnClickOutsideEnabled) {\n      document.addEventListener('click', this.handle, true);\n      document.addEventListener('keyup', this.handle, true);\n    }\n  };\n\n  removeEventListeners = () => {\n    document.removeEventListener('click', this.handle, true);\n    document.removeEventListener('keyup', this.handle, true);\n  };\n\n  handle = (event) => {\n    // Press esc to close\n    if (event.type === 'keyup' && event.key === 'Escape') {\n      event.preventDefault();\n      this.props.onClickOutside(event);\n    }\n\n    if (\n      event.type === 'keyup' &&\n      event.key === 'Tab' &&\n      this.container &&\n      !this.container.contains(event.target)\n    ) {\n      this.props.onClickOutside(event);\n    }\n\n    // Click outside to close\n    if (\n      event.type === 'click' &&\n      this.container &&\n      !this.container.contains(event.target)\n    ) {\n      setTimeout(() => {\n        if (this.container) {\n          this.props.onClickOutside(event);\n        }\n      }, 10);\n    }\n  };\n\n  handleRef = (element: HTMLDivElement) => {\n    this.container = element;\n    this.props.setRef && this.props.setRef(element);\n  };\n\n  handleOnMouseEnter = (event) => {\n    this.props.onMouseEnter && this.props.onMouseEnter(event);\n  };\n\n  handleOnMouseLeave = (event) => {\n    this.props.onMouseLeave && this.props.onMouseLeave(event);\n  };\n\n  handleOnMouseDown = (event) => {\n    this.props.onMouseDown && this.props.onMouseDown(event);\n  };\n\n  render() {\n    const {\n      id,\n      role,\n      children,\n      className,\n      onClick,\n      isModal,\n      ariaLabelledBy,\n    } = this.props;\n\n    return (\n      // eslint-disable-next-line jsx-a11y/no-static-element-interactions\n      <div\n        id={id}\n        ref={this.handleRef}\n        className={className}\n        onClick={onClick}\n        onMouseEnter={this.handleOnMouseEnter}\n        onMouseLeave={this.handleOnMouseLeave}\n        onMouseDown={this.handleOnMouseDown}\n        role={role}\n        aria-modal={isModal}\n        aria-labelledby={ariaLabelledBy}\n      >\n        {children}\n      </div>\n    );\n  }\n}\n","export default \"data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNCA0OCI+CiAgPHBhdGggZD0iTTE1LjggNDRsMS4yIDEuNSAxLjItMS42YzQuNy02LjEgOC4yLTExLjQgMTAuNi0xNS44IDIuNC00LjQgMy43LTguMSAzLjctMTEuMWExNS41IDE1LjUgMCAxMC0zMSAwYzAgMyAxLjMgNi43IDMuNyAxMSAyLjQgNC41IDYgOS44IDEwLjYgMTZ6bTUuOC0yMi40YTYuNSA2LjUgMCAxMS05LjItOS4yIDYuNSA2LjUgMCAwMTkuMiA5LjJ6IiBmaWxsPSIjZmZmIiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMi41Ii8+Cjwvc3ZnPgo=\"","// components\nimport { Input, Radio, Label, Select } from 'cl2-component-library';\nimport Error from 'components/UI/Error';\nimport Warning from 'components/UI/Warning';\nimport { Section, SectionField } from 'components/admin/Section';\n\n// style\nimport styled from 'styled-components';\nimport { fontSizes, colors } from 'utils/styleUtils';\n\nexport const Container = styled.div``;\n\nexport const StyledSection = styled(Section)`\n  margin-bottom: 0;\n`;\n\nexport const StyledSectionField = styled(SectionField)`\n  width: 100%;\n`;\n\nconst Row = styled.div`\n  display: flex;\n  flex-direction: row;\n`;\n\nexport const ToggleRow = styled(Row)`\n  width: 100%;\n  max-width: 288px;\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 10px;\n\n  &.last {\n    margin-bottom: 0px;\n  }\n`;\n\nexport const ToggleLabel = styled(Label)`\n  flex: 1;\n  color: #333;\n  font-size: ${fontSizes.base}px;\n  font-weight: 400;\n  margin-right: 15px;\n`;\n\nexport const VotingLimitInput = styled(Input)`\n  width: 100px;\n  height: 46px !important;\n`;\n\nexport const BudgetingAmountInput = styled(Input)`\n  max-width: 288px;\n`;\n\nexport const BudgetingAmountInputError = styled(Error)`\n  max-width: 288px;\n`;\n\nexport const StyledA = styled.a`\n  &:hover {\n    text-decoration: underline;\n  }\n`;\n\nexport const StyledRadio = styled(Radio)`\n  margin-bottom: 25px;\n`;\n\nexport const LabelText = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin-top: -2px;\n\n  &.disabled {\n    opacity: 0.4;\n    cursor: not-allowed;\n  }\n\n  .header {\n    padding: 0;\n    margin: 0;\n    margin-bottom: 3px;\n    font-weight: 600;\n    font-size: ${fontSizes.base}px;\n  }\n\n  .description {\n    color: ${colors.adminSecondaryTextColor};\n  }\n`;\n\nexport const StyledWarning = styled(Warning)`\n  margin-bottom: 20px;\n`;\n\nexport const StyledSelect = styled(Select)`\n  max-width: 288px;\n`;\n\nexport const LabelWrapper = styled.div`\n  display: flex;\n`;\n","import React from 'react';\nimport { ModuleConfiguration } from 'utils/moduleUtils';\nimport Tab from './admin/components/Tab';\n\nconst configuration: ModuleConfiguration = {\n  routes: {\n    'admin.dashboards': [\n      {\n        path: 'map',\n        container: () => import('./admin/containers/dashboard'),\n      },\n    ],\n  },\n  outlets: {\n    'app.containers.Admin.dashboards.tabs': (props) => <Tab {...props} />,\n  },\n};\n\nexport default configuration;\n","// libraries\nimport React, { PureComponent, MouseEvent, FormEvent } from 'react';\nimport { get, includes } from 'lodash-es';\nimport { adopt } from 'react-adopt';\nimport { Subscription } from 'rxjs';\nimport { withRouter, WithRouterProps } from 'react-router';\nimport { locales } from 'containers/App/constants';\nimport bowser from 'bowser';\n\n// components\nimport NotificationMenu from './components/NotificationMenu';\nimport MobileNavigation from './components/MobileNavigation';\nimport UserMenu from './components/UserMenu';\nimport { Icon, Dropdown } from 'cl2-component-library';\nimport Link from 'utils/cl-router/Link';\nimport LoadableLanguageSelector from 'components/Loadable/LanguageSelector';\nimport FeatureFlag from 'components/FeatureFlag';\nimport Fragment from 'components/Fragment';\n\n// analytics\nimport { trackEventByName } from 'utils/analytics';\nimport tracks from './tracks';\n\n// resources\nimport GetAuthUser, { GetAuthUserChildProps } from 'resources/GetAuthUser';\nimport GetAppConfiguration, {\n  GetAppConfigurationChildProps,\n} from 'resources/GetAppConfiguration';\nimport GetLocale, { GetLocaleChildProps } from 'resources/GetLocale';\nimport GetAdminPublications, {\n  GetAdminPublicationsChildProps,\n} from 'resources/GetAdminPublications';\nimport { IAdminPublicationContent } from 'hooks/useAdminPublications';\n\n// services\nimport { isAdmin } from 'services/permissions/roles';\n\n// utils\nimport { isNilOrError, isPage } from 'utils/helperUtils';\nimport { openSignUpInModal } from 'components/SignUpIn/events';\nimport eventEmitter from 'utils/eventEmitter';\n\n// i18n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport injectLocalize, { InjectedLocalized } from 'utils/localize';\nimport messages from './messages';\nimport injectIntl from 'utils/cl-intl/injectIntl';\nimport { InjectedIntlProps } from 'react-intl';\n\n// style\nimport styled from 'styled-components';\nimport { rgba, darken } from 'polished';\nimport { media, fontSizes, isRtl } from 'utils/styleUtils';\nimport Outlet from 'components/Outlet';\nimport ProjectsListItem from './components/ProjectsListItem';\n\nconst Container = styled.header<{ position: 'fixed' | 'absolute' }>`\n  width: 100vw;\n  height: ${({ theme }) => theme.menuHeight}px;\n  display: flex;\n  align-items: stretch;\n  position: ${(props) => props.position};\n  top: 0;\n  left: 0;\n  background: ${({ theme }) => theme.navbarBackgroundColor || '#fff'};\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.1);\n  z-index: 1004;\n\n  &.hideNavbar {\n    ${media.smallerThanMaxTablet`\n      display: none;\n    `}\n  }\n\n  &.citizenPage {\n    ${media.smallerThanMaxTablet`\n      position: absolute;\n    `}\n  }\n\n  @media print {\n    display: none;\n  }\n`;\n\nconst ContainerInner = styled.div`\n  flex-grow: 1;\n  flex-shrink: 0;\n  flex-basis: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding-left: 20px;\n  position: relative;\n  ${isRtl`\n    padding-left: 0px;\n    padding-right: 20px;\n    flex-direction: row-reverse;\n    `}\n\n  ${media.smallerThanMinTablet`\n    padding-left: 15px;\n  `}\n`;\n\nconst Left = styled.div`\n  display: flex;\n  align-items: center;\n  height: ${({ theme }) => theme.menuHeight}px;\n  ${isRtl`\n    flex-direction: row-reverse;\n    `}\n`;\n\nconst LogoLink = styled(Link)`\n  flex: 1 1 auto;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst Logo = styled.img`\n  max-width: 100%;\n  max-height: 44px;\n  margin: 0;\n  padding: 0px;\n  cursor: pointer;\n`;\n\nconst NavigationItems = styled.nav`\n  height: 100%;\n  display: flex;\n  align-items: stretch;\n  margin-left: 35px;\n\n  ${media.smallerThanMaxTablet`\n    display: none;\n  `}\n  ${isRtl`\n    margin-right: 35px;\n    margin-left: 0;\n    flex-direction: row-reverse;\n  `}\n`;\n\nconst NavigationItemBorder = styled.div`\n  height: 6px;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  background: 'transparent';\n`;\n\nconst NavigationItem = styled(Link)`\n  color: ${({ theme }) => theme.navbarTextColor || theme.colorText};\n  font-size: ${fontSizes.base}px;\n  line-height: normal;\n  font-weight: 500;\n  padding: 0 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 100ms ease-out;\n  height: 100%;\n  position: relative;\n\n  &:hover {\n    color: ${({ theme }) => theme.navbarTextColor || theme.colorText};\n    text-decoration: underline;\n\n    ${NavigationItemBorder} {\n      background: ${({ theme }) =>\n        theme.navbarActiveItemBorderColor\n          ? rgba(theme.navbarActiveItemBorderColor, 0.3)\n          : rgba(theme.colorMain, 0.3)};\n    }\n  }\n\n  &.active {\n    &:before {\n      content: '';\n      display: block;\n      position: absolute;\n      top: 0;\n      left: 0;\n      height: 100%;\n      width: 100%;\n      z-index: -1;\n      background-color: ${({ theme }) =>\n        theme.navbarActiveItemBackgroundColor || rgba(theme.colorMain, 0.05)};\n      pointer-events: none;\n    }\n\n    ${NavigationItemBorder} {\n      background: ${({ theme }) =>\n        theme.navbarActiveItemBorderColor || theme.colorMain};\n    }\n  }\n`;\n\nconst NavigationItemText = styled.span`\n  white-space: nowrap;\n`;\n\nconst NavigationDropdown = styled.div`\n  display: flex;\n  align-items: stretch;\n  position: relative;\n`;\n\nconst NavigationDropdownItem = styled.button`\n  color: ${({ theme }) => theme.navbarTextColor || theme.colorText};\n  fill: ${({ theme }) => theme.navbarTextColor || theme.colorText};\n  font-size: ${fontSizes.base}px;\n  font-weight: 500;\n  line-height: ${fontSizes.base}px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 0;\n  padding: 0 30px;\n  transition: all 100ms ease-out;\n  cursor: pointer;\n  position: relative;\n\n  &:hover,\n  &.opened {\n    color: ${({ theme }) => theme.navbarTextColor || theme.colorText};\n    text-decoration: underline;\n\n    ${NavigationItemBorder} {\n      background: ${({ theme }) =>\n        theme.navbarActiveItemBorderColor\n          ? rgba(theme.navbarActiveItemBorderColor, 0.3)\n          : rgba(theme.colorMain, 0.3)};\n    }\n  }\n\n  &.active {\n    &:after {\n      content: '';\n      display: block;\n      position: absolute;\n      top: 0;\n      left: 0;\n      height: 100%;\n      width: 100%;\n      z-index: -1;\n      background-color: ${({ theme }) =>\n        theme.navbarActiveItemBackgroundColor || rgba(theme.colorMain, 0.05)};\n      pointer-events: none;\n    }\n\n    ${NavigationItemBorder} {\n      background: ${({ theme }) =>\n        theme.navbarActiveItemBorderColor || theme.colorMain};\n    }\n  }\n  ${isRtl`\n     flex-direction: row-reverse;\n  `}\n`;\n\nconst NavigationDropdownItemIcon = styled(Icon)`\n  width: 11px;\n  height: 6px;\n  fill: inherit;\n  margin-left: 4px;\n  margin-top: 3px;\n  ${isRtl`\n    margin-left: 0;\n    margin-right: 4px;\n  `}\n`;\n\nconst ProjectsList = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  ${isRtl`\n    text-align: right;\n  `}\n`;\n\nconst ProjectsListFooter = styled(Link)`\n  width: 100%;\n  color: #fff;\n  font-size: ${fontSizes.base}px;\n  font-weight: 400;\n  text-align: center;\n  text-decoration: none;\n  padding: 15px 15px;\n  cursor: pointer;\n  background: ${({ theme }) => theme.colorSecondary};\n  border-radius: ${(props: any) => props.theme.borderRadius};\n  border-top-left-radius: 0;\n  border-top-right-radius: 0;\n  transition: all 80ms ease-out;\n\n  &:hover,\n  &:focus {\n    color: #fff;\n    background: ${({ theme }) => darken(0.15, theme.colorSecondary)};\n    text-decoration: none;\n  }\n`;\n\nconst Right = styled.div`\n  display: flex;\n  align-items: center;\n  height: ${({ theme }) => theme.menuHeight}px;\n  margin-right: 30px;\n\n  &.ie {\n    margin-right: 50px;\n  }\n\n  ${media.desktop`\n    margin-right: 40px;\n  `}\n\n  ${media.smallerThanMinTablet`\n    margin-right: 20px;\n  `}\n  ${isRtl`\n    flex-direction: row-reverse;\n    margin-left: 30px;\n\n    &.ie {\n      margin-left: 50px;\n    }\n    ${media.desktop`\n        margin-left: 40px;\n    `}\n\n    ${media.smallerThanMinTablet`\n        margin-left: 20px;\n    `}\n    `}\n`;\n\nconst StyledLoadableLanguageSelector = styled(LoadableLanguageSelector)`\n  padding-left: 20px;\n\n  ${media.smallerThanMinTablet`\n    padding-left: 15px;\n  `}\n  ${isRtl`\n    padding-left: 0px;\n    padding-right: 20px;\n  ${media.smallerThanMinTablet`\n    padding-right: 15px;\n  `}\n  `}\n`;\n\nconst RightItem = styled.div`\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-left: 40px;\n  white-space: nowrap;\n\n  &.noLeftMargin {\n    margin-left: 0px;\n  }\n\n  ${media.smallerThanMinTablet`\n    margin-left: 30px;\n  `}\n\n  ${isRtl`\n    margin-right: 40px;\n    margin-left: 0;\n    ${media.smallerThanMinTablet`\n        margin-right: 30px;\n    `}\n    &.noLeftMargin {\n        margin-left: 0;\n        margin-right: 0px;\n    }\n\n  `}\n`;\n\nconst StyledRightFragment = styled(Fragment)`\n  max-width: 200px;\n`;\n\nconst LogInMenuItem = styled.button`\n  height: 100%;\n  color: ${({ theme }) => theme.navbarTextColor || theme.colorText};\n  font-size: ${fontSizes.base}px;\n  line-height: normal;\n  font-weight: 500;\n  padding: 0 30px;\n  border: none;\n  border-radius: 0px;\n  cursor: pointer;\n  transition: all 100ms ease-out;\n\n  &:hover {\n    text-decoration: underline;\n  }\n\n  ${media.smallerThanMinTablet`\n    padding: 0 15px;\n  `}\n`;\n\nconst SignUpMenuItem = styled.button`\n  height: 100%;\n  color: #fff;\n  font-size: ${fontSizes.base}px;\n  line-height: normal;\n  font-weight: 500;\n  padding: 0 30px;\n  cursor: pointer;\n  border: none;\n  border-radius: 0px;\n  background-color: ${({ theme }) =>\n    theme.navbarHighlightedItemBackgroundColor || theme.colorSecondary};\n  transition: all 100ms ease-out;\n\n  &:hover {\n    color: #fff;\n    text-decoration: underline;\n    background-color: ${({ theme }) =>\n      darken(\n        0.12,\n        theme.navbarHighlightedItemBackgroundColor || theme.colorSecondary\n      )};\n  }\n\n  ${media.smallerThanMinTablet`\n    padding: 0 15px;\n  `}\n\n  ${media.phone`\n    padding: 0 12px;\n  `}\n`;\n\ninterface InputProps {\n  setRef?: (arg: HTMLElement) => void | undefined;\n  setMobileNavigationRef?: (arg: HTMLElement) => void | undefined;\n}\n\ninterface DataProps {\n  authUser: GetAuthUserChildProps;\n  tenant: GetAppConfigurationChildProps;\n  locale: GetLocaleChildProps;\n  adminPublications: GetAdminPublicationsChildProps;\n}\n\ninterface Props extends InputProps, DataProps {}\n\ninterface State {\n  projectsDropdownOpened: boolean;\n  fullscreenModalOpened: boolean;\n}\n\nclass Navbar extends PureComponent<\n  Props & WithRouterProps & InjectedIntlProps & InjectedLocalized,\n  State\n> {\n  subscriptions: Subscription[];\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      projectsDropdownOpened: false,\n      fullscreenModalOpened: false,\n    };\n  }\n\n  componentDidMount() {\n    this.subscriptions = [\n      eventEmitter.observeEvent('cardClick').subscribe(() => {\n        this.setState({ fullscreenModalOpened: true });\n      }),\n      eventEmitter.observeEvent('fullscreenModalClosed').subscribe(() => {\n        this.setState({ fullscreenModalOpened: false });\n      }),\n    ];\n  }\n\n  componentDidUpdate(prevProps: Props & WithRouterProps & InjectedIntlProps) {\n    if (prevProps.location !== this.props.location) {\n      this.setState({ projectsDropdownOpened: false });\n    }\n  }\n\n  componentWillUnmount() {\n    this.subscriptions.forEach((subscription) => subscription.unsubscribe());\n  }\n\n  toggleProjectsDropdown = (event: FormEvent) => {\n    event.preventDefault();\n    this.setState(({ projectsDropdownOpened }) => ({\n      projectsDropdownOpened: !projectsDropdownOpened,\n    }));\n  };\n\n  trackSignUpLinkClick = () => {\n    trackEventByName(tracks.clickSignUpLink.name);\n  };\n\n  removeFocus = (event: MouseEvent) => {\n    event.preventDefault();\n  };\n\n  preloadLanguageSelector = () => {\n    LoadableLanguageSelector.preload();\n  };\n\n  handleRef = (element: HTMLElement) => {\n    this.props.setRef && this.props.setRef(element);\n  };\n\n  handleMobileNavigationRef = (element: HTMLElement) => {\n    this.props.setMobileNavigationRef &&\n      this.props.setMobileNavigationRef(element);\n  };\n\n  signIn = () => {\n    openSignUpInModal({ flow: 'signin' });\n  };\n\n  signUp = () => {\n    openSignUpInModal({ flow: 'signup' });\n  };\n\n  render() {\n    const {\n      location,\n      locale,\n      authUser,\n      tenant,\n      localize,\n      intl: { formatMessage },\n      adminPublications,\n    } = this.props;\n    const { projectsDropdownOpened, fullscreenModalOpened } = this.state;\n    const tenantLocales = !isNilOrError(tenant)\n      ? tenant.attributes.settings.core.locales\n      : [];\n    let tenantLogo = !isNilOrError(tenant)\n      ? get(tenant.attributes.logo, 'medium')\n      : null;\n    // Avoids caching issue when an admin changes platform logo (I guess)\n    tenantLogo =\n      isAdmin(!isNilOrError(authUser) ? { data: authUser } : undefined) &&\n      tenantLogo\n        ? `${tenantLogo}?${Date.now()}`\n        : tenantLogo;\n    const urlSegments = location.pathname.replace(/^\\/+/g, '').split('/');\n    const firstUrlSegment = urlSegments[0];\n    const secondUrlSegment = urlSegments[1];\n    const lastUrlSegment = urlSegments[urlSegments.length - 1];\n    const isIdeaPage =\n      urlSegments.length === 3 &&\n      includes(locales, firstUrlSegment) &&\n      secondUrlSegment === 'ideas' &&\n      lastUrlSegment !== 'new';\n    const isInitiativePage =\n      urlSegments.length === 3 &&\n      includes(locales, firstUrlSegment) &&\n      secondUrlSegment === 'initiatives' &&\n      lastUrlSegment !== 'new';\n    const isAdminPage = isPage('admin', location.pathname);\n    const isInitiativeFormPage = isPage('initiative_form', location.pathname);\n    const isIdeaFormPage = isPage('idea_form', location.pathname);\n    const isIdeaEditPage = isPage('idea_edit', location.pathname);\n    const isInitiativeEditPage = isPage('initiative_edit', location.pathname);\n    const isEmailSettingsPage = isPage('email-settings', location.pathname);\n    const isProjectPage = !!(\n      !fullscreenModalOpened &&\n      urlSegments.length === 3 &&\n      urlSegments[0] === locale &&\n      urlSegments[1] === 'projects'\n    );\n    const totalProjectsListLength =\n      !isNilOrError(adminPublications) && adminPublications.list\n        ? adminPublications.list.length\n        : 0;\n    const showMobileNav =\n      !isAdminPage &&\n      !isIdeaFormPage &&\n      !isInitiativeFormPage &&\n      !isIdeaEditPage &&\n      !isInitiativeEditPage;\n\n    return (\n      <>\n        {showMobileNav && (\n          <MobileNavigation setRef={this.handleMobileNavigationRef} />\n        )}\n\n        <Container\n          id=\"e2e-navbar\"\n          className={`${\n            isAdminPage ? 'admin' : 'citizenPage'\n          } ${'alwaysShowBorder'} ${\n            isIdeaPage || isInitiativePage ? 'hideNavbar' : ''\n          }`}\n          ref={this.handleRef}\n          position={isProjectPage ? 'absolute' : 'fixed'}\n        >\n          <ContainerInner>\n            <Left>\n              {tenantLogo && (\n                <LogoLink to=\"/\" onlyActiveOnIndex={true}>\n                  <Logo\n                    src={tenantLogo}\n                    alt={formatMessage(messages.logoAltText)}\n                  />\n                </LogoLink>\n              )}\n\n              <NavigationItems>\n                <NavigationItem\n                  to=\"/\"\n                  activeClassName=\"active\"\n                  onlyActiveOnIndex={true}\n                >\n                  <NavigationItemBorder />\n                  <NavigationItemText>\n                    <FormattedMessage {...messages.pageOverview} />\n                  </NavigationItemText>\n                </NavigationItem>\n\n                {!isNilOrError(adminPublications) &&\n                  adminPublications.list &&\n                  adminPublications.list.length > 0 && (\n                    <NavigationDropdown>\n                      <NavigationDropdownItem\n                        tabIndex={0}\n                        className={`e2e-projects-dropdown-link ${\n                          projectsDropdownOpened ? 'opened' : 'closed'\n                        } ${\n                          secondUrlSegment === 'projects' ||\n                          secondUrlSegment === 'folders'\n                            ? 'active'\n                            : ''\n                        }`}\n                        aria-expanded={projectsDropdownOpened}\n                        onMouseDown={this.removeFocus}\n                        onClick={this.toggleProjectsDropdown}\n                      >\n                        <NavigationItemBorder />\n                        <NavigationItemText>\n                          <FormattedMessage {...messages.pageProjects} />\n                        </NavigationItemText>\n                        <NavigationDropdownItemIcon name=\"dropdown\" />\n                      </NavigationDropdownItem>\n                      <Dropdown\n                        top=\"68px\"\n                        left=\"10px\"\n                        opened={projectsDropdownOpened}\n                        onClickOutside={this.toggleProjectsDropdown}\n                        content={\n                          <ProjectsList>\n                            {adminPublications.list.map(\n                              (item: IAdminPublicationContent) => (\n                                <React.Fragment key={item.publicationId}>\n                                  {item.publicationType === 'project' && (\n                                    <ProjectsListItem\n                                      to={`/projects/${item.attributes.publication_slug}`}\n                                    >\n                                      {localize(\n                                        item.attributes\n                                          .publication_title_multiloc\n                                      )}\n                                    </ProjectsListItem>\n                                  )}\n                                  <Outlet\n                                    id=\"app.containers.Navbar.projectlist.item\"\n                                    publication={item}\n                                    localize={localize}\n                                  />\n                                </React.Fragment>\n                              )\n                            )}\n                          </ProjectsList>\n                        }\n                        footer={\n                          <>\n                            {totalProjectsListLength > 9 && (\n                              <ProjectsListFooter to={'/projects'}>\n                                <FormattedMessage {...messages.allProjects} />\n                              </ProjectsListFooter>\n                            )}\n                          </>\n                        }\n                      />\n                    </NavigationDropdown>\n                  )}\n\n                <FeatureFlag name=\"ideas_overview\">\n                  <NavigationItem\n                    to=\"/ideas\"\n                    activeClassName=\"active\"\n                    className={secondUrlSegment === 'ideas' ? 'active' : ''}\n                  >\n                    <NavigationItemBorder />\n                    <NavigationItemText>\n                      <FormattedMessage {...messages.pageInputs} />\n                    </NavigationItemText>\n                  </NavigationItem>\n                </FeatureFlag>\n\n                <FeatureFlag name=\"initiatives\">\n                  <NavigationItem\n                    to=\"/initiatives\"\n                    activeClassName=\"active\"\n                    className={\n                      secondUrlSegment === 'initiatives' ? 'active' : ''\n                    }\n                  >\n                    <NavigationItemBorder />\n                    <NavigationItemText>\n                      <FormattedMessage {...messages.pageInitiatives} />\n                    </NavigationItemText>\n                  </NavigationItem>\n                </FeatureFlag>\n\n                <FeatureFlag name=\"events_page\">\n                  <NavigationItem\n                    to=\"/events\"\n                    activeClassName=\"active\"\n                    className={secondUrlSegment === 'events' ? 'active' : ''}\n                  >\n                    <NavigationItemBorder />\n                    <NavigationItemText>\n                      <FormattedMessage {...messages.pageEvents} />\n                    </NavigationItemText>\n                  </NavigationItem>\n                </FeatureFlag>\n\n                <NavigationItem\n                  to=\"/pages/information\"\n                  activeClassName=\"active\"\n                >\n                  <NavigationItemBorder />\n                  <NavigationItemText>\n                    <FormattedMessage {...messages.pageInformation} />\n                  </NavigationItemText>\n                </NavigationItem>\n                <NavigationItem to=\"/pages/faq\" activeClassName=\"active\">\n                  <NavigationItemBorder />\n                  <NavigationItemText>\n                    <FormattedMessage {...messages.pageFaq} />\n                  </NavigationItemText>\n                </NavigationItem>\n              </NavigationItems>\n            </Left>\n            <StyledRightFragment name=\"navbar-right\">\n              <Right className={bowser.msie ? 'ie' : ''}>\n                {!isEmailSettingsPage && (\n                  <>\n                    {isNilOrError(authUser) && (\n                      <RightItem className=\"login noLeftMargin\">\n                        <LogInMenuItem\n                          id=\"e2e-navbar-login-menu-item\"\n                          onClick={this.signIn}\n                        >\n                          <NavigationItemBorder />\n                          <NavigationItemText>\n                            <FormattedMessage {...messages.logIn} />\n                          </NavigationItemText>\n                        </LogInMenuItem>\n                      </RightItem>\n                    )}\n\n                    {isNilOrError(authUser) && (\n                      <RightItem\n                        onClick={this.trackSignUpLinkClick}\n                        className=\"signup noLeftMargin\"\n                      >\n                        <SignUpMenuItem\n                          id=\"e2e-navbar-signup-menu-item\"\n                          onClick={this.signUp}\n                        >\n                          <NavigationItemText className=\"sign-up-span\">\n                            <FormattedMessage {...messages.signUp} />\n                          </NavigationItemText>\n                        </SignUpMenuItem>\n                      </RightItem>\n                    )}\n\n                    {!isNilOrError(authUser) && (\n                      <RightItem className=\"notification\">\n                        <NotificationMenu />\n                      </RightItem>\n                    )}\n\n                    {!isNilOrError(authUser) && (\n                      <RightItem className=\"usermenu\">\n                        <UserMenu />\n                      </RightItem>\n                    )}\n                  </>\n                )}\n\n                {tenantLocales.length > 1 && locale && (\n                  <RightItem\n                    onMouseOver={this.preloadLanguageSelector}\n                    className=\"noLeftMargin\"\n                  >\n                    <StyledLoadableLanguageSelector />\n                  </RightItem>\n                )}\n              </Right>\n            </StyledRightFragment>\n          </ContainerInner>\n        </Container>\n      </>\n    );\n  }\n}\n\nconst Data = adopt<DataProps, InputProps>({\n  authUser: <GetAuthUser />,\n  tenant: <GetAppConfiguration />,\n  locale: <GetLocale />,\n  adminPublications: (\n    <GetAdminPublications\n      publicationStatusFilter={['published', 'archived']}\n      rootLevelOnly\n      removeNotAllowedParents\n    />\n  ),\n});\n\nconst NavbarWithHOCs = injectLocalize<Props>(withRouter(injectIntl(Navbar)));\n\nexport default (inputProps: InputProps) => (\n  <Data {...inputProps}>\n    {(dataProps) => <NavbarWithHOCs {...inputProps} {...dataProps} />}\n  </Data>\n);\n","import React from 'react';\nimport styled, { css } from 'styled-components';\nimport {\n  HeaderContainer,\n  HeaderTitle,\n  ModalContentContainer,\n} from 'components/UI/Modal';\nimport { fontSizes, defaultOutline, media } from 'utils/styleUtils';\n\nexport const Options = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  margin-bottom: 30px;\n\n  ${media.smallerThanMinTablet`\n    margin-bottom: 20px;\n  `}\n`;\n\nexport const Option = styled.div`\n  color: ${(props: any) => props.theme.colorText};\n  font-size: ${fontSizes.base}px;\n  font-weight: 300;\n  line-height: normal;\n  margin-top: 20px;\n\n  & .link {\n    color: ${(props: any) => props.theme.colorText};\n    font-weight: 400;\n    line-height: normal;\n    text-decoration: underline;\n    cursor: pointer;\n\n    &:hover {\n      color: #000;\n      text-decoration: underline;\n    }\n  }\n\n  & .button {\n    display: flex;\n    align-items: center;\n    color: ${(props: any) => props.theme.colorText};\n    font-size: ${fontSizes.base}px;\n    font-weight: 300;\n    line-height: normal;\n    outline: none;\n\n    &.focus-visible {\n      ${defaultOutline};\n    }\n\n    &:hover {\n      color: #000;\n    }\n  }\n\n  & button {\n    text-align: right;\n    padding: 0;\n    margin: 0;\n    border: none;\n    cursor: pointer;\n  }\n`;\n\nexport const StyledHeaderContainer = styled((props) => (\n  <HeaderContainer {...props} />\n))<{\n  inModal: boolean;\n}>`\n  ${(props) =>\n    !props.inModal &&\n    css`\n      padding-top: 0px;\n      background: transparent;\n      border: none;\n\n      ${media.smallerThanMinTablet`\n        padding-top: 0px;\n        padding-left: 2px;\n        padding-right: 2px;\n      `}\n    `}\n`;\n\nexport const StyledHeaderTitle = styled((props) => <HeaderTitle {...props} />)<{\n  inModal: boolean;\n}>`\n  ${(props) =>\n    !props.inModal &&\n    css`\n      font-size: ${fontSizes.xxxl}px;\n    `}\n`;\n\nexport const StyledModalContentContainer = styled((props) => (\n  <ModalContentContainer {...props} />\n))<{\n  inModal: boolean;\n  windowHeight: string;\n  headerHeight: string;\n}>`\n  ${(props) =>\n    props.inModal &&\n    css`\n      padding-top: 20px;\n      padding-bottom: 0px;\n      max-height: calc(85vh - ${props.headerHeight});\n\n      ${media.smallerThanMinTablet`\n        max-height: ${(props) =>\n          `calc(${props.windowHeight} - 30px - ${props.headerHeight})`};\n      `}\n    `}\n\n  ${(props) =>\n    !props.inModal &&\n    css`\n      padding-top: 10px;\n      padding-bottom: 0px;\n\n      ${media.smallerThanMinTablet`\n        padding-top: 10px;\n        padding-left: 2px;\n        padding-right: 2px;\n      `}\n    `}\n`;\n","import React, { useEffect } from 'react';\nimport VerificationSteps from 'modules/commercial/verification/citizen/components/VerificationSteps';\nimport { SignUpStepOutletProps } from 'utils/moduleUtils';\nimport { injectIntl } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\nimport { trackEventByName } from 'utils/analytics';\nimport tracks from './tracks';\nimport messages from './messages';\n\ntype Props = SignUpStepOutletProps & InjectedIntlProps;\n\nconst VerificationSignUpSteps = ({\n  metaData,\n  intl: { formatMessage },\n  ...props\n}: Props) => {\n  useEffect(() => {\n    props.onData({\n      key: 'verification',\n      configuration: {\n        position: 3,\n        stepName: formatMessage(messages.verifyYourIdentity),\n        onSkipped: () => trackEventByName(tracks.signUpVerificationStepSkipped),\n        onError: () => trackEventByName(tracks.signUpVerificationStepFailed),\n        onCompleted: () =>\n          trackEventByName(tracks.signUpVerificationStepCompleted),\n        isEnabled: (metaData) => !!metaData?.verification,\n        isActive: (authUser) => !authUser?.attributes?.verified,\n      },\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  if (props.step !== 'verification') {\n    return null;\n  }\n\n  return (\n    <VerificationSteps\n      {...props}\n      context={metaData?.verificationContext || null}\n      initialActiveStep=\"method-selection\"\n      inModal={!!metaData.inModal}\n      showHeader={false}\n      skippable={true}\n    />\n  );\n};\n\nexport default injectIntl(VerificationSignUpSteps);\n","import React, { ReactNode } from 'react';\nimport { ModuleConfiguration } from 'utils/moduleUtils';\nimport Tab from './admin/components/Tab';\nimport LeafletConfig from './shared/components/Map/LeafletConfig';\nimport Legend from './shared/components/Map/Legend';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { IProjectData } from 'services/projects';\nimport { IPhaseData } from 'services/phases';\nimport FeatureFlag from 'components/FeatureFlag';\n\ntype RenderOnHideTabConditionProps = {\n  project: IProjectData;\n  phases: IPhaseData[] | null;\n  children: ReactNode;\n};\n\nconst RenderOnHideTabCondition = (props: RenderOnHideTabConditionProps) => {\n  const { project, phases, children } = props;\n  const processType = project.attributes.process_type;\n  const participationMethod = project.attributes.participation_method;\n  const hideTab =\n    (processType === 'continuous' &&\n      participationMethod !== 'ideation' &&\n      participationMethod !== 'budgeting') ||\n    (processType === 'timeline' &&\n      !isNilOrError(phases) &&\n      phases.filter((phase) => {\n        return (\n          phase.attributes.participation_method === 'ideation' ||\n          phase.attributes.participation_method === 'budgeting'\n        );\n      }).length === 0);\n\n  if (hideTab) {\n    return null;\n  }\n\n  return <>{children}</>;\n};\n\nconst configuration: ModuleConfiguration = {\n  routes: {\n    'admin.projects': [\n      {\n        path: '/:locale/admin/projects/:projectId/map',\n        name: 'map',\n        container: () =>\n          import('./admin/containers/ProjectCustomMapConfigPage'),\n      },\n    ],\n  },\n  outlets: {\n    'app.components.Map.leafletConfig': (props) => (\n      <FeatureFlag name=\"custom_maps\">\n        <LeafletConfig {...props} />\n      </FeatureFlag>\n    ),\n    'app.components.Map.Legend': (props) => (\n      <FeatureFlag name=\"custom_maps\">\n        <Legend {...props} />\n      </FeatureFlag>\n    ),\n    'app.containers.Admin.projects.edit': (props) => {\n      return (\n        <RenderOnHideTabCondition project={props.project} phases={props.phases}>\n          <Tab {...props} />\n        </RenderOnHideTabCondition>\n      );\n    },\n  },\n};\n\nexport default configuration;\n","import React from 'react';\nimport { isNilOrError } from 'utils/helperUtils';\nimport Link from 'utils/cl-router/Link';\n\n// styles\nimport { darken } from 'polished';\nimport { colors, fontSizes } from 'utils/styleUtils';\nimport styled from 'styled-components';\n\n// hooks\nimport useUser from 'hooks/useUser';\n\n// services\nimport { IUserData } from 'services/users';\n\n// i18n\nimport { injectIntl } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\nimport messages from './messages';\n\nconst Name = styled.span<{\n  color?: string;\n  fontWeight?: number;\n  fontSize?: number;\n  underline?: boolean;\n}>`\n  color: ${({ color, theme }) => color || theme.colorText};\n  font-weight: ${({ fontWeight }) => fontWeight || 400};\n  font-size: ${({ fontSize }) => fontSize || fontSizes.base}px;\n  text-decoration: ${({ underline }) => (underline ? 'underline' : 'none')};\n  hyphens: auto;\n\n  &.isLinkToProfile {\n    &:hover {\n      text-decoration: underline;\n      color: ${({ color, theme }) => darken(0.15, color || theme.colorText)};\n    }\n  }\n\n  &.canModerate {\n    color: ${colors.clRedError};\n\n    &:hover {\n      color: ${darken(0.15, colors.clRedError)};\n    }\n  }\n\n  // this one has to stay at the bottom to\n  // overwrite the styles when there's no user\n  &.isUnknownUser {\n    font-style: italic;\n    text-decoration: none;\n\n    &:hover {\n      text-decoration: none;\n      color: ${({ color, theme }) => color || theme.colorText};\n    }\n  }\n`;\n\ninterface StyleProps {\n  fontWeight?: number;\n  fontSize?: number;\n  underline?: boolean;\n  color?: string;\n  canModerate?: boolean;\n}\n\ninterface Props extends StyleProps {\n  // if user was deleted, userId can be null\n  userId: string | null;\n  className?: string;\n  isLinkToProfile?: boolean;\n  hideLastName?: boolean;\n}\n\nconst UserName = (props: Props & InjectedIntlProps) => {\n  const {\n    intl: { formatMessage },\n    userId,\n    className,\n    isLinkToProfile,\n    hideLastName,\n    fontWeight,\n    fontSize,\n    underline,\n    color,\n    canModerate,\n  } = props;\n  const user = useUser({ userId });\n\n  if (userId === null) {\n    // Deleted user\n    return (\n      <Name\n        fontWeight={fontWeight}\n        fontSize={fontSize}\n        underline={underline}\n        className={`\n      ${className || ''}\n      isUnknownUser\n      e2e-username\n    `}\n        color={color}\n      >\n        {formatMessage(messages.deletedUser)}\n      </Name>\n    );\n  }\n\n  if (!isNilOrError(user)) {\n    const getName = (user: IUserData) => {\n      const firstName = user.attributes.first_name;\n      const lastName = user.attributes.last_name;\n      return `${firstName} ${!hideLastName && lastName ? lastName : ''}`;\n    };\n    const name = getName(user);\n    const profileLink = `/profile/${user.attributes.slug}`;\n\n    const NameComponent = (\n      <Name\n        fontWeight={fontWeight}\n        fontSize={fontSize}\n        underline={underline}\n        className={`\n          ${className || ''}\n          ${canModerate ? 'canModerate' : ''}\n          ${isLinkToProfile ? 'isLinkToProfile' : ''}\n          e2e-username\n        `}\n        color={color}\n      >\n        {name}\n      </Name>\n    );\n\n    if (isLinkToProfile) {\n      return (\n        <Link to={profileLink} className={`e2e-author-link ${className || ''}`}>\n          {NameComponent}\n        </Link>\n      );\n    } else {\n      return NameComponent;\n    }\n  }\n\n  return null;\n};\n\nexport default injectIntl(UserName);\n","import { Component } from 'react';\nimport {\n  isString,\n  isEqual,\n  get,\n  omitBy,\n  isNil,\n  omit,\n  cloneDeep,\n} from 'lodash-es';\nimport { Subscription, BehaviorSubject } from 'rxjs';\nimport { distinctUntilChanged, mergeScan, map } from 'rxjs/operators';\nimport { projectsStream, IProjectData } from 'services/projects';\nimport shallowCompare from 'utils/shallowCompare';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { reportError } from 'utils/loggingUtils';\n\nexport type SortAttribute = 'new' | 'trending' | 'popular';\nexport type Sort =\n  | 'new'\n  | '-new'\n  | 'trending'\n  | '-trending'\n  | 'popular'\n  | '-popular';\nexport type PublicationStatus = 'draft' | 'published' | 'archived';\nexport type SelectedPublicationStatus = 'all' | 'published' | 'archived';\n\nexport interface InputProps {\n  pageNumber?: number;\n  pageSize?: number;\n  sort?: Sort;\n  areas?: string[];\n  topics?: string[];\n  publicationStatuses: PublicationStatus[];\n  filterCanModerate?: boolean;\n  filteredProjectIds?: string[];\n}\n\ninterface IQueryParameters {\n  'page[number]'?: number;\n  'page[size]'?: number;\n  sort?: Sort;\n  areas?: string[];\n  topics?: string[];\n  publication_statuses: PublicationStatus[];\n  filter_can_moderate?: boolean;\n  filter_ids?: string[];\n}\n\ninterface IAccumulator {\n  projects: IProjectData[] | null;\n  queryParameters: IQueryParameters;\n  hasMore: boolean;\n}\n\ntype children = (renderProps: GetProjectsChildProps) => JSX.Element | null;\n\ninterface Props extends InputProps {\n  children?: children;\n}\n\nexport type GetProjectsChildProps = State & {\n  onLoadMore: () => void;\n  onChangeSorting: (sort: Sort) => void;\n  onChangeAreas: (areas: string[]) => void;\n  onChangeTopics: (topics: string[]) => void;\n  onChangePublicationStatus: (\n    publicationStatus: SelectedPublicationStatus\n  ) => void;\n};\n\ninterface State {\n  queryParameters: IQueryParameters;\n  projectsList: IProjectData[] | undefined | null;\n  hasMore: boolean;\n  querying: boolean;\n  loadingMore: boolean;\n}\n\nexport default class GetProjects extends Component<Props, State> {\n  private queryParameters$: BehaviorSubject<IQueryParameters>;\n  private subscriptions: Subscription[];\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      // defaults\n      queryParameters: {\n        'page[number]': 1,\n        'page[size]': props.pageSize || 250,\n        sort: props.sort,\n        areas: props.areas,\n        topics: props.topics,\n        publication_statuses: props.publicationStatuses,\n        filter_can_moderate: props.filterCanModerate,\n        filter_ids: props.filteredProjectIds,\n      },\n      projectsList: undefined,\n      hasMore: false,\n      querying: true,\n      loadingMore: false,\n    };\n\n    const queryParameters = this.getQueryParameters(this.state, props);\n    this.queryParameters$ = new BehaviorSubject(queryParameters);\n    this.subscriptions = [];\n  }\n\n  componentDidMount() {\n    const queryParameters = this.getQueryParameters(this.state, this.props);\n    const startAccumulatorValue: IAccumulator = {\n      queryParameters,\n      projects: null,\n      hasMore: false,\n    };\n\n    this.subscriptions = [\n      this.queryParameters$\n        .pipe(\n          distinctUntilChanged((x, y) => shallowCompare(x, y)),\n          mergeScan<IQueryParameters, IAccumulator>(\n            (acc, newQueryParameters) => {\n              const oldQueryParamsWithoutPageNumber = omit(\n                cloneDeep(acc.queryParameters),\n                'page[number]'\n              );\n              const newQueryParamsWithoutPageNumber = omit(\n                cloneDeep(newQueryParameters),\n                'page[number]'\n              );\n              const oldPageNumber = acc.queryParameters['page[number]'];\n              const newPageNumber = newQueryParameters['page[number]'];\n              const isLoadingMore =\n                isEqual(\n                  oldQueryParamsWithoutPageNumber,\n                  newQueryParamsWithoutPageNumber\n                ) && oldPageNumber !== newPageNumber;\n              const pageNumber = isLoadingMore\n                ? newQueryParameters['page[number]']\n                : 1;\n              const queryParameters: IQueryParameters = {\n                ...newQueryParameters,\n                'page[number]': pageNumber,\n              };\n\n              this.setState({\n                querying: !isLoadingMore,\n                loadingMore: isLoadingMore,\n              });\n\n              return projectsStream({ queryParameters }).observable.pipe(\n                map((projects) => {\n                  const selfLink = get(projects, 'links.self');\n                  const lastLink = get(projects, 'links.last');\n                  const hasMore =\n                    isString(selfLink) &&\n                    isString(lastLink) &&\n                    selfLink !== lastLink;\n\n                  if (isNilOrError(projects)) {\n                    reportError({\n                      message: 'There was an incorrect response for projects',\n                      response: projects,\n                    });\n                  }\n\n                  return {\n                    queryParameters,\n                    hasMore,\n                    projects: !isLoadingMore\n                      ? projects.data\n                      : [...(acc.projects || []), ...projects.data],\n                  };\n                })\n              );\n            },\n            startAccumulatorValue\n          )\n        )\n        .subscribe(({ projects, queryParameters, hasMore }) => {\n          this.setState({\n            queryParameters,\n            hasMore,\n            projectsList: projects,\n            querying: false,\n            loadingMore: false,\n          });\n        }),\n    ];\n  }\n\n  componentDidUpdate(prevProps: Props, _prevState: State) {\n    const { children: _prevChildren, ...prevPropsWithoutChildren } = prevProps;\n    const { children: _nextChildren, ...nextPropsWithoutChildren } = this.props;\n\n    if (!isEqual(prevPropsWithoutChildren, nextPropsWithoutChildren)) {\n      const queryParameters = this.getQueryParameters(this.state, this.props);\n      this.queryParameters$.next(queryParameters);\n    }\n  }\n\n  componentWillUnmount() {\n    this.subscriptions.forEach((subscription) => subscription.unsubscribe());\n  }\n\n  getQueryParameters = (state: State, props: Props) => {\n    return {\n      ...state.queryParameters,\n      ...omitBy(\n        {\n          'page[number]': props.pageNumber,\n          'page[size]': props.pageSize,\n          sort: props.sort,\n          areas: props.areas,\n          topics: props.topics,\n          publication_statuses: props.publicationStatuses,\n          filter_can_moderate: props.filterCanModerate,\n          filter_ids: props.filteredProjectIds,\n        },\n        isNil\n      ),\n    };\n  };\n\n  loadMore = () => {\n    if (!this.state.loadingMore) {\n      this.queryParameters$.next({\n        ...this.state.queryParameters,\n        'page[number]': (this.state.queryParameters['page[number]'] || 0) + 1,\n      });\n    }\n  };\n\n  handleSortOnChange = (sort: Sort) => {\n    this.queryParameters$.next({\n      ...this.state.queryParameters,\n      sort,\n      'page[number]': 1,\n    });\n  };\n\n  handleAreasOnChange = (areas: string[]) => {\n    this.queryParameters$.next({\n      ...this.state.queryParameters,\n      areas,\n      'page[number]': 1,\n    });\n  };\n\n  handleTopicsOnChange = (topics: string[]) => {\n    this.queryParameters$.next({\n      ...this.state.queryParameters,\n      topics,\n      'page[number]': 1,\n    });\n  };\n\n  handlePublicationStatusOnChange = (\n    publicationStatus: SelectedPublicationStatus\n  ) => {\n    this.queryParameters$.next({\n      ...this.state.queryParameters,\n      publication_statuses:\n        publicationStatus === 'all'\n          ? ['published', 'archived']\n          : [publicationStatus],\n      'page[number]': 1,\n    });\n  };\n\n  render() {\n    const { children } = this.props;\n    return (children as children)({\n      ...this.state,\n      onLoadMore: this.loadMore,\n      onChangeSorting: this.handleSortOnChange,\n      onChangeAreas: this.handleAreasOnChange,\n      onChangeTopics: this.handleTopicsOnChange,\n      onChangePublicationStatus: this.handlePublicationStatusOnChange,\n    });\n  }\n}\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  addCondition: {\n    id: 'app.components.admin.UserFilterConditions.addCondition',\n    defaultMessage: 'Add condition',\n  },\n  field_email: {\n    id: 'app.components.admin.UserFilterConditions.field_email',\n    defaultMessage: 'Email',\n  },\n  field_lives_in: {\n    id: 'app.components.admin.UserFilterConditions.field_lives_in',\n    defaultMessage: 'Lives in',\n  },\n  field_registration_completed_at: {\n    id:\n      'app.components.admin.UserFilterConditions.field_registration_completed_at',\n    defaultMessage: 'Registration date',\n  },\n  field_role: {\n    id: 'app.components.admin.UserFilterConditions.field_role',\n    defaultMessage: 'Role',\n  },\n  field_participated_in_project: {\n    id:\n      'app.components.admin.UserFilterConditions.field_participated_in_project',\n    defaultMessage: 'Contributed to project',\n  },\n  field_participated_in_topic: {\n    id: 'app.components.admin.UserFilterConditions.field_participated_in_topic',\n    defaultMessage: 'Contributed to topic',\n  },\n  field_participated_in_input_status: {\n    id:\n      'app.components.admin.UserFilterConditions.field_participated_in_input_status',\n    defaultMessage: 'Interacted with an input with status',\n  },\n  field_verified: {\n    id: 'app.components.admin.UserFilterConditions.field_verified',\n    defaultMessage: 'Verification',\n  },\n  predicate_is: {\n    id: 'app.components.admin.UserFilterConditions.predicate_is',\n    defaultMessage: 'is',\n  },\n  predicate_not_is: {\n    id: 'app.components.admin.UserFilterConditions.predicate_not_is',\n    defaultMessage: 'is not',\n  },\n  predicate_contains: {\n    id: 'app.components.admin.UserFilterConditions.predicate_contains',\n    defaultMessage: 'contains',\n  },\n  predicate_not_contains: {\n    id: 'app.components.admin.UserFilterConditions.predicate_not_contains',\n    defaultMessage: 'does not contain',\n  },\n  predicate_begins_with: {\n    id: 'app.components.admin.UserFilterConditions.predicate_begins_with',\n    defaultMessage: 'begins with',\n  },\n  predicate_not_begins_with: {\n    id: 'app.components.admin.UserFilterConditions.predicate_not_begins_with',\n    defaultMessage: 'does not begin with',\n  },\n  predicate_ends_on: {\n    id: 'app.components.admin.UserFilterConditions.predicate_ends_on',\n    defaultMessage: 'ends on',\n  },\n  predicate_not_ends_on: {\n    id: 'app.components.admin.UserFilterConditions.predicate_not_ends_on',\n    defaultMessage: 'does not end on',\n  },\n  predicate_is_empty: {\n    id: 'app.components.admin.UserFilterConditions.predicate_is_empty',\n    defaultMessage: 'is empty',\n  },\n  predicate_not_is_empty: {\n    id: 'app.components.admin.UserFilterConditions.predicate_not_is_empty',\n    defaultMessage: 'is not empty',\n  },\n  predicate_has_value: {\n    id: 'app.components.admin.UserFilterConditions.predicate_has_value',\n    defaultMessage: 'has value',\n  },\n  predicate_not_has_value: {\n    id: 'app.components.admin.UserFilterConditions.predicate_not_has_value',\n    defaultMessage: 'does not have value',\n  },\n  predicate_is_one_of: {\n    id: 'app.components.admin.UserFilterConditions.predicate_is_one_of',\n    defaultMessage: 'is one of',\n  },\n  predicate_not_is_one_of: {\n    id: 'app.components.admin.UserFilterConditions.predicate_not_is_one_of',\n    defaultMessage: 'is not one of',\n  },\n  predicate_is_checked: {\n    id: 'app.components.admin.UserFilterConditions.predicate_is_checked',\n    defaultMessage: 'is checked',\n  },\n  predicate_not_is_checked: {\n    id: 'app.components.admin.UserFilterConditions.predicate_not_is_checked',\n    defaultMessage: 'is not checked',\n  },\n  predicate_is_before: {\n    id: 'app.components.admin.UserFilterConditions.predicate_is_before',\n    defaultMessage: 'is before',\n  },\n  predicate_is_exactly: {\n    id: 'app.components.admin.UserFilterConditions.predicate_is_exactly',\n    defaultMessage: 'is exactly',\n  },\n  predicate_is_after: {\n    id: 'app.components.admin.UserFilterConditions.predicate_is_after',\n    defaultMessage: 'is after',\n  },\n  predicate_is_equal: {\n    id: 'app.components.admin.UserFilterConditions.predicate_is_equal',\n    defaultMessage: 'is',\n  },\n  predicate_not_is_equal: {\n    id: 'app.components.admin.UserFilterConditions.predicate_not_is_equal',\n    defaultMessage: 'is not',\n  },\n  predicate_is_larger_than: {\n    id: 'app.components.admin.UserFilterConditions.predicate_is_larger_than',\n    defaultMessage: 'is larger than',\n  },\n  predicate_is_larger_than_or_equal: {\n    id:\n      'app.components.admin.UserFilterConditions.predicate_is_larger_than_or_equal',\n    defaultMessage: 'is larger than or equal to',\n  },\n  predicate_is_smaller_than: {\n    id: 'app.components.admin.UserFilterConditions.predicate_is_smaller_than',\n    defaultMessage: 'is smaller than',\n  },\n  predicate_is_smaller_than_or_equal: {\n    id:\n      'app.components.admin.UserFilterConditions.predicate_is_smaller_than_or_equal',\n    defaultMessage: 'is smaller than or equal to',\n  },\n  predicate_is_admin: {\n    id: 'app.components.admin.UserFilterConditions.predicate_is_admin',\n    defaultMessage: 'is an admin',\n  },\n  predicate_not_is_admin: {\n    id: 'app.components.admin.UserFilterConditions.predicate_not_is_admin',\n    defaultMessage: 'is not an admin',\n  },\n  predicate_is_project_moderator: {\n    id:\n      'app.components.admin.UserFilterConditions.predicate_is_project_moderator',\n    defaultMessage: 'is a moderator',\n  },\n  predicate_not_is_project_moderator: {\n    id:\n      'app.components.admin.UserFilterConditions.predicate_not_is_project_moderator',\n    defaultMessage: 'is not a moderator',\n  },\n  predicate_is_normal_user: {\n    id: 'app.components.admin.UserFilterConditions.predicate_is_normal_user',\n    defaultMessage: 'is a normal user',\n  },\n  predicate_not_is_normal_user: {\n    id:\n      'app.components.admin.UserFilterConditions.predicate_not_is_normal_user',\n    defaultMessage: 'is not a normal user',\n  },\n\n  predicate_in: {\n    id: 'app.components.admin.UserFilterConditions.predicate_in',\n    defaultMessage: 'performed any action',\n  },\n  predicate_not_in: {\n    id: 'app.components.admin.UserFilterConditions.predicate_not_in',\n    defaultMessage: \"didn't contribute\",\n  },\n  predicate_posted_input: {\n    id: 'app.components.admin.UserFilterConditions.predicate_posted_input',\n    defaultMessage: 'posted an input',\n  },\n  predicate_not_posted_input: {\n    id: 'app.components.admin.UserFilterConditions.predicate_not_posted_input',\n    defaultMessage: \"didn't post an input\",\n  },\n  predicate_commented_in: {\n    id: 'app.components.admin.UserFilterConditions.predicate_commented_in',\n    defaultMessage: 'commented',\n  },\n  predicate_not_commented_in: {\n    id: 'app.components.admin.UserFilterConditions.predicate_not_commented_in',\n    defaultMessage: \"didn't comment\",\n  },\n  predicate_voted_input_in: {\n    id: 'app.components.admin.UserFilterConditions.predicate_voted_input_in',\n    defaultMessage: 'voted on input',\n  },\n  predicate_not_voted_input_in: {\n    id:\n      'app.components.admin.UserFilterConditions.predicate_not_voted_input_in',\n    defaultMessage: \"didn't vote on input\",\n  },\n  predicate_voted_comment_in: {\n    id: 'app.components.admin.UserFilterConditions.predicate_voted_comment_in',\n    defaultMessage: 'voted on comment',\n  },\n  predicate_not_voted_comment_in: {\n    id:\n      'app.components.admin.UserFilterConditions.predicate_not_voted_comment_in',\n    defaultMessage: \"didn't vote on comment\",\n  },\n  predicate_budgeted_in: {\n    id: 'app.components.admin.UserFilterConditions.predicate_budgeted_in',\n    defaultMessage: 'spent budget',\n  },\n  predicate_not_budgeted_in: {\n    id: 'app.components.admin.UserFilterConditions.predicate_not_budgeted_in',\n    defaultMessage: \"didn't spend budget\",\n  },\n  predicate_volunteered_in: {\n    id: 'app.components.admin.UserFilterConditions.predicate_volunteered_in',\n    defaultMessage: 'volunteered',\n  },\n  predicate_not_volunteered_in: {\n    id:\n      'app.components.admin.UserFilterConditions.predicate_not_volunteered_in',\n    defaultMessage: \"didn't volunteer\",\n  },\n  predicate_is_verified: {\n    id: 'app.components.admin.UserFilterConditions.predicate_is_verified',\n    defaultMessage: 'is verified',\n  },\n  predicate_not_is_verified: {\n    id: 'app.components.admin.UserFilterConditions.predicate_not_is_verified',\n    defaultMessage: 'is not verified',\n  },\n\n  rulesFormLabelField: {\n    id: 'app.components.admin.UserFilterConditions.rulesFormLabelField',\n    defaultMessage: 'Attribute',\n  },\n  rulesFormLabelPredicate: {\n    id: 'app.components.admin.UserFilterConditions.rulesFormLabelPredicate',\n    defaultMessage: 'Condition',\n  },\n  rulesFormLabelValue: {\n    id: 'app.components.admin.UserFilterConditions.rulesFormLabelValue',\n    defaultMessage: 'Value',\n  },\n});\n","import React, { ReactElement, FormEvent } from 'react';\nimport { FormattedMessage } from 'utils/cl-intl';\nimport styled from 'styled-components';\nimport { fontSizes, colors } from 'utils/styleUtils';\nimport messages from './messages';\nimport FranceConnectLogo from './FranceConnectLogo';\nimport { ScreenReaderOnly } from 'utils/a11y';\n\nconst FranceConnectButtonWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 20px;\n  background: ${colors.background};\n  border-radius: ${(props) => props.theme.borderRadius};\n`;\n\nconst FranceConnectTitle = styled.p`\n  color: ${(props: any) => props.theme.colorText};\n  font-size: ${fontSizes.base}px;\n  text-align: center;\n  font-weight: bold;\n  margin-bottom: 4px;\n`;\n\nconst FranceConnectSubTitle = styled.p`\n  color: ${(props: any) => props.theme.colorText};\n  font-size: ${fontSizes.base}px;\n  text-align: center;\n  margin-bottom: 2rem;\n`;\n\nconst FranceConnectButtonLink = styled.button`\n  flex-grow: 0;\n  flex-shrink: 1;\n  flex-basis: auto;\n  text-align: left;\n  cursor: pointer;\n  padding: 0;\n  margin: 0;\n  margin-bottom: 8px;\n  border: none;\n\n  #france-connect-background {\n    transition: fill 0.2s ease-in-out;\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n  }\n\n  &:hover #Fond {\n    fill: #2183f0;\n  }\n`;\n\nconst SubSocialButtonLink = styled.a`\n  color: ${(props: any) => props.theme.colorText};\n  font-size: ${fontSizes.small}px;\n  font-weight: 300;\n  text-decoration: none;\n  transition: all 0.2s ease-in-out;\n  line-height: 1;\n\n  &:hover {\n    color: #000;\n    text-decoration: underline;\n  }\n`;\n\ninterface Props {\n  onClick: (event: FormEvent) => void;\n  logoAlt: string;\n}\n\nconst FranceConnectButton = ({ onClick, logoAlt }: Props): ReactElement => {\n  return (\n    <FranceConnectButtonWrapper>\n      <FranceConnectTitle>\n        <FormattedMessage\n          {...messages.useFranceConnectToLoginCreateOrVerifyYourAccount}\n        />\n      </FranceConnectTitle>\n      <FranceConnectSubTitle>\n        <FormattedMessage\n          {...messages.franceConnectIsTheSolutionProposedByTheGovernment}\n        />\n      </FranceConnectSubTitle>\n      <FranceConnectButtonLink onClick={onClick}>\n        <FranceConnectLogo />\n        <ScreenReaderOnly>{logoAlt}</ScreenReaderOnly>\n      </FranceConnectButtonLink>\n      <SubSocialButtonLink\n        href=\"https://app.franceconnect.gouv.fr/en-savoir-plus\"\n        target=\"_blank\"\n      >\n        <FormattedMessage {...messages.whatIsFranceConnect} />\n      </SubSocialButtonLink>\n    </FranceConnectButtonWrapper>\n  );\n};\n\nexport default FranceConnectButton;\n","import React from 'react';\nimport Loadable from 'react-loadable';\nimport { InputProps } from 'components/UI/Modal';\n\nconst LoadableModal = Loadable({\n  loading: () => null,\n  loader: () => import('components/UI/Modal'),\n  render(loaded, props: InputProps) {\n    const Modal = loaded.default;\n    return <Modal {...props} />;\n  },\n});\n\nexport default LoadableModal;\n","import React, { PureComponent } from 'react';\nimport styled from 'styled-components';\nimport { colors, defaultOutline, isRtl } from 'utils/styleUtils';\nimport { Icon } from 'cl2-component-library';\nimport { isBoolean } from 'lodash-es';\nimport { darken, hideVisually } from 'polished';\n\nconst CheckboxContainer = styled.div<{ hasLabel: boolean }>`\n  margin-right: ${({ hasLabel }) => (hasLabel ? '10px' : '0px')};\n\n  ${isRtl`\n    margin-right: 0;\n    margin-left: ${({ hasLabel }) => (hasLabel ? '10px' : '0px')};\n  `}\n`;\n\nconst CheckMarkIcon = styled(Icon)<{ size: string }>`\n  fill: #fff;\n  flex: 0 0 ${({ size }) => Math.round((parseInt(size, 10) / 100) * 70)}px;\n  width: ${({ size }) => Math.round((parseInt(size, 10) / 100) * 70)}px;\n  height: ${({ size }) => Math.round((parseInt(size, 10) / 100) * 70)}px;\n`;\n\nconst IndeterminateIcon = styled(Icon)<{ size: string }>`\n  fill: #fff;\n  flex: 0 0 ${({ size }) => Math.round((parseInt(size, 10) / 100) * 60)}px;\n  width: ${({ size }) => Math.round((parseInt(size, 10) / 100) * 60)}px;\n  height: ${({ size }) => Math.round((parseInt(size, 10) / 100) * 60)}px;\n`;\n\nconst Label = styled.label<{ disabled: boolean }>`\n  position: relative;\n  flex: 1;\n  display: flex;\n  align-items: center;\n  cursor: ${({ disabled }) => (disabled ? 'not-allowed' : 'pointer')};\n\n  ${isRtl`\n    flex-direction: row-reverse;\n  `}\n`;\n\nconst HiddenCheckbox = styled.input.attrs({ type: 'checkbox' })`\n  ${hideVisually()};\n`;\n\nconst StyledCheckbox = styled.div<{\n  checkedOrIndeterminate: boolean;\n  size: string;\n}>`\n  width: ${({ size }) => parseInt(size, 10)}px;\n  height: ${({ size }) => parseInt(size, 10)}px;\n  flex: 0 0 ${({ size }) => parseInt(size, 10)}px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: ${(props) => props.theme.borderRadius};\n  border: solid 1px\n    ${({ checkedOrIndeterminate }) =>\n      checkedOrIndeterminate ? colors.clGreen : colors.separationDark};\n  background: ${({ checkedOrIndeterminate }) =>\n    checkedOrIndeterminate ? colors.clGreen : '#fff'};\n  transition: all 120ms ease-out;\n\n  ${HiddenCheckbox}.focus-visible + & {\n    ${defaultOutline};\n  }\n\n  &.enabled {\n    &:hover {\n      background: ${({ checkedOrIndeterminate }) =>\n        checkedOrIndeterminate ? darken(0.05, colors.clGreen) : '#fff'};\n      border-color: ${({ checkedOrIndeterminate }) =>\n        checkedOrIndeterminate ? darken(0.05, colors.clGreen) : '#000'};\n    }\n  }\n`;\n\ntype DefaultProps = {\n  size?: string;\n  disabled?: boolean;\n  indeterminate?: boolean;\n};\n\ntype Props = DefaultProps & {\n  checked: boolean;\n  onChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\n  className?: string;\n  label?: string | JSX.Element | null;\n  id?: string;\n  name?: string;\n};\n\nexport default class Checkbox extends PureComponent<Props> {\n  static defaultProps: DefaultProps = {\n    size: '22px',\n    disabled: false,\n    indeterminate: false,\n  };\n\n  render() {\n    const {\n      id,\n      label,\n      size,\n      checked,\n      className,\n      disabled,\n      indeterminate,\n      onChange,\n      name,\n    } = this.props;\n    const hasLabel = !!label;\n\n    if (size && isBoolean(disabled) && isBoolean(indeterminate)) {\n      return (\n        <Label id={id || ''} className={className || ''} disabled={disabled}>\n          <CheckboxContainer hasLabel={hasLabel}>\n            <HiddenCheckbox\n              onChange={onChange}\n              checked={checked}\n              disabled={disabled}\n              tabIndex={0}\n              name={name}\n            />\n            <StyledCheckbox\n              checkedOrIndeterminate={checked || indeterminate}\n              size={size}\n              className={`${checked ? 'checked' : ''} ${\n                disabled ? 'disabled' : 'enabled'\n              } e2e-checkbox`}\n            >\n              {checked && (\n                <CheckMarkIcon ariaHidden name=\"checkmark\" size={size} />\n              )}\n              {indeterminate && (\n                <IndeterminateIcon\n                  ariaHidden\n                  name=\"indeterminate\"\n                  size={size}\n                />\n              )}\n            </StyledCheckbox>\n          </CheckboxContainer>\n          {label}\n        </Label>\n      );\n    }\n\n    return null;\n  }\n}\n","import React, { Fragment, FormEvent } from 'react';\nimport styled from 'styled-components';\nimport { colors, fontSizes, media } from 'utils/styleUtils';\nimport { transparentize } from 'polished';\nimport messages from './messages';\nimport { FormattedMessage } from 'utils/cl-intl';\nimport { Radio } from 'cl2-component-library';\nimport { getDestinationConfig, IDestination } from './destinations';\nimport useAppConfiguration from 'hooks/useAppConfiguration';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { IAppConfiguration } from 'services/appConfiguration';\n\nconst Container = styled.div`\n  display: flex;\n  padding: 20px;\n  border-radius: ${(props: any) => props.theme.borderRadius};\n  background-color: ${transparentize(0.95, colors.adminTextColor)};\n  border: 1px solid ${colors.separation};\n  margin-bottom: 10px;\n\n  &:last-child {\n    margin: 0;\n  }\n\n  ${media.smallerThanMaxTablet`\n    flex-wrap: wrap;\n  `}\n`;\n\nconst TextContainer = styled.div`\n  padding: 0 20px;\n  overflow-wrap: break-word;\n  word-wrap: break-word;\n  word-break: break-word;\n\n  p {\n    color: ${colors.label};\n    overflow-wrap: break-word;\n    word-wrap: break-word;\n    word-break: break-word;\n  }\n\n  ${media.smallerThanMaxTablet`\n    padding: 0;\n  `}\n`;\n\nconst StyledFieldset = styled.fieldset`\n  display: flex;\n  flex-direction: column;\n  padding: 0;\n  margin: 0;\n  margin-bottom: 10px;\n  border: none;\n`;\n\nconst Separator = styled.span`\n  color: ${colors.label};\n  font-weight: 400;\n  font-size: ${fontSizes.base}px;\n  line-height: 19px;\n`;\n\nconst SSpan = styled.span`\n  padding-left: 10px;\n  padding-right: 10px;\n\n  ${media.smallerThanMaxTablet`\n    padding-left: 8px;\n    padding-right: 8px;\n`}\n`;\n\nconst Tools = styled.span`\n  font-weight: 500;\n`;\n\ninterface Props {\n  category: string;\n  destinations: IDestination[];\n  checked: boolean;\n  disableUncheck?: boolean;\n  handleChange: (\n    category: string,\n    value: boolean\n  ) => (e: FormEvent<HTMLInputElement>) => void;\n}\n\nconst DestinationName = ({\n  tenant,\n  destination,\n}: {\n  tenant: IAppConfiguration | null;\n  destination: IDestination;\n}) => {\n  const config = getDestinationConfig(destination);\n  if (config?.name && tenant) {\n    return <>{config.name(tenant.data)}</>;\n  } else if (config) {\n    return <>{config.key}</>;\n  } else {\n    return null;\n  }\n};\n\nconst CategoryCard = ({\n  category,\n  destinations,\n  checked,\n  handleChange,\n  disableUncheck,\n}: Props) => {\n  const tenant = useAppConfiguration();\n\n  return (\n    <Container className=\"e2e-category\">\n      <TextContainer>\n        <FormattedMessage\n          id={`${category}-label`}\n          tagName=\"h2\"\n          {...messages[category]}\n        />\n        <StyledFieldset>\n          <Radio\n            onChange={handleChange(category, true)}\n            currentValue={checked}\n            value={true}\n            name={category}\n            id={`${category}-radio-true`}\n            label={<FormattedMessage {...messages.allow} />}\n            isRequired\n          />\n          <Radio\n            onChange={handleChange(category, false)}\n            currentValue={checked}\n            value={false}\n            name={category}\n            id={`${category}-radio-false`}\n            label={<FormattedMessage {...messages.disallow} />}\n            isRequired\n            disabled={disableUncheck}\n          />\n        </StyledFieldset>\n        <FormattedMessage tagName=\"p\" {...messages[`${category}Purpose`]} />\n        {destinations.length > 0 && (\n          <p>\n            <Tools>\n              <FormattedMessage {...messages.tools} />:\n            </Tools>\n            {destinations.map((d, index) => (\n              <Fragment key={d}>\n                {index !== 0 && <Separator></Separator>}\n                <SSpan>\n                  <DestinationName\n                    tenant={!isNilOrError(tenant) ? tenant : null}\n                    destination={d}\n                  />\n                </SSpan>\n              </Fragment>\n            ))}\n          </p>\n        )}\n      </TextContainer>\n    </Container>\n  );\n};\n\nexport default CategoryCard;\n","export default {\n  settingToggled: {\n    name: 'Changed inappropriate content flag (NLP) setting',\n  },\n};\n","import React, { memo, useCallback, useState, useEffect } from 'react';\nimport { get, isEmpty, transform } from 'lodash-es';\nimport { withRouter, WithRouterProps } from 'react-router';\nimport streams from 'utils/streams';\nimport { API_PATH } from 'containers/App/constants';\nimport { convertToGraphqlLocale, isNilOrError } from 'utils/helperUtils';\nimport bowser from 'bowser';\nimport moment from 'moment';\n\n// utils\nimport eventEmitter from 'utils/eventEmitter';\n\n// graphql\nimport { gql, useQuery, useMutation } from '@apollo/client';\nimport { client } from '../../utils/apolloUtils';\n\n// hooks\nimport useAppConfigurationLocales from 'hooks/useAppConfigurationLocales';\nimport useGraphqlTenantLocales from 'hooks/useGraphqlTenantLocales';\n\n// components\nimport { Input, Icon } from 'cl2-component-library';\nimport Button from 'components/UI/Button';\nimport InputMultilocWithLocaleSwitcher from 'components/UI/InputMultilocWithLocaleSwitcher';\nimport Modal from 'components/UI/Modal';\nimport Error from 'components/UI/Error';\nimport Link from 'utils/cl-router/Link';\nimport T from 'components/T';\n\n// i18n\nimport { injectIntl, FormattedMessage } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\nimport messages from './messages';\n\n// analytics\nimport { trackEventByName } from 'utils/analytics';\nimport tracks from '../../tracks';\n\n// styling\nimport styled from 'styled-components';\nimport { colors, fontSizes } from 'utils/styleUtils';\nimport { darken } from 'polished';\n\n// typings\nimport { Locale, Multiloc } from 'typings';\n\nconst Content = styled.div`\n  padding-left: 30px;\n  padding-right: 30px;\n  padding-top: 35px;\n  padding-bottom: 50px;\n`;\n\nconst StyledInputMultilocWithLocaleSwitcher = styled(\n  InputMultilocWithLocaleSwitcher\n)`\n  margin-bottom: 35px;\n`;\n\nconst Success = styled.div`\n  height: 208px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst SuccessIcon = styled(Icon)`\n  height: 40px;\n  fill: ${colors.clGreenSuccess};\n  margin-bottom: 20px;\n`;\n\nconst SuccessText = styled.div`\n  color: ${colors.clGreenSuccess};\n  font-size: ${fontSizes.medium}px;\n  font-weight: 400;\n  text-align: center;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  > span {\n    margin-bottom: 8px;\n  }\n\n  a {\n    color: ${colors.clGreenSuccess};\n    text-decoration: underline;\n\n    &:hover {\n      color: ${darken(0.15, colors.clGreenSuccess)};\n      text-decoration: underline;\n    }\n  }\n`;\n\nconst Footer = styled.div`\n  width: 100%;\n  display: flex;\n  align-items: center;\n`;\n\nconst CreateProjectButton = styled(Button)`\n  margin-right: 10px;\n`;\n\nconst CloseButton = styled(Button)``;\n\nexport interface Props {\n  projectTemplateId: string;\n  opened: boolean;\n  emitSuccessEvent?: boolean;\n  showGoBackLink?: boolean;\n  close: () => void;\n}\n\ninterface IVariables {\n  projectTemplateId: string | undefined;\n  titleMultiloc: Multiloc;\n  timelineStartAt: string;\n}\n\nconst UseTemplateModal = memo<Props & WithRouterProps & InjectedIntlProps>(\n  ({\n    params,\n    intl,\n    projectTemplateId,\n    opened,\n    emitSuccessEvent,\n    showGoBackLink,\n    close,\n  }) => {\n    const templateId: string | undefined =\n      projectTemplateId || get(params, 'projectTemplateId');\n\n    const tenantLocales = useAppConfigurationLocales();\n    const graphqlTenantLocales = useGraphqlTenantLocales();\n\n    const [titleMultiloc, setTitleMultiloc] = useState<Multiloc | null>(null);\n    const [startDate, setStartDate] = useState<string | null>(null);\n    const [selectedLocale, setSelectedLocale] = useState<Locale | null>(null);\n    const [titleError, setTitleError] = useState<string | null>(null);\n    const [startDateError, setStartDateError] = useState<string | null>(null);\n    const [processing, setProcessing] = useState(false);\n    const [success, setSuccess] = useState(false);\n    const [responseError, setResponseError] = useState<any>(null);\n\n    const TEMPLATE_TITLE_QUERY = gql`\n    {\n      projectTemplate(id: \"${projectTemplateId}\"){\n        titleMultiloc {\n          ${graphqlTenantLocales}\n        }\n      }\n    }\n  `;\n\n    const APPLY_PROJECT_TEMPLATE = gql`\n      mutation ApplyProjectTemplate(\n        $projectTemplateId: ID!\n        $titleMultiloc: MultilocAttributes!\n        $timelineStartAt: String\n      ) {\n        applyProjectTemplate(\n          projectTemplateId: $projectTemplateId\n          titleMultiloc: $titleMultiloc\n          timelineStartAt: $timelineStartAt\n        ) {\n          errors\n        }\n      }\n    `;\n\n    const { data } = useQuery(TEMPLATE_TITLE_QUERY, { client });\n\n    const [applyProjectTemplate] = useMutation<any, IVariables>(\n      APPLY_PROJECT_TEMPLATE,\n      { client }\n    );\n\n    const onCreateProject = useCallback(async () => {\n      const invalidTitle =\n        isEmpty(titleMultiloc) ||\n        (titleMultiloc &&\n          Object.getOwnPropertyNames(titleMultiloc).every((key) =>\n            isEmpty(titleMultiloc[`${key}`])\n          ));\n      const noDate = isEmpty(startDate);\n      const invalidDate = !moment(\n        startDate || '',\n        'YYYY-MM-DD',\n        true\n      ).isValid();\n\n      trackEventByName(tracks.useTemplateModalCreateProjectButtonClicked, {\n        projectTemplateId,\n      });\n\n      if (invalidTitle && !isNilOrError(tenantLocales)) {\n        if (tenantLocales.length === 1) {\n          setTitleError(intl.formatMessage(messages.projectTitleError));\n        } else {\n          setTitleError(intl.formatMessage(messages.projectTitleMultilocError));\n        }\n      }\n\n      if (noDate) {\n        setStartDateError(intl.formatMessage(messages.projectNoStartDateError));\n      } else if (invalidDate) {\n        setStartDateError(\n          intl.formatMessage(messages.projectInvalidStartDateError)\n        );\n      }\n\n      if (!invalidTitle && !invalidDate && titleMultiloc && startDate) {\n        setResponseError(null);\n        setTitleError(null);\n        setStartDateError(null);\n        setProcessing(true);\n\n        try {\n          await applyProjectTemplate({\n            variables: {\n              titleMultiloc: transform(\n                titleMultiloc,\n                (result: Multiloc, val, key: Locale) => {\n                  result[convertToGraphqlLocale(key)] = val;\n                }\n              ),\n              projectTemplateId: templateId,\n              timelineStartAt: startDate,\n            },\n          });\n          await streams.fetchAllWith({\n            apiEndpoint: [`${API_PATH}/projects`],\n          });\n\n          if (emitSuccessEvent) {\n            eventEmitter.emit('NewProjectCreated');\n          }\n\n          setProcessing(false);\n          setSuccess(true);\n        } catch (error) {\n          setProcessing(false);\n          setResponseError(error);\n        }\n      }\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [tenantLocales, titleMultiloc, startDate, selectedLocale]);\n\n    const onClose = useCallback(() => {\n      close();\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    const onTitleChange = useCallback((titleMultiloc: Multiloc | null) => {\n      setResponseError(null);\n      setTitleError(null);\n      setTitleMultiloc(titleMultiloc);\n    }, []);\n\n    const onSelectedLocaleChange = useCallback((newSelectedLocale: Locale) => {\n      setSelectedLocale(newSelectedLocale);\n    }, []);\n\n    const onStartDateChange = useCallback((startDate: string) => {\n      setResponseError(null);\n      setStartDateError(null);\n      setStartDate(startDate);\n    }, []);\n\n    useEffect(() => {\n      setTitleMultiloc(null);\n      setStartDate(null);\n      setSelectedLocale(null);\n      setTitleError(null);\n      setStartDateError(null);\n      setProcessing(false);\n      setSuccess(false);\n      setResponseError(null);\n    }, [opened]);\n\n    const templateTitle = (\n      <T value={get(data, 'projectTemplate.titleMultiloc')} />\n    );\n\n    return (\n      <Modal\n        width={500}\n        opened={opened}\n        close={onClose}\n        closeOnClickOutside={false}\n        header={\n          <FormattedMessage\n            {...messages.createProjectBasedOn}\n            values={{ templateTitle }}\n          />\n        }\n        footer={\n          <Footer>\n            {!success ? (\n              <>\n                <CreateProjectButton\n                  buttonStyle=\"secondary\"\n                  onClick={onCreateProject}\n                  processing={processing}\n                >\n                  <FormattedMessage {...messages.createProject} />\n                </CreateProjectButton>\n                {responseError !== null && (\n                  <Error\n                    text={<FormattedMessage {...messages.responseError} />}\n                    marginTop=\"0px\"\n                    showBackground={false}\n                    showIcon={true}\n                  />\n                )}\n              </>\n            ) : (\n              <CloseButton buttonStyle=\"secondary\" onClick={onClose}>\n                <FormattedMessage {...messages.close} />\n              </CloseButton>\n            )}\n          </Footer>\n        }\n      >\n        <Content>\n          {!success ? (\n            <>\n              <StyledInputMultilocWithLocaleSwitcher\n                id=\"project-title\"\n                label={intl.formatMessage(messages.projectTitle)}\n                placeholder={intl.formatMessage(messages.typeProjectName)}\n                type=\"text\"\n                valueMultiloc={titleMultiloc}\n                onChange={onTitleChange}\n                onSelectedLocaleChange={onSelectedLocaleChange}\n                error={titleError}\n                autoFocus={true}\n              />\n\n              <Input\n                id=\"project-start-date\"\n                label={intl.formatMessage(messages.projectStartDate)}\n                type=\"date\"\n                onChange={onStartDateChange}\n                value={startDate}\n                error={startDateError}\n                placeholder={bowser.msie ? 'YYYY-MM-DD' : undefined}\n              />\n            </>\n          ) : (\n            <Success>\n              <SuccessIcon name=\"round-checkmark\" />\n              <SuccessText>\n                <FormattedMessage {...messages.successMessage} />\n                {showGoBackLink && (\n                  <FormattedMessage\n                    {...messages.goBackTo}\n                    values={{\n                      goBackLink: (\n                        <Link to=\"/admin/projects/\">\n                          <FormattedMessage\n                            {...messages.projectsOverviewPage}\n                          />\n                        </Link>\n                      ),\n                    }}\n                  />\n                )}\n              </SuccessText>\n            </Success>\n          )}\n        </Content>\n      </Modal>\n    );\n  }\n);\n\nexport default withRouter<Props>(injectIntl(UseTemplateModal));\n","import React from 'react';\nimport { isNilOrError } from 'utils/helperUtils';\n\n// hooks\nimport useAppConfiguration from 'hooks/useAppConfiguration';\n\n// components\nimport PasswordInputComponent from './PasswordInput';\n\ntype PasswordErrors = {\n  minimumLengthError?: boolean;\n  emptyError?: boolean;\n};\n\nexport interface Props {\n  id: string;\n  password: string | null;\n  onChange: (password: string) => void;\n  onBlur?: () => void;\n  setRef?: (element: HTMLInputElement) => void;\n  autocomplete?: 'current-password' | 'new-password';\n  placeholder?: string;\n  isLoginPasswordInput?: boolean;\n  errors: PasswordErrors;\n}\n\nconst DEFAULT_MINIMUM_PASSWORD_LENGTH = 8;\n\nexport function hasPasswordMinimumLength(\n  password: string,\n  tenantMinimumPasswordLength: number | undefined\n) {\n  return tenantMinimumPasswordLength\n    ? password.length < tenantMinimumPasswordLength\n    : password.length < DEFAULT_MINIMUM_PASSWORD_LENGTH;\n}\n\nconst PasswordInput = ({\n  id,\n  password,\n  onChange,\n  onBlur,\n  setRef,\n  autocomplete,\n  placeholder,\n  isLoginPasswordInput,\n  errors,\n}: Props) => {\n  const tenant = useAppConfiguration();\n\n  if (!isNilOrError(tenant)) {\n    const minimumPasswordLength =\n      tenant.data.attributes.settings.password_login?.minimum_length ||\n      DEFAULT_MINIMUM_PASSWORD_LENGTH;\n\n    return (\n      <PasswordInputComponent\n        minimumPasswordLength={minimumPasswordLength}\n        id={id}\n        password={password}\n        onChange={onChange}\n        onBlur={onBlur}\n        setRef={setRef}\n        autocomplete={autocomplete}\n        placeholder={placeholder}\n        isLoginPasswordInput={isLoginPasswordInput}\n        errors={errors}\n      />\n    );\n  }\n\n  return null;\n};\n\nexport default PasswordInput;\n","export default {\n  clickCloseButton: 'Closed modal through button',\n  clickOutsideModal: 'Closed modal through outside click',\n  clickBack: 'Closed modal through browser back',\n};\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  logIn: {\n    id: 'app.containers.SignIn.logIn',\n    defaultMessage: 'Log in',\n  },\n  emailLabel: {\n    id: 'app.containers.SignIn.emailLabel',\n    defaultMessage: 'Email',\n  },\n  emailOrPhoneLabel: {\n    id: 'app.containers.SignIn.emailOrPhoneLabel',\n    defaultMessage: 'Email or phone',\n  },\n  noEmailError: {\n    id: 'app.containers.SignIn.noEmailError',\n    defaultMessage: 'Please enter your email address',\n  },\n  noValidEmailError: {\n    id: 'app.containers.SignIn.noValidEmailError',\n    defaultMessage: 'Please enter a valid email address',\n  },\n  passwordLabel: {\n    id: 'app.containers.SignIn.passwordLabel',\n    defaultMessage: 'Password',\n  },\n  noPasswordError: {\n    id: 'app.containers.SignIn.noPasswordError',\n    defaultMessage: 'Please enter a password',\n  },\n  signInError: {\n    id: 'app.containers.SignIn.signInError',\n    defaultMessage: 'No account was found for the provided credentials',\n  },\n  submit: {\n    id: 'app.containers.SignIn.submit',\n    defaultMessage: 'Log in',\n  },\n  forgotPassword2: {\n    id: 'app.containers.SignIn.forgotPassword2',\n    defaultMessage: 'Forgot password?',\n  },\n  backToLoginOptions: {\n    id: 'app.containers.SignIn.backToLoginOptions',\n    defaultMessage: 'Go back to login options',\n  },\n  goToSignUp: {\n    id: 'app.containers.SignIn.goToSignUp',\n    defaultMessage: \"Don't have an account? {goToOtherFlowLink}\",\n  },\n  signUp: {\n    id: 'app.containers.SignIn.signUp',\n    defaultMessage: 'Sign up',\n  },\n  somethingWentWrongText: {\n    id: 'app.containers.SignIn.somethingWentWrong',\n    defaultMessage:\n      \"Something went wrong and we can't sign you in right now. Please try again later.\",\n  },\n});\n","import React, { PureComponent } from 'react';\nimport { adopt } from 'react-adopt';\nimport { isNilOrError } from 'utils/helperUtils';\n\n// components\nimport Button from 'components/UI/Button';\nimport Avatar from 'components/Avatar';\nimport { Dropdown } from 'cl2-component-library';\nimport HasPermission from 'components/HasPermission';\nimport User from './User';\n\n// services\nimport { signOut } from 'services/auth';\n\n// resources\nimport GetAuthUser, { GetAuthUserChildProps } from 'resources/GetAuthUser';\n\n// style\nimport styled from 'styled-components';\nimport { colors } from 'utils/styleUtils';\nimport { darken } from 'polished';\n\n// i18n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from '../../messages';\n\nconst Container = styled.div`\n  height: 100%;\n  display: flex;\n  position: relative;\n`;\n\nconst StyledAvatar = styled(Avatar)``;\n\nconst DropdownButton = styled.button`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  cursor: pointer;\n  padding: 0px;\n  padding-top: 2px;\n  margin: 0px;\n\n  &:hover,\n  &:focus {\n    ${StyledAvatar} {\n      .avatarIcon {\n        fill: ${({ theme }) =>\n          theme.navbarTextColor\n            ? darken(0.2, theme.navbarTextColor)\n            : colors.text};\n      }\n    }\n  }\n`;\n\nconst DropdownListItem = styled(Button)``;\n\ninterface InputProps {\n  theme?: any;\n  className?: string;\n}\n\ninterface DataProps {\n  authUser: GetAuthUserChildProps;\n}\n\ninterface Props extends InputProps, DataProps {}\n\ninterface State {\n  opened: boolean;\n}\n\nclass UserMenu extends PureComponent<Props, State> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      opened: false,\n    };\n  }\n\n  toggleDropdown = (event: React.FormEvent) => {\n    event.preventDefault();\n    this.setState(({ opened }) => ({ opened: !opened }));\n  };\n\n  closeDropdown = () => {\n    this.setState({ opened: false });\n  };\n\n  signOut = () => {\n    signOut();\n  };\n\n  removeFocus = (event: React.MouseEvent) => {\n    event.preventDefault();\n  };\n\n  render() {\n    const { authUser } = this.props;\n\n    if (!isNilOrError(authUser)) {\n      const { opened } = this.state;\n      const userId = authUser.id;\n      const userSlug = authUser.attributes.slug;\n      const isVerified = !!authUser.attributes.verified;\n\n      return (\n        <Container\n          id=\"e2e-user-menu-container\"\n          className={\n            authUser.attributes.verified ? 'e2e-verified' : 'e2e-not-verified'\n          }\n        >\n          <DropdownButton\n            onMouseDown={this.removeFocus}\n            onClick={this.toggleDropdown}\n            aria-expanded={opened}\n          >\n            <User userId={userId} isVerified={isVerified} />\n          </DropdownButton>\n\n          <Dropdown\n            id=\"e2e-user-menu-dropdown\"\n            width=\"220px\"\n            mobileWidth=\"220px\"\n            top=\"68px\"\n            right=\"-12px\"\n            mobileRight=\"-5px\"\n            opened={opened}\n            onClickOutside={this.toggleDropdown}\n            content={\n              <>\n                <HasPermission\n                  item={{ type: 'route', path: '/admin/dashboard' }}\n                  action=\"access\"\n                >\n                  <DropdownListItem\n                    id=\"admin-link\"\n                    linkTo={'/admin/dashboard'}\n                    onClick={this.closeDropdown}\n                    buttonStyle=\"text\"\n                    bgHoverColor={colors.clDropdownHoverBackground}\n                    icon=\"admin\"\n                    iconAriaHidden\n                    iconPos=\"right\"\n                    iconSize=\"20px\"\n                    padding=\"11px 11px\"\n                    justify=\"space-between\"\n                  >\n                    <FormattedMessage {...messages.admin} />\n                  </DropdownListItem>\n                </HasPermission>\n\n                <DropdownListItem\n                  id=\"e2e-my-ideas-page-link\"\n                  linkTo={`/profile/${userSlug}`}\n                  onClick={this.closeDropdown}\n                  buttonStyle=\"text\"\n                  bgHoverColor={colors.clDropdownHoverBackground}\n                  icon=\"profile1\"\n                  iconAriaHidden\n                  iconPos=\"right\"\n                  iconSize=\"20px\"\n                  padding=\"11px 11px\"\n                  justify=\"space-between\"\n                >\n                  <FormattedMessage {...messages.myProfile} />\n                </DropdownListItem>\n\n                <DropdownListItem\n                  id=\"e2e-profile-edit-link\"\n                  linkTo={'/profile/edit'}\n                  onClick={this.closeDropdown}\n                  buttonStyle=\"text\"\n                  bgHoverColor={colors.clDropdownHoverBackground}\n                  icon=\"settings\"\n                  iconAriaHidden\n                  iconPos=\"right\"\n                  iconSize=\"20px\"\n                  padding=\"11px 11px\"\n                  justify=\"space-between\"\n                >\n                  <FormattedMessage {...messages.editProfile} />\n                </DropdownListItem>\n\n                <DropdownListItem\n                  id=\"e2e-sign-out-link\"\n                  onClick={this.signOut}\n                  buttonStyle=\"text\"\n                  bgHoverColor={colors.clDropdownHoverBackground}\n                  icon=\"power\"\n                  iconAriaHidden\n                  iconPos=\"right\"\n                  iconSize=\"20px\"\n                  padding=\"11px 11px\"\n                  justify=\"space-between\"\n                >\n                  <FormattedMessage {...messages.signOut} />\n                </DropdownListItem>\n              </>\n            }\n          />\n        </Container>\n      );\n    }\n\n    return null;\n  }\n}\n\nconst Data = adopt<DataProps, InputProps>({\n  authUser: <GetAuthUser />,\n});\n\nexport default (inputProps: InputProps) => (\n  <Data>{(dataProps) => <UserMenu {...inputProps} {...dataProps} />}</Data>\n);\n","import { API_PATH } from 'containers/App/constants';\nimport streams from 'utils/streams';\nimport { Multiloc, UploadFile } from 'typings';\n\nexport interface IMapLayerAttributes {\n  id: string;\n  title_multiloc: Multiloc;\n  geojson?: GeoJSON.FeatureCollection;\n  default_enabled: boolean;\n  geojson_file?: UploadFile;\n  marker_svg_url?: string;\n}\n\nexport interface IMapLayerUpdateAttributes {\n  title_multiloc?: Multiloc;\n  geojson: GeoJSON.FeatureCollection;\n  default_enabled?: boolean;\n  geojson_file?: UploadFile;\n  marker_svg_url?: string;\n}\n\nexport interface IMapLayerData {\n  id: string;\n  type: string;\n  attributes: IMapLayerAttributes;\n}\n\nexport interface IMapLayer {\n  data: IMapLayerData;\n}\n\nexport const mapLayerByProjectMapConfigStream = (\n  projectId: string,\n  mapLayerId: string\n) => {\n  return streams.get<IMapLayer>({\n    apiEndpoint: `${API_PATH}/projects/${projectId}/map_config/layers/${mapLayerId}`,\n  });\n};\n\nexport const createProjectMapLayer = async (\n  projectId: string,\n  mapLayer: IMapLayerAttributes\n) => {\n  const response = await streams.add<IMapLayer>(\n    `${API_PATH}/projects/${projectId}/map_config/layers`,\n    { layer: mapLayer }\n  );\n\n  await streams.fetchAllWith({\n    apiEndpoint: [`${API_PATH}/projects/${projectId}/map_config`],\n  });\n\n  return response;\n};\n\nexport const updateProjectMapLayer = async (\n  projectId: string,\n  mapLayerId: string,\n  mapLayer: IMapLayerUpdateAttributes\n) => {\n  const response = await streams.update<IMapLayer>(\n    `${API_PATH}/projects/${projectId}/map_config/layers/${mapLayerId}`,\n    mapLayerId,\n    { layer: mapLayer }\n  );\n\n  await streams.fetchAllWith({\n    apiEndpoint: [`${API_PATH}/projects/${projectId}/map_config`],\n  });\n\n  return response;\n};\n\nexport const reorderProjectMapLayer = async (\n  projectId: string,\n  mapLayerId: string,\n  ordering: number\n) => {\n  const response = await streams.update<IMapLayer>(\n    `${API_PATH}/projects/${projectId}/map_config/layers/${mapLayerId}/reorder`,\n    mapLayerId,\n    { layer: { ordering } }\n  );\n\n  await streams.fetchAllWith({\n    apiEndpoint: [`${API_PATH}/projects/${projectId}/map_config`],\n  });\n\n  return response;\n};\n\nexport const deleteProjectMapLayer = async (\n  projectId: string,\n  mapLayerId: string\n) => {\n  const response = await streams.delete(\n    `${API_PATH}/projects/${projectId}/map_config/layers/${mapLayerId}`,\n    mapLayerId\n  );\n\n  await streams.fetchAllWith({\n    apiEndpoint: [`${API_PATH}/projects/${projectId}/map_config`],\n  });\n\n  return response;\n};\n","import { createGlobalStyle } from 'styled-components';\nimport { fontSizes, isRtl } from 'utils/styleUtils';\n\nconst GlobalStyle = createGlobalStyle`\n  html {\n    box-sizing: border-box;\n  }\n\n  *,\n  *:before,\n  *:after {\n    box-sizing: inherit;\n  }\n\n  * {\n    &:not(.focus-visible) {\n      outline: none;\n    }\n  }\n\n  *::placeholder {\n    opacity: 1;\n    color: #767676;\n  }\n\n  html,\n  body {\n    background-color: #fff;\n    font-size: ${fontSizes.small}px;\n    height: 100%;\n    position: relative;\n    width: 100%;\n\n  ${isRtl`\n    text-align: right;\n    ul {\n        direction: rtl;\n    }\n  `}\n  }\n\n  input, textarea {\n\n    ${isRtl`\n        text-align: right;\n        direction: rtl;\n    `}\n    }\n\n  html, body, h1, h2, h3, h4, h5, button, input, optgroup, select, textarea, .ql-container, .ql-toolbar.ql-snow {\n    font-family: ${(props: any) =>\n      props.theme\n        .fontFamily}, 'Public Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif !important;\n  }\n\n  h3 {\n    font-weight: 600;\n  }\n\n  p,\n  label {\n    line-height: 1.5em;\n  }\n`;\n\nexport default GlobalStyle;\n","import { API_PATH } from 'containers/App/constants';\nimport streams from 'utils/streams';\nimport { ImageSizes, Multiloc, Locale } from 'typings';\nimport { TCategory } from 'components/ConsentManager/destinations';\n\nexport const currentAppConfigurationEndpoint = `${API_PATH}/app_configuration`;\n\ninterface AppConfigurationFeature {\n  allowed: boolean;\n  enabled: boolean;\n}\n\nexport type ISuccessStory = {\n  image_url: string;\n  location: string;\n  page_slug: string;\n};\nexport type TAppConfigurationSetting = keyof IAppConfigurationSettings;\n\nexport type IAppConfigurationSettingsCore = {\n  allowed: boolean;\n  enabled: boolean;\n  locales: Locale[];\n  timezone: string;\n  organization_name: Multiloc;\n  organization_site?: string;\n  organization_type: 'small_city' | 'medium_city' | 'large_city' | 'generic';\n  lifecycle_stage:\n    | 'trial'\n    | 'expired_trial'\n    | 'demo'\n    | 'active'\n    | 'churned'\n    | 'not_applicable';\n  header_title?: Multiloc | null;\n  header_slogan?: Multiloc | null;\n  meta_title?: Multiloc | null;\n  meta_description?: Multiloc | null;\n  signup_helper_text?: Multiloc | null;\n  custom_fields_signup_helper_text?: Multiloc | null;\n  color_main: string | null;\n  color_secondary: string | null;\n  color_text: string | null;\n  color_menu_bg?: string | null;\n  currency: TCurrency;\n  reply_to_email: string;\n  custom_onboarding_fallback_message?: Multiloc | null;\n  custom_onboarding_message?: Multiloc | null;\n  custom_onboarding_button?: Multiloc | null;\n  custom_onboarding_link?: string | null;\n  currently_working_on_text?: Multiloc | null;\n  segment_destinations_blacklist: string[] | null;\n  areas_term?: Multiloc;\n  area_term?: Multiloc;\n};\n\nexport interface IAppConfigurationSettings {\n  core: IAppConfigurationSettingsCore;\n  demographic_fields?: {\n    allowed: boolean;\n    enabled: boolean;\n    gender: boolean;\n    birthyear: boolean;\n    domicile: boolean;\n    education: boolean;\n  };\n  password_login?: {\n    allowed: boolean;\n    enabled: boolean;\n    phone?: boolean;\n    minimum_length?: number;\n    phone_email_pattern?: string;\n  };\n  facebook_login?: {\n    allowed: boolean;\n    app_id: string;\n    app_secret?: string;\n    enabled: boolean;\n  };\n  google_login?: {\n    allowed: boolean;\n    client_id: string;\n    enabled: boolean;\n  };\n  azure_ad_login?: {\n    allowed: boolean;\n    enabled: boolean;\n    tenant: string;\n    client_id: string;\n    logo_url: string;\n    login_mechanism_name: string;\n  };\n  franceconnect_login?: {\n    allowed: boolean;\n    enabled: boolean;\n    environment: string;\n    identifier: string;\n    secret: string;\n  };\n  custom_accessibility_statement_link: {\n    allowed: boolean;\n    enabled: boolean;\n    url?: string;\n  };\n  manual_project_sorting?: AppConfigurationFeature;\n  admin_project_templates?: AppConfigurationFeature;\n  pages?: AppConfigurationFeature;\n  project_reports?: AppConfigurationFeature;\n  private_projects?: AppConfigurationFeature;\n  maps?: AppConfigurationMapSettings;\n  participatory_budgeting?: AppConfigurationFeature;\n  initiatives?: {\n    allowed: boolean;\n    enabled: boolean;\n    days_limit: number;\n    eligibility_criteria: Multiloc;\n    success_stories?: ISuccessStory[];\n    threshold_reached_message: Multiloc;\n    voting_threshold: number;\n  };\n  fragments?: {\n    allowed: boolean;\n    enabled: boolean;\n    enabled_fragments: string[];\n  };\n  verification?: {\n    allowed: boolean;\n    enabled: boolean;\n    verification_methods: string[];\n  };\n  idea_custom_fields?: AppConfigurationFeature;\n  user_custom_fields?: AppConfigurationFeature;\n  volunteering?: AppConfigurationFeature;\n  workshops?: AppConfigurationFeature;\n  ideas_overview?: AppConfigurationFeature;\n  smart_groups?: AppConfigurationFeature;\n  manual_emailing?: AppConfigurationFeature;\n  manual_tagging?: AppConfigurationFeature;\n  automatic_tagging?: AppConfigurationFeature;\n  insights_manual_flow?: AppConfigurationFeature;\n  insights_nlp_flow?: AppConfigurationFeature;\n  automated_emailing_control?: AppConfigurationFeature;\n  typeform_surveys?: {\n    allowed: boolean;\n    enabled: boolean;\n    user_token: string;\n  };\n  surveys?: AppConfigurationFeature;\n  google_forms_surveys?: AppConfigurationFeature;\n  surveymonkey_surveys?: AppConfigurationFeature;\n  enalyzer_surveys?: AppConfigurationFeature;\n  qualtrics_surveys?: AppConfigurationFeature;\n  microsoft_forms_surveys?: AppConfigurationFeature;\n  survey_xact_surveys?: AppConfigurationFeature;\n  project_folders?: AppConfigurationFeature;\n  clustering?: AppConfigurationFeature;\n  geographic_dashboard?: AppConfigurationFeature;\n  widgets?: AppConfigurationFeature;\n  granular_permissions?: AppConfigurationFeature;\n  ideaflow_social_sharing?: AppConfigurationFeature;\n  initiativeflow_social_sharing?: AppConfigurationFeature;\n  machine_translations?: AppConfigurationFeature;\n  custom_topics?: AppConfigurationFeature;\n  custom_maps?: AppConfigurationFeature;\n  similar_ideas?: AppConfigurationFeature;\n  polls?: AppConfigurationFeature;\n  moderation?: AppConfigurationFeature;\n  flag_inappropriate_content?: AppConfigurationFeature;\n  disable_downvoting?: AppConfigurationFeature;\n  project_visibility?: AppConfigurationFeature;\n  project_management?: AppConfigurationFeature;\n  idea_assignment?: AppConfigurationFeature;\n  blocking_profanity?: AppConfigurationFeature;\n  custom_idea_statuses?: AppConfigurationFeature;\n  idea_author_change?: AppConfigurationFeature;\n  idea_custom_copy?: AppConfigurationFeature;\n  intercom?: AppConfigurationFeature;\n  satismeter?: AppConfigurationFeature & {\n    write_key: string;\n  };\n  google_analytics?: AppConfigurationFeature & {\n    tracking_id: string;\n  };\n  segment?: AppConfigurationFeature & {\n    destinations: string;\n  };\n  google_tag_manager?: AppConfigurationFeature & {\n    destinations: string;\n    container_id: string;\n    category: TCategory;\n  };\n  matomo?: AppConfigurationFeature & {\n    tenant_site_id: string;\n    product_site_id: string;\n  };\n  redirects?: AppConfigurationFeature & {\n    rules: {\n      path: string;\n      target: string;\n    }[];\n  };\n  events_page?: AppConfigurationFeature & {\n    alternative_name?: string;\n  };\n  disable_user_bios?: AppConfigurationFeature;\n  events_widget?: AppConfigurationFeature & {\n    widget_title?: Multiloc;\n  };\n}\n\ninterface AppConfigurationMapSettings extends AppConfigurationFeature {\n  map_center: {\n    lat: string;\n    long: string;\n  };\n  tile_provider: string;\n  zoom_level: number;\n}\n\nexport interface IAppConfigurationStyle {\n  invertedNavbarColors: boolean;\n  navbarBackgroundColor?: string;\n  navbarActiveItemBackgroundColor?: string;\n  navbarActiveItemBorderColor?: string;\n  navbarTextColor?: string;\n  navbarHighlightedItemBackgroundColor?: string;\n  navbarBorderColor?: string;\n  signedOutHeaderOverlayColor?: string;\n  signedOutHeaderTitleFontSize?: number;\n  signedOutHeaderTitleFontWeight?: number;\n  signedOutHeaderOverlayOpacity?: number;\n  signedInHeaderOverlayColor?: string;\n  signedInHeaderOverlayOpacity?: number;\n  customFontName?: string;\n  customFontAdobeId?: string;\n  projectNavbarBackgroundColor?: string;\n  projectNavbarTextColor?: string;\n  projectNavbarIdeaButtonBackgroundColor?: string;\n  projectNavbarIdeaButtonTextColor?: string;\n}\n\nexport interface IAppConfigurationAttributes {\n  name: string;\n  host: string;\n  settings: IAppConfigurationSettings;\n  logo: ImageSizes | null;\n  header_bg: ImageSizes | null;\n  favicon?: ImageSizes | null;\n  style?: IAppConfigurationStyle;\n  homepage_info?: Multiloc;\n}\n\nexport interface IAppConfigurationData {\n  id: string;\n  type: string;\n  attributes: IAppConfigurationAttributes;\n}\n\nexport interface IAppConfiguration {\n  data: IAppConfigurationData;\n}\n\nexport interface IUpdatedAppConfigurationProperties {\n  settings?: Partial<\n    {\n      [P in keyof IAppConfigurationSettings]: Partial<\n        IAppConfigurationSettings[P]\n      >;\n    }\n  >;\n  logo?: string;\n  header_bg?: string;\n  favicon?: string;\n}\n\nexport function currentAppConfigurationStream() {\n  return streams.get<IAppConfiguration>({\n    apiEndpoint: currentAppConfigurationEndpoint,\n  });\n}\n\nexport async function updateAppConfiguration(\n  object: IUpdatedAppConfigurationProperties\n) {\n  const tenant = await streams.update<IAppConfiguration>(\n    currentAppConfigurationEndpoint,\n    'app_configuration',\n    { app_configuration: object }\n  );\n  await currentAppConfigurationStream().fetch();\n  return tenant;\n}\n\ntype TCurrency = TCustomCurrency | TCountryCurrency;\ntype TCustomCurrency =\n  // token, credit\n  'TOK' | 'CRE';\ntype TCountryCurrency =\n  // currencies associated with countries, e.g. EUR and USD\n  // list is based on the currencies.rb file\n  | 'AED'\n  | 'AFN'\n  | 'ALL'\n  | 'AMD'\n  | 'ANG'\n  | 'AOA'\n  | 'ARS'\n  | 'AUD'\n  | 'AWG'\n  | 'AZN'\n  | 'BAM'\n  | 'BBD'\n  | 'BDT'\n  | 'BGN'\n  | 'BHD'\n  | 'BIF'\n  | 'BMD'\n  | 'BND'\n  | 'BOB'\n  | 'BOV'\n  | 'BRL'\n  | 'BSD'\n  | 'BTN'\n  | 'BWP'\n  | 'BYR'\n  | 'BZD'\n  | 'CAD'\n  | 'CDF'\n  | 'CHE'\n  | 'CHF'\n  | 'CHW'\n  | 'CLF'\n  | 'CLP'\n  | 'CNY'\n  | 'COP'\n  | 'COU'\n  | 'CRC'\n  | 'CUC'\n  | 'CUP'\n  | 'CVE'\n  | 'CZK'\n  | 'DJF'\n  | 'DKK'\n  | 'DOP'\n  | 'DZD'\n  | 'EGP'\n  | 'ERN'\n  | 'ETB'\n  | 'EUR'\n  | 'FJD'\n  | 'FKP'\n  | 'GBP'\n  | 'GEL'\n  | 'GHS'\n  | 'GIP'\n  | 'GMD'\n  | 'GNF'\n  | 'GTQ'\n  | 'GYD'\n  | 'HKD'\n  | 'HNL'\n  | 'HRK'\n  | 'HTG'\n  | 'HUF'\n  | 'IDR'\n  | 'ILS'\n  | 'INR'\n  | 'IQD'\n  | 'IRR'\n  | 'ISK'\n  | 'JMD'\n  | 'JOD'\n  | 'JPY'\n  | 'KES'\n  | 'KGS'\n  | 'KHR'\n  | 'KMF'\n  | 'KPW'\n  | 'KRW'\n  | 'KWD'\n  | 'KYD'\n  | 'KZT'\n  | 'LAK'\n  | 'LBP'\n  | 'LKR'\n  | 'LRD'\n  | 'LSL'\n  | 'LTL'\n  | 'LVL'\n  | 'LYD'\n  | 'MAD'\n  | 'MDL'\n  | 'MGA'\n  | 'MKD'\n  | 'MMK'\n  | 'MNT'\n  | 'MOP'\n  | 'MRO'\n  | 'MUR'\n  | 'MVR'\n  | 'MWK'\n  | 'MXN'\n  | 'MXV'\n  | 'MYR'\n  | 'MZN'\n  | 'NAD'\n  | 'NGN'\n  | 'NIO'\n  | 'NOK'\n  | 'NPR'\n  | 'NZD'\n  | 'OMR'\n  | 'PAB'\n  | 'PEN'\n  | 'PGK'\n  | 'PHP'\n  | 'PKR'\n  | 'PLN'\n  | 'PYG'\n  | 'QAR'\n  | 'RON'\n  | 'RSD'\n  | 'RUB'\n  | 'RWF'\n  | 'SAR'\n  | 'SBD'\n  | 'SCR'\n  | 'SDG'\n  | 'SEK'\n  | 'SGD'\n  | 'SHP'\n  | 'SLL'\n  | 'SOS'\n  | 'SRD'\n  | 'SSP'\n  | 'STD'\n  | 'SYP'\n  | 'SZL'\n  | 'THB'\n  | 'TJS'\n  | 'TMT'\n  | 'TND'\n  | 'TOP'\n  | 'TRY'\n  | 'TTD'\n  | 'TWD'\n  | 'TZS'\n  | 'UAH'\n  | 'UGX'\n  | 'USD'\n  | 'USN'\n  | 'USS'\n  | 'UYI'\n  | 'UYU'\n  | 'UZS'\n  | 'VEF'\n  | 'VND'\n  | 'VUV'\n  | 'WST'\n  | 'XAF'\n  | 'XAG'\n  | 'XAU'\n  | 'XBA'\n  | 'XBB'\n  | 'XBC'\n  | 'XBD'\n  | 'XCD'\n  | 'XDR'\n  | 'XFU'\n  | 'XOF'\n  | 'XPD'\n  | 'XPF'\n  | 'XPT'\n  | 'XTS'\n  | 'XXX'\n  | 'YER'\n  | 'ZAR'\n  | 'ZMW';\n","/*\n * UsersEditPage Messages\n *\n * This contains all the text for the UsersEditPage component.\n */\nimport { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  loading: {\n    id: 'app.containers.UsersEditPage.loading',\n    defaultMessage: 'Loading...',\n  },\n  invisibleTitleUserSettings: {\n    id: 'app.containers.UsersEditPage.invisibleTitleUserSettings',\n    defaultMessage: 'All settings for your account',\n  },\n  processing: {\n    id: 'app.containers.UsersEditPage.processing',\n    defaultMessage: 'Sending...',\n  },\n  buttonSuccessLabel: {\n    id: 'app.containers.UsersEditPage.buttonSuccessLabel',\n    defaultMessage: 'Success',\n  },\n  messageError: {\n    id: 'app.containers.UsersEditPage.messageError',\n    defaultMessage: 'There was an error saving your profile.',\n  },\n  messageSuccess: {\n    id: 'app.containers.UsersEditPage.messageSuccess',\n    defaultMessage: 'Your profile has been saved.',\n  },\n  /*\n   * Basic information\n   */\n  h1: {\n    id: 'app.containers.UsersEditPage.h1',\n    defaultMessage: 'Basic information',\n  },\n  h1sub: {\n    id: 'app.containers.UsersEditPage.h1sub',\n    defaultMessage: 'Edit your basic information related to your account',\n  },\n  firstNames: {\n    id: 'app.containers.UsersEditPage.firstNames',\n    defaultMessage: 'First names',\n  },\n  lastName: {\n    id: 'app.containers.UsersEditPage.lastName',\n    defaultMessage: 'Last name',\n  },\n  email: {\n    id: 'app.containers.UsersEditPage.email',\n    defaultMessage: 'E-mail address',\n  },\n  password: {\n    id: 'app.containers.UsersEditPage.password',\n    defaultMessage: 'Password',\n  },\n  language: {\n    id: 'app.containers.UsersEditPage.language',\n    defaultMessage: 'Language',\n  },\n  /*\n   * Deletion\n   */\n  deletionSection: {\n    id: 'app.containers.UsersEditPage.deletionSection',\n    defaultMessage: 'Delete your profile',\n  },\n  deletionSubtitle: {\n    id: 'app.containers.UsersEditPage.deletionSubtitle',\n    defaultMessage:\n      'This action can not be undone. The content you published on the platform will be anonymized. If you wish to delete all your content, you can contact us at support@citizenlab.co.',\n  },\n  deleteMyAccount: {\n    id: 'app.containers.UsersEditPage.deleteMyAccount',\n    defaultMessage: 'Delete my account',\n  },\n  deleteYourAccount: {\n    id: 'app.containers.UsersEditPage.deleteYourAccount',\n    defaultMessage: 'Delete your account',\n  },\n  deleteProfileError: {\n    id: 'app.containers.UsersEditPage.deleteProfileError',\n    defaultMessage:\n      'There was an issue deleting your profile, please try again later.',\n  },\n  logoAltText: {\n    id: 'app.containers.UsersEditPage.logoAltText',\n    defaultMessage: 'Logo of {tenantName}',\n  },\n  deleteAccountSubtext: {\n    id: 'app.containers.UsersEditPage.deleteAccountSubtext',\n    defaultMessage: 'We are sorry to see you go.',\n  },\n  reasonsToStayListTitle: {\n    id: 'app.containers.UsersEditPage.reasonsToStayListTitle',\n    defaultMessage: 'Before you go...',\n  },\n  tooManyEmails: {\n    id: 'app.containers.UsersEditPage.tooManyEmails',\n    defaultMessage:\n      'Receiving too many emails? You can manage your email preferences in your profile settings.',\n  },\n  privacyReasons: {\n    id: 'app.containers.UsersEditPage.privacyReasons',\n    defaultMessage:\n      'If you are worried with your privacy, have you read {conditionsLink}?',\n  },\n  conditionsLinkText: {\n    id: 'app.containers.UsersEditPage.conditionsLinkText',\n    defaultMessage: 'our conditions',\n  },\n  contactUs: {\n    id: 'app.containers.UsersEditPage.contactUs',\n    defaultMessage:\n      \"You can reach out to explain what's not going well by clicking {feedbackLink}.\",\n  },\n  feedbackLinkText: {\n    id: 'app.containers.UsersEditPage.feedbackLinkText',\n    defaultMessage: 'here',\n  },\n  feedbackLinkUrl: {\n    id: 'app.containers.UsersEditPage.feedbackLinkUrl',\n    defaultMessage: 'https://citizenlabco.typeform.com/to/z7baRP?source={url}',\n  },\n  noGoingBack: {\n    id: 'app.containers.UsersEditPage.noGoingBack',\n    defaultMessage:\n      'Once you click this button, we will have no way to restore your account.',\n  },\n  cancel: {\n    id: 'app.containers.UsersEditPage.cancel',\n    defaultMessage: 'Cancel',\n  },\n  /*\n   * Details\n   */\n  gender: {\n    id: 'app.containers.UsersEditPage.gender',\n    defaultMessage: 'Gender',\n  },\n  bio: {\n    id: 'app.containers.UsersEditPage.bio',\n    defaultMessage: 'Bio',\n  },\n  bio_placeholder: {\n    id: 'app.containers.UsersEditPage.bio_placeholder',\n    defaultMessage: 'Write a short description of yourself',\n  },\n  domicile: {\n    id: 'app.containers.UsersEditPage.domicile',\n    defaultMessage: 'Domicile',\n  },\n  imageDropzonePlaceholder: {\n    id: 'app.containers.UsersEditPage.imageDropzonePlaceholder',\n    defaultMessage: 'Add your profile picture here (max. 5 Mb)',\n  },\n  a11y_imageDropzoneRemoveIconAriaTitle: {\n    id: 'app.containers.UsersEditPage.a11y_imageDropzoneRemoveIconAriaTitle',\n    defaultMessage: 'Remove profile picture',\n  },\n  submit: {\n    id: 'app.containers.UsersEditPage.submit',\n    defaultMessage: 'Update profile',\n  },\n  notificationsTitle: {\n    id: 'app.containers.UsersEditPage.notificationsTitle',\n    defaultMessage: 'Notifications',\n  },\n  notificationsSubTitle: {\n    id: 'app.containers.UsersEditPage.notificationsSubTitle',\n    defaultMessage: 'When do you want us to send you an email to notify you?',\n  },\n  user: {\n    id: 'app.containers.UsersEditPage.user',\n    defaultMessage: 'When do you want us to send you an email to notify you?',\n  },\n  /*\n   * VerificationStatus\n   */\n  becomeVerifiedTitle: {\n    id: 'app.containers.UsersEditPage.becomeVerifiedTitle',\n    defaultMessage: 'Verify your identity',\n  },\n  becomeVerifiedSubtitle: {\n    id: 'app.containers.UsersEditPage.becomeVerifiedSubtitle',\n    defaultMessage: 'To participate in projects for verified citizens.',\n  },\n  verifyNow: {\n    id: 'app.containers.UsersEditPage.verifyNow',\n    defaultMessage: 'Verify now',\n  },\n  verifiedIdentityTitle: {\n    id: 'app.containers.UsersEditPage.verifiedIdentityTitle',\n    defaultMessage: 'You are a verified citizen',\n  },\n  verifiedIdentitySubtitle: {\n    id: 'app.containers.UsersEditPage.verifiedIdentitySubtitle',\n    defaultMessage:\n      'You can participate in projects that are only accessible to verified citizens.',\n  },\n  updateverification: {\n    id: 'app.containers.UsersEditPage.updateverification',\n    defaultMessage: 'Did your official information change? {reverifyButton}',\n  },\n  clickHereToUpdateVerification: {\n    id: 'app.containers.UsersEditPage.clickHereToUpdateVerification',\n    defaultMessage: 'Please click here to update your verification.',\n  },\n  blockedVerified: {\n    id: 'app.containers.UsersEditPage.blockedVerified',\n    defaultMessage:\n      \"You can't edit this field because it contains verified information\",\n  },\n  /*\n   * Meta\n   */\n  metaTitle: {\n    id: 'app.containers.UsersEditPage.metaTitle',\n    defaultMessage:\n      'Profile settings page of {firstName} {lastName} | CitizenLab',\n  },\n  metaDescription: {\n    id: 'app.containers.UsersEditPage.metaDescription',\n    defaultMessage:\n      'This is the profile settings page of {firstName} {lastName} on the online participation platform of {tenantName}. Here you can verify your identity, edit your account information, delete your account and edit your email preferences.',\n  },\n});\n","import React, { memo, useCallback, useState } from 'react';\n\n// hooks\nimport useLocalize from 'hooks/useLocalize';\nimport useGraphqlTenantLocales from 'hooks/useGraphqlTenantLocales';\n\n// graphql\nimport { gql, useQuery } from '@apollo/client';\nimport { client } from '../../utils/apolloUtils';\n\n// components\nimport FilterSelector, {\n  IFilterSelectorValue,\n} from 'components/FilterSelector';\n\n// i18n\nimport { injectIntl } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\nimport messages from './messages';\n\ninterface Props {\n  onChange: (value: string[]) => void;\n}\n\nconst PurposeFilter = memo<Props & InjectedIntlProps>(\n  ({ intl: { formatMessage }, onChange }) => {\n    const localize = useLocalize();\n    const graphqlTenantLocales = useGraphqlTenantLocales();\n\n    const PURPOSES_QUERY = gql`\n    {\n      purposes {\n        nodes {\n          id\n          titleMultiloc {\n            ${graphqlTenantLocales}\n          }\n        }\n      }\n    }\n  `;\n\n    const [selectedValues, setSelectedValues] = useState<string[]>([]);\n\n    const { data } = useQuery(PURPOSES_QUERY, { client });\n\n    let options: IFilterSelectorValue[] = [];\n\n    if (data) {\n      options = data.purposes.nodes.map((node) => ({\n        value: node.id,\n        text: localize(node.titleMultiloc),\n      }));\n    }\n\n    const handleOnChange = useCallback((selectedValues: string[]) => {\n      setSelectedValues(selectedValues);\n      onChange(selectedValues);\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    return (\n      <FilterSelector\n        title={formatMessage(messages.purposes)}\n        name={formatMessage(messages.purposes)}\n        selected={selectedValues}\n        values={options}\n        onChange={handleOnChange}\n        multipleSelectionAllowed={true}\n        last={false}\n        left=\"-5px\"\n        mobileLeft=\"-5px\"\n      />\n    );\n  }\n);\n\nexport default injectIntl(PurposeFilter);\n","/*\n * AdminPage.DashboardPage Messages\n *\n * This contains all the text for the AdminPage.DashboardPage component.\n */\nimport { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  tabMap: {\n    id: 'app.containers.AdminPage.DashboardPage.tabMap',\n    defaultMessage: 'Map',\n  },\n});\n","import React, { memo } from 'react';\nimport { IOption } from 'typings';\nimport useIdeaStatuses from 'hooks/useIdeaStatuses';\nimport useLocalize from 'hooks/useLocalize';\nimport MultipleSelect from 'components/UI/MultipleSelect';\nimport { isNilOrError } from 'utils/helperUtils';\n\nexport interface Props {\n  value: string;\n  onChange: (value: string[]) => void;\n}\n\nconst IdeaStatusValuesSelector = memo(({ value, onChange }: Props) => {\n  const ideaStatuses = useIdeaStatuses();\n  const localize = useLocalize();\n  const generateOptions = (): IOption[] => {\n    if (!isNilOrError(ideaStatuses)) {\n      return ideaStatuses.map((ideaStatus) => {\n        return {\n          value: ideaStatus.id,\n          label: localize(ideaStatus.attributes.title_multiloc),\n        };\n      });\n    } else {\n      return [];\n    }\n  };\n\n  const handleOnChange = (options: IOption[]) => {\n    const optionIds = options.map((o) => o.value) as string[];\n    onChange(optionIds);\n  };\n\n  return (\n    <MultipleSelect\n      value={value}\n      options={generateOptions()}\n      onChange={handleOnChange}\n    />\n  );\n});\n\nexport default IdeaStatusValuesSelector;\n","import React, { memo } from 'react';\nimport { isNilOrError, stopPropagation } from 'utils/helperUtils';\n\n// i18n\nimport messages from '../../messages';\nimport { FormattedMessage } from 'utils/cl-intl';\n\n// components\nimport NotificationWrapper from '../NotificationWrapper';\nimport Link from 'utils/cl-router/Link';\nimport { DeletedUser } from '../Notification';\nimport T from 'components/T';\n\n// services\nimport { IInitiativeMarkedAsSpamNotificationData } from 'services/notifications';\n\ninterface Props {\n  notification: IInitiativeMarkedAsSpamNotificationData;\n}\n\nconst InitiativeMarkedAsSpamNotification = memo<Props>((props) => {\n  const { notification } = props;\n\n  const deletedUser =\n    isNilOrError(notification.attributes.initiating_user_first_name) ||\n    isNilOrError(notification.attributes.initiating_user_slug);\n\n  return (\n    <NotificationWrapper\n      linkTo={`/initiatives/${notification.attributes.post_slug}`}\n      timing={notification.attributes.created_at}\n      icon=\"initiative\"\n      isRead={!!notification.attributes.read_at}\n    >\n      <FormattedMessage\n        {...messages.userMarkedPostAsSpam}\n        values={{\n          name: deletedUser ? (\n            <DeletedUser>\n              <FormattedMessage {...messages.deletedUser} />\n            </DeletedUser>\n          ) : (\n            <Link\n              to={`/profile/${notification.attributes.initiating_user_slug}`}\n              onClick={stopPropagation}\n            >\n              {notification.attributes.initiating_user_first_name}\n            </Link>\n          ),\n          postTitle: <T value={notification.attributes.post_title_multiloc} />,\n        }}\n      />\n    </NotificationWrapper>\n  );\n});\n\nexport default InitiativeMarkedAsSpamNotification;\n","// Libraries\nimport React from 'react';\nimport { isEmpty, values as getValues, every } from 'lodash-es';\n\n// Formik\nimport { Form, Field, InjectedFormikProps, FormikErrors } from 'formik';\nimport FormikInputMultilocWithLocaleSwitcher from 'components/UI/FormikInputMultilocWithLocaleSwitcher';\nimport FormikSubmitWrapper from 'components/admin/FormikSubmitWrapper';\n\n// i18n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from './messages';\n\n// Components\nimport Error from 'components/UI/Error';\nimport { SectionField } from 'components/admin/Section';\n\n// Typings\nimport { Multiloc } from 'typings';\nexport interface Props {}\nexport interface NormalFormValues {\n  title_multiloc: Multiloc;\n  membership_type: MembershipType;\n}\n\n// Style\nimport styled from 'styled-components';\nimport { MembershipType } from 'services/groups';\n\nexport const Fill = styled.div`\n  padding-top: 40px;\n  padding-bottom: 20px;\n  padding-left: 40px;\n  overflow-y: auto;\n`;\n\nexport const FooterContainer = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding-left: 40px;\n  padding-bottom: 25px;\n`;\n\nexport default class NormalGroupForm extends React.Component<\n  InjectedFormikProps<Props, NormalFormValues>\n> {\n  public static validate = (\n    values: NormalFormValues\n  ): FormikErrors<NormalFormValues> => {\n    const errors: FormikErrors<NormalFormValues> = {};\n\n    if (every(getValues(values.title_multiloc), isEmpty)) {\n      errors.title_multiloc = [{ error: 'blank' }] as any;\n    }\n    return errors;\n  };\n\n  render() {\n    const { isSubmitting, errors, isValid, touched, status } = this.props;\n\n    return (\n      <Form>\n        <Fill>\n          <SectionField>\n            <Field\n              id=\"group-title-field\"\n              name=\"title_multiloc\"\n              component={FormikInputMultilocWithLocaleSwitcher}\n              label={<FormattedMessage {...messages.fieldGroupName} />}\n            />\n            {touched.title_multiloc && (\n              <Error\n                fieldName=\"title_multiloc\"\n                apiErrors={errors.title_multiloc as any}\n              />\n            )}\n          </SectionField>\n        </Fill>\n\n        <FooterContainer>\n          <FormikSubmitWrapper\n            {...{ isValid, isSubmitting, status, touched }}\n            buttonStyle=\"admin-dark\"\n          />\n        </FooterContainer>\n      </Form>\n    );\n  }\n}\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  anyAssignment: {\n    id: 'app.components.admin.PostManager.anyAssignment',\n    defaultMessage: 'Any administrator',\n  },\n  unassigned: {\n    id: 'app.containers.AdminPage.ProjectEdit.unassigned',\n    defaultMessage: 'Unassigned',\n  },\n  permissionsTab: {\n    id: 'app.modules.idea_assignment.admin.components.permissionsTab',\n    defaultMessage: 'Access rights',\n  },\n});\n","import { useState, useEffect } from 'react';\nimport {\n  currentAppConfigurationStream,\n  IAppConfiguration,\n} from 'services/appConfiguration';\n\nexport default function useAppConfiguration() {\n  const [appConfiguration, setAppConfiguration] = useState<\n    IAppConfiguration | undefined | null | Error\n  >(undefined);\n\n  useEffect(() => {\n    const subscription = currentAppConfigurationStream().observable.subscribe(\n      (currentAppConfiguration) => {\n        setAppConfiguration(currentAppConfiguration);\n      }\n    );\n\n    return () => subscription.unsubscribe();\n  }, []);\n\n  return appConfiguration;\n}\n","import { Subject, Observable } from 'rxjs';\nimport { filter, share } from 'rxjs/operators';\n\nexport interface IEventEmitterEvent<T> {\n  eventName: string;\n  eventValue: T;\n}\n\nclass EventEmitter {\n  private subject: Subject<IEventEmitterEvent<any>>;\n  private stream: { [key: string]: Observable<IEventEmitterEvent<any>> };\n\n  constructor() {\n    this.subject = new Subject();\n    this.stream = {};\n  }\n\n  emit<T>(eventName: string, eventValue: T = null as any) {\n    this.subject.next({ eventName, eventValue });\n  }\n\n  observeEvent<T>(eventName: string): Observable<IEventEmitterEvent<T>> {\n    const streamName = eventName;\n\n    if (!this.stream[streamName]) {\n      this.stream[streamName] = this.subject.pipe(\n        filter((data) => data.eventName === eventName),\n        share()\n      );\n    }\n\n    return this.stream[streamName];\n  }\n}\n\nconst eventEmitter = new EventEmitter();\nexport default eventEmitter;\n","import React from 'react';\nimport { ModuleConfiguration } from 'utils/moduleUtils';\nimport NavItem from './admin/components/NavItem';\n\nconst configuration: ModuleConfiguration = {\n  routes: {\n    admin: [\n      {\n        path: 'processing',\n        container: () => import('./admin/containers'),\n      },\n    ],\n  },\n  outlets: {\n    'app.containers.Admin.sideBar.navItems': (props) => <NavItem {...props} />,\n  },\n};\n\nexport default configuration;\n","import React, { memo } from 'react';\nimport styled from 'styled-components';\nimport useLocalize from 'hooks/useLocalize';\nimport useMapConfig from 'modules/commercial/custom_maps/hooks/useMapConfig';\nimport {\n  media,\n  isRtl,\n  fontSizes,\n  colors,\n  defaultCardStyle,\n} from 'utils/styleUtils';\nimport { Multiloc } from 'typings';\nimport {\n  getLayerColor,\n  getLayerIcon,\n} from 'modules/commercial/custom_maps/utils/map';\nimport { Icon, IconNames } from 'cl2-component-library';\nimport bowser from 'bowser';\n\nconst Container = styled.div`\n  padding: 25px;\n  padding-bottom: 8px;\n  ${defaultCardStyle};\n\n  ${media.smallerThanMaxTablet`\n    padding: 20px;\n  `}\n`;\n\nconst LegendItems = styled.ul`\n  list-style: none;\n  padding: 0;\n  margin: 0;\n  columns: 2;\n\n  ${media.smallerThanMinTablet`\n    columns: 1;\n  `}\n`;\n\nconst Item = styled.li`\n  color: ${colors.text};\n  font-size: ${fontSizes.base}px;\n  line-height: normal;\n  display: flex;\n  align-items: center;\n  padding-bottom: 15px;\n  min-height: 26px;\n  -webkit-column-break-inside: avoid;\n  page-break-inside: avoid;\n  break-inside: avoid;\n  overflow: hidden;\n\n  ${isRtl`\n    flex-direction: row-reverse;\n  `}\n`;\n\nconst ColorLabel = styled.div`\n  flex: 0 0 18px;\n  width: 18px;\n  height: 18px;\n  margin-right: 10px;\n  background-color: ${(props) => props.color};\n  border-radius: ${(props: any) => props.theme.borderRadius};\n\n  ${isRtl`\n    margin-right: 0;\n    margin-left: 10px;\n  `}\n`;\n\nconst StyledIcon = styled(Icon)<{ color: string }>`\n  fill: ${(props) => props.color};\n  flex: 0 0 18px;\n  width: 18px;\n  margin-right: 10px;\n\n  &.ie {\n    height: 18px;\n  }\n\n  ${isRtl`\n    margin-right: 0;\n    margin-left: 10px;\n  `}\n`;\n\ninterface Props {\n  projectId?: string | null;\n  className?: string;\n}\n\ninterface ILegendItem {\n  title_multiloc: Multiloc;\n  color: string;\n  iconName?: IconNames;\n}\n\nconst Legend = memo<Props>(({ projectId, className }) => {\n  if (!projectId) {\n    return null;\n  }\n\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  const mapConfig = useMapConfig({ projectId });\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  const localize = useLocalize();\n  let hasCustomLegend = false;\n  let legend: ILegendItem[] = [];\n\n  if (mapConfig?.attributes?.legend && mapConfig.attributes.legend.length > 0) {\n    hasCustomLegend = true;\n    legend = mapConfig.attributes.legend;\n  } else if (\n    mapConfig?.attributes?.layers &&\n    mapConfig.attributes.layers.length > 0\n  ) {\n    legend = mapConfig.attributes.layers.map((layer) => ({\n      title_multiloc: layer.title_multiloc,\n      color: getLayerColor(layer),\n      iconName: getLayerIcon(layer),\n    }));\n  }\n\n  if (legend && legend.length > 0) {\n    return (\n      <Container className={`${className || ''} legendcontainer`}>\n        <LegendItems>\n          {legend.map((legendItem, index) => {\n            const color = legendItem.color;\n            const iconName = legendItem?.iconName;\n            const label = localize(legendItem.title_multiloc);\n\n            return (\n              <Item\n                key={`legend-item-${index} ${index === 0 ? 'first' : ''} ${\n                  index === legend.length - 1 ? 'last' : ''\n                }`}\n              >\n                {hasCustomLegend && color && <ColorLabel color={color} />}\n                {!hasCustomLegend && color && iconName && (\n                  <StyledIcon\n                    name={iconName}\n                    color={color}\n                    className={bowser.msie ? 'ie' : ''}\n                  />\n                )}\n                {label}\n              </Item>\n            );\n          })}\n        </LegendItems>\n      </Container>\n    );\n  }\n\n  return null;\n});\n\nexport default Legend;\n","import Loadable from 'react-loadable';\n\nexport default () => ({\n  path: 'settings/areas',\n  name: 'admin settings areas',\n  component: Loadable({\n    loader: () => import('../'),\n    loading: () => null,\n  }),\n  indexRoute: {\n    name: 'admin setting areas index',\n    component: Loadable({\n      loader: () => import('./all'),\n      loading: () => null,\n    }),\n  },\n  childRoutes: [\n    {\n      path: 'new',\n      name: 'admin setting areas new',\n      component: Loadable({\n        loader: () => import('./New'),\n        loading: () => null,\n      }),\n    },\n    {\n      path: ':areaId',\n      name: 'admin setting area edit',\n      component: Loadable({\n        loader: () => import('./Edit'),\n        loading: () => null,\n      }),\n    },\n  ],\n});\n","import React from 'react';\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from './messages';\n\nimport Button from 'components/UI/Button';\n\nconst NewProjectFolderButton = () => (\n  <Button linkTo={'/admin/projects/folders/new'} buttonStyle=\"admin-dark\">\n    <FormattedMessage {...messages.newProjectFolder} />\n  </Button>\n);\n\nexport default NewProjectFolderButton;\n","import { ImageSizes } from 'typings';\nimport { API_PATH } from 'containers/App/constants';\nimport streams, { IStreamParams } from 'utils/streams';\n\nconst apiEndpoint = `${API_PATH}/project_folders`;\n\nexport interface IProjectFolderImageData {\n  id: string;\n  type: string;\n  attributes: {\n    versions: ImageSizes;\n    ordering: string | null;\n    created_at: string;\n    updated_at: string;\n  };\n}\n\nexport interface IProjectFolderImage {\n  data: IProjectFolderImageData;\n}\n\nexport interface IProjectFolderImages {\n  data: IProjectFolderImageData[];\n}\n\nexport function projectFolderImagesStream(\n  projectFolderId: string,\n  streamParams: IStreamParams | null = null\n) {\n  return streams.get<IProjectFolderImages | null>({\n    apiEndpoint: `${apiEndpoint}/${projectFolderId}/images`,\n    ...streamParams,\n  });\n}\n\nexport function projectFolderImageStream(\n  projectFolderId: string,\n  imageId: string,\n  streamParams: IStreamParams | null = null\n) {\n  return streams.get<IProjectFolderImage>({\n    apiEndpoint: `${apiEndpoint}/${projectFolderId}/images/${imageId}`,\n    ...streamParams,\n  });\n}\n\nexport function addProjectFolderImage(projectFolderId: string, base64: string) {\n  return streams.add<IProjectFolderImage>(\n    `${apiEndpoint}/${projectFolderId}/images`,\n    { image: { image: base64 } }\n  );\n}\n\nexport function deleteProjectFolderImage(\n  projectFolderId: string,\n  imageId: string\n) {\n  return streams.delete(\n    `${apiEndpoint}/${projectFolderId}/images/${imageId}`,\n    imageId\n  );\n}\n","import React from 'react';\nimport { isEqual, get, isString, omitBy, isNil, isError } from 'lodash-es';\nimport { BehaviorSubject, Subscription } from 'rxjs';\nimport { distinctUntilChanged, mergeScan, map } from 'rxjs/operators';\nimport { getGroups, IGroups, IGroupData } from 'services/groups';\nimport shallowCompare from 'utils/shallowCompare';\n\nexport type MembershipType = 'manual' | 'rules';\n\nexport interface InputProps {\n  pageNumber?: number;\n  pageSize?: number;\n  membershipType?: MembershipType;\n}\n\ninterface IQueryParameters {\n  'page[number]'?: number;\n  'page[size]'?: number;\n  membership_type?: MembershipType;\n}\n\ninterface IAccumulator {\n  groupsList: IGroupData[] | undefined | null | Error;\n  queryParameters: IQueryParameters;\n  hasMore: boolean;\n}\n\ntype children = (renderProps: GetGroupsChildProps) => JSX.Element | null;\n\ninterface Props extends InputProps {\n  children?: children;\n}\n\nexport type GetGroupsChildProps = State & {\n  onLoadMore: () => void;\n  onChangeMembershipType: (membershipType: MembershipType) => void;\n};\n\ninterface State {\n  queryParameters: IQueryParameters;\n  groupsList: IGroupData[] | undefined | null | Error;\n  hasMore: boolean;\n  querying: boolean;\n  loadingMore: boolean;\n}\n\nexport default class GetGroups extends React.Component<Props, State> {\n  private queryParameters$: BehaviorSubject<IQueryParameters>;\n  private subscriptions: Subscription[];\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      // defaults\n      queryParameters: {\n        'page[number]': 1,\n        'page[size]': 250,\n        membership_type: undefined,\n      },\n      groupsList: null,\n      hasMore: false,\n      querying: true,\n      loadingMore: false,\n    };\n\n    const queryParameters = this.getQueryParameters(this.state, this.props);\n    this.queryParameters$ = new BehaviorSubject(queryParameters);\n    this.subscriptions = [];\n  }\n\n  componentDidMount() {\n    const queryParameters = this.getQueryParameters(this.state, this.props);\n    const startAccumulatorValue: IAccumulator = {\n      queryParameters,\n      groupsList: undefined,\n      hasMore: false,\n    };\n\n    this.subscriptions = [\n      this.queryParameters$\n        .pipe(\n          distinctUntilChanged((x, y) => shallowCompare(x, y)),\n          mergeScan<IQueryParameters, IAccumulator>((acc, queryParameters) => {\n            const isLoadingMore =\n              acc.queryParameters['page[number]'] !==\n              queryParameters['page[number]'];\n            queryParameters['page[number]'] = isLoadingMore\n              ? queryParameters['page[number]']\n              : 1;\n\n            this.setState({\n              querying: !isLoadingMore,\n              loadingMore: isLoadingMore,\n            });\n\n            return getGroups({\n              queryParameters,\n            }).observable.pipe(\n              map((groups: IGroups | Error) => {\n                const selfLink = get(groups, 'links.self');\n                const lastLink = get(groups, 'links.last');\n                const hasMore =\n                  isString(selfLink) &&\n                  isString(lastLink) &&\n                  selfLink !== lastLink;\n                const accumulatedGroupsList = acc.groupsList;\n                let groupsList:\n                  | IGroupData[]\n                  | undefined\n                  | null\n                  | Error = undefined;\n\n                if (isError(groups)) {\n                  groupsList = groups;\n                } else if (isError(accumulatedGroupsList)) {\n                  groupsList = accumulatedGroupsList;\n                } else if (isLoadingMore && !isNil(accumulatedGroupsList)) {\n                  groupsList = [...accumulatedGroupsList, ...groups.data];\n                } else {\n                  groupsList = groups.data;\n                }\n\n                return {\n                  queryParameters,\n                  hasMore,\n                  groupsList,\n                };\n              })\n            );\n          }, startAccumulatorValue)\n        )\n        .subscribe(({ groupsList, queryParameters, hasMore }) => {\n          this.setState({\n            queryParameters,\n            hasMore,\n            groupsList,\n            querying: false,\n            loadingMore: false,\n          });\n        }),\n    ];\n  }\n\n  componentDidUpdate(prevProps: Props, _prevState: State) {\n    const { children: _prevChildren, ...prevPropsWithoutChildren } = prevProps;\n    const { children: _nextChildren, ...nextPropsWithoutChildren } = this.props;\n\n    if (!isEqual(prevPropsWithoutChildren, nextPropsWithoutChildren)) {\n      const queryParameters = this.getQueryParameters(this.state, this.props);\n      this.queryParameters$.next(queryParameters);\n    }\n  }\n\n  componentWillUnmount() {\n    this.subscriptions.forEach((subscription) => subscription.unsubscribe());\n  }\n\n  getQueryParameters = (state: State, props: Props) => {\n    return {\n      ...state.queryParameters,\n      ...omitBy(\n        {\n          'page[number]': props.pageNumber,\n          'page[size]': props.pageSize,\n          membership_type: props.membershipType,\n        },\n        isNil\n      ),\n    };\n  };\n\n  loadMore = () => {\n    if (!this.state.loadingMore) {\n      this.queryParameters$.next({\n        ...this.state.queryParameters,\n        'page[number]': (this.state.queryParameters['page[number]'] || 0) + 1,\n      });\n    }\n  };\n\n  handleMembershipTypeOnChange = (membershipType: MembershipType) => {\n    this.queryParameters$.next({\n      ...this.state.queryParameters,\n      membership_type: membershipType,\n    });\n  };\n\n  render() {\n    const { children } = this.props;\n    return (children as children)({\n      ...this.state,\n      onLoadMore: this.loadMore,\n      onChangeMembershipType: this.handleMembershipTypeOnChange,\n    });\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport {};","import { first } from 'rxjs/operators';\nimport { LocationDescriptor } from 'history';\nimport { localeStream } from 'services/locale';\nimport updateLocationDescriptor from 'utils/cl-router/updateLocationDescriptor';\n// tslint:disable-next-line:no-vanilla-routing\nimport { browserHistory } from 'react-router';\n\n// overrides push and replace methods so they update the location with the current locale from the locale stream\nfunction historyMethod(\n  method: 'push' | 'replace',\n  location: LocationDescriptor\n): void {\n  // 'gets' current locale\n  localeStream()\n    .observable.pipe(first())\n    .subscribe((locale) => {\n      // calls the vanilla react-router method with updated location\n      browserHistory[method](updateLocationDescriptor(location, locale));\n    });\n}\n\nexport default {\n  ...browserHistory,\n  push: (location: LocationDescriptor): void => historyMethod('push', location),\n  replace: (location: LocationDescriptor): void =>\n    historyMethod('replace', location),\n};\n","import React, { PureComponent } from 'react';\nimport styled from 'styled-components';\nimport { media, fontSizes, colors, isRtl } from 'utils/styleUtils';\nimport { FormattedMessage } from 'utils/cl-intl';\nimport Link from 'utils/cl-router/Link';\nimport { Icon } from 'cl2-component-library';\nimport messages from '../../messages';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { withRouter, WithRouterProps } from 'react-router';\nimport FeatureFlag from 'components/FeatureFlag';\nimport { lighten } from 'polished';\n\nconst Container = styled.nav`\n  height: ${(props) => props.theme.mobileMenuHeight}px;\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  padding-left: 10px;\n  padding-right: 10px;\n  padding-bottom: 3px;\n  background: #fff;\n  border-top: solid 1px ${lighten(0.3, colors.label)};\n  display: flex;\n  align-items: stretch;\n  justify-content: space-evenly;\n  z-index: 1004;\n\n  ${isRtl`\n    flex-direction: row-reverse;\n  `}\n\n  ${isRtl`\n    flex-direction: row-reverse;\n  `}\n\n  ${media.biggerThanMaxTablet`\n    display: none;\n  `}\n\n  @media print {\n    display: none;\n  }\n`;\n\nconst NavigationIcon = styled(Icon)`\n  fill: ${colors.label};\n  height: 22px;\n  width: 22px;\n\n  .cl-icon-primary,\n  .cl-icon-accent,\n  .cl-icon-secondary {\n    fill: ${colors.label};\n  }\n`;\n\nconst NavigationIconWrapper = styled.div`\n  display: flex;\n  height: 22px;\n  width: 22px;\n  align-items: center;\n  justify-content: center;\n\n  ${media.smallPhone`\n    height: 20px;\n    width: 20px;\n  `}\n`;\n\nconst NavigationLabel = styled.div`\n  width: 100%;\n  color: ${colors.label};\n  font-size: ${fontSizes.small}px;\n  font-weight: 500;\n  margin-left: 5px;\n\n  ${isRtl`\n    margin-left: 0;\n    margin-right: 6px;\n  `}\n`;\n\nconst NavigationItem = styled(Link)`\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  margin: 0 auto;\n\n  ${isRtl`\n    flex-direction: row-reverse;\n`}\n\n  &.active {\n    ${NavigationIcon} {\n      fill: ${(props) => props.theme.colorMain};\n\n      .cl-icon-primary,\n      .cl-icon-accent,\n      .cl-icon-secondary {\n        fill: ${(props) => props.theme.colorMain};\n      }\n    }\n\n    ${NavigationLabel} {\n      color: ${(props) => props.theme.colorMain};\n    }\n  }\n`;\n\ninterface InputProps {\n  setRef?: (arg: HTMLElement) => void | undefined;\n  className?: string;\n}\n\ninterface DataProps {}\n\ninterface Props extends InputProps, DataProps {}\n\ninterface State {}\n\nclass MobileNavigation extends PureComponent<Props & WithRouterProps, State> {\n  handleRef = (element: HTMLElement) => {\n    this.props.setRef && this.props.setRef(element);\n  };\n\n  render() {\n    const { location, className } = this.props;\n    const urlSegments = !isNilOrError(location)\n      ? location.pathname.replace(/^\\/|\\/$/g, '').split('/')\n      : [''];\n    const secondUrlSegment =\n      urlSegments && urlSegments.length >= 1 ? urlSegments[1] : null;\n\n    return (\n      <Container className={className} ref={this.handleRef}>\n        <NavigationItem to=\"/\" activeClassName=\"active\" onlyActiveOnIndex>\n          <NavigationIconWrapper>\n            <NavigationIcon ariaHidden name=\"homeFilled\" />\n          </NavigationIconWrapper>\n          <NavigationLabel>\n            <FormattedMessage {...messages.mobilePageHome} />\n          </NavigationLabel>\n        </NavigationItem>\n\n        <NavigationItem\n          to=\"/projects\"\n          className={secondUrlSegment === 'projects' ? 'active' : ''}\n        >\n          <NavigationIconWrapper>\n            <NavigationIcon ariaHidden name=\"folder\" />\n          </NavigationIconWrapper>\n          <NavigationLabel>\n            <FormattedMessage {...messages.mobilePageProjects} />\n          </NavigationLabel>\n        </NavigationItem>\n\n        <FeatureFlag name=\"ideas_overview\">\n          <NavigationItem\n            to=\"/ideas\"\n            className={secondUrlSegment === 'ideas' ? 'active' : ''}\n          >\n            <NavigationIconWrapper>\n              <NavigationIcon ariaHidden name=\"idea2\" />\n            </NavigationIconWrapper>\n            <NavigationLabel>\n              <FormattedMessage {...messages.mobilePageInputs} />\n            </NavigationLabel>\n          </NavigationItem>\n        </FeatureFlag>\n\n        <FeatureFlag name=\"initiatives\">\n          <NavigationItem\n            to=\"/initiatives\"\n            className={secondUrlSegment === 'initiatives' ? 'active' : ''}\n          >\n            <NavigationIconWrapper>\n              <NavigationIcon ariaHidden name=\"initiatives\" />\n            </NavigationIconWrapper>\n            <NavigationLabel>\n              <FormattedMessage {...messages.mobilePageInitiatives} />\n            </NavigationLabel>\n          </NavigationItem>\n        </FeatureFlag>\n      </Container>\n    );\n  }\n}\n\nexport default withRouter<Props>(MobileNavigation);\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  archived: {\n    id: 'app.containers.Admin.projects.all.components.archived',\n    defaultMessage: 'Archived',\n  },\n  draft: {\n    id: 'app.containers.Admin.projects.all.components.draft',\n    defaultMessage: 'Draft',\n  },\n  deleteProjectConfirmation: {\n    id: 'app.containers.Admin.projects.all.deleteProjectConfirmation',\n    defaultMessage:\n      'Are you sure you want to delete this project? This cannot be undone.',\n  },\n  deleteProjectError: {\n    id: 'app.containers.Admin.projects.all.deleteProjectError',\n    defaultMessage:\n      'There was an error deleting this project, please try again later.',\n  },\n  deleteProjectButton: {\n    id: 'app.containers.Admin.projects.all.deleteProjectButton',\n    defaultMessage: 'Delete',\n  },\n});\n","import React, { ReactElement, memo, useState, useCallback } from 'react';\nimport useGraphqlTenantLocales from 'hooks/useGraphqlTenantLocales';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { gql, useQuery } from '@apollo/client';\nimport useAppConfiguration from 'hooks/useAppConfiguration';\nimport useAppConfigurationLocales from 'hooks/useAppConfigurationLocales';\nimport { trackEventByName } from 'utils/analytics';\nimport { get, isEmpty } from 'lodash-es';\nimport tracks from '../../tracks';\nimport ProjectTemplateCards from '../components/ProjectTemplateCards';\nimport { client } from '../../utils/apolloUtils';\n\ninterface Props {\n  className?: string;\n  graphqlTenantLocales: string[];\n}\n\nconst CreateProjectFromTemplate = memo(\n  ({ graphqlTenantLocales, className }: Props): ReactElement => {\n    const tenant = useAppConfiguration();\n\n    const locales = !isNilOrError(tenant)\n      ? tenant.data.attributes.settings.core.locales\n      : null;\n    const organizationTypes = !isNilOrError(tenant)\n      ? tenant.data.attributes.settings.core.organization_type\n      : null;\n\n    const [departments, setDepartments] = useState<string[] | null>(null);\n    const [purposes, setPurposes] = useState<string[] | null>(null);\n    const [participationLevels, setParticipationLevels] = useState<\n      string[] | null\n    >(null);\n    const [search, setSearch] = useState<string | null>(null);\n    const [loadingMore, setLoadingMore] = useState(false);\n\n    const tenantLocales = useAppConfigurationLocales();\n\n    const TEMPLATES_QUERY = gql`\n    query PublishedProjectTemplatesQuery(\n      $cursor: String,\n      $departments: [ID!],\n      $purposes: [ID!],\n      $participationLevels: [ID!],\n      $search: String,\n      $locales: [String!],\n      $organizationTypes: [String!]\n    ) {\n      publishedProjectTemplates(\n        first: 24,\n        after: $cursor,\n        departments: $departments,\n        purposes: $purposes,\n        participationLevels: $participationLevels,\n        search: $search,\n        locales: $locales,\n        organizationTypes: $organizationTypes\n      ) {\n        edges {\n          node {\n            id,\n            cardImage,\n            titleMultiloc {\n              ${graphqlTenantLocales}\n            },\n            subtitleMultiloc {\n              ${graphqlTenantLocales}\n            }\n          }\n          cursor\n        }\n        pageInfo{\n          endCursor\n          hasNextPage\n        }\n      }\n    }\n  `;\n    const { loading, data, fetchMore } = useQuery(TEMPLATES_QUERY, {\n      client,\n      variables: {\n        departments,\n        purposes,\n        participationLevels,\n        search,\n        organizationTypes,\n        cursor: null,\n        locales: tenantLocales,\n      },\n    });\n\n    const templates = get(data, 'publishedProjectTemplates', null);\n\n    const handleLoadMoreTemplatesOnClick = useCallback(async () => {\n      trackEventByName(tracks.templatesLoadMoreButtonClicked);\n      setLoadingMore(true);\n\n      try {\n        await fetchMore({\n          variables: {\n            departments,\n            purposes,\n            participationLevels,\n            search,\n            locales,\n            organizationTypes,\n            cursor: templates.pageInfo.endCursor,\n          },\n          updateQuery: (\n            previousResult,\n            { fetchMoreResult }: { fetchMoreResult: any }\n          ) => {\n            const newEdges = fetchMoreResult.publishedProjectTemplates.edges;\n            const pageInfo = fetchMoreResult.publishedProjectTemplates.pageInfo;\n\n            return newEdges.length\n              ? {\n                  publishedProjectTemplates: {\n                    pageInfo,\n                    __typename: templates.__typename,\n                    edges: [...templates.edges, ...newEdges],\n                  },\n                }\n              : previousResult;\n          },\n        });\n        setLoadingMore(false);\n      } catch {\n        setLoadingMore(false);\n      }\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [templates]);\n\n    const handleDepartmentFilterOnChange = useCallback(\n      (departments: string[]) => {\n        trackEventByName(tracks.departmentFilterChanged, { departments });\n        setDepartments(\n          departments && departments.length > 0 ? departments : null\n        );\n      },\n      []\n    );\n\n    const handlePurposeFilterOnChange = useCallback((purposes: string[]) => {\n      trackEventByName(tracks.purposeFilterChanged, { purposes });\n      setPurposes(purposes && purposes.length > 0 ? purposes : null);\n    }, []);\n\n    const handleParticipationLevelFilterOnChange = useCallback(\n      (participationLevels: string[]) => {\n        trackEventByName(tracks.participationLevelFilterChanged, {\n          participationLevels,\n        });\n        setParticipationLevels(\n          participationLevels && participationLevels.length > 0\n            ? participationLevels\n            : null\n        );\n      },\n      []\n    );\n\n    const handleSearchOnChange = useCallback((searchValue: string) => {\n      trackEventByName(tracks.projectTemplatesSearchValueChanged, {\n        searchValue,\n      });\n      setSearch(!isEmpty(searchValue) ? searchValue : null);\n    }, []);\n\n    return (\n      <ProjectTemplateCards\n        templates={templates}\n        className={className}\n        loading={loading}\n        onLoadMore={handleLoadMoreTemplatesOnClick}\n        loadingMore={loadingMore}\n        onSearchChange={handleSearchOnChange}\n        onPurposeFilterChange={handlePurposeFilterOnChange}\n        onDepartmentFilterChange={handleDepartmentFilterOnChange}\n        onParticipationLevelFilterChange={\n          handleParticipationLevelFilterOnChange\n        }\n      />\n    );\n  }\n);\n\nconst CreateProjectFromTemplateWithGraphqlLocales = memo((props) => {\n  const graphqlTenantLocales = useGraphqlTenantLocales();\n\n  if (isNilOrError(graphqlTenantLocales)) return null;\n\n  return (\n    <CreateProjectFromTemplate\n      graphqlTenantLocales={graphqlTenantLocales}\n      {...props}\n    />\n  );\n});\n\nexport default CreateProjectFromTemplateWithGraphqlLocales;\n","export default __webpack_public_path__ + \"460df7f37812ee37a5e9a413bd7acaa5.jpg\";","import React from 'react';\n\n// components\nimport { IconTooltip, Radio } from 'cl2-component-library';\nimport { FormattedMessage } from 'utils/cl-intl';\nimport FeatureFlag from 'components/FeatureFlag';\nimport { SectionField, SubSectionTitle } from 'components/admin/Section';\nimport Error from 'components/UI/Error';\nimport { LabelHeaderDescription } from './labels';\nimport { StyledRadio } from './styling';\n\n// i18n\nimport messages from '../../messages';\n\n// typings\nimport { ParticipationMethod } from 'services/participationContexts';\nimport { ApiErrors } from '..';\n\ninterface Props {\n  participation_method: string;\n  showSurveys: boolean;\n  apiErrors: ApiErrors;\n  handleParticipationMethodOnChange: (\n    participation_method: ParticipationMethod\n  ) => void;\n}\n\nexport default ({\n  participation_method,\n  showSurveys,\n  apiErrors,\n  handleParticipationMethodOnChange,\n}: Props) => (\n  <SectionField>\n    <SubSectionTitle>\n      <FormattedMessage {...messages.participationMethodTitleText} />\n      <IconTooltip\n        content={<FormattedMessage {...messages.participationMethodTooltip} />}\n      />\n    </SubSectionTitle>\n    <StyledRadio\n      onChange={handleParticipationMethodOnChange}\n      currentValue={participation_method}\n      value=\"ideation\"\n      name=\"participationmethod\"\n      id=\"participationmethod-ideation\"\n      label={\n        <LabelHeaderDescription\n          header=\"inputAndFeedback\"\n          description=\"inputAndFeedbackDescription\"\n        />\n      }\n    />\n\n    <FeatureFlag name=\"participatory_budgeting\">\n      <StyledRadio\n        onChange={handleParticipationMethodOnChange}\n        currentValue={participation_method}\n        value=\"budgeting\"\n        name=\"participationmethod\"\n        id={'participationmethod-budgeting'}\n        label={\n          <LabelHeaderDescription\n            header=\"conductParticipatoryBudgetingText\"\n            description=\"conductParticipatoryBudgetingDescriptionText\"\n          />\n        }\n      />\n    </FeatureFlag>\n    <FeatureFlag name=\"polls\">\n      <StyledRadio\n        onChange={handleParticipationMethodOnChange}\n        currentValue={participation_method}\n        value=\"poll\"\n        name=\"participationmethod\"\n        id={'participationmethod-poll'}\n        label={\n          <LabelHeaderDescription\n            header=\"createPoll\"\n            description=\"createPollDescription\"\n          />\n        }\n      />\n    </FeatureFlag>\n\n    {showSurveys && (\n      <StyledRadio\n        onChange={handleParticipationMethodOnChange}\n        currentValue={participation_method}\n        value=\"survey\"\n        name=\"participationmethod\"\n        id={'participationmethod-survey'}\n        label={\n          <LabelHeaderDescription\n            header=\"createSurveyText\"\n            description=\"createSurveyDescription\"\n          />\n        }\n      />\n    )}\n\n    <FeatureFlag name=\"volunteering\">\n      <StyledRadio\n        onChange={handleParticipationMethodOnChange}\n        currentValue={participation_method}\n        value=\"volunteering\"\n        name=\"participationmethod\"\n        id={'participationmethod-volunteering'}\n        label={\n          <LabelHeaderDescription\n            header=\"findVolunteers\"\n            description=\"findVolunteersDescriptionText\"\n          />\n        }\n      />\n    </FeatureFlag>\n\n    <Radio\n      onChange={handleParticipationMethodOnChange}\n      currentValue={participation_method}\n      value=\"information\"\n      name=\"participationmethod\"\n      id=\"participationmethod-information\"\n      label={\n        <LabelHeaderDescription\n          header=\"shareInformation\"\n          description=\"shareInformationDescription\"\n        />\n      }\n    />\n    <Error apiErrors={apiErrors && apiErrors.participation_method} />\n  </SectionField>\n);\n","import { useState, useEffect } from 'react';\nimport { Locale } from 'typings';\nimport { localeStream } from 'services/locale';\n\nexport default function useLocale() {\n  const [locale, setLocale] = useState<Locale | undefined | null | Error>(\n    undefined\n  );\n\n  useEffect(() => {\n    const subscription = localeStream().observable.subscribe((locale) => {\n      setLocale(locale);\n    });\n\n    return () => subscription.unsubscribe();\n  }, []);\n\n  return locale;\n}\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  moderatorsSectionTitle: {\n    id: 'app.containers.AdminPage.ProjectEdit.moderatorsSectionTitle',\n    defaultMessage: 'Who can moderate this project?',\n  },\n  projectManagerTooltipContent: {\n    id: 'app.containers.AdminPage.ProjectEdit.projectManagerTooltipContent',\n    defaultMessage:\n      'Project managers can edit projects, manage inputs and email participants. You can {moderationInfoCenterLink} to find more information about the rights assigned to project managers.',\n  },\n  moderationInfoCenterLinkText: {\n    id: 'app.containers.AdminPage.ProjectEdit.moderationInfoCenterLinkText',\n    defaultMessage: 'visit our Help Center',\n  },\n  moreInfoModeratorLink: {\n    id: 'app.containers.AdminPage.ProjectEdit.moreInfoModeratorLink',\n    defaultMessage:\n      'http://support.citizenlab.co/en-your-citizenlab-platform-step-by-step/set-up/pointing-out-the-right-project-moderators',\n  },\n});\n","import { useState, useEffect } from 'react';\nimport { fromEvent } from 'rxjs';\nimport { debounceTime, distinctUntilChanged } from 'rxjs/operators';\n\nexport default function useWindowSize() {\n  const [windowSize, setWindowSize] = useState<{\n    windowWidth: number;\n    windowHeight: number;\n  }>({\n    windowWidth: window.innerWidth,\n    windowHeight: window.innerHeight,\n  });\n\n  useEffect(() => {\n    const subscription = fromEvent(window, 'resize', { passive: true })\n      .pipe(debounceTime(50), distinctUntilChanged())\n      .subscribe((event) => {\n        if (event.target) {\n          const windowWidth = event.target['innerWidth'] as number;\n          const windowHeight = event.target['innerHeight'] as number;\n          setWindowSize({ windowWidth, windowHeight });\n        }\n      });\n\n    return () => subscription.unsubscribe();\n  }, []);\n\n  return windowSize;\n}\n","import { Label } from 'cl2-component-library';\nimport Button from 'components/UI/Button';\nimport styled from 'styled-components';\nimport { fontSizes, media } from 'utils/styleUtils';\n\nexport const FormContainer = styled.div<{ inModal: boolean }>`\n  display: flex;\n  flex-direction: column;\n  align-items: ${(props) => (props.inModal ? 'center' : 'stretch')};\n`;\n\nexport const Title = styled.h1`\n  width: 100%;\n  color: ${({ theme }) => theme.colorText};\n  font-size: ${fontSizes.xxl}px;\n  font-weight: 300;\n  line-height: normal;\n  text-align: center;\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  margin: 0;\n  margin-bottom: 35px;\n  padding: 0;\n\n  strong {\n    font-weight: 600;\n  }\n\n  ${media.smallerThanMaxTablet`\n    font-size: ${fontSizes.xl}px;\n    margin-bottom: 20px;\n  `}\n`;\n\nexport const Subtitle = styled.h2`\n  color: ${({ theme }) => theme.colorText};\n  font-size: ${fontSizes.large}px;\n  font-weight: 600;\n  line-height: normal;\n`;\n\nexport const Form = styled.form<{ inModal: boolean }>`\n  width: 100%;\n  max-width: ${(props) => (props.inModal ? '380px' : 'unset')};\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  margin-top: 10px;\n`;\n\nexport const FormField = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  margin-bottom: 20px;\n`;\n\nexport const StyledLabel = styled(Label)`\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n`;\n\nexport const LabelTextContainer = styled.div`\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n`;\n\nexport const Footer = styled.div`\n  display: flex;\n  padding-top: 10px;\n`;\n\nexport const SubmitButton = styled(Button)`\n  margin-right: 10px;\n`;\n\nexport const CancelButton = styled(Button)``;\n\nexport const HelpImage = styled.img`\n  width: 100%;\n`;\n","import {\n  IDestinationConfig,\n  registerDestination,\n} from 'components/ConsentManager/destinations';\nimport { combineLatest } from 'rxjs';\nimport { currentAppConfigurationStream } from 'services/appConfiguration';\nimport { initializeFor, shutdownFor } from 'utils/analytics';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { ModuleConfiguration } from 'utils/moduleUtils';\n\ndeclare module 'components/ConsentManager/destinations' {\n  export interface IDestinationMap {\n    google_analytics: 'google_analytics';\n  }\n}\n\nconst destinationConfig: IDestinationConfig = {\n  key: 'google_analytics',\n  category: 'analytics',\n  feature_flag: 'google_analytics',\n  name: () => 'Google Analytics',\n};\n\nconst configuration: ModuleConfiguration = {\n  beforeMountApplication: () => {\n    // Initialize\n    combineLatest([\n      currentAppConfigurationStream().observable,\n      initializeFor('google_analytics'),\n    ]).subscribe(([tenant, _]) => {\n      if (isNilOrError(tenant)) return;\n\n      const currdate: any = new Date();\n      const gaNewElem: any = {};\n      const gaElems: any = {};\n\n      // This code is from Google, so let's not modify it too much, just add gaNewElem and gaElems:\n\n      (function (i, s, o, g, r, a, m) {\n        i['GoogleAnalyticsObject'] = r;\n        (i[r] =\n          i[r] ||\n          function () {\n            // eslint-disable-next-line prefer-rest-params\n            (i[r].q = i[r].q || []).push(arguments);\n          }),\n          (i[r].l = 1 * currdate);\n        // eslint-disable-next-line no-param-reassign\n        (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);\n        a.async = 1;\n        a.src = g;\n        m?.parentNode?.insertBefore(a, m);\n      })(\n        window,\n        document,\n        'script',\n        '//www.google-analytics.com/analytics.js',\n        'ga',\n        gaNewElem,\n        gaElems\n      );\n      /* tslint:enable:no-unused-expression */\n      /* tslint:enable:semicolon */\n      /* tslint:enable:no-string-literal */\n\n      (window as any).ga(\n        'create',\n        tenant.data.attributes.settings.google_analytics?.tracking_id,\n        'auto'\n      );\n      (window as any).ga('send', 'pageview');\n    });\n\n    // Shutdown\n    combineLatest([\n      currentAppConfigurationStream().observable,\n      shutdownFor('google_analytics'),\n    ]).subscribe(([tenant, _]) => {\n      window[\n        `ga-disable-${tenant.data.attributes.settings.google_analytics?.tracking_id}`\n      ];\n    });\n\n    registerDestination(destinationConfig);\n  },\n};\n\nexport default configuration;\n","import { API_PATH } from 'containers/App/constants';\nimport streams, { IStreamParams } from 'utils/streams';\nimport { Multiloc } from 'typings';\n\nexport interface IMembershipTypeMap {\n  manual: 'manual';\n}\n\nexport interface IGroupDataAttributes {\n  title_multiloc: Multiloc;\n  slug?: string;\n  memberships_count: number;\n  membership_type: MembershipType;\n}\n\nexport type MembershipType = IMembershipTypeMap[keyof IMembershipTypeMap];\n\nexport interface IGroupData {\n  id: string;\n  type: 'group';\n  attributes: IGroupDataAttributes;\n}\n\nexport interface GroupDiff {\n  title_multiloc?: IGroupData['attributes']['title_multiloc'];\n  membership_type: IGroupData['attributes']['membership_type'];\n}\n\nexport interface IGroups {\n  data: IGroupData[];\n}\n\nexport interface IGroup {\n  data: IGroupData;\n}\n\nexport function getGroups(streamParams: IStreamParams | null = null) {\n  return streams.get<IGroups>({\n    apiEndpoint: `${API_PATH}/groups`,\n    ...streamParams,\n    cacheStream: false,\n  });\n}\n\nexport function getGroup(\n  groupId: string,\n  streamParams: IStreamParams | null = null\n) {\n  return streams.get<IGroup>({\n    apiEndpoint: `${API_PATH}/groups/${groupId}`,\n    ...streamParams,\n    cacheStream: false,\n  });\n}\n\nexport function addGroup(object: GroupDiff) {\n  return streams.add<IGroups>(`${API_PATH}/groups`, { group: object });\n}\n\nexport function updateGroup(groupId: string, object: GroupDiff) {\n  return streams.update<IGroup>(`${API_PATH}/groups/${groupId}`, groupId, {\n    group: object,\n  });\n}\n\nexport function deleteGroup(groupId: string) {\n  return streams.delete(`${API_PATH}/groups/${groupId}`, groupId);\n}\n","import React from 'react';\n\n// components\nimport { Radio, IconTooltip } from 'cl2-component-library';\nimport Error from 'components/UI/Error';\nimport { SectionField, SubSectionTitle } from 'components/admin/Section';\n\n// i18n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from '../../messages';\n\n// typings\nimport { IdeaDefaultSortMethod } from 'services/participationContexts';\nimport { ApiErrors } from '..';\n\ninterface Props {\n  ideas_order: IdeaDefaultSortMethod | undefined;\n  apiErrors: ApiErrors;\n  handleIdeaDefaultSortMethodChange: (\n    ideas_order: IdeaDefaultSortMethod\n  ) => void;\n}\n\nexport default ({\n  ideas_order,\n  apiErrors,\n  handleIdeaDefaultSortMethodChange,\n}: Props) => (\n  <SectionField>\n    <SubSectionTitle>\n      <FormattedMessage {...messages.defaultSorting} />\n      <IconTooltip\n        content={<FormattedMessage {...messages.defaultPostSortingTooltip} />}\n      />\n    </SubSectionTitle>\n    {[\n      { key: 'trending', value: 'trending' },\n      { key: 'random', value: 'random' },\n      { key: 'popular', value: 'popular' },\n      { key: 'newest', value: 'new' },\n      { key: 'oldest', value: '-new' },\n    ].map(({ key, value }) => (\n      <Radio\n        key={key}\n        onChange={handleIdeaDefaultSortMethodChange}\n        currentValue={ideas_order}\n        value={value}\n        name=\"IdeaDefaultSortMethod\"\n        id={`ideas_order-${key}`}\n        label={<FormattedMessage {...messages[`${key}SortingMethod`]} />}\n      />\n    ))}\n    <Error apiErrors={apiErrors && apiErrors.presentation_mode} />\n  </SectionField>\n);\n","// Libraries\nimport React, { PureComponent } from 'react';\nimport { Subscription, combineLatest } from 'rxjs';\nimport { find, map } from 'lodash-es';\n\n// i18n\nimport { InjectedIntlProps } from 'react-intl';\nimport { injectIntl, FormattedMessage } from 'utils/cl-intl';\nimport { getLocalized } from 'utils/i18n';\nimport messages from './messages';\n\n// Components\nimport Button from 'components/UI/Button';\nimport MultipleSelect from 'components/UI/MultipleSelect';\nimport GroupAvatar from './GroupAvatar';\nimport { List, Row } from 'components/admin/ResourceList';\n\n// Services\nimport { localeStream } from 'services/locale';\nimport { currentAppConfigurationStream } from 'services/appConfiguration';\nimport { getGroups, IGroups, IGroupData } from 'services/groups';\nimport {\n  addGroupProject,\n  deleteGroupProject,\n  groupsProjectsByProjectIdStream,\n  IGroupsProjects,\n} from 'services/groupsProjects';\n\n// Style\nimport styled from 'styled-components';\n\n// Typings\nimport { IOption, Locale } from 'typings';\n\nconst Container = styled.div`\n  width: 100%;\n  margin-bottom: 20px;\n`;\n\nconst SelectGroupsContainer = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n  align-items: center;\n  margin-bottom: 30px;\n`;\n\nconst StyledMultipleSelect = styled(MultipleSelect)`\n  min-width: 300px;\n  z-index: 5;\n`;\n\nconst AddGroupButton = styled(Button)`\n  flex-grow: 0;\n  flex-shrink: 0;\n  margin-left: 30px;\n`;\n\nconst GroupTitle = styled.p``;\n\nconst GroupMembershipCount = styled.p``;\n\ninterface IProjectGroup {\n  group_id: string;\n  group_project_id: string;\n  title: string;\n  membership_count: number;\n}\n\ninterface Props {\n  projectId: string;\n  onAddButtonClicked: () => void;\n}\n\ninterface State {\n  locale: Locale | null;\n  currentTenantLocales: Locale[] | null;\n  groupsOptions: IOption[] | null;\n  projectGroups: IProjectGroup[] | null;\n  selectedGroups: IOption[] | null;\n  loading: boolean;\n}\n\nclass ProjectGroupsList extends PureComponent<\n  Props & InjectedIntlProps,\n  State\n> {\n  subscriptions: Subscription[];\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      locale: null,\n      currentTenantLocales: null,\n      groupsOptions: null,\n      projectGroups: null,\n      selectedGroups: null,\n      loading: true,\n    };\n    this.subscriptions = [];\n  }\n\n  componentDidMount() {\n    const { projectId } = this.props;\n    const locale$ = localeStream().observable;\n    const currentTenant$ = currentAppConfigurationStream().observable;\n    const groups$ = getGroups().observable;\n    const groupsProjects$ = groupsProjectsByProjectIdStream(projectId)\n      .observable;\n\n    this.subscriptions = [\n      combineLatest(\n        locale$,\n        currentTenant$,\n        groups$,\n        groupsProjects$\n      ).subscribe(([locale, currentTenant, groups, groupsProjects]) => {\n        const currentTenantLocales =\n          currentTenant.data.attributes.settings.core.locales;\n        const projectGroups = map(groupsProjects.data, (groupProject) => {\n          const group = find(\n            groups.data,\n            (group) => group.id === groupProject.relationships.group.data.id\n          ) as IGroupData;\n\n          return {\n            group_id: group.id,\n            group_project_id: groupProject.id,\n            title: getLocalized(\n              group.attributes.title_multiloc,\n              locale,\n              currentTenantLocales\n            ),\n            membership_count: group.attributes.memberships_count,\n          };\n        }).reverse();\n        const groupsOptions = this.getOptions(\n          groups,\n          groupsProjects,\n          locale,\n          currentTenantLocales\n        );\n        const loading = false;\n\n        this.setState({\n          locale,\n          currentTenantLocales,\n          projectGroups,\n          groupsOptions,\n          loading,\n        });\n      }),\n    ];\n  }\n\n  componentWillUnmount() {\n    this.subscriptions.forEach((subscription) => subscription.unsubscribe());\n  }\n\n  handleGroupsOnChange = (selectedGroups: IOption[]) => {\n    this.setState({ selectedGroups });\n  };\n\n  handleOnAddGroupClick = async () => {\n    const { projectId } = this.props;\n    const { selectedGroups } = this.state;\n\n    if (selectedGroups && selectedGroups.length > 0) {\n      const promises = selectedGroups.map((selectedGroup) =>\n        addGroupProject(projectId, selectedGroup.value)\n      );\n\n      try {\n        await Promise.all(promises);\n        this.setState({ selectedGroups: null });\n        this.props.onAddButtonClicked();\n      } catch (error) {\n        // eslint-disable-next-line no-console\n        if (process.env.NODE_ENV === 'development') console.log(error);\n      }\n    }\n  };\n\n  getOptions = (\n    groups: IGroups | null,\n    groupsProjects: IGroupsProjects,\n    locale: Locale,\n    currentTenantLocales: Locale[]\n  ) => {\n    if (groupsProjects && groups) {\n      return groups.data\n        .filter((group) => {\n          return !groupsProjects.data.some(\n            (groupProject) =>\n              groupProject.relationships.group.data.id === group.id\n          );\n        })\n        .map((group) => ({\n          value: group.id,\n          label: getLocalized(\n            group.attributes.title_multiloc,\n            locale,\n            currentTenantLocales\n          ),\n        }));\n    }\n\n    return null;\n  };\n\n  createDeleteGroupHandler = (groupProjectId: string) => {\n    const deletionMessage = this.props.intl.formatMessage(\n      messages.groupDeletionConfirmation\n    );\n\n    return (event) => {\n      event.preventDefault();\n\n      if (window.confirm(deletionMessage)) {\n        deleteGroupProject(groupProjectId);\n      }\n    };\n  };\n\n  render() {\n    const { formatMessage } = this.props.intl;\n    const {\n      groupsOptions,\n      projectGroups,\n      selectedGroups,\n      loading,\n    } = this.state;\n    const groupsMultipleSelectPlaceholder = formatMessage(\n      messages.groupsMultipleSelectPlaceholder\n    );\n\n    const selectGroups = !loading ? (\n      <SelectGroupsContainer>\n        <StyledMultipleSelect\n          options={groupsOptions}\n          value={selectedGroups}\n          onChange={this.handleGroupsOnChange}\n          placeholder={groupsMultipleSelectPlaceholder}\n        />\n\n        <AddGroupButton\n          text={formatMessage(messages.add)}\n          buttonStyle=\"cl-blue\"\n          icon=\"plus-circle\"\n          onClick={this.handleOnAddGroupClick}\n          disabled={!selectedGroups || selectedGroups.length === 0}\n        />\n      </SelectGroupsContainer>\n    ) : null;\n\n    const groupsList =\n      !loading && projectGroups && projectGroups.length > 0 ? (\n        <List key={projectGroups.length}>\n          {projectGroups.map((projectGroup, index) => (\n            <Row\n              key={projectGroup.group_project_id}\n              isLastItem={index === projectGroups.length - 1}\n            >\n              <GroupAvatar groupId={projectGroup.group_id} />\n              <GroupTitle className=\"expand\">{projectGroup.title}</GroupTitle>\n              <GroupMembershipCount className=\"expand\">\n                <FormattedMessage\n                  {...messages.members}\n                  values={{ count: projectGroup.membership_count }}\n                />\n              </GroupMembershipCount>\n              <Button\n                onClick={this.createDeleteGroupHandler(\n                  projectGroup.group_project_id\n                )}\n                buttonStyle=\"text\"\n                icon=\"delete\"\n              >\n                <FormattedMessage {...messages.deleteButtonLabel} />\n              </Button>\n            </Row>\n          ))}\n        </List>\n      ) : null;\n\n    return (\n      <Container>\n        {selectGroups}\n        {groupsList}\n      </Container>\n    );\n  }\n}\n\nexport default injectIntl<Props>(ProjectGroupsList);\n","import {\n  Locale,\n  Multiloc,\n  GraphqlLocale,\n  IParticipationContextType,\n  CLErrorsJSON,\n} from 'typings';\nimport { trim, isUndefined } from 'lodash-es';\nimport { removeUrlLocale } from 'services/locale';\n\nexport function capitalizeParticipationContextType(\n  type: IParticipationContextType\n) {\n  if (type === 'project') {\n    return 'Project';\n  } else {\n    return 'Phase';\n  }\n}\n\nexport function isNilOrError(obj: any): obj is undefined | null | Error {\n  return isNil(obj) || isError(obj);\n}\n\nexport function isNil(obj: any): obj is undefined | null {\n  return obj === undefined || obj === null;\n}\n\nexport function isError(obj: any): obj is Error {\n  return obj instanceof Error;\n}\n\nexport function isApiError(obj: any): obj is CLErrorsJSON {\n  return (obj as CLErrorsJSON)?.json !== undefined;\n}\n\nexport function isUndefinedOrError(obj: any): obj is undefined | Error {\n  return obj === undefined || obj instanceof Error;\n}\n\nexport function isEmptyMultiloc(multiloc: Multiloc) {\n  let validTranslation = false;\n\n  for (const lang in multiloc) {\n    if (Object.prototype.hasOwnProperty.call(multiloc, lang)) {\n      if (multiloc[lang].length > 0) {\n        validTranslation = true;\n      }\n    }\n  }\n\n  return !validTranslation;\n}\nexport function isFullMultiloc(multiloc: Multiloc) {\n  for (const lang in multiloc) {\n    if (Object.prototype.hasOwnProperty.call(multiloc, lang)) {\n      if (multiloc[lang].length === 0) {\n        return false;\n      }\n    }\n  }\n\n  return true;\n}\n\nexport function isNonEmptyString(str: string) {\n  return isString(str) && trim(str) !== '';\n}\n\nexport function returnFileSize(number) {\n  if (number < 1024) {\n    return `${number} bytes`;\n  } else if (number >= 1024 && number < 1048576) {\n    return `${(number / 1024).toFixed(1)} KB`;\n  } else if (number >= 1048576) {\n    return `${(number / 1048576).toFixed(1)} MB`;\n  }\n  return;\n}\n\nexport function sum(a, b) {\n  return a + b;\n}\n\nexport function getDisplayName(Component) {\n  return Component.displayName || Component.name || 'Component';\n}\n\ntype pageKeys =\n  | 'admin'\n  | 'idea_form'\n  | 'initiative_form'\n  | 'idea_edit'\n  | 'initiative_edit'\n  | 'sign_in'\n  | 'sign_up'\n  | 'email-settings';\n\nexport function isPage(pageKey: pageKeys, pathName: string) {\n  /**\n   * Checks whether current page is the desired page\n   *\n   * @param pageKey - key to indicate the desired page\n   * @param pathName - pathname to check (usually current path aka location.pathname)\n   *\n   * @returns Boolean. True if current page matches the pageKey's url, false otherwise.\n   */\n\n  const pathnameWithoutLocale = removeUrlLocale(pathName);\n\n  switch (pageKey) {\n    case 'email-settings':\n      return pathnameWithoutLocale.startsWith('/email-settings');\n    case 'admin':\n      return pathnameWithoutLocale.startsWith('/admin/');\n    case 'initiative_form':\n      // Needs to use endsWith\n      // Otherwise an initiative with the name 'new playground for our children' would also pass\n      return pathnameWithoutLocale.endsWith('/initiatives/new');\n    case 'idea_form':\n      return pathnameWithoutLocale.endsWith('/ideas/new');\n    case 'idea_edit':\n      return pathnameWithoutLocale.startsWith('/ideas/edit/');\n    case 'initiative_edit':\n      return pathnameWithoutLocale.startsWith('/initiatives/edit/');\n    case 'sign_in':\n      return pathnameWithoutLocale.startsWith('/sign-in');\n    case 'sign_up':\n      return pathnameWithoutLocale.startsWith('/sign-up');\n  }\n}\n\nexport function stopPropagation(event) {\n  event.stopPropagation();\n}\n\nexport function stripHtmlTags(str: string | null | undefined) {\n  if (str === null || str === undefined || str === '') {\n    return '';\n  } else {\n    return str.replace(\n      /<\\/?(p|div|span|ul|ol|li|br|em|img|strong|a)[^>]{0,}\\/?>/g,\n      ''\n    );\n  }\n}\n\n// e.g. 'en-GB' -> 'enGb'\nexport function convertToGraphqlLocale(locale: Locale) {\n  const newLocale = locale.replace('-', '');\n  const length = newLocale.length - 1;\n  return (newLocale.substring(0, length) +\n    newLocale.substr(length).toLowerCase()) as GraphqlLocale;\n}\n\nexport const uuidRegExp =\n  '[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}';\n\nexport function isUUID(value: string) {\n  const uuidRegExp = /^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}/i;\n  return uuidRegExp.test(value);\n}\n\nexport function toggleElementInArray(array, value) {\n  const index = array.indexOf(value);\n\n  if (index === -1) {\n    array.push(value);\n  } else {\n    array.splice(index, 1);\n  }\n}\n\nexport function endsWith(\n  pathname: string | undefined | null,\n  endsWith: string | string[]\n) {\n  if (pathname) {\n    const pathnameWithoutTrailingSlash = pathname.replace(/\\/$/, '');\n    const endsWithArray = isString(endsWith) ? [endsWith] : endsWith;\n    return endsWithArray.some((text) =>\n      pathnameWithoutTrailingSlash.endsWith(text)\n    );\n  }\n\n  return false;\n}\n\nexport function getUrlSegments(pathname: string | null) {\n  if (pathname) {\n    return pathname?.replace(/^\\/+/g, '').split('/');\n  }\n\n  return [];\n}\n\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function isFunction(f): f is Function {\n  return f instanceof Function;\n}\n\nexport function isString(s): s is string {\n  return typeof s === 'string';\n}\n\nexport function isObject(s): s is Record<string, unknown> {\n  return typeof s === 'object';\n}\n\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function isOrReturnsString(s: any, ...args: any[]): s is Function {\n  return isString(s) || (isFunction(s) && isString(s(...args)));\n}\n\nexport function matchPathToUrl(tabUrl: string) {\n  return new RegExp(`^/([a-zA-Z]{2,3}(-[a-zA-Z]{2,3})?)(${tabUrl})(/)?$`);\n}\n\nexport const anyIsUndefined = (...args) => args.some(isUndefined);\nexport const anyIsDefined = (...args) => args.some((arg) => !isUndefined(arg));\n","import React, { ReactNode } from 'react';\nimport { ModuleConfiguration } from 'utils/moduleUtils';\nimport RenderOnNotificationType from 'modules/utilComponents/RenderOnNotificationType';\nimport FeatureFlag from 'components/FeatureFlag';\nimport Setting from './admin/containers/Setting';\nimport RemoveFlagButton from './admin/components/RemoveFlagButton';\nimport ActivityWarningsTab from './admin/components/ActivityWarningsTab';\nimport InappropriateContentWarning from './admin/components/InappropriateContentWarning';\nimport EmptyMessageModerationsWithFlag from './admin/components/EmptyMessageModerationsWithFlag';\nimport NLPFlagNotification from './citizen/components/NLPFlagNotification';\nimport { INLPFlagNotificationData } from 'services/notifications';\n\ntype RenderOnSelectedTabValueProps = {\n  isTabSelected: boolean;\n  children: ReactNode;\n};\n\nconst RenderOnSelectedTabValue = ({\n  isTabSelected,\n  children,\n}: RenderOnSelectedTabValueProps) => {\n  if (!isTabSelected) return null;\n  return <>{children}</>;\n};\n\nconst configuration: ModuleConfiguration = {\n  outlets: {\n    'app.containers.Admin.settings.general.form': (props) => (\n      <FeatureFlag onlyCheckAllowed name=\"flag_inappropriate_content\">\n        <Setting {...props} />\n      </FeatureFlag>\n    ),\n    'app.modules.commercial.moderation.admin.containers.actionbar.buttons': ({\n      isWarningsTabSelected,\n      ...otherProps\n    }) => {\n      return (\n        <RenderOnSelectedTabValue isTabSelected={isWarningsTabSelected}>\n          <RemoveFlagButton {...otherProps} />\n        </RenderOnSelectedTabValue>\n      );\n    },\n    'app.modules.commercial.moderation.admin.components.EmptyMessage': ({\n      isWarningsTabSelected,\n    }) => {\n      return (\n        <RenderOnSelectedTabValue isTabSelected={isWarningsTabSelected}>\n          <EmptyMessageModerationsWithFlag />\n        </RenderOnSelectedTabValue>\n      );\n    },\n    'app.modules.commercial.moderation.admin.containers.ModerationRow.content': ({\n      inappropriateContentFlagId,\n    }) => {\n      if (inappropriateContentFlagId) {\n        return (\n          <InappropriateContentWarning\n            inappropriateContentFlagId={inappropriateContentFlagId}\n          />\n        );\n      }\n\n      return null;\n    },\n    'app.modules.commercial.moderation.admin.containers.tabs': (props) => {\n      return (\n        <FeatureFlag name=\"flag_inappropriate_content\">\n          <ActivityWarningsTab {...props} />\n        </FeatureFlag>\n      );\n    },\n    'app.components.NotificationMenu.Notification': ({ notification }) => (\n      <FeatureFlag name=\"flag_inappropriate_content\">\n        <RenderOnNotificationType\n          notification={notification}\n          notificationType=\"inappropriate_content_flagged\"\n        >\n          <NLPFlagNotification\n            notification={notification as INLPFlagNotificationData}\n          />\n        </RenderOnNotificationType>\n      </FeatureFlag>\n    ),\n  },\n};\n\nexport default configuration;\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  genericErrorWithForm: {\n    id: 'app.components.ErrorBoundary.genericErrorWithForm',\n    defaultMessage:\n      'An error occured and we cannot display this content. Please try again, or {openForm}!',\n  },\n  openFormText: {\n    id: 'app.components.ErrorBoundary.openFormText',\n    defaultMessage: 'help us figure it out',\n  },\n  errorFormTitle: {\n    id: 'app.components.ErrorBoundary.errorFormTitle',\n    defaultMessage: 'It looks like were having issues.',\n  },\n  errorFormSubtitle: {\n    id: 'app.components.ErrorBoundary.errorFormSubtitle',\n    defaultMessage: 'Our team has been notified.',\n  },\n  errorFormSubtitle2: {\n    id: 'app.components.ErrorBoundary.errorFormSubtitle2',\n    defaultMessage: 'If youd like to help, tell us what happened below.',\n  },\n  errorFormLabelName: {\n    id: 'app.components.ErrorBoundary.errorFormLabelName',\n    defaultMessage: 'Name',\n  },\n  errorFormLabelEmail: {\n    id: 'app.components.ErrorBoundary.errorFormLabelEmail',\n    defaultMessage: 'Email',\n  },\n  errorFormLabelComments: {\n    id: 'app.components.ErrorBoundary.errorFormLabelComments',\n    defaultMessage: 'What happened?',\n  },\n  errorFormLabelClose: {\n    id: 'app.components.ErrorBoundary.errorFormLabelClose',\n    defaultMessage: 'Close',\n  },\n  errorFormLabelSubmit: {\n    id: 'app.components.ErrorBoundary.errorFormLabelSubmit',\n    defaultMessage: 'Submit',\n  },\n  errorFormErrorGeneric: {\n    id: 'app.components.ErrorBoundary.errorFormErrorGeneric',\n    defaultMessage:\n      'An unknown error occurred while submitting your report. Please try again.',\n  },\n  errorFormErrorFormEntry: {\n    id: 'app.components.ErrorBoundary.errorFormErrorFormEntry',\n    defaultMessage:\n      'Some fields were invalid. Please correct the errors and try again.',\n  },\n  errorFormSuccessMessage: {\n    id: 'app.components.ErrorBoundary.errorFormSuccessMessage',\n    defaultMessage: 'Your feedback has been sent. Thank you!',\n  },\n});\n","import { Button, ButtonProps } from 'cl2-component-library';\nimport styled from 'styled-components';\nimport React, { ReactNode } from 'react';\nimport useLocale from 'hooks/useLocale';\nimport { isNilOrError } from 'utils/helperUtils';\n\nconst MethodButton = styled(Button)`\n  margin-bottom: 15px;\n\n  &.last {\n    margin-bottom: 0px;\n  }\n`;\n\ninterface Props extends Partial<ButtonProps> {\n  children: ReactNode;\n}\n\nconst VerificationMethodButton = (props: Props) => {\n  const locale = useLocale();\n  if (isNilOrError(locale)) return null;\n\n  return (\n    <MethodButton\n      icon=\"shieldVerified\"\n      iconSize=\"22px\"\n      buttonStyle=\"white\"\n      fullWidth={true}\n      justify=\"left\"\n      whiteSpace=\"wrap\"\n      locale={locale}\n      {...props}\n    >\n      {props.children}\n    </MethodButton>\n  );\n};\n\nexport default VerificationMethodButton;\n","import React from 'react';\nimport { Subject, Observable, concat, combineLatest } from 'rxjs';\nimport {\n  buffer,\n  filter,\n  pairwise,\n  mergeAll,\n  take,\n  distinctUntilChanged,\n  map,\n} from 'rxjs/operators';\nimport { isEqual, mapValues } from 'lodash-es';\nimport eventEmitter from 'utils/eventEmitter';\n\nimport {\n  IAppConfigurationData,\n  currentAppConfigurationStream,\n} from 'services/appConfiguration';\n\nimport {\n  getDestinationConfig,\n  IDestination,\n  isDestinationActive,\n} from 'components/ConsentManager/destinations';\nimport { ISavedDestinations } from 'components/ConsentManager/consent';\nimport { authUserStream } from 'services/auth';\n\nexport interface IEvent {\n  name: string;\n  properties?: {\n    [key: string]: any;\n  };\n}\n\nexport interface IPageChange {\n  path: string;\n  properties?: {\n    [key: string]: any;\n  };\n}\n\nexport const events$ = new Subject<IEvent>();\nexport const pageChanges$ = new Subject<IPageChange>();\n\nconst destinationConsentChanged$ = eventEmitter\n  .observeEvent<ISavedDestinations[]>('destinationConsentChanged')\n  .pipe(distinctUntilChanged(isEqual));\n\n/** Returns stream that emits when the given destination should initialize. Only\n * emits if the given destination is active and the user gave consent. Can emit\n * more then once.\n */\nexport const initializeFor = (destination: IDestination) => {\n  return combineLatest([\n    destinationConsentChanged$,\n    currentAppConfigurationStream().observable,\n    authUserStream().observable,\n  ]).pipe(\n    filter(([consent, tenant, user]) => {\n      const config = getDestinationConfig(destination);\n      return (\n        consent.eventValue[destination] &&\n        (!config || isDestinationActive(config, tenant.data, user?.data))\n      );\n    })\n  );\n};\n\n/** Returns buffered version of the given stream, that only starts emiting\n * buffered values one by one when the given destination is initialized */\nexport const bufferUntilInitialized = <T>(\n  destination: IDestination,\n  o$: Observable<T>\n): Observable<T> => {\n  return concat(\n    o$.pipe(buffer(initializeFor(destination).pipe(take(1))), mergeAll()),\n    o$\n  );\n};\n\n/** Returns stream that emits when the given destination should shut itself down.\n */\nexport const shutdownFor = (destination: IDestination) => {\n  return combineLatest([\n    destinationConsentChanged$,\n    currentAppConfigurationStream().observable,\n    authUserStream().observable,\n  ]).pipe(\n    map(([consent, tenant, user]) => {\n      const config = getDestinationConfig(destination);\n      return (\n        consent.eventValue[destination] &&\n        (!config || isDestinationActive(config, tenant.data, user?.data))\n      );\n    }),\n    pairwise(),\n    filter(([previousActive, currentActive]) => {\n      return previousActive && !currentActive;\n    })\n  );\n};\n\nexport function tenantInfo(tenant: IAppConfigurationData) {\n  return {\n    tenantId: tenant && tenant.id,\n    tenantName: tenant && tenant.attributes.name,\n    tenantHost: tenant && tenant.attributes.host,\n    tenantOrganizationType:\n      tenant && tenant.attributes.settings.core.organization_type,\n    tenantLifecycleStage:\n      tenant && tenant.attributes.settings.core.lifecycle_stage,\n  };\n}\n\nexport function trackPage(path: string, properties = {}) {\n  pageChanges$.next({\n    properties,\n    path,\n  });\n}\n\n// Use this function, trackEvent/injectTracks will get factored out in the future\nexport function trackEventByName(eventName: string, properties = {}) {\n  events$.next({\n    properties,\n    name: eventName,\n  });\n}\n\n/** @deprecated Use `trackEventByName` instead */\nexport function trackEvent(event: IEvent) {\n  events$.next({\n    properties: event.properties || {},\n    name: event.name,\n  });\n}\n\n/** @deprecated Directly call trackEventByName instead */\nexport const injectTracks = <P>(events: { [key: string]: IEvent }) => (\n  component: React.ComponentClass<P>\n) => {\n  return (props: P) => {\n    const eventFunctions = mapValues(events, (event) => (extra) => {\n      const extraProps = extra && extra.extra;\n      trackEventByName(event.name, { ...event.properties, ...extraProps });\n    });\n\n    const propsWithEvents = {\n      ...eventFunctions,\n      ...(props as any),\n    };\n\n    const wrappedComponent = React.createElement(component, propsWithEvents);\n\n    return wrappedComponent;\n  };\n};\n","import React from 'react';\nimport styled from 'styled-components';\n\n// components\nimport { IconTooltip } from 'cl2-component-library';\nimport { SubSectionTitle } from 'components/admin/Section';\nimport { StyledSectionField } from './styling';\nimport ImagesDropzone from 'components/UI/ImagesDropzone';\n\n// i18n\nimport { InjectedIntlProps } from 'react-intl';\nimport { injectIntl, FormattedMessage } from 'utils/cl-intl';\nimport messages from '../messages';\n\n// typings\nimport { UploadFile } from 'typings';\n\n// Would have loved to put this in styling.ts, but\n// that results in some arcane typescript error\n// (see https://stackoverflow.com/q/43900035)\nconst StyledImagesDropzone = styled(ImagesDropzone)`\n  margin-top: 2px;\n`;\n\ninterface Props {\n  projectHeaderImage: UploadFile[] | null;\n  handleHeaderOnAdd: (newHeader: UploadFile[]) => void;\n  handleHeaderOnRemove: () => void;\n}\n\nexport default injectIntl(\n  ({\n    projectHeaderImage,\n    handleHeaderOnAdd,\n    handleHeaderOnRemove,\n    intl: { formatMessage },\n  }: Props & InjectedIntlProps) => (\n    <StyledSectionField>\n      <SubSectionTitle>\n        <FormattedMessage {...messages.headerImageLabelText} />\n        <IconTooltip\n          content={\n            <FormattedMessage\n              {...messages.headerImageLabelTooltip}\n              values={{\n                imageSupportArticleLink: (\n                  <a\n                    target=\"_blank\"\n                    href={formatMessage(messages.imageSupportArticleLinkTarget)}\n                    rel=\"noreferrer\"\n                  >\n                    <FormattedMessage\n                      {...messages.imageSupportArticleLinkText}\n                    />\n                  </a>\n                ),\n              }}\n            />\n          }\n        />\n      </SubSectionTitle>\n      <StyledImagesDropzone\n        images={projectHeaderImage}\n        imagePreviewRatio={240 / 952}\n        acceptedFileTypes=\"image/jpg, image/jpeg, image/png, image/gif\"\n        maxImagePreviewWidth=\"500px\"\n        onAdd={handleHeaderOnAdd}\n        onRemove={handleHeaderOnRemove}\n      />\n    </StyledSectionField>\n  )\n);\n","// Libraries\nimport React from 'react';\nimport { Subscription, combineLatest, of } from 'rxjs';\nimport { switchMap } from 'rxjs/operators';\nimport { take } from 'lodash-es';\nimport { isNilOrError } from 'utils/helperUtils';\n\n// Services\nimport { getGroupMemberships } from 'services/groupMemberships';\nimport { userByIdStream, IUser } from 'services/users';\n\n// Components\nimport Avatar from 'components/Avatar';\n\n// Style\nimport styled, { css } from 'styled-components';\n\nconst AvatarWrapper = styled.div`\n  padding: 2px;\n  background: #fff;\n  border-radius: 50%;\n  display: flex;\n`;\n\nconst GroupAvatarWrapper: any = styled.div`\n  width: 65px;\n  height: 3em;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n\n  ${(props: any) =>\n    props.count > 1\n      ? css`\n          ${AvatarWrapper} {\n            position: absolute;\n\n            &:nth-child(1) {\n              left: 0px;\n            }\n\n            &:nth-child(2) {\n              z-index: 1;\n              left: 15px;\n            }\n\n            &:nth-child(3) {\n              z-index: 2;\n              left: 30px;\n            }\n          }\n        `\n      : css``};\n`;\n\n// Typings\ninterface Props {\n  groupId: string;\n}\n\ninterface State {\n  users: IUser[] | null;\n}\n\nexport default class GroupAvatar extends React.PureComponent<Props, State> {\n  subscriptions: Subscription[];\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      users: null,\n    };\n    this.subscriptions = [];\n  }\n\n  componentDidMount() {\n    const { groupId } = this.props;\n    const streamParams = {\n      queryParameters: {\n        page: {\n          size: 3,\n          number: 1,\n        },\n      },\n    };\n\n    const memberships$ = getGroupMemberships(groupId, streamParams).observable;\n\n    this.subscriptions = [\n      memberships$\n        .pipe(\n          switchMap((memberships) => {\n            if (!isNilOrError(memberships) && memberships.data.length > 0) {\n              return combineLatest(\n                take(memberships.data, 3).map(\n                  (membership) =>\n                    userByIdStream(membership.relationships.user.data.id)\n                      .observable\n                )\n              );\n            }\n\n            return of(null);\n          })\n        )\n        .subscribe((users) => {\n          this.setState({ users });\n        }),\n    ];\n  }\n\n  componentWillUnmount() {\n    this.subscriptions.forEach((subscription) => subscription.unsubscribe());\n  }\n\n  render() {\n    const { users } = this.state;\n\n    if (!isNilOrError(users) && users.length > 0) {\n      const className = this.props['className'];\n      const count = users.length;\n\n      return (\n        <GroupAvatarWrapper className={className} count={count}>\n          {users.map((user) => (\n            <AvatarWrapper key={user.data.id}>\n              <Avatar userId={user.data.id} size={30} />\n            </AvatarWrapper>\n          ))}\n        </GroupAvatarWrapper>\n      );\n    }\n\n    return <GroupAvatarWrapper />;\n  }\n}\n","import { PureComponent } from 'react';\nimport { get } from 'lodash-es';\nimport { Subscription } from 'rxjs';\n\n// services\nimport {\n  currentAppConfigurationStream,\n  IAppConfiguration,\n  TAppConfigurationSetting,\n} from 'services/appConfiguration';\n\ntype children = (renderProps: GetFeatureFlagChildProps) => JSX.Element | null;\n\ninterface Props {\n  name?: TAppConfigurationSetting;\n  children?: children;\n}\n\ninterface State {\n  appConfigurationSettings:\n    | IAppConfiguration['data']['attributes']['settings']\n    | null;\n}\n\nexport type GetFeatureFlagChildProps = boolean;\n\nexport default class GetFeatureFlag extends PureComponent<Props, State> {\n  subscription: Subscription | null;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      appConfigurationSettings: null,\n    };\n    this.subscription = null;\n  }\n\n  componentDidMount() {\n    const currentTenant$ = currentAppConfigurationStream().observable;\n\n    this.subscription = currentTenant$.subscribe((currentTenant) => {\n      this.setState({\n        appConfigurationSettings: currentTenant.data.attributes.settings,\n      });\n    });\n  }\n\n  componentWillUnmount() {\n    this.subscription?.unsubscribe();\n    this.subscription = null;\n  }\n\n  render() {\n    const { appConfigurationSettings } = this.state;\n    const { name, children } = this.props;\n    const showFeature =\n      !name ||\n      (get(appConfigurationSettings, `${name}.allowed`) === true &&\n        get(appConfigurationSettings, `${name}.enabled`) === true);\n    return (children as children)(showFeature);\n  }\n}\n","import React, { FC, memo, useEffect, useMemo, useRef, useState } from 'react';\nimport { indexOf } from 'lodash-es';\nimport { API_PATH } from 'containers/App/constants';\nimport request from 'utils/request';\n\n// components\nimport AuthProviders, { AuthProvider } from 'components/SignUpIn/AuthProviders';\nimport PasswordSignup from 'components/SignUpIn/SignUp/PasswordSignup';\nimport Success from 'components/SignUpIn/SignUp/Success';\nimport Error from 'components/UI/Error';\nimport QuillEditedContent from 'components/UI/QuillEditedContent';\nimport {\n  StyledHeaderContainer,\n  StyledHeaderTitle,\n  StyledModalContentContainer,\n} from 'components/SignUpIn/styles';\nimport Outlet from 'components/Outlet';\nimport ReactResizeDetector from 'react-resize-detector/build/withPolyfill';\n\n// hooks\nimport useAppConfiguration from 'hooks/useAppConfiguration';\nimport useAuthUser, { TAuthUser } from 'hooks/useAuthUser';\n\n// utils\nimport { isNilOrError, isUndefinedOrError } from 'utils/helperUtils';\nimport { handleOnSSOClick } from 'services/singleSignOn';\n\n// events\nimport { signUpActiveStepChange } from 'components/SignUpIn/events';\n\n// i18n\nimport { injectIntl, FormattedMessage } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\nimport T from 'components/T';\nimport messages from './messages';\n\n// analytics\nimport { trackEventByName } from 'utils/analytics';\nimport tracks from 'components/SignUpIn/tracks';\n\n// style\nimport styled, { withTheme } from 'styled-components';\nimport { HeaderSubtitle } from 'components/UI/Modal';\n\n// typings\nimport { ISignUpInMetaData } from 'components/SignUpIn';\nimport { Multiloc } from 'typings';\nimport { IUserData } from 'services/users';\nimport { IAppConfigurationData } from 'services/appConfiguration';\n\nconst Container = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst SignUpHelperText = styled(QuillEditedContent)`\n  padding-bottom: 25px;\n`;\n\nexport interface TSignUpStepsMap {\n  'auth-providers': 'auth-providers';\n  'password-signup': 'password-signup';\n  success: 'success';\n}\n\nexport type TSignUpSteps = TSignUpStepsMap[keyof TSignUpStepsMap];\n\nexport type TSignUpStepConfigurationObject = {\n  position: number;\n  stepName?: string;\n  helperText?: (\n    tenant: IAppConfigurationData | undefined\n  ) => Multiloc | null | undefined;\n  onCompleted?: () => void;\n  onSkipped?: () => void;\n  onError?: () => void;\n  onSelected?: (data: unknown) => void;\n  isEnabled: (metaData: ISignUpInMetaData) => boolean;\n  isActive: (authUser: IUserData | undefined) => boolean;\n};\n\nexport type TSignUpStepConfiguration = {\n  [key in TSignUpSteps]?: TSignUpStepConfigurationObject;\n};\n\nexport interface InputProps {\n  metaData: ISignUpInMetaData;\n  windowHeight: number;\n  customHeader?: JSX.Element;\n  onSignUpCompleted: () => void;\n  onGoToSignIn: () => void;\n  className?: string;\n}\n\ninterface Props extends InputProps {\n  theme: any;\n}\n\nconst SignUp: FC<Props & InjectedIntlProps> = memo(\n  ({\n    intl: { formatMessage },\n    metaData,\n    onSignUpCompleted,\n    onGoToSignIn,\n    className,\n    theme,\n    windowHeight,\n  }) => {\n    const authUser = useAuthUser();\n    const tenant = useAppConfiguration();\n\n    const modalContentRef = useRef<HTMLDivElement>(null);\n\n    // activeStepRef and authUserRef are used in getNextStep\n    // because activeStep and authUser are out-of-sync there\n    const activeStepRef = useRef<TSignUpSteps | null>(null);\n    const authUserRef = useRef<TAuthUser>(authUser);\n\n    const [configuration, setConfiguration] = useState<\n      TSignUpStepConfiguration\n    >({\n      'auth-providers': {\n        position: 1,\n        stepName: formatMessage(messages.createYourAccount),\n        helperText: (tenant) =>\n          tenant?.attributes?.settings?.core?.signup_helper_text,\n        onSelected: (selectedAuthProvider: AuthProvider) => {\n          if (selectedAuthProvider === 'email') {\n            goToNextStep();\n          } else {\n            handleOnSSOClick(selectedAuthProvider, metaData);\n          }\n        },\n        isEnabled: (metaData) => !metaData?.isInvitation,\n        isActive: (authUser) => !authUser,\n      },\n      'password-signup': {\n        position: 2,\n        stepName: formatMessage(messages.createYourAccount),\n        helperText: (tenant) =>\n          tenant?.attributes?.settings?.core?.signup_helper_text,\n        isEnabled: () => true,\n        isActive: (authUser) => !authUser,\n      },\n      success: {\n        position: 5,\n        isEnabled: (metaData) => !!metaData?.inModal,\n        isActive: (authUser) =>\n          !!authUser?.attributes?.registration_completed_at,\n      },\n    });\n\n    const enabledSteps = useMemo<TSignUpSteps[]>(\n      () =>\n        Object.entries(configuration)\n          .reduce(\n            (\n              acc,\n              [key, configuration]: [\n                TSignUpSteps,\n                TSignUpStepConfigurationObject\n              ]\n            ) => {\n              if (!configuration.isEnabled(metaData)) return acc;\n              return [...acc, { id: key, position: configuration.position }];\n            },\n            []\n          )\n          .sort((a, b) => a.position - b.position)\n          .map(({ id }) => id),\n      [configuration, metaData]\n    );\n\n    const [error, setError] = useState<string>();\n    const [activeStep, setActiveStep] = useState<TSignUpSteps | null>(null);\n    const [headerHeight, setHeaderHeight] = useState<string>('100px');\n\n    const activeStepConfiguration = useMemo<\n      TSignUpStepConfigurationObject | undefined\n    >(() => configuration?.[activeStep || ''], [activeStep, configuration]);\n\n    const getNextStep = () => {\n      const authUserValue = !isNilOrError(authUserRef.current)\n        ? authUserRef.current\n        : undefined;\n      const startFromIndex = indexOf(enabledSteps, activeStepRef.current) + 1;\n      const stepsToCheck = enabledSteps.slice(startFromIndex);\n      const step = stepsToCheck.find((step) =>\n        configuration?.[step]?.isActive?.(authUserValue)\n      );\n      return step;\n    };\n\n    const goToNextStep = () => {\n      if (modalContentRef?.current) {\n        modalContentRef.current.scrollTop = 0;\n      }\n\n      const nextStep = getNextStep();\n\n      if (!nextStep) {\n        handleFlowCompleted();\n        return;\n      }\n\n      setActiveStep(nextStep);\n    };\n\n    const onResize = (_width, height) => {\n      setHeaderHeight(`${Math.round(height) + 2}px`);\n    };\n\n    const handleStepCompleted = () => {\n      configuration?.[activeStep || '']?.onCompleted?.();\n      goToNextStep();\n    };\n\n    const handleStepSkipped = () => {\n      configuration?.[activeStep || '']?.onSkipped?.();\n      goToNextStep();\n    };\n\n    const handleStepError = () => {\n      configuration?.[activeStep || '']?.onError?.();\n      setError(formatMessage(messages.somethingWentWrongText));\n    };\n\n    const handleSelectedInStep = (data: unknown) => {\n      configuration?.[activeStep || '']?.onSelected?.(data);\n    };\n\n    const handleFlowCompleted = () => {\n      trackEventByName(tracks.signUpFlowCompleted);\n      onSignUpCompleted();\n    };\n\n    const handleOnOutletData = ({ key, configuration }) => {\n      setConfiguration((oldConfiguration) => ({\n        ...oldConfiguration,\n        [key]: configuration,\n      }));\n    };\n\n    const handleGoBack = () => {\n      setActiveStep('auth-providers');\n    };\n\n    // update authUserRef whenever authUser changes\n    useEffect(() => {\n      authUserRef.current = authUser;\n    }, [authUser]);\n\n    // update activeStepRef whenever activeStep changes\n    useEffect(() => {\n      activeStepRef.current = activeStep;\n    }, [activeStep]);\n\n    // this is needed to deal with the scenario in which\n    // a user gets sent to an external page (e.g. for sso or verification),\n    // and afterwards back to the platform to complete their registration.\n    // if the activeStep has not been set yet, but the authUser is either null or an object\n    // we request the next step in the registration process and set it if there's a step remaining\n    if (activeStep === null && !isUndefinedOrError(authUserRef.current)) {\n      const nextStep = getNextStep();\n\n      if (nextStep) {\n        setActiveStep(nextStep);\n      }\n    }\n\n    useEffect(() => {\n      trackEventByName(tracks.signUpFlowEntered);\n\n      if (metaData?.token) {\n        request(\n          `${API_PATH}/users/by_invite/${metaData.token}`,\n          null,\n          { method: 'GET' },\n          null\n        ).catch(() => {\n          setError(formatMessage(messages.invitationError));\n        });\n      }\n      return () => {\n        trackEventByName(tracks.signUpFlowExited);\n        signUpActiveStepChange(undefined);\n      };\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    useEffect(() => signUpActiveStepChange(activeStep), [activeStep]);\n\n    useEffect(() => {\n      if (metaData?.error) {\n        setError(formatMessage(messages.somethingWentWrongText));\n      }\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [metaData?.error]);\n\n    const helpText = activeStepConfiguration?.helperText?.(\n      !isNilOrError(tenant) ? tenant.data : undefined\n    );\n\n    const stepName = activeStepConfiguration?.stepName ?? '';\n\n    const [activeStepNumber, totalStepsCount] = useMemo(() => {\n      // base the steps on the stepName (grouping)\n      const uniqueSteps = [\n        ...new Set(\n          enabledSteps\n            .map((step: TSignUpSteps) => configuration?.[step]?.stepName)\n            .filter((v) => v !== undefined)\n        ),\n      ];\n      return [\n        indexOf(uniqueSteps, activeStepConfiguration?.stepName) > -1\n          ? indexOf(uniqueSteps, activeStepConfiguration?.stepName) + 1\n          : 1,\n        uniqueSteps.length,\n      ];\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [configuration, enabledSteps, activeStep, activeStepConfiguration]);\n\n    return (\n      <Container id=\"e2e-sign-up-container\" className={className ?? ''}>\n        {activeStep !== 'success' && (\n          <div>\n            <ReactResizeDetector handleWidth handleHeight onResize={onResize}>\n              <div>\n                <StyledHeaderContainer inModal={!!metaData.inModal}>\n                  <StyledHeaderTitle inModal={!!metaData.inModal}>\n                    <FormattedMessage {...messages.signUp2} />\n                  </StyledHeaderTitle>\n\n                  {!error && stepName && (\n                    <HeaderSubtitle>\n                      {totalStepsCount > 1 ? (\n                        <FormattedMessage\n                          {...messages.headerSubtitle}\n                          values={{\n                            activeStepNumber,\n                            stepName,\n                            totalStepsCount,\n                          }}\n                        />\n                      ) : (\n                        stepName\n                      )}\n                    </HeaderSubtitle>\n                  )}\n                </StyledHeaderContainer>\n              </div>\n            </ReactResizeDetector>\n          </div>\n        )}\n\n        <StyledModalContentContainer\n          inModal={!!metaData.inModal}\n          windowHeight={`${windowHeight}px`}\n          headerHeight={headerHeight}\n          ref={modalContentRef}\n        >\n          {error ? (\n            <Error text={error} animate={false} marginBottom=\"30px\" />\n          ) : (\n            <>\n              {helpText && (\n                <SignUpHelperText\n                  textColor={theme.colorText}\n                  fontSize=\"base\"\n                  fontWeight={300}\n                >\n                  <T value={helpText} supportHtml />\n                </SignUpHelperText>\n              )}\n\n              {activeStep === 'auth-providers' && (\n                <AuthProviders\n                  metaData={metaData}\n                  onAuthProviderSelected={handleSelectedInStep}\n                  goToOtherFlow={onGoToSignIn}\n                />\n              )}\n\n              {activeStep === 'password-signup' && (\n                <PasswordSignup\n                  metaData={metaData}\n                  hasNextStep={activeStepNumber < totalStepsCount}\n                  onCompleted={handleStepCompleted}\n                  onGoToSignIn={onGoToSignIn}\n                  onGoBack={handleGoBack}\n                />\n              )}\n\n              <Outlet\n                id=\"app.components.SignUpIn.SignUp.step\"\n                step={activeStep}\n                metaData={metaData}\n                onData={handleOnOutletData}\n                onSkipped={handleStepSkipped}\n                onError={handleStepError}\n                onCompleted={handleStepCompleted}\n              />\n\n              {activeStep === 'success' && (\n                <Success onClose={handleFlowCompleted} />\n              )}\n            </>\n          )}\n        </StyledModalContentContainer>\n      </Container>\n    );\n  }\n);\n\nconst SignUpWithHoC = injectIntl(withTheme(SignUp));\n\nexport default SignUpWithHoC;\n","import React from 'react';\nimport { IconTooltip } from 'cl2-component-library';\n\n// i18n\nimport { injectIntl } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\nimport messages from './messages';\n\ninterface Props {\n  className?: string;\n}\n\nconst PasswordInputIconTooltip = ({\n  intl: { formatMessage },\n  className,\n}: Props & InjectedIntlProps) => {\n  return (\n    <IconTooltip\n      className={className}\n      content={\n        <>\n          <p>{formatMessage(messages.passwordStrengthTooltip1)}</p>\n          <ul>\n            <li>{formatMessage(messages.passwordStrengthTooltip2)}</li>\n            <li>{formatMessage(messages.passwordStrengthTooltip3)}</li>\n            <li>{formatMessage(messages.passwordStrengthTooltip4)}</li>\n          </ul>\n        </>\n      }\n    />\n  );\n};\n\nexport default injectIntl(PasswordInputIconTooltip);\n","import React from 'react';\nimport {\n  SectionWrapper,\n  SectionHeader,\n  SectionTitle,\n  SectionContent,\n  renderArticle,\n} from './';\nimport AdminGuideArticle from './AdminGuideArticle';\nimport { Icon } from 'cl2-component-library';\nimport { colors } from 'utils/styleUtils';\n\n// analytics\nimport { trackEventByName } from 'utils/analytics';\nimport tracks from './tracks';\n\n// i18n\nimport { FormattedMessage, injectIntl } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\nimport messages from './messages';\n\ntype DecideArticle = 'ideas' | 'dashboard';\nconst articles: DecideArticle[] = ['ideas', 'dashboard'];\ntype DecideMessages = {\n  [key in DecideArticle]: ReactIntl.FormattedMessage.MessageDescriptor;\n};\n\nconst DecideSection = ({ intl: { formatMessage } }: InjectedIntlProps) => {\n  const handleClickExternalTrack = () => {\n    trackEventByName(tracks.externalLink.name, {\n      extra: { section: 'decide' },\n    });\n  };\n  const getHandleClickInteralTrack = (article) => () => {\n    trackEventByName(tracks.internalLink.name, {\n      extra: { article, section: 'decide' },\n    });\n  };\n\n  return (\n    <SectionWrapper>\n      <SectionHeader>\n        <SectionTitle color={colors.clRed}>\n          <Icon name={'decide'} />\n          <FormattedMessage tagName=\"h2\" {...messages.decideSectionTitle} />\n        </SectionTitle>\n        <a\n          href={formatMessage(messages.setupSectionLink)}\n          target=\"_blank\"\n          onClick={handleClickExternalTrack}\n          rel=\"noreferrer\"\n        >\n          <FormattedMessage {...messages.readCompleteGuide} />\n        </a>\n      </SectionHeader>\n      <SectionContent>\n        {articles.map((article, i) => {\n          const linkMessages: DecideMessages = {\n            ideas: messages.decideArticle1Link,\n            dashboard: messages.decideArticle2Link,\n          };\n          const titleMessages: DecideMessages = {\n            ideas: messages.manageInputs,\n            dashboard: messages.decideArticle2Title,\n          };\n          const descriptionMessages: DecideMessages = {\n            ideas: messages.decideArticle1Description2,\n            dashboard: messages.decideArticle2Description,\n          };\n          const linkMessage = linkMessages[article];\n          const titleMessage = titleMessages[article];\n          const descriptionMessage = descriptionMessages[article];\n          const adminGuideArticle = (\n            <AdminGuideArticle\n              key={`decideArticle${i}`}\n              trackLink={getHandleClickInteralTrack(article)}\n              linkMessage={linkMessage}\n              titleMessage={titleMessage}\n              descriptionMessage={descriptionMessage}\n            />\n          );\n\n          return renderArticle(article, i, adminGuideArticle);\n        })}\n      </SectionContent>\n    </SectionWrapper>\n  );\n};\n\nexport default injectIntl(DecideSection);\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  a11y_passwordVisible: {\n    id: 'app.components.PasswordInput.a11y_passwordVisible',\n    defaultMessage: 'Password visible',\n  },\n  a11y_passwordHidden: {\n    id: 'app.components.PasswordInput.a11y_passwordHidden',\n    defaultMessage: 'Password hidden',\n  },\n  hidePassword: {\n    id: 'app.components.PasswordInput.hidePassword',\n    defaultMessage: 'Hide password',\n  },\n  showPassword: {\n    id: 'app.components.PasswordInput.showPassword',\n    defaultMessage: 'Show password',\n  },\n  strength1Password: {\n    id: 'app.components.PasswordInput.strength1Password',\n    defaultMessage: 'Poor',\n  },\n  strength2Password: {\n    id: 'app.components.PasswordInput.strength2Password',\n    defaultMessage: 'Weak',\n  },\n  strength3Password: {\n    id: 'app.components.PasswordInput.strength3Password',\n    defaultMessage: 'Medium',\n  },\n  strength4Password: {\n    id: 'app.components.PasswordInput.strength4Password',\n    defaultMessage: 'Strong',\n  },\n  strength5Password: {\n    id: 'app.components.PasswordInput.strength5Password',\n    defaultMessage: 'Very strong',\n  },\n  a11y_strength1Password: {\n    id: 'app.components.PasswordInput.a11y_strength1Password',\n    defaultMessage: 'Poor password strength',\n  },\n  a11y_strength2Password: {\n    id: 'app.components.PasswordInput.a11y_strength2Password',\n    defaultMessage: 'Weak password strength',\n  },\n  a11y_strength3Password: {\n    id: 'app.components.PasswordInput.a11y_strength3Password',\n    defaultMessage: 'Medium password strength',\n  },\n  a11y_strength4Password: {\n    id: 'app.components.PasswordInput.a11y_strength4Password',\n    defaultMessage: 'Strong password strength',\n  },\n  a11y_strength5Password: {\n    id: 'app.components.PasswordInput.a11y_strength5Password',\n    defaultMessage: 'Very strong password strength',\n  },\n  initialPasswordStrengthCheckerMessage: {\n    id: 'app.components.PasswordInput.initialPasswordStrengthCheckerMessage',\n    defaultMessage: 'Too short (min. {minimumPasswordLength} characters)',\n  },\n  minimumPasswordLengthErrorMessage: {\n    id: 'app.components.PasswordInput.minimumPasswordLengthErrorMessage',\n    defaultMessage:\n      'Your password needs to be at least {minimumPasswordLength} characters long.',\n  },\n  emptyPasswordError: {\n    id: 'app.components.PasswordInput.emptyPasswordError',\n    defaultMessage: 'The password field cannot be empty',\n  },\n  passwordStrengthTooltip1: {\n    id: 'app.components.PasswordInput.passwordStrengthTooltip1',\n    defaultMessage: 'To make your password stronger:',\n  },\n  passwordStrengthTooltip2: {\n    id: 'app.components.PasswordInput.passwordStrengthTooltip2',\n    defaultMessage:\n      'Use a combination of non-consecutive lowercase letters, uppercase letters, digits, special characters and punctuation',\n  },\n  passwordStrengthTooltip3: {\n    id: 'app.components.PasswordInput.passwordStrengthTooltip3',\n    defaultMessage: 'Avoid common or easily guessed words',\n  },\n  passwordStrengthTooltip4: {\n    id: 'app.components.PasswordInput.passwordStrengthTooltip4',\n    defaultMessage: 'Increase the length',\n  },\n});\n","import { API_PATH } from 'containers/App/constants';\nimport streams from 'utils/streams';\nimport { Multiloc } from 'typings';\nimport { IMapLayerAttributes } from './mapLayers';\n\nexport interface IMapConfigAttributes {\n  zoom_level?: string;\n  tile_provider?: string;\n  center_geojson?: GeoJSON.Point;\n}\n\nexport interface IMapConfigRelationships {\n  layers: IMapLayerAttributes[];\n  legend: {\n    title_multiloc: Multiloc;\n    color: string;\n  }[];\n}\n\nexport interface IMapConfigData {\n  id: string;\n  type: string;\n  attributes: IMapConfigAttributes & IMapConfigRelationships;\n}\n\nexport interface IMapConfig {\n  data: IMapConfigData;\n}\n\nexport const mapConfigByProjectStream = (projectId: string) => {\n  return streams.get<IMapConfig>({\n    apiEndpoint: `${API_PATH}/projects/${projectId}/map_config`,\n  });\n};\n\nexport async function createProjectMapConfig(\n  projectId: string,\n  mapConfig: IMapConfigAttributes\n) {\n  return await streams.add<IMapConfig>(\n    `${API_PATH}/projects/${projectId}/map_config`,\n    { map_config: mapConfig }\n  );\n}\n\nexport async function updateProjectMapConfig(\n  projectId: string,\n  mapConfigId: string,\n  mapConfig: IMapConfigAttributes\n) {\n  return await streams.update<IMapConfig>(\n    `${API_PATH}/projects/${projectId}/map_config`,\n    mapConfigId,\n    { map_config: mapConfig }\n  );\n}\n\nexport async function deleteProjectMapConfig(\n  projectId: string,\n  mapConfigId: string\n) {\n  return await streams.delete(\n    `${API_PATH}/projects/${projectId}/map_config`,\n    mapConfigId\n  );\n}\n","import React, { ReactNode } from 'react';\nimport styled from 'styled-components';\nimport { ModuleConfiguration } from 'utils/moduleUtils';\nimport useFeatureFlag from 'hooks/useFeatureFlag';\n\nimport AssigneeFilter from './admin/components/AssigneeFilter';\nimport IdeaHeaderCell from './admin/components/IdeaHeaderCell';\nimport IdeaRowCell from './admin/components/IdeaRowCell';\nimport Tab from './admin/components/Tab';\nimport InputAssignment from './admin/containers/';\n\nimport FeatureFlag from 'components/FeatureFlag';\n\nconst StyledAssigneeFilter = styled(AssigneeFilter)`\n  margin-right: 20px;\n`;\n\ntype RenderOnTabHideConditionProps = {\n  children: ReactNode;\n};\n\nconst RenderOnTabHideCondition = ({\n  children,\n}: RenderOnTabHideConditionProps) => {\n  // Could be more than just a feature flag check,\n  // hence we're not using the FeatureFlag component\n  const isEnabled = useFeatureFlag('idea_assignment');\n  if (isEnabled) {\n    return <>{children}</>;\n  }\n  return null;\n};\n\nconst configuration: ModuleConfiguration = {\n  outlets: {\n    'app.components.admin.PostManager.topActionBar': (props) => (\n      <StyledAssigneeFilter {...props} />\n    ),\n    'app.components.admin.PostManager.components.PostTable.IdeaRow.cells': IdeaRowCell,\n    'app.components.admin.PostManager.components.PostTable.IdeaHeaderRow.cells': IdeaHeaderCell,\n    'app.containers.Admin.project.edit.permissions.moderatorRights': (\n      props\n    ) => (\n      <FeatureFlag name=\"idea_assignment\">\n        <InputAssignment {...props} />\n      </FeatureFlag>\n    ),\n    'app.containers.Admin.projects.edit': (props) => {\n      return (\n        <RenderOnTabHideCondition>\n          <Tab {...props} />\n        </RenderOnTabHideCondition>\n      );\n    },\n  },\n};\n\nexport default configuration;\n","import { combineLatest } from 'rxjs';\nimport { authUserStream } from 'services/auth';\nimport { currentAppConfigurationStream } from 'services/appConfiguration';\nimport {\n  bufferUntilInitialized,\n  events$,\n  initializeFor,\n  pageChanges$,\n  shutdownFor,\n  tenantInfo,\n} from 'utils/analytics';\nimport { isNilOrError } from 'utils/helperUtils';\nimport {\n  IDestinationConfig,\n  registerDestination,\n} from 'components/ConsentManager/destinations';\nimport { ModuleConfiguration } from 'utils/moduleUtils';\nimport createRoutes from 'routes';\nimport matchPath, { getAllPathsFromRoutes } from './matchPath';\nimport { getUrlLocale } from 'services/locale';\n\nexport const MATOMO_HOST =\n  process.env.MATOMO_HOST || '//matomo.hq.citizenlab.co';\n\ndeclare module 'components/ConsentManager/destinations' {\n  export interface IDestinationMap {\n    matomo: 'matomo';\n  }\n}\n\nconst destinationConfig: IDestinationConfig = {\n  key: 'matomo',\n  category: 'analytics',\n  feature_flag: 'matomo',\n  name: () => 'Matomo',\n};\n\nconst configuration: ModuleConfiguration = {\n  beforeMountApplication: () => {\n    const allAppPaths = getAllPathsFromRoutes(createRoutes()[0]);\n\n    function tackMatomoPageview(path) {\n      const locale = getUrlLocale(path);\n      locale && window._paq.push(['setCustomDimension', 3, locale]);\n      window._paq.push(['setCustomUrl', path]);\n\n      // sorts out path and params for this pathname\n      const routeMatch = matchPath(path, {\n        path: allAppPaths,\n        exact: true,\n      });\n\n      if (routeMatch?.isExact) {\n        window._paq.push(['trackPageView', routeMatch.path]);\n      } else {\n        window._paq.push(['trackPageView']);\n      }\n    }\n\n    combineLatest([\n      currentAppConfigurationStream().observable,\n      authUserStream().observable,\n      initializeFor('matomo'),\n    ]).subscribe(([appConfiguration, user, _]) => {\n      if (!MATOMO_HOST) return;\n\n      if (\n        !appConfiguration.data.attributes.settings.matomo?.product_site_id &&\n        appConfiguration.data.attributes.settings.matomo?.tenant_site_id\n      ) {\n        return;\n      }\n      /* tracker methods like \"setCustomDimension\" should be called before \"trackPageView\" */\n      window._paq = window._paq || [];\n\n      window._paq.push(['enableLinkTracking']);\n      window._paq.push(['enableHeartBeatTimer']);\n      window._paq.push([\n        'setDomains',\n        `${appConfiguration.data.attributes.host}/*`,\n      ]);\n      window._paq.push([\n        'setCookieDomain',\n        `${appConfiguration.data.attributes.host}/*`,\n      ]);\n\n      if (!isNilOrError(user)) {\n        window._paq.push(['setUserId', user.data.id]);\n      } else {\n        window._paq.push(['resetUserId']);\n      }\n\n      (function () {\n        // Send all of the tracking data to the global site used for product analytics\n        if (appConfiguration.data.attributes.settings.matomo?.product_site_id) {\n          window._paq.push(['setTrackerUrl', `${MATOMO_HOST}/matomo.php`]);\n          window._paq.push([\n            'setSiteId',\n            appConfiguration.data.attributes.settings.matomo?.product_site_id,\n          ]);\n        }\n        // Send tracking data to the tenant-specific site\n        if (appConfiguration.data.attributes.settings.matomo?.tenant_site_id) {\n          window._paq.push([\n            'addTracker',\n            `${MATOMO_HOST}/matomo.php`,\n            appConfiguration.data.attributes.settings.matomo?.tenant_site_id,\n          ]);\n        }\n\n        const d = document;\n        const g = d.createElement('script');\n        const s = d.getElementsByTagName('script')[0];\n        g.type = 'text/javascript';\n        g.async = true;\n        g.src = `${MATOMO_HOST}/matomo.js`;\n        g.id = 'internal_matomo_analytics';\n        s?.parentNode?.insertBefore(g, s);\n      })();\n\n      if (!isNilOrError(appConfiguration)) {\n        window._paq.push([\n          'setCustomDimension',\n          1,\n          appConfiguration.data.attributes.name,\n        ]);\n        window._paq.push(['setCustomDimension', 2, appConfiguration.data.id]);\n      }\n\n      tackMatomoPageview(window.location.pathname);\n    });\n\n    shutdownFor('matomo').subscribe(() => {\n      window._paq = undefined;\n    });\n\n    combineLatest([\n      bufferUntilInitialized('matomo', events$),\n      currentAppConfigurationStream().observable,\n    ]).subscribe(([event, tenant]) => {\n      if (!isNilOrError(tenant) && window._paq) {\n        const properties = {\n          ...tenantInfo(tenant.data),\n          ...event.properties,\n        };\n        window._paq.push([\n          'trackEvent',\n          event.name,\n          ...(Object.values(properties || {}) || []).filter(\n            (item) => typeof item === 'string'\n          ),\n        ]);\n      }\n    });\n\n    combineLatest([\n      bufferUntilInitialized('matomo', pageChanges$),\n      currentAppConfigurationStream().observable,\n    ]).subscribe(([pageChange, _]) => {\n      if (window._paq) {\n        tackMatomoPageview(pageChange.path);\n      }\n    });\n\n    registerDestination(destinationConfig);\n  },\n};\n\nexport default configuration;\n","import styled from 'styled-components';\nimport { remCalc, colors, fontSizes, isRtl } from 'utils/styleUtils';\nimport Link from 'utils/cl-router/Link';\n\nexport const Section = styled.div`\n  margin-bottom: 0;\n`;\n\nexport const SectionField = styled.div`\n  margin-bottom: 35px;\n  transition: all 200ms ease-in-out;\n  width: 100%;\n  max-width: 540px;\n  display: flex;\n  flex-direction: column;\n\n  &.fullWidth {\n    max-width: 100%;\n  }\n\n  .editor {\n    width: 120%;\n  }\n\n  ${isRtl`\n    align-items: flex-end;\n  `}\n`;\n\nexport const PageTitle = styled.h1`\n  font-size: ${fontSizes.xxxl}px;\n  line-height: 40px;\n  font-weight: 600;\n  padding: 0;\n  margin: 0;\n  margin-bottom: 15px;\n`;\n\nexport const SectionTitle = styled.h2`\n  font-size: ${fontSizes.xxl}px;\n  font-weight: 500;\n  line-height: ${remCalc(32)};\n  margin-bottom: ${remCalc(45)};\n`;\n\nexport const SubSectionTitle = styled.h3`\n  color: ${colors.adminTextColor};\n  font-size: ${fontSizes.large}px;\n  font-weight: 500;\n  line-height: ${remCalc(30)};\n  display: flex;\n  align-items: center;\n\n  & > :not(last-child) {\n    margin-right: 7px;\n  }\n`;\n\nexport const SubSectionTitleWithDescription = styled(SubSectionTitle)`\n  margin-bottom: 5px;\n`;\n\nexport const SectionDescription = styled.p`\n  color: ${colors.adminSecondaryTextColor};\n  font-size: ${fontSizes.base}px;\n  margin-bottom: ${remCalc(45)};\n  font-weight: 400;\n  max-width: 60em;\n\n  ${SectionTitle} + & {\n    margin-top: -2rem;\n  }\n`;\n\nexport const StyledLink = styled(Link)`\n  text-decoration: underline;\n`;\n","// styles\nimport styled from 'styled-components';\nimport { fontSizes } from 'utils/styleUtils';\n\n// components\nimport Button from 'components/UI/Button';\nimport T from 'components/T';\n\nexport const RowContent = styled.div`\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n`;\n\nexport const RowContentInner = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  margin-right: 20px;\n`;\n\nexport const RowTitle = styled(T)`\n  font-size: ${fontSizes.base}px;\n  font-weight: 400;\n  line-height: 24px;\n  margin-right: 10px;\n`;\n\nexport const ActionsRowContainer = styled.div`\n  display: flex;\n`;\n\nexport const RowButton = styled(Button)`\n  margin-left: 7px;\n`;\n","import React from 'react';\nimport { isString } from 'lodash-es';\nimport { Subscription, BehaviorSubject, of } from 'rxjs';\nimport { distinctUntilChanged, switchMap, tap } from 'rxjs/operators';\nimport { isNilOrError } from 'utils/helperUtils';\nimport shallowCompare from 'utils/shallowCompare';\nimport {\n  projectByIdStream,\n  projectBySlugStream,\n  IProjectData,\n} from 'services/projects';\n\ninterface InputProps {\n  projectId?: string | null;\n  projectSlug?: string | null;\n  resetOnChange?: boolean;\n}\n\nexport type GetProjectChildProps = IProjectData | undefined | null | Error;\n\ntype children = (renderProps: GetProjectChildProps) => JSX.Element | null;\n\ninterface Props extends InputProps {\n  children?: children;\n}\n\ninterface State {\n  project: GetProjectChildProps;\n}\n\nexport default class GetProject extends React.Component<Props, State> {\n  private inputProps$: BehaviorSubject<InputProps>;\n  private subscriptions: Subscription[];\n\n  static defaultProps = {\n    resetOnChange: true,\n  };\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      project: undefined,\n    };\n  }\n\n  componentDidMount() {\n    const { projectId, projectSlug, resetOnChange } = this.props;\n\n    this.inputProps$ = new BehaviorSubject({ projectId, projectSlug });\n\n    this.subscriptions = [\n      this.inputProps$\n        .pipe(\n          distinctUntilChanged((prev, next) => shallowCompare(prev, next)),\n          tap(() => resetOnChange && this.setState({ project: undefined })),\n          switchMap(({ projectId, projectSlug }) => {\n            if (isString(projectId)) {\n              return projectByIdStream(projectId).observable;\n            } else if (isString(projectSlug)) {\n              return projectBySlugStream(projectSlug).observable;\n            }\n\n            return of(null);\n          })\n        )\n        .subscribe((project) => {\n          this.setState({\n            project: !isNilOrError(project) ? project.data : project,\n          });\n        }),\n    ];\n  }\n\n  componentDidUpdate() {\n    const { projectId, projectSlug } = this.props;\n    this.inputProps$.next({ projectId, projectSlug });\n  }\n\n  componentWillUnmount() {\n    this.subscriptions.forEach((subscription) => subscription.unsubscribe());\n  }\n\n  render() {\n    const { children } = this.props;\n    const { project } = this.state;\n    return (children as children)(project);\n  }\n}\n","import React from 'react';\nimport { Subscription, BehaviorSubject, of } from 'rxjs';\nimport { distinctUntilChanged, switchMap, tap } from 'rxjs/operators';\nimport shallowCompare from 'utils/shallowCompare';\nimport { IPhaseData, phasesStream } from 'services/phases';\nimport { isNilOrError } from 'utils/helperUtils';\n\ninterface InputProps {\n  projectId?: string | null | undefined;\n  resetOnChange?: boolean;\n}\n\ntype children = (renderProps: GetPhasesChildProps) => JSX.Element | null;\n\ninterface Props extends InputProps {\n  children?: children;\n}\n\ninterface State {\n  phases: IPhaseData[] | undefined | null;\n}\n\nexport type GetPhasesChildProps = IPhaseData[] | undefined | null;\n\nexport default class GetPhases extends React.Component<Props, State> {\n  private inputProps$: BehaviorSubject<InputProps>;\n  private subscriptions: Subscription[];\n\n  static defaultProps = {\n    resetOnChange: true,\n  };\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      phases: undefined,\n    };\n  }\n\n  componentDidMount() {\n    const { projectId, resetOnChange } = this.props;\n\n    this.inputProps$ = new BehaviorSubject({ projectId });\n\n    this.subscriptions = [\n      this.inputProps$\n        .pipe(\n          distinctUntilChanged((prev, next) => shallowCompare(prev, next)),\n          tap(() => resetOnChange && this.setState({ phases: undefined })),\n          switchMap(({ projectId }) => {\n            if (projectId) {\n              return phasesStream(projectId).observable;\n            }\n\n            return of(null);\n          })\n        )\n        .subscribe((phases) => {\n          this.setState({\n            phases: !isNilOrError(phases) ? phases.data : phases,\n          });\n        }),\n    ];\n  }\n\n  componentDidUpdate() {\n    const { projectId } = this.props;\n    this.inputProps$.next({ projectId });\n  }\n\n  componentWillUnmount() {\n    this.subscriptions.forEach((subscription) => subscription.unsubscribe());\n  }\n\n  render() {\n    const { children } = this.props;\n    const { phases } = this.state;\n    return (children as children)(phases);\n  }\n}\n","import { API_PATH } from 'containers/App/constants';\nimport streams, { IStreamParams } from 'utils/streams';\nimport { IRelationship, Multiloc } from 'typings';\nimport { pastPresentOrFuture } from 'utils/dateUtils';\nimport {\n  ParticipationMethod,\n  SurveyServices,\n  IdeaDefaultSortMethod,\n  InputTerm,\n} from './participationContexts';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { first, last, sortBy } from 'lodash-es';\n\nconst apiEndpoint = `${API_PATH}/phases`;\n\nexport interface IPhaseData {\n  id: string;\n  type: string;\n  attributes: {\n    title_multiloc: Multiloc;\n    description_multiloc: Multiloc;\n    input_term: InputTerm;\n    start_at: string;\n    end_at: string;\n    created_at: string;\n    updated_at: string;\n    participation_method: ParticipationMethod;\n    posting_enabled: boolean;\n    commenting_enabled: boolean;\n    voting_enabled: boolean;\n    voting_method: 'limited' | 'unlimited';\n    voting_limited_max: number;\n    downvoting_enabled: boolean;\n    presentation_mode: 'card' | 'map';\n    min_budget?: number;\n    max_budget?: number;\n    survey_service?: SurveyServices;\n    survey_embed_url?: string;\n    poll_anonymous?: boolean;\n    ideas_count: number;\n    ideas_order?: IdeaDefaultSortMethod;\n  };\n  relationships: {\n    permissions: {\n      data: IRelationship[];\n    };\n    project: {\n      data: IRelationship;\n    };\n    user_basket?: {\n      data: IRelationship | null;\n    };\n  };\n}\n\nexport interface IPhase {\n  data: IPhaseData;\n}\n\nexport interface IPhases {\n  data: IPhaseData[];\n}\n\nexport interface IUpdatedPhaseProperties {\n  project_id?: string;\n  title_multiloc?: Multiloc;\n  description_multiloc?: Multiloc;\n  input_term?: InputTerm;\n  start_at?: string;\n  end_at?: string;\n  participation_method?: ParticipationMethod;\n  posting_enabled?: boolean | null;\n  commenting_enabled?: boolean | null;\n  voting_enabled?: boolean | null;\n  voting_method?: 'limited' | 'unlimited' | null;\n  voting_limited_max?: number | null;\n  downvoting_enabled?: boolean | null;\n  presentation_mode?: 'card' | 'map' | null;\n  min_budget?: number | null;\n  max_budget?: number | null;\n  survey_service?: SurveyServices | null;\n  survey_embed_url?: string | null;\n  poll_anonymous?: boolean;\n  ideas_order?: IdeaDefaultSortMethod;\n}\n\nexport function phasesStream(\n  projectId: string,\n  streamParams: IStreamParams | null = null\n) {\n  return streams.get<IPhases>({\n    apiEndpoint: `${API_PATH}/projects/${projectId}/phases`,\n    ...streamParams,\n  });\n}\n\nexport function phaseStream(\n  phaseID: string,\n  streamParams: IStreamParams | null = null\n) {\n  return streams.get<IPhase>({\n    apiEndpoint: `${apiEndpoint}/${phaseID}`,\n    ...streamParams,\n  });\n}\n\nexport async function updatePhase(\n  phaseId: string,\n  object: IUpdatedPhaseProperties\n) {\n  const response = await streams.update<IPhase>(\n    `${apiEndpoint}/${phaseId}`,\n    phaseId,\n    { phase: object }\n  );\n  const projectId = response.data.relationships.project.data.id;\n\n  streams.fetchAllWith({\n    dataId: [phaseId, projectId],\n    partialApiEndpoint: [`${API_PATH}/baskets`],\n  });\n\n  return response;\n}\n\nexport async function addPhase(\n  projectId: string,\n  object: IUpdatedPhaseProperties\n) {\n  const response = await streams.add<IPhase>(\n    `${API_PATH}/projects/${projectId}/phases`,\n    { phase: object }\n  );\n  const phaseId = response.data.id;\n  streams.fetchAllWith({ dataId: [phaseId, projectId] });\n  return response;\n}\n\nexport async function deletePhase(projectId: string, phaseId: string) {\n  const response = await streams.delete(`${apiEndpoint}/${phaseId}`, phaseId);\n  streams.fetchAllWith({ dataId: [projectId] });\n  return response;\n}\n\nexport function canContainIdeas(phase: IPhaseData) {\n  const pm = phase.attributes.participation_method;\n  return pm === 'ideation' || pm === 'budgeting';\n}\n\nexport function getCurrentPhase(\n  phases: IPhaseData[] | null | undefined | Error\n) {\n  if (!isNilOrError(phases)) {\n    const currentPhase = phases.find(\n      (phase) =>\n        pastPresentOrFuture([\n          phase.attributes.start_at,\n          phase.attributes.end_at,\n        ]) === 'present'\n    );\n\n    return currentPhase || null;\n  }\n\n  return null;\n}\n\nexport function getFirstPhase(phases: IPhaseData[] | null | undefined | Error) {\n  if (!isNilOrError(phases)) {\n    const firstPhase = first(\n      sortBy(phases, [(phase) => phase.attributes.start_at])\n    );\n\n    return firstPhase || null;\n  }\n\n  return null;\n}\n\nexport function getLastPhase(phases: IPhaseData[] | null | undefined | Error) {\n  if (!isNilOrError(phases)) {\n    const lastPhase = last(\n      sortBy(phases, [(phase) => phase.attributes.end_at])\n    );\n\n    return lastPhase || null;\n  }\n\n  return null;\n}\n\nexport function getLastPastPhase(\n  phases: IPhaseData[] | null | undefined | Error\n) {\n  if (!isNilOrError(phases) && phases.length > 0) {\n    const pastPhases = phases.filter(\n      (phase) =>\n        pastPresentOrFuture([\n          phase.attributes.start_at,\n          phase.attributes.end_at,\n        ]) === 'past'\n    );\n\n    const lastPastActivePhase = last(\n      sortBy(pastPhases, [(phase) => phase.attributes.end_at])\n    );\n\n    return lastPastActivePhase || null;\n  }\n\n  return null;\n}\n\nexport function getLatestRelevantPhase(phases: IPhaseData[]) {\n  const currentPhase = getCurrentPhase(phases);\n  const firstPhase = getFirstPhase(phases);\n  const lastPhase = getLastPhase(phases);\n  const lastPastPhase = getLastPastPhase(phases);\n\n  if (currentPhase) {\n    return currentPhase;\n  } else if (\n    firstPhase &&\n    pastPresentOrFuture([\n      firstPhase.attributes.start_at,\n      firstPhase.attributes.end_at,\n    ]) === 'future'\n  ) {\n    return firstPhase;\n  } else if (\n    lastPastPhase &&\n    lastPhase &&\n    pastPresentOrFuture([\n      lastPhase.attributes.start_at,\n      lastPhase.attributes.end_at,\n    ]) === 'future'\n  ) {\n    return lastPastPhase;\n  } else {\n    return lastPhase;\n  }\n}\n\nexport function getPhaseInputTerm(phases: IPhaseData[]) {\n  // In practice, this fallback will never be needed.\n  // This function will only get called when phases.length > 0,\n  // so getLatestRelevantPhase will never return null, but the\n  // functions that are used internally by getLatestRelevantPhase\n  // can in theory return null. Hence the fallback || 'idea' for typing purposes.\n  return getLatestRelevantPhase(phases)?.attributes.input_term || 'idea';\n}\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  step2: {\n    id: 'app.containers.AdminPage.SettingsPage.step2',\n    defaultMessage: 'Step 2 (registration questions)',\n  },\n  step2Tooltip: {\n    id: 'app.containers.AdminPage.SettingsPage.step2Tooltip',\n    defaultMessage:\n      'This is shown on the top of the second page of the sign-up form (additional registration fields).',\n  },\n});\n","import React from 'react';\nimport { every, isEmpty, isFunction } from 'lodash-es';\nimport styled from 'styled-components';\n\n// components\nimport { Table } from 'semantic-ui-react';\nimport Row from './Row';\nimport Pagination from 'components/admin/Pagination';\nimport NoPost from './NoPost';\nimport IdeaHeaderRow from './IdeaHeaderRow';\nimport InitiativesHeaderRow from './InitiativesHeaderRow';\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';\n\n// services\nimport { IIdeaData } from 'services/ideas';\nimport { IInitiativeData } from 'services/initiatives';\nimport { IPhaseData } from 'services/phases';\nimport { IIdeaStatusData } from 'services/ideaStatuses';\nimport { IInitiativeStatusData } from 'services/initiativeStatuses';\n\n// resources\nimport {\n  Sort as IdeasSort,\n  SortAttribute as IdeasSortAttribute,\n} from 'resources/GetIdeas';\nimport {\n  Sort as InitiativesSort,\n  SortAttribute as InitiativesSortAttribute,\n} from 'resources/GetInitiatives';\n\n// utils\nimport { SortDirection } from 'utils/paginationUtils';\n\n// i18n\nimport { ManagerType, TFilterMenu } from '../..';\n\nconst Container = styled.div`\n  .ui.table {\n    margin-bottom: 0;\n  }\n\n  tr {\n    overflow: hidden;\n\n    transition: all 500ms ease;\n    &.fade-enter,\n    &.fade-enter + tr {\n      opacity: 0;\n      height: 0;\n\n      &.fade-enter-active,\n      &.fade-enter-active + tr {\n        opacity: 1;\n        height: auto;\n      }\n    }\n\n    &.fade-enter-done,\n    &.fade-enter-done + tr {\n      opacity: 1;\n    }\n\n    &.fade-exit,\n    &.fade-exit + tr {\n      opacity: 1;\n\n      &.fade-exit-active,\n      &.fade-exit-active + tr {\n        opacity: 0;\n        height: 0;\n      }\n    }\n\n    &.fade-exit-done,\n    &.fade-exit-done + tr {\n      display: none;\n    }\n  }\n`;\n\nexport const TableHeaderCellText = styled.span`\n  font-weight: 600;\n`;\n\ninterface Props {\n  type: ManagerType;\n  sortAttribute?: IdeasSortAttribute | InitiativesSortAttribute;\n  sortDirection?: SortDirection;\n  posts?: IIdeaData[] | IInitiativeData[];\n  phases?: IPhaseData[];\n  statuses?: IIdeaStatusData[] | IInitiativeStatusData[];\n  onChangeSort?: (sort: IdeasSort | InitiativesSort) => void;\n  /** A set of ids of ideas/initiatives that are currently selected */\n  selection: Set<string>;\n  onChangeSelection: (newSelection: Set<string>) => void;\n  currentPageNumber?: number;\n  lastPageNumber?: number;\n  onChangePage?: (number: number) => void;\n  activeFilterMenu: TFilterMenu;\n  handleSeeAll: () => void;\n  openPreview: (ideaId: string) => void;\n}\n\nexport default class PostTable extends React.Component<Props> {\n  handleSortClick = (\n    newSortAttribute: IdeasSortAttribute | InitiativesSortAttribute\n  ) => () => {\n    const {\n      sortAttribute: oldSortAttribute,\n      sortDirection: oldSortDirection,\n      onChangeSort,\n    } = this.props;\n    if (isFunction(onChangeSort)) {\n      let newSortSign = '-';\n      if (newSortAttribute === oldSortAttribute) {\n        newSortSign = oldSortDirection === 'ascending' ? '-' : '';\n      }\n      onChangeSort(\n        `${newSortSign}${newSortAttribute}` as IdeasSort | InitiativesSort\n      );\n    }\n  };\n\n  select = (postId: string) => () => {\n    const { selection, onChangeSelection } = this.props;\n    const newSelection = new Set(selection);\n    newSelection.add(postId);\n    onChangeSelection(newSelection);\n  };\n\n  unselect = (postId: string) => () => {\n    const { selection, onChangeSelection } = this.props;\n    const newSelection = new Set(selection);\n    const success = newSelection.delete(postId);\n    success && onChangeSelection(newSelection);\n    return success;\n  };\n\n  toggleSelect = (postId: string) => () => {\n    this.unselect(postId)() || this.select(postId)();\n  };\n\n  toggleSelectAll = () => {\n    const { posts, onChangeSelection } = this.props;\n    if (this.allSelected()) {\n      onChangeSelection(new Set());\n    } else {\n      // TODO fix typings here, with the conditional type here, ts complains\n      posts &&\n        onChangeSelection(\n          new Set((posts as IIdeaData[]).map((post) => post.id))\n        );\n    }\n  };\n\n  singleSelect = (postId: string) => () => {\n    this.props.onChangeSelection(new Set([postId]));\n  };\n\n  handlePaginationClick = (page) => {\n    this.props.onChangePage && this.props.onChangePage(page);\n  };\n\n  allSelected = () => {\n    const { posts, selection } = this.props;\n    return (\n      !isEmpty(posts) &&\n      every(posts, (post: IIdeaData | IInitiativeData) =>\n        selection.has(post.id)\n      )\n    );\n  };\n\n  render() {\n    const {\n      type,\n      sortAttribute,\n      sortDirection,\n      posts,\n      selection,\n      phases,\n      activeFilterMenu,\n      statuses,\n      handleSeeAll,\n      openPreview,\n    } = this.props;\n\n    return (\n      <Container>\n        <Table sortable size=\"small\">\n          {type === 'Initiatives' ? (\n            <InitiativesHeaderRow\n              sortAttribute={sortAttribute}\n              sortDirection={sortDirection}\n              allSelected={this.allSelected()}\n              toggleSelectAll={this.toggleSelectAll}\n              handleSortClick={this.handleSortClick}\n            />\n          ) : type === 'AllIdeas' || type === 'ProjectIdeas' ? (\n            <IdeaHeaderRow\n              sortAttribute={sortAttribute}\n              sortDirection={sortDirection}\n              allSelected={this.allSelected()}\n              toggleSelectAll={this.toggleSelectAll}\n              handleSortClick={this.handleSortClick}\n            />\n          ) : null}\n          <Table.Body>\n            {!isEmpty(posts) ? (\n              <TransitionGroup component={null}>\n                {\n                  // Cleanest workaround typescript I found\n                  (posts as (IIdeaData | IInitiativeData)[]).map((post) => (\n                    <CSSTransition\n                      classNames=\"fade\"\n                      timeout={500}\n                      key={post.id}\n                    >\n                      <Row\n                        key={post.id}\n                        type={type}\n                        post={post}\n                        phases={phases}\n                        statuses={statuses}\n                        onUnselect={this.unselect(post.id)}\n                        onToggleSelect={this.toggleSelect(post.id)}\n                        onSingleSelect={this.singleSelect(post.id)}\n                        selection={selection}\n                        activeFilterMenu={activeFilterMenu}\n                        openPreview={openPreview}\n                      />\n                    </CSSTransition>\n                  ))\n                }\n              </TransitionGroup>\n            ) : null}\n          </Table.Body>\n          {!isEmpty(posts) && (\n            <Table.Footer fullWidth={true}>\n              <Table.Row>\n                <Table.HeaderCell colSpan=\"7\">\n                  <Pagination\n                    currentPage={this.props.currentPageNumber || 1}\n                    totalPages={this.props.lastPageNumber || 1}\n                    loadPage={this.handlePaginationClick}\n                  />\n                </Table.HeaderCell>\n              </Table.Row>\n            </Table.Footer>\n          )}\n        </Table>\n        {isEmpty(posts) && (\n          <TransitionGroup component={null}>\n            <CSSTransition classNames=\"fade\" timeout={500}>\n              <NoPost handleSeeAll={handleSeeAll} type={type} />\n            </CSSTransition>\n          </TransitionGroup>\n        )}\n      </Container>\n    );\n  }\n}\n","export function truncate(str: string, length?: number) {\n  if (length && str.length > length) {\n    return `${str.substring(0, length - 3)}...`;\n  }\n  return str;\n}\n\nexport function stripHtml(html: string, maxLength?: number) {\n  const tmp = document.createElement('DIV');\n  tmp.innerHTML = html;\n  const result = tmp.textContent || tmp.innerText || '';\n\n  return truncate(result, maxLength);\n}\n","import defaultMarker from './default-marker.svg';\nimport defaultHoverMarker from './default-marker-hover.svg';\nimport defaultActiveMarker from './default-marker-active.svg';\nimport { LatLngTuple } from 'leaflet';\n\nexport const DEFAULT_CENTER = [0, 0] as LatLngTuple;\n\nexport const DEFAULT_ZOOM = 16;\n\nexport const DEFAULT_MARKER_ICON_SIZE = [29, 41];\n\nexport const DEFAULT_MARKER_ANCHOR_SIZE = [14, 41];\n\nexport const DEFAULT_MARKER_ICON = defaultMarker;\n\nexport const DEFAULT_MARKER_HOVER_ICON = defaultHoverMarker;\n\nexport const DEFAULT_MARKER_ACTIVE_ICON = defaultActiveMarker;\n\nexport const DEFAULT_TILE_PROVIDER =\n  'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';\n\nexport const DEFAULT_TILE_OPTIONS = {\n  minZoom: 1,\n  maxZoom: 19,\n  crossOrigin: true,\n  subdomains: ['a', 'b', 'c'],\n  attribution:\n    '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors',\n};\n","import eventEmitter from 'utils/eventEmitter';\n\nenum events {\n  commentReplyButtonClicked = 'commentReplyButtonClicked',\n  commentTranslateButtonClicked = 'commentTranslateButtonClicked',\n  commentAdded = 'commentAdded',\n  commentDeleted = 'commentDeleted',\n}\n\n// -----------\n\ninterface ICommentReplyClicked {\n  commentId: string | null;\n  parentCommentId: string | null;\n  authorFirstName: string | null;\n  authorLastName: string | null;\n  authorSlug: string | null;\n}\n\nexport const commentReplyButtonClicked = (eventValue: ICommentReplyClicked) =>\n  eventEmitter.emit<ICommentReplyClicked>(\n    events.commentReplyButtonClicked,\n    eventValue\n  );\nexport const commentReplyButtonClicked$ = eventEmitter.observeEvent<\n  ICommentReplyClicked\n>(events.commentReplyButtonClicked);\n\n// -----------\n\nexport const commentTranslateButtonClicked = (commentId: string) =>\n  eventEmitter.emit<string>(events.commentTranslateButtonClicked, commentId);\nexport const commentTranslateButtonClicked$ = eventEmitter.observeEvent<string>(\n  events.commentTranslateButtonClicked\n);\n\n// -----------\n\nexport const commentAdded = () => eventEmitter.emit(events.commentAdded);\nexport const commentAdded$ = eventEmitter.observeEvent(events.commentAdded);\n\n// -----------\n\nexport const commentDeleted = () => eventEmitter.emit(events.commentDeleted);\nexport const commentDeleted$ = eventEmitter.observeEvent(events.commentDeleted);\n\n// -----------\n\nexport const deleteCommentModalClosed = () => eventEmitter.emit('modalClosed');\n\n// -----------\n","import React, { PureComponent, SFC } from 'react';\nimport { Subscription } from 'rxjs';\nimport { IUser } from 'services/users';\nimport { TPermissionItem, hasPermission } from 'services/permissions';\n\ntype Props = {\n  item: TPermissionItem | null;\n  action: string;\n  user?: IUser;\n  context?: any;\n  children: any;\n};\n\ntype State = {\n  granted: boolean | null;\n};\n\nexport default class HasPermission extends PureComponent<Props, State> {\n  subscription: Subscription;\n  static No: SFC<any> = (props) => <>{props.children}</>;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      granted: null,\n    };\n  }\n\n  componentDidMount() {\n    this.requestPermission();\n  }\n\n  componentWillUnmount() {\n    this.subscription.unsubscribe();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps !== this.props) {\n      this.requestPermission();\n    }\n  }\n\n  requestPermission = () => {\n    if (this.subscription) this.subscription.unsubscribe();\n\n    this.subscription = hasPermission(this.props).subscribe((granted) => {\n      this.setState({ granted });\n    });\n  };\n\n  render() {\n    const children = this.props.children;\n    const granted = this.state.granted;\n    if (granted === null) {\n      return null;\n    } else if (granted) {\n      return (\n        <>\n          {React.Children.map(children, (c: any) =>\n            c.type === HasPermission.No ? null : c\n          )}\n        </>\n      );\n    } else {\n      return (\n        <>\n          {React.Children.map(children, (c: any) =>\n            c.type === HasPermission.No ? c : null\n          )}\n        </>\n      );\n    }\n  }\n}\n","import React, { memo, FormEvent } from 'react';\nimport { isError } from 'lodash-es';\nimport { FormattedMessage, injectIntl } from 'utils/cl-intl';\nimport messages from './messages';\nimport Button from 'components/UI/Button';\nimport { List, Row } from 'components/admin/ResourceList';\nimport Avatar from 'components/Avatar';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { deleteProjectModerator } from 'modules/commercial/project_management/services/projectModerators';\nimport { InjectedIntlProps } from 'react-intl';\nimport styled from 'styled-components';\n\n// hooks\nimport useProjectModerators from '../../hooks/useProjectModerators';\nimport useAuthUser from 'hooks/useAuthUser';\n\nconst PendingInvitation = styled.span`\n  font-style: italic;\n`;\n\nconst UnknownName = styled.span`\n  font-style: italic;\n`;\n\ninterface Props {\n  projectId: string;\n}\n\nconst ModeratorList = memo(\n  ({ projectId, intl: { formatMessage } }: Props & InjectedIntlProps) => {\n    const moderators = useProjectModerators(projectId);\n    const authUser = useAuthUser();\n\n    const handleDeleteClick = (projectId: string, moderatorId: string) => (\n      event: FormEvent\n    ) => {\n      event.preventDefault();\n      const deleteMessage = formatMessage(\n        messages.moderatorDeletionConfirmation\n      );\n\n      if (window.confirm(deleteMessage)) {\n        deleteProjectModerator(projectId, moderatorId);\n      }\n    };\n\n    if (isError(moderators)) {\n      return <FormattedMessage {...messages.moderatorsNotFound} />;\n    }\n\n    if (!isNilOrError(authUser) && !isNilOrError(moderators)) {\n      return (\n        <List>\n          {moderators.map((moderator, index) => {\n            const firstName = moderator.attributes.first_name;\n            const lastName = moderator.attributes.last_name;\n            const invitationPending =\n              moderator.attributes.invite_status === 'pending';\n            const displayName = invitationPending ? (\n              <PendingInvitation>\n                {formatMessage(messages.pendingInvitation)}\n              </PendingInvitation>\n            ) : firstName && lastName ? (\n              `${firstName} ${lastName}`\n            ) : (\n              <UnknownName>{formatMessage(messages.unknownName)}</UnknownName>\n            );\n\n            return (\n              <Row\n                key={moderator.id}\n                isLastItem={index === moderators.length - 1}\n              >\n                <Avatar userId={moderator.id} size={30} />\n                <p className=\"expand\">{displayName}</p>\n                <p className=\"expand\">{moderator.attributes.email}</p>\n                <Button\n                  onClick={handleDeleteClick(projectId, moderator.id)}\n                  buttonStyle=\"text\"\n                  icon=\"delete\"\n                  disabled={authUser.id === moderator.id}\n                >\n                  <FormattedMessage {...messages.deleteModeratorLabel} />\n                </Button>\n              </Row>\n            );\n          })}\n        </List>\n      );\n    }\n\n    return null;\n  }\n);\n\nexport default injectIntl(ModeratorList);\n","import React, { PureComponent } from 'react';\nimport { Subscription, Observable, of } from 'rxjs';\nimport { filter } from 'rxjs/operators';\nimport { isEqual } from 'lodash-es';\n\n// components\nimport ParticipationMethodPicker from './components/ParticipationMethodPicker';\nimport ParticipatoryBudgetingInputs from './components/ParticipatoryBudgetingInputs';\nimport PollInputs from './components/PollInputs';\nimport SurveyInputs from './components/SurveyInputs';\nimport { Container, StyledSection } from './components/styling';\n\n// services\nimport { projectByIdStream, IProject } from 'services/projects';\nimport { phaseStream, IPhase } from 'services/phases';\nimport {\n  ParticipationMethod,\n  SurveyServices,\n  IdeaDefaultSortMethod,\n  InputTerm,\n  INPUT_TERMS,\n} from 'services/participationContexts';\nimport eventEmitter from 'utils/eventEmitter';\n\n// resources\nimport GetFeatureFlag, {\n  GetFeatureFlagChildProps,\n} from 'resources/GetFeatureFlag';\n\n// i18n\nimport { injectIntl } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\nimport messages from '../messages';\n\n// typings\nimport { CLErrors } from 'typings';\nimport { adopt } from 'react-adopt';\nimport { IOption } from 'cl2-component-library/dist/utils/typings';\n\n// utils\nimport getOutput from './utils/getOutput';\nimport {\n  getDefaultState,\n  getNewStateFromData,\n  getStateFromParticipationMethod,\n} from './utils/state';\nimport validate from './utils/validate';\nimport { anyIsDefined } from 'utils/helperUtils';\nimport IdeationInputs from './components/IdeationInputs';\n\nexport interface IParticipationContextConfig {\n  participation_method: ParticipationMethod;\n  posting_enabled?: boolean | null;\n  commenting_enabled?: boolean | null;\n  voting_enabled?: boolean | null;\n  voting_method?: 'unlimited' | 'limited' | null;\n  voting_limited_max?: number | null;\n  downvoting_enabled?: boolean | null;\n  presentation_mode?: 'map' | 'card' | null;\n  ideas_order?: IdeaDefaultSortMethod;\n  input_term?: InputTerm;\n  min_budget?: number | null;\n  max_budget?: number | null;\n  survey_service?: SurveyServices | null;\n  survey_embed_url?: string | null;\n  poll_anonymous?: boolean;\n}\n\ninterface DataProps {\n  surveys_enabled: GetFeatureFlagChildProps;\n  typeform_enabled: GetFeatureFlagChildProps;\n  google_forms_enabled: GetFeatureFlagChildProps;\n  enalyzer_enabled: GetFeatureFlagChildProps;\n  survey_xact_enabled: GetFeatureFlagChildProps;\n  qualtrics_enabled: GetFeatureFlagChildProps;\n  microsoft_forms_enabled: GetFeatureFlagChildProps;\n  survey_monkey_enabled: GetFeatureFlagChildProps;\n  isCustomInputTermEnabled: GetFeatureFlagChildProps;\n}\n\nexport type ApiErrors = CLErrors | null | undefined;\n\ninterface InputProps {\n  onChange: (arg: IParticipationContextConfig) => void;\n  onSubmit: (arg: IParticipationContextConfig) => void;\n  projectId?: string | undefined | null;\n  phaseId?: string | undefined | null;\n  apiErrors: ApiErrors;\n}\n\ninterface Props extends DataProps, InputProps {}\n\nexport interface State extends IParticipationContextConfig {\n  noVotingLimit: JSX.Element | null;\n  minBudgetError: string | null;\n  maxBudgetError: string | null;\n  loaded: boolean;\n}\n\nclass ParticipationContext extends PureComponent<\n  Props & InjectedIntlProps,\n  State\n> {\n  subscriptions: Subscription[];\n\n  constructor(props: Props & InjectedIntlProps) {\n    super(props);\n    this.state = getDefaultState();\n    this.subscriptions = [];\n  }\n\n  componentDidMount() {\n    const { projectId, phaseId } = this.props;\n    let data$: Observable<IProject | IPhase | null> = of(null);\n\n    if (projectId) {\n      data$ = projectByIdStream(projectId).observable;\n    } else if (phaseId) {\n      data$ = phaseStream(phaseId).observable;\n    }\n    this.subscriptions = [\n      data$.subscribe((data) => {\n        if (data) {\n          this.setState(getNewStateFromData(data.data.attributes));\n        } else {\n          this.setState({ loaded: true });\n        }\n      }),\n\n      eventEmitter\n        .observeEvent('getParticipationContext')\n        .pipe(filter(() => this.validate()))\n        .subscribe(() => {\n          const output = getOutput(this.state);\n          this.props.onSubmit(output);\n        }),\n    ];\n  }\n\n  componentDidUpdate(_prevProps: Props, prevState: State) {\n    const {\n      noVotingLimit: _prevNoVotingLimit,\n      loaded: _prevLoaded,\n      ...prevPartialState\n    } = prevState;\n    const {\n      noVotingLimit: _nextNoVotingLimit,\n      loaded: _nextLoaded,\n      ...nextPartialState\n    } = this.state;\n\n    if (!isEqual(prevPartialState, nextPartialState)) {\n      const output = getOutput(this.state);\n      this.props.onChange(output);\n    }\n  }\n\n  componentWillUnmount() {\n    this.subscriptions.forEach((subscription) => subscription.unsubscribe());\n  }\n\n  handleParticipationMethodOnChange = (\n    participation_method: ParticipationMethod\n  ) => {\n    this.setState(getStateFromParticipationMethod(participation_method));\n  };\n\n  handleSurveyProviderChange = (survey_service: SurveyServices) => {\n    this.setState({ survey_service });\n  };\n\n  handleSurveyEmbedUrlChange = (survey_embed_url: string) => {\n    this.setState({ survey_embed_url });\n  };\n\n  togglePostingEnabled = () => {\n    this.setState((state) => ({ posting_enabled: !state.posting_enabled }));\n  };\n\n  toggleCommentingEnabled = () => {\n    this.setState((state) => ({\n      commenting_enabled: !state.commenting_enabled,\n    }));\n  };\n\n  toggleVotingEnabled = () => {\n    this.setState((state) => ({ voting_enabled: !state.voting_enabled }));\n  };\n\n  handeVotingMethodOnChange = (voting_method: 'unlimited' | 'limited') => {\n    this.setState({\n      voting_method,\n      voting_limited_max: voting_method === 'unlimited' ? null : 5,\n    });\n  };\n\n  handleVotingLimitOnChange = (voting_limited_max: string) => {\n    this.setState({\n      voting_limited_max: parseInt(voting_limited_max, 10),\n      noVotingLimit: null,\n    });\n  };\n\n  handleDownvotingEnabledOnChange = (downvoting_enabled: boolean) => {\n    this.setState({ downvoting_enabled });\n  };\n\n  handleIdeasDisplayChange = (presentation_mode: 'map' | 'card') => {\n    this.setState({ presentation_mode });\n  };\n\n  handleIdeaDefaultSortMethodChange = (ideas_order: IdeaDefaultSortMethod) => {\n    this.setState({ ideas_order });\n  };\n\n  handleMaxBudgetingAmountChange = (newMaxBudget: string) => {\n    const max_budget = parseInt(newMaxBudget, 10);\n    this.setState({\n      max_budget,\n      maxBudgetError: null,\n    });\n  };\n\n  handleMinBudgetingAmountChange = (newMinBudget: string) => {\n    const min_budget = parseInt(newMinBudget, 10);\n    this.setState({\n      min_budget,\n      minBudgetError: null,\n    });\n  };\n\n  handleInputTermChange = (option: IOption) => {\n    const input_term: InputTerm = option.value;\n\n    this.setState({\n      input_term,\n    });\n  };\n\n  togglePollAnonymous = () => {\n    this.setState((state) => ({ poll_anonymous: !state.poll_anonymous }));\n  };\n\n  validate() {\n    const {\n      intl: { formatMessage },\n    } = this.props;\n\n    const {\n      noVotingLimit,\n      minBudgetError,\n      maxBudgetError,\n      isValidated,\n    } = validate(this.state, formatMessage);\n\n    this.setState({ noVotingLimit, minBudgetError, maxBudgetError });\n\n    return isValidated;\n  }\n\n  getInputTermOptions = () => {\n    return INPUT_TERMS.map((inputTerm: InputTerm) => {\n      const labelMessages: {\n        [key in InputTerm]: ReactIntl.FormattedMessage.MessageDescriptor;\n      } = {\n        idea: messages.ideaTerm,\n        contribution: messages.contributionTerm,\n        question: messages.questionTerm,\n        option: messages.optionTerm,\n        issue: messages.issueTerm,\n        project: messages.projectTerm,\n      };\n      const labelMessage = labelMessages[inputTerm];\n\n      return {\n        value: inputTerm,\n        label: this.props.intl.formatMessage(labelMessage),\n      } as IOption;\n    });\n  };\n\n  render() {\n    const {\n      apiErrors,\n      surveys_enabled,\n      typeform_enabled,\n      enalyzer_enabled,\n      survey_xact_enabled,\n      qualtrics_enabled,\n      microsoft_forms_enabled,\n      survey_monkey_enabled,\n      google_forms_enabled,\n      isCustomInputTermEnabled,\n    } = this.props;\n\n    const className = this.props['className'];\n\n    const {\n      participation_method,\n      posting_enabled,\n      commenting_enabled,\n      voting_enabled,\n      voting_method,\n      voting_limited_max,\n      downvoting_enabled,\n      min_budget,\n      max_budget,\n      survey_embed_url,\n      survey_service,\n      loaded,\n      noVotingLimit,\n      minBudgetError,\n      maxBudgetError,\n      poll_anonymous,\n      presentation_mode,\n      ideas_order,\n      input_term,\n    } = this.state;\n\n    if (loaded) {\n      const surveyProviders = {\n        typeform: typeform_enabled,\n        enalyzer: enalyzer_enabled,\n        survey_xact: survey_xact_enabled,\n        qualtrics: qualtrics_enabled,\n        microsoft_forms: microsoft_forms_enabled,\n        survey_monkey: survey_monkey_enabled,\n        google_forms: google_forms_enabled,\n      };\n\n      const showSurveys =\n        surveys_enabled && anyIsDefined(...Object.values(surveyProviders));\n\n      return (\n        <Container className={className}>\n          <StyledSection>\n            <ParticipationMethodPicker\n              participation_method={participation_method}\n              showSurveys={showSurveys}\n              apiErrors={apiErrors}\n              handleParticipationMethodOnChange={\n                this.handleParticipationMethodOnChange\n              }\n            />\n\n            {participation_method === 'budgeting' && (\n              <ParticipatoryBudgetingInputs\n                isCustomInputTermEnabled={isCustomInputTermEnabled}\n                input_term={input_term}\n                handleInputTermChange={this.handleInputTermChange}\n                inputTermOptions={this.getInputTermOptions()}\n                min_budget={min_budget}\n                max_budget={max_budget}\n                commenting_enabled={commenting_enabled}\n                minBudgetError={minBudgetError}\n                maxBudgetError={maxBudgetError}\n                handleMinBudgetingAmountChange={\n                  this.handleMinBudgetingAmountChange\n                }\n                handleMaxBudgetingAmountChange={\n                  this.handleMaxBudgetingAmountChange\n                }\n                toggleCommentingEnabled={this.toggleCommentingEnabled}\n                apiErrors={apiErrors}\n                presentation_mode={presentation_mode}\n                handleIdeasDisplayChange={this.handleIdeasDisplayChange}\n                ideas_order={ideas_order}\n                handleIdeaDefaultSortMethodChange={\n                  this.handleIdeaDefaultSortMethodChange\n                }\n              />\n            )}\n\n            {participation_method === 'ideation' && input_term && (\n              <IdeationInputs\n                isCustomInputTermEnabled={isCustomInputTermEnabled}\n                input_term={input_term}\n                handleInputTermChange={this.handleInputTermChange}\n                inputTermOptions={this.getInputTermOptions()}\n                posting_enabled={posting_enabled}\n                commenting_enabled={commenting_enabled}\n                voting_enabled={voting_enabled}\n                voting_method={voting_method}\n                voting_limited_max={voting_limited_max}\n                downvoting_enabled={downvoting_enabled}\n                noVotingLimit={noVotingLimit}\n                apiErrors={apiErrors}\n                togglePostingEnabled={this.togglePostingEnabled}\n                toggleCommentingEnabled={this.toggleCommentingEnabled}\n                toggleVotingEnabled={this.toggleVotingEnabled}\n                handeVotingMethodOnChange={this.handeVotingMethodOnChange}\n                handleVotingLimitOnChange={this.handleVotingLimitOnChange}\n                handleDownvotingEnabledOnChange={\n                  this.handleDownvotingEnabledOnChange\n                }\n                presentation_mode={presentation_mode}\n                handleIdeasDisplayChange={this.handleIdeasDisplayChange}\n                ideas_order={ideas_order}\n                handleIdeaDefaultSortMethodChange={\n                  this.handleIdeaDefaultSortMethodChange\n                }\n              />\n            )}\n\n            {participation_method === 'poll' && (\n              <PollInputs\n                poll_anonymous={poll_anonymous}\n                apiErrors={apiErrors}\n                togglePollAnonymous={this.togglePollAnonymous}\n              />\n            )}\n\n            {participation_method === 'survey' && (\n              <SurveyInputs\n                survey_service={survey_service}\n                survey_embed_url={survey_embed_url}\n                apiErrors={apiErrors}\n                surveyProviders={surveyProviders}\n                handleSurveyProviderChange={this.handleSurveyProviderChange}\n                handleSurveyEmbedUrlChange={this.handleSurveyEmbedUrlChange}\n              />\n            )}\n          </StyledSection>\n        </Container>\n      );\n    }\n    return null;\n  }\n}\n\nconst Data = adopt<DataProps>({\n  surveys_enabled: <GetFeatureFlag name=\"surveys\" />,\n  typeform_enabled: <GetFeatureFlag name=\"typeform_surveys\" />,\n  google_forms_enabled: <GetFeatureFlag name=\"google_forms_surveys\" />,\n  survey_monkey_enabled: <GetFeatureFlag name=\"surveymonkey_surveys\" />,\n  enalyzer_enabled: <GetFeatureFlag name=\"enalyzer_surveys\" />,\n  survey_xact_enabled: <GetFeatureFlag name=\"survey_xact_surveys\" />,\n  qualtrics_enabled: <GetFeatureFlag name=\"qualtrics_surveys\" />,\n  microsoft_forms_enabled: <GetFeatureFlag name=\"microsoft_forms_surveys\" />,\n  isCustomInputTermEnabled: <GetFeatureFlag name=\"idea_custom_copy\" />,\n});\n\nconst ParticipationContextWithIntl = injectIntl(ParticipationContext);\n\nexport default (inputProps: InputProps) => (\n  <Data>\n    {(dataProps) => (\n      <ParticipationContextWithIntl {...inputProps} {...dataProps} />\n    )}\n  </Data>\n);\n","import { Component } from 'react';\nimport { Subscription } from 'rxjs';\nimport {\n  currentOnboardingCampaignsStream,\n  IOnboardingCampaigns,\n} from 'services/onboardingCampaigns';\nimport { isNilOrError } from 'utils/helperUtils';\n\ninterface InputProps {}\n\ntype children = (\n  renderProps: GetOnboardingCampaignsChildProps\n) => JSX.Element | null;\n\ninterface Props extends InputProps {\n  children?: children;\n}\n\ninterface State {\n  onboardingCampaigns: IOnboardingCampaigns | undefined | null;\n}\n\nexport type GetOnboardingCampaignsChildProps =\n  | IOnboardingCampaigns\n  | undefined\n  | null;\n\nexport default class GetOnboardingCampaigns extends Component<Props, State> {\n  private subscriptions: Subscription[];\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      onboardingCampaigns: undefined,\n    };\n  }\n\n  componentDidMount() {\n    const onboardingCampaigns$ = currentOnboardingCampaignsStream().observable;\n\n    this.subscriptions = [\n      onboardingCampaigns$.subscribe((onboardingCampaigns) => {\n        this.setState({\n          onboardingCampaigns: !isNilOrError(onboardingCampaigns)\n            ? onboardingCampaigns.data.attributes\n            : null,\n        });\n      }),\n    ];\n  }\n\n  componentWillUnmount() {\n    this.subscriptions.forEach((subscription) => subscription.unsubscribe());\n  }\n\n  render() {\n    const { children } = this.props;\n    const { onboardingCampaigns } = this.state;\n    return (children as children)(onboardingCampaigns);\n  }\n}\n","import { ImageSizes } from 'typings';\nimport { API_PATH } from 'containers/App/constants';\nimport streams, { IStreamParams } from 'utils/streams';\n\nconst apiEndpoint = `${API_PATH}/projects`;\n\nexport interface IProjectImageData {\n  id: string;\n  type: string;\n  attributes: {\n    versions: ImageSizes;\n    ordering: string | null;\n    created_at: string;\n    updated_at: string;\n  };\n}\n\nexport interface IProjectImage {\n  data: IProjectImageData;\n}\n\nexport interface IProjectImages {\n  data: IProjectImageData[];\n}\n\nexport function projectImagesStream(\n  projectId: string,\n  streamParams: IStreamParams | null = null\n) {\n  return streams.get<IProjectImages | null>({\n    apiEndpoint: `${apiEndpoint}/${projectId}/images`,\n    ...streamParams,\n  });\n}\n\nexport function projectImageStream(\n  projectId: string,\n  imageId: string,\n  streamParams: IStreamParams | null = null\n) {\n  return streams.get<IProjectImage>({\n    apiEndpoint: `${apiEndpoint}/${projectId}/images/${imageId}`,\n    ...streamParams,\n  });\n}\n\nexport function addProjectImage(projectId: string, base64: string) {\n  return streams.add<IProjectImage>(`${apiEndpoint}/${projectId}/images`, {\n    image: { image: base64 },\n  });\n}\n\nexport function deleteProjectImage(projectId: string, imageId: string) {\n  return streams.delete(\n    `${apiEndpoint}/${projectId}/images/${imageId}`,\n    imageId\n  );\n}\n","import React from 'react';\nimport useTranslation from 'modules/commercial/machine_translations/hooks/useTranslation';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { Locale } from 'typings';\n\ninterface Props {\n  postId: string;\n  body: string;\n  locale: Locale;\n  translateButtonClicked?: boolean;\n  postType: 'idea' | 'initiative';\n}\n\nconst PostShowTranslatedBody = ({\n  translateButtonClicked,\n  locale,\n  postId,\n  postType,\n  body,\n}: Props) => {\n  const translation = useTranslation({\n    attributeName: 'body_multiloc',\n    localeTo: locale,\n    id: postId,\n    context: postType,\n  });\n\n  const content =\n    translateButtonClicked && !isNilOrError(translation)\n      ? translation.attributes.translation\n      : body;\n\n  return (\n    <span\n      dangerouslySetInnerHTML={{\n        __html: content,\n      }}\n    />\n  );\n};\n\nexport default PostShowTranslatedBody;\n","import React, { memo, useCallback, useState } from 'react';\n\n// components\nimport Link from 'utils/cl-router/Link';\nimport Checkbox from 'components/UI/Checkbox';\nimport Error from 'components/UI/Error';\n\n// i18n\nimport { InjectedIntlProps } from 'react-intl';\nimport { injectIntl, FormattedMessage } from 'utils/cl-intl';\nimport messages from './messages';\n\n// style\nimport styled from 'styled-components';\nimport { fontSizes } from 'utils/styleUtils';\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n`;\n\nconst CheckboxWrapper = styled.div`\n  margin-bottom: 15px;\n`;\n\nconst ConsentText = styled.div`\n  color: ${(props: any) => props.theme.colorText};\n  font-size: ${fontSizes.small}px;\n  line-height: 21px;\n  font-weight: 300;\n  overflow-wrap: break-word;\n  word-wrap: break-word;\n  word-break: break-word;\n\n  a {\n    color: ${(props: any) => props.theme.colorText};\n    font-weight: 400;\n    text-decoration: underline;\n    overflow-wrap: break-word;\n    word-wrap: break-word;\n    word-break: break-word;\n\n    &:hover {\n      color: #000;\n      text-decoration: underline;\n    }\n  }\n`;\n\ninterface Props {\n  tacError: boolean;\n  privacyError: boolean;\n  onTacAcceptedChange: (tacAccepted: boolean) => void;\n  onPrivacyAcceptedChange: (privacyAccepted: boolean) => void;\n  className?: string;\n}\n\nconst Consent = memo<Props & InjectedIntlProps>(\n  ({\n    className,\n    intl: { formatMessage },\n    tacError,\n    privacyError,\n    onTacAcceptedChange,\n    onPrivacyAcceptedChange,\n  }) => {\n    const [tacAccepted, setTacAccepted] = useState(false);\n    const [privacyAccepted, setPrivacyAccepted] = useState(false);\n\n    const toggleTacAccepted = useCallback(() => {\n      onTacAcceptedChange(!tacAccepted);\n      setTacAccepted(!tacAccepted);\n    }, [tacAccepted, onTacAcceptedChange]);\n\n    const togglePrivacyAccepted = useCallback(() => {\n      onPrivacyAcceptedChange(!privacyAccepted);\n      setPrivacyAccepted(!privacyAccepted);\n    }, [privacyAccepted, onPrivacyAcceptedChange]);\n\n    return (\n      <Container className={className}>\n        <CheckboxWrapper id=\"e2e-terms-and-conditions-container\">\n          <Checkbox\n            className=\"e2e-terms-and-conditions\"\n            size=\"20px\"\n            checked={tacAccepted}\n            onChange={toggleTacAccepted}\n            label={\n              <ConsentText>\n                <FormattedMessage\n                  {...messages.iHaveReadAndAgreeTo}\n                  values={{\n                    link: (\n                      <Link target=\"_blank\" to=\"/pages/terms-and-conditions\">\n                        <FormattedMessage {...messages.theTermsAndConditions} />\n                      </Link>\n                    ),\n                  }}\n                />\n              </ConsentText>\n            }\n          />\n          <Error text={tacError ? formatMessage(messages.tacError) : null} />\n        </CheckboxWrapper>\n\n        <CheckboxWrapper id=\"e2e-privacy-container\">\n          <Checkbox\n            className=\"e2e-privacy-checkbox\"\n            size=\"20px\"\n            checked={privacyAccepted}\n            onChange={togglePrivacyAccepted}\n            label={\n              <ConsentText>\n                <FormattedMessage\n                  {...messages.iHaveReadAndAgreeTo}\n                  values={{\n                    link: (\n                      <Link target=\"_blank\" to=\"/pages/privacy-policy\">\n                        <FormattedMessage {...messages.thePrivacyPolicy} />\n                      </Link>\n                    ),\n                  }}\n                />\n              </ConsentText>\n            }\n          />\n          <Error\n            text={privacyError ? formatMessage(messages.privacyError) : null}\n          />\n        </CheckboxWrapper>\n\n        <ConsentText>\n          <FormattedMessage {...messages.emailConsent} />\n        </ConsentText>\n      </Container>\n    );\n  }\n);\n\nexport default injectIntl(Consent);\n","export default \"data:image/svg+xml;base64,PHN2ZyBpZD0iQ2FwYV8xIiBkYXRhLW5hbWU9IkNhcGEgMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxkZWZzPjxzdHlsZT4uY2xzLTF7ZmlsbDojZmZmO2ZpbGwtcnVsZTpldmVub2RkO308L3N0eWxlPjwvZGVmcz48ZyBpZD0iQXRvbXMtXy1JY29ucy1fLXdoaXRlLV8tMjRweC1fLWxvZ28tXy1jbGF2ZXVuaWNhIiBkYXRhLW5hbWU9IkF0b21zLS8tSWNvbnMtLy13aGl0ZS0vLTI0cHgtLy1sb2dvLS8tY2xhdmV1bmljYSI+PHBhdGggaWQ9ImNsLWljb25zLTQzIiBjbGFzcz0iY2xzLTEiIGQ9Ik0xMS40NywxNGEuNjUuNjUsMCwwLDEtLjIxLS41NC42NC42NCwwLDAsMSwuMjktLjUuNjguNjgsMCwwLDEsLjUzLS4xOS43My43MywwLDAsMSwuNDkuMjcuNzUuNzUsMCwwLDEtLjA4LDEsLjcuNywwLDAsMS0uNTMuMTkuNzEuNzEsMCwwLDEtLjQ5LS4yN1ptMy44LTguNjZBOSw5LDAsMCwxLDIxLDEzLjU3YTksOSwwLDAsMS0xOCwwQTguNzgsOC43OCwwLDAsMSw4LjQ1LDUuMzJjLjM3LS4wOS42NC0uMDkuODIuMzZhLjc2Ljc2LDAsMCwxLS4zNiwxLDcuNTIsNy41MiwwLDEsMCw1LjgyLS4wOS42Ni42NiwwLDAsMS0uNC0uMzcuNjQuNjQsMCwwLDEsMC0uNTQuNjIuNjIsMCwwLDEsLjM3LS4zOUEuNjQuNjQsMCwwLDEsMTUuMjcsNS4zMlptLTcuNzcsOGE0LjY0LDQuNjQsMCwwLDEsMy43NS00LjU5VjIuMzNBLjkxLjkxLDAsMCwxLDEyLDEuNWgzLjMxYS43NS43NSwwLDAsMSwuNy43NS43OC43OCwwLDAsMS0uNy43NUgxMi43NVY4Ljc2YTQuNSw0LjUsMCwwLDEsMy43NSw0LjU4QTQuNjEsNC42MSwwLDAsMSwxMiwxOCw0LjYxLDQuNjEsMCwwLDEsNy41LDEzLjMzWm03LjUuMDlhMy4xLDMuMSwwLDAsMC0zLTMuMTIsMy4xMiwzLjEyLDAsMCwwLDAsNi4yQTMuMDksMy4wOSwwLDAsMCwxNSwxMy40MloiLz48L2c+PC9zdmc+\"","// note that in devmode, errors caught by error boundary will be sent twice to sentry, this won't happen in production\n// https://github.com/facebook/react/issues/10474\n\nimport React, { Component } from 'react';\nimport { FormattedMessage, injectIntl } from 'utils/cl-intl';\nimport { withScope, showReportDialog } from '@sentry/browser';\nimport messages from './messages';\nimport styled from 'styled-components';\nimport { fontSizes, colors } from 'utils/styleUtils';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { InjectedIntlProps } from 'react-intl';\nimport GetAuthUser, { GetAuthUserChildProps } from 'resources/GetAuthUser';\nimport { reportError } from 'utils/loggingUtils';\n\nconst Container = styled.div`\n  width: 100%;\n  text-align: center;\n  margin-top: 50px;\n  font-size: ${fontSizes.large}px;\n`;\n\nconst StyledButton = styled.button`\n  outline: none;\n  color: ${colors.clBlue};\n  &.hover,\n  &.focus {\n    text-decoration: underline;\n  }\n`;\n\ninterface InputProps {\n  children: React.ReactNode;\n}\n\ninterface DataProps {\n  authUser: GetAuthUserChildProps;\n}\n\ninterface Props extends InputProps, DataProps {}\n\ntype State = {\n  hasError: boolean;\n};\n\nclass ErrorBoundary extends Component<Props & InjectedIntlProps, State> {\n  constructor(props) {\n    super(props);\n    this.state = { hasError: false };\n  }\n\n  static getDerivedStateFromError(_error) {\n    // Update state so the next render will show the fallback UI.\n    return { hasError: true };\n  }\n\n  componentDidCatch(error, errorInfo) {\n    // Report to Sentry\n    withScope((scope) => {\n      Object.keys(errorInfo).forEach((key) => {\n        scope.setExtra(key, errorInfo[key]);\n        scope.setExtra('from', 'ErrorBoundary');\n      });\n      reportError(error);\n    });\n  }\n\n  openDialog = () => {\n    const {\n      authUser,\n      intl: { formatMessage },\n    } = this.props;\n    const title = formatMessage(messages.errorFormTitle);\n    const subtitle = formatMessage(messages.errorFormSubtitle);\n    const subtitle2 = formatMessage(messages.errorFormSubtitle2);\n    const labelName = formatMessage(messages.errorFormLabelName);\n    const labelEmail = formatMessage(messages.errorFormLabelEmail);\n    const labelComments = formatMessage(messages.errorFormLabelComments);\n    const labelClose = formatMessage(messages.errorFormLabelClose);\n    const labelSubmit = formatMessage(messages.errorFormLabelSubmit);\n    const errorGeneric = formatMessage(messages.errorFormErrorGeneric);\n    const errorFormEntry = formatMessage(messages.errorFormErrorFormEntry);\n    const successMessage = formatMessage(messages.errorFormSuccessMessage);\n    const reportDialogProperties = {\n      title,\n      subtitle,\n      subtitle2,\n      labelName,\n      labelEmail,\n      labelComments,\n      labelClose,\n      labelSubmit,\n      errorGeneric,\n      errorFormEntry,\n      successMessage,\n    };\n    if (!isNilOrError(authUser)) {\n      const { first_name, last_name, email } = authUser.attributes;\n      Object.assign(reportDialogProperties, {\n        user: {\n          email,\n          name: `${first_name} ${last_name}`,\n        },\n      });\n    }\n\n    showReportDialog(reportDialogProperties);\n  };\n\n  render() {\n    const { children } = this.props;\n\n    if (this.state.hasError) {\n      return (\n        <Container>\n          <FormattedMessage\n            {...messages.genericErrorWithForm}\n            values={{\n              openForm: (\n                <StyledButton onClick={this.openDialog}>\n                  <FormattedMessage {...messages.openFormText} />\n                </StyledButton>\n              ),\n            }}\n          />\n        </Container>\n      );\n    }\n\n    return children;\n  }\n}\n\nconst ErrorBoundaryWithIntl = injectIntl(ErrorBoundary);\n\nexport default (inputProps: InputProps) => (\n  <GetAuthUser>\n    {(authUser) => {\n      return <ErrorBoundaryWithIntl authUser={authUser} {...inputProps} />;\n    }}\n  </GetAuthUser>\n);\n","var map = {\n\t\"./ar\": \"jnO4\",\n\t\"./ar.js\": \"jnO4\",\n\t\"./da\": \"DxQv\",\n\t\"./da.js\": \"DxQv\",\n\t\"./de\": \"tGlX\",\n\t\"./de.js\": \"tGlX\",\n\t\"./en-ca\": \"OIYi\",\n\t\"./en-ca.js\": \"OIYi\",\n\t\"./en-gb\": \"Oaa7\",\n\t\"./en-gb.js\": \"Oaa7\",\n\t\"./es\": \"iYuL\",\n\t\"./es.js\": \"iYuL\",\n\t\"./fr\": \"nyYc\",\n\t\"./fr.js\": \"nyYc\",\n\t\"./hu\": \"WxRl\",\n\t\"./hu.js\": \"WxRl\",\n\t\"./it\": \"bpih\",\n\t\"./it.js\": \"bpih\",\n\t\"./mi\": \"aIsn\",\n\t\"./mi.js\": \"aIsn\",\n\t\"./nb\": \"bOMt\",\n\t\"./nb.js\": \"bOMt\",\n\t\"./nl\": \"+s0g\",\n\t\"./nl.js\": \"+s0g\",\n\t\"./pl\": \"jVdC\",\n\t\"./pl.js\": \"jVdC\",\n\t\"./pt\": \"8mBD\",\n\t\"./pt.js\": \"8mBD\",\n\t\"./ro\": \"lyxo\",\n\t\"./ro.js\": \"lyxo\",\n\t\"./sr\": \"zx6S\",\n\t\"./sr.js\": \"zx6S\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"NV2v\";","import React from 'react';\nimport GetUserCustomFieldOptions, {\n  GetUserCustomFieldOptionsChildProps,\n} from '../../resources/GetUserCustomFieldOptions';\nimport { TRule } from 'modules/commercial/smart_groups/components/UserFilterConditions/rules';\nimport { IOption } from 'typings';\nimport MultipleSelect from 'components/UI/MultipleSelect';\nimport localize, { InjectedLocalized } from 'utils/localize';\nimport { isNilOrError } from 'utils/helperUtils';\n\ntype Props = {\n  rule: TRule;\n  value: string[];\n  onChange: (values: string[]) => void;\n  options: GetUserCustomFieldOptionsChildProps;\n};\n\ninterface State {}\n\nclass CustomFieldOptionValuesSelector extends React.PureComponent<\n  Props & InjectedLocalized,\n  State\n> {\n  generateOptions = (): IOption[] => {\n    const { options, localize } = this.props;\n\n    if (!isNilOrError(options)) {\n      return options.map((option) => ({\n        value: option.id,\n        label: localize(option.attributes.title_multiloc),\n      }));\n    } else {\n      return [];\n    }\n  };\n\n  handleOnChange = (options: IOption[]) => {\n    const optionIds = options.map((o) => o.value);\n    this.props.onChange(optionIds);\n  };\n\n  render() {\n    const { value } = this.props;\n    return (\n      <MultipleSelect\n        value={value}\n        options={this.generateOptions()}\n        onChange={this.handleOnChange}\n      />\n    );\n  }\n}\n\nconst CustomFieldOptionValuesSelectorWithHOC = localize(\n  CustomFieldOptionValuesSelector\n);\n\nexport default (inputProps: Props) => (\n  <GetUserCustomFieldOptions customFieldId={inputProps.rule?.['customFieldId']}>\n    {(options) => (\n      <CustomFieldOptionValuesSelectorWithHOC\n        {...inputProps}\n        options={options}\n      />\n    )}\n  </GetUserCustomFieldOptions>\n);\n","// Libraries\nimport React from 'react';\nimport { Form, Field, InjectedFormikProps } from 'formik';\n\n// Components\nimport { SectionField } from 'components/admin/Section';\nimport FormikInputMultilocWithLocaleSwitcher from 'components/UI/FormikInputMultilocWithLocaleSwitcher';\nimport FormikSubmitWrapper from 'components/admin/FormikSubmitWrapper';\nimport { FooterContainer, Fill } from 'containers/Admin/users/NormalGroupForm';\nimport Error from 'components/UI/Error';\nimport { Label } from 'cl2-component-library';\nimport { FormikUserFilterConditions } from '../../components/UserFilterConditions';\n\n// i18n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from './messages';\nimport adminUsersMessages from 'containers/Admin/users/messages';\n\n// Styling\nimport styled from 'styled-components';\n\nconst SSectionField = styled(SectionField)`\n  max-width: 570px;\n`;\n\n// Typings\nimport { Multiloc } from 'typings';\nimport { TRule } from '../../components/UserFilterConditions/rules';\n\nexport interface Props {}\nexport interface RulesFormValues {\n  rules: TRule[];\n  title_multiloc: Multiloc;\n  membership_type: 'rules';\n}\n\nexport class RulesGroupForm extends React.PureComponent<\n  InjectedFormikProps<Props, RulesFormValues>\n> {\n  render() {\n    const { isSubmitting, errors, isValid, touched, status } = this.props;\n\n    return (\n      <Form>\n        <Fill id=\"rules-group-inner-form\">\n          <SSectionField>\n            <Field\n              id=\"group-title-field\"\n              name=\"title_multiloc\"\n              component={FormikInputMultilocWithLocaleSwitcher}\n              label={\n                <FormattedMessage {...adminUsersMessages.fieldGroupName} />\n              }\n            />\n            {touched.title_multiloc && (\n              <Error\n                fieldName=\"title_multiloc\"\n                apiErrors={errors.title_multiloc as any}\n              />\n            )}\n          </SSectionField>\n          <SSectionField className=\"e2e-rules-field-section\">\n            <Label>\n              <FormattedMessage {...messages.rulesExplanation} />\n            </Label>\n            <Field name=\"rules\" component={FormikUserFilterConditions} />\n            {touched.rules && errors.rules && (\n              <Error\n                text={\n                  (errors.rules as any) === 'verificationDisabled' ? (\n                    <FormattedMessage {...messages.verificationDisabled} />\n                  ) : (\n                    <FormattedMessage {...messages.rulesError} />\n                  )\n                }\n              />\n            )}\n          </SSectionField>\n        </Fill>\n\n        <FooterContainer>\n          <FormikSubmitWrapper\n            {...{ isValid, isSubmitting, status, touched }}\n            buttonStyle=\"admin-dark\"\n          />\n        </FooterContainer>\n      </Form>\n    );\n  }\n}\n\nexport default RulesGroupForm;\n","import { useState, useEffect } from 'react';\nimport { IMinimalIdeaData, similarIdeasStream } from 'services/ideas';\n\ninterface Parameters {\n  ideaId: string;\n  pageSize?: number;\n}\n\nexport default function useSimilarIdeas({ ideaId, pageSize = 5 }: Parameters) {\n  const [similarIdeas, setSimilarIdeas] = useState<\n    IMinimalIdeaData[] | Error | null | undefined\n  >(undefined);\n  const queryParameters = { pageSize };\n\n  useEffect(() => {\n    const observable = similarIdeasStream(ideaId, { queryParameters })\n      .observable;\n\n    const subscription = observable.subscribe((response) => {\n      setSimilarIdeas(response.data);\n    });\n\n    return () => subscription.unsubscribe();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [ideaId, pageSize]);\n\n  return similarIdeas;\n}\n","import React, { memo } from 'react';\nimport { keys } from 'lodash-es';\n\nimport { ruleTypeConstraints, TPredicate, TRuleType } from './rules';\nimport { IOption } from 'typings';\n\nimport { Select } from 'cl2-component-library';\n\nimport { injectIntl } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\nimport messages from './messages';\n\ntype Props = {\n  ruleType: TRuleType;\n  selectedPredicate?: TPredicate;\n  onChange: (predicate: TPredicate) => void;\n};\n\nconst PredicateSelector = memo(\n  ({\n    ruleType,\n    selectedPredicate,\n    onChange,\n    intl: { formatMessage },\n  }: Props & InjectedIntlProps) => {\n    const getMessage = (predicate: TPredicate) => {\n      const predicateMessages = {\n        predicate_begins_with: messages.predicate_begins_with,\n        predicate_budgeted_in: messages.predicate_budgeted_in,\n        predicate_commented_in: messages.predicate_commented_in,\n        predicate_contains: messages.predicate_contains,\n        predicate_ends_on: messages.predicate_ends_on,\n        predicate_has_value: messages.predicate_has_value,\n        predicate_in: messages.predicate_in,\n        predicate_is: messages.predicate_is,\n        predicate_is_admin: messages.predicate_is_admin,\n        predicate_is_after: messages.predicate_is_after,\n        predicate_is_before: messages.predicate_is_before,\n        predicate_is_checked: messages.predicate_is_checked,\n        predicate_is_empty: messages.predicate_is_empty,\n        predicate_is_equal: messages.predicate_is_equal,\n        predicate_is_exactly: messages.predicate_is_exactly,\n        predicate_is_larger_than: messages.predicate_is_larger_than,\n        predicate_is_larger_than_or_equal:\n          messages.predicate_is_larger_than_or_equal,\n        predicate_is_normal_user: messages.predicate_is_normal_user,\n        predicate_is_one_of: messages.predicate_is_one_of,\n        predicate_is_project_moderator: messages.predicate_is_project_moderator,\n        predicate_is_smaller_than: messages.predicate_is_smaller_than,\n        predicate_is_smaller_than_or_equal:\n          messages.predicate_is_smaller_than_or_equal,\n        predicate_is_verified: messages.predicate_is_verified,\n        predicate_not_begins_with: messages.predicate_not_begins_with,\n        predicate_not_budgeted_in: messages.predicate_not_budgeted_in,\n        predicate_not_commented_in: messages.predicate_not_commented_in,\n        predicate_not_contains: messages.predicate_not_contains,\n        predicate_not_ends_on: messages.predicate_not_ends_on,\n        predicate_not_has_value: messages.predicate_not_has_value,\n        predicate_not_in: messages.predicate_not_in,\n        predicate_not_is: messages.predicate_not_is,\n        predicate_not_is_admin: messages.predicate_not_is_admin,\n        predicate_not_is_checked: messages.predicate_not_is_checked,\n        predicate_not_is_empty: messages.predicate_not_is_empty,\n        predicate_not_is_equal: messages.predicate_not_is_equal,\n        predicate_not_is_normal_user: messages.predicate_not_is_normal_user,\n        predicate_not_is_one_of: messages.predicate_not_is_one_of,\n        predicate_not_is_project_moderator:\n          messages.predicate_not_is_project_moderator,\n        predicate_not_is_verified: messages.predicate_not_is_verified,\n        predicate_not_posted_in: messages.predicate_not_posted_input,\n        predicate_not_volunteered_in: messages.predicate_not_volunteered_in,\n        predicate_not_voted_comment_in: messages.predicate_not_voted_comment_in,\n        predicate_not_voted_idea_in: messages.predicate_not_voted_input_in,\n        predicate_posted_in: messages.predicate_posted_input,\n        predicate_volunteered_in: messages.predicate_volunteered_in,\n        predicate_voted_comment_in: messages.predicate_voted_comment_in,\n        predicate_voted_idea_in: messages.predicate_voted_input_in,\n      };\n\n      return predicateMessages[`predicate_${predicate}`];\n    };\n\n    const generateOptions = (): IOption[] => {\n      if (ruleType) {\n        const ruleTypePredicates = keys(ruleTypeConstraints[ruleType]);\n        return ruleTypePredicates.map((predicate) => {\n          const message = getMessage(predicate as TPredicate);\n          return {\n            value: predicate,\n            label: formatMessage(message),\n          };\n        });\n      } else {\n        return [];\n      }\n    };\n\n    const handleOnChange = (option: IOption) => {\n      onChange(option.value);\n    };\n\n    return (\n      <Select\n        value={selectedPredicate}\n        options={generateOptions()}\n        onChange={handleOnChange}\n      />\n    );\n  }\n);\n\nexport default injectIntl(PredicateSelector);\n","import {\n  definePermissionRule,\n  IRouteItem,\n} from 'services/permissions/permissions';\nimport {\n  isAdmin,\n  isModerator,\n  isProjectModerator,\n  isSuperAdmin,\n} from '../roles';\nimport { IUser } from 'services/users';\nimport { IAppConfigurationData } from 'services/appConfiguration';\n\nexport const MODERATOR_ROUTES = [\n  '/admin/projects',\n  '/admin/emails',\n  '/admin/ideas',\n  '/admin/workshops',\n  '/admin/processing',\n  '/admin/dashboard',\n  '/admin/moderation',\n];\n\nexport const isModeratorRoute = (item: IRouteItem) => {\n  return MODERATOR_ROUTES.includes(item.path);\n};\n\nexport const isModeratedProjectRoute = (\n  item: IRouteItem,\n  user: IUser | null\n) => {\n  const idRegexp = /^\\/admin\\/projects\\/([a-z0-9-]+)\\//;\n  const matches = idRegexp.exec(item.path);\n  const pathProjectId = matches && matches[1];\n  return (pathProjectId && isProjectModerator(user, pathProjectId)) || false;\n};\n\nexport const isAdminRoute = (item: IRouteItem) => {\n  return /^\\/admin/.test(item.path);\n};\n\nexport const tenantIsChurned = (tenant: IAppConfigurationData) => {\n  return tenant.attributes.settings.core.lifecycle_stage === 'churned';\n};\n\nexport const canAccessRoute = (\n  item: IRouteItem,\n  user: IUser | null,\n  tenant: IAppConfigurationData\n) => {\n  if (isAdminRoute(item)) {\n    if (isSuperAdmin(user)) {\n      return true;\n    }\n\n    if (tenantIsChurned(tenant)) {\n      return false;\n    }\n\n    if (isAdmin(user)) {\n      return true;\n    }\n\n    if (isModerator(user) && isModeratorRoute(item)) {\n      return true;\n    }\n\n    return isModeratedProjectRoute(item, user);\n  } else {\n    return true;\n  }\n};\n\ndefinePermissionRule('route', 'access', canAccessRoute);\n","import { API_PATH } from 'containers/App/constants';\nimport streams, { IStreamParams } from 'utils/streams';\n\nconst apiEndpoint = `${API_PATH}/projects`;\n\nexport interface IProjectFileData {\n  id: string;\n  type: string;\n  attributes: {\n    file: {\n      url: string;\n    };\n    ordering: string | null;\n    name: string;\n    size: number;\n    created_at: string;\n    updated_at: string;\n  };\n}\n\nexport interface IProjectFile {\n  data: IProjectFileData;\n}\n\nexport interface IProjectFiles {\n  data: IProjectFileData[];\n}\n\nexport function projectFilesStream(\n  projectId: string,\n  streamParams: IStreamParams | null = null\n) {\n  return streams.get<IProjectFiles | null>({\n    apiEndpoint: `${apiEndpoint}/${projectId}/files`,\n    ...streamParams,\n  });\n}\n\nexport function projectFileStream(\n  projectId: string,\n  fileId: string,\n  streamParams: IStreamParams | null = null\n) {\n  return streams.get<IProjectFile>({\n    apiEndpoint: `${apiEndpoint}/${projectId}/files/${fileId}`,\n    ...streamParams,\n  });\n}\n\nexport async function addProjectFile(\n  projectId: string,\n  base64: string,\n  name: string,\n  ordering: number | null = null\n) {\n  return await streams.add<IProjectFile>(`${apiEndpoint}/${projectId}/files`, {\n    file: { name, ordering, file: base64 },\n  });\n}\n\nexport async function deleteProjectFile(projectId: string, fileId: string) {\n  return await streams.delete(\n    `${apiEndpoint}/${projectId}/files/${fileId}`,\n    fileId\n  );\n}\n","import { useRef, useEffect } from 'react';\n\nexport default function usePrevious(value) {\n  const ref = useRef();\n\n  useEffect(() => {\n    ref.current = value;\n  });\n\n  return ref.current;\n}\n","import { API_PATH } from 'containers/App/constants';\nimport streams, { IStreamParams } from 'utils/streams';\n\nconst apiEndpoint = `${API_PATH}/initiatives`;\n\nexport interface IInitiativeFileData {\n  id: string;\n  type: string;\n  attributes: {\n    file: {\n      url: string;\n    };\n    ordering: string | null;\n    name: string;\n    size: number;\n    created_at: string;\n    updated_at: string;\n  };\n}\n\nexport interface IInitiativeFile {\n  data: IInitiativeFileData;\n}\n\nexport interface IInitiativeFiles {\n  data: IInitiativeFileData[];\n}\n\nexport function initiativeFilesStream(\n  initiativeId: string,\n  streamParams: IStreamParams | null = null\n) {\n  return streams.get<IInitiativeFiles>({\n    apiEndpoint: `${apiEndpoint}/${initiativeId}/files`,\n    ...streamParams,\n  });\n}\n\nexport function initiativeFileStream(\n  initiativeId: string,\n  fileId: string,\n  streamParams: IStreamParams | null = null\n) {\n  return streams.get<IInitiativeFile>({\n    apiEndpoint: `${apiEndpoint}/${initiativeId}/files/${fileId}`,\n    ...streamParams,\n  });\n}\n\nexport function addInitiativeFile(\n  initiativeId: string,\n  base64: string,\n  name: string,\n  ordering: number | null = null\n) {\n  return streams.add<IInitiativeFile>(`${apiEndpoint}/${initiativeId}/files`, {\n    file: { name, ordering, file: base64 },\n  });\n}\n\nexport function deleteInitiativeFile(initiativeId: string, fileId: string) {\n  return streams.delete(\n    `${apiEndpoint}/${initiativeId}/files/${fileId}`,\n    fileId\n  );\n}\n","import React from 'react';\nimport { isString } from 'lodash-es';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { Subscription, BehaviorSubject, of } from 'rxjs';\nimport { distinctUntilChanged, switchMap, tap } from 'rxjs/operators';\nimport shallowCompare from 'utils/shallowCompare';\nimport { IIdeaData, ideaByIdStream, ideaBySlugStream } from 'services/ideas';\n\ninterface InputProps {\n  ideaId?: string | null;\n  ideaSlug?: string | null;\n  resetOnChange?: boolean;\n}\n\ntype children = (renderProps: GetIdeaChildProps) => JSX.Element | null;\n\ninterface Props extends InputProps {\n  children?: children;\n}\n\nexport type GetIdeaChildProps = IIdeaData | undefined | null | Error;\n\ninterface State {\n  idea: GetIdeaChildProps;\n}\n\nexport default class GetIdea extends React.Component<Props, State> {\n  private inputProps$: BehaviorSubject<InputProps>;\n  private subscriptions: Subscription[];\n\n  static defaultProps = {\n    resetOnChange: true,\n  };\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      idea: undefined,\n    };\n  }\n\n  componentDidMount() {\n    const { ideaId, ideaSlug, resetOnChange } = this.props;\n\n    this.inputProps$ = new BehaviorSubject({ ideaId, ideaSlug });\n\n    this.subscriptions = [\n      this.inputProps$\n        .pipe(\n          distinctUntilChanged((prev, next) => shallowCompare(prev, next)),\n          tap(() => resetOnChange && this.setState({ idea: undefined })),\n          switchMap(({ ideaId, ideaSlug }) => {\n            if (isString(ideaId)) {\n              return ideaByIdStream(ideaId).observable;\n            } else if (isString(ideaSlug)) {\n              return ideaBySlugStream(ideaSlug).observable;\n            }\n\n            return of(null);\n          })\n        )\n        .subscribe((idea) => {\n          this.setState({ idea: !isNilOrError(idea) ? idea.data : idea });\n        }),\n    ];\n  }\n\n  componentDidUpdate() {\n    const { ideaId, ideaSlug } = this.props;\n    this.inputProps$.next({ ideaId, ideaSlug });\n  }\n\n  componentWillUnmount() {\n    this.subscriptions.forEach((subscription) => subscription.unsubscribe());\n  }\n\n  render() {\n    const { children } = this.props;\n    const { idea } = this.state;\n    return (children as children)(idea);\n  }\n}\n","import styled from 'styled-components';\nimport { media, colors, fontSizes, defaultCardStyle } from 'utils/styleUtils';\n\nexport const ControlBar = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 30px;\n  width: 100%;\n`;\n\nexport const GraphsContainer = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: row;\n  margin: 20px -10px;\n  background: inherit;\n  @media print {\n    flex-direction: column;\n    position: relative;\n    align-items: center;\n  }\n`;\n\nexport const Column = styled.div`\n  width: 50%;\n  display: flex;\n  align-items: flex-start;\n  flex-direction: column;\n  &.first {\n    margin-right: 20px;\n  }\n  @media print {\n    position: relative;\n    width: 100%;\n  }\n`;\n\nexport const NoDataContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 150px;\n  font-size: ${fontSizes.base}px;\n  /*\n   * Needed to vertically center the text\n   * Reason being: we have a margin-bottom on the header,\n   * Which we want to keep when there's an actual graph\n   */\n  padding: 20px;\n`;\n\nexport const GraphCardInner = styled.div`\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  padding-top: 20px;\n  padding-left: 20px;\n  padding-right: 20px;\n  padding-bottom: 35px;\n  ${defaultCardStyle}\n  p {\n    font-size: ${fontSizes.base}px;\n    flex-grow: 1;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  @media print {\n    position: relative;\n    display: block;\n    page-break-inside: avoid;\n    width: 100%;\n    padding: 0 10px;\n    border: none;\n  }\n`;\n\nexport const GraphCard = styled.div`\n  padding: 10px;\n  height: 350px;\n  display: flex;\n  width: 50%;\n\n  &.dynamicHeight {\n    height: auto;\n\n    ${GraphCardInner} {\n      position: relative;\n    }\n  }\n\n  &.fullWidth {\n    width: 100%;\n  }\n  @media print {\n    position: relative;\n    display: block;\n    page-break-before: always;\n    page-break-inside: avoid;\n    height: 400px;\n  }\n  @media print and (orientation: portrait) {\n    width: 100%;\n  }\n  @media print and (orientation: landscape) {\n    width: 50%;\n  }\n`;\n\nexport const GraphCardHeader = styled.div`\n  display: flex;\n  min-height: 64px;\n  align-items: center;\n  justify-content: space-between;\n  font-size: ${fontSizes.xl}px;\n  font-weight: 400;\n  margin-bottom: 20px;\n  padding: 20px;\n  @media print {\n    display: block;\n    justify-content: flex-start;\n    page-break-after: avoid;\n    page-break-before: always;\n    page-break-inside: avoid;\n    h3 {\n      margin-right: 20px;\n    }\n  }\n`;\n\nexport const PieChartStyleFixesDiv = styled.div`\n  overflow: hidden;\n  .recharts-surface,\n  .recharts-wrapper,\n  .recharts-responsive-container {\n    height: 195px !important;\n    min-width: 190px;\n    overflow: visible;\n  }\n`;\n\nexport const GraphCardHeaderWithFilter = styled(GraphCardHeader)`\n  align-items: center;\n\n  ${media.smallerThan1280px`\n    flex-direction: column;\n    align-items: flex-start;\n    margin-top: 0px;\n  `}\n`;\n\nexport const GraphCardTitle = styled.h3`\n  display: flex;\n  align-items: center;\n  margin: 0;\n`;\n\nexport const GraphCardFigureContainer = styled.div`\n  margin-left: 10px;\n  display: flex;\n  align-items: center;\n`;\n\nexport const GraphCardFigure = styled.span`\n  margin-right: 5px;\n  font-weight: 600;\n`;\n\nexport const GraphCardFigureChange = styled.span`\n  font-size: ${fontSizes.base}px;\n\n  &.increase {\n    color: ${colors.clGreenSuccess};\n  }\n\n  &.decrease {\n    color: ${colors.clRedError};\n  }\n`;\n\nexport type IGraphUnit = 'users' | 'ideas' | 'comments' | 'votes' | 'responses';\n","import React from 'react';\nimport GetUserCustomFieldOptions, {\n  GetUserCustomFieldOptionsChildProps,\n} from '../../resources/GetUserCustomFieldOptions';\nimport { TRule } from 'modules/commercial/smart_groups/components/UserFilterConditions/rules';\nimport { IOption } from 'typings';\nimport { Select } from 'cl2-component-library';\nimport localize, { InjectedLocalized } from 'utils/localize';\nimport { isNilOrError } from 'utils/helperUtils';\n\ntype Props = {\n  rule: TRule;\n  value: string;\n  onChange: (string) => void;\n  options: GetUserCustomFieldOptionsChildProps;\n};\n\ninterface State {}\n\nclass CustomFieldOptionValueSelector extends React.PureComponent<\n  Props & InjectedLocalized,\n  State\n> {\n  generateOptions = (): IOption[] => {\n    const { options, localize } = this.props;\n\n    if (!isNilOrError(options)) {\n      return options.map((option) => ({\n        value: option.id,\n        label: localize(option.attributes.title_multiloc),\n      }));\n    } else {\n      return [];\n    }\n  };\n\n  handleOnChange = (option: IOption) => {\n    this.props.onChange(option.value);\n  };\n\n  render() {\n    const { value } = this.props;\n    return (\n      <Select\n        value={value}\n        options={this.generateOptions()}\n        onChange={this.handleOnChange}\n      />\n    );\n  }\n}\n\nconst CustomFieldOptionValueSelectorWithHOC = localize(\n  CustomFieldOptionValueSelector\n);\n\nexport default (inputProps) => (\n  <GetUserCustomFieldOptions customFieldId={inputProps.rule?.['customFieldId']}>\n    {(options) => (\n      <CustomFieldOptionValueSelectorWithHOC\n        {...inputProps}\n        options={options}\n      />\n    )}\n  </GetUserCustomFieldOptions>\n);\n","import React, { memo } from 'react';\nimport styled, { withTheme } from 'styled-components';\nimport {\n  fontSizes,\n  colors,\n  invisibleA11yText,\n  media,\n  defaultCardStyle,\n  isRtl,\n} from 'utils/styleUtils';\nimport { ScreenReaderOnly } from 'utils/a11y';\nimport { FormattedMessage, IMessageInfo } from 'utils/cl-intl';\n// tslint:disable-next-line:no-vanilla-formatted-messages\nimport {\n  Messages,\n  FormattedMessage as OriginalFormattedMessage,\n} from 'react-intl';\nimport Button from '../Button';\nimport messages from './messages';\nimport ContentContainer from 'components/ContentContainer';\n\nexport const FormSection = styled.div`\n  max-width: 620px;\n  min-width: 560px;\n  padding: 40px 40px 30px;\n  color: ${({ theme }) => theme.colorText};\n  margin-bottom: 15px;\n  ${defaultCardStyle};\n\n  ${media.smallerThanMaxTablet`\n    min-width: auto;\n  `}\n`;\n\nconst TitleContainer = styled.div`\n  margin-bottom: 30px;\n`;\n\nconst FormSectionTitleStyled = styled.h2`\n  font-size: ${fontSizes.xl}px;\n  font-weight: 600;\n  line-height: 28px;\n`;\n\nconst FormSectionDescriptionStyled = styled.p`\n  color: ${colors.text};\n  font-size: ${fontSizes.base}px;\n  font-weight: 300;\n  line-height: normal;\n`;\n\nconst StyledButton = styled(Button)`\n  margin-right: 10px;\n`;\n\ninterface FormSectionTitleProps extends IMessageInfo {\n  subtitleMessage?: Messages['key'];\n}\n\nexport const FormSectionTitle = memo(\n  ({ message, values, subtitleMessage }: FormSectionTitleProps) => (\n    <TitleContainer>\n      <FormSectionTitleStyled>\n        <FormattedMessage {...message} values={values} />\n      </FormSectionTitleStyled>\n      {subtitleMessage && (\n        <FormSectionDescriptionStyled>\n          <FormattedMessage {...subtitleMessage} />\n        </FormSectionDescriptionStyled>\n      )}\n    </TitleContainer>\n  )\n);\n\nexport const FormLabelStyled = styled.label`\n  width: 100%;\n  font-size: ${fontSizes.base}px;\n  color: ${({ theme }) => theme.colorText};\n  font-weight: 500;\n  line-height: normal;\n\n  &.invisible {\n    ${invisibleA11yText}\n  }\n\n  ${isRtl`\n    text-align: right;\n`}\n`;\n\nexport const FormSubtextStyled = styled.div`\n  width: 100%;\n  font-size: ${fontSizes.small}px;\n  color: ${colors.label};\n  font-weight: 300;\n  line-height: normal;\n  margin-top: 4px;\n  margin-bottom: 4px;\n`;\n\nexport const Spacer = styled.div`\n  height: 8px;\n`;\n\nconst OptionalText = styled.span`\n  color: ${({ theme }) => theme.colorText};\n  font-weight: 400;\n`;\n\ninterface FormLabelGenericProps {\n  id?: string;\n  htmlFor?: string;\n  children?: any;\n  hidden?: boolean;\n  className?: string;\n  noSpace?: boolean;\n  optional?: boolean;\n}\n\nexport interface FormLabelProps extends FormLabelGenericProps {\n  labelMessage: Messages['key'];\n  labelMessageValues?: OriginalFormattedMessage.Props['values'];\n  subtext?: string;\n  subtextSupportsHtml?: boolean;\n  subtextMessage?: Messages['key'];\n  subtextMessageValues?: OriginalFormattedMessage.Props['values'];\n}\n\nexport const FormLabel = memo<FormLabelProps>(\n  ({\n    labelMessage,\n    labelMessageValues,\n    subtext,\n    subtextSupportsHtml,\n    subtextMessage,\n    subtextMessageValues,\n    id,\n    htmlFor,\n    children,\n    className,\n    hidden,\n    noSpace,\n    optional,\n  }) => (\n    <FormLabelStyled\n      id={id}\n      className={[className, hidden ? 'invisible' : null]\n        .filter((item) => item)\n        .join(' ')}\n      htmlFor={htmlFor}\n    >\n      <FormattedMessage {...labelMessage} values={labelMessageValues} />\n      {optional && (\n        <OptionalText>\n          {' ('}\n          <FormattedMessage {...messages.optional} />\n          {')'}\n        </OptionalText>\n      )}\n      {subtextMessage && (\n        <FormSubtextStyled>\n          <FormattedMessage {...subtextMessage} values={subtextMessageValues} />\n        </FormSubtextStyled>\n      )}\n      {!subtextMessage && subtext && (\n        <FormSubtextStyled>\n          {subtextSupportsHtml === true ? (\n            <div dangerouslySetInnerHTML={{ __html: subtext || '' }} />\n          ) : (\n            subtext\n          )}\n        </FormSubtextStyled>\n      )}\n\n      {!noSpace && <Spacer />}\n      {children}\n    </FormLabelStyled>\n  )\n);\n\ninterface FormLabelValueProps extends FormLabelGenericProps {\n  labelValue: JSX.Element | string;\n  subtextValue?: JSX.Element;\n}\n\nexport const FormLabelValue = memo(\n  ({\n    labelValue,\n    subtextValue,\n    id,\n    htmlFor,\n    className,\n    hidden,\n    noSpace,\n    optional,\n  }: FormLabelValueProps) => (\n    <FormLabelStyled\n      id={id}\n      className={[className, hidden ? 'invisible' : null]\n        .filter((item) => item)\n        .join(' ')}\n      htmlFor={htmlFor}\n    >\n      {labelValue}\n      {optional && (\n        <OptionalText>\n          {' ('}\n          <FormattedMessage {...messages.optional} />\n          {')'}\n        </OptionalText>\n      )}\n      {subtextValue && <FormSubtextStyled>{subtextValue}</FormSubtextStyled>}\n      {!noSpace && <Spacer />}\n    </FormLabelStyled>\n  )\n);\n\ninterface FormSubmitFooterProps extends IMessageInfo {\n  disabled?: boolean;\n  processing?: boolean;\n  onSubmit: () => void;\n  theme: any;\n  className?: string;\n  error: boolean;\n  errorMessage: IMessageInfo['message'];\n}\n\nconst SubmitFooterContainer = styled.div`\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  background-color: white;\n  border-top: 1px solid #e8e8e8;\n  border-bottom: 1px solid #e8e8e8;\n  z-index: 1;\n  ${media.smallerThanMaxTablet`\n    align-items: center;\n  `}\n`;\nconst StyledContentContainer = styled(ContentContainer)`\n  ${media.smallerThanMaxTablet`\n    max-width: 620px;\n  `}\n`;\n\nconst SubmitFooterInner = styled.div`\n  width: 100%;\n  min-height: 60px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding-top: 12px;\n  padding-bottom: 12px;\n  background: #fff;\n\n  ${media.smallerThanMinTablet`\n    padding: 10px;\n  `}\n`;\n\nexport const FormSubmitFooter = withTheme(\n  memo(\n    ({\n      message,\n      values,\n      theme,\n      onSubmit,\n      className,\n      error,\n      errorMessage,\n      disabled,\n      ...otherProps\n    }: FormSubmitFooterProps) => (\n      <SubmitFooterContainer className={className}>\n        <StyledContentContainer mode=\"page\">\n          <SubmitFooterInner>\n            <StyledButton\n              fontWeight=\"500\"\n              padding=\"13px 22px\"\n              bgColor={theme.colorMain}\n              textColor=\"#FFF\"\n              type=\"submit\"\n              onClick={onSubmit}\n              className=\"e2e-submit-form\"\n              disabled={disabled}\n              ariaDisabled={disabled}\n              {...otherProps}\n            >\n              <FormattedMessage {...message} values={values} />\n            </StyledButton>\n            {error && (\n              <ErrorContainer className=\"e2e-error-form\">\n                <FormattedMessage {...errorMessage} />\n              </ErrorContainer>\n            )}\n            <ScreenReaderOnly aria-live=\"polite\">\n              {disabled ? (\n                <FormattedMessage {...messages.buttonDisabled} />\n              ) : (\n                <FormattedMessage {...messages.buttonEnabled} />\n              )}\n            </ScreenReaderOnly>\n          </SubmitFooterInner>\n        </StyledContentContainer>\n      </SubmitFooterContainer>\n    )\n  )\n);\n\nconst ErrorContainer = styled.div`\n  color: ${colors.clRedError};\n`;\n\nexport const FormError = memo(({ message }: IMessageInfo) => (\n  <ErrorContainer className=\"e2e-error-form\">\n    <FormattedMessage {...message} />\n  </ErrorContainer>\n));\n","// Libraries\nimport React from 'react';\nimport { range, forOwn, get } from 'lodash-es';\nimport moment from 'moment';\n\n// i18n\nimport { injectIntl } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\nimport messages from 'containers/Admin/dashboard/messages';\n\n// services\nimport {\n  IUsersByBirthyear,\n  usersByBirthyearStream,\n  usersByBirthyearXlsxEndpoint,\n} from 'modules/commercial/user_custom_fields/services/stats';\n\n// components\nimport BarChartByCategory from 'containers/Admin/dashboard/users/charts/BarChartByCategory';\n\n// utils\nimport { isNilOrError } from 'utils/helperUtils';\n\ninterface Props {\n  startAt: string | null | undefined;\n  endAt: string | null;\n  currentGroupFilter: string | undefined;\n  currentGroupFilterLabel: string | undefined;\n  className?: string;\n}\n\nconst AgeChart = (props: Props & InjectedIntlProps) => {\n  const convertToGraphFormat = (data: IUsersByBirthyear) => {\n    const currentYear = moment().year();\n\n    if (!isNilOrError(data)) {\n      return [\n        ...range(0, 100, 10).map((minAge) => {\n          let numberOfUsers = 0;\n          const maxAge = minAge + 9;\n\n          forOwn(data.series.users, (userCount, birthYear) => {\n            const age = currentYear - parseInt(birthYear, 10);\n\n            if (age >= minAge && age <= maxAge) {\n              numberOfUsers += userCount;\n            }\n          });\n\n          return {\n            name: `${minAge} - ${maxAge}`,\n            value: numberOfUsers,\n            code: `${minAge}`,\n          };\n        }),\n        {\n          name: props.intl.formatMessage(messages._blank),\n          value: get(data.series.users, '_blank', 0),\n          code: '',\n        },\n      ];\n    }\n\n    return null;\n  };\n\n  return (\n    <BarChartByCategory\n      {...props}\n      graphTitleString={props.intl.formatMessage(messages.usersByAgeTitle)}\n      graphUnit=\"users\"\n      stream={usersByBirthyearStream}\n      xlsxEndpoint={usersByBirthyearXlsxEndpoint}\n      convertToGraphFormat={convertToGraphFormat}\n    />\n  );\n};\n\nexport default injectIntl<Props>(AgeChart);\n","import React from 'react';\nimport { IProjectFolderModerationRightsReceivedNotificationData } from 'services/notifications';\nimport NotificationWrapper from 'containers/Navbar/components/NotificationMenu/components/NotificationWrapper';\nimport messages from './messages';\n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport T from 'components/T';\n\ninterface Props {\n  notification: IProjectFolderModerationRightsReceivedNotificationData;\n}\n\nconst ProjectFolderModerationRightsReceivedNotification = ({\n  notification,\n}: Props) => {\n  return (\n    <NotificationWrapper\n      linkTo={`/admin/projects/folders/${notification.attributes.project_folder_id}`}\n      timing={notification.attributes.created_at}\n      icon=\"folder\"\n      isRead={!!notification.attributes.read_at}\n    >\n      <FormattedMessage\n        {...messages.youveReceivedFolderAdminRights}\n        values={{\n          folderName: (\n            <strong>\n              <T\n                value={notification.attributes.project_folder_title_multiloc}\n              />\n            </strong>\n          ),\n        }}\n      />\n    </NotificationWrapper>\n  );\n};\n\nexport default ProjectFolderModerationRightsReceivedNotification;\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  takenFormError: {\n    id: 'app.modules.id_id_card_lookup.takenFormError',\n    defaultMessage: 'Already taken.',\n  },\n  emptyFieldError: {\n    id: 'app.modules.id_id_card_lookup.emptyFieldError',\n    defaultMessage: 'This field cannot be empty.',\n  },\n  noMatchFormError: {\n    id: 'app.modules.id_id_card_lookup.noMatchFormError',\n    defaultMessage: 'No match was found.',\n  },\n  somethingWentWrongError: {\n    id: 'app.modules.id_id_card_lookup.somethingWentWrongError',\n    defaultMessage: \"We can't verify you because something went wrong\",\n  },\n  invalidCardIdError: {\n    id: 'app.modules.id_id_card_lookup.invalidCardIdError',\n    defaultMessage: 'This id is not valid.',\n  },\n  verifyYourIdentity: {\n    id: 'app.modules.id_id_card_lookup.verifyYourIdentity',\n    defaultMessage: 'Verify your identity',\n  },\n  showHelp: {\n    id: 'app.modules.id_id_card_lookup.showHelp',\n    defaultMessage: 'Where can I find my ID Serial Number?',\n  },\n  submit: {\n    id: 'app.modules.id_id_card_lookup.submit',\n    defaultMessage: 'Submit',\n  },\n  cancel: {\n    id: 'app.modules.id_id_card_lookup.cancel',\n    defaultMessage: 'Cancel',\n  },\n});\n","import React, { memo, useCallback, useState, useEffect } from 'react';\nimport * as clipboard from 'clipboard-polyfill';\n\n// hooks\nimport useLocalize from 'hooks/useLocalize';\nimport useGraphqlTenantLocales from 'hooks/useGraphqlTenantLocales';\n\n// graphql\nimport { gql, useQuery } from '@apollo/client';\nimport { client } from '../utils/apolloUtils';\n\n// components\nimport Button from 'components/UI/Button';\nimport { Icon, Spinner } from 'cl2-component-library';\nimport QuillEditedContent from 'components/UI/QuillEditedContent';\nimport T from 'components/T';\n\n// i18n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from './messages';\n\n// analytics\nimport { trackEventByName } from 'utils/analytics';\nimport tracks from '../tracks';\n\n// style\nimport styled from 'styled-components';\nimport { colors, fontSizes, media } from 'utils/styleUtils';\nimport { lighten } from 'polished';\n\nconst Container = styled.div`\n  width: 100%;\n  max-width: 1050px;\n  padding: 65px;\n  background: #fff;\n  border-radius: ${({ theme }) => theme.borderRadius};\n  border: solid 1px #e0e0e0;\n\n  ${media.smallerThanMinTablet`\n    padding: 30px;\n  `}\n`;\n\nconst SpinnerWrapper = styled.div`\n  width: 100%;\n  height: 500px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst Header = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 60px;\n\n  ${media.smallerThanMinTablet`\n    flex-direction: column;\n    align-items: stretch;\n  `}\n`;\n\nconst HeaderLeft = styled.div``;\n\nconst HeaderRight = styled.div`\n  display: flex;\n  align-items: center;\n\n  ${media.biggerThanMinTablet`\n    margin-left: 30px;\n  `}\n`;\n\nconst Title = styled.h1`\n  color: ${colors.adminTextColor};\n  font-size: ${fontSizes.xxl}px;\n  font-weight: 600;\n  line-height: normal;\n  padding: 0;\n  margin: 0;\n  margin-bottom: 10px;\n\n  ${media.smallerThanMinTablet`\n    margin-bottom: 5px;\n  `}\n`;\n\nconst Subtitle = styled.h2`\n  color: ${colors.adminTextColor};\n  font-size: ${fontSizes.base}px;\n  font-weight: 400;\n  line-height: normal;\n  padding: 0;\n  margin-top: 0;\n  margin-bottom: 5px;\n\n  ${media.smallerThanMinTablet`\n    padding-bottom: 35px;\n  `}\n`;\n\nconst LinkCopied = styled.div`\n  color: ${colors.clGreenSuccess};\n  display: flex;\n  align-items: center;\n  opacity: 0;\n  transition: all 150ms ease-out;\n\n  &.visible {\n    opacity: 1;\n  }\n\n  ${media.smallerThanMinTablet`\n    order: 2;\n  `}\n`;\n\nconst LinkCopiedIcon = styled(Icon)`\n  fill: ${colors.clGreenSuccess};\n  height: 13px;\n  margin-right: 3px;\n`;\n\nconst CopyLinkButton = styled(Button)`\n  margin-left: 20px;\n\n  ${media.smallerThanMinTablet`\n    order: 1;\n    margin-left: 0px;\n    margin-right: 20px;\n  `}\n`;\n\nconst MetaInfo = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 30px;\n`;\n\nconst MetaInfoLeft = styled.div`\n  display: flex;\n  align-items: center;\n  flex-wrap: wrap;\n`;\n\nconst Department = styled.div`\n  color: ${colors.adminTextColor};\n  font-size: ${fontSizes.small}px;\n  font-weight: 400;\n  line-height: normal;\n  white-space: nowrap;\n  padding: 6px 12px;\n  border-radius: ${({ theme }) => theme.borderRadius};\n  border: solid 1px ${colors.separation};\n  margin-right: 5px;\n  margin-bottom: 5px;\n`;\n\nconst MetaInfoRight = styled.div`\n  display: flex;\n  align-items: center;\n  margin-left: 30px;\n`;\n\nconst MetaInfoRightBox = styled.div`\n  color: ${colors.label};\n  font-size: ${fontSizes.small}px;\n  font-weight: 400;\n  line-height: normal;\n  display: flex;\n  align-items: center;\n  margin-right: 30px;\n\n  &.last {\n    margin-right: 0px;\n  }\n`;\n\nconst MetaInfoRightBoxIcon = styled(Icon)`\n  flex: 0 0 24px;\n  fill: ${colors.label};\n  width: 24px;\n  height: 24px;\n  margin-right: 7px;\n`;\n\nconst MetaInfoRightBoxText = styled.span``;\n\nconst Content = styled.div`\n  margin-bottom: 40px;\n`;\n\nconst Phases = styled.div`\n  width: 100%;\n  padding-top: 20px;\n  padding-bottom: 60px;\n  margin: 0;\n  margin-left: auto;\n  margin-right: auto;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n`;\n\nconst PhaseBar = styled.button`\n  width: 100%;\n  height: 24px;\n  color: #fff;\n  font-size: ${fontSizes.small}px;\n  font-weight: 400;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: ${lighten(0.15, colors.label)};\n  transition: background 60ms ease-out;\n  position: relative;\n  border: none;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n`;\n\nconst PhaseArrow = styled(Icon)`\n  width: 20px;\n  height: 25px;\n  fill: #fff;\n  position: absolute;\n  top: 0px;\n  right: -9px;\n  z-index: 2;\n\n  ${media.smallerThanMaxTablet`\n    fill: ${colors.background};\n  `}\n`;\n\nconst PhaseText = styled.div`\n  color: ${colors.label};\n  font-size: ${fontSizes.base}px;\n  font-weight: 400;\n  text-align: center;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 3;\n  line-height: 20px;\n  max-height: 60px;\n  margin-top: 12px;\n  padding-left: 6px;\n  padding-right: 6px;\n  transition: color 60ms ease-out;\n`;\n\nconst PhaseContainer = styled.div`\n  min-width: 80px;\n  flex-shrink: 1;\n  flex-grow: 10;\n  flex-basis: auto;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n\n  &.first ${PhaseBar} {\n    border-radius: ${(props: any) => props.theme.borderRadius} 0px 0px\n      ${(props: any) => props.theme.borderRadius};\n  }\n\n  &.last ${PhaseBar} {\n    border-radius: 0px ${(props: any) => props.theme.borderRadius}\n      ${(props: any) => props.theme.borderRadius} 0px;\n  }\n`;\n\nconst HeaderImage = styled.div<{ src: string }>`\n  width: 100%;\n  height: 260px;\n  background-repeat: no-repeat;\n  background-position: center center;\n  background-size: cover;\n  background-image: url(${({ src }) => src});\n  border-radius: ${({ theme }) => theme.borderRadius};\n  overflow: hidden;\n  margin-bottom: 20px;\n`;\n\nconst Footer = styled.div``;\n\nconst SuccessCasesTitle = styled.div`\n  width: 100%;\n  color: ${colors.adminTextColor};\n  font-size: ${fontSizes.base}px;\n  font-weight: 500;\n  line-height: normal;\n  margin-bottom: 20px;\n`;\n\nconst SuccessCases = styled.div``;\n\nconst SuccessCase = styled.a`\n  padding: 12px 20px;\n  margin-right: 8px;\n  background: #fff;\n  border-radius: ${({ theme }) => theme.borderRadius};\n  border: solid 1px ${colors.separation};\n  transition: all 80ms ease-out;\n\n  &:hover {\n    border-color: #999;\n  }\n`;\n\nconst SuccessCaseImage = styled.img`\n  height: 26px;\n`;\n\nexport interface Props {\n  projectTemplateId: string;\n  className?: string;\n}\n\nconst ProjectTemplatePreview = memo<Props>(\n  ({ projectTemplateId, className }) => {\n    const localize = useLocalize();\n    const graphqlTenantLocales = useGraphqlTenantLocales();\n\n    const [linkCopied, setLinkCopied] = useState(false);\n\n    const TEMPLATE_QUERY = gql`\n    {\n      projectTemplate(id: \"${projectTemplateId}\"){\n        id\n        headerImage\n        departments {\n          id\n          titleMultiloc {\n            ${graphqlTenantLocales}\n          }\n        }\n        participationLevels {\n          id\n          titleMultiloc {\n            ${graphqlTenantLocales}\n          }\n        }\n        phases {\n          ${graphqlTenantLocales}\n        }\n        purposes {\n          id\n          titleMultiloc {\n            ${graphqlTenantLocales}\n          }\n        }\n        titleMultiloc {\n          ${graphqlTenantLocales}\n        }\n        subtitleMultiloc {\n          ${graphqlTenantLocales}\n        }\n        descriptionMultilocs {\n          content\n          locale\n        }\n        successCases {\n          id\n          href\n          image\n        }\n      }\n    }\n  `;\n\n    const { loading, data } = useQuery(TEMPLATE_QUERY, { client });\n\n    const copyLink = useCallback(() => {\n      clipboard.writeText(\n        `${window.location.origin}/templates/${projectTemplateId}`\n      );\n      setLinkCopied(true);\n      trackEventByName(tracks.linkCopied, { projectTemplateId });\n    }, [projectTemplateId]);\n\n    useEffect(() => {\n      if (linkCopied) {\n        setTimeout(() => setLinkCopied(false), 2000);\n      }\n    }, [linkCopied]);\n\n    return (\n      <Container className={className}>\n        {loading && (\n          <SpinnerWrapper>\n            <Spinner />\n          </SpinnerWrapper>\n        )}\n\n        {!loading && data && (\n          <>\n            <Header>\n              <HeaderLeft>\n                <Title>\n                  <T value={data.projectTemplate.titleMultiloc} />\n                </Title>\n                <Subtitle>\n                  <T value={data.projectTemplate.subtitleMultiloc} />\n                </Subtitle>\n              </HeaderLeft>\n\n              <HeaderRight>\n                <LinkCopied className={linkCopied ? 'visible' : 'hidden'}>\n                  <LinkCopiedIcon name=\"checkmark\" />\n                  <FormattedMessage {...messages.copied} />\n                </LinkCopied>\n                <CopyLinkButton\n                  onClick={copyLink}\n                  icon=\"link\"\n                  buttonStyle=\"secondary\"\n                >\n                  <FormattedMessage {...messages.copyLink} />\n                </CopyLinkButton>\n              </HeaderRight>\n            </Header>\n\n            <MetaInfo>\n              <MetaInfoLeft>\n                {data.projectTemplate.departments &&\n                  data.projectTemplate.departments.map((department) => (\n                    <Department key={department.id}>\n                      <T value={department.titleMultiloc} />\n                    </Department>\n                  ))}\n              </MetaInfoLeft>\n              <MetaInfoRight>\n                {data.projectTemplate.purposes &&\n                  data.projectTemplate.purposes.length > 0 && (\n                    <MetaInfoRightBox>\n                      <MetaInfoRightBoxIcon name=\"purpose\" />\n                      <MetaInfoRightBoxText>\n                        {data.projectTemplate.purposes\n                          .map((purpose) => localize(purpose.titleMultiloc))\n                          .join(', ')}\n                      </MetaInfoRightBoxText>\n                    </MetaInfoRightBox>\n                  )}\n                {data.projectTemplate.participationLevels &&\n                  data.projectTemplate.participationLevels.length > 0 && (\n                    <MetaInfoRightBox className=\"last\">\n                      <MetaInfoRightBoxIcon name=\"participationLevel\" />\n                      <MetaInfoRightBoxText>\n                        {data.projectTemplate.participationLevels\n                          .map((participationLevel) =>\n                            localize(participationLevel.titleMultiloc)\n                          )\n                          .join(', ')}\n                      </MetaInfoRightBoxText>\n                    </MetaInfoRightBox>\n                  )}\n              </MetaInfoRight>\n            </MetaInfo>\n\n            <Content>\n              {data.projectTemplate.headerImage && (\n                <HeaderImage src={data.projectTemplate.headerImage} />\n              )}\n\n              <QuillEditedContent textColor={colors.adminTextColor}>\n                <div\n                  dangerouslySetInnerHTML={{\n                    __html: localize(data.projectTemplate.descriptionMultilocs),\n                  }}\n                />\n              </QuillEditedContent>\n            </Content>\n\n            {data.projectTemplate.phases &&\n              data.projectTemplate.phases.length > 0 && (\n                <Phases>\n                  {data.projectTemplate.phases.map((phase, index) => (\n                    <PhaseContainer\n                      key={index}\n                      className={`${index === 0 ? 'first' : ''} ${\n                        index === data.projectTemplate.phases.length - 1\n                          ? 'last'\n                          : ''\n                      }`}\n                    >\n                      <PhaseBar>\n                        {index + 1}\n                        <PhaseArrow name=\"phase_arrow\" />\n                      </PhaseBar>\n                      <PhaseText>\n                        <T value={phase} />\n                      </PhaseText>\n                    </PhaseContainer>\n                  ))}\n                </Phases>\n              )}\n\n            {data.projectTemplate.successCases &&\n              data.projectTemplate.successCases.length > 0 && (\n                <Footer>\n                  <SuccessCasesTitle>\n                    <FormattedMessage {...messages.alsoUsedIn} />\n                  </SuccessCasesTitle>\n                  <SuccessCases>\n                    {data.projectTemplate.successCases.map((successCase) => (\n                      <SuccessCase\n                        key={successCase.id}\n                        href={successCase.href}\n                        target=\"_blank\"\n                      >\n                        <SuccessCaseImage src={successCase.image} />\n                      </SuccessCase>\n                    ))}\n                  </SuccessCases>\n                </Footer>\n              )}\n          </>\n        )}\n      </Container>\n    );\n  }\n);\n\nexport default ProjectTemplatePreview;\n","// components\nimport InputMultilocWithLocaleSwitcher from 'components/UI/InputMultilocWithLocaleSwitcher';\nimport { Input } from 'cl2-component-library';\nimport MultipleSelect from 'components/UI/MultipleSelect';\nimport FileUploader from 'components/UI/FileUploader';\nimport { SectionField } from 'components/admin/Section';\nimport Warning from 'components/UI/Warning';\n\n// styling\nimport styled from 'styled-components';\nimport { fontSizes } from 'utils/styleUtils';\n\n// other\nimport { timeout } from '..';\n\nexport const StyledForm = styled.form`\n  width: 500px;\n`;\n\nexport const StyledInputMultiloc = styled(InputMultilocWithLocaleSwitcher)`\n  width: 497px;\n`;\n\nexport const ProjectType = styled.div`\n  font-size: ${fontSizes.base}px;\n  line-height: 20px;\n  font-weight: 400;\n\n  &:first-letter {\n    text-transform: uppercase;\n  }\n`;\n\nexport const StyledSectionField = styled(SectionField)`\n  max-width: 100%;\n  margin-bottom: 40px;\n`;\n\nexport const ParticipationContextWrapper = styled.div`\n  width: 497px;\n  position: relative;\n  padding: 30px;\n  padding-bottom: 15px;\n  margin-top: 8px;\n  display: inline-block;\n  border-radius: ${(props: any) => props.theme.borderRadius};\n  border: solid 1px #ddd;\n  background: #fff;\n  transition: opacity ${timeout}ms cubic-bezier(0.165, 0.84, 0.44, 1);\n\n  ::before,\n  ::after {\n    content: '';\n    display: block;\n    position: absolute;\n    width: 0;\n    height: 0;\n    border-style: solid;\n  }\n\n  ::after {\n    top: -20px;\n    left: 25px;\n    border-color: transparent transparent #fff transparent;\n    border-width: 10px;\n  }\n\n  ::before {\n    top: -22px;\n    left: 24px;\n    border-color: transparent transparent #ddd transparent;\n    border-width: 11px;\n  }\n\n  &.participationcontext-enter {\n    opacity: 0;\n\n    &.participationcontext-enter-active {\n      opacity: 1;\n    }\n  }\n\n  &.participationcontext-exit {\n    opacity: 1;\n\n    &.participationcontext-exit-active {\n      opacity: 0;\n    }\n  }\n`;\n\nexport const StyledFileUploader = styled(FileUploader)`\n  width: 500px;\n`;\n\nexport const StyledMultipleSelect = styled(MultipleSelect)`\n  width: 500px;\n`;\n\nexport const StyledWarning = styled(Warning)`\n  margin-bottom: 15px;\n`;\n\nexport const StyledInput = styled(Input)`\n  margin-bottom: 20px;\n`;\n\nexport const SlugPreview = styled.div`\n  margin-bottom: 20px;\n  font-size: ${fontSizes.base}px;\n`;\n","import React from 'react';\nimport { Subscription } from 'rxjs';\nimport { notificationsStream, TNotificationData } from 'services/notifications';\n\ntype State = {\n  list: TNotificationData[] | null | undefined;\n  hasMore: boolean;\n};\n\nexport interface InputProps {}\n\ntype children = (renderProps: GetNotificationsChildProps) => JSX.Element | null;\n\ninterface Props extends InputProps {\n  children?: children;\n}\n\nexport type GetNotificationsChildProps = State & {\n  onLoadMore: () => void;\n};\n\nexport default class GetNotifications extends React.Component<Props, State> {\n  subscriptions: Subscription[];\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      list: undefined,\n      hasMore: true,\n    };\n    this.subscriptions = [];\n  }\n\n  loadNextPage = (page = 1) => {\n    const notifications$ = notificationsStream({\n      queryParameters: {\n        'page[size]': 8,\n        'page[number]': page,\n      },\n    }).observable;\n\n    this.subscriptions.push(\n      notifications$.subscribe((response) => {\n        const list = this.state.list\n          ? this.state.list.concat(response.data)\n          : response.data;\n        const hasMore = !!response.links.next;\n        this.setState({ list, hasMore });\n      })\n    );\n  };\n\n  componentWillUnmount() {\n    this.subscriptions.forEach((subscription) => subscription.unsubscribe());\n  }\n\n  render() {\n    const { children } = this.props;\n    return (children as children)({\n      ...this.state,\n      onLoadMore: this.loadNextPage,\n    });\n  }\n}\n","import Loadable from 'react-loadable';\nimport { LoadableLoadingAdmin } from 'components/UI/LoadableLoading';\n\nexport default () => ({\n  path: 'users',\n  name: 'admin users',\n  component: Loadable({\n    loader: () => import('containers/Admin/users'),\n    loading: LoadableLoadingAdmin,\n    delay: 500,\n  }),\n  indexRoute: {\n    component: Loadable({\n      loader: () => import('containers/Admin/users/AllUsers'),\n      loading: () => null,\n    }),\n  },\n  childRoutes: [\n    {\n      path: '/:locale/admin/users/:groupId',\n      component: Loadable({\n        loader: () => import('containers/Admin/users/UsersGroup'),\n        loading: () => null,\n      }),\n    },\n  ],\n});\n","import React, { PureComponent } from 'react';\nimport { Subscription, combineLatest, of } from 'rxjs';\nimport { map, switchMap } from 'rxjs/operators';\nimport { forOwn, get, size, has, trim, isEmpty, omitBy } from 'lodash-es';\n\n// components\nimport { Label, IconTooltip, ColorPickerInput } from 'cl2-component-library';\nimport ImagesDropzone from 'components/UI/ImagesDropzone';\nimport InputMultilocWithLocaleSwitcher from 'components/UI/InputMultilocWithLocaleSwitcher';\nimport {\n  Section,\n  SectionTitle,\n  SectionField,\n  SectionDescription,\n  SubSectionTitle,\n} from 'components/admin/Section';\nimport SubmitWrapper from 'components/admin/SubmitWrapper';\nimport Warning from 'components/UI/Warning';\nimport QuillMultilocWithLocaleSwitcher from 'components/UI/QuillEditor/QuillMultilocWithLocaleSwitcher';\nimport ErrorMessage from 'components/UI/Error';\nimport {\n  Setting,\n  StyledToggle,\n  ToggleLabel,\n  LabelContent,\n  LabelTitle,\n  LabelDescription,\n} from '../general';\n\n// resources\nimport GetPage, { GetPageChildProps } from 'resources/GetPage';\n\n// style\nimport styled, { withTheme } from 'styled-components';\n\n// utils\nimport { convertUrlToUploadFileObservable } from 'utils/fileTools';\nimport getSubmitState from 'utils/getSubmitState';\nimport { calculateContrastRatio, hexToRgb } from 'utils/styleUtils';\nimport { isNilOrError } from 'utils/helperUtils';\n\n// i18n\nimport { InjectedIntlProps } from 'react-intl';\nimport { FormattedMessage, injectIntl } from 'utils/cl-intl';\nimport messages from '../messages';\n\n// services\nimport { localeStream } from 'services/locale';\nimport {\n  currentAppConfigurationStream,\n  updateAppConfiguration,\n  IUpdatedAppConfigurationProperties,\n  IAppConfiguration,\n  IAppConfigurationSettings,\n} from 'services/appConfiguration';\nimport { updatePage } from 'services/pages';\n\n// typings\nimport { CLError, UploadFile, Locale, Multiloc } from 'typings';\n\nimport { isCLErrorJSON } from 'utils/errorUtils';\nimport Outlet from 'components/Outlet';\n\nexport const ColorPickerSectionField = styled(SectionField)``;\n\nconst ContrastWarning = styled(Warning)`\n  margin-top: 10px;\n`;\n\nexport const WideSectionField = styled(SectionField)`\n  max-width: calc(${(props) => props.theme.maxPageWidth}px - 100px);\n`;\n\nconst LabelTooltip = styled.div`\n  display: flex;\n  margin-right: 20px;\n`;\n\ninterface DataProps {\n  homepageInfoPage: GetPageChildProps;\n}\n\ninterface Props extends DataProps {\n  lang: string;\n  theme: any;\n}\n\ninterface IAttributesDiff {\n  settings?: Partial<IAppConfigurationSettings>;\n  homepage_info?: Multiloc;\n  logo?: UploadFile;\n  header_bg?: UploadFile;\n}\n\ninterface State {\n  locale: Locale | null;\n  attributesDiff: IAttributesDiff;\n  tenant: IAppConfiguration | null;\n  logo: UploadFile[] | null;\n  header_bg: UploadFile[] | null;\n  colorPickerOpened: boolean;\n  loading: boolean;\n  errors: { [fieldName: string]: CLError[] };\n  saved: boolean;\n  logoError: string | null;\n  headerError: string | null;\n  titleError: Multiloc;\n  settings: Partial<IAppConfigurationSettings>;\n  subtitleError: Multiloc;\n  contrastRatioWarning: {\n    color_main: boolean;\n    color_secondary: boolean;\n    color_text: boolean;\n  };\n  contrastRatio: {\n    color_main: number | null;\n    color_secondary: number | null;\n    color_text: number | null;\n  };\n}\n\ntype TenantColors = 'color_main' | 'color_secondary' | 'color_text';\n\nclass SettingsCustomizeTab extends PureComponent<\n  Props & InjectedIntlProps,\n  State\n> {\n  titleMaxCharCount: number;\n  subtitleMaxCharCount: number;\n  subscriptions: Subscription[];\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      locale: null,\n      attributesDiff: {},\n      tenant: null,\n      logo: null,\n      header_bg: null,\n      colorPickerOpened: false,\n      loading: false,\n      errors: {},\n      saved: false,\n      logoError: null,\n      headerError: null,\n      titleError: {},\n      subtitleError: {},\n      settings: {},\n      contrastRatioWarning: {\n        color_main: false,\n        color_secondary: false,\n        color_text: false,\n      },\n      contrastRatio: {\n        color_main: null,\n        color_secondary: null,\n        color_text: null,\n      },\n    };\n    this.titleMaxCharCount = 45;\n    this.subtitleMaxCharCount = 90;\n    this.subscriptions = [];\n  }\n\n  componentDidMount() {\n    const locale$ = localeStream().observable;\n    const tenant$ = currentAppConfigurationStream().observable;\n\n    this.subscriptions = [\n      combineLatest(locale$, tenant$)\n        .pipe(\n          switchMap(([locale, tenant]) => {\n            const logoUrl = get(tenant, 'data.attributes.logo.large', null);\n            const headerUrl = get(\n              tenant,\n              'data.attributes.header_bg.large',\n              null\n            );\n            const settings = get(tenant, 'data.attributes.settings', {});\n\n            const logo$ = logoUrl\n              ? convertUrlToUploadFileObservable(logoUrl, null, null)\n              : of(null);\n            const headerBg$ = headerUrl\n              ? convertUrlToUploadFileObservable(headerUrl, null, null)\n              : of(null);\n\n            return combineLatest(logo$, headerBg$).pipe(\n              map(([tenantLogo, tenantHeaderBg]) => ({\n                locale,\n                tenant,\n                tenantLogo,\n                tenantHeaderBg,\n                settings,\n              }))\n            );\n          })\n        )\n        .subscribe(\n          ({ locale, tenant, tenantLogo, tenantHeaderBg, settings }) => {\n            const logo = !isNilOrError(tenantLogo) ? [tenantLogo] : [];\n            const header_bg = !isNilOrError(tenantHeaderBg)\n              ? [tenantHeaderBg]\n              : [];\n            this.setState({ locale, tenant, logo, header_bg, settings });\n          }\n        ),\n    ];\n  }\n\n  componentWillUnmount() {\n    this.subscriptions.forEach((subsription) => subsription.unsubscribe());\n  }\n\n  handleUploadOnAdd = (name: 'logo' | 'header_bg' | 'favicon') => (\n    newImage: UploadFile[]\n  ) => {\n    this.setState((state) => ({\n      ...state,\n      logoError: name === 'logo' ? null : state.logoError,\n      headerError: name === 'header_bg' ? null : state.headerError,\n      [name]: [newImage[0]],\n      attributesDiff: {\n        ...(state.attributesDiff || {}),\n        [name]: newImage[0].base64,\n      },\n    }));\n  };\n\n  handleUploadOnRemove = (name: 'logo' | 'header_bg') => () => {\n    this.setState((state) => ({\n      ...state,\n      logoError: name === 'logo' ? null : state.logoError,\n      headerError: name === 'header_bg' ? null : state.headerError,\n      [name]: null,\n      attributesDiff: {\n        ...(state.attributesDiff || {}),\n        [name]: null,\n      },\n    }));\n  };\n\n  handleTitleOnChange = (titleMultiloc: Multiloc) => {\n    const { formatMessage } = this.props.intl;\n    const titleError = {} as Multiloc;\n\n    forOwn(titleMultiloc, (title, locale) => {\n      if (size(trim(title)) > 45) {\n        titleError[locale] = formatMessage(messages.titleMaxCharError);\n      }\n    });\n\n    this.handleCoreMultilocSettingOnChange('header_title')(titleMultiloc);\n    this.setState((prevState) => ({\n      ...prevState,\n      titleError,\n    }));\n  };\n\n  handleSubtitleOnChange = (subtitleMultiloc: Multiloc) => {\n    const { formatMessage } = this.props.intl;\n    const subtitleError = {} as Multiloc;\n\n    forOwn(subtitleMultiloc, (subtitle, locale) => {\n      if (size(trim(subtitle)) > 90) {\n        subtitleError[locale] = formatMessage(messages.subtitleMaxCharError);\n      }\n    });\n\n    this.handleCoreMultilocSettingOnChange('header_slogan')(subtitleMultiloc);\n    this.setState((prevState) => ({\n      ...prevState,\n      subtitleError,\n    }));\n  };\n\n  handleColorPickerOnChange = (colorName: TenantColors) => (\n    hexColor: string\n  ) => {\n    this.setState((state) => {\n      let contrastRatio: number | null = null;\n      const rgbColor = hexToRgb(hexColor);\n\n      if (rgbColor) {\n        const { r, g, b } = rgbColor;\n        contrastRatio = calculateContrastRatio([255, 255, 255], [r, g, b]);\n      }\n\n      return {\n        contrastRatioWarning: {\n          ...state.contrastRatioWarning,\n          [colorName]: contrastRatio && contrastRatio < 4.5 ? true : false,\n        },\n        contrastRatio: {\n          ...state.contrastRatio,\n          [colorName]: contrastRatio,\n        },\n        attributesDiff: {\n          ...state.attributesDiff,\n          settings: {\n            ...get(state.attributesDiff, 'settings', {}),\n            core: {\n              ...get(state.attributesDiff, 'settings.core', {}),\n              [colorName]: hexColor,\n            },\n          },\n        },\n      };\n    });\n  };\n\n  handleAppConfigurationStyleChange = (key: string) => (value: unknown) => {\n    this.setState((state) => {\n      return {\n        attributesDiff: {\n          ...state.attributesDiff,\n          style: {\n            ...get(state.attributesDiff, 'style', {}),\n            [key]: value,\n          },\n        },\n      };\n    });\n  };\n\n  validate = (tenant: IAppConfiguration, attributesDiff: IAttributesDiff) => {\n    const { formatMessage } = this.props.intl;\n    const hasRemoteLogo = has(tenant, 'data.attributes.logo.large');\n    const localLogoIsNotSet = !has(attributesDiff, 'logo');\n    const localLogoIsNull = !localLogoIsNotSet && attributesDiff.logo === null;\n    const logoError =\n      !localLogoIsNull || (hasRemoteLogo && localLogoIsNotSet)\n        ? null\n        : formatMessage(messages.noLogo);\n    const hasRemoteHeader = has(tenant, 'data.attributes.header_bg.large');\n    const localHeaderIsNotSet = !has(attributesDiff, 'header_bg');\n    const localHeaderIsNull =\n      !localHeaderIsNotSet && attributesDiff.header_bg === null;\n    const headerError =\n      !localHeaderIsNull || (hasRemoteHeader && localHeaderIsNotSet)\n        ? null\n        : formatMessage(messages.noHeader);\n    const hasTitleError = !isEmpty(omitBy(this.state.titleError, isEmpty));\n    const hasSubtitleError = !isEmpty(\n      omitBy(this.state.subtitleError, isEmpty)\n    );\n\n    this.setState({ logoError, headerError });\n\n    return !logoError && !headerError && !hasTitleError && !hasSubtitleError;\n  };\n\n  save = async (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n\n    const { tenant, attributesDiff } = this.state;\n    const { homepageInfoPage } = this.props;\n\n    if (tenant && this.validate(tenant, attributesDiff)) {\n      this.setState({ loading: true, saved: false });\n      const homepageInfoPageMultiloc = attributesDiff.homepage_info;\n\n      try {\n        await updateAppConfiguration(\n          attributesDiff as IUpdatedAppConfigurationProperties\n        );\n\n        if (!isNilOrError(homepageInfoPage)) {\n          const homepageInfoPageId = homepageInfoPage.id;\n\n          if (attributesDiff.homepage_info) {\n            await updatePage(homepageInfoPageId, {\n              body_multiloc: homepageInfoPageMultiloc,\n            });\n          }\n        }\n        this.setState({ loading: false, saved: true, attributesDiff: {} });\n      } catch (error) {\n        if (isCLErrorJSON(error)) {\n          this.setState({ loading: false, errors: error.json.errors });\n        } else {\n          this.setState({ loading: false, errors: error });\n        }\n      }\n    }\n  };\n\n  getSetting = (setting: string) => {\n    return (\n      get(this.state.attributesDiff, `settings.${setting}`) ??\n      get(this.state.tenant, `data.attributes.settings.${setting}`)\n    );\n  };\n\n  handleColorPickerOnClick = () => {\n    this.setState({ colorPickerOpened: true });\n  };\n\n  handleColorPickerOnClose = () => {\n    this.setState({ colorPickerOpened: false });\n  };\n\n  handleCustomSectionMultilocOnChange = (\n    homepageInfoPageMultiloc: Multiloc\n  ) => {\n    this.setState((state) => ({\n      attributesDiff: {\n        ...(state.attributesDiff || {}),\n        homepage_info: homepageInfoPageMultiloc,\n      },\n    }));\n  };\n\n  handleCoreMultilocSettingOnChange = (propertyName: string) => (\n    multiloc: Multiloc\n  ) => {\n    this.setState((state) => {\n      return {\n        attributesDiff: {\n          ...state.attributesDiff,\n          settings: {\n            ...state.settings,\n            ...get(state.attributesDiff, 'settings', {}),\n            core: {\n              ...get(state.settings, 'core', {}),\n              ...get(state.attributesDiff, 'settings.core', {}),\n              [propertyName]: multiloc,\n            },\n          },\n        },\n      };\n    });\n  };\n\n  /*\n  Below values are intentionally defined outside of render() for better performance\n  because references stay the same this way, e.g. onClick={this.handleLogoOnAdd} vs onClick={this.handleUploadOnAdd('logo')},\n  and therefore do not trigger unneeded rerenders which would otherwise noticably slow down text input in the form\n  */\n  handleLogoOnAdd = this.handleUploadOnAdd('logo');\n  handleHeaderBgOnAdd = this.handleUploadOnAdd('header_bg');\n  handleLogoOnRemove = this.handleUploadOnRemove('logo');\n  handleHeaderBgOnRemove = this.handleUploadOnRemove('header_bg');\n\n  handleToggleEventsPage = () => {\n    const { tenant } = this.state;\n    if (!tenant?.data.attributes.settings.events_page) return;\n\n    const previousValue = this.getSetting('events_page.enabled');\n\n    this.setState((state) => {\n      return {\n        attributesDiff: {\n          ...state.attributesDiff,\n          settings: {\n            ...state.settings,\n            ...get(state.attributesDiff, 'settings', {}),\n            events_page: {\n              ...get(state.settings, 'events_page', {}),\n              ...get(state.attributesDiff, 'settings.events_page', {}),\n              enabled: !previousValue,\n            },\n          },\n        },\n      };\n    });\n  };\n\n  handleToggleEventsWidget = () => {\n    const { tenant } = this.state;\n    if (!tenant?.data.attributes.settings.events_widget) return;\n\n    const previousValue = this.getSetting('events_widget.enabled');\n\n    this.setState((state) => {\n      return {\n        attributesDiff: {\n          ...state.attributesDiff,\n          settings: {\n            ...state.settings,\n            ...get(state.attributesDiff, 'settings', {}),\n            events_widget: {\n              ...get(state.settings, 'events_widget', {}),\n              ...get(state.attributesDiff, 'settings.events_widget', {}),\n              enabled: !previousValue,\n            },\n          },\n        },\n      };\n    });\n  };\n\n  render() {\n    const { locale, tenant } = this.state;\n    const { formatMessage } = this.props.intl;\n\n    if (!isNilOrError(locale) && !isNilOrError(tenant)) {\n      const { homepageInfoPage } = this.props;\n      const {\n        logo,\n        header_bg,\n        attributesDiff,\n        logoError,\n        headerError,\n        titleError,\n        subtitleError,\n        errors,\n        contrastRatioWarning,\n        saved,\n        contrastRatio,\n      } = this.state;\n\n      const latestAppConfigStyleSettings = {\n        ...tenant.data.attributes,\n        ...attributesDiff,\n      }.style;\n\n      const latestAppConfigCoreSettings = {\n        ...tenant.data.attributes,\n        ...attributesDiff,\n      }.settings.core;\n\n      return (\n        <form onSubmit={this.save}>\n          <Section key={'branding'}>\n            <SectionTitle>\n              <FormattedMessage {...messages.titleHomepageStyle} />\n            </SectionTitle>\n            <SectionDescription>\n              <FormattedMessage {...messages.subtitleHomepageStyle} />\n            </SectionDescription>\n\n            <SubSectionTitle>\n              <FormattedMessage {...messages.titlePlatformBranding} />\n            </SubSectionTitle>\n\n            {['color_main', 'color_secondary', 'color_text'].map(\n              (colorName: TenantColors) => {\n                const contrastRatioOfColor = contrastRatio[colorName];\n                const contrastRatioWarningOfColor =\n                  contrastRatioWarning[colorName];\n\n                return (\n                  <ColorPickerSectionField key={colorName}>\n                    <Label>\n                      <FormattedMessage\n                        {...{\n                          color_main: messages.color_primary,\n                          color_secondary: messages.color_secondary,\n                          color_text: messages.color_text,\n                        }[colorName]}\n                      />\n                    </Label>\n                    <ColorPickerInput\n                      type=\"text\"\n                      value={this.getSetting(`core.${colorName}`)}\n                      onChange={this.handleColorPickerOnChange(colorName)}\n                    />\n                    {contrastRatioWarningOfColor && contrastRatioOfColor && (\n                      <ContrastWarning\n                        text={\n                          <FormattedMessage\n                            {...messages.contrastRatioTooLow}\n                            values={{\n                              wcagLink: (\n                                <a\n                                  href=\"https://www.w3.org/TR/WCAG21/\"\n                                  target=\"_blank\"\n                                  rel=\"noreferrer\"\n                                >\n                                  WCAG 2.1 AA\n                                </a>\n                              ),\n                              lineBreak: <br />,\n                              contrastRatio: contrastRatioOfColor.toFixed(2),\n                            }}\n                          />\n                        }\n                      />\n                    )}\n                  </ColorPickerSectionField>\n                );\n              }\n            )}\n\n            <SectionField key={'logo'}>\n              <Label htmlFor=\"tenant-logo-dropzone\">\n                <FormattedMessage {...messages.logo} />\n              </Label>\n              <ImagesDropzone\n                id=\"tenant-logo-dropzone\"\n                acceptedFileTypes=\"image/jpg, image/jpeg, image/png, image/gif\"\n                images={logo}\n                imagePreviewRatio={1}\n                maxImagePreviewWidth=\"150px\"\n                objectFit=\"contain\"\n                onAdd={this.handleLogoOnAdd}\n                onRemove={this.handleLogoOnRemove}\n                errorMessage={logoError}\n              />\n            </SectionField>\n          </Section>\n\n          <Section key={'header'}>\n            <SubSectionTitle>\n              <FormattedMessage {...messages.header} />\n            </SubSectionTitle>\n            <SectionField key={'header_bg'}>\n              <Label htmlFor=\"landingpage-header-dropzone\">\n                <FormattedMessage {...messages.header_bg} />\n                <IconTooltip\n                  content={<FormattedMessage {...messages.header_bgTooltip} />}\n                />\n              </Label>\n              <ImagesDropzone\n                id=\"landingpage-header-dropzone\"\n                acceptedFileTypes=\"image/jpg, image/jpeg, image/png, image/gif\"\n                images={header_bg}\n                imagePreviewRatio={480 / 1440}\n                maxImagePreviewWidth=\"500px\"\n                onAdd={this.handleHeaderBgOnAdd}\n                onRemove={this.handleHeaderBgOnRemove}\n                errorMessage={headerError}\n              />\n            </SectionField>\n            <Outlet\n              id=\"app.containers.Admin.settings.customize.fields\"\n              onChange={this.handleAppConfigurationStyleChange}\n              theme={this.props.theme}\n              latestAppConfigStyleSettings={latestAppConfigStyleSettings}\n            />\n\n            <SectionField>\n              <InputMultilocWithLocaleSwitcher\n                type=\"text\"\n                valueMultiloc={latestAppConfigCoreSettings?.['header_title']}\n                label={\n                  <LabelTooltip>\n                    <FormattedMessage {...messages.bannerHeaderSignedOut} />\n                    <IconTooltip\n                      content={\n                        <FormattedMessage\n                          {...messages.bannerHeaderSignedOutTooltip}\n                        />\n                      }\n                    />\n                  </LabelTooltip>\n                }\n                maxCharCount={this.titleMaxCharCount}\n                onChange={this.handleTitleOnChange}\n                errorMultiloc={titleError}\n              />\n            </SectionField>\n            <SectionField>\n              <InputMultilocWithLocaleSwitcher\n                type=\"text\"\n                valueMultiloc={latestAppConfigCoreSettings?.['header_slogan']}\n                label={formatMessage(messages.bannerHeaderSignedOutSubtitle)}\n                maxCharCount={this.subtitleMaxCharCount}\n                onChange={this.handleSubtitleOnChange}\n                errorMultiloc={subtitleError}\n              />\n            </SectionField>\n            <SectionField>\n              <InputMultilocWithLocaleSwitcher\n                type=\"text\"\n                valueMultiloc={\n                  latestAppConfigCoreSettings?.[\n                    'custom_onboarding_fallback_message'\n                  ]\n                }\n                label={formatMessage(messages.bannerHeaderSignedIn)}\n                onChange={this.handleCoreMultilocSettingOnChange(\n                  'custom_onboarding_fallback_message'\n                )}\n              />\n            </SectionField>\n          </Section>\n\n          <Section key={'project_header'}>\n            <SubSectionTitle>\n              <FormattedMessage {...messages.projects_header} />\n              <IconTooltip\n                content={formatMessage(messages.projects_header_tooltip)}\n              />\n            </SubSectionTitle>\n            <SectionField>\n              <InputMultilocWithLocaleSwitcher\n                type=\"text\"\n                valueMultiloc={\n                  latestAppConfigCoreSettings?.['currently_working_on_text']\n                }\n                onChange={this.handleCoreMultilocSettingOnChange(\n                  'currently_working_on_text'\n                )}\n              />\n            </SectionField>\n          </Section>\n\n          <Section>\n            <SubSectionTitle>\n              <FormattedMessage {...messages.homePageCustomizableSection} />\n            </SubSectionTitle>\n\n            <WideSectionField>\n              <QuillMultilocWithLocaleSwitcher\n                id=\"custom-section\"\n                label={formatMessage(messages.customSectionLabel)}\n                labelTooltipText={formatMessage(\n                  messages.homePageCustomizableSectionTooltip\n                )}\n                valueMultiloc={\n                  attributesDiff.homepage_info ||\n                  get(homepageInfoPage, 'attributes.body_multiloc')\n                }\n                onChange={this.handleCustomSectionMultilocOnChange}\n                withCTAButton\n              />\n              <ErrorMessage\n                fieldName=\"homepage-info\"\n                apiErrors={errors['homepage-info']}\n              />\n            </WideSectionField>\n          </Section>\n\n          {tenant.data.attributes.settings?.events_page?.allowed && (\n            <Section>\n              <SectionTitle>\n                <FormattedMessage {...messages.eventsSection} />\n              </SectionTitle>\n\n              <WideSectionField>\n                <Setting>\n                  <ToggleLabel>\n                    <StyledToggle\n                      checked={this.getSetting('events_page.enabled')}\n                      onChange={this.handleToggleEventsPage}\n                    />\n                    <LabelContent>\n                      <LabelTitle>\n                        {formatMessage(messages.eventsPageSetting)}\n                      </LabelTitle>\n                      <LabelDescription>\n                        {formatMessage(messages.eventsPageSettingDescription)}\n                      </LabelDescription>\n                    </LabelContent>\n                  </ToggleLabel>\n                </Setting>\n              </WideSectionField>\n\n              {tenant.data.attributes.settings?.events_widget?.allowed && (\n                <Outlet\n                  id=\"app.containers.Admin.settings.customize.EventsWidgetSwitch\"\n                  checked={this.getSetting('events_widget.enabled')}\n                  onChange={this.handleToggleEventsWidget}\n                  title={formatMessage(messages.eventsWidgetSetting)}\n                  description={formatMessage(\n                    messages.eventsWidgetSettingDescription\n                  )}\n                />\n              )}\n            </Section>\n          )}\n\n          <SubmitWrapper\n            loading={this.state.loading}\n            status={getSubmitState({ errors, saved, diff: attributesDiff })}\n            messages={{\n              buttonSave: messages.save,\n              buttonSuccess: messages.saveSuccess,\n              messageError: messages.saveErrorMessage,\n              messageSuccess: messages.saveSuccessMessage,\n            }}\n          />\n        </form>\n      );\n    }\n\n    return null;\n  }\n}\n\nconst SettingsCustomizeTabWithHOCs = withTheme(\n  injectIntl<Props>(SettingsCustomizeTab)\n);\n\nexport default (inputProps: Props) => (\n  <GetPage slug=\"homepage-info\">\n    {(page) => (\n      <SettingsCustomizeTabWithHOCs homepageInfoPage={page} {...inputProps} />\n    )}\n  </GetPage>\n);\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  inputAssignmentSectionTitle: {\n    id: 'app.containers.AdminPage.ProjectEdit.inputAssignmentSectionTitle',\n    defaultMessage: 'Who is responsible for processing the inputs?',\n  },\n  inputAssignmentTooltipText: {\n    id: 'app.containers.AdminPage.ProjectEdit.inputAssignmentTooltipText',\n    defaultMessage:\n      'All new inputs in this project will be assigned to this person. The assignee can be changed in the {ideaManagerLink}.',\n  },\n  inputManagerLinkText: {\n    id: 'app.containers.AdminPage.ProjectEdit.inputManagerLinkText',\n    defaultMessage: 'input manager',\n  },\n});\n","import React, { PureComponent } from 'react';\nimport InputMultilocWithLocaleSwitcher, {\n  Props as InputMultilocProps,\n} from 'components/UI/InputMultilocWithLocaleSwitcher';\nimport { FieldProps } from 'formik';\n\nclass FormikInputMultilocWithLocaleSwitcher extends PureComponent<\n  FieldProps & InputMultilocProps\n> {\n  handleOnChange = (newValue) => {\n    this.props.form.setFieldValue(this.props.field.name, newValue);\n    this.props.form.setStatus('enabled');\n  };\n\n  handleOnBlur = () => {\n    this.props.form.setFieldTouched(this.props.field.name, true);\n  };\n\n  render() {\n    const { value } = this.props.field;\n\n    return (\n      <InputMultilocWithLocaleSwitcher\n        {...this.props}\n        valueMultiloc={value}\n        onChange={this.handleOnChange}\n        onBlur={this.handleOnBlur}\n      />\n    );\n  }\n}\n\nexport default FormikInputMultilocWithLocaleSwitcher;\n","import React, { FC, useEffect } from 'react';\n\nimport { TableHeaderCellText } from 'components/admin/PostManager/components/PostTable';\nimport { FormattedMessage } from 'utils/cl-intl';\nimport { CellConfiguration, InsertConfigurationOptions } from 'typings';\nimport { IdeaHeaderCellComponentProps } from 'components/admin/PostManager/components/PostTable/IdeaHeaderRow';\nimport messages from 'components/admin/PostManager/messages';\n\ntype Props = {\n  onData: (\n    data: InsertConfigurationOptions<\n      CellConfiguration<IdeaHeaderCellComponentProps>\n    >\n  ) => void;\n};\n\nconst IdeaHeaderCell: FC<Props> = ({ onData }) => {\n  useEffect(\n    () =>\n      onData({\n        configuration: {\n          name: 'assignee',\n          cellProps: { width: 2 },\n          Component: () => {\n            return (\n              <TableHeaderCellText>\n                <FormattedMessage {...messages.assignee} />\n              </TableHeaderCellText>\n            );\n          },\n        },\n        insertAfterName: 'title',\n      }),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  );\n  return null;\n};\n\nexport default IdeaHeaderCell;\n","import { isNilOrError } from 'utils/helperUtils';\nimport { IUserData, IRole } from 'services/users';\nimport { isAdmin } from 'services/permissions/roles';\n\ndeclare module 'services/users' {\n  type IProjectFolderModeratorRole = {\n    type: 'project_folder_moderator';\n    project_folder_id: string;\n  };\n}\n\nexport function moderatesFolder(\n  user: IUserData | null,\n  projectFolderId: string\n) {\n  if (isNilOrError(user)) {\n    return false;\n  }\n\n  return (\n    isAdmin({ data: user }) || isProjectFolderModerator(user, projectFolderId)\n  );\n}\n\nexport function isProjectFolderModerator(\n  user: IUserData,\n  projectFolderId?: string\n) {\n  return !!user.attributes?.roles?.find((role: IRole) => {\n    if (projectFolderId) {\n      return (\n        role.type === 'project_folder_moderator' &&\n        role.project_folder_id === projectFolderId\n      );\n    } else {\n      return role.type === 'project_folder_moderator';\n    }\n  });\n}\n","import { useState, useEffect } from 'react';\nimport { of, Observable } from 'rxjs';\nimport {\n  IParticipationConditions,\n  getGlobalParticipationConditions,\n  getPCParticipationConditions,\n} from 'services/participationConditions';\n\nimport { ContextShape } from 'components/Verification/verificationModalEvents';\n\n// doesn't react to prop changes, which is ok here because components are unmounted btwn uses\n\nexport default function useParticipationConditions(props: ContextShape) {\n  const [conditions, setConditions] = useState<\n    IParticipationConditions | undefined | null | Error\n  >(undefined);\n\n  useEffect(() => {\n    const stream: Observable<IParticipationConditions | null> =\n      props?.type === 'project' || props?.type === 'phase'\n        ? getPCParticipationConditions(props.id, props.type, props.action)\n            .observable\n        : props?.type === 'initiative'\n        ? getGlobalParticipationConditions(props.action).observable\n        : of(null);\n    const subscription = stream.subscribe((conditions) => {\n      setConditions(conditions);\n    });\n\n    return () => subscription.unsubscribe();\n  }, [props]);\n\n  return conditions;\n}\n","import { definePermissionRule } from 'services/permissions/permissions';\nimport { isAdmin, isProjectModerator } from '../roles';\nimport { ICommentData } from 'services/comments';\nimport { IUser } from 'services/users';\n\nconst isAuthor = (comment: ICommentData, user?: IUser) => {\n  return (\n    user &&\n    comment.relationships.author.data &&\n    comment.relationships.author.data.id === user.data.id\n  );\n};\n\ndefinePermissionRule(\n  'comment',\n  'create',\n  (_comment: ICommentData, user: IUser) => {\n    return !!user;\n  }\n);\n\ndefinePermissionRule(\n  'comment',\n  'edit',\n  (comment: ICommentData, user: IUser) => {\n    return !!isAuthor(comment, user);\n  }\n);\n\ndefinePermissionRule(\n  'comment',\n  'delete',\n  (comment: ICommentData, user: IUser, _tenant, { projectId }) => {\n    return !!(\n      isAuthor(comment, user) ||\n      isAdmin(user) ||\n      isProjectModerator(user, projectId)\n    );\n  }\n);\n\ndefinePermissionRule(\n  'comment',\n  'justifyDeletion',\n  (comment: ICommentData, user: IUser, _tenant, { projectId }) => {\n    return (\n      !isAuthor(comment, user) &&\n      (isAdmin(user) || isProjectModerator(user, projectId))\n    );\n  }\n);\n\ndefinePermissionRule(\n  'comment',\n  'markAsSpam',\n  (comment: ICommentData, user: IUser, _tenant, { projectId }) => {\n    return (\n      user &&\n      !(\n        isAuthor(comment, user) ||\n        isAdmin(user) ||\n        isProjectModerator(user, projectId)\n      )\n    );\n  }\n);\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  error: {\n    id: 'app.errors.error',\n    defaultMessage: 'Error: ',\n  },\n  blank: {\n    id: 'app.errors.generics.blank',\n    defaultMessage: 'This field cannot be empty.',\n  },\n  invalid: {\n    id: 'app.errors.generics.invalid',\n    defaultMessage: 'This field contains an invalid value.',\n  },\n  unsupported_locales: {\n    id: 'app.errors.generics.unsupported_locales',\n    defaultMessage: 'This field does not support the current locale.',\n  },\n  taken: {\n    id: 'app.errors.generics.taken',\n    defaultMessage:\n      'This field should be unique. Another instance with the same value already exists.',\n  },\n  locale_blank: {\n    id: 'app.errors.locale_blank',\n    defaultMessage: 'Please choose a language',\n  },\n  locale_inclusion: {\n    id: 'app.errors.locale_inclusion',\n    defaultMessage: 'Please choose a supported language',\n  },\n  too_short: {\n    id: 'app.errors.too_short',\n    defaultMessage: 'Must be at least 8 characters long',\n  },\n  too_long: {\n    id: 'app.errors.too_long',\n    defaultMessage: 'Please choose a shorter password (max 72 characters)',\n  },\n  too_common: {\n    id: 'app.errors.too_common',\n    defaultMessage:\n      'This password can be easily guessed. Please choose a stronger password.',\n  },\n  confirmation_code_invalid: {\n    id: 'app.errors.confirmation_code_invalid',\n    defaultMessage:\n      \"Wrong code. Please check your email for the correct code or try 'Send New Code'\",\n  },\n  confirmation_code_expired: {\n    id: 'app.errors.confirmation_code_expired',\n    defaultMessage: 'Code expired. Please resend a new code.',\n  },\n  confirmation_code_too_many_retries: {\n    id: 'app.errors.confirmation_code_too_many_retries',\n    defaultMessage:\n      \"You've tried too many times. Please resend a code or try changing your email.\",\n  },\n  confirmation_code_too_many_resets: {\n    id: 'app.errors.confirmation_code_too_many_resets',\n    defaultMessage:\n      \"You've resent the confirmation code too many times. Please contact us to receive an invitation code instead.\",\n  },\n  after_end_at: {\n    id: 'app.errors.after_end_at',\n    defaultMessage: 'The start date occurs after the end date',\n  },\n  key_invalid: {\n    id: 'app.errors.key_invalid',\n    defaultMessage:\n      'The key can only contain letters, numbers and underscores(_)',\n  },\n  unparseable_excel: {\n    id: 'app.errors.unparseable_excel',\n    defaultMessage: 'The selected Excel file could not be processed.',\n  },\n  max_invites_limit_exceeded: {\n    id: 'app.errors.max_invites_limit_exceeded',\n    defaultMessage: 'The maximum number of allowed invitations is exceeded.',\n  },\n  no_invites_specified: {\n    id: 'app.errors.no_invites_specified',\n    defaultMessage: 'Could not find any email addresses.',\n  },\n  unknown_group: {\n    id: 'app.errors.unknown_group',\n    defaultMessage: 'The group {value} found in row {row} is not a known group',\n  },\n  malformed_admin_value: {\n    id: 'app.errors.malformed_admin_value',\n    defaultMessage: 'The admin value {value} found in row {row} is not valid',\n  },\n  malformed_groups_value: {\n    id: 'app.errors.malformed_groups_value',\n    defaultMessage: 'The group {value} found in row {row} is not a valid group',\n  },\n  unknown_locale: {\n    id: 'app.errors.unknown_locale',\n    defaultMessage:\n      'The language {value} found in row {row} is not a configured language',\n  },\n  invalid_email: {\n    id: 'app.errors.invalid_email',\n    defaultMessage:\n      'The email {value} found in row {row} is not a valid email address',\n  },\n  invalid_row: {\n    id: 'app.errors.invalid_row',\n    defaultMessage:\n      'An unknown error occured while trying to process row {row}',\n  },\n  email_already_invited: {\n    id: 'app.errors.email_already_invited',\n    defaultMessage:\n      'The email address {value} found in row {row} was already invited',\n  },\n  email_already_active: {\n    id: 'app.errors.email_already_active',\n    defaultMessage:\n      'The email address {value} found in row {row} already belongs to a registered user',\n  },\n  emails_duplicate: {\n    id: 'app.errors.emails_duplicate',\n    defaultMessage:\n      'One or more duplicate values for the email address {value} were found in the following row(s): {rows}',\n  },\n  is_not_timeline_project: {\n    id: 'app.errors.is_not_timeline_project',\n    defaultMessage: 'The current project does not support phases.',\n  },\n  has_other_overlapping_phases: {\n    id: 'app.errors.has_other_overlapping_phases',\n    defaultMessage: 'Projects cannot have overlapping phases.',\n  },\n  group_ids_unauthorized_choice_moderator: {\n    id: 'app.errors.group_ids_unauthorized_choice_moderator',\n    defaultMessage:\n      'As a project moderator, you can only email to people that can access your project(s)',\n  },\n  file_extension_whitelist_error: {\n    id: 'app.errors.file_extension_whitelist_error',\n    defaultMessage:\n      'The format of the file you tried to upload is not supported.',\n  },\n  cant_change_after_first_response: {\n    id: 'app.errors.cant_change_after_first_response',\n    defaultMessage:\n      'You can no longer change this, since some users already responded',\n  },\n  cannot_contain_ideas: {\n    id: 'app.errors.cannot_contain_ideas',\n    defaultMessage:\n      'The participation method you selected does not support this type of input. Please edit your selection and try again.',\n  },\n  slug_taken: {\n    id: 'app.errors.slug_taken',\n    defaultMessage:\n      'This project URL already exists. Please change the project slug to something else.',\n  },\n  avatar_extension_whitelist_error: {\n    id: 'app.errors.avatar_extension_whitelist_error',\n    defaultMessage:\n      'The file extension of the avatar image is not allowed. Allowed extensions are: jpg, jpeg, gif and png.',\n  },\n  avatar_extension_blacklist_error: {\n    id: 'app.errors.avatar_extension_blacklist_error',\n    defaultMessage:\n      'The file extension of the avatar image is not allowed. Allowed extensions are: jpg, jpeg, gif and png.',\n  },\n  avatar_carrierwave_processing_error: {\n    id: 'app.errors.avatar_carrierwave_processing_error',\n    defaultMessage: 'Could not process avatar.',\n  },\n  avatar_carrierwave_integrity_error: {\n    id: 'app.errors.avatar_carrierwave_integrity_error',\n    defaultMessage: 'Avatar file is not of an allowed type.',\n  },\n  avatar_carrierwave_download_error: {\n    id: 'app.errors.avatar_carrierwave_download_error',\n    defaultMessage: 'Could not download avatar file.',\n  },\n  // field errors\n  token_invalid: {\n    id: 'app.errors.token_invalid',\n    defaultMessage:\n      'Password reset links can only be used once and are valid for one hour after being sent. {passwordResetLink}.',\n  },\n  title_multiloc_blank: {\n    id: 'app.errors.title_multiloc_blank',\n    defaultMessage: 'The title cannot be empty.',\n  },\n  email_taken: {\n    id: 'app.errors.email_taken',\n    defaultMessage: 'This email is already taken. Please try another one.',\n  },\n  email_taken_by_invite: {\n    id: 'app.errors.email_taken_by_invite',\n    defaultMessage:\n      \"{value} is already taken by a pending invite. Check your spam folder or contact {supportEmail} if you can't find it.\",\n  },\n  email_invalid: {\n    id: 'app.errors.email_invalid',\n    defaultMessage: 'Please use a valid email address.',\n  },\n  email_domain_blacklisted: {\n    id: 'app.errors.email_domain_blacklisted',\n    defaultMessage: 'Please use a different email domain to register.',\n  },\n  email_blank: {\n    id: 'app.errors.email_blank',\n    defaultMessage: 'Please enter your email address',\n  },\n  first_name_blank: {\n    id: 'app.errors.first_name_blank',\n    defaultMessage: 'Please enter your first name',\n  },\n  last_name_blank: {\n    id: 'app.errors.last_name_blank',\n    defaultMessage: 'Please enter your last name',\n  },\n  password_blank: {\n    id: 'app.errors.password_blank',\n    defaultMessage: 'Please enter a password',\n  },\n  password_too_short: {\n    id: 'app.errors.password_too_short',\n    defaultMessage: 'The password must be at least 8 characters long',\n  },\n  view_name_taken: {\n    id: 'app.errors.view_name_taken',\n    defaultMessage: 'A view with this name already exists',\n  },\n  category_name_taken: {\n    id: 'app.errors.category_name_taken',\n    defaultMessage: 'A category with this name already exists',\n  },\n});\n","import useLocale from 'hooks/useLocale';\nimport useAppConfigurationLocales from 'hooks/useAppConfigurationLocales';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { getLocalized } from 'utils/i18n';\nimport { Multiloc } from 'typings';\n\nexport default function useLocalize() {\n  const locale = useLocale();\n  const tenantLocales = useAppConfigurationLocales();\n\n  const localize = (multiloc: Multiloc, maxChar?: number) => {\n    if (!isNilOrError(locale) && !isNilOrError(tenantLocales)) {\n      return getLocalized(multiloc, locale, tenantLocales, maxChar);\n    }\n\n    return '';\n  };\n\n  return localize;\n}\n","import React from 'react';\n\n// components\nimport Link from 'utils/cl-router/Link';\nimport FeatureFlag from 'components/FeatureFlag';\n\n// i18n\nimport messages from 'containers/LandingPage/messages';\nimport { injectIntl } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\n\n// styling\nimport styled from 'styled-components';\nimport { media, colors, isRtl, fontSizes } from 'utils/styleUtils';\n\nconst Header = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  padding-bottom: 30px;\n  margin-bottom: 39px;\n  border-bottom: 1px solid #d1d1d1;\n\n  ${isRtl`\n    flex-direction: row-reverse;\n  `}\n`;\n\nconst Title = styled.h2`\n  color: ${({ theme }) => theme.colorText};\n  font-size: ${fontSizes.xl}px;\n  font-weight: 500;\n  line-height: normal;\n  padding: 0;\n  margin: 0;\n\n  ${media.smallerThanMinTablet`\n    text-align: center;\n    margin: 0;\n  `};\n`;\n\nconst EventPageLink = styled(Link)`\n  color: ${colors.label};\n  margin-top: auto;\n`;\n\nexport default injectIntl<InjectedIntlProps>(({ intl }) => (\n  <Header>\n    <Title>{intl.formatMessage(messages.eventsWidgetTitle)}</Title>\n    <FeatureFlag name=\"events_page\">\n      <EventPageLink to=\"/events\">\n        {intl.formatMessage(messages.viewAllEventsText)}\n      </EventPageLink>\n    </FeatureFlag>\n  </Header>\n));\n","import { get, set, remove } from 'js-cookie';\nimport jwtDecode from 'jwt-decode';\n\nconst COOKIE_NAME = 'cl2_jwt';\n\ninterface IDecodedJwt {\n  sub: string;\n  provider?: string;\n  logout_supported?: boolean;\n}\n\nexport function getJwt() {\n  try {\n    return get(COOKIE_NAME);\n  } catch (error) {\n    return null;\n  }\n}\n\nexport function setJwt(jwt: string) {\n  set(COOKIE_NAME, jwt, { expires: 60 });\n}\n\nexport function removeJwt() {\n  remove(COOKIE_NAME, { expires: 60 });\n}\n\nexport function decode(jwt) {\n  return jwtDecode<IDecodedJwt>(jwt);\n}\n","import React, { PureComponent, FormEvent, ChangeEvent } from 'react';\nimport { getBase64FromFile } from 'utils/fileTools';\nimport { UploadFile } from 'typings';\n\n// i18n\nimport messages from '../messages';\nimport { FormattedMessage } from 'utils/cl-intl';\n\n// styling\nimport styled from 'styled-components';\nimport { colors, fontSizes, defaultOutline, isRtl } from 'utils/styleUtils';\n\n// components\nimport { Icon } from 'cl2-component-library';\n\nconst Container = styled.div`\n  margin-bottom: 10px;\n`;\n\nconst StyledIcon = styled(Icon)`\n  width: 24px;\n  height: 18px;\n  fill: ${colors.label};\n  margin-right: 10px;\n\n  ${isRtl`\n    margin-right: 0;\n    margin-left: 10px;\n  `}\n`;\n\nconst Input = styled.input`\n  opacity: 0;\n  position: absolute;\n  pointer-events: none;\n  width: 1px;\n  height: 1px;\n\n  &:focus + label {\n    color: #000;\n    border-color: #000;\n    ${defaultOutline};\n\n    ${StyledIcon} {\n      fill: #000;\n    }\n  }\n`;\n\nconst Label = styled.label`\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  border: 1px dashed ${colors.border};\n  border-radius: ${(props: any) => props.theme.borderRadius};\n  font-size: ${fontSizes.base}px;\n  padding: 10px 20px;\n  color: ${colors.label};\n  background: transparent;\n  font-weight: 400;\n\n  ${isRtl`\n    flex-direction: row-reverse;\n  `}\n\n  &:hover {\n    color: #000;\n    border-color: #000;\n\n    ${StyledIcon} {\n      fill: #000;\n    }\n  }\n`;\n\n// accepted file extensions:\nconst fileAccept = [\n  '.pdf',\n  'application/pdf',\n\n  '.doc',\n  'application/doc',\n  'application/ms-doc',\n  'application/msword',\n\n  '.docx',\n  'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n\n  '.odt',\n  'application/vnd.oasis.opendocument.text',\n\n  '.xls',\n  'application/excel',\n  'application/vnd.ms-excel',\n  'application/x-excel',\n  'application/x-msexcel',\n\n  '.xlsx',\n  'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n\n  '.ods',\n  'application/vnd.oasis.opendocument.spreadsheet',\n\n  '.ppt',\n  'application/mspowerpoint',\n  'application/powerpoint',\n  'application/vnd.ms-powerpoint',\n  'application/x-mspowerpoint',\n\n  '.pptx',\n  'application/vnd.openxmlformats-officedocument.presentationml.presentation',\n\n  '.odp',\n  'application/vnd.oasis.opendocument.presentation',\n\n  '.txt',\n  'text/plain',\n\n  '.csv',\n  'text/csv',\n\n  '.mp3',\n  'audio/mpeg',\n  'audio/mpeg3',\n  'audio/x-mpeg-3',\n\n  '.mp4',\n  'video/mp4',\n\n  '.avi',\n  'video/avi',\n  'video/msvideo',\n  'video/x-msvideo',\n\n  '.mkv',\n  'video/x-matroska',\n];\n\ninterface Props {\n  onAdd: (file: UploadFile) => void;\n  className?: string;\n  id?: string;\n}\n\nexport default class FileInput extends PureComponent<Props> {\n  onClick = (event: FormEvent<any>) => {\n    // reset the value of the input field\n    // so we can upload the same file again after deleting it\n    event.currentTarget.value = null;\n  };\n\n  onChange = (event: ChangeEvent<HTMLInputElement>) => {\n    const files = event.target.files;\n\n    if (files && files.length > 0) {\n      Array.from(files).forEach(async (file: UploadFile) => {\n        const base64 = await getBase64FromFile(file);\n        file.base64 = base64;\n        file.filename = file.name;\n        file.extension =\n          file.type ||\n          base64.substring(base64.indexOf(':') + 1, base64.indexOf(';base64'));\n        if (!fileAccept.includes(file.extension)) {\n          file.error = ['incorrect_extension'];\n        }\n        file.remote = false;\n        this.props.onAdd(file);\n      });\n    }\n  };\n\n  render() {\n    const { className, id } = this.props;\n\n    return (\n      <Container className={className} id={id}>\n        <Input\n          id=\"file-attachment-uploader\"\n          onChange={this.onChange}\n          onClick={this.onClick}\n          type=\"file\"\n          accept={fileAccept.join(',')}\n          tabIndex={0}\n        />\n        <Label aria-hidden htmlFor=\"file-attachment-uploader\">\n          <StyledIcon name=\"upload-file\" ariaHidden />\n          <FormattedMessage {...messages.fileInputDescription} />\n        </Label>\n      </Container>\n    );\n  }\n}\n","import React, { memo } from 'react';\nimport { isNilOrError, stopPropagation } from 'utils/helperUtils';\n\n// services\nimport { IMentionInCommentNotificationData } from 'services/notifications';\n\n// i18n\nimport messages from '../../messages';\nimport { FormattedMessage } from 'utils/cl-intl';\n\n// components\nimport NotificationWrapper from '../NotificationWrapper';\nimport Link from 'utils/cl-router/Link';\nimport { DeletedUser } from '../Notification';\n\ninterface Props {\n  notification: IMentionInCommentNotificationData;\n}\n\nconst mapPostTypeToLink = (\n  notification: IMentionInCommentNotificationData\n): string => {\n  switch (notification.attributes.post_type) {\n    case 'Idea':\n      return `/ideas/${notification.attributes.post_slug}`;\n    case 'Initiative':\n      return `/initiatives/${notification.attributes.post_slug}`;\n  }\n};\n\nconst MentionInCommentNotification = memo<Props>((props) => {\n  const { notification } = props;\n\n  const deletedUser =\n    isNilOrError(notification.attributes.initiating_user_first_name) ||\n    isNilOrError(notification.attributes.initiating_user_slug);\n\n  return (\n    <NotificationWrapper\n      linkTo={mapPostTypeToLink(notification)}\n      timing={notification.attributes.created_at}\n      icon=\"notification_mention\"\n      isRead={!!notification.attributes.read_at}\n    >\n      <FormattedMessage\n        {...messages.mentionInComment}\n        values={{\n          name: deletedUser ? (\n            <DeletedUser>\n              <FormattedMessage {...messages.deletedUser} />\n            </DeletedUser>\n          ) : (\n            <Link\n              to={`/profile/${notification.attributes.initiating_user_slug}`}\n              onClick={stopPropagation}\n            >\n              {notification.attributes.initiating_user_first_name}\n            </Link>\n          ),\n        }}\n      />\n    </NotificationWrapper>\n  );\n});\n\nexport default MentionInCommentNotification;\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  a11y_folderTitle: {\n    id: 'app.components.FolderFolderCard.a11y_folderTitle',\n    defaultMessage: 'Folder title: ',\n  },\n  a11y_folderDescription: {\n    id: 'app.components.FolderFolderCard.a11y_folderDescription',\n    defaultMessage: 'Folder description: ',\n  },\n  numberOfProjectsInFolder: {\n    id: 'app.components.FolderFolderCard.numberOfProjectsInFolder',\n    defaultMessage:\n      '{numberOfProjectsInFolder, plural, no {# projects} one {# project} other {# projects}}',\n  },\n  archived: {\n    id: 'app.components.FolderFolderCard.archived',\n    defaultMessage: 'Archived',\n  },\n});\n","import React, { ChangeEvent, useState } from 'react';\nimport { Table, Popup } from 'semantic-ui-react';\nimport Checkbox from 'components/UI/Checkbox';\nimport { FormattedMessage } from 'utils/cl-intl';\nimport SortableTableHeader from 'components/admin/SortableTableHeader';\nimport { Icon } from 'cl2-component-library';\nimport FeatureFlag from 'components/FeatureFlag';\nimport messages from '../../messages';\nimport { TableHeaderCellText } from '.';\nimport styled from 'styled-components';\nimport { colors } from 'utils/styleUtils';\nimport {\n  CellConfiguration,\n  InsertConfigurationOptions,\n  Override,\n} from 'typings';\nimport Outlet from 'components/Outlet';\nimport { insertConfiguration } from 'utils/moduleUtils';\n\nconst InfoIcon = styled(Icon)`\n  fill: ${colors.clBlueDarker};\n  width: 16px;\n  height: 16px;\n  cursor: pointer;\n\n  &:hover {\n    fill: #000;\n  }\n`;\n\nexport type IdeaHeaderCellComponentProps = {\n  sortAttribute?: string;\n  sortDirection?: 'ascending' | 'descending' | null;\n  allSelected?: boolean;\n  onChange?: (event: unknown) => void;\n  onClick?: (event: unknown) => void;\n};\n\nexport default ({\n  sortAttribute,\n  sortDirection,\n  allSelected,\n  toggleSelectAll,\n  handleSortClick,\n}) => {\n  const [cells, setCells] = useState<\n    CellConfiguration<IdeaHeaderCellComponentProps>[]\n  >([\n    {\n      name: 'selection',\n      cellProps: { width: 1 },\n      onChange: toggleSelectAll,\n      Component: ({\n        allSelected,\n        onChange,\n      }: Override<\n        IdeaHeaderCellComponentProps,\n        { onChange: (event: ChangeEvent<HTMLInputElement>) => void }\n      >) => {\n        return (\n          <Checkbox checked={!!allSelected} onChange={onChange} size=\"21px\" />\n        );\n      },\n    },\n    {\n      name: 'title',\n      cellProps: { width: 4 },\n      Component: () => {\n        return (\n          <TableHeaderCellText>\n            <FormattedMessage {...messages.title} />\n          </TableHeaderCellText>\n        );\n      },\n    },\n    {\n      name: 'published_on',\n      cellProps: { width: 2 },\n      onChange: handleSortClick('new'),\n      Component: ({\n        sortAttribute,\n        sortDirection,\n        onChange,\n      }: Override<IdeaHeaderCellComponentProps, { onChange: () => void }>) => {\n        return (\n          <SortableTableHeader\n            direction={sortAttribute === 'new' ? sortDirection : null}\n            onToggle={onChange}\n          >\n            <TableHeaderCellText>\n              <FormattedMessage {...messages.publication_date} />\n            </TableHeaderCellText>\n          </SortableTableHeader>\n        );\n      },\n    },\n    {\n      name: 'up',\n      cellProps: { width: 1 },\n      onChange: handleSortClick('upvotes_count'),\n      Component: ({\n        sortAttribute,\n        sortDirection,\n        onChange,\n      }: Override<IdeaHeaderCellComponentProps, { onChange: () => void }>) => {\n        return (\n          <SortableTableHeader\n            direction={sortAttribute === 'upvotes_count' ? sortDirection : null}\n            onToggle={onChange}\n          >\n            <TableHeaderCellText>\n              <FormattedMessage {...messages.up} />\n            </TableHeaderCellText>\n          </SortableTableHeader>\n        );\n      },\n    },\n    {\n      name: 'down',\n      cellProps: { width: 1 },\n      onChange: handleSortClick('downvotes_count'),\n      Component: ({\n        sortAttribute,\n        sortDirection,\n        onChange,\n      }: Override<IdeaHeaderCellComponentProps, { onChange: () => void }>) => {\n        return (\n          <SortableTableHeader\n            direction={\n              sortAttribute === 'downvotes_count' ? sortDirection : null\n            }\n            onToggle={onChange}\n          >\n            <TableHeaderCellText>\n              <FormattedMessage {...messages.down} />\n            </TableHeaderCellText>\n          </SortableTableHeader>\n        );\n      },\n    },\n    {\n      name: 'picks',\n      featureFlag: 'participatory_budgeting',\n      cellProps: { width: 1 },\n      Component: ({\n        sortAttribute,\n        sortDirection,\n        onChange,\n      }: Override<IdeaHeaderCellComponentProps, { onChange: () => void }>) => {\n        return (\n          <SortableTableHeader\n            direction={sortAttribute === 'baskets_count' ? sortDirection : null}\n            onToggle={onChange}\n          >\n            <TableHeaderCellText>\n              <FormattedMessage {...messages.participatoryBudgettingPicks} />\n            </TableHeaderCellText>\n            <Popup\n              content={<FormattedMessage {...messages.pbItemCountTooltip} />}\n              trigger={\n                <button>\n                  <InfoIcon name=\"info3\" />\n                </button>\n              }\n            />\n          </SortableTableHeader>\n        );\n      },\n    },\n  ]);\n\n  const renderCell = ({\n    cellProps = {},\n    name,\n    Component,\n    onChange,\n    onClick,\n    featureFlag,\n  }: CellConfiguration<IdeaHeaderCellComponentProps>) => {\n    const handlers = {\n      ...(onChange ? { onChange } : {}),\n      ...(onClick ? { onClick } : {}),\n    };\n\n    const Content = (\n      <Table.HeaderCell {...cellProps} key={name}>\n        <Component\n          sortAttribute={sortAttribute}\n          sortDirection={sortDirection}\n          allSelected={allSelected}\n          {...handlers}\n        />\n      </Table.HeaderCell>\n    );\n\n    if (!featureFlag) return Content;\n    return (\n      <FeatureFlag name={featureFlag} key={name}>\n        {Content}\n      </FeatureFlag>\n    );\n  };\n\n  const handleData = (\n    insertCellOptions: InsertConfigurationOptions<\n      CellConfiguration<IdeaHeaderCellComponentProps>\n    >\n  ) => {\n    setCells(insertConfiguration(insertCellOptions)(cells));\n  };\n\n  return (\n    <>\n      <Outlet\n        id=\"app.components.admin.PostManager.components.PostTable.IdeaHeaderRow.cells\"\n        onData={handleData}\n      />\n      <Table.Header>\n        <Table.Row>\n          {cells.map((cellConfiguration) => renderCell(cellConfiguration))}\n        </Table.Row>\n      </Table.Header>\n    </>\n  );\n};\n","import React from 'react';\nimport FeatureFlag from 'components/FeatureFlag';\nimport styled from 'styled-components';\nimport messages from './messages';\nimport { FormattedMessage } from 'utils/cl-intl';\nimport { colors } from 'utils/styleUtils';\n\nconst Badge = styled.div`\n  color: #fff;\n  font-size: 10px;\n  line-height: normal;\n  border-radius: ${(props: any) => props.theme.borderRadius};\n  padding: 1px 6px;\n  display: inline-block;\n  text-transform: uppercase;\n  text-align: center;\n  font-weight: 600;\n  margin-top: 2px;\n  background-color: ${(props: any) => props.color};\n`;\n\ninterface Props {\n  isVerified: boolean;\n}\n\nconst VerificationBadge = ({ isVerified }: Props) => (\n  <FeatureFlag name=\"verification\">\n    <Badge color={isVerified ? colors.clGreen : colors.label}>\n      {isVerified ? (\n        <FormattedMessage {...messages.verified} />\n      ) : (\n        <FormattedMessage {...messages.unverified} />\n      )}\n    </Badge>\n  </FeatureFlag>\n);\n\nexport default VerificationBadge;\n","/*\n * This component is invisible to screen readers, if you ever need to show it to\n * screen readers, please adapt inner content to be intelligible before removing aria-hidden prop\n */\n\nimport React, { memo } from 'react';\nimport { isNilOrError } from 'utils/helperUtils';\n\n// components\nimport { Icon } from 'cl2-component-library';\nimport FeatureFlag from 'components/FeatureFlag';\nimport Link from 'utils/cl-router/Link';\n\n// hooks\nimport useUser from 'hooks/useUser';\n\n// i18n\nimport injectIntl from 'utils/cl-intl/injectIntl';\nimport { InjectedIntlProps } from 'react-intl';\n\n// styles\nimport styled from 'styled-components';\nimport { lighten } from 'polished';\nimport { colors } from 'utils/styleUtils';\n\nexport const Container = styled.div<{ size: number }>`\n  flex: 0 0 ${({ size }) => size}px;\n  width: ${({ size }) => size}px;\n  height: ${({ size }) => size}px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n`;\n\nexport const AvatarImage = styled.img<{\n  size: number;\n  padding: number;\n  bgColor: string | undefined;\n  borderColor: string | undefined;\n  borderThickness: number;\n  borderHoverColor: string | undefined;\n}>`\n  flex: 0 0 ${({ size }) => size}px;\n  width: ${({ size }) => size}px;\n  height: ${({ size }) => size}px;\n  padding: ${({ padding }) => padding}px;\n  border-radius: 50%;\n  border-style: ${({ borderThickness }) =>\n    borderThickness === 0 ? 'none' : 'solid'};\n  border-width: ${({ borderThickness }) => `${borderThickness}px`};\n  border-color: ${({ borderColor }) => borderColor || 'transparent'};\n  background: ${({ bgColor }) => bgColor || 'transparent'};\n\n  &.hasHoverEffect {\n    cursor: pointer;\n    transition: all 100ms ease-out;\n\n    &:hover {\n      border-color: ${({ borderHoverColor }) =>\n        borderHoverColor || 'transparent'};\n    }\n  }\n`;\n\nconst AvatarIcon = styled(Icon)<{\n  size: number;\n  fillColor: string | undefined;\n  fillHoverColor: string | undefined;\n  padding: number;\n  bgColor: string | undefined;\n  borderColor: string | undefined;\n  borderThickness: number;\n  borderHoverColor: string | undefined;\n}>`\n  flex: 0 0 ${({ size }) => size}px;\n  width: ${({ size }) => size}px;\n  height: ${({ size }) => size}px;\n  fill: ${({ fillColor }) => fillColor || ''};\n  padding: ${({ padding }) => padding}px;\n  border-radius: 50%;\n  border-style: ${({ borderThickness }) =>\n    borderThickness === 0 ? 'none' : 'solid'};\n  border-width: ${({ borderThickness }) => `${borderThickness}px`};\n  border-color: ${({ borderColor }) => borderColor || 'transparent'};\n  background: ${({ bgColor }) => bgColor || 'transparent'};\n\n  &.hasHoverEffect {\n    cursor: pointer;\n    transition: all 100ms ease-out;\n\n    &:hover {\n      border-color: ${({ borderHoverColor }) =>\n        borderHoverColor || 'transparent'};\n      fill: ${({ fillHoverColor }) => fillHoverColor || ''};\n    }\n  }\n`;\n\nconst BadgeIcon = styled(Icon)<{ size: number; fill: string }>`\n  fill: ${({ fill }) => fill};\n  width: ${({ size }) => size}px;\n  height: ${({ size }) => size}px;\n  position: absolute;\n  right: 0px;\n  bottom: 0px;\n  border-radius: 50%;\n  background: #fff;\n  border: solid 2px #fff;\n`;\n\nexport interface Props {\n  userId: string | null;\n  size: number;\n  isLinkToProfile?: boolean;\n  fillColor?: string;\n  borderThickness?: number;\n  borderColor?: string;\n  bgColor?: string;\n  className?: string;\n  moderator?: boolean | null;\n  addVerificationBadge?: boolean | null;\n  padding?: number;\n  hideIfNoAvatar?: boolean;\n}\n\nconst Avatar = memo(\n  ({\n    isLinkToProfile,\n    moderator,\n    className,\n    addVerificationBadge,\n    userId,\n    hideIfNoAvatar,\n    ...props\n  }: Props & InjectedIntlProps) => {\n    const user = useUser({ userId });\n\n    if (!isNilOrError(user)) {\n      const { slug, avatar, verified } = user.attributes;\n      const profileLink = `/profile/${slug}`;\n      // In dev mode, slug is sometimes undefined,\n      // while !isNilOrError(user) passes... To be solved properly\n      const hasValidProfileLink = profileLink !== '/profile/undefined';\n      const avatarSize = props.size;\n      const padding = props.padding || 3;\n      const borderThickness = props.borderThickness || 1;\n      const hasHoverEffect = (isLinkToProfile && hasValidProfileLink) || false;\n      const imageSizeLabel = avatarSize > 160 ? 'large' : 'medium';\n      const avatarSrc = avatar ? avatar[imageSizeLabel] : null;\n      const containerSize = avatarSize + padding * 2 + borderThickness * 2;\n      const badgeSize = avatarSize / (avatarSize < 40 ? 1.8 : 2.3);\n      const fillColor = props.fillColor || lighten(0.2, colors.label);\n      const fillHoverColor = colors.label;\n      const borderHoverColor = colors.label;\n      const borderColor = props.borderColor || 'transparent';\n      const bgColor = props.bgColor || 'transparent';\n\n      if (!avatarSrc && hideIfNoAvatar) {\n        return null;\n      }\n\n      const AvatarComponent = (\n        <Container aria-hidden className={className} size={containerSize}>\n          {avatarSrc && (\n            <AvatarImage\n              className={`avatarImage ${\n                hasHoverEffect ? 'hasHoverEffect' : ''\n              }`}\n              src={avatarSrc}\n              alt=\"\"\n              size={containerSize}\n              borderThickness={borderThickness}\n              borderColor={borderColor}\n              borderHoverColor={\n                moderator ? colors.clRedError : borderHoverColor\n              }\n              bgColor={bgColor}\n              padding={padding}\n            />\n          )}\n\n          {!avatarSrc && !hideIfNoAvatar && (\n            <AvatarIcon\n              className={`avatarIcon ${hasHoverEffect ? 'hasHoverEffect' : ''}`}\n              name=\"user\"\n              size={containerSize}\n              fillColor={fillColor}\n              fillHoverColor={fillHoverColor}\n              borderThickness={borderThickness}\n              borderColor={borderColor}\n              borderHoverColor={\n                moderator ? colors.clRedError : borderHoverColor\n              }\n              bgColor={bgColor}\n              padding={padding}\n            />\n          )}\n\n          {moderator && (\n            <BadgeIcon\n              name=\"clShield\"\n              size={badgeSize}\n              fill={colors.clRedError}\n            />\n          )}\n\n          {verified && addVerificationBadge && (\n            <FeatureFlag name=\"verification\">\n              <BadgeIcon\n                name=\"checkmark-full\"\n                size={badgeSize}\n                fill={colors.clGreen}\n              />\n            </FeatureFlag>\n          )}\n        </Container>\n      );\n\n      if (isLinkToProfile && hasValidProfileLink) {\n        return <Link to={profileLink}>{AvatarComponent}</Link>;\n      }\n\n      return AvatarComponent;\n    }\n\n    return null;\n  }\n);\n\nexport default injectIntl(Avatar);\n","import 'whatwg-fetch';\nimport { stringify } from 'qs';\nimport { getJwt } from 'utils/auth/jwt';\nimport { isString } from 'lodash-es';\n\nexport default function request<T>(\n  url,\n  data,\n  options,\n  queryParameters\n): Promise<T> {\n  const urlParams = stringify(queryParameters, {\n    arrayFormat: 'brackets',\n    addQueryPrefix: true,\n  });\n  const urlWithParams = `${url}${urlParams}`;\n  const jwt = getJwt();\n  const defaultOptions: { [key: string]: any } = {\n    headers: {\n      'Content-Type': 'application/json',\n    },\n  };\n\n  if (jwt) {\n    defaultOptions.headers['Authorization'] = `Bearer ${jwt}`;\n  }\n\n  if (data) {\n    defaultOptions.body = JSON.stringify(data);\n  }\n\n  return fetch(urlWithParams, { ...defaultOptions, ...options })\n    .then((response) => {\n      return Promise.all([\n        response,\n        response.json().catch(() => {\n          if (response.ok || response.status === 404) return {};\n          return new Error('Unsupported case. No valid JSON.');\n        }),\n      ]);\n    })\n    .then((result) => {\n      const response = result[0];\n      const json = result[1];\n\n      if (response.ok || response.status === 200) {\n        return json;\n      }\n      const errorMessage = isString(json?.error)\n        ? json.error\n        : response.statusText || 'unknown error';\n      const error = new Error(`error for ${urlWithParams}: ${errorMessage}`);\n      if (json) {\n        // The error reasons may be encoded in the\n        // json content (this happens e.g. for\n        // xlsx invites).\n        Object.assign(error, { json });\n      }\n      throw error;\n    });\n}\n\n// we use xhr rather than fetch API, to enforce response type\nexport function requestBlob(url, type, queryParametersObject?): Promise<Blob> {\n  const urlParams = stringify(queryParametersObject, {\n    arrayFormat: 'brackets',\n    addQueryPrefix: true,\n  });\n  const urlWithParams = `${url}${urlParams}`;\n\n  return new Promise((resolve, reject) => {\n    const xhr = new XMLHttpRequest();\n    xhr.open('GET', urlWithParams, true);\n    xhr.responseType = 'blob';\n    xhr.setRequestHeader('Content-Type', type);\n    xhr.setRequestHeader('Authorization', `Bearer ${getJwt()}`);\n    xhr.onload = () => {\n      if (xhr.status >= 200 && xhr.status < 300) {\n        const blob = new Blob([xhr.response], { type });\n        resolve(blob);\n      } else {\n        const error = new Error(xhr.statusText);\n        reject(error);\n      }\n    };\n    xhr.send(undefined);\n  });\n}\n\n// we use xhr rather than fetch API, to enforce response type\nexport function requestBlobPost(url, type, data): Promise<Blob> {\n  const urlWithParams = `${url}`;\n\n  return new Promise((resolve, reject) => {\n    const xhr = new XMLHttpRequest();\n    xhr.open('GET', urlWithParams, true);\n    xhr.responseType = 'blob';\n    xhr.setRequestHeader('Content-Type', type);\n    xhr.setRequestHeader('Authorization', `Bearer ${getJwt()}`);\n    xhr.onload = () => {\n      if (xhr.status >= 200 && xhr.status < 300) {\n        const blob = new Blob([xhr.response], { type });\n        resolve(blob);\n      } else {\n        const error = new Error(xhr.statusText);\n        reject(error);\n      }\n    };\n    xhr.send(data);\n  });\n}\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  copyLink: {\n    id: 'app.components.ProjectTemplatePreview.copyLink',\n    defaultMessage: 'Copy link',\n  },\n  copied: {\n    id: 'app.components.ProjectTemplatePreview.copied',\n    defaultMessage: 'Copied',\n  },\n  alsoUsedIn: {\n    id: 'app.components.ProjectTemplatePreview.alsoUsedIn',\n    defaultMessage: 'Also used in these cities:',\n  },\n});\n","import { API_PATH } from 'containers/App/constants';\nimport streams, { IStreamParams } from 'utils/streams';\nimport { IRelationship, Multiloc } from 'typings';\n\nexport interface IUserCustomFieldOptionData {\n  id: string;\n  type: string;\n  attributes: {\n    key: string;\n    title_multiloc: Multiloc;\n    ordering: number;\n    created_at: string;\n    updated_at: string;\n  };\n  relationships: {\n    custom_field_options: {\n      data: IRelationship;\n    };\n  };\n}\n\nexport interface IUserCustomFieldOptions {\n  data: IUserCustomFieldOptionData[];\n}\n\nexport interface IUserCustomFieldOption {\n  data: IUserCustomFieldOptionData;\n}\n\nexport function userCustomFieldOptionsStream(\n  customFieldId: string,\n  streamParams: IStreamParams | null = null\n) {\n  return streams.get<IUserCustomFieldOptions>({\n    apiEndpoint: `${API_PATH}/users/custom_fields/${customFieldId}/custom_field_options`,\n    ...streamParams,\n  });\n}\n\nexport function userCustomFieldOptionStream(\n  customFieldId: string,\n  customFieldOptionId: string,\n  streamParams: IStreamParams | null = null\n) {\n  return streams.get<IUserCustomFieldOption>({\n    apiEndpoint: `${API_PATH}/users/custom_fields/${customFieldId}/custom_field_options/${customFieldOptionId}`,\n    ...streamParams,\n  });\n}\n\nexport function addUserCustomFieldOption(customFieldId: string, data) {\n  return streams.add<IUserCustomFieldOption>(\n    `${API_PATH}/users/custom_fields/${customFieldId}/custom_field_options`,\n    { custom_field_option: data }\n  );\n}\n\nexport function updateUserCustomFieldOption(\n  customFieldId: string,\n  optionId: string,\n  params: {\n    title_multiloc: Multiloc;\n  }\n) {\n  return streams.update<IUserCustomFieldOptions>(\n    `${API_PATH}/users/custom_fields/${customFieldId}/custom_field_options/${optionId}`,\n    optionId,\n    { custom_field_option: params }\n  );\n}\n\nexport async function deleteUserCustomFieldOption(\n  customFieldId: string,\n  optionId: string\n) {\n  const response = await streams.delete(\n    `${API_PATH}/users/custom_fields/${customFieldId}/custom_field_options/${optionId}`,\n    optionId\n  );\n\n  streams.fetchAllWith({\n    apiEndpoint: [\n      `${API_PATH}/users/custom_fields/${customFieldId}/custom_field_options`,\n    ],\n  });\n\n  return response;\n}\n\nexport async function reorderUserCustomFieldOption(\n  customFieldId: string,\n  customFieldOptionId: string,\n  params: { ordering: number }\n) {\n  const response = await streams.update<IUserCustomFieldOption>(\n    `${API_PATH}/users/custom_fields/${customFieldId}/custom_field_options/${customFieldOptionId}/reorder`,\n    customFieldOptionId,\n    { custom_field_option: params }\n  );\n\n  streams.fetchAllWith({\n    apiEndpoint: [\n      `${API_PATH}/users/custom_fields/${customFieldId}/custom_field_options`,\n    ],\n  });\n\n  return response;\n}\n","import React from 'react';\nimport { IProjectData } from 'services/projects';\nimport styled from 'styled-components';\n\n// i18n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from './messages';\n\n// components\nimport Timeline from './Timeline';\nimport Continuous from './Continuous';\nimport { Section, SubSectionTitle } from 'components/admin/Section';\n\nconst StyledSection = styled(Section)`\n  margin-bottom: 30px;\n`;\n\ninterface Props {\n  project: IProjectData;\n}\n\nconst Granular = ({ project }: Props) => {\n  const projectId = project.id;\n\n  return (\n    <StyledSection>\n      <SubSectionTitle>\n        <FormattedMessage {...messages.granularPermissionsTitle} />\n      </SubSectionTitle>\n      {project && project.attributes.process_type === 'timeline' && (\n        <Timeline projectId={projectId} />\n      )}\n      {project && project.attributes.process_type === 'continuous' && (\n        <Continuous projectId={projectId} />\n      )}\n    </StyledSection>\n  );\n};\n\nexport default Granular;\n","import { API_PATH } from 'containers/App/constants';\nimport request from 'utils/request';\nimport streams, { IStreamParams } from 'utils/streams';\nimport { IRelationship, Multiloc } from 'typings';\n\ninterface CommentAttributes {\n  upvotes_count: number;\n  downvotes_count: number;\n  created_at: string;\n  updated_at: string;\n  children_count: number;\n}\n\ninterface IPresentComment extends CommentAttributes {\n  body_multiloc: Multiloc;\n  publication_status: 'published';\n}\n\ninterface IDeletedComment extends CommentAttributes {\n  body_multiloc: null;\n  publication_status: 'deleted';\n}\n\nexport interface ICommentData {\n  id: string;\n  type: 'comment';\n  attributes: IPresentComment | IDeletedComment;\n  relationships: {\n    post: {\n      data: IRelationship;\n    };\n    author: {\n      data: IRelationship | null;\n    };\n    parent: {\n      data: IRelationship | null;\n    };\n    user_vote?: {\n      data: IRelationship | null;\n    };\n  };\n}\n\nexport interface ICommentLinks {\n  self: string;\n  first: string;\n  prev: string;\n  next: string;\n  last: string;\n}\n\nexport interface IComment {\n  data: ICommentData;\n}\n\nexport interface IComments {\n  data: ICommentData[];\n  links: ICommentLinks;\n}\n\nexport interface IUpdatedComment {\n  author_id?: string;\n  parent_id?: string;\n  body_multiloc: { [key: string]: string };\n}\n\nexport const DeleteReasonCode = {\n  irrelevant: 'irrelevant',\n  inappropriate: 'inappropriate',\n  other: 'other',\n};\n\nexport interface DeleteReason {\n  reason_code: keyof typeof DeleteReasonCode;\n  other_reason: string | null;\n}\n\nexport type CommentsSort = '-new' | 'upvotes_count' | 'new' | '-upvotes_count';\n\nexport function commentStream(commentId: string) {\n  return streams.get<IComment>({\n    apiEndpoint: `${API_PATH}/comments/${commentId}`,\n  });\n}\n\nexport function childCommentsStream(\n  commentId: string,\n  streamParams: IStreamParams | null = null\n) {\n  return streams.get<IComments>({\n    apiEndpoint: `${API_PATH}/comments/${commentId}/children`,\n    ...streamParams,\n  });\n}\n\nexport function commentsForIdeaStream(\n  ideaId: string,\n  streamParams: IStreamParams | null = null\n) {\n  return streams.get<IComments>({\n    apiEndpoint: `${API_PATH}/ideas/${ideaId}/comments`,\n    ...streamParams,\n  });\n}\n\nexport function commentsForInitiativeStream(\n  initiativeId: string,\n  streamParams: IStreamParams | null = null\n) {\n  return streams.get<IComments>({\n    apiEndpoint: `${API_PATH}/initiatives/${initiativeId}/comments`,\n    ...streamParams,\n  });\n}\n\nexport function commentsForUserStream(\n  userId: string,\n  streamParams: IStreamParams | null = null\n) {\n  return streams.get<IComments>({\n    apiEndpoint: `${API_PATH}/users/${userId}/comments`,\n    ...streamParams,\n  });\n}\n\nexport async function addCommentToIdea(\n  ideaId: string,\n  projectId: string,\n  authorId: string,\n  body: { [key: string]: string }\n) {\n  const comment = await streams.add<IComment>(\n    `${API_PATH}/ideas/${ideaId}/comments`,\n    {\n      comment: {\n        author_id: authorId,\n        body_multiloc: body,\n      },\n    },\n    true\n  );\n\n  // refetch commentsForUser and comments for user count\n  streams.fetchAllWith({\n    apiEndpoint: [\n      `${API_PATH}/users/${authorId}/comments`,\n      `${API_PATH}/users/${authorId}/comments_count`,\n    ],\n    dataId: [ideaId, projectId, comment.data.id],\n  });\n\n  return comment;\n}\n\nexport async function addCommentToInitiative(\n  initiativeId: string,\n  authorId: string,\n  body: { [key: string]: string }\n) {\n  const comment = await streams.add<IComment>(\n    `${API_PATH}/initiatives/${initiativeId}/comments`,\n    {\n      comment: {\n        author_id: authorId,\n        body_multiloc: body,\n      },\n    },\n    true\n  );\n\n  // refetch commentsForUser and comments for user count\n  streams.fetchAllWith({\n    apiEndpoint: [\n      `${API_PATH}/users/${authorId}/comments`,\n      `${API_PATH}/users/${authorId}/comments_count`,\n    ],\n    dataId: [initiativeId, comment.data.id],\n  });\n\n  return comment;\n}\n\nexport async function addCommentToIdeaComment(\n  ideaId: string,\n  projectId: string,\n  authorId: string,\n  parentCommentId: string,\n  body: { [key: string]: string },\n  waitForChildCommentsRefetch = false\n) {\n  const comment = await streams.add<IComment>(\n    `${API_PATH}/ideas/${ideaId}/comments`,\n    {\n      comment: {\n        author_id: authorId,\n        parent_id: parentCommentId,\n        body_multiloc: body,\n      },\n    },\n    true\n  );\n\n  // refetch commentsForUser and comments for user count\n  streams.fetchAllWith({\n    apiEndpoint: [\n      `${API_PATH}/users/${authorId}/comments`,\n      `${API_PATH}/users/${authorId}/comments_count`,\n    ],\n  });\n\n  if (waitForChildCommentsRefetch) {\n    await streams.fetchAllWith({\n      apiEndpoint: [`${API_PATH}/comments/${parentCommentId}/children`],\n      dataId: [ideaId, projectId, parentCommentId, comment.data.id],\n    });\n  } else {\n    streams.fetchAllWith({\n      dataId: [ideaId, projectId, parentCommentId, comment.data.id],\n      apiEndpoint: [`${API_PATH}/comments/${parentCommentId}/children`],\n    });\n  }\n\n  return comment;\n}\n\nexport async function addCommentToInitiativeComment(\n  initiativeId: string,\n  authorId: string,\n  parentCommentId: string,\n  body: { [key: string]: string },\n  waitForChildCommentsRefetch = false\n) {\n  const comment = await streams.add<IComment>(\n    `${API_PATH}/initiatives/${initiativeId}/comments`,\n    {\n      comment: {\n        author_id: authorId,\n        parent_id: parentCommentId,\n        body_multiloc: body,\n      },\n    },\n    true\n  );\n\n  // refetch commentsForUser and comments for user count\n  streams.fetchAllWith({\n    apiEndpoint: [\n      `${API_PATH}/users/${authorId}/comments`,\n      `${API_PATH}/users/${authorId}/comments_count`,\n    ],\n  });\n\n  if (waitForChildCommentsRefetch) {\n    await streams.fetchAllWith({\n      apiEndpoint: [`${API_PATH}/comments/${parentCommentId}/children`],\n      dataId: [initiativeId, parentCommentId, comment.data.id],\n    });\n  } else {\n    streams.fetchAllWith({\n      dataId: [initiativeId, parentCommentId, comment.data.id],\n      apiEndpoint: [`${API_PATH}/comments/${parentCommentId}/children`],\n    });\n  }\n\n  return comment;\n}\n\nexport async function updateComment(\n  commentId: string,\n  object: IUpdatedComment\n) {\n  const response = await streams.update<IComment>(\n    `${API_PATH}/comments/${commentId}`,\n    commentId,\n    { comment: object }\n  );\n\n  // refetch commentsForUser\n  if (object.author_id) {\n    streams.fetchAllWith({\n      apiEndpoint: [`${API_PATH}/users/${object.author_id}/comments`],\n    });\n  }\n\n  return response;\n}\n\nexport async function markForDeletion(\n  commentId: string,\n  authorId?: string,\n  projectId?: string | null,\n  reason?: DeleteReason\n) {\n  if (reason && reason.reason_code !== 'other') {\n    reason.other_reason = null;\n  }\n\n  const response = await request(\n    `${API_PATH}/comments/${commentId}/mark_as_deleted`,\n    { comment: reason },\n    { method: 'POST' },\n    {}\n  );\n  const dataIdsToRefetch = projectId ? [commentId, projectId] : [commentId];\n  const apiEndpointsToRefetch = authorId\n    ? [\n        `${API_PATH}/users/${authorId}/comments`,\n        `${API_PATH}/users/${authorId}/comments_count`,\n      ]\n    : [];\n\n  await streams.fetchAllWith({\n    dataId: dataIdsToRefetch,\n    apiEndpoint: apiEndpointsToRefetch,\n  });\n\n  return response;\n}\n","import React, { memo } from 'react';\nimport useIdea from 'hooks/useIdea';\nimport useProject from 'hooks/useProject';\nimport usePhases from 'hooks/usePhases';\nimport { IOfficialFeedbackOnCommentedIdeaNotificationData } from 'services/notifications';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { getInputTerm } from 'services/participationContexts';\n\n// i18n\nimport messages from '../../messages';\nimport { FormattedMessage } from 'utils/cl-intl';\nimport { getInputTermMessage } from 'utils/i18n';\n\n// components\nimport NotificationWrapper from '../NotificationWrapper';\nimport T from 'components/T';\n\ninterface Props {\n  notification: IOfficialFeedbackOnCommentedIdeaNotificationData;\n}\n\nconst OfficialFeedbackOnCommentedIdeaNotification = memo(\n  ({ notification }: Props) => {\n    const idea = useIdea({ ideaSlug: notification.attributes.post_slug });\n    const projectId = !isNilOrError(idea)\n      ? idea.relationships.project.data.id\n      : null;\n    const project = useProject({ projectId });\n    const phases = usePhases(projectId);\n\n    if (!isNilOrError(project)) {\n      const inputTerm = getInputTerm(\n        project.attributes.process_type,\n        project,\n        phases\n      );\n\n      return (\n        <NotificationWrapper\n          linkTo={`/ideas/${notification.attributes.post_slug}`}\n          timing={notification.attributes.created_at}\n          icon=\"comments\"\n          isRead={!!notification.attributes.read_at}\n        >\n          <FormattedMessage\n            {...getInputTermMessage(inputTerm, {\n              idea: messages.officialFeedbackOnCommentedIdea,\n              option: messages.officialFeedbackOnCommentedOption,\n              project: messages.officialFeedbackOnCommentedProject,\n              question: messages.officialFeedbackOnCommentedQuestion,\n              issue: messages.officialFeedbackOnCommentedIssue,\n              contribution: messages.officialFeedbackOnCommentedContribution,\n            })}\n            values={{\n              officialName: (\n                <T value={notification.attributes.official_feedback_author} />\n              ),\n            }}\n          />\n        </NotificationWrapper>\n      );\n    }\n\n    return null;\n  }\n);\n\nexport default OfficialFeedbackOnCommentedIdeaNotification;\n","import React from 'react';\n\n// components\nimport { Toggle, IconTooltip } from 'cl2-component-library';\nimport { SectionField, SubSectionTitle } from 'components/admin/Section';\nimport Error from 'components/UI/Error';\nimport { LabelBudgetingInput } from './labels';\nimport CustomFieldPicker from './CustomFieldPicker';\nimport DefaultViewPicker from './DefaultViewPicker';\nimport SortingPicker from './SortingPicker';\nimport {\n  ToggleRow,\n  ToggleLabel,\n  BudgetingAmountInput,\n  BudgetingAmountInputError,\n} from './styling';\n\n// i18n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from '../../messages';\n\n// typings\nimport {\n  IdeaDefaultSortMethod,\n  InputTerm,\n} from 'services/participationContexts';\nimport { IOption } from 'cl2-component-library/dist/utils/typings';\nimport { ApiErrors } from '..';\n\ninterface Props {\n  isCustomInputTermEnabled: boolean;\n  input_term: InputTerm | undefined;\n  handleInputTermChange: (option: IOption) => void;\n  inputTermOptions: IOption[];\n  min_budget: number | null | undefined;\n  max_budget: number | null | undefined;\n  commenting_enabled: boolean | null | undefined;\n  minBudgetError: string | null;\n  maxBudgetError: string | null;\n  handleMinBudgetingAmountChange: (newMinBudget: string) => void;\n  handleMaxBudgetingAmountChange: (newMaxBudget: string) => void;\n  toggleCommentingEnabled: () => void;\n  apiErrors: ApiErrors;\n  presentation_mode: 'card' | 'map' | null | undefined;\n  handleIdeasDisplayChange: (presentation_mode: 'map' | 'card') => void;\n  ideas_order: IdeaDefaultSortMethod | undefined;\n  handleIdeaDefaultSortMethodChange: (\n    ideas_order: IdeaDefaultSortMethod\n  ) => void;\n}\n\nexport default ({\n  isCustomInputTermEnabled,\n  input_term,\n  handleInputTermChange,\n  inputTermOptions,\n  min_budget,\n  max_budget,\n  commenting_enabled,\n  minBudgetError,\n  maxBudgetError,\n  handleMinBudgetingAmountChange,\n  handleMaxBudgetingAmountChange,\n  toggleCommentingEnabled,\n  apiErrors,\n  presentation_mode,\n  handleIdeasDisplayChange,\n  ideas_order,\n  handleIdeaDefaultSortMethodChange,\n}: Props) => {\n  const minBudgetInputValue =\n    // need to check the type because if min_budget is 0,\n    // it'll evaluate to null\n    typeof min_budget === 'number' ? min_budget.toString() : null;\n  const maxBudgetInputValue =\n    // maxBudget can't be lower than 1, but it's still a good practice\n    // to check for type instead of relying on JS type coercion\n    typeof max_budget === 'number' ? max_budget.toString() : null;\n\n  return (\n    <>\n      {isCustomInputTermEnabled && (\n        <CustomFieldPicker\n          input_term={input_term}\n          handleInputTermChange={handleInputTermChange}\n          inputTermOptions={inputTermOptions}\n        />\n      )}\n\n      <SectionField>\n        <SubSectionTitle>\n          <FormattedMessage {...messages.totalBudget} />\n          <IconTooltip\n            content={<FormattedMessage {...messages.totalBudgetExplanation} />}\n          />\n        </SubSectionTitle>\n        <BudgetingAmountInput\n          onChange={handleMinBudgetingAmountChange}\n          type=\"number\"\n          min=\"0\"\n          value={minBudgetInputValue}\n          label={\n            <LabelBudgetingInput header=\"minimum\" tooltip=\"minimumTooltip\" />\n          }\n        />\n        <BudgetingAmountInputError text={minBudgetError} />\n        <BudgetingAmountInputError\n          apiErrors={apiErrors && apiErrors.min_budget}\n        />\n      </SectionField>\n      <SectionField>\n        <BudgetingAmountInput\n          onChange={handleMaxBudgetingAmountChange}\n          type=\"number\"\n          min=\"1\"\n          value={maxBudgetInputValue}\n          label={\n            <LabelBudgetingInput header=\"maximum\" tooltip=\"maximumTooltip\" />\n          }\n        />\n        <BudgetingAmountInputError text={maxBudgetError} />\n        <BudgetingAmountInputError\n          apiErrors={apiErrors && apiErrors.max_budget}\n        />\n      </SectionField>\n      <SectionField>\n        <SubSectionTitle>\n          <FormattedMessage {...messages.phasePermissions} />\n        </SubSectionTitle>\n\n        <ToggleRow>\n          <ToggleLabel>\n            <FormattedMessage {...messages.inputCommentingEnabled} />\n          </ToggleLabel>\n          <Toggle\n            checked={commenting_enabled as boolean}\n            onChange={toggleCommentingEnabled}\n          />\n        </ToggleRow>\n        <Error apiErrors={apiErrors && apiErrors.commenting_enabled} />\n      </SectionField>\n\n      <DefaultViewPicker\n        presentation_mode={presentation_mode}\n        apiErrors={apiErrors}\n        handleIdeasDisplayChange={handleIdeasDisplayChange}\n      />\n\n      <SortingPicker\n        ideas_order={ideas_order}\n        apiErrors={apiErrors}\n        handleIdeaDefaultSortMethodChange={handleIdeaDefaultSortMethodChange}\n      />\n    </>\n  );\n};\n","import FormattedMessage from './FormattedMessage';\nimport injectIntl from './injectIntl';\n// tslint:disable-next-line:no-vanilla-formatted-messages\nimport {\n  Messages,\n  FormattedMessage as OriginalFormattedMessage,\n} from 'react-intl';\n\ntype IMessageInfo = {\n  message: Messages['key'];\n  values?: OriginalFormattedMessage.Props['values'];\n};\n\ntype MessageDescriptor = OriginalFormattedMessage.MessageDescriptor;\n\nexport { FormattedMessage, injectIntl, IMessageInfo, MessageDescriptor };\n","import React from 'react';\nimport { isString } from 'lodash-es';\nimport { Subscription, BehaviorSubject, of } from 'rxjs';\nimport { distinctUntilChanged, tap, switchMap } from 'rxjs/operators';\nimport shallowCompare from 'utils/shallowCompare';\nimport {\n  IMachineTranslationData,\n  machineTranslationByIdeaIdStream,\n  machineTranslationByCommentIdStream,\n  machineTranslationByInitiativeIdStream,\n} from 'modules/commercial/machine_translations/services/machineTranslations';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { Locale } from 'typings';\n\ninterface InputProps {\n  attributeName: 'body_multiloc' | 'title_multiloc';\n  localeTo: Locale;\n  id: string;\n  context: 'idea' | 'initiative' | 'comment';\n  resetOnChange?: boolean;\n}\n\nexport type GetMachineTranslationChildProps =\n  | IMachineTranslationData\n  | undefined\n  | null\n  | Error;\n\ntype children = (\n  renderProps: GetMachineTranslationChildProps\n) => JSX.Element | null;\n\ninterface Props extends InputProps {\n  children?: children;\n}\n\ninterface State {\n  machineTranslation: GetMachineTranslationChildProps;\n}\n\nexport default class GetMachineTranslation extends React.Component<\n  Props,\n  State\n> {\n  private inputProps$: BehaviorSubject<InputProps>;\n  private subscriptions: Subscription[];\n\n  static defaultProps = {\n    resetOnChange: true,\n  };\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      machineTranslation: undefined,\n    };\n  }\n\n  componentDidMount() {\n    const { attributeName, localeTo, id, context, resetOnChange } = this.props;\n\n    this.inputProps$ = new BehaviorSubject({\n      attributeName,\n      localeTo,\n      id,\n      context,\n      resetOnChange,\n    });\n\n    this.subscriptions = [\n      this.inputProps$\n        .pipe(\n          distinctUntilChanged((prev, next) => shallowCompare(prev, next)),\n          tap(\n            () =>\n              resetOnChange && this.setState({ machineTranslation: undefined })\n          ),\n          switchMap(({ id }) => {\n            const queryParameters = {\n              machine_translation: {\n                locale_to: localeTo,\n                attribute_name: attributeName,\n              },\n            };\n\n            if (isString(id)) {\n              switch (context) {\n                case 'idea':\n                  return machineTranslationByIdeaIdStream(id, {\n                    queryParameters,\n                  }).observable;\n                case 'initiative':\n                  return machineTranslationByInitiativeIdStream(id, {\n                    queryParameters,\n                  }).observable;\n                case 'comment':\n                  return machineTranslationByCommentIdStream(id, {\n                    queryParameters,\n                  }).observable;\n              }\n            }\n\n            return of(null);\n          })\n        )\n        .subscribe((machineTranslation) => {\n          this.setState({\n            machineTranslation: !isNilOrError(machineTranslation)\n              ? machineTranslation.data\n              : machineTranslation,\n          });\n        }),\n    ];\n  }\n\n  componentDidUpdate() {\n    const { attributeName, localeTo, id, context, resetOnChange } = this.props;\n    this.inputProps$.next({\n      attributeName,\n      localeTo,\n      id,\n      context,\n      resetOnChange,\n    });\n  }\n\n  componentWillUnmount() {\n    this.subscriptions.forEach((subscription) => subscription.unsubscribe());\n  }\n\n  render() {\n    const { children } = this.props;\n    const { machineTranslation } = this.state;\n    return (children as children)(machineTranslation);\n  }\n}\n","// libraries\nimport React, { PureComponent } from 'react';\nimport { map } from 'lodash-es';\n\n// resources\nimport { isNilOrError } from 'utils/helperUtils';\n\n// services\nimport {\n  usersByRegFieldStream,\n  IUsersByRegistrationField,\n  usersByRegFieldXlsxEndpoint,\n} from 'modules/commercial/user_custom_fields/services/stats';\n\n// intl\nimport { injectIntl } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\nimport localize, { InjectedLocalized } from 'utils/localize';\nimport messages from 'containers/Admin/dashboard/messages';\n\n// components\nimport BarChartByCategory from 'containers/Admin/dashboard/users/charts/BarChartByCategory';\nimport PieChartByCategory from 'containers/Admin/dashboard/users/charts/PieChartByCategory';\n\nimport AreaChart from 'modules/commercial/user_custom_fields/admin/components/AreaChart';\nimport GenderChart from 'modules/commercial/user_custom_fields/admin/components/GenderChart';\nimport AgeChart from 'modules/commercial/user_custom_fields/admin/components/AgeChart';\n\nimport GetUserCustomFields, {\n  GetUserCustomFieldsChildProps,\n} from '../../resources/GetUserCustomFields';\n\ninterface InputProps {\n  currentGroupFilter: string | undefined;\n  currentGroupFilterLabel: string | undefined;\n  startAt: string | null | undefined;\n  endAt: string | null;\n}\n\ninterface DataProps {\n  customFields: GetUserCustomFieldsChildProps;\n}\n\nexport interface Props extends InputProps, DataProps {}\n\nexport class RegistrationFieldsToGraphs extends PureComponent<\n  Props & InjectedIntlProps & InjectedLocalized\n> {\n  convertToGraphFormat = (data: IUsersByRegistrationField) => {\n    const {\n      series: { users },\n      options,\n    } = data;\n    const res = map(options, (value, key) => {\n      return {\n        value: users[key] || 0,\n        name: this.props.localize(value.title_multiloc),\n        code: key,\n      };\n    });\n\n    if (users['_blank']) {\n      res.push({\n        value: users['_blank'],\n        name: this.props.intl.formatMessage(messages._blank),\n        code: '_blank',\n      });\n    }\n\n    return res.length > 0 ? res : null;\n  };\n  convertCheckboxToGraphFormat = (data: IUsersByRegistrationField) => {\n    const {\n      series: { users },\n    } = data;\n    const res = ['_blank', 'true', 'false'].map((key) => ({\n      value: users[key] || 0,\n      name: this.props.intl.formatMessage(messages[key]),\n      code: 'key',\n    }));\n\n    return res.length > 0 ? res : null;\n  };\n\n  render() {\n    const {\n      customFields,\n      localize,\n      startAt,\n      endAt,\n      currentGroupFilter,\n      currentGroupFilterLabel,\n    } = this.props;\n\n    if (isNilOrError(customFields)) {\n      return null;\n    }\n\n    return customFields.map((field, index) => {\n      if (field.attributes.enabled) {\n        if (field.attributes.code === 'birthyear') {\n          return (\n            <AgeChart\n              key={index}\n              startAt={startAt}\n              endAt={endAt}\n              currentGroupFilter={currentGroupFilter}\n              currentGroupFilterLabel={currentGroupFilterLabel}\n            />\n          );\n        }\n        if (field.attributes.input_type === 'number') {\n          return;\n        }\n        if (field.attributes.code === 'gender') {\n          return (\n            <GenderChart\n              key={index}\n              startAt={startAt}\n              endAt={endAt}\n              currentGroupFilter={currentGroupFilter}\n              currentGroupFilterLabel={currentGroupFilterLabel}\n            />\n          );\n        }\n\n        if (field.attributes.code === 'domicile') {\n          return (\n            <AreaChart\n              key={index}\n              startAt={startAt}\n              endAt={endAt}\n              currentGroupFilter={currentGroupFilter}\n              currentGroupFilterLabel={currentGroupFilterLabel}\n            />\n          );\n        }\n\n        if (field.attributes.input_type === 'checkbox') {\n          return (\n            <PieChartByCategory\n              key={index}\n              startAt={startAt}\n              endAt={endAt}\n              currentGroupFilter={currentGroupFilter}\n              currentGroupFilterLabel={currentGroupFilterLabel}\n              convertToGraphFormat={this.convertCheckboxToGraphFormat}\n              graphTitleString={localize(field.attributes.title_multiloc)}\n              stream={usersByRegFieldStream}\n              graphUnit=\"users\"\n              customId={field.id}\n              xlsxEndpoint={usersByRegFieldXlsxEndpoint(field.id)}\n            />\n          );\n        } else {\n          return (\n            <BarChartByCategory\n              key={index}\n              startAt={startAt}\n              endAt={endAt}\n              currentGroupFilter={currentGroupFilter}\n              currentGroupFilterLabel={currentGroupFilterLabel}\n              convertToGraphFormat={this.convertToGraphFormat}\n              graphTitleString={localize(field.attributes.title_multiloc)}\n              stream={usersByRegFieldStream}\n              graphUnit=\"users\"\n              customId={field.id}\n              xlsxEndpoint={usersByRegFieldXlsxEndpoint(field.id)}\n            />\n          );\n        }\n      }\n\n      return null;\n    });\n  }\n}\n\nconst RegistrationFieldsToGraphsWithHoCs = localize<Props>(\n  injectIntl<Props & InjectedLocalized>(RegistrationFieldsToGraphs as any)\n) as any;\n\nexport default (inputProps: InputProps) => (\n  <GetUserCustomFields\n    inputTypes={['select', 'multiselect', 'checkbox', 'number']}\n  >\n    {(customFields) => (\n      <RegistrationFieldsToGraphsWithHoCs\n        {...inputProps}\n        customFields={customFields}\n      />\n    )}\n  </GetUserCustomFields>\n);\n","import React from 'react';\nimport styled, { useTheme } from 'styled-components';\nimport Avatar from 'components/Avatar';\nimport UserName from 'components/UI/UserName';\n\n// style\nimport { colors, media, fontSizes } from 'utils/styleUtils';\nimport Outlet from 'components/Outlet';\n\nconst UserNameContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin-right: 5px;\n`;\n\nconst StyledUserName = styled(UserName)`\n  margin-right: 4px;\n  white-space: nowrap;\n  font-size: ${fontSizes.base}px;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  transition: all 100ms ease-out;\n\n  ${media.smallerThanMinTablet`\n    display: none;\n  `}\n`;\n\nconst StyledAvatar = styled(Avatar)``;\n\ninterface Props {\n  userId: string;\n  isVerified: boolean;\n}\n\nconst User = ({ userId, isVerified }: Props) => {\n  const theme: any = useTheme();\n  return (\n    <>\n      <UserNameContainer>\n        <StyledUserName\n          color={theme.navbarTextColor || theme.colorText}\n          userId={userId}\n          hideLastName\n        />\n        <Outlet\n          id=\"app.containers.Navbar.UserMenu.UserNameContainer\"\n          isVerified={isVerified}\n        />\n      </UserNameContainer>\n\n      <StyledAvatar\n        userId={userId}\n        size={30}\n        fillColor={theme?.navbarTextColor || colors.label}\n        addVerificationBadge\n      />\n    </>\n  );\n};\n\nexport default User;\n","import React, { memo } from 'react';\n\n// i18n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from './messages';\n\n// components\nimport { Title } from './styles';\nimport { Icon } from 'cl2-component-library';\n\n// style\nimport styled from 'styled-components';\nimport { fontSizes, colors } from 'utils/styleUtils';\nimport { IVerificationError } from 'components/Verification/verificationModalEvents';\n\n// Types\nconst Container = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst StyledIcon = styled(Icon)`\n  flex: 0 0 60px;\n  width: 60px;\n  height: 60px;\n  fill: ${colors.clRedError};\n  margin-bottom: 30px;\n`;\n\nconst Subtitle = styled.h2`\n  width: 100%;\n  max-width: 500px;\n  color: ${colors.text};\n  font-size: ${fontSizes.medium}px;\n  line-height: normal;\n  font-weight: 300;\n  text-align: center;\n  margin: 0;\n  padding: 0;\n`;\n\ninterface Props {\n  className?: string;\n  error: IVerificationError;\n}\n\nexport default memo<Props>(({ className, error }) => {\n  let message = messages.errorGenericSubtitle;\n\n  if (error) {\n    if (error === 'taken') {\n      message = messages.errorTakenSubtitle;\n    } else if (error === 'not_entitled') {\n      message = messages.errorNotEntitledSubtitle;\n    }\n  }\n\n  return (\n    <Container id=\"e2e-verification-errror\" className={className}>\n      <StyledIcon name=\"error\" />\n      <Title className=\"e2e-user-verified-errror-modal-content\">\n        <strong>\n          <FormattedMessage {...messages.errorTitle} />\n        </strong>\n      </Title>\n      <Subtitle>\n        <FormattedMessage {...message} />\n      </Subtitle>\n    </Container>\n  );\n});\n","import Loadable from 'react-loadable';\nimport { LoadableLoadingAdmin } from 'components/UI/LoadableLoading';\n\nexport default () => ({\n  path: 'pages',\n  component: Loadable({\n    loader: () => import('./'),\n    loading: LoadableLoadingAdmin,\n    delay: 500,\n  }),\n  indexRoute: {\n    component: Loadable({\n      loader: () => import('./All'),\n      loading: LoadableLoadingAdmin,\n      delay: 500,\n    }),\n  },\n  childRoutes: [\n    {\n      path: 'new',\n      component: Loadable({\n        loader: () => import('./New'),\n        loading: LoadableLoadingAdmin,\n        delay: 500,\n      }),\n    },\n    {\n      path: ':pageId',\n      component: Loadable({\n        loader: () => import('./Edit'),\n        loading: LoadableLoadingAdmin,\n        delay: 500,\n      }),\n    },\n  ],\n});\n","import { API_PATH } from 'containers/App/constants';\nimport streams, { IStreamParams } from 'utils/streams';\n\nconst apiEndpoint = `${API_PATH}/project_folders`;\n\nexport interface IProjectFolderFileData {\n  id: string;\n  type: string;\n  attributes: {\n    file: {\n      url: string;\n    };\n    ordering: string | null;\n    name: string;\n    size: number;\n    created_at: string;\n    updated_at: string;\n  };\n}\n\nexport interface IProjectFolderFile {\n  data: IProjectFolderFileData;\n}\n\nexport interface IProjectFolderFiles {\n  data: IProjectFolderFileData[];\n}\n\nexport function projectFolderFilesStream(\n  projectFolderId: string,\n  streamParams: IStreamParams | null = null\n) {\n  return streams.get<IProjectFolderFiles>({\n    apiEndpoint: `${apiEndpoint}/${projectFolderId}/files`,\n    ...streamParams,\n  });\n}\n\nexport function projectFolderFileStream(\n  projectFolderId: string,\n  fileId: string,\n  streamParams: IStreamParams | null = null\n) {\n  return streams.get<IProjectFolderFile>({\n    apiEndpoint: `${apiEndpoint}/${projectFolderId}/files/${fileId}`,\n    ...streamParams,\n  });\n}\n\nexport async function addProjectFolderFile(\n  projectFolderId: string,\n  base64: string,\n  name: string,\n  ordering: number | null = null\n) {\n  return await streams.add<IProjectFolderFile>(\n    `${apiEndpoint}/${projectFolderId}/files`,\n    { file: { name, ordering, file: base64 } }\n  );\n}\n\nexport async function deleteProjectFolderFile(\n  projectFolderId: string,\n  fileId: string\n) {\n  return await streams.delete(\n    `${apiEndpoint}/${projectFolderId}/files/${fileId}`,\n    fileId\n  );\n}\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  inappropriateContentAutoDetected: {\n    id:\n      'app.modules.commercial.flag_inappropriate_content.citizen.components.inappropriateContentAutoDetected',\n    defaultMessage:\n      'Inappropriate content was auto-detected in a post or comment',\n  },\n});\n","import { API_PATH } from 'containers/App/constants';\nimport streams, { IStreamParams } from 'utils/streams';\nimport { Multiloc } from 'typings';\n\nconst apiEndpoint = `${API_PATH}/topics`;\n\ntype DefaultTopicCodes =\n  | 'nature'\n  | 'waste'\n  | 'sustainability'\n  | 'mobility'\n  | 'technology'\n  | 'economy'\n  | 'housing'\n  | 'public_space'\n  | 'safety'\n  | 'education'\n  | 'culture'\n  | 'health'\n  | 'inclusion'\n  | 'community'\n  | 'services'\n  | 'other';\nexport type Code = 'custom' | DefaultTopicCodes;\n\nexport interface ITopicData {\n  id: string;\n  type: string;\n  attributes: {\n    title_multiloc: Multiloc;\n    description_multiloc: Multiloc;\n    icon: string;\n    ordering: number;\n    code: Code;\n  };\n}\n\nexport interface ITopic {\n  data: ITopicData;\n}\n\nexport interface ITopics {\n  data: ITopicData[];\n}\n\nexport function topicByIdStream(topicId: string) {\n  return streams.get<ITopic>({ apiEndpoint: `${apiEndpoint}/${topicId}` });\n}\n\nexport function topicsStream(streamParams: IStreamParams | null = null) {\n  return streams.get<ITopics>({ apiEndpoint, ...streamParams });\n}\n\nexport async function addTopic(object) {\n  const response = await streams.add<ITopic>(apiEndpoint, { topic: object });\n  await streams.fetchAllWith({ apiEndpoint: [apiEndpoint] });\n  return response;\n}\n\nexport function updateTopic(topicId: string, object) {\n  return streams.update<ITopic>(`${apiEndpoint}/${topicId}`, topicId, {\n    topic: object,\n  });\n}\n\nexport function reorderTopic(topicId: string, index: number) {\n  return streams.update<ITopic>(\n    `${API_PATH}/topics/${topicId}/reorder`,\n    topicId,\n    {\n      topic: {\n        ordering: index,\n      },\n    }\n  );\n}\n\nexport function deleteTopic(topicId: string) {\n  return streams.delete(`${apiEndpoint}/${topicId}`, topicId);\n}\n","import React from 'react';\nimport { isBoolean, isString, isArray } from 'lodash-es';\nimport ReactSelect from 'react-select';\nimport { IOption } from 'typings';\nimport selectStyles from 'components/UI/MultipleSelect/styles';\n\nexport type Props = {\n  id?: string;\n  inputId?: string;\n  value: IOption[] | null | IOption['value'];\n  placeholder?: string | JSX.Element;\n  options: IOption[] | null;\n  max?: number;\n  autoBlur?: boolean;\n  onChange: (arg: IOption[]) => void;\n  disabled?: boolean;\n  className?: string;\n};\n\ninterface State {}\n\nexport default class MultipleSelect extends React.PureComponent<Props, State> {\n  private emptyArray: never[];\n\n  constructor(props) {\n    super(props);\n    this.emptyArray = [];\n  }\n\n  handleOnChange = (newValue: IOption[]) => {\n    const { value, max } = this.props;\n    const nextValue =\n      max && newValue && newValue.length > max ? value : newValue;\n    this.props.onChange(nextValue || this.emptyArray);\n  };\n\n  //  Needed to keep our API compatible with react-select v1\n  //  For a native react-select solution, follow this issue:\n  //  https://github.com/JedWatson/react-select/issues/2669\n  findFullOptionValue = (value) => {\n    if (isString(value)) {\n      return (\n        this.props.options &&\n        this.props.options.find((option) => option.value === value)\n      );\n    }\n\n    return value;\n  };\n\n  findFullOptionValues = () => {\n    const { value } = this.props;\n\n    if (isArray(value)) {\n      return value.map(this.findFullOptionValue);\n    }\n\n    return value;\n  };\n\n  render() {\n    const { id, className, disabled } = this.props;\n    let { value, placeholder, options, max, autoBlur } = this.props;\n    const { inputId } = this.props;\n\n    value = this.findFullOptionValues();\n    placeholder = placeholder || '';\n    options = options || this.emptyArray;\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    max = max || undefined;\n    autoBlur = isBoolean(autoBlur) ? autoBlur : false;\n\n    return (\n      <ReactSelect\n        id={id}\n        inputId={inputId}\n        className={className}\n        isMulti\n        isSearchable\n        blurInputOnSelect={autoBlur}\n        backspaceRemovesValue={false}\n        menuShouldScrollIntoView={false}\n        isClearable={false}\n        value={value}\n        placeholder={placeholder as string}\n        options={options}\n        onChange={this.handleOnChange}\n        isDisabled={disabled}\n        styles={selectStyles}\n        menuPlacement=\"auto\"\n      />\n    );\n  }\n}\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  verifyBOSA: {\n    id: 'app.components.VerificationModal.verifyBOSA',\n    defaultMessage: 'Verify with itsme or eID',\n  },\n});\n","import React, { useCallback } from 'react';\nimport { AUTH_PATH } from 'containers/App/constants';\nimport { removeUrlLocale } from 'services/locale';\nimport { getJwt } from 'utils/auth/jwt';\n\n// typings\nimport { IVerificationMethod } from 'services/verificationMethods';\n\n// components\nimport FranceConnectButton from 'components/UI/FranceConnectButton';\n\n// i18n\nimport { injectIntl } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\nimport messages from '../messages';\n\ninterface Props {\n  method: IVerificationMethod;\n  last: boolean;\n}\n\nconst VerificationFranceConnectButton = ({\n  method,\n  intl: { formatMessage },\n}: Props & InjectedIntlProps) => {\n  const handleOnClick = useCallback(() => {\n    const jwt = getJwt();\n    window.location.href = `${AUTH_PATH}/franceconnect?token=${jwt}&pathname=${removeUrlLocale(\n      window.location.pathname\n    )}`;\n  }, []);\n\n  return (\n    <div key={method.id} id={`e2e-${method.attributes.name}-button`}>\n      <FranceConnectButton\n        onClick={handleOnClick}\n        logoAlt={formatMessage(messages.verificationButtonAltText)}\n      />\n    </div>\n  );\n};\n\nexport default injectIntl(VerificationFranceConnectButton);\n","import styled from 'styled-components';\nimport { Icon } from 'cl2-component-library';\nimport { colors } from 'utils/styleUtils';\n\nconst LightningBolt = styled(Icon).attrs({ name: 'lightningBolt' })`\n  flex: 0 0 18px;\n  height: 18px;\n  fill: ${colors.adminOrangeIcons};\n  margin-right: 4px;\n`;\n\nexport default LightningBolt;\n","import React from 'react';\n\nimport { SectionField } from 'components/admin/Section';\nimport { FormattedMessage } from 'utils/cl-intl';\nimport { IconTooltip } from 'cl2-component-library';\nimport { LabelTooltip } from 'containers/Admin/settings/registration';\nimport { IAppConfigurationSettingsCore } from 'services/appConfiguration';\nimport { Multiloc } from 'typings';\nimport InputMultilocWithLocaleSwitcher from 'components/UI/InputMultilocWithLocaleSwitcher';\nimport messages from './messages';\n\ntype Props = {\n  onChange: (propertyName: string) => (multiloc: Multiloc) => void;\n  latestAppConfigCoreSettings: IAppConfigurationSettingsCore;\n};\n\nconst RegistrationQuestions = ({\n  onChange,\n  latestAppConfigCoreSettings,\n}: Props) => {\n  return (\n    <SectionField>\n      <InputMultilocWithLocaleSwitcher\n        type=\"text\"\n        valueMultiloc={\n          latestAppConfigCoreSettings?.custom_fields_signup_helper_text || null\n        }\n        onChange={onChange('custom_fields_signup_helper_text')}\n        label={\n          <LabelTooltip>\n            <FormattedMessage {...messages.step2} />\n            <IconTooltip\n              content={<FormattedMessage {...messages.step2Tooltip} />}\n            />\n          </LabelTooltip>\n        }\n      />\n    </SectionField>\n  );\n};\n\nexport default RegistrationQuestions;\n","import React from 'react';\nimport { Menu } from 'semantic-ui-react';\n\n// Typing\ninterface Props {\n  currentPage: number;\n  totalPages: number;\n  loadPage: (arg: number) => void;\n}\n\nclass Pagination extends React.PureComponent<Props> {\n  constructor(props) {\n    super(props);\n    this.handleItemClick = this.handleItemClick.bind(this);\n  }\n\n  calculateMenuItems(c, m) {\n    const current = c;\n    const last = m;\n    const delta = 2;\n    const left = current - delta;\n    const right = current + delta + 1;\n    const range: number[] = [];\n    const rangeWithDots: number[] = [];\n    let l;\n\n    for (let i = 1; i <= last; i += 1) {\n      if (i === 1 || i === last || (i >= left && i < right)) {\n        range.push(i);\n      }\n    }\n\n    range.forEach((i) => {\n      if (l) {\n        if (i - l === 2) {\n          rangeWithDots.push(l + 1);\n        } else if (i - l !== 1) {\n          rangeWithDots.push(-i);\n        }\n      }\n      rangeWithDots.push(i);\n      l = i;\n    });\n\n    return rangeWithDots;\n  }\n\n  handleItemClick(_event, data) {\n    this.props.loadPage(parseInt(data.name, 10));\n  }\n\n  render() {\n    const { currentPage, totalPages } = this.props;\n    const pageItems = this.calculateMenuItems(currentPage, totalPages);\n    if (totalPages > 1) {\n      return (\n        <Menu pagination={true} floated=\"right\">\n          {pageItems.map((item) => (\n            <Menu.Item\n              key={item}\n              name={item < 0 ? '...' : item.toString()}\n              active={item === currentPage}\n              onClick={this.handleItemClick}\n              disabled={item < 0 || item === currentPage}\n            />\n          ))}\n        </Menu>\n      );\n    }\n    return null;\n  }\n}\n\nexport default Pagination;\n","import React, { Component } from 'react';\nimport { TRule, ruleTypeConstraints } from '../rules';\n\ntype Props = {\n  rule: TRule;\n  value: any;\n  onChange: (value: any) => void;\n};\n\ninterface State {}\n\nclass ValueSelector extends Component<Props, State> {\n  ruleToValueSelector = (rule: TRule) => {\n    if (rule.ruleType) {\n      const ruleType = rule.ruleType;\n\n      if (rule.predicate) {\n        return ruleTypeConstraints[ruleType][rule.predicate];\n      }\n    }\n  };\n\n  render() {\n    const ValueComponent = this.ruleToValueSelector(this.props.rule);\n\n    return ValueComponent && <ValueComponent {...this.props} />;\n  }\n}\n\nexport default ValueSelector;\n","import React, { ReactNode } from 'react';\nimport { ModuleConfiguration } from 'utils/moduleUtils';\nimport CreateProjectFromTemplate from './admin/containers/CreateProjectFromTemplate';\nimport Tab from './admin/components/Tab';\nimport { TTabName } from 'containers/Admin/projects/all/CreateProject';\nimport ProjectTemplatePreviewAdminWithEventWrapper from './admin/containers/ProjectTemplatePreviewAdminWithEventWrapper';\nimport FeatureFlag from 'components/FeatureFlag';\n\ndeclare module 'containers/Admin/projects/all/CreateProject' {\n  export interface ITabNamesMap {\n    template: 'template';\n  }\n}\n\ntype RenderOnSelectedTabValueProps = {\n  selectedTabValue: TTabName;\n  children: ReactNode;\n};\n\nconst RenderOnSelectedTabValue = ({\n  selectedTabValue,\n  children,\n}: RenderOnSelectedTabValueProps) => {\n  if (selectedTabValue !== 'template') return null;\n  return <>{children}</>;\n};\n\nconst configuration: ModuleConfiguration = {\n  routes: {\n    citizen: [\n      {\n        path: 'templates/:projectTemplateId',\n        name: 'project template preview page',\n        container: () =>\n          import('./citizen/containers/ProjectTemplatePreviewCitizen'),\n      },\n    ],\n    'admin.project_templates': [\n      {\n        path: 'templates/:projectTemplateId',\n        name: 'admin project template preview page',\n        container: () =>\n          import('./admin/containers/ProjectTemplatePreviewAdmin'),\n      },\n    ],\n  },\n  outlets: {\n    'app.containers.Admin.projects.all.container': (props) => {\n      return (\n        <FeatureFlag name=\"admin_project_templates\">\n          <ProjectTemplatePreviewAdminWithEventWrapper\n            onRender={props.onRender}\n          />\n        </FeatureFlag>\n      );\n    },\n    'app.containers.Admin.projects.all.createProject': (props) => (\n      <FeatureFlag name=\"admin_project_templates\">\n        <RenderOnSelectedTabValue selectedTabValue={props.selectedTabValue}>\n          <CreateProjectFromTemplate />\n        </RenderOnSelectedTabValue>\n      </FeatureFlag>\n    ),\n    'app.containers.Admin.projects.all.createProject.tabs': (props) => {\n      return (\n        <FeatureFlag name=\"admin_project_templates\">\n          <Tab {...props} />\n        </FeatureFlag>\n      );\n    },\n  },\n};\n\nexport default configuration;\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  tokens: {\n    id: 'app.utils.FormattedCurrency.tokens',\n    defaultMessage: 'tokens',\n  },\n  oneCredit: {\n    id: 'app.utils.FormattedCurrency.oneCredit',\n    defaultMessage: '1 credit',\n  },\n  credits: {\n    id: 'app.utils.FormattedCurrency.credits',\n    defaultMessage: 'credits',\n  },\n  multipleCredits: {\n    id: 'app.utils.FormattedCurrency.multipleCredits',\n    defaultMessage: '{numberOfTokens} credits',\n  },\n});\n","import React from 'react';\nimport { ModuleConfiguration } from 'utils/moduleUtils';\nimport './services/verificationMethods';\nimport GentRrnButton from './components/GentRrnButton';\nimport VerificationFormGentRrn from './components/VerificationFormGentRrn';\n\nconst configuration: ModuleConfiguration = {\n  outlets: {\n    'app.components.VerificationModal.button': (props) => {\n      if (props.method.attributes.name !== 'gent_rrn') return null;\n      return <GentRrnButton {...props} />;\n    },\n    'app.components.VerificationModal.methodStep': (props) => {\n      if (props.method.attributes.name !== 'gent_rrn') return null;\n\n      return <VerificationFormGentRrn {...props} />;\n    },\n  },\n};\n\nexport default configuration;\n","// Every locale-related functions and utilitaries should be implemented here.\n\n/*\n  Locale management outline:\n\n  The locale stream is the source of truth, not the url's locale.\n    - all links are dynamically updated to inlude the freshest value of the stream\n    - changes to the stream change the urls locale\n\n  Preference for setting currentLocale stream (depends on ordering defined in 1):\n    - if logged in, the locale in the authUser object\n    - else, the locale in the cookie if it exists\n    - else, the url's locale\n    - falls back to the first tenant locale\n\n  The locale stream receives a new value :\n    - when authUser changes : on log in, or when the locale field of the user object has changed.\n    - when the tenant changes its supported locales : on first load, or on real change\n      cf 1. Setting locale depending on user, cookie and tenant\n\n    - when updateLocale has been called : on using the langage dropdown.\n      (does not go through 1, so ignores the source of truth in order to change it)\n      If logged in his will update the authUser with new locale\n      else, it will push the new locale to the stream and set a cookie to remember this choice.\n      cf 2. Pushing a locale to the stream\n\n  When the stream has received a new value, it updates the url accordingly.\n    cf 3. Updating the url with newly received locale\n*/\n\n// -----------------------------------------------------------------------------\n// imports and definitions\nimport { BehaviorSubject, combineLatest } from 'rxjs';\nimport { first, map, distinctUntilChanged, filter } from 'rxjs/operators';\nimport { includes, isEqual, get } from 'lodash-es';\nimport { currentAppConfigurationStream } from 'services/appConfiguration';\nimport { authUserStream } from 'services/auth';\nimport { updateUser } from 'services/users';\nimport { Locale } from 'typings';\nimport { locales } from 'containers/App/constants';\nimport { setCookieLocale, getCookieLocale } from 'utils/localeCookie';\n\nconst LocaleSubject: BehaviorSubject<Locale> = new BehaviorSubject(null as any);\nconst $tenantLocales = currentAppConfigurationStream().observable.pipe(\n  map((tenant) => get(tenant, 'data.attributes.settings.core.locales')),\n  distinctUntilChanged((prev, next) => !isEqual(prev, next))\n);\nconst $authUser = authUserStream().observable.pipe(distinctUntilChanged());\nconst $locale = LocaleSubject.pipe(\n  distinctUntilChanged(),\n  filter((locale) => locale !== null)\n);\n\n// -----------------------------------------------------------------------------\n// main functionalities - 3 parts\n\n// 1. Setting locale depending on user, cookie and tenant\ncombineLatest($authUser, $tenantLocales).subscribe(([user, tenantLocales]) => {\n  // gets the current user's locale of choice if they both exist\n  // and checks if it's a possible locale to have on this tenant\n  const userLocale: Locale | null =\n    user &&\n    user.data.attributes.locale &&\n    includes(tenantLocales, user.data.attributes.locale)\n      ? user.data.attributes.locale\n      : null;\n\n  // gets the locale in the cookie\n  const cookieLocale = getCookieLocale();\n  // and checks if it's a possible locale to have on this tenant\n  // the tenant only allows Locales so we can cast the Locale type safely here\n  const safeCookieLocale: Locale | false =\n    includes(tenantLocales, cookieLocale) && (cookieLocale as Locale);\n\n  // gets the first part of the url if it resembles a locale enough (cf getUrlLocale's comments)\n  const urlLocale: string | null = getUrlLocale(location.pathname);\n  // and checks if it's a possible locale to have on this tenant\n  // the tenant only allows Locales so we can cast the Locale type safely here\n  const safeUrlLocale: Locale | false =\n    includes(tenantLocales, urlLocale) && (urlLocale as Locale);\n\n  // - use userLocale if it's valid and supported\n  // - else use cookieLocale if it's valid and supported\n  // - else, use urlLocale if it's valid and supported\n  // - fall back to the first tenant locale\n  if (userLocale) {\n    LocaleSubject.next(userLocale);\n  } else if (safeCookieLocale) {\n    LocaleSubject.next(safeCookieLocale);\n  } else if (safeUrlLocale) {\n    LocaleSubject.next(safeUrlLocale);\n  } else if (tenantLocales && tenantLocales.length > 0) {\n    LocaleSubject.next(tenantLocales[0]);\n  }\n});\n\n// 2. Pushing a locale to the stream\n\n/*  @param locale : the locale you want to set as the current locale\n *   !! only used in the LanguageSelector component. Chances are it should only be used there.\n *   Checks the locale is supported by this tenant before tying to set the new locale\n */\nexport function updateLocale(locale: Locale) {\n  // \"gets\" the tenants locale and authUser\n  combineLatest(\n    $tenantLocales.pipe(first()),\n    $authUser.pipe(first())\n  ).subscribe(([tenantLocales, authUser]) => {\n    // if the locale is supported on this tenant\n    if (includes(tenantLocales, locale)) {\n      // if there is an authenticated user\n      if (authUser) {\n        // updates the users locale preference,\n        // which will trigger 1 that will set the locale to the locale stream\n        // which will trigger 3 that will change the url accordingly\n        updateUser(authUser.data.id, { locale });\n      } else {\n        // if there's no auth user, set a cookie to remember this choice\n        setCookieLocale(locale);\n        // and push the locale to the stream, which will trigger\n        // 3 which will change the url accordingly\n        LocaleSubject.next(locale);\n      }\n    }\n  });\n}\n\n// 3. Updating the url with newly received locale\n$locale.subscribe((locale) => {\n  // when receiving a new locale...\n\n  // gets the first part of the url if it resembles a locale enough (cf getUrlLocale's comments)\n  const urlLocale = getUrlLocale(location.pathname);\n\n  // if not, set the newly received locale to the current (locale-less) pathname\n  // (should only happen when arriving to the platform following a locale-less link)\n  if (!urlLocale) {\n    setUrlLocale(locale);\n\n    // if there is a locale and it's different than the one received,\n    // replace it in the pathname with the newly received locale\n  } else if (urlLocale && urlLocale !== locale) {\n    replaceUrlLocale(locale);\n  }\n});\n\n// -----------------------------------------------------------------------------\n// helper functions\n\n/*  @param location : the pathname you want to extract the locale from\n *   gets the first part of the url if it resembles a locale enough (cf constants.ts: locales)\n *   returns null or a string in locales (cf constants.ts)\n *   is insenitive to additional/missing '/' at pathname start and end\n */\nexport function getUrlLocale(pathname: string): string | null {\n  // strips beginning and ending '/', breaks down the string at '/'\n  const firstUrlSegment = pathname.replace(/^\\/|\\/$/g, '').split('/')[0];\n  // check first items appartenance to predefined locales obj\n  const isLocale = includes(locales, firstUrlSegment);\n  return isLocale ? firstUrlSegment : null;\n}\n\n/*  @param pathname : the pathname you want to extract the locale from\n *   removes the first part of the url if it resembles a locale enough (cf constants.ts: locales)\n *   returns the remaining string\n *   is insenitive to additional/missing '/' at pathname start and end\n */\nexport function removeUrlLocale(pathname: string): string {\n  // strips beginning and ending '/', breaks down the string at '/'\n  const urlSegments = pathname.replace(/^\\/|\\/$/g, '').split('/');\n  // if first segment resembles a locale enough replace it with an empty string\n  if (includes(locales, urlSegments[0])) {\n    urlSegments[0] = '';\n  }\n  return urlSegments.length === 1 ? '/' : urlSegments.join('/');\n}\n\n/*  @param: locale : the locale you want to add in front of current pathname\n *   prerequisite NO LOCALE : the current pathname should not already include a locale\n *   !! this function should not leave this component (no importing it except for tests)\n */\nfunction setUrlLocale(locale: Locale): void {\n  const newLocalizedUrl = setPathnameLocale(\n    location.pathname,\n    locale,\n    location.search\n  );\n  window.history.replaceState({ path: newLocalizedUrl }, '', newLocalizedUrl);\n}\n\n/*  @param pathname: a string representing a pathname, without a starting locale. pathname must tart with /, and final / will not be moved\n *   @param locale: the locale you want to add to the pathname\n *   @param search: optional string representing query parameters, starting with '?'\n *\n *   @returns a valid pathname starting with a locale\n */\nexport function setPathnameLocale(\n  pathname: string,\n  locale: Locale,\n  search?: string\n): string {\n  return `/${locale}${pathname}${search || ''}`;\n}\n\n/*  @param: locale : the locale you want to replace the one in the current pathname with\n *   prerequisite : the current pathname includes one locale, and the url starts with it.\n *   handles well starting and/or finishing and/or not starting and/or not finishing with '/'\n *   !! this function overrides the browsers url and should not leave this component\n *   (no importing it except for tests)\n */\nfunction replaceUrlLocale(locale: Locale) {\n  const newLocalizedUrl = replacePathnameLocale(\n    location.pathname,\n    locale,\n    location.search\n  );\n  // replaces current location with updated url\n  window.history.replaceState({ path: newLocalizedUrl }, '', newLocalizedUrl);\n}\n\n/*  @param pathname: a string representing a pathname, with a first part we want to replace\n *     starting and/or finishing and/or not starting and/or not finishing with '/'\n *     ie resembling (/|''){gottaGo}( /{aValidRoute} | (/|'') )\n *   @param locale: the locale you want to replace the one in the pathname with\n *   @param search: optional string representing query parameters, starting with '?'\n *\n *   @returns a valid pathname with the first part replaced by the locale parameter, without a dangling '/'\n */\nexport function replacePathnameLocale(\n  pathname: string,\n  locale: Locale,\n  search?: string\n) {\n  // strips beginning and ending '/', breaks down the string at '/'\n  const urlSegments = pathname.replace(/^\\/|\\/$/g, '').split('/');\n  // replaces first segment (the old url locale) with the url we want\n  urlSegments[0] = locale;\n  // puts back the pieces together\n  const newPathname = urlSegments.join('/');\n\n  // if the route is '/'...\n  return urlSegments.length === 1\n    ? `/${newPathname}/` // adds a dangling '/' after the locale, for consistency\n    : `/${newPathname}${search || ''}`; // else adds a first '/' and other query arguments if any\n}\n\n// -----------------------------------------------------------------------------\n// A function that returns the stream defined here\nexport function localeStream() {\n  return {\n    observable: $locale,\n  };\n}\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  startsAt: {\n    id: 'app.components.EventCard.startsAt',\n    defaultMessage: 'Starts at',\n  },\n  endsAt: {\n    id: 'app.components.EventCard.endsAt',\n    defaultMessage: 'Ends at',\n  },\n  showMore: {\n    id: 'app.components.EventCard.showMore',\n    defaultMessage: 'Show more',\n  },\n  showLess: {\n    id: 'app.components.EventCard.showLess',\n    defaultMessage: 'Show less',\n  },\n  a11y_moreContentVisible: {\n    id: 'app.components.EventCard.a11y_moreContentVisible',\n    defaultMessage: 'More event information became visble.',\n  },\n  a11y_lessContentVisible: {\n    id: 'app.components.EventCard.a11y_lessContentVisible',\n    defaultMessage: 'Less event information became visble.',\n  },\n});\n","import React from 'react';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { H3, H4 } from './';\nimport T from 'components/T';\nimport Link from 'utils/cl-router/Link';\n\n// components\nimport ContinuousProject from './ContinuousProject';\nimport TimelineProject from './TimelineProject';\n\n// hooks\nimport useEvents from 'hooks/useEvents';\nimport useProject from 'hooks/useProject';\n\n// intl\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from './messages';\nimport { IAdminPublicationContent } from 'hooks/useAdminPublications';\n\ninterface Props {\n  adminPublication: IAdminPublicationContent;\n  hightestTitle: 'h3' | 'h4';\n}\n\nexport default ({ adminPublication, hightestTitle }: Props) => {\n  const projectId = adminPublication.publicationId;\n  const { events } = useEvents({\n    projectIds: [projectId],\n  });\n  const project = useProject({ projectId });\n\n  const TitleComponent = hightestTitle === 'h3' ? H3 : H4;\n\n  return (\n    <>\n      <TitleComponent>\n        <T value={adminPublication.attributes.publication_title_multiloc} />\n      </TitleComponent>\n      <ul>\n        <li>\n          <Link\n            to={`/projects/${adminPublication.attributes.publication_slug}/info`}\n          >\n            <FormattedMessage {...messages.projectInfo} />\n          </Link>\n        </li>\n        {!isNilOrError(project) && (\n          <>\n            {project.attributes.process_type === 'continuous' ? (\n              <ContinuousProject key={project.id} project={project} />\n            ) : (\n              <TimelineProject key={project.id} project={project} />\n            )}\n            {!isNilOrError(events) && events.length > 0 && (\n              <li>\n                <Link to={`/projects/${project.attributes.slug}/events`}>\n                  <FormattedMessage {...messages.projectEvents} />\n                </Link>\n              </li>\n            )}\n          </>\n        )}\n      </ul>\n    </>\n  );\n};\n","import React from 'react';\nimport { ModuleConfiguration } from 'utils/moduleUtils';\nimport './services/verificationMethods';\nimport Auth0Button from './components/Auth0Button';\nimport { IDAuth0Method } from 'services/verificationMethods';\n\nconst configuration: ModuleConfiguration = {\n  outlets: {\n    'app.components.VerificationModal.button': (props) => {\n      if (props.method.attributes.name !== 'auth0') return null;\n      return <Auth0Button {...props} method={props.method as IDAuth0Method} />;\n    },\n  },\n};\n\nexport default configuration;\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  helmetTitle: {\n    id: 'app.containers.Admin.Users.helmetTitle',\n    defaultMessage: 'Admin - users dashboard',\n  },\n  helmetDescription: {\n    id: 'app.containers.Admin.Users.helmetDescription',\n    defaultMessage: 'User list in admin backoffice',\n  },\n  name: {\n    id: 'app.containers.Admin.Users.name',\n    defaultMessage: 'Name',\n  },\n  email: {\n    id: 'app.containers.Admin.Users.email',\n    defaultMessage: 'Email',\n  },\n  since: {\n    id: 'app.containers.Admin.Users.since',\n    defaultMessage: 'Since',\n  },\n  admin: {\n    id: 'app.containers.Admin.Users.admin',\n    defaultMessage: 'Admin',\n  },\n  options: {\n    id: 'app.containers.Admin.Users.options',\n    defaultMessage: 'Options',\n  },\n  seeProfile: {\n    id: 'app.containers.Admin.Users.seeProfile',\n    defaultMessage: 'See profile',\n  },\n  deleteUser: {\n    id: 'app.containers.Admin.Users.deleteUser',\n    defaultMessage: 'Delete user',\n  },\n  userDeletionConfirmation: {\n    id: 'app.containers.Admin.Users.userDeletionConfirmation',\n    defaultMessage: 'Permanently remove this user?',\n  },\n  userDeletionFailed: {\n    id: 'app.containers.Admin.Users.userDeletionFailed',\n    defaultMessage:\n      'An error occured while deleting this user, please try again.',\n  },\n  youCantDeleteYourself: {\n    id: 'app.containers.Admin.Users.youCantDeleteYourself',\n    defaultMessage:\n      'You cannot delete your own account via the user admin page',\n  },\n  userExportFileName: {\n    id: 'app.containers.Admin.Users.userExportFileName',\n    defaultMessage: 'user_export',\n  },\n  youCantUnadminYourself: {\n    id: 'app.containers.Admin.Users.youCantUnadminYourself',\n    defaultMessage: 'You cannot give up your role as an admin now',\n  },\n  editGroup: {\n    id: 'app.containers.Admin.Users.GroupsHeader.editGroup',\n    defaultMessage: 'Edit Group',\n  },\n  deleteGroup: {\n    id: 'app.containers.Admin.Users.GroupsHeader.deleteGroup',\n    defaultMessage: 'Delete Group',\n  },\n  allUsers: {\n    id: 'app.containers.Admin.Users.GroupsPanel.allUsers',\n    defaultMessage: 'All users',\n  },\n  usersSubtitle: {\n    id: 'app.containers.Admin.Users.GroupsPanel.usersSubtitle',\n    defaultMessage:\n      'Get an overview of all the people and organisations that registered on the platform. Add a selection of users to Manual groups or Smart groups.',\n  },\n  groupsTitle: {\n    id: 'app.containers.Admin.Users.GroupsPanel.groupsTitle',\n    defaultMessage: 'Groups',\n  },\n  noUserMatchesYourSearch: {\n    id: 'app.containers.AdminPage.Users.GroupsPanel.noUserMatchesYourSearch',\n    defaultMessage: 'No user matches your search',\n  },\n  emptyGroup: {\n    id: 'app.containers.AdminPage.Users.GroupsPanel.emptyGroup',\n    defaultMessage: 'There is no one in this group yet',\n  },\n  goToAllUsers: {\n    id: 'app.containers.AdminPage.Users.GroupsPanel.goToAllUsers',\n    defaultMessage: 'Go to {allUsersLink} to manually add some users.',\n  },\n  createGroupButton: {\n    id: 'app.containers.AdminPage.Users.GroupCreation.createGroupButton',\n    defaultMessage: 'Add a new group',\n  },\n  step1TypeNameNormal: {\n    id: 'app.containers.AdminPage.Users.GroupCreation.step1TypeNameNormal',\n    defaultMessage: 'Normal group',\n  },\n  step1TypeNameSmart: {\n    id: 'app.containers.AdminPage.Users.GroupCreation.step1TypeNameSmart',\n    defaultMessage: 'Smart group',\n  },\n  step1TypeDescriptionNormal: {\n    id:\n      'app.containers.AdminPage.Users.GroupCreation.step1TypeDescriptionNormal',\n    defaultMessage: 'You manually specify which users are part of this group.',\n  },\n  step1TypeDescriptionSmart: {\n    id:\n      'app.containers.AdminPage.Users.GroupCreation.step1TypeDescriptionSmart',\n    defaultMessage:\n      'You specify conditions that automatically and continuously make people part of this group.',\n  },\n  step1CreateButtonNormal: {\n    id: 'app.containers.AdminPage.Users.GroupCreation.step1CreateButtonNormal',\n    defaultMessage: 'Create a normal group',\n  },\n  step1CreateButtonSmart: {\n    id: 'app.containers.AdminPage.Users.GroupCreation.step1CreateButtonSmart',\n    defaultMessage: 'Create a smart group',\n  },\n  step1LearnMoreGroups: {\n    id: 'app.containers.AdminPage.Users.GroupCreation.step1LearnMoreGroups',\n    defaultMessage: 'Learn more about groups',\n  },\n  readMoreLink: {\n    id: 'app.containers.AdminPage.Users.GroupCreation.readMoreLink',\n    defaultMessage:\n      'http://support.citizenlab.co/nl-opstartgids/stap-2-configureer-de-belangrijkste-settings/maak-eventueel-verschillende-gebruikersgroepen-aan',\n  },\n  modalHeaderStep1: {\n    id: 'app.containers.AdminPage.Users.GroupCreation.modalHeaderStep1',\n    defaultMessage: 'Select the type of group',\n  },\n  modalHeaderManual: {\n    id: 'app.containers.AdminPage.Users.GroupCreation.modalHeaderManual',\n    defaultMessage: 'Define a group name',\n  },\n  fieldGroupName: {\n    id: 'app.containers.AdminPage.Users.GroupCreation.fieldGroupName',\n    defaultMessage: 'Name of the group',\n  },\n  select: {\n    id: 'app.containers.AdminPage.Users.GroupsPanel.select',\n    defaultMessage: 'Select',\n  },\n  groupDeletionConfirmation: {\n    id: 'app.containers.AdminPage.Users.UsersGroup.groupDeletionConfirmation',\n    defaultMessage: 'Are you sure you want to delete this group?',\n  },\n  moveUsersTableAction: {\n    id: 'app.containers.AdminPage.Users.UsersGroup.moveUsersTableAction',\n    defaultMessage: 'Add selected users to a group',\n  },\n  moveUsersButton: {\n    id: 'app.containers.AdminPage.Users.UsersGroup.moveUsersButton',\n    defaultMessage: 'Add',\n  },\n  membershipAddFailed: {\n    id: 'app.containers.AdminPage.Users.UsersGroup.membershipAddFailed',\n    defaultMessage:\n      'An error occured while adding users to the groups, please try again.',\n  },\n  membershipDelete: {\n    id: 'app.containers.AdminPage.Users.UsersGroup.membershipDelete',\n    defaultMessage: 'Remove from group',\n  },\n  membershipDeleteConfirmation: {\n    id:\n      'app.containers.AdminPage.Users.UsersGroup.membershipDeleteConfirmation',\n    defaultMessage: 'Delete selected users from this group?',\n  },\n  membershipDeleteFailed: {\n    id: 'app.containers.AdminPage.Users.UsersGroup.membershipDeleteFailed',\n    defaultMessage:\n      'An error occured while deleting users from the group, please try again.',\n  },\n  exportAllUsers: {\n    id: 'app.containers.AdminPage.Users.UsersGroup.exportAllUsers',\n    defaultMessage: 'Export all users',\n  },\n  exportGroup: {\n    id: 'app.containers.AdminPage.Users.UsersGroup.exportGroup',\n    defaultMessage: 'Export group',\n  },\n  exportSelectedUsers: {\n    id: 'app.containers.AdminPage.Users.UsersGroup.exportSelectedUsers',\n    defaultMessage: 'Export selected users',\n  },\n});\n","import { API_PATH } from 'containers/App/constants';\nimport streams, { IStreamParams } from 'utils/streams';\n\nimport { authUserStream } from './auth';\nimport { Multiloc } from 'typings';\n\nconst apiEndpoint = `${API_PATH}/notifications`;\n\nexport interface IBaseNotificationData {\n  id: string;\n  type: string;\n}\n\nexport interface IAdminRightsReceivedNotificationData\n  extends IBaseNotificationData {\n  attributes: {\n    type: 'admin_rights_received';\n    read_at: string | null;\n    created_at: string;\n  };\n}\n\nexport interface ICommentDeletedByAdminNotificationData\n  extends IBaseNotificationData {\n  attributes: {\n    type: 'comment_deleted_by_admin';\n    read_at: string | null;\n    created_at: string;\n    post_type: 'Initiative' | 'Idea';\n    post_slug: string | null;\n    post_title_multiloc: Multiloc;\n    reason_code: 'irrelevant' | 'inappropriate' | 'other';\n    other_reason: string;\n  };\n}\n\nexport interface ICommentMarkedAsSpamNotificationData\n  extends IBaseNotificationData {\n  attributes: {\n    type: 'comment_marked_as_spam';\n    read_at: string | null;\n    created_at: string;\n    initiating_user_first_name: string | null;\n    initiating_user_last_name: string | null;\n    initiating_user_slug: string | null;\n    post_type: 'Initiative' | 'Idea';\n    post_slug: string | null;\n    post_title_multiloc: Multiloc;\n  };\n}\n\nexport interface ICommentOnYourCommentNotificationData\n  extends IBaseNotificationData {\n  attributes: {\n    type: 'comment_on_your_comment';\n    read_at: string | null;\n    created_at: string;\n    initiating_user_first_name: string | null;\n    initiating_user_last_name: string | null;\n    initiating_user_slug: string | null;\n    post_type: 'Initiative' | 'Idea';\n    post_slug: string | null;\n    post_title_multiloc: Multiloc;\n  };\n}\n\nexport interface ICommentOnYourIdeaNotificationData\n  extends IBaseNotificationData {\n  attributes: {\n    type: 'comment_on_your_idea';\n    read_at: string | null;\n    created_at: string;\n    initiating_user_first_name: string | null;\n    initiating_user_last_name: string | null;\n    initiating_user_slug: string | null;\n    post_slug: string | null;\n    post_title_multiloc: Multiloc;\n  };\n}\n\nexport interface ICommentOnYourInitiativeNotificationData\n  extends IBaseNotificationData {\n  attributes: {\n    type: 'comment_on_your_initiative';\n    read_at: string | null;\n    created_at: string;\n    initiating_user_first_name: string | null;\n    initiating_user_last_name: string | null;\n    initiating_user_slug: string | null;\n    post_slug: string | null;\n    post_title_multiloc: Multiloc;\n  };\n}\n\nexport interface IIdeaAssignedToYouNotificationData\n  extends IBaseNotificationData {\n  attributes: {\n    type: 'idea_assigned_to_you';\n    read_at: string | null;\n    created_at: string;\n    initiating_user_first_name: string | null;\n    initiating_user_last_name: string | null;\n    initiating_user_slug: string | null;\n    post_title_multiloc: Multiloc;\n    post_slug: string;\n  };\n}\n\nexport interface IIdeaMarkedAsSpamNotificationData\n  extends IBaseNotificationData {\n  attributes: {\n    type: 'idea_marked_as_spam';\n    read_at: string | null;\n    created_at: string;\n    initiating_user_first_name: string | null;\n    initiating_user_last_name: string | null;\n    initiating_user_slug: string | null;\n    post_title_multiloc: Multiloc;\n    post_slug: string;\n  };\n}\n\nexport interface IInitiativeAssignedToYouNotificationData\n  extends IBaseNotificationData {\n  attributes: {\n    type: 'initiative_assigned_to_you';\n    read_at: string | null;\n    created_at: string;\n    initiating_user_first_name: string | null;\n    initiating_user_last_name: string | null;\n    initiating_user_slug: string | null;\n    post_title_multiloc: Multiloc;\n    post_slug: string;\n  };\n}\n\nexport interface IInitiativeMarkedAsSpamNotificationData\n  extends IBaseNotificationData {\n  attributes: {\n    type: 'initiative_marked_as_spam';\n    read_at: string | null;\n    created_at: string;\n    initiating_user_first_name: string | null;\n    initiating_user_last_name: string | null;\n    initiating_user_slug: string | null;\n    post_title_multiloc: Multiloc;\n    post_slug: string;\n  };\n}\n\nexport interface IInviteAcceptedNotificationData extends IBaseNotificationData {\n  attributes: {\n    type: 'invite_accepted';\n    read_at: string | null;\n    created_at: string;\n    initiating_user_first_name: string | null;\n    initiating_user_last_name: string | null;\n    initiating_user_slug: string | null;\n  };\n}\n\nexport interface IMentionInCommentNotificationData\n  extends IBaseNotificationData {\n  attributes: {\n    type: 'mention_in_comment';\n    read_at: string | null;\n    created_at: string;\n    initiating_user_first_name: string | null;\n    initiating_user_last_name: string | null;\n    initiating_user_slug: string | null;\n    post_type: 'Initiative' | 'Idea';\n    post_slug: string | null;\n    post_title_multiloc: Multiloc;\n  };\n}\n\nexport interface IMentionInOfficialFeedbackNotificationData\n  extends IBaseNotificationData {\n  attributes: {\n    type: 'mention_in_official_feedback';\n    read_at: string | null;\n    created_at: string;\n    initiating_user_first_name: string | null;\n    initiating_user_last_name: string | null;\n    initiating_user_slug: string | null;\n    official_feedback_author: Multiloc;\n    post_type: 'Initiative' | 'Idea';\n    post_slug: string | null;\n    post_title_multiloc: Multiloc;\n  };\n}\n\nexport interface IOfficialFeedbackOnCommentedIdeaNotificationData\n  extends IBaseNotificationData {\n  attributes: {\n    type: 'official_feedback_on_commented_idea';\n    read_at: string | null;\n    created_at: string;\n    official_feedback_author: Multiloc;\n    post_slug: string | null;\n    post_title_multiloc: Multiloc;\n  };\n}\n\nexport interface IOfficialFeedbackOnCommentedInitiativeNotificationData\n  extends IBaseNotificationData {\n  attributes: {\n    type: 'official_feedback_on_commented_initiative';\n    read_at: string | null;\n    created_at: string;\n    official_feedback_author: Multiloc;\n    post_slug: string | null;\n    post_title_multiloc: Multiloc;\n  };\n}\n\nexport interface IOfficialFeedbackOnVotedIdeaNotificationData\n  extends IBaseNotificationData {\n  attributes: {\n    type: 'official_feedback_on_voted_idea';\n    read_at: string | null;\n    created_at: string;\n    official_feedback_author: Multiloc;\n    post_slug: string | null;\n    post_title_multiloc: Multiloc;\n  };\n}\n\nexport interface IOfficialFeedbackOnVotedInitiativeNotificationData\n  extends IBaseNotificationData {\n  attributes: {\n    type: 'official_feedback_on_voted_initiative';\n    read_at: string | null;\n    created_at: string;\n    official_feedback_author: Multiloc;\n    post_slug: string | null;\n    post_title_multiloc: Multiloc;\n  };\n}\n\nexport interface IOfficialFeedbackOnYourIdeaNotificationData\n  extends IBaseNotificationData {\n  attributes: {\n    type: 'official_feedback_on_your_idea';\n    read_at: string | null;\n    created_at: string;\n    official_feedback_author: Multiloc;\n    post_slug: string | null;\n    post_title_multiloc: Multiloc;\n  };\n}\n\nexport interface IOfficialFeedbackOnYourInitiativeNotificationData\n  extends IBaseNotificationData {\n  attributes: {\n    type: 'official_feedback_on_your_initiative';\n    read_at: string | null;\n    created_at: string;\n    official_feedback_author: Multiloc;\n    post_slug: string | null;\n    post_title_multiloc: Multiloc;\n  };\n}\n\nexport interface IProjectModerationRightsReceivedNotificationData\n  extends IBaseNotificationData {\n  attributes: {\n    type: 'project_moderation_rights_received';\n    read_at: string | null;\n    created_at: string;\n    project_id: string;\n    project_title_multiloc: Multiloc;\n  };\n}\n\nexport interface IProjectPhaseStartedNotificationData\n  extends IBaseNotificationData {\n  attributes: {\n    type: 'project_phase_started';\n    read_at: string | null;\n    created_at: string;\n    phase_title_multiloc: Multiloc;\n    phase_start_at: string;\n    project_slug: string;\n    project_title_multiloc: Multiloc;\n  };\n}\n\nexport interface IProjectPhaseUpcomingNotificationData\n  extends IBaseNotificationData {\n  attributes: {\n    type: 'project_phase_upcoming';\n    read_at: string | null;\n    created_at: string;\n    phase_title_multiloc: Multiloc;\n    phase_start_at: string;\n    project_slug: string;\n    project_title_multiloc: Multiloc;\n  };\n}\n\nexport interface IStatusChangeOfYourIdeaNotificationData\n  extends IBaseNotificationData {\n  attributes: {\n    type: 'status_change_of_your_idea';\n    read_at: string | null;\n    created_at: string;\n    post_title_multiloc: Multiloc;\n    post_slug: string;\n    idea_status_title_multiloc: Multiloc;\n  };\n}\n\nexport interface IStatusChangeOfYourInitiativeNotificationData\n  extends IBaseNotificationData {\n  attributes: {\n    type: 'status_change_of_your_initiative';\n    read_at: string | null;\n    created_at: string;\n    post_title_multiloc: Multiloc;\n    post_slug: string;\n    initiative_status_title_multiloc: Multiloc;\n  };\n}\n\nexport interface IStatusChangeOnCommentedIdeaNotificationData\n  extends IBaseNotificationData {\n  attributes: {\n    type: 'status_change_on_commented_idea';\n    read_at: string | null;\n    created_at: string;\n    post_title_multiloc: Multiloc;\n    post_slug: string;\n    idea_status_title_multiloc: Multiloc;\n  };\n}\n\nexport interface IStatusChangeOnCommentedInitiativeNotificationData\n  extends IBaseNotificationData {\n  attributes: {\n    type: 'status_change_on_commented_initiative';\n    read_at: string | null;\n    created_at: string;\n    post_title_multiloc: Multiloc;\n    post_slug: string;\n    initiative_status_title_multiloc: Multiloc;\n  };\n}\n\nexport interface IStatusChangeOnVotedIdeaNotificationData\n  extends IBaseNotificationData {\n  attributes: {\n    type: 'status_change_on_voted_idea';\n    read_at: string | null;\n    created_at: string;\n    post_title_multiloc: Multiloc;\n    post_slug: string;\n    idea_status_title_multiloc: Multiloc;\n  };\n}\n\nexport interface IStatusChangeOnVotedInitiativeNotificationData\n  extends IBaseNotificationData {\n  attributes: {\n    type: 'status_change_on_voted_initiative';\n    read_at: string | null;\n    created_at: string;\n    post_title_multiloc: Multiloc;\n    post_slug: string;\n    initiative_status_title_multiloc: Multiloc;\n  };\n}\n\nexport interface IThresholdReachedForAdminNotificationData\n  extends IBaseNotificationData {\n  attributes: {\n    type: 'threshold_reached_for_admin';\n    read_at: string | null;\n    created_at: string;\n    post_title_multiloc: Multiloc;\n    post_slug: string;\n  };\n}\n\nexport interface INotificationDataMap {\n  IAdminRightsReceivedNotificationData: IAdminRightsReceivedNotificationData;\n  ICommentDeletedByAdminNotificationData: ICommentDeletedByAdminNotificationData;\n  ICommentMarkedAsSpamNotificationData: ICommentMarkedAsSpamNotificationData;\n  ICommentOnYourCommentNotificationData: ICommentOnYourCommentNotificationData;\n  ICommentOnYourIdeaNotificationData: ICommentOnYourIdeaNotificationData;\n  ICommentOnYourInitiativeNotificationData: ICommentOnYourInitiativeNotificationData;\n  IIdeaAssignedToYouNotificationData: IIdeaAssignedToYouNotificationData;\n  IIdeaMarkedAsSpamNotificationData: IIdeaMarkedAsSpamNotificationData;\n  IInitiativeAssignedToYouNotificationData: IInitiativeAssignedToYouNotificationData;\n  IInitiativeMarkedAsSpamNotificationData: IInitiativeMarkedAsSpamNotificationData;\n  IInviteAcceptedNotificationData: IInviteAcceptedNotificationData;\n  IMentionInCommentNotificationData: IMentionInCommentNotificationData;\n  IMentionInOfficialFeedbackNotificationData: IMentionInOfficialFeedbackNotificationData;\n  IOfficialFeedbackOnCommentedIdeaNotificationData: IOfficialFeedbackOnCommentedIdeaNotificationData;\n  IOfficialFeedbackOnCommentedInitiativeNotificationData: IOfficialFeedbackOnCommentedInitiativeNotificationData;\n  IOfficialFeedbackOnVotedIdeaNotificationData: IOfficialFeedbackOnVotedIdeaNotificationData;\n  IOfficialFeedbackOnVotedInitiativeNotificationData: IOfficialFeedbackOnVotedInitiativeNotificationData;\n  IOfficialFeedbackOnYourIdeaNotificationData: IOfficialFeedbackOnYourIdeaNotificationData;\n  IOfficialFeedbackOnYourInitiativeNotificationData: IOfficialFeedbackOnYourInitiativeNotificationData;\n  IProjectModerationRightsReceivedNotificationData: IProjectModerationRightsReceivedNotificationData;\n  IProjectPhaseStartedNotificationData: IProjectPhaseStartedNotificationData;\n  IProjectPhaseUpcomingNotificationData: IProjectPhaseUpcomingNotificationData;\n  IStatusChangeOfYourIdeaNotificationData: IStatusChangeOfYourIdeaNotificationData;\n  IStatusChangeOfYourInitiativeNotificationData: IStatusChangeOfYourInitiativeNotificationData;\n  IStatusChangeOnCommentedIdeaNotificationData: IStatusChangeOnCommentedIdeaNotificationData;\n  IStatusChangeOnCommentedInitiativeNotificationData: IStatusChangeOnCommentedInitiativeNotificationData;\n  IStatusChangeOnVotedIdeaNotificationData: IStatusChangeOnVotedIdeaNotificationData;\n  IStatusChangeOnVotedInitiativeNotificationData: IStatusChangeOnVotedInitiativeNotificationData;\n  IThresholdReachedForAdminNotificationData: IThresholdReachedForAdminNotificationData;\n}\n\nexport type TNotificationData = INotificationDataMap[keyof INotificationDataMap];\nexport type TNotificationType = TNotificationData['attributes']['type'];\n\nexport interface INotificationLinks {\n  self: string;\n  first: string;\n  prev: string;\n  next: string;\n  last: string;\n}\n\nexport interface INotifications {\n  data: TNotificationData[];\n  links: INotificationLinks;\n}\n\nexport interface INotification {\n  data: TNotificationData;\n}\n\nexport function notificationsStream(streamParams: IStreamParams | null = null) {\n  return streams.get<INotifications>({ apiEndpoint, ...streamParams });\n}\n\nexport async function markAllAsRead() {\n  const response = await streams.add(`${apiEndpoint}/mark_all_read`, null);\n  await authUserStream().fetch();\n  return response;\n}\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  errorImageMaxSizeExceeded: {\n    id: 'app.components.Upload.errorImageMaxSizeExceeded',\n    defaultMessage:\n      'The selected image exceeds the maximum allowed size of {maxFileSize}MB',\n  },\n  errorImagesMaxSizeExceeded: {\n    id: 'app.components.Upload.errorImagesMaxSizeExceeded',\n    defaultMessage:\n      'One or more selected images exceeds the maximum allowed size of {maxFileSize}MB per image',\n  },\n  remaining: {\n    id: 'app.components.Upload.remaining',\n    defaultMessage: 'remaining',\n  },\n  onlyOneImage: {\n    id: 'app.components.Upload.onlyOneImage',\n    defaultMessage: 'You can only upload 1 image',\n  },\n  onlyXImages: {\n    id: 'app.components.Upload.onlyXImages',\n    defaultMessage: 'You can only upload {maxItemsCount} images',\n  },\n  uploadImageLabel: {\n    id: 'app.components.Upload.uploadImageLabel',\n    defaultMessage: 'Select an image (max. {maxImageSizeInMb}MB)',\n  },\n  uploadMultipleImagesLabel: {\n    id: 'app.components.Upload.uploadMultipleImagesLabel',\n    defaultMessage: 'Select one or more images',\n  },\n  a11y_removeImage: {\n    id: 'app.components.Upload.a11y_removeImage',\n    defaultMessage: 'Remove image',\n  },\n});\n","export default __webpack_public_path__ + \"44dd39179e596890fbb19db8a4fb723c.png\";","import React from 'react';\n\n// components\nimport { IconTooltip } from 'cl2-component-library';\nimport Error from 'components/UI/Error';\nimport { StyledSectionField, StyledInputMultiloc } from './styling';\nimport { SubSectionTitle } from 'components/admin/Section';\n\n// i18n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from '../messages';\n\n// typings\nimport { IUpdatedProjectProperties } from 'services/projects';\nimport { Multiloc, CLErrors } from 'typings';\n\ninterface Props {\n  projectAttrs: IUpdatedProjectProperties;\n  titleError: Multiloc | null;\n  apiErrors: CLErrors;\n  handleTitleMultilocOnChange: (titleMultiloc: Multiloc) => void;\n}\n\nexport default ({\n  projectAttrs,\n  titleError,\n  apiErrors,\n  handleTitleMultilocOnChange,\n}: Props) => (\n  <StyledSectionField>\n    <SubSectionTitle>\n      <FormattedMessage {...messages.projectName} />\n      <IconTooltip\n        content={<FormattedMessage {...messages.titleLabelTooltip} />}\n      />\n    </SubSectionTitle>\n    <StyledInputMultiloc\n      id=\"project-title\"\n      type=\"text\"\n      valueMultiloc={projectAttrs.title_multiloc}\n      label={<FormattedMessage {...messages.titleLabel} />}\n      onChange={handleTitleMultilocOnChange}\n      errorMultiloc={titleError}\n    />\n    <Error fieldName=\"title_multiloc\" apiErrors={apiErrors.title_multiloc} />\n  </StyledSectionField>\n);\n","import React from 'react';\nimport { adopt } from 'react-adopt';\nimport { isNilOrError } from 'utils/helperUtils';\nimport styled from 'styled-components';\n\nimport { H2 } from './';\nimport Project from './Project';\nimport Link from 'utils/cl-router/Link';\n\n// intl\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from './messages';\n\nimport GetAdminPublications, {\n  GetAdminPublicationsChildProps,\n} from 'resources/GetAdminPublications';\nimport Outlet from 'components/Outlet';\n\nconst AllProjectsLink = styled(Link)`\n  display: block;\n  margin-bottom: 20px;\n`;\n\ninterface InputProps {\n  projectsSectionRef: any;\n}\n\ninterface DataProps {\n  adminPublications: GetAdminPublicationsChildProps;\n}\n\ninterface Props extends InputProps, DataProps {}\n\nconst ProjectsSection = ({ adminPublications, projectsSectionRef }: Props) => {\n  if (\n    !isNilOrError(adminPublications) &&\n    !isNilOrError(adminPublications.list)\n  ) {\n    return (\n      <>\n        <H2 ref={projectsSectionRef} tabIndex={-1}>\n          <FormattedMessage {...messages.projectsSection} />\n        </H2>\n        <AllProjectsLink to=\"/projects\" id=\"projects-section\">\n          <FormattedMessage {...messages.allProjects} />\n        </AllProjectsLink>\n        {adminPublications.list.map((adminPublication) => (\n          <React.Fragment key={adminPublication.id}>\n            {adminPublication.publicationType === 'project' && (\n              <Project adminPublication={adminPublication} hightestTitle=\"h3\" />\n            )}\n            <Outlet\n              id=\"app.containers.SiteMap.ProjectsSection.listitem\"\n              adminPublication={adminPublication}\n              hightestTitle=\"h3\"\n            />\n          </React.Fragment>\n        ))}\n      </>\n    );\n  }\n  return null;\n};\n\nconst Data = adopt<DataProps, InputProps>({\n  adminPublications: (\n    <GetAdminPublications\n      publicationStatusFilter={['draft', 'published', 'archived']}\n      rootLevelOnly\n      removeNotAllowedParents\n    />\n  ),\n});\n\nexport default (inputProps: InputProps) => (\n  <Data {...inputProps}>\n    {(dataprops) => <ProjectsSection {...inputProps} {...dataprops} />}\n  </Data>\n);\n","import {\n  IDestination,\n  TCategory,\n} from 'components/ConsentManager/destinations';\nimport { get, set, remove } from 'js-cookie';\n\nconst COOKIE_NAME = 'cl2_consent';\n\nexport type ISavedDestinations = {\n  [key in IDestination]?: boolean | undefined;\n};\nexport interface IConsentCookie extends Partial<Record<TCategory, boolean>> {\n  savedChoices: ISavedDestinations;\n}\n\nexport function getConsent(): IConsentCookie | null {\n  try {\n    const json = get(COOKIE_NAME);\n    return json ? JSON.parse(json) : null;\n  } catch (error) {\n    return null;\n  }\n}\n\nexport function setConsent(consent: IConsentCookie) {\n  JSON.stringify(consent);\n  set(COOKIE_NAME, consent, { expires: 60 });\n}\n\nexport function removeConsent() {\n  remove(COOKIE_NAME, { expires: 60 });\n}\n","import React from 'react';\nimport AdminGuideArticle from 'containers/Admin/guide/AdminGuideArticle';\n\n// analytics\nimport { trackEventByName } from 'utils/analytics';\nimport tracks from 'containers/Admin/guide/tracks';\n\n// i18n\nimport messages from '../messages';\n\nconst GuideArticle = () => {\n  const handleClickInteralTrack = () => {\n    trackEventByName(tracks.internalLink.name, {\n      extra: { section: 'setup', article: 'widgets' },\n    });\n  };\n  return (\n    <AdminGuideArticle\n      key=\"setupArticleWidget\"\n      trackLink={handleClickInteralTrack}\n      linkMessage={messages.setupArticle3Link}\n      titleMessage={messages.setupArticle3Title}\n      descriptionMessage={messages.setupArticle3Description}\n    />\n  );\n};\n\nexport default GuideArticle;\n","import React, { ReactElement } from 'react';\n\nexport default function logo(): ReactElement {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n      width=\"230px\"\n      height=\"60px\"\n      viewBox=\"0 0 230 60\"\n      version=\"1.1\"\n    >\n      <g\n        id=\"Page-1\"\n        stroke=\"none\"\n        strokeWidth=\"1\"\n        fill=\"none\"\n        fillRule=\"evenodd\"\n      >\n        <g id=\"bouton-fc-standard\" fillRule=\"nonzero\">\n          <path\n            d=\"M2.23461677,0 C0.82763584,0 -1.70530257e-13,1.25 -1.70530257e-13,2.66666667 L-1.70530257e-13,57.5 C-1.70530257e-13,58.9166667 0.82763584,60 2.23461677,60 L227.68262,60 C229.089601,60 230,58.9166667 230,57.5 L230,2.66666667 C230,1.25 229.089601,0 227.68262,0 L38.3195394,0 L2.23461677,0 Z\"\n            id=\"Fond\"\n            fill=\"#034EA2\"\n          />\n          <g\n            id=\"Typo\"\n            transform=\"translate(78.000000, 13.000000)\"\n            fill=\"#FFFFFF\"\n          >\n            <path\n              d=\"M7.48860759,13.2556962 C6.6278481,13.7721519 5.42278481,13.9443038 4.13164557,13.9443038 C3.27088608,13.9443038 2.06582278,13.9443038 0.860759494,13.7721519 L0.860759494,12.2227848 C1.89367089,12.3088608 2.92658228,12.3949367 3.95949367,12.3949367 C4.82025316,12.3949367 5.68101266,12.3088608 6.19746835,12.0506329 C6.88607595,11.7924051 7.23037975,11.1037975 7.23037975,10.243038 C7.23037975,9.12405063 6.71392405,8.60759494 5.59493671,8.26329114 C4.90632911,8.00506329 4.21772152,7.83291139 3.52911392,7.66075949 C1.80759494,7.1443038 0.774683544,6.19746835 0.774683544,4.30379747 C0.774683544,3.18481013 1.20506329,2.06582278 2.15189873,1.46329114 C3.09873418,0.860759494 4.13164557,0.774683544 5.33670886,0.774683544 C6.19746835,0.774683544 7.23037975,0.860759494 8.34936709,0.946835443 L8.34936709,2.41012658 C7.3164557,2.32405063 6.2835443,2.23797468 5.50886076,2.23797468 C4.73417722,2.23797468 4.04556962,2.23797468 3.52911392,2.49620253 C2.84050633,2.84050633 2.58227848,3.52911392 2.58227848,4.21772152 C2.58227848,5.25063291 3.09873418,5.76708861 4.04556962,6.11139241 C4.64810127,6.2835443 5.33670886,6.4556962 6.11139241,6.71392405 C8.00506329,7.23037975 9.03797468,8.17721519 9.03797468,10.243038 C8.95189873,11.3620253 8.52151899,12.5670886 7.48860759,13.2556962\"\n              id=\"Path\"\n            />\n            <path\n              d=\"M10.7594937,5.42278481 C11.4481013,3.70126582 11.964557,2.15189873 12.3949367,0.516455696 L14.2025316,0.516455696 C13.6860759,2.32405063 12.9113924,4.04556962 12.3088608,5.42278481 L10.7594937,5.42278481 Z\"\n              id=\"Path\"\n            />\n            <path\n              d=\"M16.6126582,0.430379747 L18.4202532,0.430379747 L18.4202532,2.15189873 L16.6126582,2.15189873 L16.6126582,0.430379747 Z M18.2481013,13.6860759 L16.6987342,13.6860759 L16.6987342,4.38987342 L18.3341772,4.38987342 L18.2481013,13.6860759 L18.2481013,13.6860759 Z\"\n              id=\"Shape\"\n            />\n            <path\n              d=\"M27.8886076,13.6860759 L27.8025316,13.1696203 C26.7696203,13.5139241 25.6506329,13.9443038 24.5316456,13.9443038 C23.4987342,13.9443038 22.6379747,13.6 21.9493671,12.9113924 C21.0886076,12.0506329 20.7443038,10.7594937 20.7443038,9.03797468 C20.7443038,7.23037975 21.3468354,5.76708861 22.2936709,4.99240506 C23.0683544,4.38987342 24.1012658,4.13164557 25.3063291,4.13164557 C26.0810127,4.13164557 26.9417722,4.30379747 27.5443038,4.56202532 L27.5443038,0.516455696 L29.1797468,0.516455696 L29.1797468,13.6860759 L27.8886076,13.6860759 L27.8886076,13.6860759 Z M27.6303797,11.964557 L27.6303797,5.93924051 C27.0278481,5.68101266 26.2531646,5.50886076 25.564557,5.50886076 C23.4987342,5.50886076 22.4658228,6.54177215 22.4658228,9.03797468 C22.4658228,11.5341772 23.4987342,12.5670886 24.9620253,12.5670886 C25.9088608,12.5670886 26.7696203,12.2227848 27.6303797,11.964557\"\n              id=\"Shape\"\n            />\n            <path\n              d=\"M35.8936709,13.9443038 C34.8607595,13.9443038 33.7417722,13.6860759 32.9670886,12.9113924 C32.1063291,11.964557 31.7620253,10.6734177 31.7620253,9.03797468 C31.7620253,7.48860759 32.1063291,6.02531646 33.1392405,5.16455696 C33.9139241,4.56202532 34.7746835,4.21772152 36.0658228,4.21772152 C37.0987342,4.21772152 38.1316456,4.47594937 38.9063291,5.16455696 C40.0253165,6.11139241 40.1113924,7.57468354 40.1113924,9.46835443 L33.3974684,9.46835443 C33.4835443,11.6202532 34.4303797,12.6531646 36.2379747,12.6531646 C37.356962,12.6531646 38.4759494,12.3949367 39.7670886,12.1367089 L39.7670886,13.4278481 C38.5620253,13.6 37.1848101,13.9443038 35.8936709,13.9443038 M35.9797468,5.33670886 C34.1721519,5.33670886 33.5696203,6.4556962 33.4835443,8.26329114 L38.4759494,8.26329114 C38.3898734,6.2835443 37.7012658,5.33670886 35.9797468,5.33670886\"\n              id=\"Shape\"\n            />\n            <path\n              d=\"M49.235443,13.6860759 L49.235443,7.74683544 C49.235443,6.11139241 48.3746835,5.50886076 46.9974684,5.50886076 C46.2227848,5.50886076 45.3620253,5.76708861 44.243038,6.11139241 L44.243038,13.6 L42.6075949,13.6 L42.6075949,4.38987342 L43.9848101,4.38987342 L44.0708861,4.90632911 C45.1898734,4.56202532 46.3949367,4.13164557 47.5139241,4.13164557 C48.5468354,4.13164557 49.4936709,4.38987342 50.1822785,5.16455696 C50.7848101,5.85316456 50.8708861,6.71392405 50.8708861,7.74683544 L50.8708861,13.6860759 L49.235443,13.6860759 L49.235443,13.6860759 Z\"\n              id=\"Path\"\n            />\n            <path\n              d=\"M56.9822785,13.9443038 C55.9493671,13.9443038 54.9164557,13.6 54.4860759,12.3949367 C54.2278481,11.7063291 54.1417722,10.8455696 54.1417722,9.89873418 L54.1417722,5.76708861 L52.5924051,5.76708861 L52.5924051,4.47594937 L54.1417722,4.47594937 L54.3139241,1.63544304 L55.7772152,1.63544304 L55.7772152,4.47594937 L58.5316456,4.47594937 L58.5316456,5.76708861 L55.7772152,5.76708861 L55.7772152,9.72658228 C55.7772152,10.4151899 55.7772152,11.0177215 55.9493671,11.5341772 C56.121519,12.3088608 56.5518987,12.6531646 57.4126582,12.6531646 C57.843038,12.6531646 58.3594937,12.5670886 58.7898734,12.4810127 L58.7898734,13.7721519 C58.1873418,13.7721519 57.4987342,13.9443038 56.9822785,13.9443038\"\n              id=\"Path\"\n            />\n            <path\n              d=\"M60.9417722,0.430379747 L62.7493671,0.430379747 L62.7493671,2.15189873 L60.9417722,2.15189873 L60.9417722,0.430379747 Z M62.5772152,13.6860759 L61.0278481,13.6860759 L61.0278481,4.38987342 L62.6632911,4.38987342 L62.5772152,13.6860759 L62.5772152,13.6860759 Z\"\n              id=\"Shape\"\n            />\n            <path\n              d=\"M72.0455696,13.6860759 L72.0455696,5.76708861 L67.7417722,5.76708861 L67.7417722,13.6860759 L66.1063291,13.6860759 L66.1063291,5.76708861 L64.556962,5.76708861 L64.556962,4.47594937 L66.1063291,4.47594937 C66.1063291,3.09873418 66.364557,1.97974684 67.2253165,1.20506329 C68,0.516455696 69.1189873,0.344303797 70.6683544,0.344303797 C71.5291139,0.344303797 72.3898734,0.430379747 73.164557,0.516455696 L73.164557,1.72151899 C72.3898734,1.63544304 71.5291139,1.54936709 70.6683544,1.54936709 C68.2582278,1.54936709 67.7417722,2.41012658 67.7417722,4.30379747 L73.6810127,4.30379747 L73.6810127,13.6 L72.0455696,13.6 L72.0455696,13.6860759 Z\"\n              id=\"Path\"\n            />\n            <path\n              d=\"M80.3088608,13.9443038 C79.2759494,13.9443038 78.156962,13.6860759 77.3822785,12.9113924 C76.521519,11.964557 76.1772152,10.6734177 76.1772152,9.03797468 C76.1772152,7.48860759 76.521519,6.02531646 77.5544304,5.16455696 C78.3291139,4.56202532 79.1898734,4.21772152 80.4810127,4.21772152 C81.5139241,4.21772152 82.5468354,4.47594937 83.321519,5.16455696 C84.4405063,6.11139241 84.5265823,7.57468354 84.5265823,9.46835443 L77.8126582,9.46835443 C77.8987342,11.6202532 78.8455696,12.6531646 80.6531646,12.6531646 C81.7721519,12.6531646 82.8911392,12.3949367 84.1822785,12.1367089 L84.1822785,13.4278481 C82.9772152,13.6 81.6,13.9443038 80.3088608,13.9443038 M80.3949367,5.33670886 C78.5873418,5.33670886 77.9848101,6.4556962 77.8987342,8.26329114 L82.8911392,8.26329114 C82.8050633,6.2835443 82.1164557,5.33670886 80.3949367,5.33670886\"\n              id=\"Shape\"\n            />\n            <path\n              d=\"M87.1088608,13.6860759 L87.1088608,4.38987342 L88.4860759,4.38987342 L88.5721519,4.99240506 C89.9493671,4.47594937 90.7240506,4.13164557 91.843038,4.13164557 L92.0151899,4.13164557 L92.0151899,5.59493671 L91.6708861,5.59493671 C90.7240506,5.59493671 90.035443,5.76708861 88.7443038,6.19746835 L88.7443038,13.6860759 L87.1088608,13.6860759 Z\"\n              id=\"Path\"\n            />\n            <path\n              d=\"M105.18481,13.6860759 L105.18481,13.1696203 C103.979747,13.5139241 102.946835,13.9443038 101.827848,13.9443038 C101.053165,13.9443038 100.278481,13.7721519 99.6759494,13.1696203 C99.0734177,12.6531646 98.8151899,11.964557 98.8151899,11.0177215 C98.8151899,10.0708861 99.1594937,9.12405063 100.106329,8.60759494 C100.794937,8.26329114 101.56962,8.17721519 102.516456,8.17721519 C103.205063,8.17721519 104.151899,8.26329114 105.012658,8.34936709 L105.012658,7.91898734 C105.012658,6.11139241 104.237975,5.50886076 102.172152,5.50886076 C101.397468,5.50886076 100.622785,5.59493671 99.8481013,5.68101266 L99.8481013,4.30379747 C100.708861,4.21772152 101.56962,4.13164557 102.43038,4.13164557 C103.635443,4.13164557 104.926582,4.21772152 105.701266,5.07848101 C106.475949,5.85316456 106.648101,6.8 106.648101,8.17721519 L106.648101,13.7721519 L105.18481,13.7721519 L105.18481,13.6860759 Z M104.926582,9.46835443 C104.151899,9.38227848 103.205063,9.38227848 102.516456,9.38227848 C100.881013,9.38227848 100.278481,9.98481013 100.278481,11.0177215 C100.278481,11.964557 100.967089,12.6531646 102.172152,12.6531646 C103.032911,12.6531646 103.979747,12.3949367 104.926582,12.0506329 L104.926582,9.46835443 L104.926582,9.46835443 Z\"\n              id=\"Shape\"\n            />\n            <polygon\n              id=\"Path\"\n              points=\"111.726582 13.6860759 108.111392 4.38987342 109.918987 4.38987342 112.673418 12.0506329 112.759494 12.0506329 115.513924 4.38987342 117.235443 4.38987342 113.620253 13.6860759\"\n            />\n            <path\n              d=\"M122.227848,13.9443038 C121.194937,13.9443038 120.075949,13.6860759 119.301266,12.9113924 C118.440506,11.964557 118.096203,10.6734177 118.096203,9.03797468 C118.096203,7.48860759 118.440506,6.02531646 119.473418,5.16455696 C120.248101,4.56202532 121.108861,4.21772152 122.4,4.21772152 C123.432911,4.21772152 124.465823,4.47594937 125.240506,5.16455696 C126.359494,6.11139241 126.44557,7.57468354 126.44557,9.46835443 L119.731646,9.46835443 C119.817722,11.6202532 120.764557,12.6531646 122.572152,12.6531646 C123.691139,12.6531646 124.810127,12.3949367 126.101266,12.1367089 L126.101266,13.4278481 C124.896203,13.6 123.518987,13.9443038 122.227848,13.9443038 M122.313924,5.33670886 C120.506329,5.33670886 119.903797,6.4556962 119.817722,8.26329114 L124.810127,8.26329114 C124.724051,6.2835443 124.121519,5.33670886 122.313924,5.33670886\"\n              id=\"Shape\"\n            />\n            <path\n              d=\"M132.126582,13.9443038 C131.179747,13.9443038 130.146835,13.6860759 129.458228,12.9113924 C128.597468,11.964557 128.253165,10.6734177 128.253165,9.03797468 C128.253165,7.48860759 128.683544,5.85316456 129.888608,4.99240506 C130.749367,4.30379747 131.868354,4.13164557 132.987342,4.13164557 C133.675949,4.13164557 134.364557,4.21772152 135.225316,4.30379747 L135.225316,5.68101266 C134.536709,5.59493671 133.848101,5.50886076 133.159494,5.50886076 C130.921519,5.50886076 130.060759,6.6278481 130.060759,9.03797468 C130.060759,11.1898734 130.921519,12.5670886 132.729114,12.5670886 C133.503797,12.5670886 134.536709,12.3088608 135.397468,12.0506329 L135.397468,13.4278481 C134.278481,13.6860759 133.159494,13.9443038 132.126582,13.9443038\"\n              id=\"Path\"\n            />\n            <polygon\n              id=\"Path\"\n              points=\"3.61518987 28.7493671 3.61518987 33.7417722 1.46329114 33.7417722 1.46329114 21.1746835 9.64050633 21.1746835 9.64050633 22.8962025 3.61518987 22.8962025 3.61518987 27.0278481 8.86582278 27.0278481 8.86582278 28.7493671\"\n            />\n            <path\n              d=\"M12.3949367,33.7417722 L12.3949367,24.4455696 L14.1164557,24.4455696 L14.2025316,25.0481013 C15.4936709,24.5316456 16.3544304,24.1873418 17.5594937,24.1873418 L17.8177215,24.1873418 L17.8177215,25.9949367 L17.2151899,25.9949367 C16.3544304,25.9949367 15.5797468,26.1670886 14.3746835,26.5974684 L14.3746835,33.8278481 L12.3949367,33.8278481 L12.3949367,33.7417722 Z\"\n              id=\"Path\"\n            />\n            <path\n              d=\"M25.478481,33.7417722 L25.478481,33.2253165 C24.2734177,33.6556962 23.2405063,34 22.035443,34 C21.2607595,34 20.4860759,33.8278481 19.8835443,33.2253165 C19.2810127,32.7088608 19.0227848,32.0202532 19.0227848,31.0734177 C19.0227848,30.0405063 19.3670886,29.0936709 20.4,28.5772152 C21.0886076,28.2329114 21.8632911,28.1468354 22.8101266,28.1468354 C23.4987342,28.1468354 24.4455696,28.1468354 25.2202532,28.3189873 L25.2202532,27.9746835 C25.2202532,26.3392405 24.6177215,25.8227848 22.5518987,25.8227848 C21.7772152,25.8227848 20.9164557,25.9088608 20.1417722,25.9949367 L20.1417722,24.4455696 C21.0025316,24.3594937 22.035443,24.2734177 22.8962025,24.2734177 C24.1873418,24.2734177 25.478481,24.4455696 26.3392405,25.1341772 C27.2,25.9088608 27.2860759,26.9417722 27.2860759,28.2329114 L27.2860759,33.8278481 L25.478481,33.8278481 L25.478481,33.7417722 Z M25.2202532,29.6101266 C24.5316456,29.5240506 23.6708861,29.5240506 23.0683544,29.5240506 C21.5189873,29.5240506 21.0025316,30.0405063 21.0025316,30.9873418 C21.0025316,31.8481013 21.6050633,32.5367089 22.7240506,32.5367089 C23.4987342,32.5367089 24.3594937,32.278481 25.2202532,32.0202532 L25.2202532,29.6101266 Z\"\n              id=\"Shape\"\n            />\n            <path\n              d=\"M37.443038,33.7417722 L37.443038,27.8886076 C37.443038,26.3392405 36.6683544,25.8227848 35.3772152,25.8227848 C34.6886076,25.8227848 33.8278481,25.9949367 32.8810127,26.4253165 L32.8810127,33.7417722 L30.9012658,33.7417722 L30.9012658,24.4455696 L32.6227848,24.4455696 L32.7088608,24.9620253 C33.9139241,24.6177215 35.0329114,24.1873418 36.1518987,24.1873418 C37.1848101,24.1873418 38.1316456,24.4455696 38.8202532,25.2202532 C39.4227848,25.9088608 39.5949367,26.7696203 39.5949367,27.8886076 L39.5949367,33.7417722 L37.443038,33.7417722 Z\"\n              id=\"Path\"\n            />\n            <path\n              d=\"M46.1367089,34 C45.1898734,34 44.156962,33.7417722 43.3822785,32.9670886 C42.521519,32.1063291 42.1772152,30.7291139 42.1772152,29.1797468 C42.1772152,27.6303797 42.6075949,26.0810127 43.8126582,25.1341772 C44.6734177,24.4455696 45.7924051,24.2734177 46.9974684,24.2734177 C47.6860759,24.2734177 48.4607595,24.3594937 49.321519,24.4455696 L49.321519,26.0810127 C48.7189873,25.9949367 47.9443038,25.9949367 47.2556962,25.9949367 C45.1898734,25.9949367 44.3291139,27.0278481 44.3291139,29.2658228 C44.3291139,31.2455696 45.1037975,32.5367089 46.8253165,32.5367089 C47.6,32.5367089 48.6329114,32.278481 49.4936709,32.0202532 L49.4936709,33.5696203 C48.2886076,33.7417722 47.1696203,34 46.1367089,34\"\n              id=\"Path\"\n            />\n            <path\n              d=\"M55.2607595,34 C54.2278481,34 53.1088608,33.7417722 52.2481013,32.9670886 C51.3873418,32.1063291 51.043038,30.7291139 51.043038,29.0936709 C51.043038,27.5443038 51.3873418,26.0810127 52.4202532,25.1341772 C53.1949367,24.4455696 54.1417722,24.1873418 55.4329114,24.1873418 C56.4658228,24.1873418 57.5848101,24.4455696 58.3594937,25.1341772 C59.478481,26.1670886 59.6506329,27.5443038 59.6506329,29.5240506 L53.1088608,29.5240506 C53.1088608,31.5037975 54.0556962,32.4506329 55.7772152,32.4506329 C56.8962025,32.4506329 58.1012658,32.1924051 59.3063291,31.9341772 L59.3063291,33.4835443 C58.1012658,33.6556962 56.6379747,34 55.2607595,34 M55.4329114,25.564557 C53.7974684,25.564557 53.2810127,26.5974684 53.1949367,28.2329114 L57.756962,28.2329114 C57.6708861,26.4253165 57.0683544,25.564557 55.4329114,25.564557\"\n              id=\"Shape\"\n            />\n            <path\n              d=\"M67.1392405,34 C65.8481013,34 64.4708861,33.6556962 63.5240506,32.6227848 C62.3189873,31.4177215 61.8886076,29.6101266 61.8886076,27.4582278 C61.8886076,25.3924051 62.4911392,23.3265823 64.0405063,22.035443 C65.2455696,21.0886076 66.7088608,20.9164557 68.2582278,20.9164557 C69.2050633,20.9164557 70.1518987,21.0025316 71.1848101,21.0886076 L71.1848101,22.8962025 C70.3240506,22.8101266 69.2911392,22.7240506 68.4303797,22.7240506 C65.1594937,22.7240506 64.0405063,24.5316456 64.0405063,27.4582278 C64.0405063,30.2987342 65.2455696,32.1063291 67.7417722,32.1063291 C68.8607595,32.1063291 70.2379747,31.7620253 71.356962,31.4177215 L71.356962,33.2253165 C69.9797468,33.6556962 68.5164557,34 67.1392405,34\"\n              id=\"Path\"\n            />\n            <path\n              d=\"M74.9721519,33.0531646 C74.0253165,32.278481 73.5949367,30.9012658 73.5949367,29.0936709 C73.5949367,27.2860759 74.0253165,25.9949367 74.9721519,25.1341772 C75.8329114,24.3594937 76.9518987,24.1873418 78.243038,24.1873418 C79.4481013,24.1873418 80.5670886,24.4455696 81.5139241,25.1341772 C82.4607595,25.9088608 82.8911392,27.2860759 82.8911392,29.0075949 C82.8911392,30.8151899 82.4607595,32.1063291 81.5139241,32.9670886 C80.6531646,33.7417722 79.4481013,33.9139241 78.243038,33.9139241 C77.0379747,34 75.8329114,33.7417722 74.9721519,33.0531646 M80.8253165,29.0936709 C80.8253165,26.8556962 80.0506329,25.7367089 78.243038,25.7367089 C76.3493671,25.7367089 75.6607595,26.7696203 75.6607595,29.0075949 C75.6607595,31.2455696 76.435443,32.4506329 78.243038,32.4506329 C80.1367089,32.4506329 80.8253165,31.4177215 80.8253165,29.0936709\"\n              id=\"Shape\"\n            />\n            <path\n              d=\"M92.3594937,33.7417722 L92.3594937,27.8886076 C92.3594937,26.3392405 91.5848101,25.8227848 90.2936709,25.8227848 C89.6050633,25.8227848 88.7443038,25.9949367 87.7974684,26.4253165 L87.7974684,33.7417722 L85.8177215,33.7417722 L85.8177215,24.4455696 L87.5392405,24.4455696 L87.6253165,24.9620253 C88.8303797,24.6177215 89.9493671,24.1873418 91.0683544,24.1873418 C92.1012658,24.1873418 93.0481013,24.4455696 93.7367089,25.2202532 C94.3392405,25.9088608 94.5113924,26.7696203 94.5113924,27.8886076 L94.5113924,33.7417722 L92.3594937,33.7417722 Z\"\n              id=\"Path\"\n            />\n            <path\n              d=\"M104.582278,33.7417722 L104.582278,27.8886076 C104.582278,26.3392405 103.807595,25.8227848 102.516456,25.8227848 C101.827848,25.8227848 100.967089,25.9949367 100.020253,26.4253165 L100.020253,33.7417722 L98.0405063,33.7417722 L98.0405063,24.4455696 L99.7620253,24.4455696 L99.8481013,24.9620253 C101.053165,24.6177215 102.172152,24.1873418 103.291139,24.1873418 C104.324051,24.1873418 105.270886,24.4455696 105.959494,25.2202532 C106.562025,25.9088608 106.734177,26.7696203 106.734177,27.8886076 L106.734177,33.7417722 L104.582278,33.7417722 Z\"\n              id=\"Path\"\n            />\n            <path\n              d=\"M113.448101,34 C112.41519,34 111.296203,33.7417722 110.435443,32.9670886 C109.574684,32.1063291 109.23038,30.7291139 109.23038,29.0936709 C109.23038,27.5443038 109.574684,26.0810127 110.607595,25.1341772 C111.382278,24.4455696 112.329114,24.1873418 113.620253,24.1873418 C114.653165,24.1873418 115.772152,24.4455696 116.546835,25.1341772 C117.665823,26.1670886 117.837975,27.5443038 117.837975,29.5240506 L111.296203,29.5240506 C111.296203,31.5037975 112.243038,32.4506329 113.964557,32.4506329 C115.083544,32.4506329 116.288608,32.1924051 117.493671,31.9341772 L117.493671,33.4835443 C116.288608,33.6556962 114.825316,34 113.448101,34 M113.620253,25.564557 C111.98481,25.564557 111.468354,26.5974684 111.382278,28.2329114 L115.944304,28.2329114 C115.772152,26.4253165 115.16962,25.564557 113.620253,25.564557\"\n              id=\"Shape\"\n            />\n            <path\n              d=\"M124.035443,34 C123.088608,34 122.055696,33.7417722 121.281013,32.9670886 C120.420253,32.1063291 120.075949,30.7291139 120.075949,29.1797468 C120.075949,27.6303797 120.506329,26.0810127 121.711392,25.1341772 C122.572152,24.4455696 123.691139,24.2734177 124.896203,24.2734177 C125.58481,24.2734177 126.359494,24.3594937 127.220253,24.4455696 L127.220253,26.0810127 C126.617722,25.9949367 125.843038,25.9949367 125.15443,25.9949367 C123.088608,25.9949367 122.227848,27.0278481 122.227848,29.2658228 C122.227848,31.2455696 123.002532,32.5367089 124.724051,32.5367089 C125.498734,32.5367089 126.531646,32.278481 127.392405,32.0202532 L127.392405,33.5696203 C126.273418,33.7417722 125.068354,34 124.035443,34\"\n              id=\"Path\"\n            />\n            <path\n              d=\"M133.24557,34 C132.212658,34 131.265823,33.6556962 130.749367,32.5367089 C130.405063,31.8481013 130.318987,30.9873418 130.318987,29.9544304 L130.318987,25.9949367 L128.855696,25.9949367 L128.855696,24.4455696 L130.318987,24.4455696 L130.577215,21.6050633 L132.38481,21.6050633 L132.38481,24.4455696 L135.053165,24.4455696 L135.053165,25.9949367 L132.38481,25.9949367 L132.38481,29.6101266 C132.38481,30.2987342 132.38481,30.9012658 132.556962,31.3316456 C132.729114,32.0202532 133.159494,32.278481 133.934177,32.278481 C134.364557,32.278481 134.881013,32.1924051 135.311392,32.1063291 L135.311392,33.6556962 C134.536709,33.8278481 133.848101,34 133.24557,34\"\n              id=\"Path\"\n            />\n          </g>\n          <g id=\"Symbole\" transform=\"translate(15.000000, 3.000000)\">\n            <polygon\n              id=\"Hexagone\"\n              fill=\"#FFFFFF\"\n              points=\"0 14.18598 0 41.1473534 23.9603306 54.6666667 48 41.1473534 48 14.18598 23.9603306 0.666666667\"\n            />\n            <g id=\"Mosaique\" transform=\"translate(5.000000, 5.666667)\">\n              <polygon\n                id=\"Path\"\n                fill=\"#034EA2\"\n                points=\"31.7217391 21.9585687 24.8652174 10.1092279 19 0 19 13.8380414 19 44 38 32.9792844 38 32.9792844\"\n              />\n              <polygon\n                id=\"Path\"\n                fill=\"#0069CC\"\n                points=\"24.8652174 10.1283019 31.7217391 22 38 11.0415094 38 11.0415094 30.3173913 6.55849057\"\n              />\n              <polygon\n                id=\"Path\"\n                fill=\"#ED1C24\"\n                points=\"30.3173913 6.55849057 19 2.22044605e-14 24.8652174 10.1283019\"\n              />\n              <polygon\n                id=\"Path\"\n                fill=\"#0069CC\"\n                points=\"24.8652174 10.1283019 19 2.22044605e-14\"\n              />\n              <polygon\n                id=\"Path\"\n                fill=\"#ED1C24\"\n                points=\"38 33.0415094 38 11.0415094 31.7217391 22\"\n              />\n              <polygon\n                id=\"Path\"\n                fill=\"#0069CC\"\n                points=\"6.36086957 21.9585687 13.2173913 10.1092279 19 0 19 13.8380414 19 44 0 32.9792844 0 32.9792844\"\n              />\n              <polygon\n                id=\"Path\"\n                fill=\"#ED1C24\"\n                points=\"13.2173913 10.1283019 6.36086957 22 0 11.0415094 0 11.0415094 7.6826087 6.55849057\"\n              />\n              <polygon\n                id=\"Path\"\n                fill=\"#034EA2\"\n                points=\"7.6826087 6.55849057 19 2.22044605e-14 13.2173913 10.1283019\"\n              />\n              <polygon\n                id=\"Path\"\n                fill=\"#034EA2\"\n                points=\"-9.23705556e-14 33.0415094 -9.23705556e-14 11.0415094 6.36086957 22\"\n              />\n            </g>\n            <g id=\"Marianne\" transform=\"translate(3.000000, 16.666667)\">\n              <path\n                d=\"M26.2461538,13.2102875 C26.5846154,13.2102875 26.9230769,13.1252875 27.2615385,13.2102875 C27.5153846,13.2952875 27.8538462,13.2952875 27.8538462,13.3802875 C27.7692308,13.8902875 27.0076923,13.9752875 26.6692308,14.4852875 C26.5846154,14.4852875 26.5846154,14.4852875 26.5,14.4852875 C26.3307692,14.5702875 26.4153846,14.9102875 26.2461538,14.9102875 C26.0769231,14.8252875 25.9076923,14.9102875 25.6538462,14.9952875 C25.9076923,15.2502875 26.2461538,15.4202875 26.5846154,15.3352875 C26.6692308,15.3352875 26.7538462,15.4202875 26.7538462,15.5902875 C26.7538462,15.5902875 26.8384615,15.5902875 26.8384615,15.5052875 C26.9230769,15.5052875 26.9230769,15.5052875 26.9230769,15.5902875 C26.9230769,15.6752875 26.9230769,15.7602875 26.9230769,15.8452875 C26.7538462,16.1002875 26.4153846,16.0152875 26.1615385,16.0152875 C26.6692308,16.1002875 27.1769231,16.1002875 27.6,16.0152875 C27.9384615,15.8452875 27.6,15.2502875 27.8538462,14.9952875 C27.7692308,14.9952875 27.8538462,14.8252875 27.6846154,14.8252875 C27.7692308,14.7402875 27.9384615,14.4852875 28.0230769,14.4852875 C28.1076923,14.4852875 28.3615385,14.4002875 28.3615385,14.3152875 C28.3615385,14.2302875 28.1076923,14.1452875 28.1923077,13.9752875 C28.5307692,13.7202875 28.8692308,13.3802875 28.7,12.9552875 C28.6153846,12.7852875 28.1076923,12.7852875 27.8538462,12.7002875 C27.5153846,12.6152875 27.1769231,12.7002875 26.8384615,12.7852875 C26.5,12.7852875 26.2461538,12.9552875 25.9076923,13.0402875 C25.4846154,13.2102875 25.1461538,13.4652875 24.7230769,13.7202875 C25.3153846,13.4652875 25.7384615,13.3802875 26.2461538,13.2102875 Z\"\n                id=\"Path\"\n                fill=\"#034EA2\"\n              />\n              <path\n                d=\"M32.2321709,16.7697396 C32.0616303,16.4333612 31.8058195,16.1810774 31.5500086,15.8446989 C31.2941977,15.4242258 30.9531165,15.0878474 30.8678462,14.5832797 C30.6973056,14.078712 30.8678462,13.658239 30.8678462,13.1536713 C30.8678462,12.2286305 30.6120353,11.3035898 30.3562245,10.4626437 C30.1856839,10.0421706 30.1004136,9.53760291 29.929873,9.11712984 C29.8446027,8.864846 29.7593324,8.61256216 29.5887918,8.36027832 C29.5035215,8.27618371 29.5035215,8.02389987 29.5887918,7.93980525 C29.8446027,7.77161603 30.1004136,7.51933219 30.2709542,7.35114296 C30.4414948,7.01476451 30.2709542,6.59429144 30.0151433,6.42610222 C29.5887918,6.25791299 29.6740621,6.84657528 29.3329809,7.01476451 C29.2477107,7.01476451 29.2477107,7.01476451 29.1624404,7.01476451 C29.0771701,6.84657528 29.2477107,6.76248067 29.3329809,6.67838605 C29.3329809,6.59429144 29.3329809,6.51019683 29.2477107,6.51019683 C28.9918998,6.51019683 28.7360889,6.42610222 28.6508186,6.3420076 C27.9686563,5.50106147 27.1159533,5.0805884 26.1779801,4.74420995 C26.433791,4.82830456 26.6896019,4.82830456 26.9454127,4.82830456 C27.3717642,4.91239918 27.883386,4.82830456 28.2244671,4.66011534 C28.5655483,4.49192611 28.5655483,4.07145304 28.6508186,3.73507459 C28.7360889,3.65097998 28.6508186,3.56688536 28.6508186,3.39869614 C28.6508186,3.23050691 28.480278,3.06231769 28.3950077,2.89412846 C28.3950077,2.89412846 28.3097374,2.81003385 28.2244671,2.64184462 C27.5423048,1.8849931 24.8989257,-0.301466844 19.9532487,0.0349116086 C17.8214913,0.203100835 15.1781122,0.791763128 12.1083817,2.30546617 C12.0231114,2.30546617 11.9378411,2.38956078 11.7673005,2.38956078 C11.2556787,2.64184462 10.5735164,3.06231769 10.1471649,3.56688536 C9.63554316,4.15554766 9.20919169,4.82830456 9.03865111,5.58515608 C8.27121846,6.08972376 7.7595967,6.84657528 7.33324524,7.6034268 C6.82162348,8.61256216 6.13946113,9.45350829 6.13946113,10.5467383 C6.13946113,10.6308329 6.13946113,10.7149275 6.13946113,10.7149275 C6.22473142,11.0513059 6.22473142,11.3035898 6.31000172,11.6399682 C6.4805423,12.3127251 6.65108289,12.985482 6.73635318,13.658239 C6.82162348,13.9946174 6.90689377,14.3309959 6.99216406,14.6673743 C7.16270465,15.0037528 6.99216406,15.4242258 7.24797494,15.7606043 C7.33324524,15.9287935 7.33324524,16.1810774 7.58905612,16.265172 C7.58905612,16.3492666 7.58905612,16.4333612 7.58905612,16.5174558 C7.67432641,16.6015504 7.67432641,16.6015504 7.7595967,16.6015504 C7.7595967,16.685645 7.7595967,16.7697396 7.7595967,16.8538343 C8.27121846,17.4424965 8.86811052,17.9470642 9.20919169,18.6198211 C9.37973228,18.9561996 8.61229964,18.7880104 8.27121846,18.7039157 C7.67432641,18.4516319 7.24797494,17.9470642 6.73635318,17.5265912 C6.73635318,17.5265912 6.65108289,17.6106858 6.65108289,17.6106858 C6.90689377,18.0311588 7.844867,18.5357265 7.33324524,18.872105 C7.07743436,19.0402942 6.73635318,18.7039157 6.5658126,18.9561996 C6.4805423,19.0402942 6.5658126,19.2084834 6.5658126,19.292578 C6.22473142,19.0402942 5.79837995,19.2084834 5.45729878,19.0402942 C5.2014879,18.9561996 5.11621761,18.5357265 4.86040673,18.5357265 C4.09297409,18.3675373 3.32554144,18.1993481 2.47283851,18.1993481 C2.38756822,18.1993481 2.30229792,18.1993481 2.30229792,18.1993481 C1.53486528,18.1152535 0.767432641,18.0311588 0.0852702935,18.1152535 L0.0852702935,18.9561996 C0.767432641,18.7880104 1.44959499,18.6198211 2.13175734,18.6198211 C2.21702763,18.6198211 2.30229792,18.6198211 2.30229792,18.6198211 C2.47283851,18.6198211 2.72864939,18.5357265 2.89918998,18.6198211 C2.6433791,18.6198211 2.30229792,18.6198211 2.04648704,18.7039157 C1.3643247,18.7880104 0.682162348,19.0402942 0,19.292578 L0,20.1335242 C0.341081174,20.2176188 0.767432641,20.2176188 1.10851381,20.3017134 C1.53486528,20.385808 1.96121675,20.4699026 2.38756822,20.6380919 C2.98446027,20.8062811 3.41081174,21.0585649 3.9224335,21.3108488 C4.17824438,21.479038 4.26351467,21.6472272 4.51932555,21.8154164 C4.86040673,21.9836057 5.28675819,21.9836057 5.54256907,21.8154164 C5.62783937,21.8154164 5.79837995,21.8154164 5.88365025,21.8154164 C6.82162348,21.5631326 7.7595967,21.3108488 8.35648876,20.5539972 C8.35648876,20.6380919 8.44175905,20.6380919 8.44175905,20.6380919 C8.27121846,21.1426595 8.27121846,21.6472272 7.93013729,22.1517949 C7.93013729,22.2358895 7.844867,22.3199841 8.01540758,22.4040787 C8.10067788,22.4040787 8.10067788,22.4040787 8.10067788,22.4040787 C8.01540758,22.4040787 8.01540758,22.4040787 8.01540758,22.4881733 C8.01540758,22.572268 8.18594817,22.4881733 8.27121846,22.572268 C7.93013729,22.6563626 7.67432641,22.7404572 7.50378582,22.992741 C7.50378582,23.0768356 7.58905612,23.0768356 7.67432641,23.0768356 C7.58905612,23.1609303 7.33324524,23.1609303 7.33324524,23.2450249 C7.33324524,23.2450249 7.41851553,23.3291195 7.41851553,23.3291195 C7.33324524,23.3291195 7.33324524,23.3291195 7.33324524,23.4132141 C7.33324524,23.4973087 7.33324524,23.4973087 7.33324524,23.5814033 C7.16270465,23.5814033 7.07743436,23.7495925 6.99216406,23.7495925 C7.24797494,23.9177818 7.41851553,23.7495925 7.67432641,23.7495925 C6.99216406,24.0018764 6.4805423,24.4223494 5.79837995,24.5905387 C5.71310966,24.5905387 5.79837995,24.7587279 5.71310966,24.7587279 C5.88365025,24.8428225 6.05419084,24.6746333 6.22473142,24.6746333 C5.88365025,24.9269171 5.54256907,25.0951064 5.2014879,25.2632956 L7.24797494,26.4406202 C8.10067788,25.9360525 8.86811052,25.3473902 9.55027287,24.5905387 C9.55027287,24.5905387 9.63554316,24.6746333 9.63554316,24.6746333 C9.46500257,25.2632956 9.1239214,25.6837686 8.61229964,26.1042417 C8.27121846,26.2724309 8.01540758,26.6088094 7.7595967,26.692904 L9.29446199,27.5338501 C9.63554316,27.2815663 9.89135404,27.1133771 10.3177055,26.9451878 C10.4029758,26.9451878 10.4882461,27.0292825 10.6587867,27.0292825 C11.1704084,26.5247148 11.7673005,25.9360525 12.6200034,26.1042417 C12.6200034,26.1883363 12.6200034,26.1883363 12.7052737,26.1883363 C12.7052737,26.1883363 12.7052737,26.1883363 12.7052737,26.1883363 C12.7052737,26.1883363 12.790544,26.1883363 12.790544,26.1042417 C12.790544,26.1883363 12.790544,26.1883363 12.7052737,26.1883363 C12.4494628,26.3565256 12.2789223,26.5247148 12.0231114,26.692904 C11.9378411,26.7769986 12.0231114,26.7769986 12.1083817,26.7769986 C12.4494628,26.6088094 12.6200034,26.4406202 12.8758143,26.2724309 C12.790544,26.3565256 12.790544,26.4406202 12.790544,26.5247148 C12.0231114,27.1133771 11.4262193,27.7020394 10.8293273,28.3747963 L18.9300051,33 C19.185816,32.6636215 19.5268972,32.1590539 19.8679784,31.7385808 C21.4028437,29.5521209 23.6198713,26.6088094 24.3020336,25.9360525 C24.5578445,25.7678633 24.8136554,25.7678633 25.1547366,25.6837686 C26.1779801,25.6837686 27.2864939,25.9360525 28.3097374,26.0201471 C28.3950077,26.0201471 28.5655483,26.1042417 28.6508186,26.1042417 C28.9918998,26.1883363 29.4182512,26.1042417 29.8446027,26.0201471 C30.2709542,25.8519579 30.7825759,25.599674 30.9531165,25.0951064 C31.1236571,24.6746333 31.2089274,24.1700656 30.9531165,23.7495925 C30.5267651,23.2450249 31.2941977,22.992741 31.5500086,22.6563626 C31.7205492,22.3199841 31.379468,22.1517949 31.379468,21.8995111 C31.2941977,21.8154164 31.0383868,21.8154164 30.9531165,21.6472272 C31.379468,21.479038 32.0616303,21.0585649 31.7205492,20.5539972 C31.5500086,20.2176188 31.2089274,19.7971457 31.5500086,19.4607673 C31.97636,19.2084834 32.6585224,19.2084834 32.829063,18.7880104 C33.3406847,17.9470642 32.5732521,17.3584019 32.2321709,16.7697396 Z M29.5887918,13.7423336 C29.5035215,13.8264282 29.7593324,13.9105228 29.7593324,14.078712 C29.6740621,14.1628066 29.5035215,14.2469012 29.4182512,14.2469012 C29.3329809,14.3309959 29.1624404,14.4991851 29.0771701,14.5832797 C29.1624404,14.5832797 29.0771701,14.7514689 29.2477107,14.7514689 C28.9918998,15.0878474 29.4182512,15.6765097 28.9918998,15.7606043 C28.5655483,15.9287935 28.0539265,15.9287935 27.5423048,15.7606043 C27.7981157,15.6765097 28.1391968,15.8446989 28.3097374,15.5924151 C28.3097374,15.5083204 28.3097374,15.4242258 28.3097374,15.3401312 C28.3097374,15.2560366 28.2244671,15.2560366 28.2244671,15.2560366 C28.1391968,15.3401312 28.1391968,15.3401312 28.1391968,15.3401312 C28.1391968,15.2560366 27.9686563,15.0878474 27.9686563,15.0878474 C27.6275751,15.171942 27.2864939,15.0037528 27.030683,14.7514689 C27.2012236,14.6673743 27.3717642,14.5832797 27.6275751,14.6673743 C27.7981157,14.6673743 27.7128454,14.3309959 27.883386,14.2469012 C27.9686563,14.2469012 27.9686563,14.2469012 28.0539265,14.2469012 C28.3950077,13.7423336 29.1624404,13.5741443 29.2477107,13.1536713 C29.2477107,13.0695767 28.9066295,13.0695767 28.6508186,12.985482 C28.3097374,12.9013874 27.9686563,12.985482 27.6275751,12.985482 C27.1159533,13.1536713 26.6896019,13.1536713 26.2632504,13.4059551 C26.6043316,13.1536713 27.030683,12.9013874 27.4570345,12.7331982 C27.7981157,12.6491036 28.0539265,12.4809144 28.3950077,12.4809144 C28.7360889,12.3968198 29.1624404,12.3127251 29.4182512,12.3968198 C29.7593324,12.4809144 30.1856839,12.4809144 30.2709542,12.6491036 C30.1856839,13.1536713 29.929873,13.4900497 29.5887918,13.7423336 Z\"\n                id=\"Shape\"\n                fill=\"#FFFFFF\"\n              />\n            </g>\n          </g>\n        </g>\n      </g>\n    </svg>\n  );\n}\n","import React, { PureComponent } from 'react';\nimport { get } from 'lodash-es';\nimport { Subscription } from 'rxjs';\n\n// services\nimport {\n  TAppConfigurationSetting,\n  currentAppConfigurationStream,\n  IAppConfiguration,\n  IAppConfigurationData,\n} from 'services/appConfiguration';\nimport { isNilOrError } from 'utils/helperUtils';\n\ninterface Props {\n  name: TAppConfigurationSetting;\n  /** when this flag is set, the feature will show if it's allowed, regardless of whether it's enabled */\n  onlyCheckAllowed: boolean;\n}\n\ninterface State {\n  currentTenant: IAppConfiguration | null;\n}\n\nexport const isFeatureActive = (\n  feature: string,\n  tenant: IAppConfigurationData,\n  options?: { onlyCheckAllowed?: boolean }\n) => {\n  return (\n    get(tenant, `attributes.settings.${feature}.allowed`) === true &&\n    (options?.onlyCheckAllowed ||\n      get(tenant, `attributes.settings.${feature}.enabled`) === true)\n  );\n};\n\nexport default class FeatureFlag extends PureComponent<Props, State> {\n  public static defaultProps = {\n    onlyCheckAllowed: false,\n  };\n  subscription: Subscription | null;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = { currentTenant: null };\n    this.subscription = null;\n  }\n\n  componentDidMount() {\n    const currentTenant$ = currentAppConfigurationStream().observable;\n    this.subscription = currentTenant$.subscribe((currentTenant) =>\n      this.setState({ currentTenant })\n    );\n  }\n\n  componentWillUnmount() {\n    if (this.subscription) {\n      this.subscription.unsubscribe();\n    }\n  }\n\n  render() {\n    const { currentTenant } = this.state;\n    const { name, onlyCheckAllowed } = this.props;\n\n    if (isNilOrError(currentTenant)) return null;\n\n    const showFeature =\n      !name || isFeatureActive(name, currentTenant.data, { onlyCheckAllowed });\n\n    if (this.props.children && showFeature) {\n      return <React.Fragment>{this.props.children}</React.Fragment>;\n    }\n\n    return null;\n  }\n}\n","import React from 'react';\nimport { FormattedRelative } from 'react-intl';\nimport styled from 'styled-components';\nimport { darken } from 'polished';\nimport { fontSizes, colors, media } from 'utils/styleUtils';\nimport { Icon } from 'cl2-component-library';\nimport { trackEventByName } from 'utils/analytics';\nimport tracks from '../../../../tracks';\nimport clHistory from 'utils/cl-router/history';\n\nconst Container = styled.button`\n  display: flex;\n  text-align: left;\n  cursor: pointer;\n  border-radius: ${(props: any) => props.theme.borderRadius};\n  padding-left: 15px;\n  padding-right: 10px;\n  padding-top: 10px;\n  padding-bottom: 10px;\n  margin: 0;\n  margin-bottom: 5px;\n\n  &:hover,\n  &:focus {\n    color: ${colors.text};\n    background-color: ${colors.clDropdownHoverBackground};\n  }\n\n  ${media.smallerThanMinTablet`\n    padding-left: 5px;\n    padding-right: 5px;\n    padding-top: 5px;\n    padding-bottom: 5px;\n  `}\n`;\n\nconst IconContainer = styled.div`\n  flex: 0 0 22px;\n  width: 22px;\n  display: flex;\n  justify-content: center;\n  margin-right: 15px;\n`;\n\nconst StyledIcon: any = styled(Icon)`\n  flex: 0 0 22px;\n  height: 22px;\n  fill: ${colors.label};\n  opacity: ${(props: any) => (props.isRead ? '0.4' : '1')};\n`;\n\nconst Body = styled.div`\n  flex: 1 1 auto;\n`;\n\nconst Message = styled.div<{ isRead: boolean }>`\n  color: ${colors.label};\n  font-size: ${fontSizes.base}px;\n  font-weight: ${(props) => (props.isRead ? 'normal' : '500')};\n  text-align: left;\n  white-space: normal;\n  margin-bottom: 4px;\n\n  a {\n    color: ${colors.clBlueDark};\n    text-decoration: underline;\n    overflow-wrap: break-word;\n    word-wrap: break-word;\n    word-break: break-all;\n    word-break: break-word;\n    hyphens: auto;\n\n    &:hover {\n      color: ${darken(0.15, colors.clBlueDark)};\n      text-decoration: underline;\n    }\n  }\n`;\n\nconst Timing = styled.span`\n  width: 100%;\n  color: ${colors.label};\n  font-size: ${fontSizes.small}px;\n  text-align: left;\n`;\n\ntype Props = {\n  icon?: string;\n  timing?: string;\n  children: any;\n  linkTo: string;\n  isRead: boolean;\n};\n\nclass NotificationWrapper extends React.PureComponent<Props> {\n  navigate = () => {\n    const { linkTo } = this.props;\n    if (linkTo) {\n      trackEventByName(tracks.clickNotification.name, { extra: { linkTo } });\n      clHistory.push(linkTo);\n    }\n  };\n\n  render() {\n    const { icon, children, timing, isRead } = this.props;\n\n    return (\n      <Container role=\"link\" onClick={this.navigate}>\n        <IconContainer>\n          {icon && <StyledIcon name={icon} isRead={isRead} />}\n        </IconContainer>\n        <Body>\n          <Message isRead={isRead}>{children}</Message>\n          {timing && (\n            <Timing>\n              <FormattedRelative value={timing} />\n            </Timing>\n          )}\n        </Body>\n      </Container>\n    );\n  }\n}\n\nexport default NotificationWrapper;\n","import { FC, useEffect } from 'react';\nimport { InjectedIntlProps } from 'react-intl';\nimport { InsertConfigurationOptions, ITab } from 'typings';\nimport { injectIntl } from 'utils/cl-intl';\nimport messages from '../messages';\n\ntype Props = {\n  onData: (data: InsertConfigurationOptions<ITab>) => void;\n};\n\nconst Tab: FC<Props & InjectedIntlProps> = ({\n  onData,\n  intl: { formatMessage },\n}) => {\n  useEffect(() => {\n    onData({\n      configuration: {\n        label: formatMessage(messages.tabWidgets),\n        url: '/admin/settings/widgets',\n        name: 'widgets',\n        feature: 'widgets',\n      },\n      insertAfterName: 'pages',\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return null;\n};\n\nexport default injectIntl(Tab);\n","import FeatureFlag from 'components/FeatureFlag';\nimport TranslateButton from 'components/UI/TranslateButton';\nimport React from 'react';\nimport { GetInitiativeChildProps } from 'resources/GetInitiative';\nimport { GetLocaleChildProps } from 'resources/GetLocale';\nimport { GetWindowSizeChildProps } from 'resources/GetWindowSize';\nimport styled from 'styled-components';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { viewportWidths } from 'utils/styleUtils';\n\nconst StyledTranslateButtonMobile = styled(TranslateButton)`\n  width: fit-content;\n  margin-bottom: 20px;\n`;\n\ninterface Props {\n  windowSize: GetWindowSizeChildProps;\n  translateButtonClicked: boolean;\n  onClick: () => void;\n  initiative: GetInitiativeChildProps;\n  locale: GetLocaleChildProps;\n}\n\nconst InitiativesTranslateButton = ({\n  windowSize,\n  translateButtonClicked,\n  onClick,\n  initiative,\n  locale,\n}: Props) => {\n  const showTranslateButton =\n    !isNilOrError(initiative) &&\n    !isNilOrError(locale) &&\n    !initiative.attributes.title_multiloc[locale];\n\n  const isNotDesktop = windowSize\n    ? windowSize <= viewportWidths.largeTablet\n    : false;\n\n  if (isNotDesktop && showTranslateButton) {\n    <FeatureFlag name=\"machine_translations\">\n      <StyledTranslateButtonMobile\n        translateButtonClicked={translateButtonClicked}\n        onClick={onClick}\n      />\n    </FeatureFlag>;\n  }\n\n  return null;\n};\n\nexport default InitiativesTranslateButton;\n","// Libraries\nimport React, { PureComponent } from 'react';\nimport { Subscription, combineLatest } from 'rxjs';\n\n// Services\nimport { localeStream } from 'services/locale';\nimport { currentAppConfigurationStream } from 'services/appConfiguration';\n\n// i18n\nimport { getLocalized } from 'utils/i18n';\n\n// Typing\nimport { Multiloc, Locale } from 'typings';\nimport { isNilOrError } from './helperUtils';\n\nexport interface InjectedLocalized {\n  localize: (\n    multiloc: Multiloc | null | undefined,\n    maxChar?: number | undefined\n  ) => string;\n  locale: Locale;\n  tenantLocales: Locale[];\n}\n\nexport interface State {\n  locale: Locale | null;\n  tenantLocales: Locale[];\n}\n\nexport default function injectLocalize<P>(\n  Component: React.ComponentType<P & InjectedLocalized>\n) {\n  return class Localized extends PureComponent<P, State> {\n    subscriptions: Subscription[];\n    static displayName = `WithLocalize(${getDisplayName(Component)})`;\n\n    constructor(props) {\n      super(props);\n      this.state = {\n        locale: null,\n        tenantLocales: [],\n      };\n      this.subscriptions = [];\n    }\n\n    componentDidMount() {\n      const locale$ = localeStream().observable;\n      const currentTenant$ = currentAppConfigurationStream().observable;\n\n      this.subscriptions = [\n        combineLatest(locale$, currentTenant$).subscribe(\n          ([locale, currentTenant]) => {\n            if (!isNilOrError(locale) && !isNilOrError(currentTenant)) {\n              const tenantLocales =\n                currentTenant.data.attributes.settings.core.locales;\n              this.setState({ locale, tenantLocales });\n            }\n          }\n        ),\n      ];\n    }\n\n    componentWillUnmount() {\n      this.subscriptions.forEach((subscription) => subscription.unsubscribe());\n    }\n\n    localize = (multiloc: Multiloc | undefined | null, maxChar?: number) => {\n      if (this.state.locale && multiloc) {\n        return getLocalized(\n          multiloc,\n          this.state.locale,\n          this.state.tenantLocales,\n          maxChar\n        );\n      }\n\n      return '';\n    };\n\n    render() {\n      const { locale, tenantLocales } = this.state;\n\n      if (locale && tenantLocales) {\n        return (\n          <Component\n            localize={this.localize}\n            locale={locale}\n            tenantLocales={tenantLocales}\n            {...this.props}\n          />\n        );\n      }\n\n      return null;\n    }\n  };\n}\n\nfunction getDisplayName(Component) {\n  return Component.displayName || Component.name || 'Component';\n}\n","import React, { memo, useCallback, useState } from 'react';\nimport { get } from 'lodash-es';\nimport { API_PATH } from 'containers/App/constants';\nimport streams from 'utils/streams';\nimport { isNilOrError } from 'utils/helperUtils';\n\n// components\nimport { Input } from 'cl2-component-library';\nimport Error from 'components/UI/Error';\nimport {\n  FormContainer,\n  Title,\n  Form,\n  FormField,\n  StyledLabel,\n  LabelTextContainer,\n  Footer,\n  SubmitButton,\n  CancelButton,\n} from 'modules/commercial/verification/citizen/components/styles';\n\n// hooks\nimport useAuthUser from 'hooks/useAuthUser';\n\n// services\nimport { verifyBogus } from '../services/verify';\n\ninterface Props {\n  onCancel: () => void;\n  onVerified: () => void;\n  showHeader?: boolean;\n  inModal: boolean;\n  className?: string;\n}\n\nconst VerificationFormBogus = memo<Props>(\n  ({ onCancel, onVerified, showHeader, inModal, className }) => {\n    const authUser = useAuthUser();\n\n    const [desiredError, setDesiredError] = useState<string>('');\n    const [desiredErrorError, setDesiredErrorError] = useState<string | null>(\n      null\n    );\n    const [formError, setFormError] = useState<string | null>(null);\n\n    const onDesiredErrorChange = useCallback((desiredError: string) => {\n      setDesiredErrorError(null);\n      setDesiredError(desiredError);\n    }, []);\n\n    const onSubmit = useCallback(\n      async (event: React.FormEvent<HTMLButtonElement>) => {\n        event.preventDefault();\n\n        // first reset the errors\n        setDesiredErrorError(null);\n        setFormError(null);\n\n        try {\n          await verifyBogus(desiredError);\n\n          const endpointsToRefetch = [\n            `${API_PATH}/users/me`,\n            `${API_PATH}/projects`,\n          ];\n          const partialEndpointsToRefetch = [\n            `${API_PATH}/projects/`,\n            `${API_PATH}/ideas/`,\n          ];\n\n          if (!isNilOrError(authUser)) {\n            endpointsToRefetch.push(`${API_PATH}/users/${authUser.id}`);\n          }\n\n          await streams.fetchAllWith({\n            apiEndpoint: endpointsToRefetch,\n            partialApiEndpoint: partialEndpointsToRefetch,\n          });\n\n          onVerified();\n        } catch (error) {\n          if (get(error, 'json.errors.base[0].error') === 'taken') {\n            setFormError('takenFormError');\n          } else if (get(error, 'json.errors.base[0].error') === 'no_match') {\n            setFormError('noMatchFormError');\n          } else if (\n            get(error, 'json.errors.base[0].error') === 'not_entitled'\n          ) {\n            setFormError('notEntitledFormError');\n          } else if (\n            get(error, 'json.errors.desired_error[0].error') === 'invalid'\n          ) {\n            setDesiredErrorError('Unkown desired error');\n          }\n        }\n      },\n      [desiredError, authUser, onVerified]\n    );\n\n    const onCancelButtonClicked = useCallback(() => {\n      onCancel();\n    }, [onCancel]);\n\n    return (\n      <FormContainer\n        id=\"e2e-verification-bogus-form\"\n        className={className}\n        inModal={inModal}\n      >\n        {showHeader && (\n          <Title>\n            <strong>Verify your identity (fake)</strong>\n          </Title>\n        )}\n\n        <Form inModal={inModal}>\n          <FormField>\n            <StyledLabel>\n              <LabelTextContainer>\n                Desired error (taken, no_match, not_entitled or invalid)\n              </LabelTextContainer>\n              <Input\n                id=\"e2e-verification-bogus-input\"\n                type=\"text\"\n                onChange={onDesiredErrorChange}\n                value={desiredError}\n                error={desiredErrorError}\n              />\n            </StyledLabel>\n          </FormField>\n\n          {formError && <Error text={formError} />}\n\n          <Footer>\n            <SubmitButton\n              id=\"e2e-verification-bogus-submit-button\"\n              onClick={onSubmit}\n            >\n              Submit\n            </SubmitButton>\n            <CancelButton\n              onClick={onCancelButtonClicked}\n              buttonStyle=\"secondary\"\n            >\n              Cancel\n            </CancelButton>\n          </Footer>\n        </Form>\n      </FormContainer>\n    );\n  }\n);\n\nexport default VerificationFormBogus;\n","import React from 'react';\nimport { adopt } from 'react-adopt';\nimport { IntlProvider } from 'react-intl';\nimport GetAppConfigurationLocales, {\n  GetAppConfigurationLocalesChildProps,\n} from 'resources/GetAppConfigurationLocales';\nimport GetLocale, { GetLocaleChildProps } from 'resources/GetLocale';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { Locale } from 'typings';\n\ninterface InputProps {}\n\ninterface DataProps {\n  locale: GetLocaleChildProps;\n  tenantLocales: GetAppConfigurationLocalesChildProps;\n}\n\ninterface Props extends DataProps, InputProps {}\n\ninterface State {\n  messages: { [key: string]: any };\n}\n\nclass LanguageProvider extends React.PureComponent<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      messages: {},\n    };\n  }\n\n  componentDidMount() {\n    this.loadLocales();\n  }\n\n  componentDidUpdate() {\n    this.loadLocales();\n  }\n\n  loadLocales = () => {\n    const { locale, tenantLocales } = this.props;\n\n    if (!isNilOrError(locale) && !this.state.messages[locale]) {\n      this.importLocale(locale);\n    }\n\n    if (!isNilOrError(tenantLocales)) {\n      this.importTenantLocales(tenantLocales);\n    }\n  };\n\n  importLocale = (locale: Locale) => {\n    import(`i18n/${locale}`).then((translationMessages) => {\n      this.setState((prevState) => ({\n        messages: {\n          ...prevState.messages,\n          [locale]: translationMessages.default,\n        },\n      }));\n    });\n  };\n\n  importTenantLocales = (tenantLocales: Locale[]) => {\n    for (const locale of tenantLocales) {\n      if (!this.state.messages[locale]) {\n        import(`i18n/${locale}`).then((translationMessages) => {\n          this.setState((prevState) => ({\n            messages: {\n              ...prevState.messages,\n              [locale]: translationMessages.default,\n            },\n          }));\n        });\n      }\n    }\n  };\n\n  render() {\n    const { locale } = this.props;\n    const { messages } = this.state;\n\n    if (locale && messages[locale]) {\n      return (\n        <IntlProvider locale={locale} key={locale} messages={messages[locale]}>\n          {React.Children.only(this.props.children)}\n        </IntlProvider>\n      );\n    }\n\n    return null;\n  }\n}\n\nconst Data = adopt<DataProps, InputProps>({\n  locale: <GetLocale />,\n  tenantLocales: <GetAppConfigurationLocales />,\n});\n\nexport default (inputProps: InputProps) => (\n  <Data {...inputProps}>\n    {(dataProps) => <LanguageProvider {...inputProps} {...dataProps} />}\n  </Data>\n);\n","import React, { PureComponent } from 'react';\nimport Outlet from 'components/Outlet';\n\nimport AdminRightsReceivedNotification from '../AdminRightsReceivedNotification';\nimport CommentDeletedByAdminNotification from '../CommentDeletedByAdminNotification';\nimport CommentMarkedAsSpamNotification from '../CommentMarkedAsSpamNotification';\nimport CommentOnYourCommentNotification from '../CommentOnYourCommentNotification';\nimport CommentOnYourIdeaNotification from '../CommentOnYourIdeaNotification';\nimport CommentOnYourInitiativeNotification from '../CommentOnYourInitiativeNotification';\nimport IdeaAssignedToYouNotification from '../IdeaAssignedToYouNotification';\nimport IdeaMarkedAsSpamNotification from '../IdeaMarkedAsSpamNotification';\nimport InitiativeAssignedToYouNotification from '../InitiativeAssignedToYouNotification';\nimport InitiativeMarkedAsSpamNotification from '../InitiativeMarkedAsSpamNotification';\nimport InviteAcceptedNotification from '../InviteAcceptedNotification';\nimport MentionInCommentNotification from '../MentionInCommentNotification';\nimport MentionInOfficialFeedbackNotification from '../MentionInOfficialFeedbackNotification';\nimport OfficialFeedbackOnCommentedIdeaNotification from '../OfficialFeedbackOnCommentedIdeaNotification';\nimport OfficialFeedbackOnCommentedInitiativeNotification from '../OfficialFeedbackOnCommentedInitiativeNotification';\nimport OfficialFeedbackOnVotedIdeaNotification from '../OfficialFeedbackOnVotedIdeaNotification';\nimport OfficialFeedbackOnVotedInitiativeNotification from '../OfficialFeedbackOnVotedInitiativeNotification';\nimport OfficialFeedbackOnYourIdeaNotification from '../OfficialFeedbackOnYourIdeaNotification';\nimport OfficialFeedbackOnYourInitiativeNotification from '../OfficialFeedbackOnYourInitiativeNotification';\nimport ProjectModerationRightsReceivedNotification from '../ProjectModerationRightsReceivedNotification';\nimport ProjectPhaseStartedNotification from '../ProjectPhaseStartedNotification';\nimport ProjectPhaseUpcomingNotification from '../ProjectPhaseUpcomingNotification';\nimport StatusChangeOfYourIdeaNotification from '../StatusChangeOfYourIdeaNotification';\nimport StatusChangeOfYourInitiativeNotification from '../StatusChangeOfYourInitiativeNotification';\nimport StatusChangeOnCommentedIdeaNotification from '../StatusChangeOnCommentedIdeaNotification';\nimport StatusChangeOnCommentedInitiativeNotification from '../StatusChangeOnCommentedInitiativeNotification';\nimport StatusChangeOnVotedIdeaNotification from '../StatusChangeOnVotedIdeaNotification';\nimport StatusChangeOnVotedInitiativeNotification from '../StatusChangeOnVotedInitiativeNotification';\nimport ThresholdReachedForAdminNotification from '../ThresholdReachedForAdminNotification';\n\nimport {\n  TNotificationData,\n  IAdminRightsReceivedNotificationData,\n  ICommentDeletedByAdminNotificationData,\n  ICommentMarkedAsSpamNotificationData,\n  ICommentOnYourCommentNotificationData,\n  ICommentOnYourIdeaNotificationData,\n  ICommentOnYourInitiativeNotificationData,\n  IIdeaAssignedToYouNotificationData,\n  IIdeaMarkedAsSpamNotificationData,\n  IInitiativeAssignedToYouNotificationData,\n  IInitiativeMarkedAsSpamNotificationData,\n  IInviteAcceptedNotificationData,\n  IMentionInCommentNotificationData,\n  IMentionInOfficialFeedbackNotificationData,\n  IOfficialFeedbackOnCommentedIdeaNotificationData,\n  IOfficialFeedbackOnCommentedInitiativeNotificationData,\n  IOfficialFeedbackOnVotedIdeaNotificationData,\n  IOfficialFeedbackOnVotedInitiativeNotificationData,\n  IOfficialFeedbackOnYourIdeaNotificationData,\n  IOfficialFeedbackOnYourInitiativeNotificationData,\n  IProjectModerationRightsReceivedNotificationData,\n  IProjectPhaseStartedNotificationData,\n  IProjectPhaseUpcomingNotificationData,\n  IStatusChangeOfYourIdeaNotificationData,\n  IStatusChangeOfYourInitiativeNotificationData,\n  IStatusChangeOnCommentedIdeaNotificationData,\n  IStatusChangeOnCommentedInitiativeNotificationData,\n  IStatusChangeOnVotedIdeaNotificationData,\n  IStatusChangeOnVotedInitiativeNotificationData,\n  IThresholdReachedForAdminNotificationData,\n} from 'services/notifications';\nimport styled from 'styled-components';\n\nexport const DeletedUser = styled.span`\n  font-style: italic;\n`;\n\ntype Props = {\n  notification: TNotificationData;\n};\n\nexport default class Notification extends PureComponent<Props> {\n  render() {\n    const { notification } = this.props;\n\n    switch (notification.attributes.type) {\n      case 'admin_rights_received':\n        return (\n          <AdminRightsReceivedNotification\n            notification={notification as IAdminRightsReceivedNotificationData}\n          />\n        );\n      case 'comment_deleted_by_admin':\n        return (\n          <CommentDeletedByAdminNotification\n            notification={\n              notification as ICommentDeletedByAdminNotificationData\n            }\n          />\n        );\n      case 'comment_marked_as_spam':\n        return (\n          <CommentMarkedAsSpamNotification\n            notification={notification as ICommentMarkedAsSpamNotificationData}\n          />\n        );\n      case 'comment_on_your_comment':\n        return (\n          <CommentOnYourCommentNotification\n            notification={notification as ICommentOnYourCommentNotificationData}\n          />\n        );\n      case 'comment_on_your_idea':\n        return (\n          <CommentOnYourIdeaNotification\n            notification={notification as ICommentOnYourIdeaNotificationData}\n          />\n        );\n      case 'comment_on_your_initiative':\n        return (\n          <CommentOnYourInitiativeNotification\n            notification={\n              notification as ICommentOnYourInitiativeNotificationData\n            }\n          />\n        );\n      case 'idea_assigned_to_you':\n        return (\n          <IdeaAssignedToYouNotification\n            notification={notification as IIdeaAssignedToYouNotificationData}\n          />\n        );\n      case 'idea_marked_as_spam':\n        return (\n          <IdeaMarkedAsSpamNotification\n            notification={notification as IIdeaMarkedAsSpamNotificationData}\n          />\n        );\n      case 'initiative_assigned_to_you':\n        return (\n          <InitiativeAssignedToYouNotification\n            notification={\n              notification as IInitiativeAssignedToYouNotificationData\n            }\n          />\n        );\n      case 'initiative_marked_as_spam':\n        return (\n          <InitiativeMarkedAsSpamNotification\n            notification={\n              notification as IInitiativeMarkedAsSpamNotificationData\n            }\n          />\n        );\n      case 'invite_accepted':\n        return (\n          <InviteAcceptedNotification\n            notification={notification as IInviteAcceptedNotificationData}\n          />\n        );\n      case 'mention_in_comment':\n        return (\n          <MentionInCommentNotification\n            notification={notification as IMentionInCommentNotificationData}\n          />\n        );\n      case 'mention_in_official_feedback':\n        return (\n          <MentionInOfficialFeedbackNotification\n            notification={\n              notification as IMentionInOfficialFeedbackNotificationData\n            }\n          />\n        );\n      case 'official_feedback_on_commented_idea':\n        return (\n          <OfficialFeedbackOnCommentedIdeaNotification\n            notification={\n              notification as IOfficialFeedbackOnCommentedIdeaNotificationData\n            }\n          />\n        );\n      case 'official_feedback_on_commented_initiative':\n        return (\n          <OfficialFeedbackOnCommentedInitiativeNotification\n            notification={\n              notification as IOfficialFeedbackOnCommentedInitiativeNotificationData\n            }\n          />\n        );\n      case 'official_feedback_on_voted_idea':\n        return (\n          <OfficialFeedbackOnVotedIdeaNotification\n            notification={\n              notification as IOfficialFeedbackOnVotedIdeaNotificationData\n            }\n          />\n        );\n      case 'official_feedback_on_voted_initiative':\n        return (\n          <OfficialFeedbackOnVotedInitiativeNotification\n            notification={\n              notification as IOfficialFeedbackOnVotedInitiativeNotificationData\n            }\n          />\n        );\n      case 'official_feedback_on_your_idea':\n        return (\n          <OfficialFeedbackOnYourIdeaNotification\n            notification={\n              notification as IOfficialFeedbackOnYourIdeaNotificationData\n            }\n          />\n        );\n      case 'official_feedback_on_your_initiative':\n        return (\n          <OfficialFeedbackOnYourInitiativeNotification\n            notification={\n              notification as IOfficialFeedbackOnYourInitiativeNotificationData\n            }\n          />\n        );\n      case 'project_moderation_rights_received':\n        return (\n          <ProjectModerationRightsReceivedNotification\n            notification={\n              notification as IProjectModerationRightsReceivedNotificationData\n            }\n          />\n        );\n      case 'project_phase_started':\n        return (\n          <ProjectPhaseStartedNotification\n            notification={notification as IProjectPhaseStartedNotificationData}\n          />\n        );\n      case 'project_phase_upcoming':\n        return (\n          <ProjectPhaseUpcomingNotification\n            notification={notification as IProjectPhaseUpcomingNotificationData}\n          />\n        );\n      case 'status_change_of_your_idea':\n        return (\n          <StatusChangeOfYourIdeaNotification\n            notification={\n              notification as IStatusChangeOfYourIdeaNotificationData\n            }\n          />\n        );\n      case 'status_change_of_your_initiative':\n        return (\n          <StatusChangeOfYourInitiativeNotification\n            notification={\n              notification as IStatusChangeOfYourInitiativeNotificationData\n            }\n          />\n        );\n      case 'status_change_on_commented_idea':\n        return (\n          <StatusChangeOnCommentedIdeaNotification\n            notification={\n              notification as IStatusChangeOnCommentedIdeaNotificationData\n            }\n          />\n        );\n      case 'status_change_on_commented_initiative':\n        return (\n          <StatusChangeOnCommentedInitiativeNotification\n            notification={\n              notification as IStatusChangeOnCommentedInitiativeNotificationData\n            }\n          />\n        );\n      case 'status_change_on_voted_idea':\n        return (\n          <StatusChangeOnVotedIdeaNotification\n            notification={\n              notification as IStatusChangeOnVotedIdeaNotificationData\n            }\n          />\n        );\n      case 'status_change_on_voted_initiative':\n        return (\n          <StatusChangeOnVotedInitiativeNotification\n            notification={\n              notification as IStatusChangeOnVotedInitiativeNotificationData\n            }\n          />\n        );\n      case 'threshold_reached_for_admin':\n        return (\n          <ThresholdReachedForAdminNotification\n            notification={\n              notification as IThresholdReachedForAdminNotificationData\n            }\n          />\n        );\n      default:\n        return (\n          <Outlet\n            id=\"app.components.NotificationMenu.Notification\"\n            notification={notification as TNotificationData}\n          />\n        );\n    }\n  }\n}\n","export default \"data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNCA0OCI+CiAgPHBhdGggZD0iTTE1LjggNDRsMS4yIDEuNSAxLjItMS42YzQuNy02LjEgOC4yLTExLjQgMTAuNi0xNS44IDIuNC00LjQgMy43LTguMSAzLjctMTEuMWExNS41IDE1LjUgMCAxMC0zMSAwYzAgMyAxLjMgNi43IDMuNyAxMSAyLjQgNC41IDYgOS44IDEwLjYgMTZ6bTUuOC0yMi40YTYuNSA2LjUgMCAxMS05LjItOS4yIDYuNSA2LjUgMCAwMTkuMiA5LjJ6IiBmaWxsPSIjMDAwIiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMi41Ii8+Cjwvc3ZnPg==\"","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  deletedUser: {\n    id: 'app.components.UserName.deletedUser',\n    defaultMessage: 'unknown author',\n  },\n  verified: {\n    id: 'app.components.UserName.verified',\n    defaultMessage: 'Verified',\n  },\n  notVerified: {\n    id: 'app.components.UserName.notVerified',\n    defaultMessage: 'Unverified',\n  },\n});\n","import { API_PATH } from 'containers/App/constants';\nimport streams, { IStreamParams } from 'utils/streams';\nimport { IUsers } from 'services/users';\nimport { IGroupMembershipsFoundUserData } from 'services/groupMemberships';\n\nexport interface IModeratorsFoundUsers {\n  data: IGroupMembershipsFoundUserData[];\n}\n\nexport function projectModeratorsStream(projectId: string) {\n  return streams.get<IUsers>({\n    apiEndpoint: `${API_PATH}/projects/${projectId}/moderators`,\n  });\n}\n\nexport async function deleteProjectModerator(\n  projectId: string,\n  moderatorId: string\n) {\n  const response = await streams.delete(\n    `${API_PATH}/projects/${projectId}/moderators/${moderatorId}`,\n    moderatorId\n  );\n  await streams.fetchAllWith({\n    apiEndpoint: [`${API_PATH}/projects/${projectId}/moderators`],\n  });\n  return response;\n}\n\nexport function findMembership(\n  projectId: string,\n  streamParams: IStreamParams | null = null\n) {\n  return streams.get<{ data: IGroupMembershipsFoundUserData[] }>({\n    apiEndpoint: `${API_PATH}/projects/${projectId}/moderators/users_search`,\n    ...streamParams,\n    cacheStream: false,\n  });\n}\n\nexport function addMembership(projectId: string, user_id: string) {\n  return streams.add(`${API_PATH}/projects/${projectId}/moderators`, {\n    moderator: { user_id },\n  });\n}\n","import { authUserStream } from 'services/auth';\nimport {\n  bufferUntilInitialized,\n  events$,\n  initializeFor,\n} from 'utils/analytics';\nimport { combineLatest } from 'rxjs';\nimport { isNilOrError } from 'utils/helperUtils';\nimport {\n  registerDestination,\n  IDestinationConfig,\n} from 'components/ConsentManager/destinations';\nimport { isAdmin, isModerator, isSuperAdmin } from 'services/permissions/roles';\nimport { currentAppConfigurationStream } from 'services/appConfiguration';\nimport { ModuleConfiguration } from 'utils/moduleUtils';\n\ndeclare module 'components/ConsentManager/destinations' {\n  export interface IDestinationMap {\n    satismeter: 'satismeter';\n  }\n}\n\nconst destinationConfig: IDestinationConfig = {\n  key: 'satismeter',\n  category: 'analytics',\n  feature_flag: 'satismeter',\n  hasPermission: (user) =>\n    !!user &&\n    (isAdmin({ data: user }) || isModerator({ data: user })) &&\n    !isSuperAdmin({ data: user }),\n  name: () => 'Satismeter',\n};\n\nconst configuration: ModuleConfiguration = {\n  beforeMountApplication: () => {\n    combineLatest([\n      currentAppConfigurationStream().observable,\n      authUserStream().observable,\n      initializeFor('satismeter'),\n    ]).subscribe(([tenant, user, _]) => {\n      (function () {\n        if (isNilOrError(tenant)) return;\n\n        window.satismeter =\n          window.satismeter ||\n          function () {\n            // eslint-disable-next-line prefer-rest-params\n            (window.satismeter.q = window.satismeter.q || []).push(arguments);\n          };\n        window.satismeter.l = new Date();\n        const script = document.createElement('script');\n        const parent = document.getElementsByTagName('script')[0].parentNode;\n        script.async = true;\n        script.src = 'https://app.satismeter.com/satismeter.js';\n        script.onload = () =>\n          window.satismeter({\n            writeKey: tenant.data.attributes.settings.satismeter?.write_key,\n            ...(!isNilOrError(user)\n              ? {\n                  userId: user.data.id,\n                  traits: {\n                    name: `${user.data.attributes.first_name} + ${user.data.attributes.last_name}`,\n                    email: user.data.attributes.email,\n                    createdAt: user.data.attributes.created_at,\n                  },\n                }\n              : {}),\n          });\n        parent?.appendChild(script);\n      })();\n    });\n\n    bufferUntilInitialized('satismeter', events$).subscribe((event) => {\n      window.satismeter && window.satismeter('track', { event: event.name });\n    });\n\n    registerDestination(destinationConfig);\n  },\n};\n\nexport default configuration;\n","import useAppConfiguration from 'hooks/useAppConfiguration';\nimport messages from './messages';\nimport React, { ReactElement } from 'react';\nimport { isNilOrError } from 'utils/helperUtils';\nimport Link from 'utils/cl-router/Link';\nimport styled from 'styled-components';\nimport { IconTooltip, Toggle } from 'cl2-component-library';\nimport { injectIntl, FormattedMessage } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\nimport { trackEventByName } from 'utils/analytics';\nimport tracks from '../../../tracks';\n\nconst StyledToggle = styled(Toggle)`\n  margin-right: 15px;\n`;\n\nconst Container = styled.div`\n  margin-bottom: 20px;\n`;\n\nconst LabelTitleContainer = styled.div`\n  display: flex;\n`;\n\nconst LabelTitle = styled.div`\n  font-weight: bold;\n`;\n\nconst ToggleLabel = styled.label`\n  display: flex;\n`;\n\nconst LabelDescription = styled.div``;\nconst LabelContent = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst StyledIconTooltip = styled(IconTooltip)`\n  margin-left: 0.25rem;\n`;\n\ninterface Props {\n  onSettingChange: (settingName: string, settingValue: any) => void;\n  className?: string;\n}\n\nconst FlagInnapropriateContentSetting = ({\n  className,\n  onSettingChange,\n  intl: { formatMessage },\n}: Props & InjectedIntlProps): ReactElement | null => {\n  const appConfiguration = useAppConfiguration();\n  const flagInnaproperiateContentSetting =\n    !isNilOrError(appConfiguration) &&\n    appConfiguration.data.attributes.settings.flag_inappropriate_content\n      ? appConfiguration.data.attributes.settings.flag_inappropriate_content\n      : undefined;\n\n  if (flagInnaproperiateContentSetting) {\n    const flagInnaproperiateContentEnabled =\n      flagInnaproperiateContentSetting.enabled;\n\n    const handleToggle = () => {\n      onSettingChange('flag_inappropriate_content', {\n        ...flagInnaproperiateContentSetting,\n        flag_inappropriate_content: !flagInnaproperiateContentEnabled,\n      });\n\n      trackEventByName(tracks.settingToggled.name, {\n        settingChangedTo: !flagInnaproperiateContentEnabled,\n      });\n    };\n\n    return (\n      <Container className={className || ''}>\n        <ToggleLabel>\n          <StyledToggle\n            checked={flagInnaproperiateContentEnabled}\n            onChange={handleToggle}\n          />\n          <LabelContent>\n            <LabelTitleContainer>\n              <LabelTitle>\n                {formatMessage(messages.inappropriateContentDetectionSetting)}\n              </LabelTitle>\n              <StyledIconTooltip\n                content={\n                  <FormattedMessage\n                    {...messages.inappropriateContentDetectionTooltip}\n                    values={{\n                      linkToActivityPage: (\n                        <Link to=\"/admin/moderation\">\n                          {formatMessage(messages.linkToActivityPageText)}\n                        </Link>\n                      ),\n                    }}\n                  />\n                }\n              />\n            </LabelTitleContainer>\n            <LabelDescription>\n              {formatMessage(\n                messages.inappropriateContentDetectionSettingDescription\n              )}\n            </LabelDescription>\n          </LabelContent>\n        </ToggleLabel>\n      </Container>\n    );\n  }\n\n  return null;\n};\n\nexport default injectIntl(FlagInnapropriateContentSetting);\n","// libraries\nimport React, { PureComponent } from 'react';\nimport { Subscription, BehaviorSubject } from 'rxjs';\nimport { distinctUntilChanged, switchMap } from 'rxjs/operators';\n\n// utils\nimport shallowCompare from 'utils/shallowCompare';\n\n// intl\nimport { FormattedMessage, injectIntl } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\nimport messages from 'containers/Admin/dashboard/messages';\n\n// styling\nimport { withTheme } from 'styled-components';\n\n// components\nimport ReportExportMenu from 'components/admin/ReportExportMenu';\n\nimport {\n  NoDataContainer,\n  GraphCardHeader,\n  GraphCardTitle,\n  GraphCard,\n  GraphCardInner,\n  PieChartStyleFixesDiv,\n} from 'components/admin/Chart';\n\nimport { PieChart, Pie, Tooltip, Cell, ResponsiveContainer } from 'recharts';\n\n// services\nimport {\n  usersByGenderStream,\n  IUsersByGender,\n  usersByGenderXlsxEndpoint,\n} from 'modules/commercial/user_custom_fields/services/stats';\n\ntype State = {\n  serie: { name: string; value: number; code: string }[] | null;\n};\n\ninterface QueryProps {\n  startAt: string | undefined | null;\n  endAt: string | null;\n  currentGroupFilter: string | undefined;\n}\n\ninterface Props extends QueryProps {\n  currentGroupFilterLabel: string | undefined;\n  className?: string;\n}\n\nconst labelColors = {\n  male: '#5D99C6 ',\n  female: '#C37281 ',\n  unspecified: '#B0CDC4 ',\n  _blank: '#C0C2CE',\n};\n\nclass GenderChart extends PureComponent<Props & InjectedIntlProps, State> {\n  private subscriptions: Subscription[];\n  private queryProps$: BehaviorSubject<QueryProps>;\n  private currentChart: React.RefObject<any>;\n\n  constructor(props: Props & InjectedIntlProps) {\n    super(props);\n    this.state = {\n      serie: null,\n    };\n    this.currentChart = React.createRef();\n  }\n\n  componentDidMount() {\n    const { startAt, endAt, currentGroupFilter } = this.props;\n\n    this.queryProps$ = new BehaviorSubject({\n      startAt,\n      endAt,\n      currentGroupFilter,\n    });\n\n    this.subscriptions = [\n      this.queryProps$\n        .pipe(\n          distinctUntilChanged((prev, next) => shallowCompare(prev, next)),\n          switchMap(\n            ({ startAt, endAt, currentGroupFilter }) =>\n              usersByGenderStream({\n                queryParameters: {\n                  start_at: startAt,\n                  end_at: endAt,\n                  group: currentGroupFilter,\n                },\n              }).observable\n          )\n        )\n        .subscribe((serie) => {\n          const convertedSerie = serie && this.convertToGraphFormat(serie);\n          this.setState({ serie: convertedSerie });\n        }),\n    ];\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    const { startAt, endAt, currentGroupFilter } = this.props;\n\n    if (\n      startAt !== prevProps.startAt ||\n      endAt !== prevProps.endAt ||\n      currentGroupFilter !== prevProps.currentGroupFilter\n    ) {\n      this.queryProps$.next({ startAt, endAt, currentGroupFilter });\n    }\n  }\n\n  componentWillUnmount() {\n    this.subscriptions.forEach((subscription) => subscription.unsubscribe());\n  }\n\n  convertToGraphFormat = (data: IUsersByGender) => {\n    const res = Object.keys(labelColors).map((gender) => ({\n      value: data.series.users[gender] || 0,\n      name: this.props.intl.formatMessage(messages[gender]),\n      code: gender,\n    }));\n    return res.length > 0 ? res : null;\n  };\n\n  formatEntry(entry) {\n    return `${entry.name} : ${entry.value}`;\n  }\n\n  render() {\n    const { colorMain, animationDuration, animationBegin } = this.props[\n      'theme'\n    ];\n    const {\n      className,\n      intl: { formatMessage },\n      currentGroupFilter,\n      currentGroupFilterLabel,\n    } = this.props;\n    const { serie } = this.state;\n\n    return (\n      <GraphCard className={className}>\n        <GraphCardInner>\n          <GraphCardHeader>\n            <GraphCardTitle>\n              <FormattedMessage {...messages.usersByGenderTitle} />\n            </GraphCardTitle>\n            {serie && (\n              <ReportExportMenu\n                name={formatMessage(messages.usersByGenderTitle)}\n                svgNode={this.currentChart}\n                xlsxEndpoint={usersByGenderXlsxEndpoint}\n                currentGroupFilterLabel={currentGroupFilterLabel}\n                currentGroupFilter={currentGroupFilter}\n              />\n            )}\n          </GraphCardHeader>\n          {!serie ? (\n            <NoDataContainer>\n              <FormattedMessage {...messages.noData} />\n            </NoDataContainer>\n          ) : (\n            <PieChartStyleFixesDiv>\n              <ResponsiveContainer height={175} width=\"100%\" minWidth={175}>\n                <PieChart ref={this.currentChart}>\n                  <Pie\n                    isAnimationActive={true}\n                    animationDuration={animationDuration}\n                    animationBegin={animationBegin}\n                    data={serie}\n                    dataKey=\"value\"\n                    outerRadius={60}\n                    fill={colorMain}\n                    label={this.formatEntry}\n                  >\n                    {serie.map((entry, index) => (\n                      <Cell\n                        key={`cell-${index}`}\n                        fill={labelColors[entry.code]}\n                      />\n                    ))}\n                  </Pie>\n                  <Tooltip isAnimationActive={false} />\n                </PieChart>\n              </ResponsiveContainer>\n            </PieChartStyleFixesDiv>\n          )}\n        </GraphCardInner>\n      </GraphCard>\n    );\n  }\n}\n\nexport default injectIntl<Props>(withTheme(GenderChart as any) as any);\n","import React from 'react';\nimport { ModuleConfiguration } from 'utils/moduleUtils';\nimport GuideArticle from './admin/components/GuideArticle';\nimport Tab from './admin/components/Tab';\nimport FeatureFlag from 'components/FeatureFlag';\n\nconst configuration: ModuleConfiguration = {\n  routes: {\n    'admin.settings': [\n      {\n        path: 'widgets',\n        name: 'widgets',\n        container: () => import('./admin/containers'),\n      },\n    ],\n  },\n  outlets: {\n    'app.containers.Admin.guide.SetupSection': () => (\n      <FeatureFlag name=\"widgets\">\n        <GuideArticle />\n      </FeatureFlag>\n    ),\n    'app.containers.Admin.settings.tabs': (props) => <Tab {...props} />,\n  },\n};\n\nexport default configuration;\n","import React, { memo } from 'react';\nimport { IStatusChangeOnVotedIdeaNotificationData } from 'services/notifications';\nimport messages from '../../messages';\nimport { FormattedMessage } from 'utils/cl-intl';\nimport T from 'components/T';\nimport NotificationWrapper from '../NotificationWrapper';\nimport useIdea from 'hooks/useIdea';\nimport useProject from 'hooks/useProject';\nimport usePhases from 'hooks/usePhases';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { getInputTerm } from 'services/participationContexts';\nimport { getInputTermMessage } from 'utils/i18n';\n\ninterface Props {\n  notification: IStatusChangeOnVotedIdeaNotificationData;\n}\n\nconst StatusChangeOnVotedIdeaNotification = memo<Props>((props) => {\n  const { notification } = props;\n  const idea = useIdea({ ideaSlug: notification.attributes.post_slug });\n  const projectId = !isNilOrError(idea)\n    ? idea.relationships.project.data.id\n    : null;\n  const project = useProject({ projectId });\n  const phases = usePhases(projectId);\n\n  if (!isNilOrError(project)) {\n    const inputTerm = getInputTerm(\n      project.attributes.process_type,\n      project,\n      phases\n    );\n    return (\n      <NotificationWrapper\n        linkTo={`/ideas/${notification.attributes.post_slug}`}\n        timing={notification.attributes.created_at}\n        icon=\"notification_status\"\n        isRead={!!notification.attributes.read_at}\n      >\n        <FormattedMessage\n          {...getInputTermMessage(inputTerm, {\n            idea: messages.statusChangeOnVotedIdea,\n            option: messages.statusChangeOnVotedOption,\n            project: messages.statusChangeOnVotedProject,\n            question: messages.statusChangeOnVotedQuestion,\n            issue: messages.statusChangeOnVotedIssue,\n            contribution: messages.statusChangeOnVotedContribution,\n          })}\n          values={{\n            status: (\n              <T value={notification.attributes.idea_status_title_multiloc} />\n            ),\n          }}\n        />\n      </NotificationWrapper>\n    );\n  }\n\n  return null;\n});\n\nexport default StatusChangeOnVotedIdeaNotification;\n","import React, { memo, useEffect, useRef, useState, useCallback } from 'react';\nimport usePrevious from 'hooks/usePrevious';\nimport { debounce } from 'lodash-es';\n\n// quill\nimport Quill, { Sources, QuillOptionsStatic, RangeStatic } from 'quill';\nimport BlotFormatter from 'quill-blot-formatter';\nimport 'quill/dist/quill.snow.css';\n\n// components\nimport { Label, IconTooltip } from 'cl2-component-library';\n\n// i18n\nimport { injectIntl } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\nimport messages from './messages';\n\n// analytics\nimport { trackEventByName } from 'utils/analytics';\nimport tracks from './tracks';\n\n// styling\nimport styled from 'styled-components';\nimport {\n  colors,\n  quillEditedContent,\n  media,\n  fontSizes,\n  defaultStyles,\n} from 'utils/styleUtils';\n\n// typings\nimport { Locale } from 'typings';\nimport Tippy from '@tippyjs/react';\n\nconst DropdownList = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: auto;\n  margin-top: 5px;\n  margin-bottom: 5px;\n`;\n\nconst DropdownListItem = styled.button`\n  flex: 1 1 auto;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  color: ${colors.text};\n  font-size: ${fontSizes.small}px;\n  font-weight: 400;\n  white-space: nowrap;\n  width: auto !important;\n  padding: 10px;\n  border-radius: ${(props: any) => props.theme.borderRadius};\n  cursor: pointer;\n  white-space: nowrap;\n  text-align: left;\n\n  &:hover,\n  &:focus {\n    outline: none;\n    color: white;\n    background: ${colors.adminMenuBackground};\n  }\n`;\n\nconst Container = styled.div<{\n  videoPrompt: string;\n  linkPrompt: string;\n  visitPrompt: string;\n  save: string;\n  edit: string;\n  remove: string;\n}>`\n  .ql-snow.ql-toolbar button:hover .ql-stroke, .ql-snow .ql-toolbar button:hover .ql-stroke, .ql-snow.ql-toolbar button:focus .ql-stroke, .ql-snow .ql-toolbar button:focus .ql-stroke, .ql-snow.ql-toolbar button.ql-active .ql-stroke, .ql-snow .ql-toolbar button.ql-active .ql-stroke, .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke, .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke, .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke, .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke, .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke, .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke, .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke, .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke, .ql-snow.ql-toolbar button:hover .ql-stroke-miter, .ql-snow .ql-toolbar button:hover .ql-stroke-miter, .ql-snow.ql-toolbar button:focus .ql-stroke-miter, .ql-snow .ql-toolbar button:focus .ql-stroke-miter, .ql-snow.ql-toolbar button.ql-active .ql-stroke-miter, .ql-snow .ql-toolbar button.ql-active .ql-stroke-miter, .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke-miter, .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke-miter, .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter, .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter, .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke-miter, .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke-miter, .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter, .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter, .ql-picker-label:focus .ql-stroke, .ql-picker-item:focus .ql-stroke {\n    stroke: ${colors.clBlue};\n  }\n\n  .ql-snow.ql-toolbar button:hover .ql-fill, .ql-snow .ql-toolbar button:hover .ql-fill, .ql-snow.ql-toolbar button:focus .ql-fill, .ql-snow .ql-toolbar button:focus .ql-fill, .ql-snow.ql-toolbar button.ql-active .ql-fill, .ql-snow .ql-toolbar button.ql-active .ql-fill, .ql-snow.ql-toolbar .ql-picker-label:hover .ql-fill, .ql-snow .ql-toolbar .ql-picker-label:hover .ql-fill, .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-fill, .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-fill, .ql-snow.ql-toolbar .ql-picker-item:hover .ql-fill, .ql-snow .ql-toolbar .ql-picker-item:hover .ql-fill, .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-fill, .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-fill, .ql-snow.ql-toolbar button:hover .ql-stroke.ql-fill, .ql-snow .ql-toolbar button:hover .ql-stroke.ql-fill, .ql-snow.ql-toolbar button:focus .ql-stroke.ql-fill, .ql-snow .ql-toolbar button:focus .ql-stroke.ql-fill, .ql-snow.ql-toolbar button.ql-active .ql-stroke.ql-fill, .ql-snow .ql-toolbar button.ql-active .ql-stroke.ql-fill, .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill, .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill, .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill, .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill, .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill, .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill, .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill, .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill, .ql-snow.ql-toolbar .ql-picker-label:focus .ql-stroke.ql-fill, .ql-snow.ql-toolbar .ql-picker-item:focus .ql-stroke.ql-fill {\n    fill: ${colors.clBlue};\n  }\n\n  .ql-snow.ql-toolbar button:hover, .ql-snow .ql-toolbar button:hover, .ql-snow.ql-toolbar button:focus, .ql-snow .ql-toolbar button:focus, .ql-snow.ql-toolbar button.ql-active, .ql-snow .ql-toolbar button.ql-active, .ql-snow.ql-toolbar .ql-picker-label:hover,  .ql-snow.ql-toolbar .ql-picker-label:focus, .ql-snow .ql-toolbar .ql-picker-label:hover, .ql-snow.ql-toolbar .ql-picker-label.ql-active, .ql-snow .ql-toolbar .ql-picker-label.ql-active,  .ql-snow .ql-toolbar .ql-picker-label:focus, .ql-snow.ql-toolbar .ql-picker-item:hover, .ql-snow .ql-toolbar .ql-picker-item:hover, .ql-snow.ql-toolbar .ql-picker-item.ql-selected, .ql-snow.ql-toolbar .ql-picker-item:focus, .ql-snow .ql-toolbar .ql-picker-item.ql-selected {\n    color: ${colors.clBlue};\n  }\n\n  .ql-tooltip[data-mode=link]::before {\n    content: '${(props) => props.linkPrompt}' !important;\n  }\n\n  .ql-tooltip[data-mode=video]::before {\n    content: '${(props) => props.videoPrompt}' !important;\n  }\n\n  .ql-tooltip::before {\n    content: '${(props) => props.visitPrompt}' !important;\n  }\n\n  .ql-tooltip.ql-editing a.ql-action::after {\n    content: '${(props) => props.save}' !important;\n  }\n\n  .ql-tooltip a.ql-action::after {\n    content: '${(props) => props.edit}' !important;\n  }\n\n  .ql-tooltip a.ql-remove::before {\n    content: '${(props) => props.remove}' !important;\n  }\n\n  .ql-tooltip.ql-editing input {\n    font-size: 16px !important;\n    font-weight: 400 !important;\n  }\n\n  span.ql-formats:last-child {\n    margin-right: 0;\n  }\n\n  .ql-toolbar.ql-snow {\n    background: #f8f8f8;\n    border-radius: ${({ theme }) => theme.borderRadius} ${({ theme }) =>\n  theme.borderRadius} 0 0;\n    box-shadow: none;\n    border: 1px solid ${colors.border};\n    border-bottom: 0;\n    transition: box-shadow 100ms ease-out;\n  }\n\n  &.focus:not(.error) .ql-toolbar.ql-snow + .ql-container.ql-snow {\n    border-color: ${colors.focussedBorder};\n    box-shadow: inset ${defaultStyles.boxShadowFocused};\n  }\n\n  &.error .ql-toolbar.ql-snow + .ql-container.ql-snow {\n    border-color: ${colors.clRedError};\n  }\n\n  &.error.focus .ql-toolbar.ql-snow + .ql-container.ql-snow {\n    border-color: ${colors.clRedError};\n    box-shadow: inset ${defaultStyles.boxShadowError};\n  }\n\n  .ql-toolbar.ql-snow + .ql-container.ql-snow {\n    width: 100%;\n    height: 100%;\n    max-height: ${({ theme: { menuHeight } }) =>\n      `calc(80vh - ${menuHeight}px)`};\n    cursor: text;\n    border-radius: 0 0 ${({ theme }) => theme.borderRadius} ${({ theme }) =>\n  theme.borderRadius};\n    border: 1px solid ${colors.border};\n    box-shadow: none;\n    overflow-y: auto;\n    ${(props: any) => quillEditedContent(props.theme.colorMain)};\n\n    .ql-editor {\n      min-height: 300px;\n    }\n\n    ${media.smallerThanMaxTablet`\n      max-height: ${({ theme: { mobileMenuHeight } }) =>\n        `calc(80vh - ${mobileMenuHeight}px)`};\n    `}\n  }\n`;\n\nexport interface Props {\n  id: string;\n  value?: string;\n  label?: string | JSX.Element | null;\n  labelTooltipText?: string | JSX.Element | null;\n  locale?: Locale;\n  placeholder?: string;\n  noToolbar?: boolean;\n  noImages?: boolean;\n  noVideos?: boolean;\n  noAlign?: boolean;\n  limitedTextFormatting?: boolean;\n  hasError?: boolean;\n  className?: string;\n  onChange?: (html: string, locale: Locale | undefined) => void;\n  onFocus?: () => void;\n  onBlur?: () => void;\n  setRef?: (arg: HTMLDivElement) => void | undefined;\n  withCTAButton?: boolean;\n}\n\nQuill.register('modules/blotFormatter', BlotFormatter);\n\n// BEGIN allow image alignment styles\nconst attributes = ['alt', 'width', 'height', 'style'];\n\nconst BaseImageFormat = Quill.import('formats/image');\nconst BaseVideoFormat = Quill.import('formats/video');\n\nclass ImageFormat extends BaseImageFormat {\n  static formats(domNode) {\n    return attributes.reduce((formats, attribute) => {\n      if (domNode.hasAttribute(attribute)) {\n        formats[attribute] = domNode.getAttribute(attribute);\n      }\n      return formats;\n    }, {});\n  }\n  format(name, value) {\n    if (attributes.indexOf(name) > -1) {\n      if (value) {\n        this.domNode.setAttribute(name, value);\n      } else {\n        this.domNode.removeAttribute(name);\n      }\n    } else {\n      super.format(name, value);\n    }\n  }\n}\nImageFormat.blotName = 'image';\nImageFormat.tagName = 'img';\nQuill.register(ImageFormat, true);\n\nclass VideoFormat extends BaseVideoFormat {\n  static formats(domNode) {\n    return attributes.reduce((formats, attribute) => {\n      if (domNode.hasAttribute(attribute)) {\n        formats[attribute] = domNode.getAttribute(attribute);\n      }\n      return formats;\n    }, {});\n  }\n  format(name, value) {\n    if (attributes.indexOf(name) > -1) {\n      if (value) {\n        this.domNode.setAttribute(name, value);\n      } else {\n        this.domNode.removeAttribute(name);\n      }\n    } else {\n      super.format(name, value);\n    }\n  }\n}\nVideoFormat.blotName = 'video';\nVideoFormat.tagName = 'iframe';\nQuill.register(VideoFormat, true);\n// END allow image & video resizing styles\n\n// BEGIN function to detect whether urls are external\n// inspired by https://github.com/quilljs/quill/blob/develop/formats/link.js#L33\nconst ALLOWED_PROTOCOLS = new Set(['http', 'https', 'mailto', 'tel']);\n\nfunction isExternal(url: string) {\n  const protocol = url.slice(0, url.indexOf(':'));\n  return ALLOWED_PROTOCOLS.has(protocol);\n}\n// END function to detect whether urls are external\n\n// BEGIN custom link implementation\nconst Link = Quill.import('formats/link');\n\nclass CustomLink extends Link {\n  static create(url) {\n    const node = super.create(url);\n\n    // The default behavior of the Link is to add a target=\"_blank\" attribute\n    // So for internal urls we have to remove this\n    if (!isExternal(url)) {\n      node.removeAttribute('target');\n    }\n\n    return node;\n  }\n}\n\nQuill.register('formats/link', CustomLink);\n// END custom link implementation\n\n// BEGIN custom button implementation\nconst Inline = Quill.import('blots/inline');\n\nclass CustomButton extends Inline {\n  static create(url) {\n    const node = super.create();\n    node.setAttribute('href', url);\n    node.setAttribute('rel', 'noorefferer');\n\n    if (isExternal(url)) {\n      node.setAttribute('target', '_blank');\n    }\n\n    return node;\n  }\n\n  static formats(node) {\n    return node.getAttribute('href');\n  }\n}\nCustomButton.blotName = 'button';\nCustomButton.tagName = 'a';\nCustomButton.className = 'custom-button';\n\nQuill.register(CustomButton);\n// END custom button implementation\n\nconst QuillEditor = memo<Props & InjectedIntlProps>(\n  ({\n    id,\n    value,\n    label,\n    labelTooltipText,\n    locale,\n    placeholder,\n    noToolbar,\n    noAlign,\n    noImages,\n    noVideos,\n    limitedTextFormatting,\n    hasError,\n    className,\n    setRef,\n    onChange,\n    onBlur,\n    onFocus,\n    withCTAButton,\n    intl: { formatMessage },\n    children,\n  }) => {\n    const toolbarId = !noToolbar ? `ql-editor-toolbar-${id}` : null;\n\n    const [editor, setEditor] = useState<Quill | null>(null);\n    const contentRef = useRef<string>(value || '');\n    const prevEditor = usePrevious(editor);\n    const [focussed, setFocussed] = useState(false);\n    const prevFocussed = usePrevious(focussed);\n    const editorRef = useRef<HTMLDivElement>(null);\n    const [isButtonsMenuVisible, setIsButtonsMenuVisible] = useState(false);\n\n    const toggleButtonsMenu = useCallback(\n      () => setIsButtonsMenuVisible((value) => !value),\n      []\n    );\n    const hideButtonsMenu = useCallback(\n      () => setIsButtonsMenuVisible(false),\n      []\n    );\n\n    // initialize quill\n    useEffect(() => {\n      if (!editor && editorRef && editorRef.current) {\n        const editorOptions: QuillOptionsStatic = {\n          bounds: editorRef.current,\n          formats: [\n            'bold',\n            'italic',\n            'link',\n            ...attributes,\n            ...(withCTAButton ? ['button'] : []),\n            ...(!limitedTextFormatting ? ['header', 'list'] : []),\n            ...(!limitedTextFormatting && !noAlign ? ['align'] : []),\n            ...(!noImages ? ['image'] : []),\n            ...(!noVideos ? ['video'] : []),\n          ],\n          theme: 'snow',\n          placeholder: placeholder || '',\n          modules: {\n            blotFormatter: !noImages || !noVideos ? true : false,\n            toolbar: toolbarId ? `#${toolbarId}` : false,\n            keyboard: {\n              bindings: {\n                // overwrite default tab behavior\n                tab: {\n                  key: 9,\n                  handler: () => true, // do nothing\n                },\n                'remove tab': {\n                  key: 9,\n                  shiftKey: true,\n                  collapsed: true,\n                  prefix: /\\t$/,\n                  handler: () => true, // do nothing\n                },\n              },\n            },\n            clipboard: {\n              matchVisual: false,\n            },\n          },\n        };\n\n        setEditor(new Quill(editorRef.current, editorOptions));\n      }\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [\n      placeholder,\n      noAlign,\n      noImages,\n      noVideos,\n      limitedTextFormatting,\n      toolbarId,\n      editor,\n      editorRef,\n    ]);\n\n    useEffect(() => {\n      if (!prevEditor && editor && editorRef?.current) {\n        editorRef.current\n          .getElementsByClassName('ql-editor')[0]\n          .setAttribute('name', id);\n        editorRef.current\n          .getElementsByClassName('ql-editor')[0]\n          .setAttribute('id', id);\n        editorRef.current\n          .getElementsByClassName('ql-editor')[0]\n          .setAttribute('aria-labelledby', id);\n        editorRef.current\n          .getElementsByClassName('ql-editor')[0]\n          .setAttribute('aria-multiline', 'true');\n        editorRef.current\n          .getElementsByClassName('ql-editor')[0]\n          .setAttribute('role', 'textbox');\n      }\n\n      if (\n        (!prevEditor && editor && value) ||\n        (prevEditor && editor && value !== contentRef.current)\n      ) {\n        const delta = editor.clipboard.convert(value as any);\n        editor.setContents(delta);\n        contentRef.current = editor.root.innerHTML;\n      }\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [editor, value]);\n\n    useEffect(() => {\n      const textChangeHandler = () => {\n        if (editor) {\n          const html =\n            editor.root.innerHTML === '<p><br></p>'\n              ? ''\n              : editor.root.innerHTML;\n\n          if (html !== contentRef.current) {\n            contentRef.current = html;\n            onChange && onChange(html, locale);\n          }\n        }\n      };\n\n      const selectionChangeHandler = (\n        range: RangeStatic,\n        oldRange: RangeStatic,\n        _source: Sources\n      ) => {\n        if (range === null && oldRange !== null) {\n          setFocussed(false);\n        } else if (range !== null && oldRange === null) {\n          setFocussed(true);\n        }\n      };\n\n      const debouncedTextChangeHandler = debounce(textChangeHandler, 100);\n\n      if (editor) {\n        editor.on('text-change', debouncedTextChangeHandler);\n        editor.on('selection-change', selectionChangeHandler);\n        setRef && setRef(editor.root);\n      }\n\n      return () => {\n        if (editor) {\n          editor.off('text-change', debouncedTextChangeHandler);\n          editor.off('selection-change', selectionChangeHandler);\n        }\n      };\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [editor, locale, onChange]);\n\n    useEffect(() => {\n      if (!prevFocussed && focussed && onFocus) {\n        onFocus();\n      }\n\n      if (prevFocussed && !focussed && onBlur) {\n        onBlur();\n      }\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [focussed, onFocus, onBlur]);\n\n    const trackAdvanced = (type, option) => (\n      _event: React.MouseEvent<HTMLElement>\n    ) => {\n      trackEventByName(tracks.advancedEditing.name, {\n        extra: {\n          type,\n          option,\n        },\n      });\n    };\n\n    const trackClickDropdown = (event: React.MouseEvent<HTMLElement>) => {\n      if (\n        event.currentTarget &&\n        event.currentTarget.classList.contains('ql-picker-item')\n      ) {\n        const value = event.currentTarget.getAttribute('data-value');\n        let option;\n\n        if (value === '1') {\n          option = 'title';\n        } else if (value === '2') {\n          option = 'subtitle';\n        } else {\n          option = 'normal';\n        }\n\n        trackEventByName(tracks.advancedEditing.name, {\n          extra: {\n            option,\n            type: 'heading',\n          },\n        });\n      }\n    };\n\n    const trackBasic = (type) => (_event: React.MouseEvent<HTMLElement>) => {\n      trackEventByName(tracks.basicEditing.name, {\n        extra: {\n          type,\n        },\n      });\n    };\n\n    const trackImage = (_event: React.MouseEvent<HTMLElement>) => {\n      trackEventByName(tracks.imageEditing.name);\n    };\n\n    const trackVideo = (_event: React.MouseEvent<HTMLElement>) => {\n      trackEventByName(tracks.videoEditing.name);\n    };\n\n    const handleLabelOnClick = useCallback(() => {\n      editor && editor.focus();\n    }, [editor]);\n\n    const handleCustomLink = useCallback(() => {\n      if (!editor) return;\n\n      const selection = editor.getSelection();\n\n      if (selection && selection.length > 0) {\n        trackBasic('custom-link');\n        const value = prompt(formatMessage(messages.customLinkPrompt));\n        editor.format('button', value);\n        setIsButtonsMenuVisible(false);\n      }\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [editor]);\n\n    const handleNormalLink = useCallback(() => {\n      if (!editor) return;\n\n      const selection = editor.getSelection();\n\n      // copied from the snow toolbar code\n      // to manually add the handler that would have been callen on the toolbar button\n      if (selection == null || selection.length === 0) return;\n      const preview = editor.getText(selection as any);\n      const tooltip = (editor as any).theme.tooltip;\n      tooltip.edit('link', preview);\n      setIsButtonsMenuVisible(false);\n    }, [editor]);\n\n    const classNames = [\n      className,\n      focussed ? 'focus' : null,\n      hasError ? 'error' : null,\n    ]\n      .filter((className) => className)\n      .join(' ');\n\n    return (\n      <Container\n        className={classNames}\n        videoPrompt={formatMessage(messages.videoPrompt)}\n        linkPrompt={formatMessage(messages.linkPrompt)}\n        visitPrompt={formatMessage(messages.visitPrompt)}\n        save={formatMessage(messages.save)}\n        edit={formatMessage(messages.edit)}\n        remove={formatMessage(messages.remove)}\n      >\n        {label && (\n          <Label htmlFor={id} onClick={handleLabelOnClick}>\n            <span>{label}</span>\n            {labelTooltipText && <IconTooltip content={labelTooltipText} />}\n          </Label>\n        )}\n\n        {!noToolbar && (\n          <div id={toolbarId || ''}>\n            {!limitedTextFormatting && (\n              <span\n                className=\"ql-formats\"\n                role=\"button\"\n                onClick={trackClickDropdown}\n              >\n                <select className=\"ql-header\" defaultValue={''}>\n                  <option value=\"2\" aria-selected={false}>\n                    {formatMessage(messages.title)}\n                  </option>\n                  <option value=\"3\" aria-selected={false}>\n                    {formatMessage(messages.subtitle)}\n                  </option>\n                  <option value=\"\" aria-selected>\n                    {formatMessage(messages.normalText)}\n                  </option>\n                </select>\n              </span>\n            )}\n            <span className=\"ql-formats\">\n              <button\n                className=\"ql-bold\"\n                onClick={trackBasic('bold')}\n                aria-label={formatMessage(messages.bold)}\n              />\n              <button\n                className=\"ql-italic\"\n                onClick={trackBasic('italic')}\n                aria-label={formatMessage(messages.italic)}\n              />\n              {withCTAButton ? (\n                <Tippy\n                  placement=\"bottom\"\n                  theme=\"light\"\n                  interactive={true}\n                  visible={isButtonsMenuVisible}\n                  onClickOutside={hideButtonsMenu}\n                  duration={[200, 0]}\n                  popperOptions={{\n                    strategy: 'fixed',\n                  }}\n                  content={\n                    <DropdownList>\n                      <DropdownListItem\n                        onClick={handleCustomLink}\n                        type=\"button\"\n                      >\n                        {formatMessage(messages.customLink)}\n                      </DropdownListItem>\n                      <DropdownListItem\n                        onClick={handleNormalLink}\n                        type=\"button\"\n                        className=\"ql-link\"\n                      >\n                        {formatMessage(messages.link)}\n                      </DropdownListItem>\n                    </DropdownList>\n                  }\n                >\n                  <button type=\"button\" onClick={toggleButtonsMenu}>\n                    <svg viewBox=\"0 0 18 18\">\n                      <line\n                        className=\"ql-stroke\"\n                        x1=\"7\"\n                        x2=\"11\"\n                        y1=\"7\"\n                        y2=\"11\"\n                      />\n                      <path\n                        className=\"ql-even ql-stroke\"\n                        d=\"M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z\"\n                      />\n                      <path\n                        className=\"ql-even ql-stroke\"\n                        d=\"M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z\"\n                      />\n                    </svg>\n                  </button>\n                </Tippy>\n              ) : (\n                <button\n                  className=\"ql-link\"\n                  onClick={trackBasic('link')}\n                  aria-label={formatMessage(messages.link)}\n                />\n              )}\n            </span>\n\n            {!limitedTextFormatting && !noAlign && (\n              <span className=\"ql-formats\">\n                <button\n                  className=\"ql-align\"\n                  value=\"\"\n                  onClick={trackAdvanced('align', 'left')}\n                  aria-label={formatMessage(messages.alignLeft)}\n                />\n                <button\n                  className=\"ql-align\"\n                  value=\"center\"\n                  onClick={trackAdvanced('align', 'center')}\n                  aria-label={formatMessage(messages.alignCenter)}\n                />\n                <button\n                  className=\"ql-align\"\n                  value=\"right\"\n                  onClick={trackAdvanced('align', 'right')}\n                  aria-label={formatMessage(messages.alignRight)}\n                />\n              </span>\n            )}\n\n            {!limitedTextFormatting && (\n              <span className=\"ql-formats\">\n                <button\n                  className=\"ql-list\"\n                  value=\"ordered\"\n                  onClick={trackAdvanced('list', 'ordered')}\n                  aria-label={formatMessage(messages.orderedList)}\n                />\n                <button\n                  className=\"ql-list\"\n                  value=\"bullet\"\n                  onClick={trackAdvanced('list', 'bullet')}\n                  aria-label={formatMessage(messages.unorderedList)}\n                />\n              </span>\n            )}\n\n            {!(noImages && noVideos) && (\n              <span className=\"ql-formats\">\n                {!noImages && (\n                  <button\n                    className=\"ql-image\"\n                    onClick={trackImage}\n                    aria-label={formatMessage(messages.image)}\n                  />\n                )}\n                {!noVideos && (\n                  <button\n                    className=\"ql-video\"\n                    onClick={trackVideo}\n                    aria-label={formatMessage(messages.video)}\n                  />\n                )}\n              </span>\n            )}\n\n            <span className=\"ql-formats\">\n              <button\n                className=\"ql-clean\"\n                aria-label={formatMessage(messages.clean)}\n              />\n            </span>\n          </div>\n        )}\n        <div ref={editorRef}>{children}</div>\n      </Container>\n    );\n  }\n);\n\nexport default injectIntl(QuillEditor);\n","import React, { memo, useState, useCallback, useEffect } from 'react';\nimport { isFunction } from 'lodash-es';\n\n// components\nimport Modal from 'components/UI/Modal';\nimport SignUpIn, { ISignUpInMetaData } from 'components/SignUpIn';\nimport { TSignUpSteps } from 'components/SignUpIn/SignUp';\n\n// hooks\nimport useIsMounted from 'hooks/useIsMounted';\nimport useAuthUser from 'hooks/useAuthUser';\nimport useParticipationConditions from 'hooks/useParticipationConditions';\n\n// utils\nimport { isNilOrError } from 'utils/helperUtils';\n\n// events\nimport {\n  openSignUpInModal$,\n  closeSignUpInModal$,\n  signUpActiveStepChange$,\n  changeMetaData$,\n} from 'components/SignUpIn/events';\n\n// style\nimport styled from 'styled-components';\nimport Outlet from 'components/Outlet';\n\nconst Container = styled.div``;\n\ninterface Props {\n  className?: string;\n  onMounted?: () => void;\n}\n\nconst SignUpInModal = memo<Props>(({ className, onMounted }) => {\n  const isMounted = useIsMounted();\n  const [metaData, setMetaData] = useState<ISignUpInMetaData | undefined>(\n    undefined\n  );\n  const [signUpActiveStep, setSignUpActiveStep] = useState<\n    TSignUpSteps | null | undefined\n  >(undefined);\n\n  const authUser = useAuthUser();\n  const participationConditions = useParticipationConditions(\n    metaData?.verificationContext\n  );\n\n  const opened = !!metaData?.inModal;\n\n  const hasParticipationConditions =\n    !isNilOrError(participationConditions) &&\n    participationConditions.length > 0;\n\n  const modalWidth =\n    signUpActiveStep === 'verification' && hasParticipationConditions\n      ? 820\n      : 580;\n\n  const modalNoClose = !!(\n    (metaData?.error !== true && signUpActiveStep === 'verification') ||\n    (signUpActiveStep &&\n      metaData?.modalNoCloseSteps?.includes(signUpActiveStep))\n  );\n\n  useEffect(() => {\n    if (isMounted()) {\n      onMounted?.();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [onMounted]);\n\n  useEffect(() => {\n    const subscriptions = [\n      openSignUpInModal$.subscribe(({ eventValue: metaData }) => {\n        // don't overwrite metaData if already present!\n        const isSignedIn = !isNilOrError(authUser);\n        const isSignedInNeedsVerification =\n          !isNilOrError(authUser) &&\n          !authUser.attributes.verified &&\n          metaData.verification;\n\n        if (!isSignedIn || isSignedInNeedsVerification) {\n          setMetaData((prevMetaData) =>\n            prevMetaData ? prevMetaData : metaData\n          );\n        }\n      }),\n      closeSignUpInModal$.subscribe(() => {\n        setMetaData(undefined);\n      }),\n      signUpActiveStepChange$.subscribe(({ eventValue: activeStep }) => {\n        setSignUpActiveStep(activeStep);\n      }),\n      changeMetaData$.subscribe(({ eventValue: metaData }) => {\n        setMetaData(metaData);\n      }),\n    ];\n\n    return () =>\n      subscriptions.forEach((subscription) => subscription.unsubscribe());\n  }, [authUser]);\n\n  const onClose = () => {\n    setMetaData(undefined);\n  };\n\n  const onSignUpInCompleted = useCallback(() => {\n    const hasAction = isFunction(metaData?.action);\n    const requiresVerification = !!metaData?.verification;\n    const authUserIsVerified =\n      !isNilOrError(authUser) && authUser.attributes.verified;\n\n    if (hasAction && (!requiresVerification || authUserIsVerified)) {\n      metaData?.action?.();\n    }\n\n    setMetaData(undefined);\n  }, [metaData, authUser]);\n\n  return (\n    <Modal\n      width={modalWidth}\n      padding=\"0px\"\n      opened={opened}\n      close={onClose}\n      closeOnClickOutside={false}\n      noClose={modalNoClose}\n    >\n      <Container id=\"e2e-sign-up-in-modal\" className={className}>\n        {opened && metaData && (\n          <SignUpIn\n            metaData={metaData}\n            onSignUpInCompleted={onSignUpInCompleted}\n          />\n        )}\n        <Outlet id=\"app.components.SignUpIn.metaData\" metaData={metaData} />\n      </Container>\n    </Modal>\n  );\n});\n\nexport default SignUpInModal;\n","import { CLError } from 'typings';\nimport { isEmpty, isError } from 'lodash-es';\n\ninterface Options {\n  errors:\n    | {\n        [fieldName: string]: CLError[];\n      }\n    | null\n    | Record<string, never>\n    | Error;\n  saved: boolean;\n  diff: Record<string, any> | null;\n}\n\nexport default function getSubmitState({ errors, saved, diff }: Options) {\n  if (errors && (!isEmpty(errors) || isError(errors))) {\n    return 'error';\n  }\n\n  if (saved && isEmpty(diff)) {\n    return 'success';\n  }\n\n  return isEmpty(diff) ? 'disabled' : 'enabled';\n}\n","import React, { FormEvent, FC, memo, useEffect, useState } from 'react';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { isObject } from 'lodash-es';\n\n// components\nimport Button from 'components/UI/Button';\nimport Error from 'components/UI/Error';\nimport { Spinner } from 'cl2-component-library';\nimport UserCustomFieldsForm from '../../citizen/components/UserCustomFieldsForm';\n\n// hooks\nimport useAuthUser from 'hooks/useAuthUser';\nimport useUserCustomFieldsSchema from '../../hooks/useUserCustomFieldsSchema';\n\n// services\nimport { completeRegistration } from 'services/users';\n\n// i18n\nimport { InjectedIntlProps } from 'react-intl';\nimport { injectIntl } from 'utils/cl-intl';\nimport messages from 'components/SignUpIn/SignUp/messages';\n\n// utils\nimport eventEmitter from 'utils/eventEmitter';\nimport { media } from 'utils/styleUtils';\n// analytics\nimport { trackEventByName } from 'utils/analytics';\nimport tracks from './tracks';\n\n// style\nimport styled from 'styled-components';\n\n// typings\nimport {\n  TSignUpSteps,\n  TSignUpStepConfigurationObject,\n} from 'components/SignUpIn/SignUp';\n\nconst Loading = styled.div`\n  padding-top: 15px;\n`;\n\nconst Container = styled.div`\n  padding-bottom: 30px;\n\n  ${media.smallerThanMinTablet`\n    padding-bottom: 15px;\n  `}\n`;\n\nconst ButtonWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-top: -15px;\n\n  ${media.smallerThanMinTablet`\n    flex-direction: column;\n    align-items: stretch;\n    justify-content: center;\n  `}\n`;\n\nconst SubmitButton = styled(Button)``;\n\nconst SkipButton = styled(Button)`\n  ${media.smallerThanMinTablet`\n    margin-top: 20px;\n    margin-bottom: 15px;\n  `}\n`;\n\ntype InputProps = {\n  onCompleted: () => void;\n  onData: (data: {\n    key: TSignUpSteps;\n    configuration: TSignUpStepConfigurationObject;\n  }) => void;\n  step: TSignUpSteps | null;\n};\n\ninterface Props extends InputProps, InjectedIntlProps {}\n\nconst CustomFieldsStep: FC<Props & InjectedIntlProps> = memo(\n  ({ onData, intl: { formatMessage }, onCompleted, step }) => {\n    const [processingSubmit, setProcessingSubmit] = useState(false);\n    const [processingSkip, setProcessingSkip] = useState(false);\n    const [unknownError, setUnknownError] = useState<string | null>();\n\n    const authUser = useAuthUser();\n    const userCustomFieldsSchema = useUserCustomFieldsSchema();\n\n    useEffect(() => {\n      trackEventByName(tracks.signUpCustomFieldsStepEntered);\n      return () => {\n        trackEventByName(tracks.signUpCustomFieldsStepExited);\n      };\n    }, []);\n\n    useEffect(() => {\n      if (!isNilOrError(userCustomFieldsSchema)) {\n        onData({\n          key: 'custom-fields',\n          configuration: {\n            position: 4,\n            stepName: formatMessage(messages.completeYourProfile),\n            helperText: (tenant) =>\n              tenant?.attributes?.settings?.core\n                .custom_fields_signup_helper_text,\n            isEnabled: () => userCustomFieldsSchema.hasCustomFields,\n            isActive: (authUser) =>\n              !authUser?.attributes.registration_completed_at,\n          },\n        });\n      }\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [userCustomFieldsSchema]);\n\n    const handleOnSubmitButtonClick = (event: FormEvent) => {\n      event.preventDefault();\n      eventEmitter.emit('customFieldsSubmitEvent');\n    };\n\n    const handleCustomFieldsFormOnSubmit = async ({ formData }) => {\n      if (!isNilOrError(authUser) && isObject(formData)) {\n        try {\n          setProcessingSubmit(true);\n          setUnknownError(null);\n          await completeRegistration(formData);\n          setProcessingSubmit(false);\n          trackEventByName(tracks.signUpCustomFieldsStepCompleted);\n          onCompleted();\n        } catch (error) {\n          trackEventByName(tracks.signUpCustomFieldsStepFailed, { error });\n          setProcessingSubmit(false);\n          setUnknownError(formatMessage(messages.unknownError));\n        }\n      }\n    };\n\n    const skipStep = async (event: FormEvent) => {\n      event.preventDefault();\n      trackEventByName(tracks.signUpCustomFieldsStepSkipped);\n      setProcessingSkip(true);\n      await completeRegistration();\n      onCompleted();\n    };\n\n    if (step !== 'custom-fields') {\n      return null;\n    }\n\n    if (isNilOrError(authUser) || isNilOrError(userCustomFieldsSchema)) {\n      return (\n        <Loading>\n          <Spinner />\n        </Loading>\n      );\n    }\n\n    if (!isNilOrError(authUser) && !isNilOrError(userCustomFieldsSchema)) {\n      return (\n        <Container id=\"e2e-signup-custom-fields-container\">\n          <UserCustomFieldsForm\n            onSubmit={handleCustomFieldsFormOnSubmit}\n            authUser={authUser}\n          />\n\n          <ButtonWrapper>\n            <SubmitButton\n              id=\"e2e-signup-custom-fields-submit-btn\"\n              processing={processingSubmit}\n              text={formatMessage(messages.completeSignUp)}\n              onClick={handleOnSubmitButtonClick}\n            />\n            {!userCustomFieldsSchema.hasRequiredFields && (\n              <SkipButton\n                id=\"e2e-signup-custom-fields-skip-btn\"\n                buttonStyle=\"text\"\n                padding=\"0\"\n                textDecoration=\"underline\"\n                textDecorationHover=\"underline\"\n                processing={processingSkip}\n                onClick={skipStep}\n              >\n                {formatMessage(messages.skip)}\n              </SkipButton>\n            )}\n          </ButtonWrapper>\n          <Error text={unknownError} />\n        </Container>\n      );\n    }\n\n    return null;\n  }\n);\n\nconst CustomFieldsWithHoC = injectIntl<Props>(CustomFieldsStep);\n\nexport default CustomFieldsWithHoC;\n","import React, { memo } from 'react';\nimport { isNilOrError } from 'utils/helperUtils';\nimport useAppConfigurationLocales from 'hooks/useAppConfigurationLocales';\nimport {\n  InputMultilocWithLocaleSwitcher,\n  InputMultilocWithLocaleSwitcherProps,\n} from 'cl2-component-library';\n\nexport interface Props\n  extends Omit<InputMultilocWithLocaleSwitcherProps, 'locales'> {}\n\nconst InputMultilocWithLocaleSwitcherWrapper = memo<Props>((props) => {\n  const tenantLocales = useAppConfigurationLocales();\n\n  if (!isNilOrError(tenantLocales)) {\n    return (\n      <InputMultilocWithLocaleSwitcher {...props} locales={tenantLocales} />\n    );\n  }\n\n  return null;\n});\n\nexport default InputMultilocWithLocaleSwitcherWrapper;\n","import React, { useCallback } from 'react';\nimport { AUTH_PATH } from 'containers/App/constants';\nimport { removeUrlLocale } from 'services/locale';\nimport { getJwt } from 'utils/auth/jwt';\n\n// typings\nimport { IDAuth0Method } from 'services/verificationMethods';\n\n// components\nimport VerificationMethodButton from 'modules/commercial/verification/citizen/components/VerificationMethodButton';\n\n// i18n\nimport T from 'components/T';\n\ninterface Props {\n  method: IDAuth0Method;\n  last: boolean;\n}\n\nconst Auth0Button = ({ method, last }: Props) => {\n  const handleOnClick = useCallback(() => {\n    const jwt = getJwt();\n    window.location.href = `${AUTH_PATH}/auth0?token=${jwt}&pathname=${removeUrlLocale(\n      window.location.pathname\n    )}`;\n  }, []);\n\n  return (\n    <VerificationMethodButton\n      key={method.id}\n      id={`e2e-${method.attributes.name}-button`}\n      className={last ? 'last' : ''}\n      onClick={handleOnClick}\n    >\n      <T value={method.attributes.method_name_multiloc} />\n    </VerificationMethodButton>\n  );\n};\n\nexport default Auth0Button;\n","import React, { PureComponent } from 'react';\nimport { isNumber } from 'lodash-es';\n\n// i18n\nimport { injectIntl } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\nimport messages from '../../messages';\n\n// components\nimport { Icon } from 'cl2-component-library';\n\n// style\nimport styled from 'styled-components';\nimport { colors, fontSizes } from 'utils/styleUtils';\nimport { darken } from 'polished';\n\nconst Container = styled.button`\n  width: 24px;\n  height: 24px;\n  align-items: center;\n  cursor: pointer;\n  display: flex;\n  fill: ${({ theme }) => theme.navbarTextColor || colors.label};\n  justify-content: center;\n  padding: 0;\n  position: relative;\n\n  &:hover,\n  &:focus {\n    fill: ${({ theme }) =>\n      theme.navbarTextColor ? darken(0.2, theme.navbarTextColor) : colors.text};\n  }\n`;\n\nconst NotificationIcon = styled(Icon)`\n  height: 24px;\n  fill: inherit;\n  transition: all 100ms ease-out;\n`;\n\nconst NewNotificationsIndicator = styled.div`\n  color: #fff;\n  font-size: ${fontSizes.xs}px;\n  line-height: ${fontSizes.xs}px;\n  background: ${({ theme }) =>\n    theme.invertedNavbarColors && theme.navbarTextColor\n      ? theme.colorText\n      : colors.clRed};\n  padding: 4px;\n  border-radius: ${(props: any) => props.theme.borderRadius};\n  border: solid 1px\n    ${({ theme }) =>\n      theme.invertedNavbarColors && theme.navbarBackgroundColor\n        ? theme.navbarBackgroundColor\n        : '#fff'};\n  position: absolute;\n  top: -9px;\n  left: 15px;\n  min-width: 18px;\n  min-height: 18px;\n`;\n\ntype Props = {\n  count?: number;\n  onClick?: (event: React.FormEvent<any>) => void;\n  dropdownOpened: boolean;\n};\n\ninterface State {}\n\nclass NotificationCount extends PureComponent<\n  Props & InjectedIntlProps,\n  State\n> {\n  removeFocus = (event: React.MouseEvent) => {\n    event.preventDefault();\n  };\n\n  render() {\n    const { count, dropdownOpened } = this.props;\n\n    return (\n      <Container\n        onMouseDown={this.removeFocus}\n        onClick={this.props.onClick}\n        aria-expanded={dropdownOpened}\n      >\n        <NotificationIcon\n          title={this.props.intl.formatMessage(messages.notificationsLabel)}\n          name=\"notification\"\n        />\n        {isNumber(count) && count > 0 ? (\n          <NewNotificationsIndicator>{count}</NewNotificationsIndicator>\n        ) : null}\n      </Container>\n    );\n  }\n}\n\nexport default injectIntl<Props>(NotificationCount);\n","import React from 'react';\n\n// components\nimport { IconTooltip, Radio } from 'cl2-component-library';\nimport { SubSectionTitle } from 'components/admin/Section';\nimport { StyledWarning } from './styling';\n\n// i18n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from '../messages';\n\ninterface Props {\n  projectType: 'continuous' | 'timeline';\n  handleProjectTypeOnChange: (projectType: 'continuous' | 'timeline') => void;\n}\n\nexport default ({ projectType, handleProjectTypeOnChange }: Props) => (\n  <>\n    <SubSectionTitle>\n      <FormattedMessage {...messages.projectTypeTitle} />\n      <IconTooltip\n        content={<FormattedMessage {...messages.projectTypeTooltip} />}\n      />\n    </SubSectionTitle>\n    <StyledWarning\n      text={<FormattedMessage {...messages.projectTypeWarning} />}\n    />\n    <Radio\n      className=\"e2e-project-type-timeline\"\n      onChange={handleProjectTypeOnChange}\n      currentValue={projectType}\n      value=\"timeline\"\n      name=\"projecttype\"\n      id=\"projectype-timeline\"\n      label={<FormattedMessage {...messages.timeline} />}\n    />\n    <Radio\n      className=\"e2e-project-type-continuous\"\n      onChange={handleProjectTypeOnChange}\n      currentValue={projectType}\n      value=\"continuous\"\n      name=\"projecttype\"\n      id=\"projectype-continuous\"\n      label={<FormattedMessage {...messages.continuous} />}\n    />\n  </>\n);\n","export function isValidEmail(email) {\n  return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email);\n}\n","import { API_PATH } from 'containers/App/constants';\nimport streams from 'utils/streams';\nimport { Multiloc } from 'typings';\n\nexport const ideaStatusCodes = [\n  'proposed',\n  'viewed',\n  'under_consideration',\n  'accepted',\n  'implemented',\n  'rejected',\n  'custom',\n] as const;\n\nexport type TIdeaStatusCode = typeof ideaStatusCodes[number];\n\nexport interface IIdeaStatusData {\n  id: string;\n  type: string;\n  attributes: {\n    title_multiloc: Multiloc;\n    color: string;\n    code: TIdeaStatusCode;\n    ordering: number;\n    description_multiloc: Multiloc;\n    ideas_count?: number;\n  };\n}\n\nexport interface IIdeaStatusAdd {\n  title_multiloc: Multiloc;\n  description_multiloc?: Multiloc;\n  color?: string;\n  code?: TIdeaStatusCode;\n  ordering?: number;\n}\n\nexport interface IIdeaStatusUpdate {\n  title_multiloc: Multiloc;\n  description_multiloc?: Multiloc;\n  color?: string;\n  code?: TIdeaStatusCode;\n  ordering?: number;\n}\n\nexport interface IIdeaStatus {\n  data: IIdeaStatusData;\n}\n\nexport interface IIdeaStatuses {\n  data: IIdeaStatusData[];\n}\n\nexport function ideaStatusStream(statusId: string) {\n  return streams.get<IIdeaStatus>({\n    apiEndpoint: `${API_PATH}/idea_statuses/${statusId}`,\n  });\n}\n\nexport function ideaStatusesStream() {\n  return streams.get<IIdeaStatuses>({\n    apiEndpoint: `${API_PATH}/idea_statuses`,\n  });\n}\n\nexport function addIdeaStatus(ideaStatus: IIdeaStatusAdd) {\n  const response = streams.add<IIdeaStatusAdd>(`${API_PATH}/idea_statuses/`, {\n    idea_status: ideaStatus,\n  });\n  return response;\n}\n\nexport async function updateIdeaStatus(\n  ideaStatusId: string,\n  ideaStatus: Partial<IIdeaStatusUpdate>\n) {\n  const response = await streams.update<IIdeaStatusUpdate>(\n    `${API_PATH}/idea_statuses/${ideaStatusId}`,\n    ideaStatusId,\n    {\n      idea_status: ideaStatus,\n    },\n    true\n  );\n\n  return response;\n}\n\nexport async function deleteIdeaStatus(ideaStatusId: string) {\n  const response = await streams.delete(\n    `${API_PATH}/idea_statuses/${ideaStatusId}`,\n    ideaStatusId,\n    true\n  );\n\n  streams.fetchAllWith({\n    dataId: [ideaStatusId],\n    apiEndpoint: [`${API_PATH}/idea_statuses`],\n  });\n\n  return response;\n}\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  searchPlaceholder: {\n    id: 'app.containers.SearchInput.searchPlaceholder',\n    defaultMessage: 'Search',\n  },\n  searchAriaLabel: {\n    id: 'app.containers.SearchInput.searchAriaLabel',\n    defaultMessage: 'Search',\n  },\n  removeSearchTerm: {\n    id: 'app.containers.SearchInput.removeSearchTerm',\n    defaultMessage: 'Remove search term',\n  },\n  a11y_searchTerm: {\n    id: 'app.containers.SearchInput.a11y_searchTerm',\n    defaultMessage: 'Search term: {searchTerm}',\n  },\n  a11y_searchTermBlank: {\n    id: 'app.containers.SearchInput.a11y_searchTermBlank',\n    defaultMessage: 'Search term: blank',\n  },\n  searchTerm: {\n    id: 'app.containers.SearchInput.searchTerm',\n    defaultMessage: 'Search term: {searchTerm}',\n  },\n});\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  HTMLTitle: {\n    id: 'containers.Admin.onboarding.HTMLTitle',\n    defaultMessage: 'Welcome to the admin panel',\n  },\n  HTMLDescription: {\n    id: 'containers.Admin.onboarding.HTMLDescription',\n    defaultMessage: 'This page will be your guide',\n  },\n  title: {\n    id: 'containers.Admin.onboarding.title',\n    defaultMessage: 'Guide',\n  },\n  readCompleteGuide: {\n    id: 'containers.Admin.onboarding.readCompleteGuide',\n    defaultMessage: 'Read complete guide',\n  },\n  // Setup section\n  setupSectionTitle: {\n    id: 'containers.Admin.onboarding.setupSectionTitle',\n    defaultMessage: 'Setup',\n  },\n  setupSectionLink: {\n    id: 'containers.Admin.onboarding.setupSectionLink',\n    defaultMessage:\n      'http://support.citizenlab.co/en-your-citizenlab-platform-step-by-step',\n  },\n  setupArticle1Link: {\n    id: 'containers.Admin.onboarding.setupArticle1Link',\n    defaultMessage: '/admin/projects/new',\n  },\n  setupArticle1Title: {\n    id: 'containers.Admin.onboarding.setupArticle1Title',\n    defaultMessage: 'Create your first projects',\n  },\n  setupArticle1Description: {\n    id: 'containers.Admin.onboarding.setupArticle1Description',\n    defaultMessage:\n      'Projects are the beating heart of the platform. Admins and project moderators can customize and edit the projects at any time: information, files, images, areas, timeline, participation methods, planned activities, etc...',\n  },\n  setupArticle2Link: {\n    id: 'containers.Admin.onboarding.setupArticle2Link',\n    defaultMessage: '/admin/settings/registration',\n  },\n  setupArticle2Title: {\n    id: 'containers.Admin.onboarding.setupArticle2Title',\n    defaultMessage: 'Define what you want to know from your users',\n  },\n  setupArticle2Description: {\n    id: 'containers.Admin.onboarding.setupArticle2Description',\n    defaultMessage:\n      'You can ask your users additional information while registering. Use the registration fields to get better insights, or to segment your users into groups, for example by age, area, interests, etc...',\n  },\n  // Engage section\n  engageSectionTitle: {\n    id: 'containers.Admin.onboarding.engageSectionTitle',\n    defaultMessage: 'Engage',\n  },\n  engageSectionLink: {\n    id: 'containers.Admin.onboarding.engageSectionLink',\n    defaultMessage:\n      'http://support.citizenlab.co/en-your-citizenlab-platform-step-by-step',\n  },\n  engageArticle1Link: {\n    id: 'containers.Admin.onboarding.engageArticle1Link',\n    defaultMessage: '/admin/invitations',\n  },\n  engageArticle1Title: {\n    id: 'containers.Admin.onboarding.engageArticle1Title',\n    defaultMessage: 'Involve admins and project moderators',\n  },\n  engageArticle1Description: {\n    id: 'containers.Admin.onboarding.engageArticle1Description',\n    defaultMessage:\n      'Send them an invitation, give them admin or moderator rights and add a brief personal message explaining what they can do.',\n  },\n  engageArticle2Link: {\n    id: 'containers.Admin.onboarding.engageArticle2Link',\n    defaultMessage: '/admin/invitations',\n  },\n  engageArticle2Title: {\n    id: 'containers.Admin.onboarding.engageArticle2Title',\n    defaultMessage: 'Invite your target audience',\n  },\n  engageArticle2Description: {\n    id: 'containers.Admin.onboarding.engageArticle2Description',\n    defaultMessage:\n      'Add a personal message with a clear call-to-action. If you have a list of email addresses from people that participated in an offline event, easily add this list to the platform.',\n  },\n  engageArticle3Link: {\n    id: 'containers.Admin.onboarding.engageArticle3Link',\n    defaultMessage: '/admin/emails/custom',\n  },\n  engageArticle3Title: {\n    id: 'containers.Admin.onboarding.engageArticle3Title',\n    defaultMessage: 'Send emails to keep your users updated',\n  },\n  engageArticle3Description: {\n    id: 'containers.Admin.onboarding.engageArticle3Description',\n    defaultMessage:\n      'Inform your audience on a project entering a new phase, invite them for a project related event, warn them on an approaching deadline, etc.. You can do all this by creating custom email campaigns.',\n  },\n  // Manage section\n  manageSectionTitle: {\n    id: 'containers.Admin.onboarding.manageSectionTitle',\n    defaultMessage: 'manage',\n  },\n  manageSectionLink: {\n    id: 'containers.Admin.onboarding.manageSectionLink',\n    defaultMessage:\n      'http://support.citizenlab.co/en-your-citizenlab-platform-step-by-step',\n  },\n  manageArticle1Link: {\n    id: 'containers.Admin.onboarding.manageArticle1Link',\n    defaultMessage: '/admin/projects',\n  },\n  manageArticle1Title: {\n    id: 'containers.Admin.onboarding.manageArticle1Title',\n    defaultMessage: 'Moderate inside your projects',\n  },\n  giveFeedback: {\n    id: 'containers.Admin.onboarding.giveFeedback',\n    defaultMessage:\n      'Give feedback by adding or changing the status or providing an update.',\n  },\n  manageArticle2Link: {\n    id: 'containers.Admin.onboarding.manageArticle2Link',\n    defaultMessage: '/admin/users',\n  },\n  manageArticle2Title: {\n    id: 'containers.Admin.onboarding.manageArticle2Title',\n    defaultMessage: 'Manage your users',\n  },\n  manageArticle2Description: {\n    id: 'containers.Admin.onboarding.manageArticle2Description',\n    defaultMessage:\n      'Create groups to be able to contact specific groups or define permissions per group.',\n  },\n  // Decide section\n  decideSectionTitle: {\n    id: 'containers.Admin.onboarding.decideSectionTitle',\n    defaultMessage: 'decide',\n  },\n  decideSectionLink: {\n    id: 'containers.Admin.onboarding.decideSectionLink',\n    defaultMessage:\n      'http://support.citizenlab.co/en-your-citizenlab-platform-step-by-step',\n  },\n  decideArticle1Link: {\n    id: 'containers.Admin.onboarding.decideArticle1Link',\n    defaultMessage: '/admin/ideas',\n  },\n  manageInputs: {\n    id: 'containers.Admin.onboarding.manageInputs',\n    defaultMessage: 'Manage the inputs',\n  },\n  decideArticle1Description2: {\n    id: 'containers.Admin.onboarding.decideArticle1Description2',\n    defaultMessage:\n      'Add topics to inputs, move inputs from one phase to another, change their status or mark them as spam.',\n  },\n  decideArticle2Link: {\n    id: 'containers.Admin.onboarding.decideArticle2Link',\n    defaultMessage: '/admin/insights',\n  },\n  decideArticle2Title: {\n    id: 'containers.Admin.onboarding.decideArticle2Title',\n    defaultMessage: 'Use the insights',\n  },\n  decideArticle2Description: {\n    id: 'containers.Admin.onboarding.decideArticle2Description',\n    defaultMessage:\n      'Get immediate and easy-to-grasp analytics, and monitor closely whats happening on the platform.',\n  },\n});\n","import { useState, useEffect } from 'react';\nimport {\n  projectFolderFilesStream,\n  IProjectFolderFiles,\n} from '../services/projectFolderFiles';\n\nexport default function useProjectFolderFiles(\n  projectFolderId: string | undefined\n) {\n  const [projectFolderFile, setProjectFolderFiles] = useState<\n    IProjectFolderFiles | undefined | null | Error\n  >(undefined);\n  useEffect(() => {\n    const subscription = projectFolderId\n      ? projectFolderFilesStream(projectFolderId).observable.subscribe(\n          (projectFolderFile) => {\n            setProjectFolderFiles(projectFolderFile);\n          }\n        )\n      : null;\n\n    return () => subscription?.unsubscribe();\n  }, [projectFolderId]);\n\n  return projectFolderFile;\n}\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  // edit - index\n  generalTab: {\n    id: 'app.containers.AdminPage.ProjectEdit.generalTab',\n    defaultMessage: 'General',\n  },\n  descriptionTab: {\n    id: 'app.containers.AdminPage.ProjectEdit.descriptionTab',\n    defaultMessage: 'Description',\n  },\n  inputManagerTab: {\n    id: 'app.containers.AdminPage.ProjectEdit.inputManagerTab',\n    defaultMessage: 'Input manager',\n  },\n  volunteeringTab: {\n    id: 'app.containers.AdminPage.ProjectEdit.volunteeringTab',\n    defaultMessage: 'Volunteering',\n  },\n  pollTab: {\n    id: 'app.containers.AdminPage.ProjectEdit.pollTab',\n    defaultMessage: 'Poll',\n  },\n  phasesTab: {\n    id: 'app.containers.AdminPage.ProjectEdit.phasesTab',\n    defaultMessage: 'Timeline',\n  },\n  eventsTab: {\n    id: 'app.containers.AdminPage.ProjectEdit.eventsTab',\n    defaultMessage: 'Events',\n  },\n  newProject: {\n    id: 'app.containers.AdminPage.ProjectEdit.newProject',\n    defaultMessage: 'New Project',\n  },\n  addNewIdea: {\n    id: 'app.containers.AdminPage.ProjectEdit.addNewIdea',\n    defaultMessage: 'Add an idea',\n  },\n  addNewProject: {\n    id: 'app.containers.AdminPage.ProjectEdit.addNewProject',\n    defaultMessage: 'Add a project',\n  },\n  addNewIssue: {\n    id: 'app.containers.AdminPage.ProjectEdit.addNewIssue',\n    defaultMessage: 'Add an issue',\n  },\n  addNewQuestion: {\n    id: 'app.containers.AdminPage.ProjectEdit.addNewQuestion',\n    defaultMessage: 'Add a question',\n  },\n  addNewOption: {\n    id: 'app.containers.AdminPage.ProjectEdit.addNewOption',\n    defaultMessage: 'Add an option',\n  },\n  addNewContribution: {\n    id: 'app.containers.AdminPage.ProjectEdit.addNewContribution',\n    defaultMessage: 'Add a contribution',\n  },\n  viewPublicProject: {\n    id: 'app.containers.AdminPage.ProjectEdit.viewPublicProject',\n    defaultMessage: 'View project',\n  },\n  // edit - participationContext -----------------------------------------------\n  noVotingLimitErrorMessage: {\n    id: 'app.containers.AdminPage.ProjectEdit.noVotingLimitErrorMessage',\n    defaultMessage: 'Not a valid number',\n  },\n  noBudgetingAmountErrorMessage: {\n    id: 'app.containers.AdminPage.ProjectEdit.noBudgetingAmountErrorMessage',\n    defaultMessage: 'Not a valid amount',\n  },\n  participationMethodTitleText: {\n    id: 'app.containers.AdminPage.ProjectEdit.participationMethodTitleText',\n    defaultMessage: 'What do you want to do?',\n  },\n  participationMethodTooltip: {\n    id: 'app.containers.AdminPage.ProjectEdit.participationMethodTooltip',\n    defaultMessage: 'Choose how users can participate.',\n  },\n  shareInformation: {\n    id: 'app.containers.AdminPage.ProjectEdit.shareInformation',\n    defaultMessage: 'Share information',\n  },\n  shareInformationDescription: {\n    id: 'app.containers.AdminPage.ProjectEdit.shareInformationDescription',\n    defaultMessage: 'Provide information to participants.',\n  },\n  inputAndFeedback: {\n    id: 'app.containers.AdminPage.ProjectEdit.inputAndFeedback',\n    defaultMessage: 'Collect input and feedback',\n  },\n  inputAndFeedbackDescription: {\n    id: 'app.containers.AdminPage.ProjectEdit.inputAndFeedbackDescription',\n    defaultMessage:\n      'Create or collect inputs, votes and/or comments. Pick between different types of inputs: idea collection, option analysis, question and answer, issue identification and more.',\n  },\n  createSurveyText: {\n    id: 'app.containers.AdminPage.ProjectEdit.createSurveyText',\n    defaultMessage: 'Create an advanced survey',\n  },\n  createSurveyDescription: {\n    id: 'app.containers.AdminPage.ProjectEdit.createSurveyDescription',\n    defaultMessage:\n      'Embed a Typeform, Google Form, Enalyzer, SurveyXact, Qualtrics or Microsoft Forms survey.',\n  },\n  conductParticipatoryBudgetingText: {\n    id:\n      'app.containers.AdminPage.ProjectEdit.conductParticipatoryBudgetingText',\n    defaultMessage: 'Conduct a budget allocation exercise',\n  },\n  conductParticipatoryBudgetingDescriptionText: {\n    id:\n      'app.containers.AdminPage.ProjectEdit.conductParticipatoryBudgetingDescriptionText',\n    defaultMessage:\n      'Assign a budget to projects and ask participants to select their preferred projects that fit within a total budget.',\n  },\n  createPoll: {\n    id: 'app.containers.AdminPage.ProjectEdit.createPoll',\n    defaultMessage: 'Create a poll',\n  },\n  createPollDescription: {\n    id: 'app.containers.AdminPage.ProjectEdit.createPollDescription',\n    defaultMessage: 'Set up a multiple-choice questionnaire.',\n  },\n  findVolunteers: {\n    id: 'app.containers.AdminPage.ProjectEdit.findVolunteers',\n    defaultMessage: 'Find volunteers',\n  },\n  findVolunteersDescriptionText: {\n    id: 'app.containers.AdminPage.ProjectEdit.findVolunteersDescriptionText',\n    defaultMessage: 'Ask participants to volunteer for activities and causes.',\n  },\n  totalBudget: {\n    id: 'app.containers.AdminPage.ProjectEdit.totalBudget',\n    defaultMessage: 'Total budget',\n  },\n  totalBudgetExplanation: {\n    id: 'app.containers.AdminPage.ProjectEdit.totalBudgetExplanation',\n    defaultMessage:\n      \"By default, your budget is set using your local currency. You can change your platform's currency to 'credits' or 'tokens' by contacting our support center.\",\n  },\n  minimum: {\n    id: 'app.containers.AdminPage.ProjectEdit.minimum',\n    defaultMessage: 'Minimum',\n  },\n  minimumTooltip: {\n    id: 'app.containers.AdminPage.ProjectEdit.minimumTooltip',\n    defaultMessage:\n      \"Require participants to meet a minimum budget to submit their basket (enter '0' if you would not like to set a minimum).\",\n  },\n  maximum: {\n    id: 'app.containers.AdminPage.ProjectEdit.maximum',\n    defaultMessage: 'Maximum',\n  },\n  maximumTooltip: {\n    id: 'app.containers.AdminPage.ProjectEdit.maximumTooltip',\n    defaultMessage:\n      'Participants cannot exceed this budget when submitting their basket.',\n  },\n  inputPostingEnabled: {\n    id: 'app.containers.AdminPage.ProjectEdit.inputPostingEnabled',\n    defaultMessage: 'Submitting inputs',\n  },\n  inputCommentingEnabled: {\n    id: 'app.containers.AdminPage.ProjectEdit.inputCommentingEnabled',\n    defaultMessage: 'Commenting on inputs',\n  },\n  inputVotingEnabled: {\n    id: 'app.containers.AdminPage.ProjectEdit.inputVotingEnabled',\n    defaultMessage: 'Voting on inputs',\n  },\n  votingMethod: {\n    id: 'app.containers.AdminPage.ProjectEdit.votingMethod',\n    defaultMessage: 'Voting method',\n  },\n  votingMaximumTooltip: {\n    id: 'app.containers.AdminPage.ProjectEdit.votingMaximumTooltip',\n    defaultMessage:\n      'You can set the maximum number of times that a participant can vote.',\n  },\n  votingLimit: {\n    id: 'app.containers.AdminPage.ProjectEdit.votingLimit',\n    defaultMessage: 'Voting limit',\n  },\n  downvoting: {\n    id: 'app.containers.AdminPage.ProjectEdit.downvoting',\n    defaultMessage: 'Downvoting',\n  },\n  disableDownvotingTooltip: {\n    id: 'app.containers.AdminPage.ProjectEdit.disableDownvotingTooltip',\n    defaultMessage:\n      'This will disable downvoting, but upvoting will still be enabled. You can disable voting completely in the Actions section of this tab.',\n  },\n  downvotingDisabled: {\n    id: 'app.containers.AdminPage.ProjectEdit.downvotingDisabled',\n    defaultMessage: 'Disabled',\n  },\n  downvotingEnabled: {\n    id: 'app.containers.AdminPage.ProjectEdit.downvotingEnabled',\n    defaultMessage: 'Enabled',\n  },\n  phasePermissions: {\n    id: 'app.containers.AdminPage.ProjectEdit.phasePermissions',\n    defaultMessage: 'Enabled actions',\n  },\n  phasePermissionsTooltip: {\n    id: 'app.containers.AdminPage.ProjectEdit.phasePermissionsTooltip',\n    defaultMessage:\n      'Select what participative action users can take during this ideation phase.',\n  },\n  unlimited: {\n    id: 'app.containers.AdminPage.ProjectEdit.unlimited',\n    defaultMessage: 'Unlimited',\n  },\n  limited: {\n    id: 'app.containers.AdminPage.ProjectEdit.limited',\n    defaultMessage: 'Limited',\n  },\n  anonymousPolling: {\n    id: 'app.containers.AdminPage.ProjectEdit.anonymousPolling',\n    defaultMessage: 'Anonymous polling',\n  },\n  anonymousPollingTooltip: {\n    id: 'app.containers.AdminPage.ProjectEdit.anonymousPollingTooltip',\n    defaultMessage:\n      \"When enabled it's impossible to see who voted on what. Users still need an account and can only vote once.\",\n  },\n  enabled: {\n    id: 'app.containers.AdminPage.ProjectEdit.enabled',\n    defaultMessage: 'Enabled',\n  },\n  disabled: {\n    id: 'app.containers.AdminPage.ProjectEdit.disabled',\n    defaultMessage: 'Disabled',\n  },\n  inputsDefaultView: {\n    id: 'app.containers.AdminPage.ProjectEdit.inputsDefaultView',\n    defaultMessage: 'Default view',\n  },\n  defaultSorting: {\n    id: 'app.containers.AdminPage.ProjectEdit.defaultSorting',\n    defaultMessage: 'Sorting',\n  },\n  inputsDefaultViewTooltip: {\n    id: 'app.containers.AdminPage.ProjectEdit.inputsDefaultViewTooltip',\n    defaultMessage:\n      \"Choose the default view of participant's inputs: cards in a grid view or pins on a map. Participants can manually switch between the two views.\",\n  },\n  defaultPostSortingTooltip: {\n    id: 'app.containers.AdminPage.ProjectEdit.defaultPostSortingTooltip',\n    defaultMessage:\n      'You can set the default order for posts to be displayed on the main project page.',\n  },\n  cardDisplay: {\n    id: 'app.containers.AdminPage.ProjectEdit.cardDisplay',\n    defaultMessage: 'Cards',\n  },\n  mapDisplay: {\n    id: 'app.containers.AdminPage.ProjectEdit.mapDisplay',\n    defaultMessage: 'Map',\n  },\n  trendingSortingMethod: {\n    id: 'app.containers.AdminPage.ProjectEdit.trendingSortingMethod',\n    defaultMessage: 'Trending',\n  },\n  randomSortingMethod: {\n    id: 'app.containers.AdminPage.ProjectEdit.randomSortingMethod',\n    defaultMessage: 'Random',\n  },\n  popularSortingMethod: {\n    id: 'app.containers.AdminPage.ProjectEdit.popularSortingMethod',\n    defaultMessage: 'Most voted',\n  },\n  newestSortingMethod: {\n    id: 'app.containers.AdminPage.ProjectEdit.newestFirstSortingMethod',\n    defaultMessage: 'Most recent',\n  },\n  oldestSortingMethod: {\n    id: 'app.containers.AdminPage.ProjectEdit.oldestFirstSortingMethod',\n    defaultMessage: 'Oldest',\n  },\n  surveyService: {\n    id: 'app.containers.AdminPage.ProjectEdit.surveyService',\n    defaultMessage: 'Survey Service',\n  },\n  surveyServiceTooltipLink: {\n    id: 'app.containers.AdminPage.ProjectEdit.surveyServiceTooltipLink',\n    defaultMessage:\n      'http://support.citizenlab.co/en-your-citizenlab-platform-step-by-step/faq-s/how-do-i-add-a-survey-to-my-platform',\n  },\n  surveyServiceTooltip: {\n    id: 'app.containers.AdminPage.ProjectEdit.surveyServiceTooltip',\n    defaultMessage:\n      'Choose what survey tool you want to embed. All information can be found {surveyServiceTooltipLink}.',\n  },\n  surveyServiceTooltipLinkText: {\n    id: 'app.containers.AdminPage.ProjectEdit.surveyServiceTooltipLinkText',\n    defaultMessage: 'here',\n  },\n  typeform: {\n    id: 'app.containers.AdminPage.ProjectEdit.typeform',\n    defaultMessage: 'Typeform',\n  },\n  enalyzer: {\n    id: 'app.containers.AdminPage.ProjectEdit.enalyzer',\n    defaultMessage: 'Enalyzer',\n  },\n  qualtrics: {\n    id: 'app.containers.AdminPage.ProjectEdit.qualtrics',\n    defaultMessage: 'Qualtrics',\n  },\n  microsoft_forms: {\n    id: 'app.containers.AdminPage.ProjectEdit.microsoft_forms',\n    defaultMessage: 'Microsoft Forms',\n  },\n  survey_xact: {\n    id: 'app.containers.AdminPage.ProjectEdit.survey_xact',\n    defaultMessage: 'SurveyXact',\n  },\n  survey_monkey: {\n    id: 'app.containers.AdminPage.ProjectEdit.survey_monkey',\n    defaultMessage: 'Survey Monkey',\n  },\n  google_forms: {\n    id: 'app.containers.AdminPage.ProjectEdit.google_forms',\n    defaultMessage: 'Google Forms',\n  },\n  surveyEmbedUrl: {\n    id: 'app.containers.AdminPage.ProjectEdit.surveyEmbedUrl',\n    defaultMessage: 'Survey Embed URL',\n  },\n  titleSurveyResults: {\n    id: 'app.containers.AdminPage.ProjectEdit.SurveyResults.titleSurveyResults',\n    defaultMessage: 'Consult the survey answers',\n  },\n  subtitleSurveyResults: {\n    id:\n      'app.containers.AdminPage.ProjectEdit.SurveyResults.subtitleSurveyResults',\n    defaultMessage:\n      'Here, you can download the results of the surveys within this project as an exel file. For now, you can only see here the typeform surveys.',\n  },\n  surveyResultsTab: {\n    id: 'app.containers.AdminPage.ProjectEdit.SurveyResults.surveyResultsTab',\n    defaultMessage: 'Survey Results',\n  },\n  exportSurveyResults: {\n    id:\n      'app.containers.AdminPage.ProjectEdit.SurveyResults.exportSurveyResults',\n    defaultMessage: 'Export survey results',\n  },\n  titleInputManager: {\n    id: 'app.containers.AdminPage.ProjectEdit.PostManager.titleInputManager',\n    defaultMessage: 'Input manager',\n  },\n  subtitleInputManager: {\n    id: 'app.containers.AdminPage.ProjectEdit.PostManager.subtitleInputManager',\n    defaultMessage:\n      'Give feedback, assign topics or copy inputs to the next project phase.',\n  },\n  hiddenFieldsTip: {\n    id: 'app.components.admin.PostManager.hiddenFieldsTip',\n    defaultMessage:\n      'Tip: add {hiddenFieldsLink} when setting up your Typeform survey to keep track of who has responded to your survey.',\n  },\n  hiddenFieldsLinkText: {\n    id: 'app.components.admin.PostManager.hiddenFieldsLink',\n    defaultMessage: 'hidden fields',\n  },\n  hiddenFieldsSupportArticleUrl: {\n    id: 'app.components.admin.PostManager.hiddenFieldsSupportArticleUrl',\n    defaultMessage: 'https://support.citizenlab.co/en/articles/1641202',\n  },\n  ideaTerm: {\n    id: 'app.components.app.containers.AdminPage.ProjectEdit.ideaTerm',\n    defaultMessage: 'Idea',\n  },\n  projectTerm: {\n    id: 'app.components.app.containers.AdminPage.ProjectEdit.projectTerm',\n    defaultMessage: 'Project',\n  },\n  questionTerm: {\n    id: 'app.components.app.containers.AdminPage.ProjectEdit.questionTerm',\n    defaultMessage: 'Question',\n  },\n  optionTerm: {\n    id: 'app.components.app.containers.AdminPage.ProjectEdit.optionTerm',\n    defaultMessage: 'Option',\n  },\n  issueTerm: {\n    id: 'app.components.app.containers.AdminPage.ProjectEdit.issueTerm',\n    defaultMessage: 'Issue',\n  },\n  contributionTerm: {\n    id: 'app.components.app.containers.AdminPage.ProjectEdit.contributionTerm',\n    defaultMessage: 'Contribution',\n  },\n  inputTermSelectLabel: {\n    id:\n      'app.components.app.containers.AdminPage.ProjectEdit.inputTermSelectLabel',\n    defaultMessage: 'What should an input be called?',\n  },\n  minBudgetLargerThanMaxError: {\n    id:\n      'app.components.app.containers.AdminPage.ProjectEdit.minBudgetLargerThanMaxError',\n    defaultMessage:\n      \"The minimum budget can't be larger than the maximum budget\",\n  },\n  minBudgetRequired: {\n    id: 'app.components.app.containers.AdminPage.ProjectEdit.minBudgetRequired',\n    defaultMessage: 'A minimum budget is required',\n  },\n  maxBudgetRequired: {\n    id: 'app.components.app.containers.AdminPage.ProjectEdit.maxBudgetRequired',\n    defaultMessage: 'A maximum budget is required',\n  },\n});\n","import React, { memo, useCallback } from 'react';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { isEmpty } from 'lodash-es';\nimport bowser from 'bowser';\n\n// router\nimport Link from 'utils/cl-router/Link';\n\n// components\nimport { Icon } from 'cl2-component-library';\nimport Image from 'components/UI/Image';\n\n// i18n\nimport T from 'components/T';\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from './messages';\n\n// tracking\nimport { trackEventByName } from 'utils/analytics';\nimport tracks from './tracks';\n\n// style\nimport styled from 'styled-components';\nimport {\n  media,\n  colors,\n  fontSizes,\n  defaultCardStyle,\n  defaultCardHoverStyle,\n} from 'utils/styleUtils';\nimport { ScreenReaderOnly } from 'utils/a11y';\nimport useProjectFolderImages from '../../../hooks/useProjectFolderImages';\nimport { IAdminPublicationContent } from 'hooks/useAdminPublications';\n\nconst Container = styled(Link)`\n  width: calc(33% - 12px);\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 25px;\n  position: relative;\n  cursor: pointer;\n  ${defaultCardStyle};\n\n  &.large {\n    width: 100%;\n    min-height: 450px;\n    flex-direction: row;\n    align-items: stretch;\n    justify-content: space-between;\n\n    ${media.smallerThanMinTablet`\n      width: 100%;\n    `}\n  }\n\n  &.medium {\n    width: calc(50% - 13px);\n    min-height: 580px;\n    padding-left: 30px;\n    padding-right: 30px;\n\n    ${media.smallerThanMinTablet`\n      width: 100%;\n    `}\n  }\n\n  &.small {\n    min-height: 540px;\n\n    &.threecolumns {\n      ${media.smallerThanMaxTablet`\n        width: calc(50% - 13px);\n      `}\n\n      ${media.smallerThanMinTablet`\n        width: 100%;\n        min-height: 460px;\n      `}\n    }\n\n    ${media.smallerThanMinTablet`\n      min-height: 400px;\n    `}\n  }\n\n  &.medium {\n    padding-top: 20px;\n    padding-bottom: 30px;\n  }\n\n  &.small {\n    padding-top: 18px;\n    padding-bottom: 25px;\n  }\n\n  &.desktop {\n    ${defaultCardHoverStyle};\n  }\n\n  ${media.smallerThanMinTablet`\n    width: 100%;\n    min-height: 460px;\n  `}\n`;\n\nconst FolderImageContainer = styled.div`\n  width: 100%;\n  height: 254px;\n  flex-grow: 0;\n  flex-shrink: 0;\n  flex-basis: 254px;\n  display: flex;\n  margin-right: 10px;\n  overflow: hidden;\n  position: relative;\n\n  &.large {\n    width: 50%;\n    height: 100%;\n    flex-basis: 50%;\n    border-top-left-radius: 4px;\n    border-bottom-left-radius: 4px;\n  }\n\n  &.small {\n    height: 224px;\n    flex-basis: 224px;\n  }\n`;\n\nconst FolderImagePlaceholder = styled.div`\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: ${colors.placeholderBg};\n`;\n\nconst FolderImagePlaceholderIcon = styled(Icon)`\n  height: 45px;\n  fill: #fff;\n`;\n\nconst FolderImage = styled(Image)`\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n`;\n\nconst FolderContent = styled.div`\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n\n  &.large {\n    padding-top: 18px;\n    padding-bottom: 35px;\n    padding-left: 68px;\n    padding-right: 32px;\n\n    ${media.smallerThanMaxTablet`\n      padding-left: 20px;\n      padding-right: 20px;\n    `}\n  }\n\n  &.small {\n    padding-left: 30px;\n    padding-right: 30px;\n\n    ${media.smallerThanMinTablet`\n      padding-left: 20px;\n      padding-right: 20px;\n    `};\n  }\n`;\n\nconst ContentHeaderHeight = 39;\nconst ContentHeaderBottomMargin = 13;\n\nconst ContentHeader = styled.div<{ hasLabel: boolean }>`\n  display: flex;\n  justify-content: ${({ hasLabel }) =>\n    hasLabel ? 'space-between' : 'flex-end'};\n  align-items: center;\n  padding-right: 0;\n  padding-left: 0;\n  height: ${ContentHeaderHeight}px;\n  margin-bottom: ${ContentHeaderBottomMargin}px;\n\n  &.noContent {\n    ${media.biggerThanMinTablet`\n      height: ${ContentHeaderHeight + ContentHeaderBottomMargin}px;\n    `}\n  }\n\n  &.hasContent {\n    &.large {\n      margin-bottom: 0px;\n      border-bottom: solid 1px #e8e8e8;\n    }\n  }\n\n  &.small {\n    padding-left: 30px;\n    padding-right: 30px;\n\n    ${media.smallerThanMinTablet`\n      padding-left: 20px;\n      padding-right: 20px;\n    `}\n\n    ${media.smallPhone`\n      padding-left: 10px;\n      padding-right: 10px;\n    `}\n  }\n\n  &.large {\n    padding-bottom: 10px;\n  }\n`;\n\nconst ContentBody = styled.div`\n  width: 100%;\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  padding-top: 20px;\n\n  &.large {\n    max-width: 400px;\n    justify-content: center;\n  }\n`;\n\nconst ContentHeaderLabel = styled.span`\n  height: ${ContentHeaderHeight}px;\n  color: ${colors.label};\n  font-size: ${fontSizes.small}px;\n  font-weight: 500;\n  text-transform: uppercase;\n  display: flex;\n  align-items: center;\n`;\n\nconst FolderTitle = styled.h3`\n  line-height: normal;\n  font-weight: 500;\n  font-size: ${fontSizes.xl}px;\n  color: ${({ theme }) => theme.colorText};\n  margin: 0;\n  padding: 0;\n\n  &:hover {\n    text-decoration: underline;\n  }\n`;\n\nconst FolderDescription = styled.div`\n  color: ${colors.label};\n  font-size: ${fontSizes.base}px;\n  line-height: normal;\n  font-weight: 300;\n  overflow-wrap: break-word;\n  word-wrap: break-word;\n  word-break: break-word;\n  margin-top: 15px;\n`;\n\nconst MapIcon = styled(Icon)`\n  width: 27px;\n  height: 21px;\n  fill: ${({ theme }) => theme.colorSecondary};\n  margin-right: 10px;\n`;\n\nconst MapIconDescription = styled.span`\n  font-weight: bold;\n  margin-bottom: -2px;\n  color: ${({ theme }) => theme.colorSecondary};\n`;\n\nexport interface Props {\n  publication: IAdminPublicationContent;\n  size: 'small' | 'medium' | 'large';\n  layout: 'dynamic' | 'threecolumns' | 'twocolumns';\n  className?: string;\n}\n\nconst ProjectFolderCard = memo<Props>(\n  ({ publication, size, layout, className }) => {\n    const projectFolderImages = useProjectFolderImages(\n      publication.publicationId\n    );\n\n    const handleProjectCardOnClick = useCallback(\n      (projectFolderId: string) => () => {\n        trackEventByName(tracks.clickOnProjectCard, {\n          extra: { projectFolderId },\n        });\n      },\n      []\n    );\n\n    const handleProjectTitleOnClick = useCallback(\n      (projectFolderId: string) => () => {\n        trackEventByName(tracks.clickOnProjectTitle, {\n          extra: { projectFolderId },\n        });\n      },\n      []\n    );\n\n    const imageUrl =\n      !isNilOrError(projectFolderImages) && projectFolderImages.data.length > 0\n        ? projectFolderImages.data?.[0].attributes?.versions.medium\n        : null;\n\n    const folderUrl = `/folders/${publication.attributes.publication_slug}`;\n    const numberOfProjectsInFolder =\n      publication.attributes.visible_children_count;\n\n    const isArchived = publication.attributes.publication_status === 'archived';\n    const contentHeader = (\n      <ContentHeader className={`${size} hasContent`} hasLabel={isArchived}>\n        {isArchived && (\n          <ContentHeaderLabel className=\"e2e-project-card-archived-label\">\n            <FormattedMessage {...messages.archived} />\n          </ContentHeaderLabel>\n        )}\n        <div>\n          <MapIcon name=\"folder\" ariaHidden />\n          <MapIconDescription\n            aria-hidden\n            className=\"e2e-folder-card-numberofprojects\"\n          >\n            {numberOfProjectsInFolder !== 0 && numberOfProjectsInFolder}\n          </MapIconDescription>\n          <ScreenReaderOnly>\n            <FormattedMessage\n              {...messages.numberOfProjectsInFolder}\n              values={{ numberOfProjectsInFolder }}\n            />\n          </ScreenReaderOnly>\n        </div>\n      </ContentHeader>\n    );\n\n    const screenReaderContent = (\n      <ScreenReaderOnly>\n        <FolderTitle>\n          <FormattedMessage {...messages.a11y_folderTitle} />\n          <T value={publication.attributes.publication_title_multiloc} />\n        </FolderTitle>\n\n        <FolderDescription>\n          <FormattedMessage {...messages.a11y_folderDescription} />\n          <T\n            value={\n              publication.attributes.publication_description_preview_multiloc\n            }\n          />\n        </FolderDescription>\n      </ScreenReaderOnly>\n    );\n\n    return (\n      <Container\n        className={`${className} ${layout} ${size} ${\n          !(bowser.mobile || bowser.tablet) ? 'desktop' : 'mobile'\n        } e2e-folder-card e2e-admin-publication-card`}\n        to={folderUrl}\n        onClick={handleProjectCardOnClick(publication.publicationId)}\n      >\n        {screenReaderContent}\n        {size !== 'large' && contentHeader}\n\n        <FolderImageContainer className={size}>\n          <FolderImagePlaceholder>\n            <FolderImagePlaceholderIcon name=\"project\" />\n          </FolderImagePlaceholder>\n\n          {imageUrl && <FolderImage src={imageUrl} alt=\"\" cover={true} />}\n        </FolderImageContainer>\n\n        <FolderContent className={size}>\n          {size === 'large' && contentHeader}\n\n          <ContentBody className={size} aria-hidden>\n            <FolderTitle\n              onClick={handleProjectTitleOnClick(publication.publicationId)}\n              className=\"e2e-folder-card-folder-title\"\n            >\n              <T value={publication.attributes.publication_title_multiloc} />\n            </FolderTitle>\n\n            <T\n              value={\n                publication.attributes.publication_description_preview_multiloc\n              }\n            >\n              {(description) => {\n                if (!isEmpty(description)) {\n                  return (\n                    <FolderDescription className=\"e2e-folder-card-folder-description-preview\">\n                      {description}\n                    </FolderDescription>\n                  );\n                }\n\n                return null;\n              }}\n            </T>\n          </ContentBody>\n        </FolderContent>\n      </Container>\n    );\n  }\n);\n\nexport default ProjectFolderCard;\n","import React, { PureComponent } from 'react';\nimport styled from 'styled-components';\nimport { Icon, IconTooltip } from 'cl2-component-library';\nimport { fontSizes, colors } from 'utils/styleUtils';\nimport { darken } from 'polished';\nimport CSSTransition from 'react-transition-group/CSSTransition';\n\nconst timeout = 400;\n\nconst Container = styled.div``;\n\nconst ArrowIcon = styled(Icon)`\n  fill: ${colors.label};\n  flex: 0 0 11px;\n  height: 11px;\n  width: 11px;\n  margin-right: 8px;\n  transition: transform 350ms cubic-bezier(0.165, 0.84, 0.44, 1),\n    fill 80ms ease-out;\n\n  &.opened {\n    transform: rotate(90deg);\n  }\n`;\n\nconst CollapseExpandButton = styled.button`\n  text-align: left;\n  display: flex;\n  align-items: center;\n  padding: 0;\n  margin: 0;\n  margin-right: 8px;\n  border: none;\n  cursor: pointer;\n  transition: all 80ms ease-out;\n\n  &:hover {\n    color: ${darken(0.25, colors.label)};\n\n    ${ArrowIcon} {\n      fill: ${darken(0.25, colors.label)};\n    }\n  }\n`;\n\nconst Label = styled.label`\n  color: ${colors.label};\n  display: flex;\n  align-items: center;\n  font-size: ${fontSizes.base}px;\n  font-weight: 400;\n  margin: 0;\n  padding: 0;\n  margin-bottom: 10px;\n`;\n\nconst CollapseContainer = styled.div`\n  opacity: 0;\n  display: none;\n  transition: all ${timeout}ms cubic-bezier(0.165, 0.84, 0.44, 1);\n  will-change: opacity, height;\n\n  &.collapse-enter {\n    opacity: 0;\n    max-height: 0px;\n    overflow: hidden;\n    display: block;\n\n    &.collapse-enter-active {\n      opacity: 1;\n      max-height: 1000px;\n      overflow: hidden;\n      display: block;\n    }\n  }\n\n  &.collapse-enter-done {\n    opacity: 1;\n    overflow: visible;\n    display: block;\n  }\n\n  &.collapse-exit {\n    opacity: 1;\n    max-height: 1000px;\n    overflow: hidden;\n    display: block;\n\n    &.collapse-exit-active {\n      opacity: 0;\n      max-height: 0px;\n      overflow: hidden;\n      display: block;\n    }\n  }\n\n  &.collapse-exit-done {\n    display: none;\n  }\n`;\n\ninterface Props {\n  label: JSX.Element | string;\n  labelTooltipText?: string | JSX.Element | null;\n  opened: boolean;\n  onToggle: (event: React.MouseEvent) => void;\n  className?: string;\n}\n\nclass Collapse extends PureComponent<Props> {\n  removeFocus = (event: React.MouseEvent) => {\n    event.preventDefault();\n  };\n\n  handleToggle = (event: React.MouseEvent) => {\n    event.preventDefault();\n    this.props.onToggle(event);\n  };\n\n  render() {\n    const { label, labelTooltipText, children, opened, className } = this.props;\n\n    return (\n      <Container className={className}>\n        <Label>\n          <CollapseExpandButton\n            type=\"button\"\n            onMouseDown={this.removeFocus}\n            onClick={this.handleToggle}\n          >\n            <ArrowIcon\n              name=\"chevron-right\"\n              className={`${opened && 'opened'}`}\n            />\n            {label}\n          </CollapseExpandButton>\n          {labelTooltipText && <IconTooltip content={labelTooltipText} />}\n        </Label>\n\n        <CSSTransition\n          classNames=\"collapse\"\n          in={opened}\n          timeout={timeout}\n          mounOnEnter={false}\n          unmountOnExit={false}\n          enter={true}\n          exit={true}\n        >\n          <CollapseContainer>{children}</CollapseContainer>\n        </CSSTransition>\n      </Container>\n    );\n  }\n}\n\nexport default Collapse;\n","import React from 'react';\nimport { Subscription } from 'rxjs';\nimport { authUserStream } from 'services/auth';\nimport { IUserData } from 'services/users';\n\ninterface InputProps {}\n\ntype children = (renderProps: GetAuthUserChildProps) => JSX.Element | null;\n\ninterface Props extends InputProps {\n  children?: children;\n}\n\ninterface State {\n  authUser: GetAuthUserChildProps;\n}\n\nexport type GetAuthUserChildProps = IUserData | undefined | null;\n\nexport default class GetAuthUser extends React.Component<Props, State> {\n  private subscriptions: Subscription[];\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      authUser: undefined,\n    };\n  }\n\n  componentDidMount() {\n    const authUser$ = authUserStream().observable;\n\n    this.subscriptions = [\n      authUser$.subscribe((authUser) => {\n        this.setState({ authUser: authUser ? authUser.data : null });\n      }),\n    ];\n  }\n\n  componentWillUnmount() {\n    this.subscriptions.forEach((subscription) => subscription.unsubscribe());\n  }\n\n  render() {\n    const { children } = this.props;\n    const { authUser } = this.state;\n    return (children as children)(authUser);\n  }\n}\n","import React, { ReactNode } from 'react';\nimport { ModuleConfiguration } from 'utils/moduleUtils';\nimport ProjectEditTab from './admin/components/ProjectEditTab';\nimport SettingsTab from './admin/components/SettingsTab';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { IProjectData } from 'services/projects';\nimport { IPhaseData } from 'services/phases';\n\ntype RenderOnHideTabConditionProps = {\n  project: IProjectData;\n  phases: IPhaseData[] | null;\n  children: ReactNode;\n};\n\nconst RenderOnHideTabCondition = (props: RenderOnHideTabConditionProps) => {\n  const { project, phases, children } = props;\n  const processType = project.attributes.process_type;\n  const participationMethod = project.attributes.participation_method;\n  const hideTab =\n    (processType === 'continuous' &&\n      participationMethod !== 'ideation' &&\n      participationMethod !== 'budgeting') ||\n    (processType === 'timeline' &&\n      !isNilOrError(phases) &&\n      phases.filter((phase) => {\n        return (\n          phase.attributes.participation_method === 'ideation' ||\n          phase.attributes.participation_method === 'budgeting'\n        );\n      }).length === 0);\n\n  if (hideTab) {\n    return null;\n  }\n\n  return <>{children}</>;\n};\n\nconst configuration: ModuleConfiguration = {\n  routes: {\n    'admin.projects': [\n      {\n        path: '/:locale/admin/projects/:projectId/topics',\n        name: 'topics',\n        container: () => import('./admin/containers/ProjectTopics'),\n      },\n    ],\n    'admin.settings': [\n      {\n        path: '/:locale/admin/settings/topics',\n        name: 'admin topics index',\n        container: () => import('./admin/containers/TopicsSettings/all'),\n      },\n      {\n        path: '/:locale/admin/settings/topics/new',\n        name: 'admin topics new',\n        container: () => import('./admin/containers/TopicsSettings/New'),\n      },\n      {\n        path: '/:locale/admin/settings/topics/:topicId/edit',\n        name: 'admin topic edit',\n        container: () => import('./admin/containers/TopicsSettings/Edit'),\n      },\n    ],\n  },\n  outlets: {\n    'app.containers.Admin.projects.edit': (props) => (\n      <RenderOnHideTabCondition project={props.project} phases={props.phases}>\n        <ProjectEditTab {...props} />\n      </RenderOnHideTabCondition>\n    ),\n    'app.containers.Admin.settings.tabs': (props) => <SettingsTab {...props} />,\n  },\n};\n\nexport default configuration;\n","import React from 'react';\nimport clHistory from 'utils/cl-router/history';\n\nexport default class ForbiddenRoute extends React.PureComponent {\n  componentDidMount() {\n    clHistory.push('/sign-in');\n  }\n\n  render() {\n    return null;\n  }\n}\n","import React, { memo, useContext } from 'react';\nimport { OutletsPropertyMap, OutletId } from 'utils/moduleUtils';\nimport { OutletsContext } from 'containers/OutletsProvider';\n\ntype CustomPropsMap = {\n  [P in keyof OutletsPropertyMap]: { id: P } & OutletsPropertyMap[P];\n};\n\ntype InputProps = {\n  onRender?: (hasRendered: boolean) => void;\n  children?: Children;\n};\n\ntype CustomOutletProps = CustomPropsMap[keyof CustomPropsMap];\n\nexport type OutletRenderProps = (\n  renderProps: JSX.Element[]\n) => JSX.Element | null;\n\ntype Children = OutletRenderProps;\n\nfunction useOutlet(identifier: OutletId) {\n  const outlets = useContext(OutletsContext);\n  return outlets[identifier] ?? [];\n}\n\ntype Props = InputProps & CustomOutletProps;\n\nconst Outlet = memo(({ children, id, ...props }: Props) => {\n  const outletComponents = useOutlet(id);\n\n  const componentsToRender = outletComponents.map((Component, index) => (\n    <Component key={`${id}_${index}`} {...props} />\n  ));\n\n  if (children) {\n    return children(componentsToRender);\n  }\n\n  return <>{componentsToRender}</>;\n});\n\nexport default Outlet;\n","import React, { FC } from 'react';\nimport styled from 'styled-components';\nimport { Icon } from 'semantic-ui-react';\n\nconst SortableLink = styled.a`\n  color: rgba(0, 0, 0, 0.87);\n  cursor: pointer;\n  display: flex;\n`;\n\ninterface Props {\n  direction?: 'ascending' | 'descending' | null;\n  onToggle: () => void;\n}\n\nconst SortableTableHeader: FC<Props> = ({ children, ...props }) => {\n  const { direction, onToggle } = props;\n\n  return (\n    <SortableLink onClick={onToggle}>\n      {children}\n      {direction && (\n        <Icon name={direction === 'ascending' ? 'caret up' : 'caret down'} />\n      )}\n    </SortableLink>\n  );\n};\n\nexport default SortableTableHeader;\n","import { useState, useEffect } from 'react';\nimport {\n  customFieldsSchemaForUsersStream,\n  UserCustomFieldsInfos,\n} from '../services/userCustomFields';\nimport { localeStream } from 'services/locale';\nimport { combineLatest } from 'rxjs';\nimport { isEmpty, get } from 'lodash-es';\nimport { hasCustomFields } from '../utils/customFields';\n\nexport type UserCustomFieldsSchema =\n  | UserCustomFieldsInfos\n  | undefined\n  | null\n  | Error;\n\nexport default function useUserCustomFieldsSchema() {\n  const [customFields, setCustomFields] = useState<UserCustomFieldsSchema>(\n    undefined\n  );\n\n  useEffect(() => {\n    const locale$ = localeStream().observable;\n    const customFieldsSchemaForUsersStream$ = customFieldsSchemaForUsersStream()\n      .observable;\n\n    const subscription = combineLatest(\n      locale$,\n      customFieldsSchemaForUsersStream$\n    ).subscribe(([locale, customFields]) => {\n      setCustomFields({\n        schema: customFields['json_schema_multiloc'][locale],\n        uiSchema: customFields['ui_schema_multiloc'][locale],\n        hasRequiredFields: !isEmpty(\n          get(customFields, `json_schema_multiloc.${locale}.required`, null)\n        ),\n        hasCustomFields: hasCustomFields(customFields, locale),\n      });\n    });\n\n    return () => subscription.unsubscribe();\n  }, []);\n\n  return customFields;\n}\n","import React, { PureComponent } from 'react';\nimport { Icon } from 'cl2-component-library';\nimport CSSTransition from 'react-transition-group/CSSTransition';\nimport { isArray, isEmpty, uniqBy } from 'lodash-es';\nimport styled from 'styled-components';\nimport { FormattedMessage } from 'utils/cl-intl';\nimport { darken } from 'polished';\nimport { CLError, Message } from 'typings';\nimport { IInviteError } from 'services/invites';\nimport messages from './messages';\nimport { colors, fontSizes, isRtl } from 'utils/styleUtils';\n\nconst timeout = 350;\n\nconst ErrorMessageText = styled.div`\n  flex: 1 1 100%;\n  color: ${colors.clRedError};\n  font-size: ${fontSizes.base}px;\n  line-height: normal;\n  font-weight: 400;\n\n  a {\n    color: ${colors.clRedError};\n    font-weight: 500;\n    text-decoration: underline;\n\n    &:hover {\n      color: ${darken(0.2, colors.clRedError)};\n      text-decoration: underline;\n    }\n  }\n\n  strong {\n    font-weight: 500;\n  }\n`;\n\nconst ErrorIcon = styled(Icon)`\n  flex: 0 0 20px;\n  width: 20px;\n  height: 20px;\n  fill: ${colors.clRedError};\n  padding: 0px;\n  margin: 0px;\n  margin-right: 10px;\n\n  ${isRtl`\n    margin-right: 0;\n    margin-left: 10px;\n  `}\n`;\n\nconst ContainerInner = styled.div<{ showBackground: boolean }>`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 10px 13px;\n  border-radius: ${(props) => props.theme.borderRadius};\n  background: ${colors.clRedErrorBackground};\n  background: ${(props) =>\n    props.showBackground ? colors.clRedErrorBackground : 'transparent'};\n\n  ${isRtl`\n    flex-direction: row-reverse;\n `}\n`;\n\nconst Container = styled.div<{ marginTop: string; marginBottom: string }>`\n  position: relative;\n  overflow: hidden;\n\n  ${ContainerInner} {\n    margin-top: ${(props) => props.marginTop};\n    margin-bottom: ${(props) => props.marginBottom};\n  }\n\n  &.error-enter {\n    max-height: 0px;\n    opacity: 0;\n\n    &.error-enter-active {\n      max-height: 60px;\n      opacity: 1;\n      transition: max-height ${timeout}ms cubic-bezier(0.165, 0.84, 0.44, 1),\n        opacity ${timeout}ms cubic-bezier(0.165, 0.84, 0.44, 1);\n    }\n  }\n\n  &.error-exit {\n    max-height: 100px;\n    opacity: 1;\n\n    &.error-exit-active {\n      max-height: 0px;\n      opacity: 0;\n      transition: max-height ${timeout}ms cubic-bezier(0.19, 1, 0.22, 1),\n        opacity ${timeout}ms cubic-bezier(0.19, 1, 0.22, 1);\n    }\n  }\n`;\n\nconst ErrorList = styled.ul`\n  list-style: none;\n  padding: 0;\n  margin: 0;\n`;\n\nconst ErrorListItem = styled.li`\n  display: flex;\n  align-items: flex-start;\n  margin-top: 8px;\n  margin-bottom: 8px;\n`;\n\nconst Bullet = styled.span`\n  font-size: ${fontSizes.xl}px;\n  font-weight: 500;\n  line-height: ${fontSizes.base}px;\n  margin-right: 8px;\n`;\n\ninterface DefaultProps {\n  marginTop: string;\n  marginBottom: string;\n  showIcon: boolean;\n  showBackground: boolean;\n  className: string;\n  animate: boolean | undefined;\n}\n\ninterface Props extends DefaultProps {\n  text?: string | JSX.Element | null;\n  fieldName?: TFieldName | undefined;\n  apiErrors?: (CLError | IInviteError)[] | null;\n  id?: string;\n}\n\ninterface State {\n  mounted: boolean;\n}\n\ntype TFieldName =\n  | 'title_multiloc'\n  | 'sender'\n  | 'group_ids'\n  | 'reply_to'\n  | 'subject_multiloc'\n  | 'body_multiloc'\n  | 'description_multiloc'\n  | 'description_preview_multiloc'\n  | 'required'\n  | 'input_type'\n  | 'slug'\n  | 'file'\n  | 'token'\n  | 'password'\n  | 'buttonText'\n  | 'showFooter'\n  | 'showLogo'\n  | 'showHeader'\n  | 'relativeLink'\n  | 'font'\n  | 'accentColor'\n  | 'textColor'\n  | 'siteBgColor'\n  | 'bgColor'\n  | 'fontSize'\n  | 'headerText'\n  | 'headerSubText'\n  | 'limit'\n  | 'width'\n  | 'height'\n  | 'homepage-info'\n  | 'first_name'\n  | 'last_name'\n  | 'confirmation_code'\n  | 'email'\n  | 'view_name'\n  | 'category_name';\n\nexport default class Error extends PureComponent<Props, State> {\n  static defaultProps: DefaultProps = {\n    marginTop: '3px',\n    marginBottom: '0px',\n    showIcon: true,\n    showBackground: true,\n    className: '',\n    animate: true,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      mounted: false,\n    };\n  }\n\n  componentDidMount() {\n    this.setState({ mounted: true });\n  }\n\n  componentWillUnmount() {\n    this.setState({ mounted: false });\n  }\n\n  findMessage = (fieldName: TFieldName | undefined, error: string) => {\n    if (fieldName && messages[`${fieldName}_${error}`]) {\n      return messages[`${fieldName}_${error}`] as Message;\n    }\n\n    if (messages[error]) {\n      return messages[error] as Message;\n    }\n\n    return null;\n  };\n\n  render() {\n    const { mounted } = this.state;\n    const {\n      text,\n      apiErrors,\n      fieldName,\n      marginTop,\n      marginBottom,\n      showIcon,\n      showBackground,\n      className,\n      animate,\n      id,\n    } = this.props;\n\n    const dedupApiErrors =\n      apiErrors && isArray(apiErrors) && !isEmpty(apiErrors)\n        ? uniqBy(apiErrors, 'error')\n        : undefined;\n    return (\n      <CSSTransition\n        classNames=\"error\"\n        in={!!(mounted && (text || apiErrors))}\n        timeout={timeout}\n        mounOnEnter={true}\n        unmountOnExit={true}\n        enter={animate}\n        exit={animate}\n      >\n        <Container\n          className={`e2e-error-message ${className}`}\n          id={id}\n          marginTop={marginTop}\n          marginBottom={marginBottom}\n          role=\"alert\"\n        >\n          <ContainerInner\n            showBackground={showBackground}\n            className={`${apiErrors && apiErrors.length > 1 && 'isList'}`}\n          >\n            {showIcon && (\n              <ErrorIcon\n                title={<FormattedMessage {...messages.error} />}\n                name=\"error\"\n                ariaHidden\n              />\n            )}\n\n            <ErrorMessageText>\n              {text && <p>{text}</p>}\n              {dedupApiErrors &&\n                isArray(dedupApiErrors) &&\n                !isEmpty(dedupApiErrors) && (\n                  <ErrorList>\n                    {dedupApiErrors.map((error, index) => {\n                      // If we have multiple possible errors for a certain input field,\n                      // we can 'group' them in the messages.js file using the fieldName as a prefix\n                      // Check the implementation of findMessage for details\n                      const errorMessage = this.findMessage(\n                        fieldName,\n                        error.error\n                      );\n\n                      if (errorMessage) {\n                        // Variables for inside messages.js\n                        const payload = error?.payload ?? null;\n                        const value = error?.value ?? null;\n                        const row = error?.row ?? null;\n                        const rows = error?.rows ?? null;\n\n                        let values = {\n                          row: <strong>{row}</strong>,\n                          rows: rows ? (\n                            <strong>{rows.join(', ')}</strong>\n                          ) : null,\n                          // eslint-disable-next-line react/no-unescaped-entities\n                          value: <strong>'{value}'</strong>,\n                        };\n\n                        values = payload ? { ...payload, ...values } : values;\n\n                        if (value || row || rows) {\n                          return (\n                            <ErrorListItem key={index}>\n                              {dedupApiErrors.length > 1 && (\n                                <Bullet aria-hidden></Bullet>\n                              )}\n\n                              <FormattedMessage\n                                {...errorMessage}\n                                values={values}\n                              />\n                            </ErrorListItem>\n                          );\n                        }\n\n                        return (\n                          <ErrorListItem key={index}>\n                            {dedupApiErrors.length > 1 && (\n                              <Bullet aria-hidden></Bullet>\n                            )}\n                            <FormattedMessage\n                              {...errorMessage}\n                              values={{\n                                ideasCount: (error as CLError).ideas_count,\n                              }}\n                            />\n                          </ErrorListItem>\n                        );\n                      }\n\n                      return null;\n                    })}\n                  </ErrorList>\n                )}\n            </ErrorMessageText>\n          </ContainerInner>\n        </Container>\n      </CSSTransition>\n    );\n  }\n}\n","import React, { memo } from 'react';\n\n// components\nimport { EventDateBlockWrapper, EventDateBlockLabel } from './styling';\nimport DateBlockSingleYear from './DateBlockSingleYear';\n\n// i18n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from '../messages';\n\n// styling\nimport styled from 'styled-components';\n\nconst FirstDateBlockWrapper = styled.div`\n  margin-bottom: 17px;\n`;\n\ninterface Props {\n  startAtDay: string;\n  endAtDay: string;\n  startAtMonth: string;\n  endAtMonth: string;\n  startAtYear: string;\n  endAtYear: string;\n}\n\nexport default memo<Props>((props) => {\n  const {\n    startAtDay,\n    endAtDay,\n    startAtMonth,\n    endAtMonth,\n    startAtYear,\n    endAtYear,\n  } = props;\n\n  return (\n    <EventDateBlockWrapper>\n      <FirstDateBlockWrapper>\n        <EventDateBlockLabel>\n          <FormattedMessage {...messages.startsAt} />\n        </EventDateBlockLabel>\n\n        <DateBlockSingleYear\n          startAtDay={startAtDay}\n          startAtMonth={startAtMonth}\n          startAtYear={startAtYear}\n        />\n      </FirstDateBlockWrapper>\n\n      <EventDateBlockLabel>\n        <FormattedMessage {...messages.endsAt} />\n      </EventDateBlockLabel>\n\n      <DateBlockSingleYear\n        startAtDay={endAtDay}\n        startAtMonth={endAtMonth}\n        startAtYear={endAtYear}\n      />\n    </EventDateBlockWrapper>\n  );\n});\n","/*\n * AdminPage.DashboardPage Messages\n *\n * This contains all the text for the AdminPage.DashboardPage component.\n */\nimport { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  // Index\n  tabSummary: {\n    id: 'app.containers.AdminPage.DashboardPage.tabSummary',\n    defaultMessage: 'Summary',\n  },\n  tabUsers: {\n    id: 'app.containers.AdminPage.DashboardPage.tabUsers',\n    defaultMessage: 'Users',\n  },\n  tabReports: {\n    id: 'app.containers.AdminPage.DashboardPage.tabReports',\n    defaultMessage: 'Reports',\n  },\n  helmetTitle: {\n    id: 'app.containers.AdminPage.DashboardPage.helmetTitle',\n    defaultMessage: 'Admin dashboard page',\n  },\n  helmetDescription: {\n    id: 'app.containers.AdminPage.DashboardPage.helmetDescription',\n    defaultMessage: 'Dashboard for activities on the platform',\n  },\n  // All tabs\n  day: {\n    id: 'app.containers.AdminPage.DashboardPage.day',\n    defaultMessage: 'day',\n  },\n  week: {\n    id: 'app.containers.AdminPage.DashboardPage.week',\n    defaultMessage: 'week',\n  },\n  month: {\n    id: 'app.containers.AdminPage.DashboardPage.month',\n    defaultMessage: 'month',\n  },\n  users: {\n    id: 'app.containers.AdminPage.DashboardPage.users',\n    defaultMessage: 'Users',\n  },\n  inputs: {\n    id: 'app.containers.AdminPage.DashboardPage.inputs',\n    defaultMessage: 'Inputs',\n  },\n  votes: {\n    id: 'app.containers.AdminPage.DashboardPage.votes',\n    defaultMessage: 'Votes',\n  },\n  fiveInputsWithMostVotes: {\n    id: 'app.containers.AdminPage.DashboardPage.fiveInputsWithMostVotes',\n    defaultMessage: 'Top 5 inputs by votes',\n  },\n  comments: {\n    id: 'app.containers.AdminPage.DashboardPage.comments',\n    defaultMessage: 'Comments',\n  },\n  noData: {\n    id: 'app.containers.AdminPage.DashboardPage.noData',\n    defaultMessage: 'No data available with the current filters.',\n  },\n  // Filter Controls\n  allGroups: {\n    id: 'app.containers.AdminPage.DashboardPage.allGroups',\n    defaultMessage: 'All Groups',\n  },\n  hiddenLabelGroupFilter: {\n    id: 'app.containers.AdminPage.DashboardPage.hiddenLabelGroupFilter',\n    defaultMessage: 'Pick group filter',\n  },\n  allProjects: {\n    id: 'app.containers.AdminPage.DashboardPage.allProjects',\n    defaultMessage: 'All Projects',\n  },\n  hiddenLabelProjectFilter: {\n    id: 'app.containers.AdminPage.DashboardPage.hiddenLabelProjectFilter',\n    defaultMessage: 'Pick project filter',\n  },\n  allTopics: {\n    id: 'app.containers.AdminPage.DashboardPage.allTopics',\n    defaultMessage: 'All Topics',\n  },\n  hiddenLabelTopicFilter: {\n    id: 'app.containers.AdminPage.DashboardPage.hiddenLabelTopicFilter',\n    defaultMessage: 'Pick topic filter',\n  },\n  // Time and Resolution Controls\n  customDateRange: {\n    id: 'app.containers.AdminPage.DashboardPage.customDateRange',\n    defaultMessage: 'Custom',\n  },\n  previous30Days: {\n    id: 'app.containers.AdminPage.DashboardPage.previous30Days',\n    defaultMessage: 'Previous 30 days',\n  },\n  previousWeek: {\n    id: 'app.containers.AdminPage.DashboardPage.previousWeek',\n    defaultMessage: 'Previous week',\n  },\n  previous90Days: {\n    id: 'app.containers.AdminPage.DashboardPage.previous90Days',\n    defaultMessage: 'Previous 90 days',\n  },\n  previousYear: {\n    id: 'app.containers.AdminPage.DashboardPage.previousYear',\n    defaultMessage: 'Previous year',\n  },\n  allTime: {\n    id: 'app.containers.AdminPage.DashboardPage.allTime',\n    defaultMessage: 'All Time',\n  },\n  // Summary Graphs\n  usersByTimeTitle: {\n    id: 'app.containers.AdminPage.DashboardPage.usersByTimeTitle',\n    defaultMessage: 'Users',\n  },\n  activeUsers: {\n    id: 'app.containers.AdminPage.DashboardPage.activeUsers',\n    defaultMessage: 'Active users',\n  },\n  activeUsersByTimeTitle: {\n    id: 'app.containers.AdminPage.DashboardPage.activeUsersByTimeTitle',\n    defaultMessage: 'Active users',\n  },\n  numberOfActiveParticipantsDescription: {\n    id:\n      'app.containers.AdminPage.DashboardPage.numberOfActiveParticipantsDescription',\n    defaultMessage:\n      'The number of participants that posted inputs, voted or commented.',\n  },\n  inputsByStatusTitle: {\n    id: 'app.containers.AdminPage.DashboardPage.inputsByStatusTitle',\n    defaultMessage: 'Inputs by status',\n  },\n  commentsByTimeTitle: {\n    id: 'app.containers.AdminPage.DashboardPage.commentsByTimeTitle',\n    defaultMessage: 'Comments',\n  },\n  numberOfVotesUp: {\n    id: 'app.containers.AdminPage.DashboardPage.numberOfVotesUp',\n    defaultMessage: 'Upvotes',\n  },\n  numberOfVotesDown: {\n    id: 'app.containers.AdminPage.DashboardPage.numberOfVotesDown',\n    defaultMessage: 'Downvotes',\n  },\n  numberOfVotesTotal: {\n    id: 'app.containers.AdminPage.DashboardPage.numberOfVotesTotal',\n    defaultMessage: 'Total votes',\n  },\n  cumulatedTotal: {\n    id: 'app.containers.AdminPage.DashboardPage.cumulatedTotal',\n    defaultMessage: 'Cumulated Total',\n  },\n  total: {\n    id: 'app.containers.AdminPage.DashboardPage.total',\n    defaultMessage: 'Total',\n  },\n  totalForPeriod: {\n    id: 'app.containers.AdminPage.DashboardPage.totalForPeriod',\n    defaultMessage: 'This {period}',\n  },\n  perPeriod: {\n    id: 'app.containers.AdminPage.DashboardPage.perPeriod',\n    defaultMessage: 'Per {period}',\n  },\n  participationPerProject: {\n    id: 'app.containers.AdminPage.DashboardPage.participationPerProject',\n    defaultMessage: 'Participation per project',\n  },\n  hiddenLabelPickResourceByProject: {\n    id:\n      'app.containers.AdminPage.DashboardPage.hiddenLabelPickResourceByProject',\n    defaultMessage: 'Pick resource to show by project',\n  },\n  selectedProject: {\n    id: 'app.containers.AdminPage.DashboardPage.selectedProject',\n    defaultMessage: 'current project filter',\n  },\n  participationPerTopic: {\n    id: 'app.containers.AdminPage.DashboardPage.participationPerTopic',\n    defaultMessage: 'Participation per topic',\n  },\n  hiddenLabelPickResourceByTopic: {\n    id: 'app.containers.AdminPage.DashboardPage.hiddenLabelPickResourceByTopic',\n    defaultMessage: 'Pick resource to show by topic',\n  },\n  selectedTopic: {\n    id: 'app.containers.AdminPage.DashboardPage.selectedTopic',\n    defaultMessage: 'current topic filter',\n  },\n  totalCount: {\n    id: 'app.containers.AdminPage.DashboardPage.totalCount',\n    defaultMessage:\n      '{selectedResourceName} total in {selectedName} : {selectedCount}',\n  },\n  resourceByDifference: {\n    id: 'app.containers.AdminPage.DashboardPage.resourceByDifference',\n    defaultMessage: '{selectedResourceName} difference with {selectedName}',\n  },\n  // Users Charts\n  usersByAgeTitle: {\n    id: 'app.containers.AdminPage.DashboardPage.usersByAgeTitle',\n    defaultMessage: 'Users by age',\n  },\n  usersByDomicileTitle: {\n    id: 'app.containers.AdminPage.DashboardPage.usersByDomicileTitle',\n    defaultMessage: 'Users by domicile',\n  },\n  usersByGenderTitle: {\n    id: 'app.containers.AdminPage.DashboardPage.usersByGenderTitle',\n    defaultMessage: 'Users by gender',\n  },\n  male: {\n    id: 'app.containers.AdminPage.DashboardPage.male',\n    defaultMessage: 'male',\n  },\n  female: {\n    id: 'app.containers.AdminPage.DashboardPage.female',\n    defaultMessage: 'female',\n  },\n  unspecified: {\n    id: 'app.containers.AdminPage.DashboardPage.unspecified',\n    defaultMessage: 'unspecified',\n  },\n  _blank: {\n    id: 'app.containers.AdminPage.DashboardPage._blank',\n    defaultMessage: 'unknown',\n  },\n  true: {\n    id: 'app.containers.AdminPage.DashboardPage.true',\n    defaultMessage: 'true',\n  },\n  false: {\n    id: 'app.containers.AdminPage.DashboardPage.false',\n    defaultMessage: 'false',\n  },\n  otherArea: {\n    id: 'app.containers.AdminPage.DashboardPage.otherArea',\n    defaultMessage: 'Other',\n  },\n  mostActiveUsersRankingDescription: {\n    id:\n      'app.containers.AdminPage.DashboardPage.mostActiveUsersRankingDescription',\n    defaultMessage:\n      'The ranking is based on the number of inputs (5 points per input), comments (3 points per comment) and votes (1 point per vote) submitted by each participant.',\n  },\n  mostActiveUsers: {\n    id: 'app.containers.AdminPage.DashboardPage.mostActiveUsers',\n    defaultMessage: 'Most active users',\n  },\n  deletedUser: {\n    id: 'app.containers.AdminPage.DashboardPage.deletedUser',\n    defaultMessage: 'Deleted user',\n  },\n  subtitleDashboard: {\n    id: 'app.containers.AdminPage.DashboardPage.subtitleDashboard',\n    defaultMessage:\n      'Get immediate and easy-to-grasp analytics into whats moving on the platform.',\n  },\n  titleDashboard: {\n    id: 'app.containers.AdminPage.DashboardPage.titleDashboard',\n    defaultMessage: 'Dashboard',\n  },\n  participants: {\n    id: 'app.containers.AdminPage.DashboardPage.Report.participants',\n    defaultMessage: 'participants',\n  },\n  totalUsers: {\n    id: 'app.containers.AdminPage.DashboardPage.Report.totalUsers',\n    defaultMessage: 'total users on the platform',\n  },\n  timelineType: {\n    id: 'app.containers.AdminPage.DashboardPage.timelineType',\n    defaultMessage: 'Timeline',\n  },\n  continuousType: {\n    id: 'app.containers.AdminPage.DashboardPage.continuousType',\n    defaultMessage: 'Continuous',\n  },\n  projectType: {\n    id: 'app.containers.AdminPage.DashboardPage.projectType',\n    defaultMessage: 'Project type : {projectType}',\n  },\n  fromTo: {\n    id: 'app.containers.AdminPage.DashboardPage.fromTo',\n    defaultMessage: 'from {from} to {to}',\n  },\n  noPhase: {\n    id: 'app.containers.AdminPage.DashboardPage.noPhase',\n    defaultMessage: 'No phase created for this project',\n  },\n  customFieldTitleExport: {\n    id: 'app.containers.AdminPage.ReportsTab.customFieldTitleExport',\n    defaultMessage: '{fieldName}_repartition',\n  },\n});\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  add: {\n    id: 'app.containers.AdminPage.groups.permissions.add',\n    defaultMessage: 'Add',\n  },\n  groupsMultipleSelectPlaceholder: {\n    id:\n      'app.containers.AdminPage.groups.permissions.groupsMultipleSelectPlaceholder',\n    defaultMessage: 'Select one or more groups',\n  },\n  members: {\n    id: 'app.containers.AdminPage.groups.permissions.members',\n    defaultMessage:\n      '{count, plural, =0 {No members} one {1 member} other {{count} members}}',\n  },\n  deleteButtonLabel: {\n    id: 'app.containers.AdminPage.groups.permissions.deleteButtonLabel',\n    defaultMessage: 'Delete',\n  },\n  groupDeletionConfirmation: {\n    id: 'app.containers.AdminPage.groups.permissions.groupDeletionConfirmation',\n    defaultMessage:\n      'Are you sure you want to remove this group from the project?',\n  },\n  permissionsTab: {\n    id: 'app.containers.AdminPage.ProjectEdit.permissionsTab',\n    defaultMessage: 'Access rights',\n  },\n});\n","import React, { memo, useCallback, useState } from 'react';\n\n// hooks\nimport useLocalize from 'hooks/useLocalize';\nimport useGraphqlTenantLocales from 'hooks/useGraphqlTenantLocales';\n\n// graphql\nimport { gql, useQuery } from '@apollo/client';\nimport { client } from '../../utils/apolloUtils';\n\n// components\nimport FilterSelector, {\n  IFilterSelectorValue,\n} from 'components/FilterSelector';\n\n// i18n\nimport { injectIntl } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\nimport messages from './messages';\n\ninterface Props {\n  onChange: (value: string[]) => void;\n}\n\nconst DepartmentFilter = memo<Props & InjectedIntlProps>(\n  ({ intl: { formatMessage }, onChange }) => {\n    const localize = useLocalize();\n    const graphqlTenantLocales = useGraphqlTenantLocales();\n\n    const DEPARTMENTS_QUERY = gql`\n    {\n      departments {\n        nodes {\n          id\n          titleMultiloc {\n            ${graphqlTenantLocales}\n          }\n        }\n      }\n    }\n  `;\n\n    const [selectedValues, setSelectedValues] = useState<string[]>([]);\n\n    const { data } = useQuery(DEPARTMENTS_QUERY, { client });\n\n    let options: IFilterSelectorValue[] = [];\n\n    if (data) {\n      options = data.departments.nodes.map((node) => ({\n        value: node.id,\n        text: localize(node.titleMultiloc),\n      }));\n    }\n\n    const handleOnChange = useCallback((selectedValues: string[]) => {\n      setSelectedValues(selectedValues);\n      onChange(selectedValues);\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    return (\n      <FilterSelector\n        title={formatMessage(messages.departments)}\n        name={formatMessage(messages.departments)}\n        selected={selectedValues}\n        values={options}\n        onChange={handleOnChange}\n        multipleSelectionAllowed={true}\n        last={false}\n        left=\"-5px\"\n        mobileLeft=\"-5px\"\n      />\n    );\n  }\n);\n\nexport default injectIntl(DepartmentFilter);\n","import React from 'react';\n\n// components\nimport VerticalCenterer from 'components/VerticalCenterer';\n\n// i18n\nimport { FormattedMessage, MessageDescriptor } from 'utils/cl-intl';\n\n// style\nimport styled from 'styled-components';\nimport { fontSizes, colors } from 'utils/styleUtils';\n\nconst Container = styled(VerticalCenterer)`\n  font-size: ${fontSizes.large}px;\n  color: ${colors.label};\n`;\n\ninterface Props {\n  className?: string;\n  message: MessageDescriptor;\n}\n\nconst ProjectNotFound = ({ className, message }: Props) => (\n  <Container className={className || ''}>\n    <FormattedMessage {...message} />\n  </Container>\n);\n\nexport default ProjectNotFound;\n","import { API_PATH } from 'containers/App/constants';\nimport streams from 'utils/streams';\nimport { IRelationship } from 'typings';\n\n// To keep in sync with spam report reason codes\n// Flags can't have the reason_code 'other' however\ntype TReasonCode = 'inappropriate' | 'wrong_content';\n\nexport interface IInappropriateContentFlagData {\n  id: string;\n  type: string;\n  attributes: {\n    // We want to keep the flag alive to potentially re-add it.\n    // Therefore, to mark a \"removed\" flag in the front-end,\n    // we check if the reason_code is set to null,\n    // which is what happens when removeInappropriateContentFlag below is called\n    // Note: if an item is flagged only by NLP and not by a user,\n    // the reason_code will be 'inappropriate'\n    reason_code: TReasonCode | null;\n    deleted_at: string | null;\n    toxicity_label: string | null;\n  };\n  relationships: {\n    flaggable: {\n      data: IRelationship;\n    };\n  };\n}\n\nexport interface IInappropriateContentFlag {\n  data: IInappropriateContentFlagData;\n}\n\nconst apiEndpoint = `${API_PATH}/inappropriate_content_flags`;\n\nexport async function removeInappropriateContentFlag(flagId: string) {\n  const response = streams.update(\n    `${apiEndpoint}/${flagId}/mark_as_deleted`,\n    flagId,\n    {}\n  );\n\n  await streams.fetchAllWith({\n    apiEndpoint: [\n      apiEndpoint,\n      `${API_PATH}/moderations`,\n      `${API_PATH}/moderations/moderations_count`,\n    ],\n  });\n\n  return response;\n}\n\nexport function inappropriateContentFlagByIdStream(flagId: string) {\n  return streams.get<IInappropriateContentFlag>({\n    apiEndpoint: `${apiEndpoint}/${flagId}`,\n  });\n}\n","import React from 'react';\nimport { Subscription, BehaviorSubject } from 'rxjs';\nimport { distinctUntilChanged, switchMap, filter } from 'rxjs/operators';\nimport shallowCompare from 'utils/shallowCompare';\nimport { ICommentData, commentStream } from 'services/comments';\nimport { isString } from 'lodash-es';\nimport { isNilOrError } from 'utils/helperUtils';\n\ninterface InputProps {\n  id?: string | null;\n}\n\ntype children = (renderProps: GetCommentChildProps) => JSX.Element | null;\n\ninterface Props extends InputProps {\n  children?: children;\n}\n\ninterface State {\n  comment: ICommentData | undefined | null | Error;\n}\n\nexport type GetCommentChildProps = ICommentData | undefined | null | Error;\n\nexport default class GetComment extends React.Component<Props, State> {\n  private inputProps$: BehaviorSubject<InputProps>;\n  private subscriptions: Subscription[];\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      comment: undefined,\n    };\n  }\n\n  componentDidMount() {\n    const { id } = this.props;\n\n    this.inputProps$ = new BehaviorSubject({ id });\n\n    this.subscriptions = [\n      this.inputProps$\n        .pipe(\n          distinctUntilChanged((prev, next) => shallowCompare(prev, next)),\n          filter(({ id }) => isString(id)),\n          switchMap(({ id }: { id: string }) => commentStream(id).observable)\n        )\n        .subscribe((comment) =>\n          this.setState({\n            comment: !isNilOrError(comment) ? comment.data : comment,\n          })\n        ),\n    ];\n  }\n\n  componentDidUpdate() {\n    const { id } = this.props;\n    this.inputProps$.next({ id });\n  }\n\n  componentWillUnmount() {\n    this.subscriptions.forEach((subscription) => subscription.unsubscribe());\n  }\n\n  render() {\n    const { children } = this.props;\n    const { comment } = this.state;\n    return (children as children)(comment);\n  }\n}\n","import React, { PureComponent } from 'react';\nimport styled from 'styled-components';\nimport { darken } from 'polished';\nimport { Icon, IconNames } from 'cl2-component-library';\nimport { colors, fontSizes, isRtl } from 'utils/styleUtils';\nimport { isPage } from 'utils/helperUtils';\n\nconst Container = styled.div`\n  display: flex;\n  align-items: center;\n  padding: 14px;\n  border-radius: ${(props: any) => props.theme.borderRadius};\n  background: ${colors.clBlueDarkBg};\n\n  ${isRtl`\n    flex-direction: row-reverse;\n  `}\n\n  &.adminPage {\n    padding: 12px;\n  }\n`;\n\nconst StyledIcon = styled(Icon)`\n  flex: 0 0 20px;\n  width: 20px;\n  height: 20px;\n  fill: ${colors.clBlueDarker};\n  padding: 0px;\n  margin: 0px;\n  margin-right: 10px;\n\n  ${isRtl`\n    margin-right: 0;\n    margin-left: 10px;\n  `}\n`;\n\nconst Text = styled.div`\n  color: ${colors.clBlueDarker};\n  font-size: ${fontSizes.base}px;\n  line-height: normal;\n  font-weight: 400;\n\n  a,\n  button {\n    color: ${colors.clBlueDarker};\n    font-weight: 400;\n    text-decoration: underline;\n    display: inline-block;\n    padding: 0;\n    margin: 0;\n    border: none;\n    cursor: pointer;\n    outline: none;\n    transition: all 100ms ease-out;\n\n    &.focus-visible {\n      outline: solid 2px #000;\n    }\n\n    &:hover {\n      color: ${darken(0.15, colors.clBlueDarker)};\n      text-decoration: underline;\n    }\n  }\n\n  strong {\n    font-weight: 600;\n  }\n`;\n\ninterface Props {\n  text?: string | JSX.Element;\n  children?: string | JSX.Element;\n  icon?: IconNames;\n}\n\nexport default class Warning extends PureComponent<Props> {\n  render() {\n    const className = this.props['className'];\n    const { text, children, icon } = this.props;\n    const adminPage = isPage('admin', location.pathname);\n\n    return (\n      <Container\n        className={`${className || ''} ${adminPage ? 'adminPage' : ''}`}\n      >\n        <StyledIcon name={icon || 'info'} />\n        <Text>{text || children}</Text>\n      </Container>\n    );\n  }\n}\n","export default function shallowCompare(a, b) {\n  for (const key in a) {\n    if (!(key in b) || a[key] !== b[key]) {\n      return false;\n    }\n  }\n\n  for (const key in b) {\n    if (!(key in a) || b[key] !== a[key]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n","import React from 'react';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { IInitiativeAssignedToYouNotificationData } from 'services/notifications';\n\n// i18n\nimport messages from '../../messages';\nimport { FormattedMessage } from 'utils/cl-intl';\n\n// components\nimport NotificationWrapper from '../NotificationWrapper';\nimport Link from 'utils/cl-router/Link';\nimport T from 'components/T';\n\ntype Props = {\n  notification: IInitiativeAssignedToYouNotificationData;\n};\n\ninterface State {}\n\nexport default class InitiativeAssignedToYouNotification extends React.PureComponent<\n  Props,\n  State\n> {\n  onClickUserName = (event) => {\n    event.stopPropagation();\n  };\n\n  getNotificationMessage = (): JSX.Element => {\n    const { notification } = this.props;\n    const sharedValues = {\n      postTitle: <T value={notification.attributes.post_title_multiloc} />,\n    };\n\n    if (isNilOrError(notification.attributes.initiating_user_slug)) {\n      return (\n        <FormattedMessage\n          {...messages.postAssignedToYou}\n          values={{\n            ...sharedValues,\n          }}\n        />\n      );\n    } else {\n      return (\n        <FormattedMessage\n          {...messages.xAssignedPostToYou}\n          values={{\n            ...sharedValues,\n            name: (\n              <Link\n                to={`/profile/${notification.attributes.initiating_user_slug}`}\n                onClick={this.onClickUserName}\n              >\n                {notification.attributes.initiating_user_first_name}\n              </Link>\n            ),\n          }}\n        />\n      );\n    }\n  };\n\n  render() {\n    const { notification } = this.props;\n\n    return (\n      <NotificationWrapper\n        linkTo={'/admin/initiatives/manage'}\n        timing={notification.attributes.created_at}\n        icon=\"initiative\"\n        isRead={!!notification.attributes.read_at}\n      >\n        {this.getNotificationMessage()}\n      </NotificationWrapper>\n    );\n  }\n}\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  smartGroupsAvailability: {\n    id: 'app.containers.AdminPage.Users.UsersGroup.smartGroupsAvailability',\n    defaultMessage:\n      'Smart groups are available on the Standard and Premium plans.',\n  },\n  learnMorePlans: {\n    id: 'app.containers.AdminPage.Users.UsersGroup.learnMorePlans',\n    defaultMessage: 'Learn more about our plans',\n  },\n});\n","import React, { memo, useCallback, useState, useEffect } from 'react';\nimport CSSTransition from 'react-transition-group/CSSTransition';\n\n// components\nimport Button from 'components/UI/Button';\nimport Consent from 'components/SignUpIn/SignUp/Consent';\n\n// i18n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from './messages';\n\n// analytics\nimport { trackEventByName } from 'utils/analytics';\nimport tracks from 'components/SignUpIn/tracks';\n\n// styling\nimport styled from 'styled-components';\nimport { darken } from 'polished';\nimport { colors } from 'utils/styleUtils';\n\n// typings\nimport { TSignUpInFlow } from 'components/SignUpIn';\nimport { AuthProvider } from './AuthProviders';\n\nconst timeout = 300;\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  border-radius: ${(props: any) => props.theme.borderRadius};\n  border: solid 1px #ccc;\n  box-shadow: 0px 2px 2px 0px rgba(0, 0, 0, 0.05);\n  background: #fff;\n  transition: all 100ms ease-out;\n\n  &:hover {\n    border-color: ${darken(0.3, '#ccc')};\n    box-shadow: 0px 2px 2px 0px rgba(0, 0, 0, 0.1);\n  }\n`;\n\nconst ConsentWrapper = styled.div`\n  opacity: 0;\n  max-height: 0px;\n  overflow: hidden;\n  background: transparent;\n  transition: all ${timeout}ms cubic-bezier(0.165, 0.84, 0.44, 1);\n\n  &.consent-enter {\n    opacity: 0;\n    max-height: 0px;\n    overflow: hidden;\n\n    &.consent-enter-active {\n      opacity: 1;\n      max-height: 300px;\n      overflow: hidden;\n    }\n  }\n\n  &.consent-enter-done {\n    opacity: 1;\n    max-height: none;\n    overflow: visible;\n  }\n\n  &.consent-exit {\n    opacity: 1;\n    max-height: 300px;\n    overflow: hidden;\n\n    &.consent-exit-active {\n      opacity: 0;\n      max-height: 0px;\n      overflow: hidden;\n    }\n  }\n\n  &.consent-exit-done {\n    opacity: 0;\n    max-height: 0px;\n    overflow: hidden;\n  }\n`;\n\nconst ConsentWrapperInner = styled.div`\n  display: flex;\n  flex-direction: column;\n  padding: 20px;\n`;\n\nconst ButtonWrapper = styled.div`\n  display: flex;\n  padding-top: 20px;\n`;\n\nconst ContinueButton = styled(Button)``;\n\ninterface Props {\n  id?: string;\n  flow: TSignUpInFlow;\n  authProvider: AuthProvider;\n  className?: string;\n  onContinue: (authProvider: AuthProvider) => void;\n  children: React.ReactNode;\n}\n\nconst AuthProviderButton = memo<Props>(\n  ({ flow, authProvider, className, onContinue, children, id }) => {\n    const [expanded, setExpanded] = useState(false);\n    const [tacAccepted, setTacAccepted] = useState(false);\n    const [tacError, setTacError] = useState(false);\n    const [privacyAccepted, setPrivacyAccepted] = useState(false);\n    const [privacyError, setPrivacyError] = useState(false);\n\n    useEffect(() => {\n      // reset\n      setTacAccepted(false);\n      setTacError(false);\n      setPrivacyAccepted(false);\n      setPrivacyError(false);\n    }, [expanded]);\n\n    const handleExpandButtonClicked = useCallback(\n      (event: React.FormEvent) => {\n        event.preventDefault();\n\n        if (flow === 'signup' && authProvider !== 'email') {\n          setExpanded((prevExpanded) => !prevExpanded);\n        } else {\n          trackEventByName(tracks.signInWithSSOClicked, { authProvider });\n          onContinue(authProvider);\n        }\n      },\n      [flow, authProvider, onContinue]\n    );\n\n    const handleContinueClicked = useCallback(() => {\n      if (!tacAccepted) {\n        setTacError(true);\n      }\n\n      if (!privacyAccepted) {\n        setPrivacyError(true);\n      }\n\n      if (tacAccepted && privacyAccepted) {\n        trackEventByName(tracks.signUpWithSSOClicked, { authProvider });\n        onContinue(authProvider);\n      }\n    }, [authProvider, onContinue, tacAccepted, privacyAccepted]);\n\n    const handleTacAcceptedChange = useCallback((tacAccepted: boolean) => {\n      setTacAccepted(tacAccepted);\n      setTacError(false);\n    }, []);\n\n    const handlePrivacyAcceptedChange = useCallback(\n      (privacyAccepted: boolean) => {\n        setPrivacyAccepted(privacyAccepted);\n        setPrivacyError(false);\n      },\n      []\n    );\n\n    return (\n      <Container className={className} id={id}>\n        <Button\n          icon={authProvider as any}\n          iconSize=\"22px\"\n          iconColor={\n            authProvider === 'facebook' ? colors.facebook : colors.text\n          }\n          buttonStyle=\"white\"\n          fullWidth={true}\n          justify=\"left\"\n          whiteSpace=\"wrap\"\n          onClick={handleExpandButtonClicked}\n          padding=\"10px 18px\"\n        >\n          {children}\n        </Button>\n\n        {flow === 'signup' && (\n          <CSSTransition\n            classNames=\"consent\"\n            in={expanded}\n            timeout={timeout}\n            mounOnEnter={true}\n            unmountOnExit={true}\n            enter={true}\n            exit={true}\n          >\n            <ConsentWrapper>\n              <ConsentWrapperInner>\n                <Consent\n                  tacError={tacError}\n                  privacyError={privacyError}\n                  onTacAcceptedChange={handleTacAcceptedChange}\n                  onPrivacyAcceptedChange={handlePrivacyAcceptedChange}\n                />\n                <ButtonWrapper>\n                  <ContinueButton\n                    onClick={handleContinueClicked}\n                    disabled={!(tacAccepted && privacyAccepted)}\n                  >\n                    <FormattedMessage {...messages.continue} />\n                  </ContinueButton>\n                </ButtonWrapper>\n              </ConsentWrapperInner>\n            </ConsentWrapper>\n          </CSSTransition>\n        )}\n      </Container>\n    );\n  }\n);\n\nexport default AuthProviderButton;\n","import styled from 'styled-components';\nimport { fontSizes } from 'utils/styleUtils';\n\nexport const Item = styled.div<{ compact?: boolean }>`\n  padding-top: 18px;\n  padding-bottom: 20px;\n  border-top: solid 1px #ccc;\n\n  &.first {\n    border-top: none;\n  }\n\n  ${({ compact }) =>\n    compact &&\n    `\n      padding-top: 12px;\n      padding-bottom: 17px;\n  `};\n`;\n\nexport const Header = styled.h3`\n  font-size: ${fontSizes.base}px;\n  font-weight: 500;\n  color: ${(props) => props.theme.colorText};\n  padding: 0;\n  margin: 0;\n  margin-bottom: 12px;\n`;\n","import { useState, useEffect } from 'react';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { getPageNumberFromUrl } from 'utils/paginationUtils';\nimport { IEventData, eventsStream, IEventsStreamParams } from 'services/events';\n\ntype sort = 'newest' | 'oldest';\n\ninterface InputParameters {\n  projectIds?: string[];\n  futureOnly?: boolean;\n  pastOnly?: boolean;\n  currentPage?: number;\n  pageSize?: number;\n  sort?: sort;\n  projectPublicationStatuses?: string[];\n}\n\nconst DEFAULT_PAGE_SIZE = 10;\n\nconst getStart = (event: IEventData) => event.attributes.start_at;\n\nconst sortEvents = (_events: IEventData[], sort: sort) => {\n  const events = [..._events]; // _events is immutable\n\n  return sort === 'newest'\n    ? events.sort((a, b) => (getStart(a) < getStart(b) ? 1 : -1))\n    : events.sort((a, b) => (getStart(b) < getStart(a) ? 1 : -1));\n};\n\nexport default function useEvents(parameters: InputParameters) {\n  const [events, setEvents] = useState<IEventData[] | undefined | null | Error>(\n    undefined\n  );\n  const [projectIds, setProjectIds] = useState<string[]>(\n    parameters.projectIds ?? []\n  );\n  const [currentPage, setCurrentPage] = useState<number>(\n    parameters.currentPage ?? 1\n  );\n  const [lastPage, setLastPage] = useState(1);\n  const [pageSize] = useState(parameters.pageSize ?? DEFAULT_PAGE_SIZE);\n\n  const onProjectIdsChange = (projectIds: string[]) => {\n    setProjectIds([...projectIds]);\n  };\n\n  const onCurrentPageChange = (newPage: number) => {\n    setCurrentPage(newPage);\n  };\n\n  useEffect(() => {\n    setEvents(undefined);\n\n    const streamParams: IEventsStreamParams = {\n      queryParameters: { project_ids: projectIds },\n    };\n\n    if (parameters.projectPublicationStatuses) {\n      streamParams.queryParameters.project_publication_statuses =\n        parameters.projectPublicationStatuses;\n    }\n\n    if (parameters.futureOnly) {\n      streamParams.queryParameters.start_at_gteq = new Date().toJSON();\n    }\n\n    if (parameters.pastOnly) {\n      streamParams.queryParameters.start_at_lt = new Date().toJSON();\n    }\n\n    if (currentPage) {\n      streamParams.queryParameters['page[number]'] = currentPage;\n    }\n\n    if (pageSize) {\n      streamParams.queryParameters['page[size]'] = pageSize;\n    }\n\n    const subscription = eventsStream(streamParams).observable.subscribe(\n      (response) => {\n        if (isNilOrError(response)) {\n          setEvents(response);\n          setLastPage(1);\n          return;\n        }\n\n        const lastPageNumber = getPageNumberFromUrl(response.links?.last) ?? 1;\n\n        setEvents(sortEvents(response.data, parameters.sort ?? 'oldest'));\n        setLastPage(lastPageNumber);\n      }\n    );\n\n    return () => subscription.unsubscribe();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [\n    parameters.futureOnly,\n    parameters.pastOnly,\n    projectIds,\n    currentPage,\n    pageSize,\n  ]);\n\n  return {\n    events,\n    projectIds,\n    currentPage,\n    lastPage,\n    pageSize,\n    onProjectIdsChange,\n    onCurrentPageChange,\n  };\n}\n","export default {\n  clickShortFeedbackYes: 'Short feedback in footer answered: YES',\n  clickShortFeedbackNo: 'Short feedback in footer answered: NO',\n  sendShortFeedbackForm: 'Short feedback form answered',\n};\n","import React from 'react';\nimport { isString } from 'lodash-es';\nimport { Subscription, BehaviorSubject } from 'rxjs';\nimport { distinctUntilChanged, switchMap, filter } from 'rxjs/operators';\nimport shallowCompare from 'utils/shallowCompare';\nimport { isNilOrError } from 'utils/helperUtils';\nimport {\n  IPCPermissionData,\n  projectPermissions,\n} from 'services/actionPermissions';\n\ninterface InputProps {\n  projectId?: string | null;\n}\n\ntype children = (\n  renderProps: GetProjectPermissionsChildProps\n) => JSX.Element | null;\n\ninterface Props extends InputProps {\n  children?: children;\n}\n\ninterface State {\n  permissions: IPCPermissionData[] | undefined | null | Error;\n}\n\nexport type GetProjectPermissionsChildProps =\n  | IPCPermissionData[]\n  | undefined\n  | null\n  | Error;\n\nexport default class GetProjectPermissions extends React.Component<\n  Props,\n  State\n> {\n  private inputProps$: BehaviorSubject<InputProps>;\n  private subscriptions: Subscription[];\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      permissions: undefined,\n    };\n  }\n\n  componentDidMount() {\n    const { projectId } = this.props;\n\n    this.inputProps$ = new BehaviorSubject({ projectId });\n\n    this.subscriptions = [\n      this.inputProps$\n        .pipe(\n          distinctUntilChanged((prev, next) => shallowCompare(prev, next)),\n          filter(({ projectId }: { projectId: string }) => isString(projectId)),\n          switchMap(({ projectId }) => projectPermissions(projectId).observable)\n        )\n        .subscribe((permissions) => {\n          this.setState({\n            permissions: !isNilOrError(permissions)\n              ? permissions.data\n              : permissions,\n          });\n        }),\n    ];\n  }\n\n  componentDidUpdate() {\n    const { projectId } = this.props;\n    this.inputProps$.next({ projectId });\n  }\n\n  componentWillUnmount() {\n    this.subscriptions.forEach((subscription) => subscription.unsubscribe());\n  }\n\n  render() {\n    const { children } = this.props;\n    const { permissions } = this.state;\n    return (children as children)(permissions);\n  }\n}\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  confirmYourAccount: {\n    id: 'app.components.ConfirmationModal.confirmYourAccount',\n    defaultMessage: 'Confirm your Email Address',\n  },\n  anExampleCodeHasBeenSent: {\n    id: 'app.components.ConfirmationModal.anExampleCodeHasBeenSent',\n    defaultMessage:\n      'An email with a confirmation code has been sent to {userEmail}.',\n  },\n  pleaseInsertCodeHere: {\n    id: 'app.components.ConfirmationModal.pleaseInsertCodeHere',\n    defaultMessage: 'Please insert code here:',\n  },\n  close: {\n    id: 'app.components.ConfirmationModal.close',\n    defaultMessage: 'Close',\n  },\n  verifyAndContinue: {\n    id: 'app.components.ConfirmationModal.verifyAndContinue',\n    defaultMessage: 'Verify and Continue',\n  },\n  cancel: {\n    id: 'app.components.ConfirmationModal.cancel',\n    defaultMessage: 'Cancel',\n  },\n  wrongEmail: {\n    id: 'app.components.ConfirmationModal.wrongEmail',\n    defaultMessage: 'Wrong email?',\n  },\n  didntGetAnEmail: {\n    id: 'app.components.ConfirmationModal.didntGetAnEmail',\n    defaultMessage: \"Didn't receive an email?\",\n  },\n  changeYourEmail: {\n    id: 'app.components.ConfirmationModal.changeYourEmail',\n    defaultMessage: 'Change your email.',\n  },\n  sendNewCode: {\n    id: 'app.components.ConfirmationModal.sendNewCode',\n    defaultMessage: 'Send New Code.',\n  },\n  pleaseInsertYourNewEmail: {\n    id: 'app.components.ConfirmationModal.pleaseInsertYourNewEmail',\n    defaultMessage:\n      \"Please insert your new email. We'll send a new confirmation code to this address.\",\n  },\n  sendEmailWithCode: {\n    id: 'app.components.ConfirmationModal.sendEmailWithCode',\n    defaultMessage: 'Send Email with Code',\n  },\n  goBack: {\n    id: 'app.components.ConfirmationModal.goBack',\n    defaultMessage: 'Go back.',\n  },\n  foundYourCode: {\n    id: 'app.components.ConfirmationModal.foundYourCode',\n    defaultMessage: 'Found your code?',\n  },\n  emailPlaceholder: {\n    id: 'app.components.ConfirmationModal.emailPlaceholder',\n    defaultMessage: 'Insert your email here',\n  },\n  confirmationCodeSent: {\n    id: 'app.components.ConfirmationModal.confirmationCodeSent',\n    defaultMessage: 'New code sent',\n  },\n  insertYour4DigitCodeHere: {\n    id: 'app.components.ConfirmationModal.insertYour4DigitCodeHere',\n    defaultMessage: 'Insert your 4 digit code here.',\n  },\n  weAskEveryoneToConfirmTheirEmail: {\n    id: 'app.components.ConfirmationModal.weAskEveryoneToConfirmTheirEmail',\n    defaultMessage:\n      'We ask everyone to confirm their email address to help create a trusted community.',\n  },\n});\n","import React, { memo } from 'react';\nimport moment from 'moment';\n\n// components\nimport { EventDateBlockWrapper } from './styling';\nimport DateBlockSingleYear from './DateBlockSingleYear';\nimport DateBlocksMultiYear from './DateBlocksMultiYear';\n\n// styling\nimport styled from 'styled-components';\nimport { media } from 'utils/styleUtils';\n\nconst EventDateBlocks = styled.div`\n  flex: 0 0 75px;\n  width: 75px;\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n\n  ${media.smallerThanMinTablet`\n    flex: 0 0 60px;\n    width: 60x;\n  `}\n`;\n\ninterface Props {\n  startAtMoment: moment.Moment;\n  endAtMoment: moment.Moment;\n  isMultiDayEvent: boolean;\n}\n\nexport default memo<Props>(\n  ({ startAtMoment, endAtMoment, isMultiDayEvent }) => {\n    const startAtDay = startAtMoment.format('DD');\n    const endAtDay = endAtMoment.format('DD');\n    const startAtMonth = startAtMoment.format('MMM');\n    const endAtMonth = endAtMoment.format('MMM');\n    const startAtYear = startAtMoment.format('YYYY');\n    const endAtYear = endAtMoment.format('YYYY');\n\n    const isMultiYearEvent = startAtYear !== endAtYear;\n\n    return (\n      <EventDateBlocks aria-hidden>\n        {!isMultiYearEvent && (\n          <EventDateBlockWrapper>\n            <DateBlockSingleYear\n              startAtDay={startAtDay}\n              endAtDay={endAtDay}\n              startAtMonth={startAtMonth}\n              endAtMonth={endAtMonth}\n              startAtYear={startAtYear}\n              isMultiDayEvent={isMultiDayEvent}\n            />\n          </EventDateBlockWrapper>\n        )}\n\n        {isMultiYearEvent && (\n          <DateBlocksMultiYear\n            startAtDay={startAtDay}\n            endAtDay={endAtDay}\n            startAtMonth={startAtMonth}\n            endAtMonth={endAtMonth}\n            startAtYear={startAtYear}\n            endAtYear={endAtYear}\n          />\n        )}\n      </EventDateBlocks>\n    );\n  }\n);\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  overviewPageTitle: {\n    id: 'app.containers.AdminPage.ProjectDashboard.overviewPageTitle',\n    defaultMessage: 'Projects',\n  },\n  overviewPageSubtitle: {\n    id: 'app.containers.AdminPage.ProjectDashboard.overviewPageSubtitle',\n    defaultMessage:\n      'Create as many projects as you want and edit them at any time. Drag and drop them to change the order in which you want to see them on your homepage.',\n  },\n  overviewPageSubtitleModerator: {\n    id:\n      'app.containers.AdminPage.ProjectDashboard.overviewPageSubtitleModerator',\n    defaultMessage: 'Here are the projects on the platform you are moderating.',\n  },\n  createAProject: {\n    id: 'app.containers.AdminPage.ProjectEdit.createAProject',\n    defaultMessage: 'Create a project',\n  },\n  published: {\n    id: 'app.containers.AdminPage.ProjectDashboard.published',\n    defaultMessage: 'Published',\n  },\n  draft: {\n    id: 'app.containers.AdminPage.ProjectEdit.draft',\n    defaultMessage: 'Draft',\n  },\n  archived: {\n    id: 'app.containers.AdminPage.ProjectEdit.archived',\n    defaultMessage: 'Archived',\n  },\n  createAProjectFromATemplate: {\n    id: 'app.containers.AdminPage.ProjectEdit.createAProjectFromATemplate',\n    defaultMessage: 'Create a project from a template',\n  },\n  existingProjects: {\n    id: 'app.containers.AdminPage.projects.all.existingProjects',\n    defaultMessage: 'Existing projects',\n  },\n  fromScratch: {\n    id: 'app.containers.AdminPage.ProjectEdit.fromScratch',\n    defaultMessage: 'From scratch',\n  },\n});\n","import { API_PATH } from 'containers/App/constants';\nimport streams, { IStreamParams, IInputStreamParams } from 'utils/streams';\nimport { ImageSizes } from 'typings';\n// import { getGroups, getGroup } from 'services/groups';\n// import { usersStream } from 'services/users';\n\nexport interface IGroupMembership {\n  id: string;\n  type: 'membership';\n  relationships: {\n    user: {\n      data: {\n        id: string;\n        type: 'user';\n      };\n    };\n  };\n}\n\nexport interface IGroupMemberships {\n  data: IGroupMembership[];\n}\n\nexport interface IGroupMembershipsFoundUserData {\n  id: string;\n  type: 'user';\n  attributes: {\n    first_name: string;\n    last_name: string;\n    slug: string;\n    avatar?: ImageSizes;\n    is_member?: boolean;\n    // the is_moderator attribute is absent, except in moderators/users_search if the project_id was provided as a parameter\n    // this is only the case in the findMembership function in moderators.ts at the time of this writing\n    is_moderator?: boolean;\n    email: string;\n  };\n}\n\nexport interface IGroupMembershipsFoundUsers {\n  data: IGroupMembershipsFoundUserData[];\n}\n\nexport function getGroupMemberships(\n  groupId: string,\n  streamParams: IStreamParams | null = null\n) {\n  return streams.get<IGroupMemberships>({\n    apiEndpoint: `${API_PATH}/groups/${groupId}/memberships`,\n    ...streamParams,\n    cacheStream: false,\n  });\n}\n\nexport function searchGroupMemberships(\n  groupId: string,\n  search: string,\n  streamParams: IStreamParams | null = null\n) {\n  const apiEndpoint = `${API_PATH}/groups/${groupId}/memberships/users_search`;\n\n  const mergedStreamParams: IStreamParams = {\n    ...streamParams,\n    queryParameters: {\n      ...(streamParams && streamParams.queryParameters\n        ? streamParams.queryParameters\n        : null),\n      search,\n    },\n  };\n\n  const streamInputParams: IInputStreamParams = {\n    apiEndpoint,\n    ...mergedStreamParams,\n    cacheStream: false,\n  };\n\n  return streams.get<IGroupMembershipsFoundUsers>(streamInputParams);\n}\n\nexport async function deleteGroupMembership(membershipId: string) {\n  const response = await streams.delete(\n    `${API_PATH}/memberships/${membershipId}`,\n    membershipId\n  );\n  return response;\n}\n\nexport async function addGroupMembership(groupId: string, user_id: string) {\n  const response = await streams.add<IGroupMembership>(\n    `${API_PATH}/groups/${groupId}/memberships`,\n    { membership: { user_id } }\n  );\n  return response;\n}\n\nexport async function deleteMembershipByUserId(\n  groupId: string,\n  userId: string\n) {\n  const response = await streams.delete(\n    `${API_PATH}/groups/${groupId}/memberships/by_user_id/${userId}`,\n    userId\n  );\n  return response;\n}\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  titleCity: {\n    id: 'app.containers.landing.titleCity',\n    defaultMessage: 'Change the future of {orgName}',\n  },\n  subtitleCity: {\n    id: 'app.containers.landing.subtitleCity',\n    defaultMessage: 'Start an idea!',\n  },\n  createAccount: {\n    id: 'app.containers.landing.createAccount',\n    defaultMessage: 'Create an account',\n  },\n  cityProjects: {\n    id: 'app.containers.landing.cityProjects',\n    defaultMessage: 'City projects',\n  },\n  twitterMessage: {\n    id: 'app.containers.landing.twitterMessage',\n    defaultMessage: 'Vote for {ideaTitle} on',\n  },\n  completeYourProfile: {\n    id: 'app.containers.landing.completeYourProfile',\n    defaultMessage: \"Welcome {firstName}. It's time to complete your profile.\",\n  },\n  completeProfile: {\n    id: 'app.containers.landing.completeProfile',\n    defaultMessage: 'Complete profile',\n  },\n  doItLater: {\n    id: 'app.containers.landing.doItLater',\n    defaultMessage: \"I'll do it later\",\n  },\n  defaultSignedInMessage: {\n    id: 'app.containers.landing.defaultSignedInMessage',\n    defaultMessage: '{firstName}, inspire change today!',\n  },\n  initiativesBoxTitle: {\n    id: 'app.containers.landing.initiativesBoxTitle',\n    defaultMessage: 'Your plans dont fit? Start your own initiative!',\n  },\n  initiativesBoxText: {\n    id: 'app.containers.landing.initiativesBoxText',\n    defaultMessage:\n      'Your plans dont fit in the consultations above? Start your own initiative, gather support and make your voice heard!',\n  },\n  startInitiative: {\n    id: 'app.containers.landing.startInitiative',\n    defaultMessage: 'Start an initiative',\n  },\n  browseInitiative: {\n    id: 'app.containers.landing.browseInitiative',\n    defaultMessage: 'Browse initiatives',\n  },\n  new: {\n    id: 'app.containers.landing.new',\n    defaultMessage: 'new',\n  },\n  verifyYourIdentity: {\n    id: 'app.containers.landing.verifyYourIdentity',\n    defaultMessage: 'Make a bigger impact by verifying your identity',\n  },\n  verifyNow: {\n    id: 'app.containers.landing.verifyNow',\n    defaultMessage: 'Verify now',\n  },\n  eventsWidgetTitle: {\n    id: 'app.containers.landing.eventsWidgetTitle',\n    defaultMessage: 'Upcoming events',\n  },\n  viewAllEventsText: {\n    id: 'app.containers.landing.viewAllEventsText',\n    defaultMessage: 'View all events',\n  },\n});\n","import { captureMessage, captureException, withScope } from '@sentry/browser';\nimport { isEmpty, isError, isObject } from 'lodash-es';\n\nfunction isErrorOrErrorEvent(wat: any) {\n  return (\n    isError(wat) ||\n    Object.prototype.toString.call(wat) === '[object ErrorEvent]'\n  );\n}\n\nfunction isString(wat: any) {\n  return typeof wat === 'string';\n}\n\nexport function reportError(error: any) {\n  if (isErrorOrErrorEvent(error)) {\n    captureException(error);\n  } else if (isEmpty(error)) {\n    captureMessage('An empty error has been thrown');\n  } else if (isObject(error)) {\n    captureMessage(JSON.stringify(error, null, 4));\n  } else if (isString(error)) {\n    captureMessage(error);\n  } else {\n    withScope((scope) => {\n      scope.setExtra('error', error);\n      captureMessage('Something wrong happened');\n    });\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { adopt } from 'react-adopt';\nimport { isEmpty } from 'lodash-es';\nimport { isNilOrError } from 'utils/helperUtils';\n\n// components\nimport Button from 'components/UI/Button';\nimport Avatar from 'components/Avatar';\nimport { Icon } from 'cl2-component-library';\n\n// services\nimport {\n  dismissOnboardingCampaign,\n  IOnboardingCampaignNames,\n} from 'services/onboardingCampaigns';\n\n// resources\nimport GetLocale, { GetLocaleChildProps } from 'resources/GetLocale';\nimport GetAppConfiguration, {\n  GetAppConfigurationChildProps,\n} from 'resources/GetAppConfiguration';\nimport GetAuthUser, { GetAuthUserChildProps } from 'resources/GetAuthUser';\nimport GetOnboardingCampaigns, {\n  GetOnboardingCampaignsChildProps,\n} from 'resources/GetOnboardingCampaigns';\n\n// utils\nimport CSSTransition from 'react-transition-group/CSSTransition';\nimport { openVerificationModal } from 'components/Verification/verificationModalEvents';\n\n// tracking\nimport { trackEventByName } from 'utils/analytics';\nimport tracks from './tracks';\n\n// i18n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from './messages';\nimport T from 'components/T';\n\n// style\nimport styled, { withTheme } from 'styled-components';\nimport { ScreenReaderOnly } from 'utils/a11y';\nimport { media, fontSizes, isRtl } from 'utils/styleUtils';\nimport Outlet from 'components/Outlet';\n\nconst contentTimeout = 350;\nconst contentEasing = 'cubic-bezier(0.19, 1, 0.22, 1)';\nconst contentDelay = 550;\n\nconst Header = styled.div`\n  width: 100%;\n  height: 190px;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n\n  ${media.smallerThanMinTablet`\n    height: 320px;\n  `}\n`;\n\nconst HeaderImageContainer = styled.div`\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n`;\n\nconst HeaderImageContainerInner = styled.div`\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  overflow: hidden;\n  position: relative;\n\n  ${isRtl`\n    flex-direction: row-reverse;\n  `}\n`;\n\nconst HeaderImage = styled.img`\n  width: 100%;\n  height: auto;\n\n  ${media.smallerThanMaxTablet`\n    &.objectFitCoverSupported {\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n    }\n\n    &:not(.objectFitCoverSupported) {\n      width: auto;\n      height: 100%;\n    }\n  `}\n`;\n\nconst HeaderImageOverlay = styled.div`\n  background: ${({ theme }) =>\n    theme.signedInHeaderOverlayColor || theme.colorMain};\n  opacity: ${({ theme }) => theme.signedInHeaderOverlayOpacity};\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n`;\n\nconst HeaderContent = styled.div`\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding-top: 20px;\n  padding-bottom: 20px;\n  padding-left: 75px;\n  padding-right: 75px;\n  overflow: hidden;\n\n  ${isRtl`\n    flex-direction: row-reverse;\n  `}\n\n  &.content-enter {\n    opacity: 0;\n\n    &.content-enter-active {\n      opacity: 1;\n      transition: all ${contentTimeout}ms ${contentEasing} ${contentDelay}ms;\n    }\n  }\n\n  &.content-enter-done {\n    opacity: 1;\n  }\n\n  &.content-exit {\n    opacity: 1;\n    transition: all ${contentTimeout}ms ${contentEasing};\n\n    &.content-exit-active {\n      opacity: 0;\n    }\n  }\n\n  &.content-exit-done {\n    display: none;\n  }\n\n  h2 {\n    color: #fff;\n    font-size: ${fontSizes.xxl}px;\n    line-height: 33px;\n    font-weight: 400;\n  }\n\n  ${media.smallerThanMaxTablet`\n    padding-left: 30px;\n    padding-right: 30px;\n  `}\n\n  ${media.smallerThanMinTablet`\n    flex-direction: column;\n    align-items: stretch;\n    justify-content: center;\n    padding-left: 15px;\n    padding-right: 15px;\n  `}\n`;\n\nexport const HeaderContentCompleteProfile = styled(HeaderContent)``;\nconst HeaderContentCustomCta = styled(HeaderContent)``;\nconst HeaderContentDefault = styled(HeaderContent)`\n  justify-content: center;\n\n  h2 {\n    text-align: center;\n  }\n\n  ${media.smallerThanMinTablet`\n    align-items: center;\n  `}\n`;\n\nexport const Left = styled.div`\n  display: flex;\n  align-items: center;\n  margin-right: 60px;\n\n  ${isRtl`\n    flex-direction: row-reverse;\n  `}\n\n  ${media.smallerThanMinTablet`\n    margin-right: 0;\n  `}\n`;\n\nexport const Icons = styled.div`\n  display: flex;\n  margin-right: 30px;\n\n  ${isRtl`\n    margin-right: 0px;\n    margin-left: 30px;\n  `}\n\n  ${media.smallerThanMaxTablet`\n    display: none;\n  `}\n`;\n\nconst CompleteProfileIcon = styled(Icon)`\n  width: 50px;\n  height: 50px;\n  margin-left: -3px;\n`;\n\nexport const Text = styled.div``;\n\nexport const Right = styled.div`\n  flex-shrink: 0;\n  display: flex;\n\n  ${media.smallerThanMinTablet`\n    flex-direction: column;\n    align-items: flex-start;\n    justify-content: flex-start;\n    margin-top: 30px;\n  `}\n\n  ${isRtl`\n    flex-direction: row-reverse;\n\n    ${media.smallerThanMinTablet`\n        align-items: flex-end;\n    `}\n  `}\n`;\n\nexport const SkipButton = styled(Button)`\n  margin-right: 10px;\n\n  ${media.smallerThanMinTablet`\n    order: 2;\n    margin-right: 0px;\n  `}\n\n  ${isRtl`\n    margin-right: 0px;\n    margin-left: 10px;\n  `}\n`;\n\nexport const AcceptButton = styled(Button)`\n  ${media.smallerThanMinTablet`\n    order: 1;\n    margin-bottom: 10px;\n  `}\n`;\n\nexport const AvatarAndShield = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nexport const StyledAvatar = styled(Avatar)`\n  margin-right: -3px;\n  z-index: 2;\n`;\n\nexport interface InputProps {\n  className?: string;\n}\n\ninterface DataProps {\n  locale: GetLocaleChildProps;\n  tenant: GetAppConfigurationChildProps;\n  authUser: GetAuthUserChildProps;\n  onboardingCampaigns: GetOnboardingCampaignsChildProps;\n}\n\ninterface Props extends InputProps, DataProps {\n  theme: any;\n}\n\ninterface State {}\n\nclass SignedInHeader extends PureComponent<Props, State> {\n  handleSkip = (name: IOnboardingCampaignNames) => () => {\n    trackEventByName(tracks.clickSkipButton, {\n      extra: { location: 'signed-in header', context: name },\n    });\n    dismissOnboardingCampaign(name);\n  };\n\n  handleAccept = (name: IOnboardingCampaignNames) => {\n    if (name === 'verification') {\n      openVerificationModal();\n    }\n  };\n\n  render() {\n    const {\n      locale,\n      tenant,\n      authUser,\n      className,\n      theme,\n      onboardingCampaigns,\n    } = this.props;\n\n    if (\n      !isNilOrError(locale) &&\n      !isNilOrError(tenant) &&\n      !isNilOrError(authUser) &&\n      !isNilOrError(onboardingCampaigns)\n    ) {\n      const tenantHeaderImage = tenant.attributes.header_bg\n        ? tenant.attributes.header_bg.large\n        : null;\n      const defaultMessage =\n        tenant.attributes.settings.core.custom_onboarding_fallback_message;\n      const objectFitCoverSupported =\n        window['CSS'] && CSS.supports('object-fit: cover');\n\n      // translate header title into a h1 with a fallback\n      const headerTitleMultiLoc = tenant.attributes.settings.core.header_title;\n      const genericTitle = (\n        <FormattedMessage tagName=\"h1\" {...messages.titleCity} />\n      );\n\n      return (\n        <Header\n          className={`e2e-signed-in-header ${className}`}\n          id=\"hook-header\"\n        >\n          <ScreenReaderOnly>\n            {headerTitleMultiLoc ? (\n              <T as=\"h1\" value={headerTitleMultiLoc}>\n                {(translatedTitle) =>\n                  translatedTitle ? <h1>{translatedTitle}</h1> : genericTitle\n                }\n              </T>\n            ) : (\n              genericTitle\n            )}\n          </ScreenReaderOnly>\n          <HeaderImageContainer>\n            <HeaderImageContainerInner>\n              {tenantHeaderImage && (\n                <HeaderImage\n                  src={tenantHeaderImage}\n                  className={\n                    objectFitCoverSupported ? 'objectFitCoverSupported' : ''\n                  }\n                />\n              )}\n              <HeaderImageOverlay />\n            </HeaderImageContainerInner>\n          </HeaderImageContainer>\n\n          {/* First header state - complete profile */}\n          <CSSTransition\n            classNames=\"content\"\n            in={onboardingCampaigns.name === 'complete_profile'}\n            timeout={\n              onboardingCampaigns.name === 'complete_profile'\n                ? contentTimeout + contentDelay\n                : contentTimeout\n            }\n            mountOnEnter={true}\n            unmountOnExit={true}\n            enter={true}\n            exit={true}\n          >\n            <HeaderContentCompleteProfile id=\"e2e-signed-in-header-complete-profile\">\n              <Left>\n                <Icons>\n                  <StyledAvatar\n                    userId={authUser?.id}\n                    size={50}\n                    fillColor=\"#fff\"\n                    padding={0}\n                    borderThickness={0}\n                  />\n                  <CompleteProfileIcon name=\"completeProfile\" ariaHidden />\n                </Icons>\n                <Text>\n                  <FormattedMessage\n                    {...messages.completeYourProfile}\n                    tagName=\"h2\"\n                    values={{ firstName: authUser.attributes.first_name }}\n                  />\n                </Text>\n              </Left>\n\n              <Right>\n                <SkipButton\n                  buttonStyle=\"primary-outlined\"\n                  text={<FormattedMessage {...messages.doItLater} />}\n                  onClick={this.handleSkip(onboardingCampaigns.name)}\n                  borderColor=\"#fff\"\n                  textColor=\"#fff\"\n                  fontWeight=\"500\"\n                  className=\"e2e-signed-in-header-complete-skip-btn\"\n                />\n                <AcceptButton\n                  text={<FormattedMessage {...messages.completeProfile} />}\n                  buttonStyle=\"primary-inverse\"\n                  linkTo=\"/profile/edit\"\n                  textColor={theme.colorMain}\n                  textHoverColor={theme.colorMain}\n                  fontWeight=\"500\"\n                  className=\"e2e-signed-in-header-accept-btn\"\n                />\n              </Right>\n            </HeaderContentCompleteProfile>\n          </CSSTransition>\n\n          <Outlet\n            id=\"app.containers.LandingPage.onboardingCampaigns\"\n            onboardingCampaigns={onboardingCampaigns}\n            contentTimeout={contentTimeout}\n            contentDelay={contentDelay}\n            authUser={authUser}\n            theme={theme}\n            onSkip={this.handleSkip}\n            onAccept={this.handleAccept}\n          />\n\n          {/* Second header state - custom CTA */}\n          <CSSTransition\n            classNames=\"content\"\n            in={onboardingCampaigns.name === 'custom_cta'}\n            timeout={\n              onboardingCampaigns.name === 'custom_cta'\n                ? contentTimeout + contentDelay\n                : contentTimeout\n            }\n            mountOnEnter={true}\n            unmountOnExit={true}\n            enter={true}\n            exit={true}\n          >\n            <HeaderContentCustomCta id=\"e2e-signed-in-header-custom-cta\">\n              <Left>\n                <Text>\n                  <T\n                    as=\"h2\"\n                    value={onboardingCampaigns.cta_message_multiloc}\n                    supportHtml\n                  />\n                </Text>\n              </Left>\n\n              <Right>\n                <SkipButton\n                  buttonStyle=\"primary-outlined\"\n                  text={<FormattedMessage {...messages.doItLater} />}\n                  onClick={this.handleSkip(onboardingCampaigns.name)}\n                  borderColor=\"#fff\"\n                  textColor=\"#fff\"\n                  fontWeight=\"500\"\n                />\n                <AcceptButton\n                  text={<T value={onboardingCampaigns.cta_button_multiloc} />}\n                  linkTo={onboardingCampaigns.cta_button_link}\n                  buttonStyle=\"primary-inverse\"\n                  textColor={theme.colorMain}\n                  textHoverColor={theme.colorMain}\n                  fontWeight=\"500\"\n                />\n              </Right>\n            </HeaderContentCustomCta>\n          </CSSTransition>\n\n          {/* Third header state - default customizable message */}\n          <CSSTransition\n            classNames=\"content\"\n            in={onboardingCampaigns.name === 'default'}\n            timeout={\n              onboardingCampaigns.name === 'default'\n                ? contentTimeout + contentDelay\n                : contentTimeout\n            }\n            mountOnEnter={true}\n            unmountOnExit={true}\n            enter={true}\n            exit={true}\n          >\n            <HeaderContentDefault id=\"e2e-signed-in-header-default-cta\">\n              {defaultMessage && !isEmpty(defaultMessage) ? (\n                <T as=\"h2\" value={defaultMessage} supportHtml />\n              ) : (\n                <FormattedMessage\n                  {...messages.defaultSignedInMessage}\n                  tagName=\"h2\"\n                  values={{ firstName: authUser.attributes.first_name }}\n                />\n              )}\n            </HeaderContentDefault>\n          </CSSTransition>\n        </Header>\n      );\n    }\n\n    return null;\n  }\n}\n\nconst Data = adopt<DataProps, InputProps>({\n  locale: <GetLocale />,\n  tenant: <GetAppConfiguration />,\n  authUser: <GetAuthUser />,\n  onboardingCampaigns: <GetOnboardingCampaigns />,\n});\n\nconst SignedInHeaderWithHoC = withTheme(SignedInHeader);\n\nexport default (inputProps: InputProps) => (\n  <Data {...inputProps}>\n    {(dataProps) => <SignedInHeaderWithHoC {...inputProps} {...dataProps} />}\n  </Data>\n);\n","import React, { PureComponent } from 'react';\nimport { isString, isEmpty, capitalize } from 'lodash-es';\nimport { first } from 'rxjs/operators';\n\n// libraries\nimport { MentionsInput, Mention } from 'react-mentions';\n\n// services\nimport { mentionsStream } from 'services/mentions';\n\n// components\nimport Error from 'components/UI/Error';\n\n// style\nimport styled, { withTheme } from 'styled-components';\nimport { colors, fontSizes, defaultStyles } from 'utils/styleUtils';\nimport { transparentize } from 'polished';\n\n// typings\nimport { Locale } from 'typings';\n\nconst Container = styled.div`\n  position: relative;\n  cursor: text;\n  background: #fff;\n\n  & .hasBorder textarea:focus {\n    border-color: ${colors.focussedBorder} !important;\n    box-shadow: ${defaultStyles.boxShadowFocused} !important;\n  }\n\n  & .textareaWrapper__suggestions__list li:last-child {\n    border: none !important;\n  }\n\n  & .textareaWrapper__highlighter,\n  & textarea {\n    background: transparent !important;\n  }\n\n  & textarea::placeholder {\n    opacity: 1 !important;\n    color: #767676 !important;\n  }\n\n  & .textareaWrapper__highlighter > strong {\n    z-index: 2;\n  }\n`;\n\nconst StyledMentionsInput = styled(MentionsInput)`\n  word-break: break-word;\n`;\n\nexport interface InputProps {\n  id?: string;\n  className?: string;\n  name: string;\n  value?: string | null;\n  locale?: Locale;\n  placeholder?: string;\n  rows: number;\n  postId?: string;\n  postType?: 'idea' | 'initiative';\n  error?: JSX.Element | string | null;\n  onChange?: (arg: string, locale: Locale | undefined) => void;\n  onFocus?: () => void;\n  onBlur?: () => void;\n  getTextareaRef?: (element: HTMLTextAreaElement) => void;\n  color?: string;\n  fontSize?: string;\n  fontWeight?: string;\n  lineHeight?: string;\n  padding?: string;\n  border?: string;\n  borderRadius?: string;\n  boxShadow?: string;\n  background?: string;\n  ariaLabel?: string;\n}\n\ninterface Props extends InputProps {\n  theme: any;\n}\n\ninterface State {\n  style: Record<string, unknown> | null;\n  mentionStyle: Record<string, unknown> | null;\n}\n\nclass MentionsTextArea extends PureComponent<Props, State> {\n  textareaElement = React.createRef();\n\n  static defaultProps = {\n    color: colors.text,\n    fontSize: `${fontSizes.base}px`,\n    fontWeight: '400',\n    lineHeight: '24px',\n    padding: '24px',\n    border: `solid 1px ${colors.border}`,\n    borderRadius: '3px',\n    boxShadow: 'none',\n    background: '#fff',\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      style: null,\n      mentionStyle: null,\n    };\n  }\n\n  componentDidMount() {\n    const style = this.getStyle();\n    const mentionStyle = {\n      paddingTop: '3px',\n      paddingBottom: '3px',\n      paddingLeft: '0px',\n      paddingRight: '1px',\n      borderRadius: '3px',\n      backgroundColor: transparentize(0.85, this.props.theme.colorText),\n    };\n    this.setState({ style, mentionStyle });\n  }\n\n  componentDidUpdate(prevProps: Props, _prevState: State) {\n    if (this.props.rows !== prevProps.rows) {\n      this.setState({ style: this.getStyle() });\n    }\n  }\n\n  getStyle = () => {\n    const { rows } = this.props;\n\n    const style = {\n      '&multiLine': {\n        control: {\n          padding: 0,\n          margin: 0,\n          border: 'none',\n          appearance: 'none',\n          WebkitAppearance: 'none',\n        },\n        input: {\n          margin: 0,\n          padding: this.props.padding,\n          color: this.props.color,\n          fontSize: this.props.fontSize,\n          fontWeight: this.props.fontWeight,\n          lineHeight: this.props.lineHeight,\n          minHeight: `${\n            rows * parseInt(this.props.lineHeight as string, 10)\n          }px`,\n          outline: 'none',\n          border: this.props.border,\n          borderRadius: this.props.borderRadius,\n          boxShadow: this.props.boxShadow,\n          background: this.props.background,\n          appearance: 'none',\n          WebkitAppearance: 'none',\n          transition: 'min-height 180ms cubic-bezier(0.165, 0.84, 0.44, 1)',\n        },\n        suggestions: {\n          list: {\n            backgroundColor: 'white',\n            border: '1px solid #ccc',\n            borderRadius: '3px',\n            overflow: 'hidden',\n            boxShadow: '0px 0px 15px rgba(0, 0, 0, 0.15)',\n          },\n          item: {\n            fontSize: '15px',\n            lineHeight: '22px',\n            padding: '5px 15px',\n            borderBottom: '1px solid #ccc',\n\n            '&focused': {\n              backgroundColor: '#f4f4f4',\n            },\n          },\n        },\n      },\n    };\n\n    return style;\n  };\n\n  mentionDisplayTransform = (_id, display) => {\n    return `@${display}`;\n  };\n\n  handleOnChange = (event) => {\n    this.props?.onChange?.(event.target.value, this.props.locale);\n  };\n\n  handleOnFocus = () => {\n    this.props?.onFocus?.();\n  };\n\n  handleOnBlur = () => {\n    this.props?.onBlur?.();\n  };\n\n  setRef = () => {\n    if (\n      this.textareaElement &&\n      this.textareaElement.current &&\n      this.props.getTextareaRef\n    ) {\n      this.props.getTextareaRef(\n        this.textareaElement.current as HTMLTextAreaElement\n      );\n    }\n  };\n\n  getUsers = async (query: string, callback) => {\n    let users: any[] = [];\n\n    if (isString(query) && !isEmpty(query)) {\n      const mention = query.toLowerCase();\n      const queryParameters = { mention };\n      const { postId, postType } = this.props;\n\n      if (postId && postType) {\n        queryParameters['post_id'] = postId;\n        queryParameters['post_type'] = capitalize(postType);\n      }\n\n      const response = await mentionsStream({ queryParameters })\n        .observable.pipe(first())\n        .toPromise();\n\n      if (response && response.data && response.data.length > 0) {\n        users = response.data.map((user) => ({\n          display: `${user.attributes.first_name} ${\n            user.attributes.last_name ? user.attributes.last_name : ''\n          }`,\n          id: user.attributes.slug,\n        }));\n      }\n    }\n\n    callback(users);\n  };\n\n  render() {\n    const { style, mentionStyle } = this.state;\n    const {\n      name,\n      placeholder,\n      value,\n      error,\n      children,\n      rows,\n      id,\n      className,\n      ariaLabel,\n    } = this.props;\n\n    if (style) {\n      return (\n        <Container className={className}>\n          <StyledMentionsInput\n            id={id}\n            style={style}\n            className={`textareaWrapper ${\n              this.props.border !== 'none' ? 'hasBorder' : 'noBorder'\n            }`}\n            name={name || ''}\n            rows={rows}\n            value={value || ''}\n            placeholder={placeholder}\n            displayTransform={this.mentionDisplayTransform}\n            markup={'@[__display__](__id__)'}\n            onChange={this.handleOnChange}\n            onFocus={this.handleOnFocus}\n            onBlur={this.handleOnBlur}\n            aria-label={ariaLabel}\n            ref={this.setRef}\n            inputRef={this.textareaElement}\n          >\n            <Mention\n              trigger=\"@\"\n              data={this.getUsers}\n              appendSpaceOnAdd={true}\n              style={mentionStyle}\n            />\n          </StyledMentionsInput>\n          {children}\n          <Error text={error} />\n        </Container>\n      );\n    }\n\n    return null;\n  }\n}\n\nexport default withTheme(MentionsTextArea);\n","import React, { useCallback } from 'react';\n\n// typings\nimport { IDLookupMethod } from 'services/verificationMethods';\n\n// components\nimport VerificationMethodButton from 'modules/commercial/verification/citizen/components/VerificationMethodButton';\n\n// i18n\nimport T from 'components/T';\n\ninterface Props {\n  method: IDLookupMethod;\n  onMethodSelected: () => void;\n  last: boolean;\n}\n\nconst IdCardLookupButton = ({ method, last, onMethodSelected }: Props) => {\n  const handleOnClick = useCallback(() => {\n    onMethodSelected();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <VerificationMethodButton\n      key={method.id}\n      id={`e2e-${method.attributes.name}-button`}\n      className={last ? 'last' : ''}\n      onClick={handleOnClick}\n    >\n      <T value={method.attributes.method_name_multiloc} />\n    </VerificationMethodButton>\n  );\n};\n\nexport default IdCardLookupButton;\n","import React, { useCallback } from 'react';\nimport { AUTH_PATH } from 'containers/App/constants';\nimport { removeUrlLocale } from 'services/locale';\nimport { getJwt } from 'utils/auth/jwt';\n\n// style\nimport styled from 'styled-components';\nimport icon from './clave-unica-icon.svg';\n\n// typings\nimport { IVerificationMethod } from 'services/verificationMethods';\n\n// i18n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from '../messages';\n\nconst Container = styled.div`\n  margin-bottom: 15px;\n  .last {\n    margin-bottom: 0px;\n  }\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\n// CSS extracted from the official Clave Unica button\nconst ButtonWrapper = styled.a`\n  display: flex;\n  justify-content: center;\n  font-family: Roboto, sans-serif;\n  front-weight: 400;\n  text-align: center;\n  vertical-align: middle;\n  background-color: #0f69c4;\n  color: #ffffff;\n  &:hover {\n    color: #ffffff;\n    background-color: #0c549c;\n  }\n  width: 160px;\n  min-width: 160px;\n  height: 42px;\n  padding: 8px 18px 8px 15px;\n  font-size: 16;\n  line-height: 1.6em;\n  user-select: none;\n  border-radius: 0;\n  cursor: pointer;\n`;\n\nconst ButtonIcon = styled.span`\n  background: url(${icon});\n  display: inline-block;\n  width: 24px;\n  height: 24px;\n  float: left;\n  text-indent: -9999px;\n  box-sizing: border-box;\n`;\n\nconst ButtonLabel = styled.span`\n  padding-left: 3px;theme.\n  text-decoration: underline;\n  box-sizing: border-box;\n`;\n\nconst HelperText = styled.div`\n  color: ${(props) => props.theme.colorText};\n`;\n\ninterface Props {\n  method: IVerificationMethod;\n  last: boolean;\n}\n\nconst BosaFasButton = ({ method, last }: Props) => {\n  const handleOnClick = useCallback(() => {\n    const jwt = getJwt();\n    window.location.href = `${AUTH_PATH}/clave_unica?token=${jwt}&pathname=${removeUrlLocale(\n      window.location.pathname\n    )}`;\n  }, []);\n\n  return (\n    <Container key={method.id} className={last ? 'last' : ''}>\n      <ButtonWrapper\n        onClick={handleOnClick}\n        id={`e2e-${method.attributes.name}-button`}\n      >\n        <ButtonIcon />\n        <ButtonLabel>Iniciar sesin</ButtonLabel>\n      </ButtonWrapper>\n      <HelperText>\n        <FormattedMessage {...messages.verifyClaveUnica} />\n      </HelperText>\n    </Container>\n  );\n};\n\nexport default BosaFasButton;\n","import streams, { IStreamParams } from 'utils/streams';\nimport { API_PATH } from 'containers/App/constants';\nimport { IRelationship, Locale } from 'typings';\n\nexport interface IMachineTranslationData {\n  id: string;\n  type: string;\n  attributes: {\n    attribute_name: 'title_multiloc' | 'body_multiloc';\n    locale_to: Locale;\n    translation: string;\n  };\n  relationships: {\n    translatable: {\n      data: IRelationship;\n    };\n  };\n}\n\nexport interface IMachineTranslation {\n  data: IMachineTranslationData;\n}\n\nexport function machineTranslationByIdeaIdStream(\n  ideaId: string,\n  streamParams: IStreamParams | null = null\n) {\n  return streams.get<IMachineTranslation>({\n    apiEndpoint: `${API_PATH}/ideas/${ideaId}/machine_translation`,\n    ...streamParams,\n  });\n}\n\nexport function machineTranslationByCommentIdStream(\n  commentId: string,\n  streamParams: IStreamParams | null = null\n) {\n  return streams.get<IMachineTranslation>({\n    apiEndpoint: `${API_PATH}/comments/${commentId}/machine_translation`,\n    ...streamParams,\n  });\n}\n\nexport function machineTranslationByInitiativeIdStream(\n  initiativeId: string,\n  streamParams: IStreamParams | null = null\n) {\n  return streams.get<IMachineTranslation>({\n    apiEndpoint: `${API_PATH}/initiatives/${initiativeId}/machine_translation`,\n    ...streamParams,\n  });\n}\n","import { Multiloc, ImageSizes, IRelationship } from 'typings';\n\nimport streams, { IStreamParams } from 'utils/streams';\nimport { isNilOrError } from 'utils/helperUtils';\n\nimport { API_PATH } from 'containers/App/constants';\nimport { PublicationStatus } from 'services/projects';\nconst apiEndpoint = `${API_PATH}/project_folders`;\n\nexport interface IProjectFolderDiff {\n  title_multiloc: Multiloc; // Text, > 10\n  description_multiloc: Multiloc; // HTML\n  description_preview_multiloc: Multiloc; // Text\n  header_bg?: string;\n  admin_publication_attributes: {\n    publication_status: PublicationStatus;\n  };\n}\n\nexport interface IProjectFolderData {\n  id: string;\n  type: 'folder';\n  attributes: {\n    title_multiloc: Multiloc; // Text, > 10\n    description_multiloc: Multiloc; // HTML\n    description_preview_multiloc: Multiloc; // Text\n    slug: string;\n    header_bg?: ImageSizes;\n    publication_status: PublicationStatus;\n  };\n  relationships: {\n    projects: {\n      data: { id: string; type: 'project' }[];\n    };\n    admin_publication: {\n      data: IRelationship | null;\n    };\n  };\n}\n\nexport interface IProjectFolder {\n  data: IProjectFolderData;\n}\n\nexport function projectFoldersStream(\n  streamParams: IStreamParams | null = null\n) {\n  return streams.get<{ data: IProjectFolderData[] }>({\n    apiEndpoint,\n    ...streamParams,\n  });\n}\n\nexport function projectFolderByIdStream(projectFolderId: string) {\n  return streams.get<{ data: IProjectFolderData }>({\n    apiEndpoint: `${apiEndpoint}/${projectFolderId}`,\n  });\n}\n\nexport function projectFolderBySlugStream(projectFolderSlug: string) {\n  return streams.get<{ data: IProjectFolderData }>({\n    apiEndpoint: `${apiEndpoint}/by_slug/${projectFolderSlug}`,\n  });\n}\n\nexport async function addProjectFolder(object: Partial<IProjectFolderDiff>) {\n  const response = await streams.add<{ data: IProjectFolderData }>(\n    apiEndpoint,\n    { project_folder: object }\n  );\n  await streams.fetchAllWith({\n    apiEndpoint: [`${API_PATH}/admin_publications`],\n  });\n  return !isNilOrError(response) ? response.data : (response as Error);\n}\n\nexport async function updateProjectFolder(\n  projectFolderId: string,\n  object: Partial<IProjectFolderDiff>,\n  adminPublicationId?: string\n) {\n  const response = await streams.update<{ data: IProjectFolderData }>(\n    `${apiEndpoint}/${projectFolderId}`,\n    projectFolderId,\n    { project_folder: object }\n  );\n  await streams.fetchAllWith({\n    apiEndpoint: [`${API_PATH}/admin_publications`],\n    dataId: adminPublicationId ? [adminPublicationId] : [],\n  });\n\n  return !isNilOrError(response) ? response.data : response;\n}\n\nexport async function deleteProjectFolder(projectFolderId: string) {\n  const response = await streams.delete(\n    `${apiEndpoint}/${projectFolderId}`,\n    projectFolderId\n  );\n\n  await streams.fetchAllWith({\n    apiEndpoint: [`${API_PATH}/admin_publications`],\n  });\n\n  return response;\n}\n","import React from 'react';\nimport styled from 'styled-components';\n\n// components\nimport { IconTooltip } from 'cl2-component-library';\nimport { SubSectionTitle } from 'components/admin/Section';\nimport { StyledSectionField } from './styling';\nimport ImagesDropzone from 'components/UI/ImagesDropzone';\n\n// i18n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from '../messages';\n\n// typings\nimport { UploadFile } from 'typings';\n\n// Would have loved to put this in styling.ts, but\n// that results in some arcane typescript error\n// (see https://stackoverflow.com/q/43900035)\nconst StyledImagesDropzone = styled(ImagesDropzone)`\n  margin-top: 2px;\n`;\n\ninterface Props {\n  projectImages: UploadFile[];\n  handleProjectImagesOnAdd: (projectImages: UploadFile[]) => void;\n  handleProjectImageOnRemove: (projectImageToRemove: UploadFile) => void;\n}\n\nexport default ({\n  projectImages,\n  handleProjectImagesOnAdd,\n  handleProjectImageOnRemove,\n}: Props) => (\n  <StyledSectionField>\n    <SubSectionTitle>\n      <FormattedMessage {...messages.projectCardImageLabelText} />\n      <IconTooltip\n        content={\n          <FormattedMessage {...messages.projectCardImageLabelTooltip} />\n        }\n      />\n    </SubSectionTitle>\n    <StyledImagesDropzone\n      images={projectImages}\n      imagePreviewRatio={960 / 1440}\n      maxImagePreviewWidth=\"240px\"\n      acceptedFileTypes=\"image/jpg, image/jpeg, image/png, image/gif\"\n      onAdd={handleProjectImagesOnAdd}\n      onRemove={handleProjectImageOnRemove}\n    />\n  </StyledSectionField>\n);\n","import React from 'react';\nimport { ModuleConfiguration } from 'utils/moduleUtils';\nimport SimilarIdeas from './components/SimilarIdeas';\nimport FeatureFlag from 'components/FeatureFlag';\n\nconst configuration: ModuleConfiguration = {\n  outlets: {\n    'app.containers.IdeasShow.MetaInformation': (props) => (\n      <FeatureFlag name=\"similar_ideas\">\n        <SimilarIdeas {...props} />\n      </FeatureFlag>\n    ),\n  },\n};\n\nexport default configuration;\n","import { FC, useEffect } from 'react';\nimport { InjectedIntlProps } from 'react-intl';\nimport { InsertConfigurationOptions, ITab } from 'typings';\nimport { injectIntl } from 'utils/cl-intl';\nimport messages from './messages';\n\ntype Props = {\n  onData: (data: InsertConfigurationOptions<ITab>) => void;\n};\n\nconst Tab: FC<Props & InjectedIntlProps> = ({\n  onData,\n  intl: { formatMessage },\n}) => {\n  useEffect(() => {\n    onData({\n      configuration: {\n        label: formatMessage(messages.tabTopics),\n        name: 'topics',\n        url: '/admin/settings/topics',\n        feature: 'custom_topics',\n        active: (pathname) => pathname.includes('/admin/settings/topics'),\n      },\n      insertAfterName: 'registration',\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return null;\n};\n\nexport default injectIntl(Tab);\n","import { API_PATH } from 'containers/App/constants';\nimport streams, { IStreamParams } from 'utils/streams';\n\nconst apiEndpoint = `${API_PATH}/ideas`;\n\nexport interface IIdeaFileData {\n  id: string;\n  type: string;\n  attributes: {\n    file: {\n      url: string;\n    };\n    ordering: string | null;\n    name: string;\n    size: number;\n    created_at: string;\n    updated_at: string;\n  };\n}\n\nexport interface IIdeaFile {\n  data: IIdeaFileData;\n}\n\nexport interface IIdeaFiles {\n  data: IIdeaFileData[];\n}\n\nexport function ideaFilesStream(\n  ideaId: string,\n  streamParams: IStreamParams | null = null\n) {\n  return streams.get<IIdeaFiles>({\n    apiEndpoint: `${apiEndpoint}/${ideaId}/files`,\n    ...streamParams,\n  });\n}\n\nexport function ideaFileStream(\n  ideaId: string,\n  fileId: string,\n  streamParams: IStreamParams | null = null\n) {\n  return streams.get<IIdeaFile>({\n    apiEndpoint: `${apiEndpoint}/${ideaId}/files/${fileId}`,\n    ...streamParams,\n  });\n}\n\nexport function addIdeaFile(\n  ideaId: string,\n  base64: string,\n  name: string,\n  ordering: number | null = null\n) {\n  return streams.add<IIdeaFile>(`${apiEndpoint}/${ideaId}/files`, {\n    file: { name, ordering, file: base64 },\n  });\n}\n\nexport function deleteIdeaFile(ideaId: string, fileId: string) {\n  return streams.delete(`${apiEndpoint}/${ideaId}/files/${fileId}`, fileId);\n}\n","import Loadable from 'react-loadable';\nimport { LoadableLoadingAdmin } from 'components/UI/LoadableLoading';\nimport moduleConfiguration from 'modules';\n\nexport default () => ({\n  name: 'Admin initiatives',\n  path: 'initiatives',\n  component: Loadable({\n    loader: () => import('./'),\n    loading: LoadableLoadingAdmin,\n    delay: 500,\n  }),\n  indexRoute: {\n    component: Loadable({\n      loader: () => import('./settings'),\n      loading: () => null,\n    }),\n  },\n  childRoutes: [\n    {\n      path: 'manage',\n      component: Loadable({\n        loader: () => import('./manage'),\n        loading: () => null,\n      }),\n    },\n    ...moduleConfiguration.routes['admin.initiatives'],\n  ],\n});\n","import React, { memo, useCallback, useEffect } from 'react';\nimport { adopt } from 'react-adopt';\nimport { isBoolean } from 'lodash-es';\nimport { isNilOrError } from 'utils/helperUtils';\nimport clHistory from 'utils/cl-router/history';\n\n// components\nimport AuthProviderButton from './AuthProviderButton';\nimport Or from 'components/UI/Or';\nimport FranceConnectButton from 'components/UI/FranceConnectButton';\n\n// resources\nimport GetAppConfiguration, {\n  GetAppConfigurationChildProps,\n} from 'resources/GetAppConfiguration';\nimport GetFeatureFlag from 'resources/GetFeatureFlag';\n\n// i18n\nimport { FormattedMessage, injectIntl } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\nimport messages from './SignUp/messages';\n\n// styling\nimport styled from 'styled-components';\nimport { Options, Option } from 'components/SignUpIn/styles';\n\n// typings\nimport { SSOProvider } from 'services/singleSignOn';\nimport { ISignUpInMetaData } from 'components/SignUpIn';\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n`;\n\nconst StyledAuthProviderButton = styled(AuthProviderButton)`\n  margin-bottom: 18px;\n`;\n\ninterface InputProps {\n  metaData: ISignUpInMetaData;\n  className?: string;\n  onAuthProviderSelected: (selectedMethod: AuthProvider) => void;\n  goToOtherFlow: () => void;\n}\n\ninterface DataProps {\n  tenant: GetAppConfigurationChildProps;\n  passwordLoginEnabled: boolean | null;\n  googleLoginEnabled: boolean | null;\n  facebookLoginEnabled: boolean | null;\n  azureAdLoginEnabled: boolean | null;\n  franceconnectLoginEnabled: boolean | null;\n}\n\ninterface Props extends InputProps, DataProps {}\n\nexport type AuthProvider = 'email' | SSOProvider;\n\nconst AuthProviders = memo<Props & InjectedIntlProps>(\n  ({\n    metaData,\n    className,\n    onAuthProviderSelected,\n    goToOtherFlow,\n    tenant,\n    passwordLoginEnabled,\n    googleLoginEnabled,\n    facebookLoginEnabled,\n    azureAdLoginEnabled,\n    franceconnectLoginEnabled,\n    intl: { formatMessage },\n  }) => {\n    const { flow, inModal, noPushLinks } = metaData;\n    const azureProviderName = !isNilOrError(tenant)\n      ? tenant?.attributes?.settings?.azure_ad_login?.login_mechanism_name\n      : null;\n\n    useEffect(() => {\n      if (\n        isBoolean(passwordLoginEnabled) &&\n        isBoolean(googleLoginEnabled) &&\n        isBoolean(facebookLoginEnabled) &&\n        isBoolean(azureAdLoginEnabled) &&\n        isBoolean(franceconnectLoginEnabled)\n      ) {\n        const enabledProviders = [\n          passwordLoginEnabled,\n          googleLoginEnabled,\n          facebookLoginEnabled,\n          azureAdLoginEnabled,\n          franceconnectLoginEnabled,\n        ].filter((provider) => provider === true);\n\n        if (enabledProviders.length === 1 && passwordLoginEnabled) {\n          onAuthProviderSelected('email');\n        }\n      }\n    }, [\n      passwordLoginEnabled,\n      googleLoginEnabled,\n      facebookLoginEnabled,\n      azureAdLoginEnabled,\n      franceconnectLoginEnabled,\n      onAuthProviderSelected,\n    ]);\n\n    const handleOnAuthProviderSelected = useCallback(\n      (authProvider: AuthProvider) => {\n        onAuthProviderSelected(authProvider);\n      },\n      [onAuthProviderSelected]\n    );\n\n    const handleOnFranceConnectSelected = useCallback(\n      (event: React.FormEvent) => {\n        event.preventDefault();\n        onAuthProviderSelected('franceconnect');\n      },\n      [onAuthProviderSelected]\n    );\n\n    const handleGoToOtherFlow = useCallback(\n      (event: React.FormEvent) => {\n        event.preventDefault();\n\n        if (inModal || noPushLinks) {\n          goToOtherFlow();\n        } else {\n          clHistory.push(flow === 'signin' ? '/sign-up' : '/sign-in');\n        }\n      },\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      [goToOtherFlow]\n    );\n\n    const phone =\n      !isNilOrError(tenant) && tenant.attributes.settings.password_login?.phone;\n\n    return (\n      <Container className={className}>\n        {franceconnectLoginEnabled && (\n          <FranceConnectButton\n            onClick={handleOnFranceConnectSelected}\n            logoAlt={formatMessage(messages.signUpButtonAltText, {\n              loginMechanismName: 'FranceConnect',\n            })}\n          />\n        )}\n\n        {(passwordLoginEnabled ||\n          facebookLoginEnabled ||\n          azureAdLoginEnabled) &&\n          franceconnectLoginEnabled && <Or />}\n\n        {passwordLoginEnabled && (\n          <StyledAuthProviderButton\n            flow={flow}\n            authProvider=\"email\"\n            onContinue={handleOnAuthProviderSelected}\n            id=\"e2e-login-with-email\"\n          >\n            {flow === 'signup' ? (\n              <FormattedMessage\n                {...(phone\n                  ? messages.signUpWithPhoneOrEmail\n                  : messages.signUpWithEmail)}\n              />\n            ) : (\n              <FormattedMessage\n                {...(phone\n                  ? messages.logInWithPhoneOrEmail\n                  : messages.logInWithEmail)}\n              />\n            )}\n          </StyledAuthProviderButton>\n        )}\n\n        {googleLoginEnabled && (\n          <StyledAuthProviderButton\n            flow={flow}\n            authProvider=\"google\"\n            onContinue={handleOnAuthProviderSelected}\n          >\n            <FormattedMessage {...messages.continueWithGoogle} />\n          </StyledAuthProviderButton>\n        )}\n\n        {facebookLoginEnabled && (\n          <StyledAuthProviderButton\n            flow={flow}\n            authProvider=\"facebook\"\n            onContinue={handleOnAuthProviderSelected}\n          >\n            <FormattedMessage {...messages.continueWithFacebook} />\n          </StyledAuthProviderButton>\n        )}\n\n        {azureAdLoginEnabled && (\n          <StyledAuthProviderButton\n            flow={flow}\n            authProvider=\"azureactivedirectory\"\n            onContinue={handleOnAuthProviderSelected}\n          >\n            <FormattedMessage\n              {...messages.continueWithAzure}\n              values={{ azureProviderName }}\n            />\n          </StyledAuthProviderButton>\n        )}\n\n        <Options>\n          <Option>\n            <FormattedMessage\n              {...(flow === 'signup'\n                ? messages.goToLogIn\n                : messages.goToSignUp)}\n              values={{\n                goToOtherFlowLink: (\n                  <button onClick={handleGoToOtherFlow} className=\"link\">\n                    {formatMessage(\n                      flow === 'signup' ? messages.logIn2 : messages.signUp2\n                    )}\n                  </button>\n                ),\n              }}\n            />\n          </Option>\n        </Options>\n      </Container>\n    );\n  }\n);\n\nconst AuthProvidersWithHoC = injectIntl(AuthProviders);\n\nconst Data = adopt<DataProps>({\n  tenant: <GetAppConfiguration />,\n  passwordLoginEnabled: <GetFeatureFlag name=\"password_login\" />,\n  googleLoginEnabled: <GetFeatureFlag name=\"google_login\" />,\n  facebookLoginEnabled: <GetFeatureFlag name=\"facebook_login\" />,\n  azureAdLoginEnabled: <GetFeatureFlag name=\"azure_ad_login\" />,\n  franceconnectLoginEnabled: <GetFeatureFlag name=\"franceconnect_login\" />,\n});\n\nexport default (inputProps: InputProps) => (\n  <Data>\n    {(dataProps) => <AuthProvidersWithHoC {...inputProps} {...dataProps} />}\n  </Data>\n);\n","// libraries\nimport React from 'react';\nimport { Helmet } from 'react-helmet';\n\n// i18n\nimport messages from './messages';\nimport { injectIntl } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\n\n// components\nimport PageWrapper from 'components/admin/PageWrapper';\nimport Link from 'utils/cl-router/Link';\nimport FeatureFlag from 'components/FeatureFlag';\nimport { PageTitle } from 'components/admin/Section';\nimport SetupSection from './SetupSection';\nimport EngageSection from './EngageSection';\nimport ManageSection from './ManageSection';\nimport DecideSection from './DecideSection';\n\n// styles\nimport styled from 'styled-components';\nimport { colors, fontSizes } from 'utils/styleUtils';\n\nconst Meta = styled.div`\n  display: none;\n`;\n\nconst Container = styled.div``;\n\nconst HeaderContainer = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0;\n  margin: 0;\n  margin-bottom: 30px;\n`;\n\nexport const SectionWrapper = styled(PageWrapper)`\n  margin-bottom: 20px;\n  padding: 0;\n\n  &:last-child {\n    margin-bottom: 60px;\n  }\n`;\n\nexport const SectionHeader = styled.div`\n  display: flex;\n  padding: 20px 40px;\n  justify-content: space-between;\n  align-items: center;\n  border-bottom: 1px solid ${colors.adminBorder};\n  & a {\n    color: ${colors.adminSecondaryTextColor};\n    text-decoration: underline;\n  }\n  & a:hover {\n    color: ${colors.clIconAccent};\n    text-decoration: underline;\n  }\n`;\n\nexport const SectionTitle: any = styled.div`\n  display: flex;\n  align-items: center;\n  h2 {\n    color: ${(props) => props.color};\n    font-size: ${fontSizes.base}px;\n    text-transform: uppercase;\n    margin: 0;\n    margin-left: 25px;\n  }\n`;\n\nexport const SectionContent = styled.div`\n  padding: 20px 40px;\n`;\n\nexport const Article = styled(Link)`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 30px 0;\n  h3 {\n    color: ${colors.adminTextColor};\n    font-weight: 500;\n  }\n  p {\n    color: ${colors.adminSecondaryTextColor};\n  }\n  svg * {\n    fill: ${colors.adminTextColor};\n  }\n  &:hover * {\n    color: ${colors.clIconAccent};\n    fill: ${colors.clIconAccent};\n  }\n\n  &:not(:last-child) {\n    border-bottom: 1px solid ${colors.adminBorder};\n  }\n`;\n\nexport const IconWrapper = styled.div`\n  margin-left: 100px;\n  flex: 0 0 auto;\n  width: 16px;\n  height: 12px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nexport type TAdminGuideSection = 'setup' | 'engage' | 'manage' | 'decide';\nexport type TSetupArticle = 'projects' | 'user_custom_fields';\nexport type TEngageArticle =\n  | 'invitations_colleagues'\n  | 'invitations_target_audience'\n  | 'manual_emailing';\nexport type TManageArticle = 'projects' | 'users';\nexport type TDecideArticle = 'ideas' | 'dashboard';\nexport type TAdminGuideArticle =\n  | TSetupArticle\n  | TEngageArticle\n  | TManageArticle\n  | TDecideArticle;\n\nexport const renderArticle = (\n  article: TAdminGuideArticle,\n  index: number,\n  articleComponent: JSX.Element\n) => {\n  if (article === 'user_custom_fields' || article === 'manual_emailing') {\n    return (\n      <FeatureFlag name={article} key={index}>\n        {articleComponent}\n      </FeatureFlag>\n    );\n  } else {\n    return articleComponent;\n  }\n};\n\nexport const AdminGuide = (props: InjectedIntlProps) => {\n  const { formatMessage } = props.intl;\n\n  return (\n    <>\n      <Meta>\n        <Helmet>\n          <title>{formatMessage(messages.HTMLTitle)}</title>\n          <meta\n            name=\"description\"\n            content={formatMessage(messages.HTMLDescription)}\n          />\n        </Helmet>\n      </Meta>\n\n      <Container>\n        <HeaderContainer>\n          <PageTitle>{formatMessage(messages.title)}</PageTitle>\n        </HeaderContainer>\n        <SetupSection />\n        <EngageSection />\n        <ManageSection />\n        <DecideSection />\n      </Container>\n    </>\n  );\n};\n\nexport default injectIntl(AdminGuide);\n","import React, { memo } from 'react';\nimport { isNilOrError, stopPropagation } from 'utils/helperUtils';\nimport { DeletedUser } from '../Notification';\n\n// data\nimport { ICommentOnYourIdeaNotificationData } from 'services/notifications';\n\n// i18n\nimport messages from '../../messages';\nimport { FormattedMessage } from 'utils/cl-intl';\n\n// components\nimport NotificationWrapper from '../NotificationWrapper';\nimport Link from 'utils/cl-router/Link';\nimport { getInputTermMessage } from 'utils/i18n';\n\n// hooks\nimport useIdea from 'hooks/useIdea';\nimport useProject from 'hooks/useProject';\nimport usePhases from 'hooks/usePhases';\n\n// services\nimport { getInputTerm } from 'services/participationContexts';\n\ninterface Props {\n  notification: ICommentOnYourIdeaNotificationData;\n}\n\nconst CommentOnYourIdeaNotification = memo<Props>((props) => {\n  const { notification } = props;\n  const idea = useIdea({ ideaSlug: notification.attributes.post_slug });\n  const projectId = !isNilOrError(idea)\n    ? idea.relationships.project.data.id\n    : null;\n  const project = useProject({ projectId });\n  const phases = usePhases(projectId);\n\n  if (!isNilOrError(project)) {\n    const inputTerm = getInputTerm(\n      project.attributes.process_type,\n      project,\n      phases\n    );\n    const deletedUser =\n      isNilOrError(notification.attributes.initiating_user_first_name) ||\n      isNilOrError(notification.attributes.initiating_user_slug);\n\n    return (\n      <NotificationWrapper\n        linkTo={`/ideas/${notification.attributes.post_slug}`}\n        timing={notification.attributes.created_at}\n        icon=\"comments\"\n        isRead={!!notification.attributes.read_at}\n      >\n        <FormattedMessage\n          {...getInputTermMessage(inputTerm, {\n            idea: messages.userCommentedOnYourIdea,\n            option: messages.userCommentedOnYourOption,\n            project: messages.userCommentedOnYourProject,\n            question: messages.userCommentedOnYourQuestion,\n            issue: messages.userCommentedOnYourIssue,\n            contribution: messages.userCommentedOnYourContribution,\n          })}\n          values={{\n            name: deletedUser ? (\n              <DeletedUser>\n                <FormattedMessage {...messages.deletedUser} />\n              </DeletedUser>\n            ) : (\n              <Link\n                to={`/profile/${notification.attributes.initiating_user_slug}`}\n                onClick={stopPropagation}\n              >\n                {notification.attributes.initiating_user_first_name}\n              </Link>\n            ),\n          }}\n        />\n      </NotificationWrapper>\n    );\n  }\n\n  return null;\n});\n\nexport default CommentOnYourIdeaNotification;\n","import React from 'react';\n\nimport FeatureFlag from 'components/FeatureFlag';\nimport TranslateButton from 'components/UI/TranslateButton';\nimport styled from 'styled-components';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { GetIdeaChildProps } from 'resources/GetIdea';\nimport { GetLocaleChildProps } from 'resources/GetLocale';\n\nconst StyledTranslateButton = styled(TranslateButton)`\n  margin-bottom: 20px;\n`;\n\ninterface Props {\n  translateButtonClicked: boolean;\n  onClick: () => void;\n  idea: GetIdeaChildProps;\n  locale: GetLocaleChildProps;\n}\n\nconst IdeasShowTranslateButton = ({\n  idea,\n  locale,\n  translateButtonClicked,\n  onClick,\n}: Props) => {\n  const showTranslateButton =\n    !isNilOrError(idea) &&\n    !isNilOrError(locale) &&\n    !idea.attributes.title_multiloc[locale];\n\n  return (\n    <FeatureFlag name=\"machine_translations\">\n      {showTranslateButton && (\n        <StyledTranslateButton\n          translateButtonClicked={translateButtonClicked}\n          onClick={onClick}\n        />\n      )}\n    </FeatureFlag>\n  );\n};\n\nexport default IdeasShowTranslateButton;\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  invisibleTitleComments: {\n    id: 'app.components.Comments.invisibleTitleComments',\n    defaultMessage: 'Comments',\n  },\n  cancel: {\n    id: 'app.components.Comments.cancel',\n    defaultMessage: 'Cancel',\n  },\n  official: {\n    id: 'app.components.Comments.official',\n    defaultMessage: 'Official',\n  },\n  addCommentError: {\n    id: 'app.containers.Comments.addCommentError',\n    defaultMessage: 'Something went wrong. Please try again later.',\n  },\n  replyToComment: {\n    id: 'app.components.Comments.replyToComment',\n    defaultMessage: 'Reply to comment',\n  },\n  childCommentBodyPlaceholder: {\n    id: 'app.containers.Comments.childCommentBodyPlaceholder',\n    defaultMessage: 'Write a reply...',\n  },\n  publishComment: {\n    id: 'app.containers.Comments.publishComment',\n    defaultMessage: 'Post comment',\n  },\n  commentDeletedPlaceholder: {\n    id: 'app.containers.Comments.commentDeletedPlaceholder',\n    defaultMessage: 'This comment has been deleted.',\n  },\n  saveCommentEdit: {\n    id: 'app.containers.Comments.saveComment',\n    defaultMessage: 'Save',\n  },\n  cancelCommentEdit: {\n    id: 'app.containers.Comments.cancelCommentEdit',\n    defaultMessage: 'Cancel',\n  },\n  commentingDisabledInactiveProject: {\n    id: 'app.components.Comments.commentingDisabledInactiveProject',\n    defaultMessage:\n      'Commenting is not possible because this project is currently not active.',\n  },\n  commentingDisabledProject: {\n    id: 'app.components.Comments.commentingDisabledProject',\n    defaultMessage: 'Commenting in this project is currently disabled.',\n  },\n  commentingDisabledInCurrentPhase: {\n    id: 'app.components.Comments.commentingDisabledInCurrentPhase',\n    defaultMessage: 'Commenting is not possible in the current phase.',\n  },\n  commentingDisabledUnverified: {\n    id: 'app.components.Comments.commentingDisabledUnverified',\n    defaultMessage: '{verifyIdentityLink} to comment.',\n  },\n  commentingMaybeNotPermitted: {\n    id: 'app.components.Comments.commentingMaybeNotPermitted',\n    defaultMessage:\n      'Not all users are allowed to comment. Please {signUpLink} or {signInLink} to see whether you comply.',\n  },\n  signInToComment: {\n    id: 'app.containers.Comments.signInToComment',\n    defaultMessage: 'Please {signUpLink} or {signInLink} to comment.',\n  },\n  commentingInitiativeNotPermitted: {\n    id: 'app.components.Comments.commentingInitiativeNotPermitted',\n    defaultMessage: \"You don't have the rights to comment.\",\n  },\n  commentingInitiativeMaybeNotPermitted: {\n    id: 'app.components.Comments.commentingInitiativeMaybeNotPermitted',\n    defaultMessage:\n      'Not all users are allowed to comment. Please {signUpLink} or {signInLink} to see whether you comply.',\n  },\n  signInToCommentInitiative: {\n    id: 'app.containers.Comments.signInToCommentInitiative',\n    defaultMessage: 'Please {signUpLink} or {signInLink} to comment.',\n  },\n  signInAndVerifyToCommentInitiative: {\n    id: 'app.containers.Comments.signInAndVerifyToCommentInitiative',\n    defaultMessage:\n      'You need a verified account to comment, please {signUpLink} or {signInLink}.',\n  },\n  signInLinkText: {\n    id: 'app.containers.Comments.signInLinkText',\n    defaultMessage: 'log in',\n  },\n  signUpLinkText: {\n    id: 'app.containers.Comments.signUpLinkText',\n    defaultMessage: 'sign up',\n  },\n  verifyIdentityLinkText: {\n    id: 'app.containers.Comments.verifyIdentityLinkText',\n    defaultMessage: 'Verify your identity',\n  },\n  adminCommentDeletionCancelButton: {\n    id: 'app.containers.Comments.adminCommentDeletionCancelButton',\n    defaultMessage: 'Leave the comment',\n  },\n  adminCommentDeletionConfirmButton: {\n    id: 'app.containers.Comments.adminCommentDeletionConfirmButton',\n    defaultMessage: 'Delete this comment',\n  },\n  reportAsSpam: {\n    id: 'app.components.Comments.reportAsSpam',\n    defaultMessage: 'Report as spam',\n  },\n  deleteComment: {\n    id: 'app.containers.Comments.deleteComment',\n    defaultMessage: 'Delete',\n  },\n  editComment: {\n    id: 'app.containers.Comments.editComment',\n    defaultMessage: 'Edit',\n  },\n  confirmCommentDeletion: {\n    id: 'app.containers.Comments.confirmCommentDeletion',\n    defaultMessage:\n      \"Are you sure you want to delete this comment? There's no turning back!\",\n  },\n  commentDeletionCancelButton: {\n    id: 'app.containers.Comments.commentDeletionCancelButton',\n    defaultMessage: 'Keep my comment',\n  },\n  commentDeletionConfirmButton: {\n    id: 'app.containers.Comments.commentDeletionConfirmButton',\n    defaultMessage: 'Delete my comment',\n  },\n  reportAsSpamModalTitle: {\n    id: 'app.containers.Comments.reportAsSpamModalTitle',\n    defaultMessage: 'Why do you want to report this as spam?',\n  },\n  commentsSortTitle: {\n    id: 'app.containers.Comments.commentsSortTitle',\n    defaultMessage: 'Sort comments by',\n  },\n  oldestToNewest: {\n    id: 'app.components.Comments.oldestToNewest',\n    defaultMessage: 'Oldest to Newest',\n  },\n  mostUpvoted: {\n    id: 'app.components.Comments.mostUpvoted',\n    defaultMessage: 'Most voted',\n  },\n  upvoteComment: {\n    id: 'app.components.Comments.upvoteComment',\n    defaultMessage: 'Upvote this comment',\n  },\n  commentUpvote: {\n    id: 'app.containers.Comments.commentUpvote',\n    defaultMessage: 'Upvote',\n  },\n  commentCancelUpvote: {\n    id: 'app.containers.Comments.commentCancelUpvote',\n    defaultMessage: 'Cancel',\n  },\n  commentReplyButton: {\n    id: 'app.containers.Comments.commentReplyButton',\n    defaultMessage: 'Reply',\n  },\n  seeTranslation: {\n    id: 'app.components.Comments.seeTranslation',\n    defaultMessage: 'See translation',\n  },\n  seeOriginal: {\n    id: 'app.components.Comments.seeOriginal',\n    defaultMessage: 'See original',\n  },\n  loadingMoreComments: {\n    id: 'app.containers.Comments.loadingMoreComments',\n    defaultMessage: 'Loading more comments...',\n  },\n  loadMoreComments: {\n    id: 'app.containers.Comments.loadMoreComments',\n    defaultMessage: 'Load more comments',\n  },\n  loadingComments: {\n    id: 'app.containers.Comments.loadingComments',\n    defaultMessage: 'Loading comments...',\n  },\n  ideaCommentBodyPlaceholder: {\n    id: 'app.containers.Comments.ideaCommentBodyPlaceholder',\n    defaultMessage: 'What do you think about this idea?',\n  },\n  initiativeCommentBodyPlaceholder: {\n    id: 'app.containers.Comments.initiativeCommentBodyPlaceholder',\n    defaultMessage: 'What do you think about this initiative?',\n  },\n  yourComment: {\n    id: 'app.components.Comments.yourComment',\n    defaultMessage: 'Your comment',\n  },\n  showMoreActions: {\n    id: 'app.containers.Comments.showMoreActions',\n    defaultMessage: 'Show more actions',\n  },\n  deleteReason_other: {\n    id: 'app.containers.Comments.deleteReason_other',\n    defaultMessage: 'Other reason',\n  },\n  deleteReason_inappropriate: {\n    id: 'app.containers.Comments.deleteReason_inappropriate',\n    defaultMessage: 'It is inappropriate or offensive',\n  },\n  deleteReason_irrelevant: {\n    id: 'app.containers.Comments.deleteReason_irrelevant',\n    defaultMessage: 'This does not belong here',\n  },\n  a11y_commentPosted: {\n    id: 'app.containers.Comments.a11y_commentPosted',\n    defaultMessage: 'Comment posted',\n  },\n  a11y_commentDeleted: {\n    id: 'app.containers.Comments.a11y_commentDeleted',\n    defaultMessage: 'Comment deleted',\n  },\n  a11y_upvoteCount: {\n    id: 'app.containers.Comments.a11y_upvoteCount',\n    defaultMessage:\n      '{upvoteCount, plural, =0 {no upvotes} one {1 upvote} other {# upvotes}}',\n  },\n  a11y_undoUpvote: {\n    id: 'app.containers.Comments.a11y_undoUpvote',\n    defaultMessage: 'Undo upvote',\n  },\n  profanityError: {\n    id: 'app.containers.Comments.profanityError',\n    defaultMessage:\n      'You may have used one or more words that are considered profanity by {guidelinesLink}. Please alter your text to remove any profanities that might be present.',\n  },\n  guidelinesLinkText: {\n    id: 'app.containers.Comments.guidelinesLinkText',\n    defaultMessage: 'our guidelines',\n  },\n});\n","import React, { memo, useCallback } from 'react';\nimport { isNilOrError } from 'utils/helperUtils';\n\n// i18n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from './messages';\n\n// components\nimport Button from 'components/UI/Button';\n\n// hooks\nimport useAuthUser from 'hooks/useAuthUser';\n\n// style\nimport styled from 'styled-components';\nimport { fontSizes, media } from 'utils/styleUtils';\nimport success from './success.jpg';\n\nconst Container = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding-bottom: 30px;\n\n  ${media.smallerThanMinTablet`\n    padding-bottom: 20px;\n  `}\n`;\n\nconst ImageContainer = styled.div`\n  width: 324px;\n  height: 230px;\n  position: relative;\n  margin-bottom: 30px;\n`;\n\nexport const Title = styled.h1`\n  width: 100%;\n  color: ${({ theme }) => theme.colorText};\n  font-size: ${fontSizes.xxl}px;\n  font-weight: 300;\n  line-height: normal;\n  text-align: center;\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  margin: 0;\n  margin-bottom: 35px;\n  padding: 0;\n\n  strong {\n    font-weight: 600;\n  }\n\n  ${media.smallerThanMaxTablet`\n    font-size: ${fontSizes.xl}px;\n    margin-bottom: 20px;\n  `}\n`;\n\nconst ButtonWrapper = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: center;\n`;\n\ninterface Props {\n  onClose: () => void;\n  className?: string;\n}\n\nexport default memo<Props>(({ className, onClose }) => {\n  const authUser = useAuthUser();\n\n  const handleOnClose = useCallback(() => {\n    onClose();\n  }, [onClose]);\n\n  if (!isNilOrError(authUser)) {\n    return (\n      <Container id=\"e2e-signup-success-container\" className={className || ''}>\n        <ImageContainer aria-hidden>\n          <img src={success} alt=\"\" role=\"presentation\" />\n        </ImageContainer>\n        <Title>\n          <FormattedMessage {...messages.signUpSuccess} />\n        </Title>\n        <ButtonWrapper>\n          <Button\n            className=\"e2e-signup-success-close-button\"\n            onClick={handleOnClose}\n          >\n            <FormattedMessage {...messages.close} />\n          </Button>\n        </ButtonWrapper>\n      </Container>\n    );\n  }\n\n  return null;\n});\n","import styled from 'styled-components';\nimport { Icon } from 'cl2-component-library';\nimport { colors } from 'utils/styleUtils';\n\nconst HeaderIcon = styled(Icon).attrs({ name: 'lightningBolt' })`\n  flex: 0 0 13px;\n  width: 13px;\n  fill: ${colors.adminOrangeIcons};\n  margin-top: 10px;\n  margin-right: 12px;\n`;\n\nexport default HeaderIcon;\n","import { API_PATH } from 'containers/App/constants';\nimport { IVerifiedResponse } from 'services/verify';\nimport streams from 'utils/streams';\n\nexport function verifyGentRrn(rrn: string) {\n  return streams.add<IVerifiedResponse>(\n    `${API_PATH}/verification_methods/gent_rrn/verification`,\n    {\n      verification: {\n        rrn,\n      },\n    }\n  );\n}\n","import React from 'react';\nimport { ModuleConfiguration } from 'utils/moduleUtils';\nimport './services/verificationMethods';\nimport IdCardLookupButton from './components/IdCardLookupButton';\nimport IdCardLookupForm from './components/IdCardLookupForm';\nimport { IDLookupMethod } from 'services/verificationMethods';\n\nconst configuration: ModuleConfiguration = {\n  outlets: {\n    'app.components.VerificationModal.button': (props) => {\n      if (props.method.attributes.name !== 'id_card_lookup') return null;\n      return (\n        <IdCardLookupButton\n          {...props}\n          method={props.method as IDLookupMethod}\n        />\n      );\n    },\n    'app.components.VerificationModal.methodStep': (props) => {\n      if (props.method.attributes.name !== 'id_card_lookup') return null;\n      return (\n        <IdCardLookupForm {...props} method={props.method as IDLookupMethod} />\n      );\n    },\n  },\n};\n\nexport default configuration;\n","import React from 'react';\nimport { ModuleConfiguration } from 'utils/moduleUtils';\nimport FeatureFlag from 'components/FeatureFlag';\nimport EventsWidget from './citizen';\nimport EventsWidgetSwitch from './admin/EventsWidgetSwitch';\n\nconst configuration: ModuleConfiguration = {\n  outlets: {\n    'app.containers.LandingPage.EventsWidget': () => (\n      <FeatureFlag name=\"events_widget\">\n        <EventsWidget />\n      </FeatureFlag>\n    ),\n    'app.containers.Admin.settings.customize.EventsWidgetSwitch': (props) => (\n      <EventsWidgetSwitch {...props} />\n    ),\n  },\n};\n\nexport default configuration;\n","import { loadModules } from 'utils/moduleUtils';\n\nimport projectFoldersConfiguration from './commercial/project_folders';\nimport smartGroupsConfiguration from './commercial/smart_groups';\nimport userCustomFieldsConfiguration from './commercial/user_custom_fields';\nimport ideaCustomFieldsConfiguration from './commercial/idea_custom_fields';\nimport granularPermissionsConfiguration from './commercial/granular_permissions';\nimport projectManagementConfiguration from './commercial/project_management';\nimport ideaAssignmentConfiguration from './commercial/idea_assignment';\nimport moderationConfiguration from './commercial/moderation';\nimport flagInappropriateContentConfiguration from './commercial/flag_inappropriate_content';\nimport geographicDashboardConfiguration from './commercial/geographic_dashboard';\nimport adminProjectTemplatesConfiguration from './commercial/admin_project_templates';\nimport machineTranslationsConfiguration from './commercial/machine_translations';\nimport similarIdeaConfiguration from './commercial/similar_ideas';\nimport clusteringsConfiguration from './commercial/clusterings';\n\nimport projectVisibilityConfiguration from './free/project_visibility';\n\nimport customMapsConfiguration from './commercial/custom_maps';\nimport googleTagManagerConfiguration from './commercial/google_tag_manager';\nimport googleAnalyticsConfiguration from './commercial/google_analytics';\nimport intercomConfiguration from './commercial/intercom';\nimport satismeterConfiguration from './commercial/satismeter';\nimport segmentConfiguration from './commercial/segment';\nimport matomoConfiguration from './commercial/matomo';\nimport customIdeaStatusesConfiguration from './commercial/custom_idea_statuses';\nimport verificationConfiguration from './commercial/verification';\nimport customTopicsConfiguration from './commercial/custom_topics';\n\nimport idAuth0Configuration from './commercial/id_auth0';\nimport idBosaFasConfiguration from './commercial/id_bosa_fas';\nimport idCowConfiguration from './commercial/id_cow';\nimport idBogusConfiguration from './commercial/id_bogus';\nimport idIdCardLookupConfiguration from './commercial/id_id_card_lookup';\nimport IdFranceConnectConfiguration from './commercial/id_franceconnect';\nimport IdGentRrnConfiguration from './commercial/id_gent_rrn';\nimport IdClaveUnicaConfiguration from './commercial/id_clave_unica';\n\nimport widgetsConfiguration from './commercial/widgets';\nimport eventsWidgetConfiguration from './commercial/events_widget';\n\nimport taggingConfiguration from './commercial/tagging';\nimport insightsConfiguration from './commercial/insights';\nimport customStyleConfiguration from './commercial/custom_style';\n\nimport userConfirmationConfiguration from './free/user_confirmation';\n\n// eslint-disable-next-line no-var\ndeclare var CL_CONFIG: any;\n\nexport default loadModules([\n  {\n    configuration: projectFoldersConfiguration,\n    isEnabled: CL_CONFIG['modules']['commercial/project_folders'],\n  },\n  {\n    configuration: smartGroupsConfiguration,\n    isEnabled: CL_CONFIG['modules']['commercial/smart_groups'],\n  },\n  {\n    configuration: userCustomFieldsConfiguration,\n    isEnabled: CL_CONFIG['modules']['commercial/user_custom_fields'],\n  },\n  {\n    configuration: ideaCustomFieldsConfiguration,\n    isEnabled: CL_CONFIG['modules']['commercial/idea_custom_fields'],\n  },\n  {\n    configuration: googleTagManagerConfiguration,\n    isEnabled: CL_CONFIG['modules']['commercial/google_tag_manager'],\n  },\n  {\n    configuration: matomoConfiguration,\n    isEnabled: CL_CONFIG['modules']['commercial/matomo'],\n  },\n  {\n    configuration: googleAnalyticsConfiguration,\n    isEnabled: CL_CONFIG['modules']['commercial/google_analytics'],\n  },\n  {\n    configuration: intercomConfiguration,\n    isEnabled: CL_CONFIG['modules']['commercial/intercom'],\n  },\n  {\n    configuration: satismeterConfiguration,\n    isEnabled: CL_CONFIG['modules']['commercial/satismeter'],\n  },\n  {\n    configuration: segmentConfiguration,\n    isEnabled: CL_CONFIG['modules']['commercial/segment'],\n  },\n  {\n    configuration: granularPermissionsConfiguration,\n    isEnabled: CL_CONFIG['modules']['commercial/granular_permissions'],\n  },\n  {\n    configuration: projectVisibilityConfiguration,\n    isEnabled: CL_CONFIG['modules']['free/project_visibility'],\n  },\n  {\n    configuration: projectManagementConfiguration,\n    isEnabled: CL_CONFIG['modules']['commercial/project_management'],\n  },\n  {\n    configuration: moderationConfiguration,\n    isEnabled: CL_CONFIG['modules']['commercial/moderation'],\n  },\n  {\n    configuration: flagInappropriateContentConfiguration,\n    isEnabled: CL_CONFIG['modules']['commercial/flag_inappropriate_content'],\n  },\n  {\n    configuration: ideaAssignmentConfiguration,\n    isEnabled: CL_CONFIG['modules']['commercial/idea_assignment'],\n  },\n  {\n    configuration: customIdeaStatusesConfiguration,\n    isEnabled: CL_CONFIG['modules']['commercial/custom_idea_statuses'],\n  },\n  {\n    configuration: customTopicsConfiguration,\n    isEnabled: CL_CONFIG['modules']['commercial/custom_topics'],\n  },\n  {\n    configuration: clusteringsConfiguration,\n    isEnabled: CL_CONFIG['modules']['commercial/clusterings'],\n  },\n  {\n    configuration: geographicDashboardConfiguration,\n    isEnabled: CL_CONFIG['modules']['commercial/geographic_dashboard'],\n  },\n  {\n    configuration: adminProjectTemplatesConfiguration,\n    isEnabled: CL_CONFIG['modules']['commercial/admin_project_templates'],\n  },\n  {\n    configuration: similarIdeaConfiguration,\n    isEnabled: CL_CONFIG['modules']['commercial/similar_ideas'],\n  },\n  {\n    configuration: customMapsConfiguration,\n    isEnabled: CL_CONFIG['modules']['commercial/custom_maps'],\n  },\n  {\n    configuration: idAuth0Configuration,\n    isEnabled: CL_CONFIG['modules']['commercial/id_auth0'],\n  },\n  {\n    configuration: idBosaFasConfiguration,\n    isEnabled: CL_CONFIG['modules']['commercial/id_bosa_fas'],\n  },\n  {\n    configuration: idCowConfiguration,\n    isEnabled: CL_CONFIG['modules']['commercial/id_cow'],\n  },\n  {\n    configuration: idBogusConfiguration,\n    isEnabled: CL_CONFIG['modules']['commercial/id_bogus'],\n  },\n  {\n    configuration: idIdCardLookupConfiguration,\n    isEnabled: CL_CONFIG['modules']['commercial/id_id_card_lookup'],\n  },\n  {\n    configuration: IdFranceConnectConfiguration,\n    isEnabled: CL_CONFIG['modules']['commercial/id_franceconnect'],\n  },\n  {\n    configuration: IdGentRrnConfiguration,\n    isEnabled: CL_CONFIG['modules']['commercial/id_gent_rrn'],\n  },\n  {\n    configuration: IdClaveUnicaConfiguration,\n    isEnabled: CL_CONFIG['modules']['commercial/id_clave_unica'],\n  },\n  {\n    configuration: machineTranslationsConfiguration,\n    isEnabled: CL_CONFIG['modules']['commercial/machine_translations'],\n  },\n  {\n    configuration: verificationConfiguration,\n    isEnabled: CL_CONFIG['modules']['commercial/verification'],\n  },\n  {\n    configuration: widgetsConfiguration,\n    isEnabled: CL_CONFIG['modules']['commercial/widgets'],\n  },\n  {\n    configuration: eventsWidgetConfiguration,\n    isEnabled: CL_CONFIG['modules']['commercial/events_widget'],\n  },\n  {\n    configuration: taggingConfiguration,\n    isEnabled: CL_CONFIG['modules']['commercial/tagging'],\n  },\n  {\n    configuration: insightsConfiguration,\n    isEnabled: CL_CONFIG['modules']['commercial/insights'],\n  },\n  {\n    configuration: customStyleConfiguration,\n    isEnabled: CL_CONFIG['modules']['commercial/custom_style'],\n  },\n  {\n    configuration: userConfirmationConfiguration,\n    isEnabled: CL_CONFIG['modules']['free/user_confirmation'],\n  },\n]);\n","import React from 'react';\nimport { ModuleConfiguration } from 'utils/moduleUtils';\nimport ConfirmationSignupStep from './citizen/components/ConfirmationSignupStep';\nimport ToggleUserConfirmation from './admin/components/ToggleUserConfirmation';\nimport useFeatureFlag from 'hooks/useFeatureFlag';\nimport { modifyMetaData } from 'components/SignUpIn/events';\nimport useAuthUser from 'hooks/useAuthUser';\nimport { isNilOrError } from 'utils/helperUtils';\nimport FeatureFlag from 'components/FeatureFlag';\n\nexport const CONFIRMATION_STEP_NAME = 'confirmation';\n\nconst configuration: ModuleConfiguration = {\n  outlets: {\n    'app.components.SignUpIn.SignUp.step': (props) => (\n      <FeatureFlag name=\"user_confirmation\">\n        <ConfirmationSignupStep {...props} />\n      </FeatureFlag>\n    ),\n    'app.containers.Admin.settings.registrationBeginning': (props) => (\n      <FeatureFlag onlyCheckAllowed name=\"user_confirmation\">\n        <ToggleUserConfirmation {...props} />\n      </FeatureFlag>\n    ),\n    'app.components.SignUpIn.metaData': ({ metaData }) => {\n      // eslint-disable-next-line react-hooks/rules-of-hooks\n      const user = useAuthUser();\n      // eslint-disable-next-line react-hooks/rules-of-hooks\n      const isUserConfirmationEnabled = useFeatureFlag('user_confirmation');\n\n      if (!metaData) {\n        return null;\n      }\n\n      const confirmationRequired =\n        !isNilOrError(user) &&\n        // When we allow users to reconfirm their emails, we should stop checking for registration_completed_at.\n        user?.attributes?.confirmation_required &&\n        !user?.attributes?.registration_completed_at;\n      if (\n        confirmationRequired &&\n        isUserConfirmationEnabled &&\n        !metaData.requiresConfirmation\n      ) {\n        modifyMetaData(metaData, {\n          requiresConfirmation: true,\n          modalNoCloseSteps: [CONFIRMATION_STEP_NAME],\n        });\n      }\n\n      return null;\n    },\n  },\n};\n\nexport default configuration;\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  verifyGentRrn: {\n    id: 'app.modules.id_gent_rrn.verifyGentRrn',\n    defaultMessage: 'Verify using social security number',\n  },\n  rrnLabel: {\n    id: 'app.modules.id_gent_rrn.rrnLabel',\n    defaultMessage: 'Social security number',\n  },\n  rrnTooltip: {\n    id: 'app.modules.id_gent_rrn.rrnTooltip',\n    defaultMessage:\n      'We ask your social security number to verify whether you are a citizen of Ghent, older than 14 year old.',\n  },\n  showGentRrnHelp: {\n    id: 'app.modules.id_gent_rrn.showGentRrnHelp',\n    defaultMessage: 'Where can I find my social security number?',\n  },\n  gentRrnHelp: {\n    id: 'app.modules.id_gent_rrn.gentRrnHelp',\n    defaultMessage:\n      'Your social security number is shown on the back of your digital identity card',\n  },\n  emptyFieldError: {\n    id: 'app.modules.id_gent_rrn.emptyFieldError',\n    defaultMessage: 'This field cannot be empty.',\n  },\n  invalidRrnError: {\n    id: 'app.modules.id_gent_rrn.invalidRrnError',\n    defaultMessage: 'Invalid social security number',\n  },\n  verifyYourIdentity: {\n    id: 'app.modules.id_gent_rrn.verifyYourIdentity',\n    defaultMessage: 'Verify your identity',\n  },\n  takenFormError: {\n    id: 'app.modules.id_gent_rrn.takenFormError',\n    defaultMessage:\n      'Your social security number has already been used to verify another account',\n  },\n  noMatchFormError: {\n    id: 'app.modules.id_gent_rrn.noMatchFormError',\n    defaultMessage:\n      \"We couldn't find back information on your social security number\",\n  },\n  notEntitledLivesOutsideFormError: {\n    id: 'app.modules.id_gent_rrn.notEntitledLivesOutsideFormError',\n    defaultMessage: \"We can't verify you because you live outside of Ghent\",\n  },\n  notEntitledTooYoungFormError: {\n    id: 'app.modules.id_gent_rrn.notEntitledTooYoungFormError',\n    defaultMessage: \"We can't verify you because you are younger than 14 years\",\n  },\n  somethingWentWrongError: {\n    id: 'app.modules.id_gent_rrn.somethingWentWrongError',\n    defaultMessage: \"We can't verify you because something went wrong\",\n  },\n  submit: {\n    id: 'app.modules.id_gent_rrn.submit',\n    defaultMessage: 'Submit',\n  },\n  cancel: {\n    id: 'app.modules.id_gent_rrn.cancel',\n    defaultMessage: 'Cancel',\n  },\n});\n","import React from 'react';\nimport { ModuleConfiguration } from 'utils/moduleUtils';\nimport Tab from './admin/components/Tab';\nimport FeatureFlag from 'components/FeatureFlag';\n\nconst configuration: ModuleConfiguration = {\n  routes: {\n    'admin.ideas': [\n      {\n        path: 'statuses',\n        container: () => import('./admin/containers/'),\n      },\n      {\n        path: 'statuses/new',\n        container: () => import('./admin/containers/new'),\n      },\n      {\n        path: 'statuses/:id',\n        container: () => import('./admin/containers/edit'),\n      },\n    ],\n  },\n  outlets: {\n    'app.containers.Admin.ideas.tabs': (props) => {\n      return (\n        <FeatureFlag name=\"custom_idea_statuses\">\n          <Tab {...props} />\n        </FeatureFlag>\n      );\n    },\n  },\n};\n\nexport default configuration;\n","import React from 'react';\nimport { isNil, omitBy, get } from 'lodash-es';\nimport { BehaviorSubject, Subscription } from 'rxjs';\nimport { distinctUntilChanged, switchMap, map } from 'rxjs/operators';\nimport { usersStream, IUserData } from 'services/users';\nimport shallowCompare from 'utils/shallowCompare';\nimport {\n  getPageNumberFromUrl,\n  getSortAttribute,\n  getSortDirection,\n  SortDirection,\n} from 'utils/paginationUtils';\nimport { isNilOrError } from 'utils/helperUtils';\n\nexport type SortAttribute = 'email' | 'last_name' | 'created_at' | 'role';\nexport type Sort =\n  | 'created_at'\n  | '-created_at'\n  | 'last_name'\n  | '-last_name'\n  | 'email'\n  | '-email'\n  | 'role'\n  | '-role';\n\nexport interface InputProps {\n  pageNumber?: number;\n  pageSize?: number;\n  sort?: Sort;\n  search?: string;\n  groupId?: string;\n  canModerateProject?: string;\n  canModerate?: boolean;\n  canAdmin?: boolean;\n}\n\ninterface IQueryParameters {\n  'page[number]': number;\n  'page[size]': number;\n  sort: Sort;\n  search?: string;\n  group?: string;\n  can_moderate_project?: string;\n  can_moderate?: boolean;\n  can_admin?: boolean;\n}\n\ntype children = (obj: GetUsersChildProps) => JSX.Element | null;\n\ninterface Props extends InputProps {\n  children?: children;\n}\n\ntype State = {\n  queryParameters: IQueryParameters;\n  usersList: IUserData[] | undefined | null | Error;\n  sortAttribute: SortAttribute;\n  sortDirection: SortDirection;\n  currentPage: number;\n  lastPage: number;\n  loadMoreCount: number;\n  isLoading: boolean;\n};\n\nexport type GetUsersChildProps = State & {\n  onChangeSorting: (sortAttribute: SortAttribute) => void;\n  onChangeSearchTerm: (search: string) => void;\n  onChangePage: (pageNumber: number) => void;\n  onLoadMore: () => void;\n};\n\nexport default class GetUsers extends React.Component<Props, State> {\n  queryParameters$: BehaviorSubject<IQueryParameters>;\n  subscriptions: Subscription[];\n\n  constructor(props: Props) {\n    super(props);\n    const initialSort: Partial<Sort> = '-created_at';\n    this.state = {\n      // defaults\n      queryParameters: {\n        'page[number]': 1,\n        'page[size]': 20,\n        sort: initialSort,\n        search: undefined,\n        group: undefined,\n        can_moderate_project: undefined,\n        can_moderate: undefined,\n        can_admin: undefined,\n      },\n      usersList: undefined,\n      sortAttribute: getSortAttribute<Sort, SortAttribute>(initialSort),\n      sortDirection: getSortDirection<Sort>(initialSort),\n      currentPage: 1,\n      loadMoreCount: 1,\n      isLoading: false,\n      lastPage: 1,\n    };\n  }\n\n  componentDidMount() {\n    const queryParameters = this.getQueryParameters(this.state, this.props);\n\n    this.queryParameters$ = new BehaviorSubject(queryParameters);\n\n    this.subscriptions = [\n      this.queryParameters$\n        .pipe(\n          distinctUntilChanged((x, y) => shallowCompare(x, y)),\n          switchMap((queryParameters) => {\n            const oldPageNumber = this.state.queryParameters['page[number]'];\n            const newPageNumber = queryParameters['page[number]'];\n            queryParameters['page[number]'] =\n              newPageNumber !== oldPageNumber ? newPageNumber : 1;\n            return usersStream({\n              queryParameters,\n            }).observable.pipe(map((users) => ({ users, queryParameters })));\n          })\n        )\n        .subscribe(({ users, queryParameters }) => {\n          this.setState({\n            queryParameters,\n            isLoading: false,\n            usersList: !isNilOrError(users) ? users.data : users,\n            sortAttribute: getSortAttribute<Sort, SortAttribute>(\n              queryParameters.sort\n            ),\n            sortDirection: getSortDirection<Sort>(queryParameters.sort),\n            currentPage:\n              getPageNumberFromUrl(get(users.links, 'self', null)) || 1,\n            lastPage: getPageNumberFromUrl(get(users.links, 'last', null)) || 1,\n          });\n        }),\n    ];\n  }\n\n  componentDidUpdate(prevProps: Props, _prevState: State) {\n    const { children: _prevChildren, ...prevPropsWithoutChildren } = prevProps;\n    const { children: _nextChildren, ...nextPropsWithoutChildren } = this.props;\n\n    if (!shallowCompare(prevPropsWithoutChildren, nextPropsWithoutChildren)) {\n      const queryParameters = this.getQueryParameters(this.state, this.props);\n      this.queryParameters$.next(queryParameters);\n    }\n  }\n\n  componentWillUnmount() {\n    this.subscriptions.forEach((subscription) => subscription.unsubscribe());\n  }\n\n  getQueryParameters = (state: State, props: Props) => {\n    return {\n      ...state.queryParameters,\n      ...omitBy(\n        {\n          'page[number]': props.pageNumber,\n          'page[size]': props.pageSize,\n          sort: props.sort,\n          search: props.search,\n          group: props.groupId,\n          can_moderate_project: props.canModerateProject,\n          can_moderate: props.canModerate,\n          can_admin: props.canAdmin,\n        },\n        isNil\n      ),\n    };\n  };\n\n  handleChangeSorting = (newSortAttribute: SortAttribute) => {\n    const oldSortAttribute = getSortAttribute<Sort, SortAttribute>(\n      this.state.queryParameters.sort\n    );\n    const oldSortDirection = getSortDirection<Sort>(\n      this.state.queryParameters.sort\n    );\n    const newSortDirection =\n      newSortAttribute === oldSortAttribute && oldSortDirection === 'descending'\n        ? 'ascending'\n        : 'descending';\n    const newSortDirectionSymbol = newSortDirection === 'descending' ? '-' : '';\n    const sort = `${newSortDirectionSymbol}${newSortAttribute}` as Sort;\n\n    this.queryParameters$.next({\n      ...this.state.queryParameters,\n      sort,\n    });\n  };\n\n  handleChangeSearchTerm = (search: string) => {\n    this.queryParameters$.next({\n      ...this.state.queryParameters,\n      search,\n    });\n  };\n\n  handleChangePage = async (pageNumber: number) => {\n    return this.queryParameters$.next({\n      ...this.state.queryParameters,\n      'page[number]': pageNumber,\n    });\n  };\n\n  handleLoadMore = () => {\n    this.setState({\n      loadMoreCount: this.state.loadMoreCount + 1,\n      isLoading: true,\n    });\n    this.queryParameters$.next({\n      ...this.state.queryParameters,\n      'page[size]':\n        this.state.queryParameters['page[size]'] *\n        (this.state.loadMoreCount + 1),\n    });\n  };\n\n  render() {\n    const { children } = this.props;\n    return (children as children)({\n      ...this.state,\n      onChangeSorting: this.handleChangeSorting,\n      onChangeSearchTerm: this.handleChangeSearchTerm,\n      onChangePage: this.handleChangePage,\n      onLoadMore: this.handleLoadMore,\n    });\n  }\n}\n","import { useState, useEffect } from 'react';\nimport { Observable, of } from 'rxjs';\nimport {\n  ResourceType,\n  IResourceFileData,\n  IResourceFiles,\n} from 'resources/GetResourceFiles';\nimport { isNilOrError } from 'utils/helperUtils';\n\nimport { projectFilesStream } from 'services/projectFiles';\nimport { phaseFilesStream } from 'services/phaseFiles';\nimport { eventFilesStream } from 'services/eventFiles';\nimport { pageFilesStream } from 'services/pageFiles';\nimport { ideaFilesStream } from 'services/ideaFiles';\nimport { initiativeFilesStream } from 'services/initiativeFiles';\n\ninterface Props {\n  resourceId: string | null;\n  resourceType: ResourceType;\n}\n\nexport default function useResourceFiles({ resourceId, resourceType }: Props) {\n  const [files, setFiles] = useState<\n    IResourceFileData[] | undefined | null | Error\n  >(undefined);\n\n  useEffect(() => {\n    const getResourceStream = (resourceType: ResourceType) => {\n      switch (resourceType) {\n        case 'project':\n          return projectFilesStream;\n        case 'phase':\n          return phaseFilesStream;\n        case 'event':\n          return eventFilesStream;\n        case 'page':\n          return pageFilesStream;\n        case 'idea':\n          return ideaFilesStream;\n        case 'initiative':\n          return initiativeFilesStream;\n      }\n    };\n    const stream = getResourceStream(resourceType);\n    let observable: Observable<IResourceFiles | null> = of(null);\n\n    if (resourceId) {\n      observable = stream(resourceId).observable;\n    }\n\n    const subscription = observable.subscribe((response) => {\n      const files = !isNilOrError(response) ? response.data : response;\n      setFiles(files);\n    });\n\n    return () => subscription.unsubscribe();\n  }, [resourceId, resourceType]);\n\n  return files;\n}\n","import Loadable from 'react-loadable';\nimport { LoadableLoadingAdmin } from 'components/UI/LoadableLoading';\nimport moduleConfiguration from 'modules';\n\nexport default () => ({\n  name: 'Admin dashboard',\n  path: 'dashboard',\n  component: Loadable({\n    loader: () => import('./'),\n    loading: LoadableLoadingAdmin,\n    delay: 500,\n  }),\n  indexRoute: {\n    component: Loadable({\n      loader: () => import('./summary'),\n      loading: () => null,\n    }),\n  },\n  childRoutes: [\n    {\n      path: 'users',\n      component: Loadable({\n        loader: () => import('./users'),\n        loading: () => null,\n      }),\n    },\n    {\n      path: 'reports',\n      indexRoute: {\n        component: Loadable({\n          loader: () => import('./reports'),\n          loading: () => null,\n        }),\n      },\n      childRoutes: [\n        {\n          path: ':projectId',\n          component: Loadable({\n            loader: () => import('./reports/ProjectReport'),\n            loading: () => null,\n          }),\n        },\n      ],\n    },\n    ...moduleConfiguration.routes['admin.dashboards'],\n  ],\n});\n","import moment from 'moment';\nimport { isString } from 'lodash-es';\n\nexport function pastPresentOrFuture(input: string | [string, string]) {\n  if (isString(input)) {\n    const isoDate = getIsoDate(input);\n    const currentIsoDate = moment().format('YYYY-MM-DD');\n\n    if (isoDate === currentIsoDate) {\n      return 'present';\n    } else if (moment(currentIsoDate, 'YYYY-MM-DD').isAfter(isoDate)) {\n      return 'past';\n    }\n\n    return 'future';\n  } else {\n    const startIsoDate = getIsoDate(input[0]);\n    const endIsoDate = getIsoDate(input[1]);\n    const currentIsoDate = moment().format('YYYY-MM-DD');\n\n    if (\n      moment(currentIsoDate, 'YYYY-MM-DD').isBetween(\n        startIsoDate,\n        endIsoDate,\n        'days',\n        '[]'\n      )\n    ) {\n      return 'present';\n    } else if (moment(currentIsoDate, 'YYYY-MM-DD').isAfter(endIsoDate)) {\n      return 'past';\n    }\n\n    return 'future';\n  }\n}\n\nexport function getIsoDate(date: string) {\n  return moment(new Date(date)).format('YYYY-MM-DD');\n}\n\nexport function getDaysRemainingUntil(date: string): number {\n  return moment(new Date(date)).diff(moment({ hours: 0 }), 'days');\n}\n\nexport function convertSecondsToDDHHMM(seconds: number) {\n  const daysLeft = Math.floor(seconds / (3600 * 24));\n  const formattedDaysLeft = daysLeft < 10 ? `0${daysLeft}` : daysLeft;\n  const hoursLeft = Math.floor((seconds % (3600 * 24)) / 3600);\n  const formattedHoursLeft = hoursLeft < 10 ? `0${hoursLeft}` : hoursLeft;\n  const minutesLeft = Math.floor((seconds % 3600) / 60);\n  const formattedMinutesLeft =\n    minutesLeft < 10 ? `0${minutesLeft}` : minutesLeft;\n  return `${formattedDaysLeft}:${formattedHoursLeft}:${formattedMinutesLeft}`;\n}\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  fileUploadLabel: {\n    id: 'app.components.FileUploader.fileUploadLabel',\n    defaultMessage: 'Add files',\n  },\n  fileInputDescription: {\n    id: 'app.components.FileUploader.fileInputDescription',\n    defaultMessage: 'Select a file',\n  },\n  incorrect_extension: {\n    id: 'app.components.FileUploader.incorrect_extension',\n    defaultMessage:\n      '{fileName} is not supported by our system, it will not be uploaded.',\n  },\n  a11y_removeFile: {\n    id: 'app.components.FileUploader.a11y_removeFile',\n    defaultMessage: 'Remove this file',\n  },\n  a11y_noFiles: {\n    id: 'app.components.FileUploader.a11y_noFiles',\n    defaultMessage: 'No files added.',\n  },\n  a11y_filesToBeUploaded: {\n    id: 'app.components.FileUploader.a11y_filesToBeUploaded',\n    defaultMessage: 'Files to be uploaded: {fileNames}',\n  },\n  a11y_file: {\n    id: 'app.components.FileUploader.a11y_file',\n    defaultMessage: 'File: ',\n  },\n});\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  poweredBy: {\n    id: 'app.containers.footer.poweredBy',\n    defaultMessage: 'Powered by',\n  },\n  information: {\n    id: 'app.containers.footer.information',\n    defaultMessage: 'Information',\n  },\n  termsAndConditions: {\n    id: 'app.containers.footer.terms-and-conditions',\n    defaultMessage: 'Terms and Conditions',\n  },\n  privacyPolicy: {\n    id: 'app.containers.footer.privacy-policy',\n    defaultMessage: 'Privacy policy',\n  },\n  accessibilityStatement: {\n    id: 'app.containers.footer.accessibility-statement',\n    defaultMessage: 'Accessibility statement',\n  },\n  cookiePolicy: {\n    id: 'app.containers.footer.cookie-policy',\n    defaultMessage: 'Cookie policy',\n  },\n  faq: {\n    id: 'app.containers.footer.faq',\n    defaultMessage: 'FAQ',\n  },\n  cookieSettings: {\n    id: 'app.containers.footer.cookieSettings',\n    defaultMessage: 'Cookie settings',\n  },\n  feedbackQuestion: {\n    id: 'app.containers.footer.feedbackQuestion',\n    defaultMessage: \"Did you find what you're looking for?\",\n  },\n  yes: {\n    id: 'app.containers.footer.yes',\n    defaultMessage: 'Yes',\n  },\n  no: {\n    id: 'app.containers.footer.no',\n    defaultMessage: 'No',\n  },\n  thanksForFeedback: {\n    id: 'app.containers.footer.thanksForFeedback',\n    defaultMessage: 'Thanks for your feedback!',\n  },\n  sendFeedback: {\n    id: 'app.containers.footer.sendFeedback',\n    defaultMessage: 'Send your feedback',\n  },\n  feedbackModalTitle: {\n    id: 'app.containers.footer.feedbackModalTitle',\n    defaultMessage: 'What were you looking for?',\n  },\n  email: {\n    id: 'app.containers.footer.email',\n    defaultMessage: 'Email (optional)',\n  },\n  feedback: {\n    id: 'app.containers.footer.feedback',\n    defaultMessage: 'Let us know what you didnt find on this page:',\n  },\n  submit: {\n    id: 'app.containers.footer.submit',\n    defaultMessage: 'Submit',\n  },\n  moreInfo: {\n    id: 'app.containers.footer.moreInfo',\n    defaultMessage: '... let us know more',\n  },\n  feedbackSuccessfullySubmitted: {\n    id: 'app.containers.footer.feedbackSuccessfullySubmitted',\n    defaultMessage: 'Your feedback was successfully submitted.',\n  },\n  close: {\n    id: 'app.containers.footer.close',\n    defaultMessage: 'Close',\n  },\n  logoAltText: {\n    id: 'app.containers.footer.logoAltText',\n    defaultMessage: 'Website of {tenantName}',\n  },\n  siteMap: {\n    id: 'app.containers.footer.siteMap',\n    defaultMessage: 'Site Map',\n  },\n  feedbackEmptyError: {\n    id: 'app.containers.footer.feedbackEmptyError',\n    defaultMessage: 'The feedback field cannot be empty.',\n  },\n});\n","import React, { PureComponent } from 'react';\nimport { reportError } from 'utils/loggingUtils';\nimport { adopt } from 'react-adopt';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { isEmpty } from 'lodash-es';\n\n// utils\nimport Link from 'utils/cl-router/Link';\nimport eventEmitter from 'utils/eventEmitter';\n\n// components\nimport SendFeedback from 'components/SendFeedback';\nimport Modal from 'components/UI/Modal';\nimport ShortFeedbackForm from './ShortFeedbackForm';\nimport { postProductFeedback } from 'services/productFeedback';\nimport Button from 'components/UI/Button';\nimport { Icon } from 'cl2-component-library';\n\n// i18n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from './messages';\n\n// tracking\nimport { trackEventByName } from 'utils/analytics';\nimport tracks from './tracks';\n\n// services\nimport { removeUrlLocale } from 'services/locale';\nimport { LEGAL_PAGES, TLegalPage } from 'services/pages';\n\n// resources\nimport GetLocale, { GetLocaleChildProps } from 'resources/GetLocale';\nimport GetWindowSize, {\n  GetWindowSizeChildProps,\n} from 'resources/GetWindowSize';\nimport GetAppConfiguration, {\n  GetAppConfigurationChildProps,\n} from 'resources/GetAppConfiguration';\n\n// style\nimport styled, { css } from 'styled-components';\nimport { transparentize } from 'polished';\nimport {\n  media,\n  colors,\n  fontSizes,\n  viewportWidths,\n  isRtl,\n} from 'utils/styleUtils';\nimport GetFeatureFlag from 'resources/GetFeatureFlag';\n\nconst Container = styled.footer<{ insideModal?: boolean }>`\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  position: relative;\n\n  ${media.smallerThanMaxTablet`\n    margin-top: 0px;\n    padding-bottom: ${({ insideModal, theme: { mobileMenuHeight } }) =>\n      insideModal ? 0 : mobileMenuHeight}px;\n  `}\n`;\n\nconst ShortFeedbackContainer = styled.div`\n  ${media.biggerThanMaxTablet`\n    position: absolute;\n    top: -25px;\n    left: 25px;\n    z-index: 3;\n\n    ${isRtl`\n      left: auto;\n      right: 25px;\n    `}\n  `}\n\n  ${media.smallerThanMaxTablet`\n    display: flex;\n    justify-content: center;\n    background: ${colors.background};\n    background: ${(props) => transparentize(0.9, props.theme.colorText)};\n    border-top: solid 1px #ccc;\n  `}\n`;\n\nconst ShortFeedback = styled.div`\n  display: flex;\n  align-items: center;\n\n  ${isRtl`\n    flex-direction: row-reverse;\n  `}\n\n  ${media.smallerThanMaxTablet`\n    justify-content: center;\n    margin: 0;\n    margin-top: 10px;\n    margin-bottom: 10px;\n  `}\n`;\n\nconst ThankYouNote = styled.span`\n  color: ${({ theme }) => theme.colorText};\n  font-size: ${fontSizes.small}px;\n  font-weight: 400;\n  line-height: normal;\n`;\n\nconst FeedbackQuestion = styled.span`\n  color: ${({ theme }) => theme.colorText};\n  font-size: ${fontSizes.small}px;\n  font-weight: 400;\n  line-height: normal;\n  margin-right: 15px;\n\n  ${isRtl`\n    margin-right: 0;\n    margin-left: 15px;\n  `}\n`;\n\nconst FeedbackButtons = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nconst FeedbackButton = styled.button`\n  color: ${({ theme }) => theme.colorText};\n  font-size: ${fontSizes.small}px;\n  font-weight: 600;\n  line-height: normal;\n  text-align: left;\n  text-transform: uppercase;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0;\n  margin: 0;\n  cursor: pointer;\n  appearance: none;\n\n  &.hasLeftMargin {\n    margin-left: 14px;\n  }\n\n  &:hover {\n    text-decoration: underline;\n  }\n`;\n\nconst FooterContainer = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding-left: 28px;\n  padding-right: 28px;\n  padding-top: 11px;\n  padding-bottom: 11px;\n  background: #fff;\n  border-top: solid 1px #ccc;\n  overflow: hidden;\n\n  ${media.smallerThanMaxTablet`\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    padding: 15px 10px;\n    background: #f4f4f4;\n  `}\n`;\n\nconst PagesNav = styled.nav`\n  ${media.smallerThanMaxTablet`\n    width: 90vw;\n    margin-top: 15px;\n    margin-bottom: 15px;\n  `}\n`;\n\nconst PagesNavList = styled.ul`\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  list-style: none;\n  margin: 0;\n  padding: 0;\n\n  ${media.smallerThanMaxTablet`\n    flex-wrap: wrap;\n    justify-content: center;\n  `}\n\n  & li {\n    margin-right: 10px;\n\n    &:after {\n      color: ${colors.label};\n      font-size: ${fontSizes.small}px;\n      font-weight: 400;\n      content: '';\n      margin-left: 10px;\n    }\n\n    &:last-child {\n      margin-right: 0px;\n\n      &:after {\n        margin-left: 0px;\n        content: '';\n      }\n    }\n  }\n`;\n\nconst PagesNavListItem = styled.li`\n  color: ${colors.label};\n  font-size: ${fontSizes.small}px;\n  line-height: normal;\n  font-weight: 400;\n  list-style: none;\n  margin: 0;\n  padding: 0;\n`;\n\nconst StyledButton = styled.button`\n  color: ${colors.label};\n  font-size: ${fontSizes.small}px;\n  font-weight: 400;\n  line-height: normal;\n  hyphens: auto;\n  padding: 0;\n  margin: 0;\n  border: none;\n  cursor: pointer;\n\n  &:hover {\n    color: #000;\n    text-decoration: underline;\n  }\n`;\n\nconst linkStyle = css`\n  color: ${colors.label};\n  font-weight: 400;\n  font-size: ${fontSizes.small}px;\n  line-height: 21px;\n  text-decoration: none;\n  hyphens: auto;\n  padding: 0;\n  margin: 0;\n  border: none;\n  cursor: pointer;\n\n  &:hover {\n    color: #000;\n    text-decoration: underline;\n  }\n`;\n\nconst StyledLink = styled(Link)`\n  ${linkStyle}\n`;\n\nconst StyledA = styled.a`\n  ${linkStyle}\n`;\n\nconst Right = styled.div`\n  display: flex;\n  align-items: center;\n\n  ${media.smallerThanMaxTablet`\n    margin-top: 15px;\n    margin-bottom: 15px;\n  `}\n\n  ${media.smallerThanMinTablet`\n    flex-direction: column;\n  `}\n`;\n\nconst PoweredBy = styled.div`\n  display: flex;\n  align-items: center;\n  outline: none;\n  padding-right: 20px;\n  margin-right: 24px;\n  border-right: 2px solid ${colors.separation};\n\n  ${media.smallerThanMinTablet`\n    flex-direction: column;\n    padding: 0px;\n    margin: 0px;\n    margin-bottom: 15px;\n    border: none;\n  `}\n`;\n\nconst PoweredByText = styled.span`\n  color: ${colors.label};\n  font-size: ${fontSizes.small}px;\n  font-weight: 400;\n  line-height: normal;\n  margin-right: 8px;\n\n  ${media.smallerThan1280px`\n    display: none;\n  `}\n\n  ${media.smallerThanMaxTablet`\n    display: block;\n  `}\n\n  ${media.smallerThanMinTablet`\n    margin-bottom: 10px;\n  `}\n`;\n\nconst CitizenlabLink = styled.a`\n  width: 130px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-top: 4px;\n  cursor: pointer;\n`;\n\nconst StyledSendFeedback = styled(SendFeedback)`\n  ${media.smallerThanMinTablet`\n    margin-top: 20px;\n  `}\n`;\n\nconst ShortFeedbackFormModalFooter = styled.div`\n  display: flex;\n`;\n\nconst CitizenLabLogo = styled(Icon)`\n  height: 28px;\n  fill: ${colors.label};\n\n  &:hover {\n    fill: #000;\n  }\n`;\n\ninterface InputProps {\n  showShortFeedback?: boolean;\n  className?: string;\n  insideModal?: boolean;\n}\n\ninterface DataProps {\n  locale: GetLocaleChildProps;\n  windowSize: GetWindowSizeChildProps;\n  appConfiguration: GetAppConfigurationChildProps;\n  customizedA11yHrefEnabled: boolean;\n}\n\ninterface Props extends DataProps, InputProps {}\n\ninterface State {\n  shortFeedbackButtonClicked: boolean;\n  feedbackModalOpen: boolean;\n  feedbackSubmitting: boolean;\n  feedbackSubmitted: boolean;\n}\n\nclass PlatformFooter extends PureComponent<Props, State> {\n  static defaultProps = {\n    showShortFeedback: true,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      shortFeedbackButtonClicked: false,\n      feedbackModalOpen: false,\n      feedbackSubmitting: false,\n      feedbackSubmitted: false,\n    };\n  }\n\n  handleFeedbackButtonClick = (answer: 'yes' | 'no') => () => {\n    this.setState({\n      shortFeedbackButtonClicked: true,\n    });\n\n    // tracking\n    if (answer === 'yes') {\n      trackEventByName(tracks.clickShortFeedbackYes);\n      postProductFeedback({\n        question: 'found_what_youre_looking_for?',\n        page: removeUrlLocale(location.pathname),\n        locale: this.props.locale || undefined,\n        answer: 'yes',\n      }).catch((err) => {\n        reportError(err);\n      });\n    } else if (answer === 'no') {\n      trackEventByName(tracks.clickShortFeedbackNo);\n      this.openFeedbackModal();\n    }\n  };\n\n  openFeedbackModal = () => {\n    this.setState({ feedbackModalOpen: true });\n  };\n\n  closeFeedbackModal = () => {\n    this.setState({ feedbackModalOpen: false });\n  };\n\n  closeFeedbackModalSuccess = () => {\n    this.setState({ feedbackModalOpen: false });\n  };\n\n  handleFeedbackOnSubmit = (submitting: boolean) => {\n    this.setState({ feedbackSubmitting: submitting });\n  };\n\n  handleFeedbackSubmitted = () => {\n    this.setState({ feedbackSubmitted: true });\n  };\n\n  closeFeedbackModalCancel = () => {\n    this.setState({ feedbackModalOpen: false });\n\n    postProductFeedback({\n      question: 'found_what_youre_looking_for?',\n      page: removeUrlLocale(location.pathname),\n      locale: this.props.locale || undefined,\n      answer: 'no',\n    }).catch((err) => reportError(err));\n  };\n\n  shortFeedbackFormOnSubmit = () => {\n    eventEmitter.emit('ShortFeedbackFormSubmitEvent');\n  };\n\n  openConsentManager = () => {\n    eventEmitter.emit('openConsentManager');\n  };\n\n  getHasCustomizedA11yFooterLink = () => {\n    const { customizedA11yHrefEnabled, appConfiguration } = this.props;\n\n    return (\n      !isNilOrError(appConfiguration) &&\n      customizedA11yHrefEnabled &&\n      !isEmpty(\n        appConfiguration.attributes.settings.custom_accessibility_statement_link\n          .url\n      )\n    );\n  };\n\n  getCustomizedA11yHref = () => {\n    const { appConfiguration } = this.props;\n\n    if (\n      isNilOrError(appConfiguration) ||\n      !this.getHasCustomizedA11yFooterLink()\n    ) {\n      return null;\n    }\n\n    return appConfiguration.attributes.settings\n      .custom_accessibility_statement_link.url;\n  };\n\n  render() {\n    const {\n      shortFeedbackButtonClicked,\n      feedbackModalOpen,\n      feedbackSubmitting,\n      feedbackSubmitted,\n    } = this.state;\n    const {\n      showShortFeedback,\n      className,\n      windowSize,\n      insideModal,\n    } = this.props;\n    const smallerThanSmallTablet = windowSize\n      ? windowSize <= viewportWidths.smallTablet\n      : false;\n    const hasCustomizedA11yFooterLink = this.getHasCustomizedA11yFooterLink();\n    const customizedA11yHref = this.getCustomizedA11yHref();\n\n    return (\n      <Container\n        insideModal={insideModal}\n        id=\"hook-footer\"\n        className={className}\n      >\n        {showShortFeedback && (\n          <>\n            <ShortFeedbackContainer>\n              <ShortFeedback>\n                {shortFeedbackButtonClicked ? (\n                  feedbackModalOpen ? (\n                    <ThankYouNote>\n                      <FormattedMessage {...messages.moreInfo} />\n                    </ThankYouNote>\n                  ) : (\n                    <ThankYouNote>\n                      <FormattedMessage {...messages.thanksForFeedback} />\n                    </ThankYouNote>\n                  )\n                ) : (\n                  <>\n                    <FeedbackQuestion>\n                      <FormattedMessage {...messages.feedbackQuestion} />\n                    </FeedbackQuestion>\n                    <FeedbackButtons>\n                      <FeedbackButton\n                        onClick={this.handleFeedbackButtonClick('yes')}\n                      >\n                        <FormattedMessage {...messages.yes} />\n                      </FeedbackButton>\n                      <FeedbackButton\n                        className=\"hasLeftMargin\"\n                        onClick={this.handleFeedbackButtonClick('no')}\n                      >\n                        <FormattedMessage {...messages.no} />\n                      </FeedbackButton>\n                    </FeedbackButtons>\n                  </>\n                )}\n              </ShortFeedback>\n            </ShortFeedbackContainer>\n\n            <Modal\n              width={500}\n              opened={feedbackModalOpen}\n              close={this.closeFeedbackModalCancel}\n              className=\"e2e-feedback-modal\"\n              closeOnClickOutside={false}\n              header={<FormattedMessage {...messages.feedbackModalTitle} />}\n              footer={\n                <ShortFeedbackFormModalFooter>\n                  {!feedbackSubmitted ? (\n                    <Button\n                      onClick={this.shortFeedbackFormOnSubmit}\n                      processing={feedbackSubmitting}\n                    >\n                      <FormattedMessage {...messages.submit} />\n                    </Button>\n                  ) : (\n                    <Button\n                      buttonStyle=\"secondary\"\n                      onClick={this.closeFeedbackModal}\n                    >\n                      <FormattedMessage {...messages.close} />\n                    </Button>\n                  )}\n                </ShortFeedbackFormModalFooter>\n              }\n            >\n              <ShortFeedbackForm\n                closeModal={this.closeFeedbackModalSuccess}\n                submitting={this.handleFeedbackOnSubmit}\n                successfullySubmitted={this.handleFeedbackSubmitted}\n              />\n            </Modal>\n          </>\n        )}\n\n        <FooterContainer\n          className={showShortFeedback ? 'showShortFeedback' : ''}\n        >\n          <PagesNav>\n            <PagesNavList>\n              {LEGAL_PAGES.map((slug: TLegalPage, index) => {\n                return (\n                  <React.Fragment key={slug}>\n                    <PagesNavListItem>\n                      {slug === 'accessibility-statement' &&\n                      hasCustomizedA11yFooterLink &&\n                      customizedA11yHref ? (\n                        <StyledA\n                          href={customizedA11yHref}\n                          target={hasCustomizedA11yFooterLink && '_blank'}\n                          className={index === 0 ? 'first' : ''}\n                        >\n                          <FormattedMessage\n                            {...messages.accessibilityStatement}\n                          />\n                        </StyledA>\n                      ) : (\n                        <StyledLink\n                          to={`/pages/${slug}`}\n                          className={index === 0 ? 'first' : ''}\n                        >\n                          <FormattedMessage\n                            {...{\n                              information: messages.information,\n                              'terms-and-conditions':\n                                messages.termsAndConditions,\n                              'privacy-policy': messages.privacyPolicy,\n                              'cookie-policy': messages.cookiePolicy,\n                              'accessibility-statement':\n                                messages.accessibilityStatement,\n                              faq: messages.faq,\n                            }[slug]}\n                          />\n                        </StyledLink>\n                      )}\n                    </PagesNavListItem>\n                  </React.Fragment>\n                );\n              })}\n              <PagesNavListItem>\n                <StyledButton onClick={this.openConsentManager}>\n                  <FormattedMessage {...messages.cookieSettings} />\n                </StyledButton>\n              </PagesNavListItem>\n              <PagesNavListItem>\n                <StyledLink to=\"/site-map\">\n                  <FormattedMessage {...messages.siteMap} />\n                </StyledLink>\n              </PagesNavListItem>\n            </PagesNavList>\n          </PagesNav>\n\n          <Right>\n            <PoweredBy>\n              <PoweredByText>\n                <FormattedMessage {...messages.poweredBy} />\n              </PoweredByText>\n              <CitizenlabLink href=\"https://www.citizenlab.co/\" target=\"_blank\">\n                <CitizenLabLogo\n                  name=\"citizenlab-footer-logo\"\n                  title=\"CitizenLab\"\n                />\n              </CitizenlabLink>\n            </PoweredBy>\n\n            <StyledSendFeedback showFeedbackText={smallerThanSmallTablet} />\n          </Right>\n        </FooterContainer>\n      </Container>\n    );\n  }\n}\n\nconst Data = adopt<Props>({\n  locale: <GetLocale />,\n  windowSize: <GetWindowSize />,\n  appConfiguration: <GetAppConfiguration />,\n  customizedA11yHrefEnabled: (\n    <GetFeatureFlag name=\"custom_accessibility_statement_link\" />\n  ),\n});\n\nexport default (inputProps: InputProps) => (\n  <Data>\n    {(dataProps) => <PlatformFooter {...inputProps} {...dataProps} />}\n  </Data>\n);\n","import { useState, useEffect } from 'react';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { Observable, of } from 'rxjs';\nimport { phasesStream, IPhaseData, IPhases } from 'services/phases';\n\nexport default function useProject(projectId: string | null | undefined) {\n  const [phases, setPhases] = useState<IPhaseData[] | undefined | null | Error>(\n    undefined\n  );\n\n  useEffect(() => {\n    setPhases(undefined);\n\n    let observable: Observable<IPhases | null> = of(null);\n\n    if (projectId) {\n      observable = phasesStream(projectId).observable;\n    }\n\n    const subscription = observable.subscribe((response) => {\n      const phases = !isNilOrError(response) ? response.data : response;\n      setPhases(phases);\n    });\n\n    return () => subscription.unsubscribe();\n  }, [projectId]);\n\n  return phases;\n}\n","import { FC, useEffect } from 'react';\nimport { InsertConfigurationOptions, ITab } from 'typings';\nimport { withRouter, WithRouterProps } from 'react-router';\n\n// i18n\nimport { injectIntl } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\nimport messages from './messages';\n\ninterface Props {\n  onData: (data: InsertConfigurationOptions<ITab>) => void;\n}\n\nconst Tab: FC<Props & WithRouterProps & InjectedIntlProps> = ({\n  onData,\n  intl: { formatMessage },\n  location,\n}) => {\n  useEffect(\n    () =>\n      onData({\n        configuration: {\n          name: 'statuses',\n          label: formatMessage(messages.tabStatuses),\n          url: '/admin/ideas/statuses',\n          active: location.pathname.includes('/admin/ideas/statuses'),\n        },\n        insertAfterName: 'manage',\n      }),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  );\n  return null;\n};\n\nexport default withRouter(injectIntl(Tab));\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  registrationFields: {\n    id: 'app.containers.AdminPage.SettingsPage.registrationFields',\n    defaultMessage: 'Registration fields',\n  },\n  subtitleRegistration: {\n    id: 'app.containers.AdminPage.SettingsPage.subtitleRegistration',\n    defaultMessage:\n      'Specify what information people are asked to provide when signing up.',\n  },\n  addAFieldButton: {\n    id:\n      'app.containers.AdminPage.SettingsPage.CustomSignupFields.addAFieldButton',\n    defaultMessage: 'Add field',\n  },\n  domicileManagementInfo: {\n    id:\n      'app.containers.AdminPage.SettingsPage.CustomSignupFields.domicileManagementInfo',\n    defaultMessage:\n      'Answer options for place of residence can be set in the {geographicAreasTabLink}.',\n  },\n  geographicAreasTabLinkText: {\n    id:\n      'app.containers.AdminPage.SettingsPage.CustomSignupFields.geographicAreasTabLinkText',\n    defaultMessage: 'Geographic areas tab',\n  },\n  customFieldDeletionConfirmation: {\n    id:\n      'app.containers.AdminPage.SettingsPage.CustomSignupFields.customFieldDeletionConfirmation',\n    defaultMessage: 'Are you sure you want to delete this custom field?',\n  },\n});\n","// libraries\nimport React from 'react';\nimport { isEmpty, map, range, forOwn, get } from 'lodash-es';\n\n// intl\nimport { injectIntl, FormattedMessage } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\nimport messages from 'containers/Admin/dashboard/messages';\n\n// styling\nimport { withTheme } from 'styled-components';\n\n// components\nimport ReportExportMenu from 'components/admin/ReportExportMenu';\nimport {\n  BarChart,\n  Bar,\n  Tooltip,\n  XAxis,\n  YAxis,\n  ResponsiveContainer,\n  LabelList,\n} from 'recharts';\nimport {\n  NoDataContainer,\n  GraphCardHeader,\n  GraphCardTitle,\n  GraphCard,\n  GraphCardInner,\n} from 'components/admin/Chart';\n\nimport { IUserCustomFieldData } from '../../services/userCustomFields';\nimport { Subscription, combineLatest } from 'rxjs';\nimport {\n  IUsersByRegistrationField,\n  usersByRegFieldStream,\n  usersByRegFieldXlsxEndpoint,\n  usersByGenderStream,\n  usersByGenderXlsxEndpoint,\n  usersByBirthyearStream,\n  usersByBirthyearXlsxEndpoint,\n  usersByDomicileStream,\n  usersByDomicileXlsxEndpoint,\n  IUsersByGender,\n  IUsersByDomicile,\n  IUsersByBirthyear,\n} from 'modules/commercial/user_custom_fields/services/stats';\n\nimport injectLocalize, { InjectedLocalized } from 'utils/localize';\nimport { isNilOrError } from 'utils/helperUtils';\nimport moment from 'moment';\nimport T from 'components/T';\nimport useUserCustomFields from '../../hooks/useUserCustomFields';\n\ntype ISupportedDataType =\n  | IUsersByRegistrationField\n  | IUsersByGender\n  | IUsersByDomicile\n  | IUsersByBirthyear;\n\nconst genderColors = {\n  male: '#5D99C6 ',\n  female: '#C37281 ',\n  unspecified: '#B0CDC4 ',\n  _blank: '#C0C2CE',\n};\n\nconst customFieldEndpoints = {\n  gender: {\n    stream: usersByGenderStream,\n    xlsxEndpoint: usersByGenderXlsxEndpoint,\n  },\n  birthyear: {\n    stream: usersByBirthyearStream,\n    xlsxEndpoint: usersByBirthyearXlsxEndpoint,\n  },\n  domicile: {\n    stream: usersByDomicileStream,\n    xlsxEndpoint: usersByDomicileXlsxEndpoint,\n  },\n};\n\ninterface InputProps {\n  customField: IUserCustomFieldData;\n  currentProject: string | undefined;\n  className?: string;\n}\n\ninterface State {\n  serie: any;\n}\n\ninterface Props extends InputProps {}\n\nexport class CustomFieldsComparison extends React.PureComponent<\n  Props & InjectedIntlProps & InjectedLocalized,\n  State\n> {\n  combined$: Subscription;\n  currentChart: React.RefObject<any>;\n\n  constructor(props: Props) {\n    super(props as any);\n    this.state = {\n      serie: null,\n    };\n\n    this.currentChart = React.createRef();\n  }\n\n  componentDidMount() {\n    this.resubscribe();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    const { currentProject } = this.props;\n\n    if (currentProject !== prevProps.currentProject) {\n      this.resubscribe();\n    }\n  }\n\n  componentWillUnmount() {\n    this.combined$.unsubscribe();\n  }\n\n  convertAndMergeSeries = (\n    totalSerie: ISupportedDataType,\n    participantSerie: ISupportedDataType\n  ) => {\n    const {\n      customField,\n      intl: { formatMessage },\n      localize,\n    } = this.props;\n\n    if (customField.attributes.code === 'birthyear') {\n      const currentYear = moment().year();\n\n      return [\n        ...range(0, 100, 10).map((minAge) => {\n          let totalNumberOfUsers = 0;\n          let paticipants = 0;\n          const maxAge = minAge + 9;\n\n          forOwn(totalSerie.series.users, (userCount, birthYear) => {\n            const age = currentYear - parseInt(birthYear, 10);\n\n            if (age >= minAge && age <= maxAge) {\n              totalNumberOfUsers += userCount;\n            }\n          });\n\n          forOwn(participantSerie.series.users, (userCount, birthYear) => {\n            const age = currentYear - parseInt(birthYear, 10);\n\n            if (age >= minAge && age <= maxAge) {\n              paticipants += userCount;\n            }\n          });\n\n          return {\n            name: `${minAge} - ${maxAge}`,\n            total: totalNumberOfUsers,\n            participants: paticipants,\n            code: `${minAge}`,\n          };\n        }),\n        {\n          name: formatMessage(messages._blank),\n          total: get(totalSerie.series.users, '_blank', 0),\n          participants: get(participantSerie.series.users, '_blank', 0),\n          code: '',\n        },\n      ];\n    } else if (customField.attributes.code === 'gender') {\n      const res = Object.keys(genderColors).map((gender) => ({\n        total: totalSerie.series.users[gender] || 0,\n        participants: participantSerie.series.users[gender] || 0,\n        name: formatMessage(messages[gender]),\n        code: gender,\n      }));\n      return res.length > 0 ? res : null;\n    } else if (customField.attributes.code === 'domicile') {\n      const res = map((totalSerie as IUsersByDomicile).areas, (value, key) => ({\n        total: totalSerie.series.users[key] || 0,\n        participants: participantSerie.series.users[key] || 0,\n        name: localize(value.title_multiloc),\n        code: key,\n      }));\n\n      res.push({\n        total: totalSerie.series.users['_blank'] || 0,\n        participants: participantSerie.series.users['_blank'] || 0,\n        name: formatMessage(messages._blank),\n        code: '_blank',\n      });\n      res.push({\n        total: totalSerie.series.users['outside'] || 0,\n        participants: participantSerie.series.users['outside'] || 0,\n        name: formatMessage(messages.otherArea),\n        code: 'outside',\n      });\n\n      return res;\n    } else {\n      return map(\n        (totalSerie as IUsersByRegistrationField).options,\n        (value, key) => ({\n          total: totalSerie.series.users[key] || 0,\n          participants: participantSerie.series.users[key] || 0,\n          name: localize(value.title_multiloc),\n          code: key,\n        })\n      );\n    }\n  };\n\n  resubscribe() {\n    const { customField, currentProject } = this.props;\n\n    if (this.combined$) {\n      this.combined$.unsubscribe();\n    }\n    const stream =\n      customFieldEndpoints[customField.attributes?.code || 'no_code']?.stream ||\n      usersByRegFieldStream;\n\n    const totalUsersStream = stream(null, customField.id);\n    const participantsStream = stream(\n      { queryParameters: { project: currentProject } },\n      customField.id\n    );\n    this.combined$ = combineLatest(\n      totalUsersStream.observable,\n      participantsStream.observable\n    ).subscribe(([totalSerie, participantSerie]) => {\n      if (!isNilOrError(totalSerie) && !isNilOrError(participantSerie)) {\n        const convertedAndMergedSeries = this.convertAndMergeSeries(\n          totalSerie as ISupportedDataType,\n          participantSerie as ISupportedDataType\n        );\n        this.setState({ serie: convertedAndMergedSeries });\n      }\n    });\n  }\n  render() {\n    const { serie } = this.state;\n    const {\n      className,\n      customField,\n      intl: { formatMessage },\n      localize,\n      currentProject,\n    } = this.props;\n\n    const noData =\n      !serie || serie.every((item) => isEmpty(item)) || serie.length <= 0;\n\n    const {\n      chartLabelSize,\n      chartLabelColor,\n      barFill,\n      animationBegin,\n      animationDuration,\n      newBarFill,\n    } = this.props['theme'];\n\n    const xlsxEndpoint =\n      customFieldEndpoints[customField.attributes.code || 'no_code']\n        ?.xlsxEndpoint || usersByRegFieldXlsxEndpoint(customField.id);\n\n    return (\n      <GraphCard className={`dynamicHeight ${className}`}>\n        <GraphCardInner>\n          <GraphCardHeader>\n            <GraphCardTitle>\n              <T value={customField.attributes.title_multiloc} />\n            </GraphCardTitle>\n            {!noData && (\n              <ReportExportMenu\n                name={formatMessage(messages.customFieldTitleExport, {\n                  fieldName: localize(customField.attributes.title_multiloc),\n                })}\n                svgNode={this.currentChart}\n                xlsxEndpoint={xlsxEndpoint}\n                currentProjectFilter={currentProject}\n              />\n            )}\n          </GraphCardHeader>\n          {noData ? (\n            <NoDataContainer>\n              <FormattedMessage {...messages.noData} />\n            </NoDataContainer>\n          ) : (\n            <ResponsiveContainer\n              height={serie.length > 1 ? serie.length * 50 : 100}\n            >\n              <BarChart\n                data={serie}\n                layout=\"vertical\"\n                ref={this.currentChart}\n                margin={{\n                  top: 20,\n                  right: 30,\n                  left: 20,\n                  bottom: 5,\n                }}\n              >\n                <Bar\n                  dataKey=\"total\"\n                  name={formatMessage(messages.totalUsers)}\n                  fill={newBarFill}\n                  barSize={10}\n                  animationDuration={animationDuration}\n                  animationBegin={animationBegin}\n                >\n                  <LabelList\n                    position=\"insideLeft\"\n                    fontSize={chartLabelSize}\n                    fill={barFill}\n                  />\n                </Bar>\n                <Tooltip />\n                <Bar\n                  dataKey=\"participants\"\n                  name={formatMessage(messages.participants)}\n                  fill={chartLabelColor}\n                  barSize={10}\n                  animationDuration={animationDuration}\n                  animationBegin={animationBegin}\n                >\n                  <LabelList\n                    position=\"insideLeft\"\n                    fontSize={chartLabelSize}\n                    fill={barFill}\n                  />\n                </Bar>\n                <YAxis\n                  dataKey=\"name\"\n                  type=\"category\"\n                  width={150}\n                  stroke={chartLabelColor}\n                  fontSize={chartLabelSize}\n                  tickLine={false}\n                />\n                <XAxis\n                  stroke={chartLabelColor}\n                  fontSize={chartLabelSize}\n                  type=\"number\"\n                />\n              </BarChart>\n            </ResponsiveContainer>\n          )}\n        </GraphCardInner>\n      </GraphCard>\n    );\n  }\n}\n\nconst WrappedCustomFieldComparison = injectLocalize<Props>(\n  injectIntl<Props & InjectedLocalized>(\n    withTheme(CustomFieldsComparison as any) as any\n  )\n);\n\nconst CustomFieldGraphs = ({\n  participationMethods,\n  startAt,\n  endAt,\n  project,\n}) => {\n  const userCustomFields = useUserCustomFields({\n    inputTypes: ['select', 'multiselect', 'checkbox', 'number'],\n  });\n\n  return (\n    participationMethods !== ['information'] &&\n    startAt &&\n    endAt &&\n    !isNilOrError(userCustomFields) &&\n    userCustomFields.map(\n      (customField) =>\n        // only show enabled fields, only supported number field is birthyear.\n        customField.attributes.enabled &&\n        (customField.attributes.input_type === 'number'\n          ? customField.attributes.code === 'birthyear'\n          : true) && (\n          <WrappedCustomFieldComparison\n            customField={customField}\n            currentProject={project.id}\n            key={customField.id}\n          />\n        )\n    )\n  );\n};\n\nexport default CustomFieldGraphs;\n","import React, { PureComponent } from 'react';\nimport { adopt } from 'react-adopt';\nimport { memoize } from 'lodash-es';\n\nimport { isNilOrError } from 'utils/helperUtils';\n\n// import { Select } from 'cl2-component-library';\nimport { Dropdown } from 'semantic-ui-react';\n\nimport GetUsers, { GetUsersChildProps } from 'resources/GetUsers';\nimport GetAuthUser, { GetAuthUserChildProps } from 'resources/GetAuthUser';\n\nimport { injectIntl } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\nimport messages from './messages';\nimport postManagerMessages from 'components/admin/PostManager/messages';\n\nimport { trackEventByName } from 'utils/analytics';\nimport tracks from './tracks';\nimport { ManagerType } from 'components/admin/PostManager';\n\ninterface DataProps {\n  prospectAssignees: GetUsersChildProps;\n  authUser: GetAuthUserChildProps;\n}\n\ninterface InputProps {\n  handleAssigneeFilterChange: (value: string) => void;\n  projectId?: string | null;\n  assignee?: string | null;\n  type: ManagerType;\n  className?: string;\n}\n\ninterface Props extends InputProps, DataProps {}\n\ninterface State {}\n\nexport class AssigneeFilter extends PureComponent<\n  Props & InjectedIntlProps,\n  State\n> {\n  getAssigneeOptions = memoize((prospectAssignees, authUser) => {\n    const {\n      intl: { formatMessage },\n    } = this.props;\n    let assigneeOptions = [] as {\n      value: string;\n      text: string;\n      id?: string;\n      className?: string;\n    }[];\n\n    if (!isNilOrError(prospectAssignees.usersList) && !isNilOrError(authUser)) {\n      const dynamicOptions = prospectAssignees.usersList\n        .filter((assignee) => assignee.id !== authUser.id)\n        .map((assignee) => ({\n          value: assignee.id,\n          text: formatMessage(postManagerMessages.assignedTo, {\n            assigneeName: `${assignee.attributes.first_name} ${assignee.attributes.last_name}`,\n          }),\n          className: 'e2e-assignee-filter-other-user',\n        }));\n\n      // Order of assignee filter options:\n      // All ideas > Assigned to me > Unassigned > Assigned to X (other admins/mods)\n      assigneeOptions = [\n        {\n          value: 'all',\n          text: formatMessage(messages.anyAssignment),\n          id: 'e2e-assignee-filter-all-posts',\n        },\n        {\n          value: authUser.id,\n          text: formatMessage(postManagerMessages.assignedToMe),\n          id: 'e2e-assignee-filter-assigned-to-user',\n        },\n        {\n          value: 'unassigned',\n          text: formatMessage(postManagerMessages.noOne),\n          id: 'e2e-assignee-filter-unassigned',\n        },\n        ...dynamicOptions,\n      ];\n    }\n    return assigneeOptions;\n  });\n\n  onAssigneeChange = (_event, assigneeOption) => {\n    const realFiterParam =\n      assigneeOption.value === 'all' ? undefined : assigneeOption.value;\n    trackEventByName(tracks.assigneeFilterUsed, {\n      assignee: realFiterParam,\n      adminAtWork: this.props.authUser && this.props.authUser.id,\n    });\n    this.props.handleAssigneeFilterChange(realFiterParam);\n  };\n\n  render() {\n    const { assignee, prospectAssignees, authUser, className } = this.props;\n\n    return (\n      <Dropdown\n        className={className}\n        id=\"e2e-select-assignee-filter\"\n        options={this.getAssigneeOptions(prospectAssignees, authUser)}\n        onChange={this.onAssigneeChange}\n        value={assignee || 'all'}\n        search\n        selection\n      />\n    );\n  }\n}\n\nconst Data = adopt<DataProps, InputProps>({\n  prospectAssignees: ({ type, projectId, render }) =>\n    type === 'ProjectIdeas' && projectId ? (\n      <GetUsers canModerateProject={projectId} pageSize={250}>\n        {render}\n      </GetUsers>\n    ) : type === 'AllIdeas' ? (\n      <GetUsers canModerate pageSize={250}>\n        {render}\n      </GetUsers>\n    ) : (\n      <GetUsers canAdmin pageSize={250}>\n        {render}\n      </GetUsers>\n    ),\n  authUser: <GetAuthUser />,\n});\n\nconst AssigneeFilterWithHocs = injectIntl<Props>(AssigneeFilter);\n\nexport default (inputProps: InputProps) => (\n  <Data {...inputProps}>\n    {(dataProps) => <AssigneeFilterWithHocs {...inputProps} {...dataProps} />}\n  </Data>\n);\n","import GetMachineTranslation from 'modules/commercial/machine_translations/resources/GetMachineTranslation';\nimport React from 'react';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { CommentText } from 'components/PostShowComponents/Comments/CommentBody';\nimport { Locale } from 'typings';\n\ninterface Props {\n  translateButtonClicked: boolean;\n  commentContent: string;\n  locale: Locale;\n  commentId: string;\n}\n\nconst PostShowTranslatedCommentBody = ({\n  translateButtonClicked,\n  commentContent,\n  locale,\n  commentId,\n}: Props) => {\n  if (translateButtonClicked) {\n    return (\n      <GetMachineTranslation\n        attributeName=\"body_multiloc\"\n        localeTo={locale}\n        id={commentId}\n        context=\"comment\"\n      >\n        {(translation) => {\n          let text: string = commentContent;\n\n          if (!isNilOrError(translation)) {\n            text = translation.attributes.translation.replace(\n              /<span\\sclass=\"cl-mention-user\"[\\S\\s]*?data-user-id=\"([\\S\\s]*?)\"[\\S\\s]*?data-user-slug=\"([\\S\\s]*?)\"[\\S\\s]*?>([\\S\\s]*?)<\\/span>/gi,\n              '<a class=\"mention\" data-link=\"/profile/$2\" href=\"/profile/$2\">$3</a>'\n            );\n          }\n\n          return <CommentText dangerouslySetInnerHTML={{ __html: text }} />;\n        }}\n      </GetMachineTranslation>\n    );\n  }\n\n  return <CommentText dangerouslySetInnerHTML={{ __html: commentContent }} />;\n};\n\nexport default PostShowTranslatedCommentBody;\n","import { isEmpty, get, forOwn } from 'lodash-es';\n\nexport function hasCustomFields(customFieldsSchemas, locale) {\n  let hasCustomFields = false;\n  const customFieldNames = get(\n    customFieldsSchemas,\n    `json_schema_multiloc.${locale}.properties`,\n    null\n  );\n\n  if (!isEmpty(customFieldNames)) {\n    forOwn(customFieldNames, (_value, fieldName) => {\n      const uiWidget = get(\n        customFieldsSchemas,\n        `ui_schema_multiloc.${locale}.${fieldName}.${'ui:widget'}`,\n        null\n      );\n\n      if (uiWidget !== 'hidden') {\n        hasCustomFields = true;\n      }\n    });\n  }\n\n  return hasCustomFields;\n}\n","import React from 'react';\n\n// components\nimport { Icon } from 'cl2-component-library';\n\n// style\nimport styled from 'styled-components';\nimport { media, colors, fontSizes } from 'utils/styleUtils';\nimport { ScreenReaderOnly } from 'utils/a11y';\n\n// import i18n\nimport messages from './messages';\nimport { InjectedIntlProps } from 'react-intl';\nimport { FormattedMessage, injectIntl } from 'utils/cl-intl';\n\nconst SendFeedbackText = styled.span`\n  color: ${colors.label};\n  font-size: ${fontSizes.small}px;\n  font-weight: 400;\n  text-decoration: underline;\n  transition: all 100ms ease-out;\n`;\n\nconst SendFeedbackIcon = styled(Icon)`\n  fill: ${colors.label};\n  width: 22px;\n  height: 22px;\n  transition: all 100ms ease-out;\n  margin-right: 8px;\n\n  ${media.phone`\n    display: none;\n  `}\n`;\n\nconst Container = styled.a`\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n\n  &:hover {\n    ${SendFeedbackText} {\n      color: #000;\n    }\n\n    ${SendFeedbackIcon} {\n      fill: #000;\n    }\n  }\n`;\n\ninterface Props {\n  showFeedbackText: boolean;\n  className?: string;\n}\n\nconst SendFeedbackComponent = React.memo<Props>(\n  (props: Props & InjectedIntlProps) => {\n    const {\n      showFeedbackText,\n      className,\n      intl: { formatMessage },\n    } = props;\n\n    return (\n      <Container\n        className={className}\n        target=\"_blank\"\n        href={formatMessage(messages.sendFeedbackLink, { url: location.href })}\n      >\n        <SendFeedbackIcon\n          name=\"questionMark\"\n          ariaHidden\n          title={formatMessage(messages.sendFeedback)}\n          className=\"send-feedback-icon\"\n        />\n        <SendFeedbackText>\n          {showFeedbackText ? (\n            <FormattedMessage {...messages.sendFeedback} />\n          ) : (\n            <ScreenReaderOnly>\n              {formatMessage(messages.sendFeedback)}\n            </ScreenReaderOnly>\n          )}\n        </SendFeedbackText>\n      </Container>\n    );\n  }\n);\n\nexport default injectIntl(SendFeedbackComponent);\n","/*\n * NotificationMenu Messages\n *\n * This contains all the text for the NotificationMenu component.\n */\nimport { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  loading: {\n    id: 'app.containers.NotificationMenu.loading',\n    defaultMessage: 'Loading notifications...',\n  },\n  error: {\n    id: 'app.containers.NotificationMenu.error',\n    defaultMessage: \"Couldn't load notifications\",\n  },\n  loadMore: {\n    id: 'app.containers.NotificationMenu.loadMore',\n    defaultMessage: 'Load more...',\n  },\n  noNotifications: {\n    id: 'app.containers.NotificationMenu.noNotifications',\n    defaultMessage: \"You don't have any notifications yet\",\n  },\n  userCommentedOnYourIdea: {\n    id: 'app.containers.NotificationMenu.userCommentedOnYourIdea',\n    defaultMessage: '{name} commented on your idea',\n  },\n  userCommentedOnYourOption: {\n    id: 'app.containers.NotificationMenu.userCommentedOnYourOption',\n    defaultMessage: '{name} commented on your option',\n  },\n  userCommentedOnYourProject: {\n    id: 'app.containers.NotificationMenu.userCommentedOnYourProject',\n    defaultMessage: '{name} commented on your project',\n  },\n  userCommentedOnYourQuestion: {\n    id: 'app.containers.NotificationMenu.userCommentedOnYourQuestion',\n    defaultMessage: '{name} commented on your question',\n  },\n  userCommentedOnYourIssue: {\n    id: 'app.containers.NotificationMenu.userCommentedOnYourIssue',\n    defaultMessage: '{name} commented on your issue',\n  },\n  userCommentedOnYourContribution: {\n    id: 'app.containers.NotificationMenu.userCommentedOnYourContribution',\n    defaultMessage: '{name} commented on your contribution',\n  },\n  userCommentedOnYourInitiative: {\n    id: 'app.containers.NotificationMenu.userCommentedOnYourInitiative',\n    defaultMessage: '{name} commented on your initiative',\n  },\n  userReactedToYourComment: {\n    id: 'app.containers.NotificationMenu.userReactedToYourComment',\n    defaultMessage: '{name} reacted to your comment',\n  },\n  mentionInComment: {\n    id: 'app.containers.NotificationMenu.mentionInComment',\n    defaultMessage: '{name} mentioned you in a comment',\n  },\n  userReportedCommentAsSpam: {\n    id: 'app.containers.NotificationMenu.userReportedCommentAsSpam',\n    defaultMessage: \"{name} reported a comment on '{postTitle}' as spam\",\n  },\n  userMarkedPostAsSpam: {\n    id: 'app.containers.NotificationMenu.userMarkedPostAsSpam',\n    defaultMessage: \"{name} reported '{postTitle}' as spam\",\n  },\n  statusChangedOfYourIdea: {\n    id: 'app.containers.NotificationMenu.statusChangedOfYourIdea',\n    defaultMessage: \"'{ideaTitle}' status has changed to {status}\",\n  },\n  statusChangeOnVotedIdea: {\n    id: 'app.containers.NotificationMenu.statusChangeOnVotedIdea',\n    defaultMessage: 'The status of an idea you voted for changed to {status}',\n  },\n  statusChangeOnCommentedIdea: {\n    id: 'app.containers.NotificationMenu.statusChangeOnCommentedIdea',\n    defaultMessage:\n      'The status of an idea you commented on changed to {status}',\n  },\n  statusChangeOnVotedProject: {\n    id: 'app.containers.NotificationMenu.statusChangeOnVotedProject',\n    defaultMessage: 'The status of a project you voted for changed to {status}',\n  },\n  statusChangeOnCommentedProject: {\n    id: 'app.containers.NotificationMenu.statusChangeOnCommentedProject',\n    defaultMessage:\n      'The status of a project you commented on changed to {status}',\n  },\n  statusChangeOnVotedOption: {\n    id: 'app.containers.NotificationMenu.statusChangeOnVotedOption',\n    defaultMessage: 'The status of an option you voted for changed to {status}',\n  },\n  statusChangeOnCommentedOption: {\n    id: 'app.containers.NotificationMenu.statusChangeOnCommentedOption',\n    defaultMessage:\n      'The status of an option you commented on changed to {status}',\n  },\n  statusChangeOnVotedIssue: {\n    id: 'app.containers.NotificationMenu.statusChangeOnVotedIssue',\n    defaultMessage: 'The status of an issue you voted for changed to {status}',\n  },\n  statusChangeOnCommentedIssue: {\n    id: 'app.containers.NotificationMenu.statusChangeOnCommentedIssue',\n    defaultMessage:\n      'The status of an issue you commented on changed to {status}',\n  },\n  statusChangeOnVotedQuestion: {\n    id: 'app.containers.NotificationMenu.statusChangeOnVotedQuestion',\n    defaultMessage:\n      'The status of a question you voted for changed to {status}',\n  },\n  statusChangeOnCommentedQuestion: {\n    id: 'app.containers.NotificationMenu.statusChangeOnCommentedQuestion',\n    defaultMessage:\n      'The status of a question you commented on changed to {status}',\n  },\n  statusChangeOnVotedContribution: {\n    id: 'app.containers.NotificationMenu.statusChangeOnVotedContribution',\n    defaultMessage:\n      'The status of a contribution you voted for changed to {status}',\n  },\n  statusChangeOnCommentedContribution: {\n    id: 'app.containers.NotificationMenu.statusChangeOnCommentedContribution',\n    defaultMessage:\n      'The status of a contribution you commented on changed to {status}',\n  },\n  statusChangedOfYourInitiative: {\n    id: 'app.containers.NotificationMenu.statusChangedOfYourInitiative',\n    defaultMessage: \"'{initiativeTitle}' status has changed to {status}\",\n  },\n  statusChangeOnVotedInitiative: {\n    id: 'app.containers.NotificationMenu.statusChangeOnVotedInitiative',\n    defaultMessage:\n      'The status of an initiative you voted for changed to {status}',\n  },\n  statusChangeOnCommentedInitiative: {\n    id: 'app.containers.NotificationMenu.statusChangeOnCommentedInitiative',\n    defaultMessage:\n      'The status of an initiative you commented on changed to {status}',\n  },\n  thresholdReachedForAdmin: {\n    id: 'app.containers.NotificationMenu.thresholdReachedForAdmin',\n    defaultMessage: '{post} reached the voting threshold',\n  },\n  userAcceptedYourInvitation: {\n    id: 'app.containers.NotificationMenu.userAcceptedYourInvitation',\n    defaultMessage: '{name} accepted your invitation',\n  },\n  commentDeletedByAdminFor: {\n    id: 'app.containers.NotificationMenu.commentDeletedByAdminFor',\n    defaultMessage: `Your comment on '{postTitle}' has been deleted by an admin because\n      {reasonCode, select,\n        irrelevant {it is irrelevant}\n        inappropriate {its content is inappropriate}\n        other {{otherReason}}\n      }\n    `,\n  },\n  projectModerationRightsReceived: {\n    id: 'app.containers.NotificationMenu.projectModerationRightsReceived',\n    defaultMessage: \"You're now a moderator of {projectLink}\",\n  },\n  adminRightsReceived: {\n    id: 'app.containers.NotificationMenu.adminRightsReceived',\n    defaultMessage: \"You're now an administrator of the platform\",\n  },\n  notificationsLabel: {\n    id: 'app.containers.NotificationMenu.notificationsLabel',\n    defaultMessage: 'Notifications',\n  },\n  deletedUser: {\n    id: 'app.containers.NotificationMenu.deletedUser',\n    defaultMessage: 'Deleted user',\n  },\n  officialFeedbackOnYourIdea2: {\n    id: 'app.containers.NotificationMenu.officialFeedbackOnYourIdea2',\n    defaultMessage: '{officialName} gave an official update on your idea',\n  },\n  officialFeedbackOnVotedIdea: {\n    id: 'app.containers.NotificationMenu.officialFeedbackOnVotedIdea',\n    defaultMessage:\n      '{officialName} gave an official update on an idea you voted for',\n  },\n  officialFeedbackOnCommentedIdea: {\n    id: 'app.containers.NotificationMenu.officialFeedbackOnCommentedIdea',\n    defaultMessage:\n      '{officialName} gave an official update on an idea you commented on',\n  },\n  officialFeedbackOnYourProject: {\n    id: 'app.containers.NotificationMenu.officialFeedbackOnYourProject',\n    defaultMessage: '{officialName} gave an official update on your project',\n  },\n  officialFeedbackOnVotedProject: {\n    id: 'app.containers.NotificationMenu.officialFeedbackOnVotedProject',\n    defaultMessage:\n      '{officialName} gave an official update on a project you voted for',\n  },\n  officialFeedbackOnCommentedProject: {\n    id: 'app.containers.NotificationMenu.officialFeedbackOnCommentedProject',\n    defaultMessage:\n      '{officialName} gave an official update on a project you commented on',\n  },\n  officialFeedbackOnYourOption: {\n    id: 'app.containers.NotificationMenu.officialFeedbackOnYourOption',\n    defaultMessage: '{officialName} gave an official update on your option',\n  },\n  officialFeedbackOnVotedOption: {\n    id: 'app.containers.NotificationMenu.officialFeedbackOnVotedOption',\n    defaultMessage:\n      '{officialName} gave an official update on an option you voted for',\n  },\n  officialFeedbackOnCommentedOption: {\n    id: 'app.containers.NotificationMenu.officialFeedbackOnCommentedOption',\n    defaultMessage:\n      '{officialName} gave an official update on an option you commented on',\n  },\n  officialFeedbackOnYourIssue: {\n    id: 'app.containers.NotificationMenu.officialFeedbackOnYourIssue',\n    defaultMessage: '{officialName} gave an official update on your issue',\n  },\n  officialFeedbackOnVotedIssue: {\n    id: 'app.containers.NotificationMenu.officialFeedbackOnVotedIssue',\n    defaultMessage:\n      '{officialName} gave an official update on an issue you voted for',\n  },\n  officialFeedbackOnCommentedIssue: {\n    id: 'app.containers.NotificationMenu.officialFeedbackOnCommentedIssue',\n    defaultMessage:\n      '{officialName} gave an official update on an issue you commented on',\n  },\n  officialFeedbackOnYourQuestion: {\n    id: 'app.containers.NotificationMenu.officialFeedbackOnYourQuestion',\n    defaultMessage: '{officialName} gave an official update on your question',\n  },\n  officialFeedbackOnVotedQuestion: {\n    id: 'app.containers.NotificationMenu.officialFeedbackOnVotedQuestion',\n    defaultMessage:\n      '{officialName} gave an official update on a question you voted for',\n  },\n  officialFeedbackOnCommentedQuestion: {\n    id: 'app.containers.NotificationMenu.officialFeedbackOnCommentedQuestion',\n    defaultMessage:\n      '{officialName} gave an official update on a question you commented on',\n  },\n  officialFeedbackOnYourContribution: {\n    id: 'app.containers.NotificationMenu.officialFeedbackOnYourContribution',\n    defaultMessage:\n      '{officialName} gave an official update on your contribution',\n  },\n  officialFeedbackOnVotedContribution: {\n    id: 'app.containers.NotificationMenu.officialFeedbackOnVotedContribution',\n    defaultMessage:\n      '{officialName} gave an official update on a contribution you voted for',\n  },\n  officialFeedbackOnCommentedContribution: {\n    id:\n      'app.containers.NotificationMenu.officialFeedbackOnCommentedContribution',\n    defaultMessage:\n      '{officialName} gave an official update on a contribution you commented on',\n  },\n  officialFeedbackOnYourInitiative: {\n    id: 'app.containers.NotificationMenu.officialFeedbackOnYourInitiative',\n    defaultMessage: '{officialName} gave an official update on {initiative}',\n  },\n  officialFeedbackOnVotedInitiative: {\n    id: 'app.containers.NotificationMenu.officialFeedbackOnVotedInitiative',\n    defaultMessage:\n      '{officialName} gave an official update on an initiative you voted for',\n  },\n  officialFeedbackOnCommentedInitiative: {\n    id: 'app.containers.NotificationMenu.officialFeedbackOnCommentedInitiative',\n    defaultMessage:\n      '{officialName} gave an official update on an initiative you commented on',\n  },\n  mentionInOfficialFeedback: {\n    id: 'app.containers.NotificationMenu.mentionInOfficialFeedback',\n    defaultMessage: '{officialName} mentioned you in an official update',\n  },\n  projectPhaseStarted: {\n    id: 'app.containers.NotificationMenu.projectPhaseStarted',\n    defaultMessage: '{projectTitle} entered a new phase',\n  },\n  projectPhaseUpcoming: {\n    id: 'app.containers.NotificationMenu.projectPhaseUpcoming',\n    defaultMessage: '{projectTitle} will enter a new phase on {phaseStartAt}',\n  },\n  postAssignedToYou: {\n    id: 'app.containers.NotificationMenu.postAssignedToYou',\n    defaultMessage: '{postTitle} was assigned to you',\n  },\n  xAssignedPostToYou: {\n    id: 'app.containers.NotificationMenu.xAssignedPostToYou',\n    defaultMessage: '{name} assigned {postTitle} to you',\n  },\n});\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  fromATemplate: {\n    id: 'app.containers.AdminPage.ProjectEdit.fromATemplate',\n    defaultMessage: 'From a template',\n  },\n  departments: {\n    id: 'app.containers.AdminPage.ProjectEdit.departments',\n    defaultMessage: 'Departments',\n  },\n  purposes: {\n    id: 'app.containers.AdminPage.ProjectEdit.purposes',\n    defaultMessage: 'Purposes',\n  },\n  searchPlaceholder: {\n    id: 'app.containers.AdminPage.ProjectEdit.searchPlaceholder',\n    defaultMessage: 'Search the templates',\n  },\n  useTemplate: {\n    id: 'app.containers.AdminPage.ProjectEdit.useTemplate',\n    defaultMessage: 'Use template',\n  },\n  moreDetails: {\n    id: 'app.containers.AdminPage.ProjectEdit.moreDetails',\n    defaultMessage: 'More details',\n  },\n  loadMoreTemplates: {\n    id: 'app.containers.AdminPage.ProjectEdit.loadMoreTemplates',\n    defaultMessage: 'Load more templates',\n  },\n  noTemplatesFound: {\n    id: 'app.containers.AdminPage.ProjectEdit.noTemplatesFound',\n    defaultMessage: 'No templates found',\n  },\n  createProject: {\n    id: 'app.components.ProjectTemplatePreview.createProject',\n    defaultMessage: 'Create project',\n  },\n  typeProjectName: {\n    id: 'app.components.ProjectTemplatePreview.typeProjectName',\n    defaultMessage: 'Type the name of the project',\n  },\n  projectTitle: {\n    id: 'app.components.ProjectTemplatePreview.projectTitle',\n    defaultMessage: 'The title of your project',\n  },\n  projectStartDate: {\n    id: 'app.components.ProjectTemplatePreview.projectStartDate',\n    defaultMessage: 'The start date of your project',\n  },\n  projectTitleError: {\n    id: 'app.components.ProjectTemplatePreview.projectTitleError',\n    defaultMessage: 'Please type a project title',\n  },\n  projectTitleMultilocError: {\n    id: 'app.components.ProjectTemplatePreview.projectTitleMultilocError',\n    defaultMessage: 'Please type a project title for all languages',\n  },\n  projectNoStartDateError: {\n    id: 'app.components.ProjectTemplatePreview.projectNoStartDateError',\n    defaultMessage: 'Please select a start date for the project',\n  },\n  projectInvalidStartDateError: {\n    id: 'app.components.ProjectTemplatePreview.projectInvalidStartDateError',\n    defaultMessage:\n      'The selected date is invalid. Please provide a date in the following format: YYYY-MM-DD',\n  },\n  responseError: {\n    id: 'app.components.ProjectTemplatePreview.responseError',\n    defaultMessage: 'Oops, something went wrong.',\n  },\n  close: {\n    id: 'app.components.ProjectTemplatePreview.close',\n    defaultMessage: 'Close',\n  },\n  successMessage: {\n    id: 'app.components.ProjectTemplatePreview.successMessage',\n    defaultMessage: 'The project was successfully created!',\n  },\n  goBackTo: {\n    id: 'app.components.ProjectTemplatePreview.goBackTo',\n    defaultMessage: 'Go back to the {goBackLink}.',\n  },\n  projectsOverviewPage: {\n    id: 'app.components.ProjectTemplatePreview.projectsOverviewPage',\n    defaultMessage: 'projects overview page',\n  },\n  createProjectBasedOn: {\n    id: 'app.components.ProjectTemplatePreview.createProjectBasedOn',\n    defaultMessage: \"Create a project based on the template '{templateTitle}'\",\n  },\n  participationLevels: {\n    id: 'app.containers.AdminPage.ProjectEdit.participationLevels',\n    defaultMessage: 'Participation levels',\n  },\n});\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  verifyClaveUnica: {\n    id: 'app.components.VerificationModal.verifyClaveUnica',\n    defaultMessage: 'Verify with Clave Unica',\n  },\n});\n","import React from 'react';\nimport messages from '../../messages';\nimport { FormattedMessage } from 'utils/cl-intl';\nimport { State } from '..';\nimport { isFinite, isNaN } from 'lodash-es';\n\nexport default (state: State, formatMessage) => {\n  const {\n    voting_method,\n    voting_limited_max,\n    participation_method,\n    min_budget,\n    max_budget,\n  } = state;\n\n  let isValidated = true;\n  let noVotingLimit: JSX.Element | null = null;\n  let minBudgetError: string | null = null;\n  let maxBudgetError: string | null = null;\n\n  if (\n    voting_method === 'limited' &&\n    (!voting_limited_max ||\n      !isFinite(voting_limited_max) ||\n      voting_limited_max < 1)\n  ) {\n    noVotingLimit = (\n      <FormattedMessage {...messages.noVotingLimitErrorMessage} />\n    );\n    isValidated = false;\n  }\n\n  if (participation_method === 'budgeting') {\n    if (isNaN(min_budget)) {\n      minBudgetError = formatMessage(messages.minBudgetRequired);\n      isValidated = false;\n    }\n\n    if (isNaN(max_budget)) {\n      maxBudgetError = formatMessage(messages.maxBudgetRequired);\n      isValidated = false;\n    }\n\n    if (\n      // need to check for typeof, because if min_budget\n      // is 0, just checking min_budget will coerce to false\n      typeof min_budget === 'number' &&\n      typeof max_budget === 'number' &&\n      min_budget > max_budget\n    ) {\n      minBudgetError = formatMessage(messages.minBudgetLargerThanMaxError);\n      isValidated = false;\n    }\n  }\n\n  return {\n    noVotingLimit,\n    minBudgetError,\n    maxBudgetError,\n    isValidated,\n  };\n};\n","import React from 'react';\n\n// components\nimport { IconTooltip, Toggle } from 'cl2-component-library';\nimport { SectionField, SubSectionTitle } from 'components/admin/Section';\nimport Error from 'components/UI/Error';\n\n// i18n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from '../../messages';\n\n// typings\nimport { ApiErrors } from '..';\n\ninterface Props {\n  poll_anonymous: boolean | undefined;\n  apiErrors: ApiErrors;\n  togglePollAnonymous: () => void;\n}\n\nexport default ({ poll_anonymous, apiErrors, togglePollAnonymous }: Props) => (\n  <>\n    <SectionField>\n      <SubSectionTitle>\n        <FormattedMessage {...messages.anonymousPolling} />\n        <IconTooltip\n          content={<FormattedMessage {...messages.anonymousPollingTooltip} />}\n        />\n      </SubSectionTitle>\n\n      <Toggle\n        checked={poll_anonymous as boolean}\n        onChange={togglePollAnonymous}\n      />\n\n      <Error apiErrors={apiErrors && apiErrors.poll_anonymous} />\n    </SectionField>\n  </>\n);\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  youveReceivedFolderAdminRights: {\n    id:\n      'app.modules.project_folder.citizen.components.Notification.youveReceivedFolderAdminRights',\n    defaultMessage: 'You received admin rights over the \"{folderName}\" folder.',\n  },\n});\n","import React from 'react';\n\n// components\nimport { IconTooltip } from 'cl2-component-library';\nimport { LabelText, LabelWrapper } from './styling';\nimport FormattedCurrency from 'utils/currency/FormattedCurrency';\n\n// i18n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from '../../messages';\n\nexport const LabelHeaderDescription = ({\n  header,\n  description,\n}: {\n  header: string;\n  description: string;\n}) => (\n  <LabelText>\n    <span className=\"header\">\n      <FormattedMessage {...messages[header]} />\n    </span>\n    <span className=\"description\">\n      <FormattedMessage {...messages[description]} />\n    </span>\n  </LabelText>\n);\n\nexport const LabelBudgetingInput = ({\n  header,\n  tooltip,\n}: {\n  header: string;\n  tooltip: string;\n}) => (\n  <LabelWrapper>\n    <FormattedMessage {...messages[header]} />\n    &nbsp;(\n    <FormattedCurrency />\n    )&nbsp;\n    <IconTooltip content={<FormattedMessage {...messages[tooltip]} />} />\n  </LabelWrapper>\n);\n","import { API_PATH } from 'containers/App/constants';\nimport streams from 'utils/streams';\n\nexport const confirmationApiEndpoint = `${API_PATH}/user/confirm`;\nexport const resendCodeApiEndpoint = `${API_PATH}/user/resend_code`;\n\nexport type IConfirmation = {\n  code?: string | null;\n};\n\nexport async function confirm(confirmation: Partial<IConfirmation>) {\n  const bodyData = {\n    confirmation,\n  };\n  try {\n    await streams.add(confirmationApiEndpoint, bodyData);\n\n    await streams.fetchAllWith({\n      apiEndpoint: [`${API_PATH}/users/me`],\n    });\n\n    return true;\n  } catch (errors) {\n    throw errors.json.errors;\n  }\n}\n\nexport async function resendCode(newEmail?: string | null) {\n  const bodyData = newEmail\n    ? {\n        new_email: newEmail,\n      }\n    : null;\n\n  try {\n    await streams.add(resendCodeApiEndpoint, bodyData);\n\n    if (bodyData?.new_email) {\n      await streams.fetchAllWith({\n        apiEndpoint: [`${API_PATH}/users/me`],\n      });\n    }\n\n    return true;\n  } catch (errors) {\n    throw errors.json.errors;\n  }\n}\n","/*\n * AdminPage.DashboardPage Messages\n *\n * This contains all the text for the AdminPage.DashboardPage component.\n */\nimport { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  absolute: {\n    id: 'app.containers.Admin.clusterViewer.absolute',\n    defaultMessage: 'Absolute',\n  },\n  relative: {\n    id: 'app.containers.Admin.clusterViewer.relative',\n    defaultMessage: 'Relative',\n  },\n  gender: {\n    id: 'app.containers.Admin.clusterViewer.gender',\n    defaultMessage: 'Gender',\n  },\n  age: {\n    id: 'app.containers.Admin.clusterViewer.age',\n    defaultMessage: 'Age',\n  },\n  domicile: {\n    id: 'app.containers.Admin.clusterViewer.domicile',\n    defaultMessage: 'Domicile',\n  },\n  relativeImportanceInputsTooltip: {\n    id: 'app.containers.Admin.clusterViewer.relativeImportanceInputsTooltip',\n    defaultMessage:\n      'This percentage represents the importance of these inputs for a user segment. It is calculated by dividing the number of votes for the selected inputs by the total number of votes cast by the user segment.',\n  },\n  addClusteringButton: {\n    id: 'app.containers.Admin.clusterViewer.addClusteringButton',\n    defaultMessage: 'Generate new insight graph',\n  },\n  fieldTitle: {\n    id: 'app.containers.Admin.clusterViewer.fieldTitle',\n    defaultMessage: 'Title',\n  },\n  clusteringDeletionConfirmation: {\n    id: 'app.containers.Admin.clusterViewer.clusteringDeletionConfirmation',\n    defaultMessage: 'Are you sure?',\n  },\n  titleClusterings: {\n    id: 'app.containers.Admin.clusterViewer.titleClusterings',\n    defaultMessage: 'Voting insights',\n  },\n  deleteButtonLabel: {\n    id: 'app.containers.Admin.clusterViewer.deleteButtonLabel',\n    defaultMessage: 'Delete',\n  },\n  viewButtonLabel: {\n    id: 'app.containers.Admin.clusterViewer.viewButtonLabel',\n    defaultMessage: 'View',\n  },\n  titleClusterInformation: {\n    id: 'app.containers.Admin.clusterViewer.titleClusterInformation',\n    defaultMessage: 'Clustering information',\n  },\n  titleInputFilters: {\n    id: 'app.containers.Admin.clusterViewer.titleInputFilters',\n    defaultMessage: 'Input filters',\n  },\n  fieldAttributes: {\n    id: 'app.containers.Admin.clusterViewer.fieldAttributes',\n    defaultMessage: 'What attributes would you like to use to create clusters?',\n  },\n  fieldExcludeEmptyCluster: {\n    id: 'app.containers.Admin.clusterViewer.fieldExcludeEmptyCluster',\n    defaultMessage: 'Exclude empty clusters (no inputs)',\n  },\n  fieldProjects: {\n    id: 'app.containers.Admin.clusterViewer.fieldProjects',\n    defaultMessage: 'Projects',\n  },\n  fieldTopics: {\n    id: 'app.containers.Admin.clusterViewer.fieldTopics',\n    defaultMessage: 'Topics',\n  },\n  fieldStatuses: {\n    id: 'app.containers.Admin.clusterViewer.fieldStatuses',\n    defaultMessage: 'Statuses',\n  },\n  fieldSearch: {\n    id: 'app.containers.Admin.clusterViewer.fieldSearch',\n    defaultMessage: 'Including search term',\n  },\n  fieldMinimalTotalVotes: {\n    id: 'app.containers.Admin.clusterViewer.fieldMinimalTotalVotes',\n    defaultMessage: 'Minimal idea votes',\n  },\n  fieldMinimalUpvotes: {\n    id: 'app.containers.Admin.clusterViewer.fieldMinimalUpvotes',\n    defaultMessage: 'Minimal idea upvotes',\n  },\n  fieldMinimalDownvotes: {\n    id: 'app.containers.Admin.clusterViewer.fieldMinimalDownvotes',\n    defaultMessage: 'Minimal idea downvotes',\n  },\n  level_project: {\n    id: 'app.containers.Admin.clusterViewer.level_project',\n    defaultMessage: 'Project',\n  },\n  level_topic: {\n    id: 'app.containers.Admin.clusterViewer.level_topic',\n    defaultMessage: 'Topic',\n  },\n  level_area: {\n    id: 'app.containers.Admin.clusterViewer.level_area',\n    defaultMessage: 'Area',\n  },\n  level_description: {\n    id: 'app.containers.Admin.clusterViewer.level_description',\n    defaultMessage: 'Description',\n  },\n  level_clustering: {\n    id: 'app.containers.Admin.clusterViewer.level_clustering',\n    defaultMessage: 'Description',\n  },\n  firstGroup: {\n    id: 'app.containers.Admin.clusterViewer.firstGroup',\n    defaultMessage: 'First group: {level}',\n  },\n  thenLevel: {\n    id: 'app.containers.Admin.clusterViewer.thenLevel',\n    defaultMessage: 'within group them by {level}',\n  },\n  keywords: {\n    id: 'app.containers.Admin.clusterViewer.keywords',\n    defaultMessage: 'Keywords',\n  },\n  clusterContainsSelectedInputs: {\n    id: 'app.containers.Admin.clusterViewer.clusterContainsSelectedInputs',\n    defaultMessage: 'Selected inputs',\n  },\n  title: {\n    id: 'app.containers.Admin.clusterViewer.title',\n    defaultMessage: 'Title',\n  },\n  project: {\n    id: 'app.containers.Admin.clusterViewer.project',\n    defaultMessage: 'Project',\n  },\n  topic: {\n    id: 'app.containers.Admin.clusterViewer.topic',\n    defaultMessage: 'Topic',\n  },\n  legend: {\n    id: 'app.containers.Admin.clusterViewer.legend',\n    defaultMessage: 'Legend',\n  },\n  controls: {\n    id: 'app.containers.Admin.clusterViewer.controls',\n    defaultMessage: 'Controls',\n  },\n  upvotes: {\n    id: 'app.containers.Admin.clusterViewer.upvotes',\n    defaultMessage: 'More upvotes',\n  },\n  downvotes: {\n    id: 'app.containers.Admin.clusterViewer.downvotes',\n    defaultMessage: 'More downvotes',\n  },\n  noVotes: {\n    id: 'app.containers.Admin.clusterViewer.noVotes',\n    defaultMessage: 'No votes',\n  },\n  numVotes: {\n    id: 'app.containers.Admin.clusterViewer.numVotes',\n    defaultMessage: 'N of votes',\n  },\n  clickLegend: {\n    id: 'app.containers.Admin.clusterViewer.clickLegend',\n    defaultMessage: 'Select node to see details',\n  },\n  shiftLegend: {\n    id: 'app.containers.Admin.clusterViewer.shiftLegend',\n    defaultMessage: 'Add to list and see selection stats',\n  },\n  ctrlLegend: {\n    id: 'app.containers.Admin.clusterViewer.ctrlLegend',\n    defaultMessage: 'Compare nodes',\n  },\n  male: {\n    id: 'app.containers.AdminPage.clusterViewer.male',\n    defaultMessage: 'Male',\n  },\n  female: {\n    id: 'app.containers.AdminPage.clusterViewer.female',\n    defaultMessage: 'Female',\n  },\n  unspecified: {\n    id: 'app.containers.AdminPage.clusterViewer.unspecified',\n    defaultMessage: 'Unspecified',\n  },\n  _blank: {\n    id: 'app.containers.AdminPage.clusterViewer._blank',\n    defaultMessage: 'Unknown',\n  },\n  votes: {\n    id: 'app.containers.AdminPage.clusterViewer.votes',\n    defaultMessage: 'Votes',\n  },\n  details: {\n    id: 'app.containers.AdminPage.clusterViewer.details',\n    defaultMessage: 'Details',\n  },\n  tabInsights: {\n    id: 'app.containers.AdminPage.DashboardPage.tabInsights',\n    defaultMessage: 'Insights',\n  },\n});\n","import {\n  ParticipationMethod,\n  ideaDefaultSortMethodFallback,\n} from 'services/participationContexts';\nimport { State, IParticipationContextConfig } from '..';\n\nexport const getDefaultState = () =>\n  ({\n    participation_method: 'ideation',\n    posting_enabled: true,\n    commenting_enabled: true,\n    voting_enabled: true,\n    voting_method: 'unlimited',\n    voting_limited_max: 5,\n    downvoting_enabled: true,\n    presentation_mode: 'card',\n    min_budget: null,\n    max_budget: null,\n    survey_service: null,\n    survey_embed_url: null,\n    loaded: false,\n    noVotingLimit: null,\n    minBudgetError: null,\n    maxBudgetError: null,\n    poll_anonymous: false,\n    ideas_order: ideaDefaultSortMethodFallback,\n    input_term: 'idea',\n  } as State);\n\nexport const getNewStateFromData = (data) => {\n  const participation_method = data.participation_method as ParticipationMethod;\n\n  const {\n    posting_enabled,\n    commenting_enabled,\n    voting_enabled,\n    voting_method,\n    voting_limited_max,\n    downvoting_enabled,\n    presentation_mode,\n    min_budget,\n    max_budget,\n    survey_embed_url,\n    survey_service,\n    poll_anonymous,\n    ideas_order,\n    input_term,\n  } = data;\n\n  return {\n    participation_method,\n    posting_enabled,\n    commenting_enabled,\n    voting_enabled,\n    voting_method,\n    voting_limited_max,\n    downvoting_enabled,\n    presentation_mode,\n    min_budget,\n    max_budget,\n    survey_embed_url,\n    survey_service,\n    poll_anonymous,\n    ideas_order,\n    input_term,\n    loaded: true,\n  };\n};\n\nexport const getStateFromParticipationMethod = (\n  participation_method: ParticipationMethod\n) =>\n  ({\n    participation_method,\n    posting_enabled: participation_method === 'ideation' ? true : null,\n    commenting_enabled:\n      participation_method === 'ideation' ||\n      participation_method === 'budgeting'\n        ? true\n        : null,\n    voting_enabled: participation_method === 'ideation' ? true : null,\n    voting_method: participation_method === 'ideation' ? 'unlimited' : null,\n    voting_limited_max: null,\n    downvoting_enabled: participation_method === 'ideation' ? true : null,\n    presentation_mode:\n      participation_method === 'ideation' ||\n      participation_method === 'budgeting'\n        ? 'card'\n        : null,\n    survey_embed_url: null,\n    survey_service: participation_method === 'survey' ? 'typeform' : null,\n    min_budget: participation_method === 'budgeting' ? 0 : null,\n    max_budget: participation_method === 'budgeting' ? 1000 : null,\n    ideas_order:\n      participation_method === 'ideation' ||\n      participation_method === 'budgeting'\n        ? ideaDefaultSortMethodFallback\n        : null,\n  } as IParticipationContextConfig);\n","import React, { PureComponent } from 'react';\nimport styled from 'styled-components';\n\nimport ActionsForm from './ActionsForm';\n\nimport GetProjectPermissions, {\n  GetProjectPermissionsChildProps,\n} from 'resources/GetProjectPermissions';\nimport { isNilOrError } from 'utils/helperUtils';\nimport {\n  IPermissionData,\n  updateProjectPermission,\n} from 'services/actionPermissions';\n\nimport { fontSizes } from 'utils/styleUtils';\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex-wrap: wrap;\n  padding-bottom: 20px;\n\n  p {\n    font-size: ${fontSizes.base}px;\n    font-style: italic;\n  }\n`;\n\ninterface InputProps {\n  projectId: string;\n}\n\ninterface DataProps {\n  permissions: GetProjectPermissionsChildProps;\n}\ninterface Props extends InputProps, DataProps {}\n\nclass Continuous extends PureComponent<Props> {\n  handlePermissionChange = (\n    permission: IPermissionData,\n    permittedBy: IPermissionData['attributes']['permitted_by'],\n    groupIds: string[]\n  ) => {\n    updateProjectPermission(\n      permission.id,\n      this.props.projectId,\n      permission.attributes.action,\n      { permitted_by: permittedBy, group_ids: groupIds }\n    );\n  };\n\n  render() {\n    const { permissions, projectId } = this.props;\n\n    if (!isNilOrError(permissions)) {\n      return (\n        <Container>\n          <ActionsForm\n            permissions={permissions}\n            onChange={this.handlePermissionChange}\n            postType=\"idea\"\n            projectId={projectId}\n          />\n        </Container>\n      );\n    }\n\n    return null;\n  }\n}\n\nexport default (inputProps: InputProps) => (\n  <GetProjectPermissions projectId={inputProps.projectId}>\n    {(permissions) => <Continuous {...inputProps} permissions={permissions} />}\n  </GetProjectPermissions>\n);\n","import React, { memo } from 'react';\n\nimport { IOfficialFeedbackOnCommentedInitiativeNotificationData } from 'services/notifications';\n\n// i18n\nimport messages from '../../messages';\nimport { FormattedMessage } from 'utils/cl-intl';\n\n// components\nimport NotificationWrapper from '../NotificationWrapper';\nimport T from 'components/T';\n\ninterface Props {\n  notification: IOfficialFeedbackOnCommentedInitiativeNotificationData;\n}\n\nconst OfficialFeedbackOnCommentedInitiativeNotification = memo<Props>(\n  (props) => {\n    const { notification } = props;\n\n    return (\n      <NotificationWrapper\n        linkTo={`/initiatives/${notification.attributes.post_slug}`}\n        timing={notification.attributes.created_at}\n        icon=\"comments\"\n        isRead={!!notification.attributes.read_at}\n      >\n        <FormattedMessage\n          {...messages.officialFeedbackOnCommentedInitiative}\n          values={{\n            officialName: (\n              <T value={notification.attributes.official_feedback_author} />\n            ),\n          }}\n        />\n      </NotificationWrapper>\n    );\n  }\n);\n\nexport default OfficialFeedbackOnCommentedInitiativeNotification;\n","export default {\n  clickExportIdeas: {\n    name: 'Idea export button clicked',\n  },\n  clickExportInitiatives: {\n    name: 'Initiative export button clicked',\n  },\n  clickExportComments: {\n    name: 'Comment export button clicked',\n  },\n  changeIdeaAssignment: 'An idea was (re)assigned',\n  changeInitiativeAssignment: 'An initiative was (re)assigned',\n  ideaStatusChange: \"An idea's status was changed\",\n  initiativeStatusChange: \"An initiative's status was changed\",\n};\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  permissionsUsersLabel: {\n    id: 'app.containers.admin.project.permissions.permissionsUsersLabel',\n    defaultMessage: 'All users',\n  },\n  selectGroups: {\n    id: 'app.containers.AdminPage.ProjectEdit.selectGroups',\n    defaultMessage: 'Select group(s)',\n  },\n  permissionAction_comment_ideas: {\n    id:\n      'app.containers.AdminPage.groups.permissions.permissionAction_comment_ideas',\n    defaultMessage: 'Comment on ideas',\n  },\n  permissionAction_comment_projects: {\n    id:\n      'app.containers.AdminPage.groups.permissions.permissionAction_comment_projects',\n    defaultMessage: 'Comment on projects',\n  },\n  permissionAction_comment_contributions: {\n    id:\n      'app.containers.AdminPage.groups.permissions.permissionAction_comment_contributions',\n    defaultMessage: 'Comment on contributions',\n  },\n  permissionAction_comment_options: {\n    id:\n      'app.containers.AdminPage.groups.permissions.permissionAction_comment_options',\n    defaultMessage: 'Comment on options',\n  },\n  permissionAction_comment_questions: {\n    id:\n      'app.containers.AdminPage.groups.permissions.permissionAction_comment_questions',\n    defaultMessage: 'Comment on questions',\n  },\n  permissionAction_comment_issues: {\n    id:\n      'app.containers.AdminPage.groups.permissions.permissionAction_comment_issues',\n    defaultMessage: 'Comment on issues',\n  },\n  permissionAction_vote_ideas: {\n    id:\n      'app.containers.AdminPage.groups.permissions.permissionAction_vote_ideas',\n    defaultMessage: 'Vote on ideas',\n  },\n  permissionAction_vote_projects: {\n    id:\n      'app.containers.AdminPage.groups.permissions.permissionAction_vote_projects',\n    defaultMessage: 'Vote on projects',\n  },\n  permissionAction_vote_contributions: {\n    id:\n      'app.containers.AdminPage.groups.permissions.permissionAction_vote_contributions',\n    defaultMessage: 'Vote on contributions',\n  },\n  permissionAction_vote_options: {\n    id:\n      'app.containers.AdminPage.groups.permissions.permissionAction_vote_options',\n    defaultMessage: 'Vote on options',\n  },\n  permissionAction_vote_questions: {\n    id:\n      'app.containers.AdminPage.groups.permissions.permissionAction_vote_questions',\n    defaultMessage: 'Vote on questions',\n  },\n  permissionAction_vote_issues: {\n    id:\n      'app.containers.AdminPage.groups.permissions.permissionAction_vote_issues',\n    defaultMessage: 'Vote on issues',\n  },\n  permissionAction_submit_idea: {\n    id:\n      'app.containers.AdminPage.groups.permissions.permissionAction_submit_idea',\n    defaultMessage: 'Submit your idea',\n  },\n  permissionAction_submit_project: {\n    id:\n      'app.containers.AdminPage.groups.permissions.permissionAction_submit_project',\n    defaultMessage: 'Submit your project',\n  },\n  permissionAction_submit_contribution: {\n    id:\n      'app.containers.AdminPage.groups.permissions.permissionAction_submit_contribution',\n    defaultMessage: 'Submit your contribution',\n  },\n  permissionAction_submit_option: {\n    id:\n      'app.containers.AdminPage.groups.permissions.permissionAction_submit_option',\n    defaultMessage: 'Submit your option',\n  },\n  permissionAction_submit_question: {\n    id:\n      'app.containers.AdminPage.groups.permissions.permissionAction_submit_question',\n    defaultMessage: 'Submit your question',\n  },\n  permissionAction_submit_issue: {\n    id:\n      'app.containers.AdminPage.groups.permissions.permissionAction_submit_issue',\n    defaultMessage: 'Submit your issue',\n  },\n  permissionAction_comment_proposals: {\n    id:\n      'app.containers.AdminPage.groups.permissions.permissionAction_comment_proposal',\n    defaultMessage: 'Comment on proposals',\n  },\n  permissionAction_vote_proposals: {\n    id:\n      'app.containers.AdminPage.groups.permissions.permissionAction_vote_proposal',\n    defaultMessage: 'Vote on proposals',\n  },\n  permissionAction_post_proposal: {\n    id:\n      'app.containers.AdminPage.groups.permissions.permissionAction_post_proposal',\n    defaultMessage: 'Post a proposal',\n  },\n  permissionAction_take_survey: {\n    id:\n      'app.containers.AdminPage.groups.permissions.permissionAction_take_survey',\n    defaultMessage: 'Take the survey',\n  },\n  permissionAction_take_poll: {\n    id:\n      'app.containers.AdminPage.groups.permissions.permissionAction_take_poll',\n    defaultMessage: 'Take the poll',\n  },\n  permissionAction_budgeting: {\n    id:\n      'app.containers.AdminPage.groups.permissions.permissionAction_budgeting',\n    defaultMessage: 'Spending budget',\n  },\n  noActionsCanBeTakenInThisProject: {\n    id:\n      'app.containers.AdminPage.groups.permissions.noActionsCanBeTakenInThisProject',\n    defaultMessage:\n      'Nothing is shown, because there are no actions the user can take in this project.',\n  },\n  granularPermissionsTitle: {\n    id: 'app.containers.AdminPage.groups.permissions.granularPermissionsTitle',\n    defaultMessage: 'What can different users do?',\n  },\n});\n","import React, { memo, useState, useMemo } from 'react';\nimport { isNilOrError } from 'utils/helperUtils';\n\n// components\nimport { Icon } from 'cl2-component-library';\nimport Error from 'components/UI/Error';\nimport {\n  RowContent,\n  RowContentInner,\n  RowTitle,\n  RowButton,\n  ActionsRowContainer,\n} from 'containers/Admin/projects/components/StyledComponents';\n\n// styles\nimport styled from 'styled-components';\n\n// i18n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from './messages';\n\n// hooks\nimport useAuthUser from 'hooks/useAuthUser';\nimport useAdminPublications, {\n  IAdminPublicationContent,\n} from 'hooks/useAdminPublications';\n\n// services\nimport { isAdmin } from 'services/permissions/roles';\nimport { moderatesFolder } from '../../../permissions/roles';\n\nconst FolderIcon = styled(Icon)`\n  margin-right: 10px;\n  height: 14px;\n  width: 17px;\n`;\n\n// types & services\nimport ProjectRow from 'containers/Admin/projects/components/ProjectRow';\nimport { colors } from 'utils/styleUtils';\nimport PublicationStatusLabel from 'containers/Admin/projects/components/PublicationStatusLabel';\nimport DeleteProjectFolderButton from '../DeleteProjectFolderButton';\n\nconst ArrowIcon = styled(Icon)<{ expanded: boolean }>`\n  flex: 0 0 11px;\n  height: 11px;\n  width: 11px;\n  margin-right: 8px;\n  transition: transform 350ms cubic-bezier(0.165, 0.84, 0.44, 1),\n    fill 80ms ease-out;\n\n  ${({ expanded }) =>\n    expanded &&\n    `\n    transform: rotate(90deg);\n  `}\n`;\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n`;\n\nconst FolderRowContent = styled(RowContent)<{\n  expanded: boolean;\n  hasProjects: boolean;\n}>`\n  ${({ expanded }) =>\n    expanded &&\n    `\n    padding-bottom: 10px;\n  `}\n  ${({ hasProjects }) =>\n    hasProjects &&\n    `\n    cursor: pointer;\n  `}\n`;\n\nconst ProjectRows = styled.div`\n  margin-left: 30px;\n`;\n\nconst InFolderProjectRow = styled(ProjectRow)`\n  padding-bottom: 10px;\n  padding-top: 10px;\n  border-top: 1px solid ${colors.separation};\n\n  &:last-child {\n    padding-bottom: 0;\n  }\n`;\n\ninterface Props {\n  publication: IAdminPublicationContent;\n}\n\nconst ProjectFolderRow = memo<Props>(({ publication }) => {\n  const authUser = useAuthUser();\n\n  const { childrenOf: publicationChildrenOf } = useAdminPublications({\n    publicationStatusFilter: ['draft', 'published', 'archived'],\n  });\n  const [folderOpen, setFolderOpen] = useState(true);\n  const [isBeingDeleted, setIsBeingDeleted] = useState(false);\n  const [folderDeletionError, setFolderDeletionError] = useState('');\n\n  const adminPublications = useMemo(() => {\n    return publicationChildrenOf(publication);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [publicationChildrenOf]);\n\n  const toggleExpand = () => setFolderOpen((folderOpen) => !folderOpen);\n  const hasProjects =\n    !isNilOrError(adminPublications) &&\n    !!adminPublications.length &&\n    adminPublications.length > 0;\n\n  if (!isNilOrError(authUser)) {\n    const userIsAdmin = isAdmin({ data: authUser });\n\n    return (\n      <Container>\n        <FolderRowContent\n          className=\"e2e-admin-adminPublications-list-item\"\n          expanded={hasProjects && folderOpen}\n          hasProjects={hasProjects}\n          role=\"button\"\n          onClick={toggleExpand}\n        >\n          <RowContentInner className=\"expand primary\">\n            {hasProjects && (\n              <ArrowIcon\n                expanded={hasProjects && folderOpen}\n                name=\"chevron-right\"\n              />\n            )}\n            <FolderIcon name=\"simpleFolder\" />\n            <RowTitle\n              value={publication.attributes.publication_title_multiloc}\n            />\n            <PublicationStatusLabel\n              publicationStatus={publication.attributes.publication_status}\n            />\n          </RowContentInner>\n          <ActionsRowContainer>\n            {userIsAdmin && (\n              <DeleteProjectFolderButton\n                publication={publication}\n                processing={isBeingDeleted}\n                setDeletionError={setFolderDeletionError}\n                setDeleteIsProcessing={setIsBeingDeleted}\n              />\n            )}\n            <RowButton\n              className={`e2e-admin-edit-project ${\n                publication.attributes.publication_title_multiloc['en-GB'] || ''\n              }`}\n              linkTo={`/admin/projects/folders/${publication.publicationId}`}\n              buttonStyle=\"secondary\"\n              icon=\"edit\"\n              disabled={\n                isBeingDeleted ||\n                !moderatesFolder(authUser, publication.publicationId)\n              }\n            >\n              <FormattedMessage {...messages.manageButtonLabel} />\n            </RowButton>\n          </ActionsRowContainer>\n        </FolderRowContent>\n\n        {folderDeletionError && <Error text={folderDeletionError} />}\n\n        {hasProjects && folderOpen && (\n          <ProjectRows>\n            {adminPublications.map((publication) => (\n              <InFolderProjectRow\n                publication={publication}\n                key={publication.id}\n                actions={userIsAdmin ? ['delete', 'manage'] : ['manage']}\n              />\n            ))}\n          </ProjectRows>\n        )}\n      </Container>\n    );\n  }\n\n  return null;\n});\n\nexport default ProjectFolderRow;\n","export default {\n  createProjectSectionExpanded: 'Create project section expanded',\n  createProjectSectionCollapsed: 'Create project section collapsed',\n  useTemplateButtonClicked:\n    \"Project template card 'Use template' button clicked\",\n  useTemplateModalClosed: 'Use templatye modal closed',\n  createdProject: 'Created a new project',\n};\n","import React, { memo } from 'react';\nimport styled from 'styled-components';\nimport { isEmpty } from 'lodash-es';\nimport { isNilOrError } from 'utils/helperUtils';\n\n// services\nimport {\n  IPermissionData,\n  IGlobalPermissionAction,\n  IPCPermissionAction,\n} from 'services/actionPermissions';\nimport { getInputTerm } from 'services/participationContexts';\n\n// components\nimport ActionForm from './ActionForm';\n\n// i18n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from './messages';\nimport { getInputTermMessage } from 'utils/i18n';\n\n// hooks\nimport useProject from 'hooks/useProject';\nimport usePhases from 'hooks/usePhases';\n\nconst ActionPermissionWrapper = styled.div`\n  margin-bottom: 30px;\n\n  &.last {\n    margin-bottom: 0;\n  }\n`;\n\ntype PostTypeProps =\n  | {\n      postType: 'idea';\n      projectId: string;\n    }\n  | {\n      postType: 'initiative';\n      projectId: null;\n    };\n\ntype SharedProps = {\n  permissions: IPermissionData[];\n  onChange: (\n    permission: IPermissionData,\n    permittedBy: IPermissionData['attributes']['permitted_by'],\n    groupIds: string[]\n  ) => void;\n};\n\ntype Props = PostTypeProps & SharedProps;\n\nconst ActionsForm = memo(\n  ({ permissions, postType, onChange, projectId }: Props) => {\n    const project = useProject({ projectId });\n    const phases = usePhases(projectId);\n    const handlePermissionChange = (permission: IPermissionData) => (\n      permittedBy: IPermissionData['attributes']['permitted_by'],\n      groupIds: string[]\n    ) => {\n      onChange(permission, permittedBy, groupIds);\n    };\n\n    const getPermissionActionMessage = (\n      permissionAction: IPCPermissionAction | IGlobalPermissionAction\n    ) => {\n      if (postType === 'idea' && !isNilOrError(project)) {\n        const inputTerm = getInputTerm(\n          project.attributes.process_type,\n          project,\n          phases\n        );\n\n        return {\n          posting_idea: getInputTermMessage(inputTerm, {\n            idea: messages.permissionAction_submit_idea,\n            project: messages.permissionAction_submit_project,\n            contribution: messages.permissionAction_submit_contribution,\n            issue: messages.permissionAction_submit_issue,\n            question: messages.permissionAction_submit_question,\n            option: messages.permissionAction_submit_option,\n          }),\n          voting_idea: getInputTermMessage(inputTerm, {\n            idea: messages.permissionAction_vote_ideas,\n            project: messages.permissionAction_vote_projects,\n            contribution: messages.permissionAction_vote_contributions,\n            issue: messages.permissionAction_vote_issues,\n            question: messages.permissionAction_vote_questions,\n            option: messages.permissionAction_vote_options,\n          }),\n          commenting_idea: getInputTermMessage(inputTerm, {\n            idea: messages.permissionAction_comment_ideas,\n            project: messages.permissionAction_comment_projects,\n            contribution: messages.permissionAction_comment_contributions,\n            issue: messages.permissionAction_comment_issues,\n            question: messages.permissionAction_comment_questions,\n            option: messages.permissionAction_comment_options,\n          }),\n          taking_survey: messages.permissionAction_take_survey,\n          taking_poll: messages.permissionAction_take_poll,\n          budgeting: messages.permissionAction_budgeting,\n        }[permissionAction];\n      }\n\n      if (postType === 'initiative') {\n        return {\n          voting_initiative: messages.permissionAction_vote_proposals,\n          commenting_initiative: messages.permissionAction_comment_proposals,\n          posting_initiative: messages.permissionAction_post_proposal,\n        }[permissionAction];\n      }\n    };\n\n    if (isEmpty(permissions)) {\n      return (\n        <p>\n          <FormattedMessage {...messages.noActionsCanBeTakenInThisProject} />\n        </p>\n      );\n    } else {\n      return (\n        <>\n          {permissions.map((permission, index) => {\n            const permissionAction = permission.attributes.action;\n\n            return (\n              <ActionPermissionWrapper\n                key={permission.id}\n                className={`${index === 0 ? 'first' : ''} ${\n                  index === permissions.length - 1 ? 'last' : ''\n                }`}\n              >\n                <h4>\n                  <FormattedMessage\n                    {...getPermissionActionMessage(permissionAction)}\n                  />\n                </h4>\n                <ActionForm\n                  permissionData={permission}\n                  groupIds={permission.relationships.groups.data.map(\n                    (p) => p.id\n                  )}\n                  onChange={handlePermissionChange(permission)}\n                />\n              </ActionPermissionWrapper>\n            );\n          })}\n        </>\n      );\n    }\n  }\n);\n\nexport default ActionsForm;\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  buttonSave: {\n    id: 'app.components.admin.FormikSubmitWrapper.buttonSave',\n    defaultMessage: 'Save',\n  },\n  buttonSuccess: {\n    id: 'app.components.admin.FormikSubmitWrapper.buttonSuccess',\n    defaultMessage: 'Success',\n  },\n  messageSuccess: {\n    id: 'app.components.admin.FormikSubmitWrapper.messageSuccess',\n    defaultMessage: 'Saved successfully',\n  },\n  messageError: {\n    id: 'app.components.admin.FormikSubmitWrapper.messageError',\n    defaultMessage: 'There was an error during saving',\n  },\n});\n","import { useState, useEffect } from 'react';\nimport { isNilOrError, convertToGraphqlLocale } from 'utils/helperUtils';\nimport { GraphqlLocale } from 'typings';\nimport { includes } from 'lodash-es';\nimport useAppConfiguration from 'hooks/useAppConfiguration';\n\nexport default function useGraphqlTenantLocales() {\n  const [graphqlTenantLocales, setGraphqlTenantLocales] = useState<\n    GraphqlLocale[]\n  >(['en']);\n  const tenant = useAppConfiguration();\n\n  useEffect(() => {\n    if (isNilOrError(tenant)) return;\n\n    const graphqlLocales = tenant.data.attributes.settings.core.locales.map(\n      (locale) => convertToGraphqlLocale(locale)\n    );\n\n    if (!includes(graphqlLocales, 'en')) {\n      graphqlLocales.push('en');\n    }\n\n    setGraphqlTenantLocales(graphqlLocales);\n\n    return () => setGraphqlTenantLocales(['en']);\n  }, [tenant]);\n\n  return graphqlTenantLocales;\n}\n","import React, { PureComponent } from 'react';\nimport { adopt } from 'react-adopt';\nimport { Select } from 'semantic-ui-react';\nimport { memoize } from 'lodash-es';\n\n// resources\nimport GetUsers, { GetUsersChildProps } from 'resources/GetUsers';\nimport GetAuthUser, { GetAuthUserChildProps } from 'resources/GetAuthUser';\n\n// i18n\nimport { injectIntl } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\nimport messages from '../../messages';\n\n// utils\nimport { isNilOrError } from 'utils/helperUtils';\n\ninterface DataProps {\n  prospectAssignees: GetUsersChildProps;\n  authUser: GetAuthUserChildProps;\n}\n\ninterface InputProps {\n  projectId?: string;\n  assigneeId: string | undefined;\n  onAssigneeChange: (assigneeId: string | undefined) => void;\n}\n\ninterface Props extends InputProps, DataProps {}\n\nclass AssigneeSelect extends PureComponent<Props & InjectedIntlProps> {\n  getAssigneeOptions = memoize((prospectAssignees, authUser) => {\n    const {\n      intl: { formatMessage },\n    } = this.props;\n    let assigneeOptions = [] as {\n      value: string;\n      text: string;\n      id?: string;\n      className?: string;\n    }[];\n\n    if (!isNilOrError(prospectAssignees.usersList) && !isNilOrError(authUser)) {\n      const dynamicOptions = prospectAssignees.usersList\n        .filter((assignee) => assignee.id !== authUser.id)\n        .map((assignee) => ({\n          value: assignee.id,\n          text: formatMessage(messages.assignedTo, {\n            assigneeName: `${assignee.attributes.first_name} ${assignee.attributes.last_name}`,\n          }),\n          className: 'e2e-assignee-filter-other-user',\n        }));\n\n      // Order of assignee filter options:\n      // Assigned to me > Unassigned > Assigned to X (other admins/mods)\n      assigneeOptions = [\n        {\n          value: authUser.id,\n          text: formatMessage(messages.assignedToMe),\n          id: 'e2e-assignee-select-assigned-to-user',\n        },\n        {\n          value: 'unassigned',\n          text: formatMessage(messages.noOne),\n          id: 'e2e-assignee-select-unassigned',\n        },\n        ...dynamicOptions,\n      ];\n    }\n    return assigneeOptions;\n  });\n\n  onAssigneeChange = (_event, assigneeOption) => {\n    const { onAssigneeChange } = this.props;\n    onAssigneeChange(\n      assigneeOption.value === 'unassigned' ? undefined : assigneeOption.value\n    );\n  };\n\n  render() {\n    const { assigneeId, prospectAssignees, authUser } = this.props;\n\n    return (\n      <Select\n        id={'post-row-select-assignee'}\n        options={this.getAssigneeOptions(prospectAssignees, authUser)}\n        onChange={this.onAssigneeChange}\n        value={assigneeId || 'unassigned'}\n        className=\"fluid e2e-post-manager-post-row-assignee-select\"\n      />\n    );\n  }\n}\n\nconst Data = adopt<DataProps, InputProps>({\n  authUser: <GetAuthUser />,\n  prospectAssignees: ({ projectId, render }) =>\n    projectId ? (\n      <GetUsers canModerateProject={projectId}>{render}</GetUsers>\n    ) : (\n      <GetUsers canAdmin>{render}</GetUsers>\n    ),\n});\n\nconst AssigneeSelectWithHocs = injectIntl<Props>(AssigneeSelect);\n\nexport default (inputProps: InputProps) => (\n  <Data {...inputProps}>\n    {(dataProps) => <AssigneeSelectWithHocs {...inputProps} {...dataProps} />}\n  </Data>\n);\n","// libraries\nimport React from 'react';\nimport { isEmpty } from 'lodash-es';\n\n// intl\nimport { injectIntl, FormattedMessage } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\nimport messages from '../../messages';\n\n// styling\nimport { withTheme } from 'styled-components';\n\n// components\nimport {\n  Bar,\n  BarChart,\n  XAxis,\n  YAxis,\n  ResponsiveContainer,\n  LabelList,\n} from 'recharts';\nimport {\n  IGraphUnit,\n  NoDataContainer,\n  GraphCardHeader,\n  GraphCardTitle,\n  GraphCard,\n  GraphCardInner,\n} from 'components/admin/Chart';\n\n// resources\nimport GetSerieFromStream from 'resources/GetSerieFromStream';\n\n// types\nimport { IStreamParams, IStream } from 'utils/streams';\n\nimport { IGraphFormat } from 'typings';\nimport ReportExportMenu from 'components/admin/ReportExportMenu';\n\ninterface DataProps {\n  serie: IGraphFormat;\n}\n\nexport interface ISupportedDataTypeMap {}\n\nexport type ISupportedDataType = ISupportedDataTypeMap[keyof ISupportedDataTypeMap];\n\ninterface InputProps {\n  stream: (\n    streamParams?: IStreamParams | null,\n    customId?: string\n  ) => IStream<ISupportedDataType>;\n  convertToGraphFormat: (data: ISupportedDataType) => IGraphFormat | null;\n  startAt: string | null | undefined;\n  endAt: string | null;\n  currentGroupFilter?: string | undefined;\n  currentGroupFilterLabel?: string | undefined;\n  graphTitleString: string;\n  graphUnit: IGraphUnit;\n  className?: string;\n  customId?: string;\n  xlsxEndpoint?: string;\n}\n\ninterface Props extends InputProps, DataProps {}\n\nexport class HorizontalBarChart extends React.PureComponent<\n  Props & InjectedIntlProps\n> {\n  currentChart: React.RefObject<any>;\n  constructor(props: Props & InjectedIntlProps) {\n    super(props as any);\n    this.currentChart = React.createRef();\n  }\n  render() {\n    const {\n      chartLabelSize,\n      chartLabelColor,\n      barFill,\n      animationBegin,\n      animationDuration,\n      newBarFill,\n    } = this.props['theme'];\n    const {\n      className,\n      graphTitleString,\n      serie,\n      intl: { formatMessage },\n      graphUnit,\n      xlsxEndpoint,\n    } = this.props;\n\n    const noData =\n      !serie || serie.every((item) => isEmpty(item)) || serie.length <= 0;\n\n    const unitName = formatMessage(messages[graphUnit]);\n\n    return (\n      <GraphCard className={className}>\n        <GraphCardInner>\n          <GraphCardHeader>\n            <GraphCardTitle>{graphTitleString}</GraphCardTitle>\n            {!noData && (\n              <ReportExportMenu\n                svgNode={this.currentChart}\n                xlsxEndpoint={xlsxEndpoint}\n                name={graphTitleString}\n              />\n            )}\n          </GraphCardHeader>\n          {noData ? (\n            <NoDataContainer>\n              <FormattedMessage {...messages.noData} />\n            </NoDataContainer>\n          ) : (\n            <ResponsiveContainer\n              height={serie.length > 1 ? serie.length * 50 : 100}\n            >\n              <BarChart data={serie} layout=\"vertical\" ref={this.currentChart}>\n                <Bar\n                  dataKey=\"value\"\n                  name={unitName}\n                  fill={newBarFill}\n                  barSize={graphUnit === 'ideas' ? 5 : 20}\n                  animationDuration={animationDuration}\n                  animationBegin={animationBegin}\n                >\n                  <LabelList\n                    fill={barFill}\n                    fontSize={chartLabelSize}\n                    position=\"insideLeft\"\n                  />\n                </Bar>\n                <YAxis\n                  dataKey=\"name\"\n                  type=\"category\"\n                  width={150}\n                  stroke={chartLabelColor}\n                  fontSize={chartLabelSize}\n                  tickLine={false}\n                />\n                <XAxis\n                  stroke={chartLabelColor}\n                  fontSize={chartLabelSize}\n                  type=\"number\"\n                  tick={{ transform: 'translate(0, 7)' }}\n                />\n              </BarChart>\n            </ResponsiveContainer>\n          )}\n        </GraphCardInner>\n      </GraphCard>\n    );\n  }\n}\n\nconst HorizontalBarChartWithHoCs = injectIntl<Props>(\n  withTheme(HorizontalBarChart as any) as any\n);\n\nconst WrappedHorizontalBarChart = (inputProps: InputProps) => (\n  <GetSerieFromStream {...inputProps}>\n    {(serie) => <HorizontalBarChartWithHoCs {...serie} {...inputProps} />}\n  </GetSerieFromStream>\n);\n\nexport const CustomizedLabel = (props) => {\n  const { x, y, value } = props;\n  return (\n    <text\n      x={x}\n      y={y}\n      dx={20}\n      dy={-6}\n      fontFamily=\"sans-serif\"\n      fill={props.fill}\n      fontSize={props.fontSize}\n      textAnchor=\"middle\"\n    >\n      {' '}\n      {value}{' '}\n    </text>\n  );\n};\n\nexport default WrappedHorizontalBarChart;\n","import React, { memo, useCallback, useState } from 'react';\nimport { isEmpty, get } from 'lodash-es';\nimport { reportError } from 'utils/loggingUtils';\nimport { API_PATH } from 'containers/App/constants';\nimport streams from 'utils/streams';\nimport { isNilOrError } from 'utils/helperUtils';\n\n// components\nimport { Input, IconTooltip } from 'cl2-component-library';\nimport Error from 'components/UI/Error';\nimport Collapse from 'components/UI/Collapse';\nimport {\n  FormContainer,\n  Title,\n  Form,\n  FormField,\n  StyledLabel,\n  LabelTextContainer,\n  Footer,\n  SubmitButton,\n  CancelButton,\n  HelpImage,\n} from 'modules/commercial/verification/citizen/components/styles';\n\n// hooks\nimport useAuthUser from 'hooks/useAuthUser';\n\n// services\nimport { verifyCOW } from '../services/verify';\n\n// i18n\nimport { InjectedIntlProps } from 'react-intl';\nimport { injectIntl, FormattedMessage } from 'utils/cl-intl';\nimport messages from '../messages';\n\n// images\nimport helpImage from './COWHelpImage.png';\nimport { IVerificationMethod } from 'services/verificationMethods';\n\ninterface Props {\n  onCancel: () => void;\n  onVerified: () => void;\n  showHeader?: boolean;\n  inModal: boolean;\n  method: IVerificationMethod;\n  className?: string;\n}\n\nconst VerificationFormCOW = memo<Props & InjectedIntlProps>(\n  ({ onCancel, onVerified, showHeader, inModal, className, intl }) => {\n    const authUser = useAuthUser();\n\n    const [run, setRun] = useState('');\n    const [idSerial, setIdSerial] = useState('');\n    const [runError, setRunError] = useState<string | null>(null);\n    const [idError, setIdError] = useState<string | null>(null);\n    const [formError, setFormError] = useState<string | null>(null);\n    const [showHelp, setShowHelp] = useState(false);\n    const [processing, setProcessing] = useState(false);\n\n    const onRunChange = useCallback((run: string) => {\n      setRunError(null);\n      setRun(run);\n    }, []);\n\n    const onIdSerialChange = useCallback((idSerial: string) => {\n      setIdError(null);\n      setIdSerial(idSerial);\n    }, []);\n\n    const onSubmit = useCallback(\n      async (event: React.FormEvent<HTMLButtonElement>) => {\n        event.preventDefault();\n\n        const { formatMessage } = intl;\n        let hasEmptyFields = false;\n\n        // first reset the errors\n        setRunError(null);\n        setIdError(null);\n        setFormError(null);\n\n        if (isEmpty(run)) {\n          setRunError(formatMessage(messages.emptyFieldError));\n          hasEmptyFields = true;\n        }\n\n        if (isEmpty(idSerial)) {\n          setIdError(formatMessage(messages.emptyFieldError));\n          hasEmptyFields = true;\n        }\n\n        if (!hasEmptyFields && !processing) {\n          try {\n            setProcessing(true);\n\n            await verifyCOW(run, idSerial);\n\n            const endpointsToRefetch = [\n              `${API_PATH}/users/me`,\n              `${API_PATH}/projects`,\n            ];\n            const partialEndpointsToRefetch = [\n              `${API_PATH}/projects/`,\n              `${API_PATH}/ideas/`,\n            ];\n\n            if (!isNilOrError(authUser)) {\n              endpointsToRefetch.push(`${API_PATH}/users/${authUser.id}`);\n            }\n\n            await streams.fetchAllWith({\n              apiEndpoint: endpointsToRefetch,\n              partialApiEndpoint: partialEndpointsToRefetch,\n            });\n\n            setProcessing(false);\n\n            onVerified();\n          } catch (error) {\n            setProcessing(false);\n\n            if (get(error, 'json.errors.base[0].error') === 'taken') {\n              setFormError(formatMessage(messages.takenFormError));\n            } else if (get(error, 'json.errors.base[0].error') === 'no_match') {\n              setFormError(formatMessage(messages.noMatchFormError));\n            } else if (\n              get(error, 'json.errors.base[0].error') === 'not_entitled'\n            ) {\n              setFormError(formatMessage(messages.notEntitledFormError));\n            } else if (get(error, 'json.errors.run[0].error') === 'invalid') {\n              setRunError(formatMessage(messages.invalidRunError));\n            } else if (\n              get(error, 'json.errors.id_serial[0].error') === 'invalid'\n            ) {\n              setIdError(formatMessage(messages.invalidIdSerialError));\n            } else {\n              reportError(error);\n              setFormError(formatMessage(messages.somethingWentWrongError));\n            }\n          }\n        }\n      },\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      [run, idSerial, processing, intl]\n    );\n\n    const onCancelButtonClicked = useCallback(() => {\n      onCancel();\n    }, [onCancel]);\n\n    const onToggleHelpButtonClick = useCallback(() => {\n      setShowHelp((showHelp) => !showHelp);\n    }, []);\n\n    return (\n      <FormContainer className={className} inModal={inModal}>\n        {showHeader && (\n          <Title>\n            <strong>\n              <FormattedMessage {...messages.verifyYourIdentity} />\n            </strong>\n          </Title>\n        )}\n\n        <Form inModal={inModal}>\n          <FormField>\n            <StyledLabel htmlFor=\"run\">\n              <LabelTextContainer>\n                <span>RUN</span>\n                <IconTooltip\n                  maxTooltipWidth={200}\n                  content=\"Ingrese su nmero de RUT, con puntos y guin. Ej: 11.222.333-4\"\n                />\n              </LabelTextContainer>\n              <Input\n                id=\"run\"\n                type=\"text\"\n                placeholder=\"xx.xxx.xxx-x\"\n                onChange={onRunChange}\n                value={run}\n                error={runError}\n              />\n            </StyledLabel>\n          </FormField>\n\n          <FormField>\n            <StyledLabel htmlFor=\"id-serial\">\n              <LabelTextContainer>\n                <span>Nmero de Documento</span>\n                <IconTooltip\n                  maxTooltipWidth={200}\n                  content=\"Ingrese el nmero de documento que se encuentra al frente de las cdulas y atrs en las cdulas antiguas. Ej: 111.222.333 en las cdulas nuevas o A012345678 en las cdulas antiguas.\"\n                />\n              </LabelTextContainer>\n              <Input\n                id=\"id-serial\"\n                type=\"text\"\n                onChange={onIdSerialChange}\n                value={idSerial}\n                error={idError}\n              />\n            </StyledLabel>\n\n            <Collapse\n              opened={showHelp}\n              onToggle={onToggleHelpButtonClick}\n              label={intl.formatMessage(messages.showCOWHelp)}\n            >\n              <HelpImage src={helpImage} alt=\"help\" />\n            </Collapse>\n          </FormField>\n\n          {formError && <Error text={formError} />}\n\n          <Footer>\n            <SubmitButton onClick={onSubmit} processing={processing}>\n              <FormattedMessage {...messages.submit} />\n            </SubmitButton>\n            <CancelButton\n              onClick={onCancelButtonClicked}\n              buttonStyle=\"secondary\"\n            >\n              <FormattedMessage {...messages.cancel} />\n            </CancelButton>\n          </Footer>\n        </Form>\n      </FormContainer>\n    );\n  }\n);\n\nexport default injectIntl(VerificationFormCOW);\n","import React, { memo } from 'react';\nimport { isNilOrError, stopPropagation } from 'utils/helperUtils';\n\n// data\nimport { ICommentOnYourInitiativeNotificationData } from 'services/notifications';\n\n// i18n\nimport messages from '../../messages';\nimport { FormattedMessage } from 'utils/cl-intl';\n\n// components\nimport NotificationWrapper from '../NotificationWrapper';\nimport Link from 'utils/cl-router/Link';\nimport { DeletedUser } from '../Notification';\n\ninterface Props {\n  notification: ICommentOnYourInitiativeNotificationData;\n}\n\nconst CommentOnYourInitiativeNotification = memo<Props>((props) => {\n  const { notification } = props;\n\n  const deletedUser =\n    isNilOrError(notification.attributes.initiating_user_first_name) ||\n    isNilOrError(notification.attributes.initiating_user_slug);\n\n  return (\n    <NotificationWrapper\n      linkTo={`/initiatives/${notification.attributes.post_slug}`}\n      timing={notification.attributes.created_at}\n      icon=\"comments\"\n      isRead={!!notification.attributes.read_at}\n    >\n      <FormattedMessage\n        {...messages.userCommentedOnYourInitiative}\n        values={{\n          name: deletedUser ? (\n            <DeletedUser>\n              <FormattedMessage {...messages.deletedUser} />\n            </DeletedUser>\n          ) : (\n            <Link\n              to={`/profile/${notification.attributes.initiating_user_slug}`}\n              onClick={stopPropagation}\n            >\n              {notification.attributes.initiating_user_first_name}\n            </Link>\n          ),\n        }}\n      />\n    </NotificationWrapper>\n  );\n});\n\nexport default CommentOnYourInitiativeNotification;\n","import React from 'react';\n\nexport const PreviousPathnameContext = React.createContext<string | null>(null);\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  deleteFolderError: {\n    id: 'app.containers.Admin.projects.all.deleteFolderError',\n    defaultMessage:\n      'There was an issue removing this folder. Please try again.',\n  },\n  deleteFolderConfirmation: {\n    id: 'app.containers.Admin.projects.all.deleteFolderConfirm',\n    defaultMessage:\n      'Are you sure you want to delete this folder? All of the projects within the folder will also be deleted. This action cannot be undone.',\n  },\n  deleteFolderButton: {\n    id: 'app.containers.Admin.projects.all.deleteFolderButton',\n    defaultMessage: 'Delete',\n  },\n});\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  fromFilter: {\n    id: 'app.components.admin.ReportExportMenu.FileName.fromFilter',\n    defaultMessage: 'from',\n  },\n  untilFilter: {\n    id: 'app.components.admin.ReportExportMenu.FileName.untilFilter',\n    defaultMessage: 'until',\n  },\n  projectFilter: {\n    id: 'app.components.admin.ReportExportMenu.FileName.projectFilter',\n    defaultMessage: 'project',\n  },\n  groupFilter: {\n    id: 'app.components.admin.ReportExportMenu.FileName.groupFilter',\n    defaultMessage: 'group',\n  },\n  topicFilter: {\n    id: 'app.components.admin.ReportExportMenu.FileName.topicFilter',\n    defaultMessage: 'topic',\n  },\n  downloadAsImage: {\n    id: 'app.components.admin.ReportExportMenu.downloadAsImage',\n    defaultMessage: 'Download as image',\n  },\n  downloadXlsx: {\n    id: 'app.components.admin.ReportExportMenu.downloadXlsx',\n    defaultMessage: 'Download Excel',\n  },\n});\n","// Libraries\nimport React, { ReactNode } from 'react';\n\n// Style\nimport styled from 'styled-components';\nimport CSSTransition from 'react-transition-group/CSSTransition';\nimport TransitionGroup from 'react-transition-group/TransitionGroup';\nimport { remCalc, fontSizes, colors } from 'utils/styleUtils';\n\n// Components\nexport { default as SortableList } from './SortableList';\nexport { default as SortableRow } from './SortableRow';\n\nconst StyledList = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n`;\n\nconst timeout = 200;\n\nconst Container = styled.div`\n  font-size: ${fontSizes.small}px;\n  font-weight: 300;\n  justify-content: space-between !important;\n  line-height: 20px;\n  display: flex !important;\n  align-items: center !important;\n  padding-top: 10px;\n  padding-bottom: 10px;\n  border-top: 1px solid ${colors.separation};\n  transition: all ${timeout}ms cubic-bezier(0.165, 0.84, 0.44, 1);\n  &.last-item {\n    border-bottom: 1px solid ${colors.separation};\n  }\n  h1,\n  h2,\n  h3,\n  h4,\n  h5 {\n    font-weight: 500;\n    margin-bottom: ${remCalc(10)};\n  }\n  h1 {\n    font-size: ${fontSizes.large}px;\n  }\n  h2 {\n    font-size: ${fontSizes.base}px;\n  }\n  p {\n    color: ${colors.label};\n    font-size: ${fontSizes.base}px;\n    font-weight: 400;\n    line-height: 20px;\n    margin-bottom: 5px;\n  }\n  > * {\n    margin-left: 10px;\n    margin-right: 10px;\n    &:first-child {\n      margin-left: 0;\n    }\n    &:last-child {\n      margin-right: 0;\n    }\n  }\n  > .expand {\n    flex: 1;\n  }\n  > .primary {\n    font-size: ${fontSizes.base}px;\n    font-weight: 400;\n    line-height: 20px;\n  }\n  &.list-item-enter {\n    max-height: 0px;\n    opacity: 0;\n    &.list-item-enter-active {\n      max-height: 80px;\n      opacity: 1;\n    }\n  }\n  &.list-item-exit {\n    max-height: 80px;\n    opacity: 1;\n    &.list-item-exit-active {\n      max-height: 0px;\n      opacity: 0;\n    }\n  }\n  &.e2e-admin-list-head-row {\n    border-top: 0;\n    color: ${colors.label};\n    font-size: ${fontSizes.small}px;\n    font-weight: 500;\n  }\n`;\n\nexport const TextCell = styled.div`\n  font-size: ${fontSizes.base}px;\n  font-weight: 400;\n  line-height: 20px;\n`;\n\nexport const List = ({\n  id,\n  className,\n  children,\n}: {\n  id?: string;\n  className?: string;\n  children: ReactNode;\n}) => (\n  <StyledList id={id || ''} className={`e2e-admin-list ${className || ''}`}>\n    <TransitionGroup>{children}</TransitionGroup>\n  </StyledList>\n);\n\nexport const Row = ({\n  id,\n  className,\n  children,\n  isLastItem,\n}: {\n  id?: string;\n  className?: string;\n  children: ReactNode;\n  isLastItem?: boolean;\n}) => (\n  <CSSTransition classNames=\"list-item\" timeout={timeout}>\n    <Container\n      id={id || ''}\n      className={`e2e-admin-list-row ${className || ''} ${\n        isLastItem ? 'last-item' : ''\n      }`}\n    >\n      {children}\n    </Container>\n  </CSSTransition>\n);\n\nexport const HeadRow = ({\n  className,\n  children,\n}: {\n  className?: string;\n  children: ReactNode;\n}) => (\n  <Container className={`e2e-admin-list-head-row ${className || ''}`}>\n    {children}\n  </Container>\n);\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  noDestinations: {\n    id: 'app.components.ConsentManager.Banner.noDestinations',\n    defaultMessage: 'No trackers are enabled on your platform',\n  },\n  close: {\n    id: 'app.components.ConsentManager.Banner.close',\n    defaultMessage: 'Close',\n  },\n  mainText: {\n    id: 'app.components.ConsentManager.Banner.mainText',\n    defaultMessage: 'By navigating the platform, you agree to our {policyLink}',\n  },\n  policyLink: {\n    id: 'app.components.ConsentManager.Banner.policyLink',\n    defaultMessage: 'Cookie Policy',\n  },\n  subText: {\n    id: 'app.components.ConsentManager.Banner.subText',\n    defaultMessage:\n      'Access your preferences at any time by visiting \"Cookie settings\" at the bottom of the page',\n  },\n  manage: {\n    id: 'app.components.ConsentManager.Banner.manage',\n    defaultMessage: 'Manage',\n  },\n  accept: {\n    id: 'app.components.ConsentManager.Banner.accept',\n    defaultMessage: 'Accept',\n  },\n  ariaButtonClose: {\n    id: 'app.components.ConsentManager.Banner.ariaButtonClose',\n    defaultMessage: 'Accept policy and close banner',\n  },\n  title: {\n    id: 'app.components.ConsentManager.Modal.PreferencesDialog.title',\n    defaultMessage: 'Your cookie preferences',\n  },\n  back: {\n    id: 'app.components.ConsentManager.Modal.PreferencesDialog.back',\n    defaultMessage: 'Go back',\n  },\n  functional: {\n    id: 'app.components.ConsentManager.Modal.PreferencesDialog.functional',\n    defaultMessage: 'Functional',\n  },\n  functionalPurpose: {\n    id:\n      'app.components.ConsentManager.Modal.PreferencesDialog.functionalPurpose',\n    defaultMessage:\n      'Required to enable and monitor basic functionalities of the website. Some tools listed here might not apply to you. Please refer to our Cookie Policy for more information.',\n  },\n  analytics: {\n    id: 'app.components.ConsentManager.Modal.PreferencesDialog.analytics',\n    defaultMessage: 'Marketing and analytics',\n  },\n  analyticsPurpose: {\n    id:\n      'app.components.ConsentManager.Modal.PreferencesDialog.analyticsPurpose',\n    defaultMessage:\n      'We use this tracking to understand better how you use the platform in order to learn and improve your navigation. This information is only used in mass analytics, and in no way to track individuals.',\n  },\n  advertising: {\n    id: 'app.components.ConsentManager.Modal.PreferencesDialog.advertising',\n    defaultMessage: 'Advertising',\n  },\n  advertisingPurpose: {\n    id:\n      'app.components.ConsentManager.Modal.PreferencesDialog.advertisingPurpose',\n    defaultMessage:\n      'To personalize and measure the effectiveness of advertising campains of our website. We will not show any advertising on this platform, but the following services might serve you a personalized ad based on the pages you visit on our site.',\n  },\n  required: {\n    id: 'app.components.ConsentManager.Modal.PreferencesDialog.required',\n    defaultMessage: 'Required',\n  },\n  requiredPurpose: {\n    id: 'app.components.ConsentManager.Modal.PreferencesDialog.requiredPurpose',\n    defaultMessage:\n      'To have a fonctional platorm, we save the cookie preferences, an authenticating cookie if you sign up, and the language in which you use this platform',\n  },\n  tools: {\n    id: 'app.components.ConsentManager.Modal.PreferencesDialog.tools',\n    defaultMessage: 'Tools',\n  },\n  allow: {\n    id: 'app.components.ConsentManager.Modal.PreferencesDialog.allow',\n    defaultMessage: 'Allow',\n  },\n  disallow: {\n    id: 'app.components.ConsentManager.Modal.PreferencesDialog.disallow',\n    defaultMessage: 'Disallow',\n  },\n  save: {\n    id: 'app.components.ConsentManager.Modal.PreferencesDialog.save',\n    defaultMessage: 'Save',\n  },\n  cancel: {\n    id: 'app.components.ConsentManager.Modal.PreferencesDialog.cancel',\n    defaultMessage: 'Cancel',\n  },\n  confirmation: {\n    id: 'app.components.ConsentManager.Modal.CancelDialog.confirmation',\n    defaultMessage: 'If you cancel, your preferences will be lost.',\n  },\n  confirm: {\n    id: 'app.components.ConsentManager.Modal.CancelDialog.confirm',\n    defaultMessage: 'Confirm',\n  },\n});\n","export default {\n  // EditorActions\n  basicEditing: {\n    name: 'Clicked one basic editing option',\n  },\n  imageEditing: {\n    name: 'Clicked add an image button',\n  },\n  videoEditing: {\n    name: 'Clicked add a video button',\n  },\n  advancedEditing: {\n    name: 'Clicked one advanced editing option',\n  },\n};\n","import React, { PureComponent, FormEvent } from 'react';\nimport { omit } from 'lodash-es';\nimport CSSTransition from 'react-transition-group/CSSTransition';\n\n// styles\nimport { colors, fontSizes } from 'utils/styleUtils';\nimport styled, { css } from 'styled-components';\n\n// components\nimport { FormattedMessage } from 'utils/cl-intl';\nimport Button, {\n  ButtonStyles,\n  Props as OriginalButtonProps,\n} from 'components/UI/Button';\n\n// typings\nimport { Omit } from 'typings';\n\nexport type ISubmitState =\n  | 'disabled'\n  | 'enabled'\n  | 'error'\n  | 'customError'\n  | 'success';\n\nconst Wrapper: any = styled.div`\n  display: flex;\n  align-items: center;\n\n  ${(props: any) =>\n    props.fullWidth\n      ? css`\n          width: 100%;\n          flex: 1;\n        `\n      : ''}\n`;\n\nconst Message = styled.p`\n  font-size: ${fontSizes.base}px;\n  font-weight: 400;\n  line-height: normal;\n  margin-left: 20px;\n\n  &.error {\n    color: ${colors.clRedError};\n  }\n\n  &.success {\n    color: ${colors.clGreenSuccess};\n  }\n\n  &.success-enter {\n    max-width: 0;\n    opacity: 0;\n\n    &.success-enter-active {\n      max-width: 100%;\n      opacity: 1;\n      transition: max-height 400ms cubic-bezier(0.165, 0.84, 0.44, 1),\n        opacity 400ms cubic-bezier(0.165, 0.84, 0.44, 1);\n    }\n  }\n\n  &.success-exit {\n    max-width: 100%;\n    opacity: 1;\n\n    &.success-exit-active {\n      max-height: 0;\n      opacity: 0;\n      transition: max-height 350ms cubic-bezier(0.19, 1, 0.22, 1),\n        opacity 350ms cubic-bezier(0.19, 1, 0.22, 1);\n    }\n  }\n`;\n\ninterface Props\n  extends Omit<\n    OriginalButtonProps,\n    'className' | 'text' | 'disabled' | 'setSubmitButtonRef' | 'processing'\n  > {\n  status: ISubmitState;\n  loading: boolean;\n  customError?: string | null;\n  messages: {\n    buttonSave: any;\n    buttonSuccess: any;\n    messageSuccess: any;\n    messageError: any;\n  };\n  onClick?: (event: FormEvent<any>) => void;\n  buttonStyle?: ButtonStyles;\n  animate?: boolean;\n}\n\nexport default class SubmitWrapper extends PureComponent<Props> {\n  submitButton: HTMLInputElement | null;\n\n  constructor(props: Props) {\n    super(props as any);\n    this.submitButton = null;\n  }\n\n  removeFocus = (el) => {\n    el && el.blur();\n  };\n\n  setSubmitButtonRef = (el) => {\n    this.submitButton = el;\n  };\n\n  render() {\n    const style = this.props.buttonStyle || 'cl-blue';\n\n    if (this.props.status === 'success' || this.props.status === 'error') {\n      this.removeFocus(this.submitButton);\n    }\n\n    const buttonProps = omit(this.props, [\n      'className',\n      'style',\n      'processing',\n      'disabled',\n      'onClick',\n      'setSubmitButtonRef',\n      'messages',\n    ]);\n    const {\n      loading,\n      status,\n      onClick,\n      messages,\n      animate,\n      customError,\n    } = this.props;\n\n    return (\n      <Wrapper fullWidth={!!buttonProps.fullWidth}>\n        <Button\n          className=\"e2e-submit-wrapper-button\"\n          buttonStyle={style}\n          processing={loading}\n          disabled={status === 'disabled' || status === 'success'}\n          onClick={onClick}\n          setSubmitButtonRef={this.setSubmitButtonRef}\n          {...buttonProps}\n        >\n          {(status === 'enabled' ||\n            status === 'disabled' ||\n            status === 'error') && (\n            <FormattedMessage {...messages.buttonSave} />\n          )}\n          {status === 'success' && (\n            <FormattedMessage {...messages.buttonSuccess} />\n          )}\n        </Button>\n\n        {status === 'error' && (\n          <Message className=\"error\">\n            {customError ? (\n              customError\n            ) : (\n              <FormattedMessage {...messages.messageError} />\n            )}\n          </Message>\n        )}\n\n        {status === 'success' && (\n          <CSSTransition\n            classNames=\"success\"\n            timeout={0}\n            enter={animate}\n            exit={animate}\n          >\n            <Message className=\"success\">\n              <FormattedMessage {...messages.messageSuccess} />\n            </Message>\n          </CSSTransition>\n        )}\n      </Wrapper>\n    );\n  }\n}\n","import React, { useCallback } from 'react';\n\n// typings\nimport { IVerificationMethod } from 'services/verificationMethods';\n\n// components\nimport VerificationMethodButton from 'modules/commercial/verification/citizen/components/VerificationMethodButton';\n\n// i18n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from '../messages';\n\ninterface Props {\n  method: IVerificationMethod;\n  onMethodSelected: () => void;\n  last: boolean;\n}\n\nconst CowButton = ({ method, last, onMethodSelected }: Props) => {\n  const handleOnClick = useCallback(() => {\n    onMethodSelected();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <VerificationMethodButton\n      key={method.id}\n      id={`e2e-${method.attributes.name}-button`}\n      className={last ? 'last' : ''}\n      onClick={handleOnClick}\n    >\n      <FormattedMessage {...messages.verifyCow} />\n    </VerificationMethodButton>\n  );\n};\n\nexport default CowButton;\n","import React, { useCallback } from 'react';\nimport { AUTH_PATH } from 'containers/App/constants';\nimport { removeUrlLocale } from 'services/locale';\nimport { getJwt } from 'utils/auth/jwt';\n\n// typings\nimport { IVerificationMethod } from 'services/verificationMethods';\n\n// components\nimport VerificationMethodButton from 'modules/commercial/verification/citizen/components/VerificationMethodButton';\n\n// i18n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from '../messages';\n\ninterface Props {\n  method: IVerificationMethod;\n  last: boolean;\n}\n\nconst BosaFasButton = ({ method, last }: Props) => {\n  const handleOnClick = useCallback(() => {\n    const jwt = getJwt();\n    window.location.href = `${AUTH_PATH}/bosa_fas?token=${jwt}&pathname=${removeUrlLocale(\n      window.location.pathname\n    )}`;\n  }, []);\n\n  return (\n    <VerificationMethodButton\n      key={method.id}\n      id={`e2e-${method.attributes.name}-button`}\n      className={last ? 'last' : ''}\n      onClick={handleOnClick}\n    >\n      <FormattedMessage {...messages.verifyBOSA} />\n    </VerificationMethodButton>\n  );\n};\n\nexport default BosaFasButton;\n","import Loadable from 'react-loadable';\nimport { LoadableLoadingAdmin } from 'components/UI/LoadableLoading';\nimport moduleConfiguration from 'modules';\n\nexport default () => ({\n  name: 'Admin Ideas',\n  path: 'ideas',\n  component: Loadable({\n    loader: () => import('./index'),\n    loading: LoadableLoadingAdmin,\n    delay: 500,\n  }),\n  indexRoute: {\n    component: Loadable({\n      loader: () => import('./all'),\n      loading: () => null,\n      delay: 500,\n    }),\n  },\n  childRoutes: moduleConfiguration.routes['admin.ideas'],\n});\n","import { IInitiativeAction } from 'services/initiatives';\nimport { IParticipationContextType, IPCAction } from 'typings';\nimport eventEmitter from 'utils/eventEmitter';\n\nexport type IVerificationError = 'taken' | 'not_entitled' | null;\n\nexport type ProjectContext = {\n  id: string;\n  type: IParticipationContextType;\n  action: IPCAction;\n};\n\nexport type TVerificationSteps =\n  | 'method-selection'\n  | 'method-step'\n  | 'success'\n  | 'error'\n  | null;\n\nexport type InitiativeContext = {\n  type: 'initiative';\n  action: IInitiativeAction;\n};\n\nexport type ContextShape =\n  | ProjectContext\n  | InitiativeContext\n  | null\n  | undefined;\n\nexport interface OpenVerificationModalData {\n  step: TVerificationSteps;\n  context: ContextShape | null;\n  error?: IVerificationError | null;\n}\n\nexport enum VerificationModalEvents {\n  open = 'openVerificationModal',\n  close = 'closeVerificationModal',\n}\n\ninterface IOpenVerificationModalParams {\n  context?: ContextShape;\n  step?: TVerificationSteps;\n  error?: IVerificationError | null;\n}\nexport function isProjectContext(obj: ContextShape): obj is ProjectContext {\n  return (obj as ProjectContext)?.id !== undefined;\n}\n\nexport function openVerificationModal(params?: IOpenVerificationModalParams) {\n  eventEmitter.emit<OpenVerificationModalData>(VerificationModalEvents.open, {\n    step: params?.step || 'method-selection',\n    context: params?.context || null,\n  });\n}\n","import React from 'react';\nimport { IAdminSettingsRegistrationFormOutletProps } from 'utils/moduleUtils';\nimport { fontSizes, Toggle } from 'cl2-component-library';\nimport { FormattedMessage } from 'utils/cl-intl';\nimport { colors } from 'utils/styleUtils';\nimport messages from './messages';\nimport styled from 'styled-components';\n\nconst ToggleContainer = styled.div`\n  margin-bottom: 4rem;\n`;\n\nconst ToggleHint = styled.p`\n  font-size: ${fontSizes.small}px;\n  color: ${colors.adminTextColor};\n  max-width: 500px;\n`;\n\nconst StyledToggle = styled(Toggle)`\n  flex-direction: row-reverse;\n  width: fit-content;\n  margin-bottom: 1rem;\n\n  & > div {\n    font-weight: 600;\n    padding-left: 0;\n    padding-right: 1rem;\n  }\n`;\n\nconst ToggleUserConfirmation = ({\n  onChange,\n  latestAppConfigSettings,\n}: IAdminSettingsRegistrationFormOutletProps) => {\n  const isUserConfirmationEnabled = !!latestAppConfigSettings?.user_confirmation\n    ?.enabled;\n\n  function handleToggleUserConfirmation() {\n    const newUserConfirmationSetting = {\n      ...latestAppConfigSettings?.user_confirmation,\n      enabled: !isUserConfirmationEnabled,\n    };\n    onChange('user_confirmation')(newUserConfirmationSetting);\n  }\n\n  return (\n    <ToggleContainer>\n      <StyledToggle\n        checked={isUserConfirmationEnabled}\n        onChange={handleToggleUserConfirmation}\n        label={<FormattedMessage {...messages.accountConfirmation} />}\n        labelTextColor={colors.adminTextColor}\n      />\n      <ToggleHint>\n        <FormattedMessage {...messages.whenTurnedOnUsersWillHaveToConfirm} />\n      </ToggleHint>\n    </ToggleContainer>\n  );\n};\n\nexport default ToggleUserConfirmation;\n","import { API_PATH } from 'containers/App/constants';\nimport { IVerifiedResponse } from 'services/verify';\nimport streams from 'utils/streams';\n\nexport function verifyBogus(desired_error: string) {\n  return streams.add<IVerifiedResponse>(\n    `${API_PATH}/verification_methods/bogus/verification`,\n    {\n      verification: {\n        desired_error,\n      },\n    }\n  );\n}\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  verifyCow: {\n    id: 'app.modules.id_cow.verifyCow',\n    defaultMessage: 'Verify using COW',\n  },\n  showCOWHelp: {\n    id: 'app.modules.id_cow.showCOWHelp',\n    defaultMessage: 'Where can I find my ID Serial Number ?',\n  },\n  emptyFieldError: {\n    id: 'app.modules.id_cow.emptyFieldError',\n    defaultMessage: 'This field cannot be empty.',\n  },\n  invalidRunError: {\n    id: 'app.modules.id_cow.invalidRunError',\n    defaultMessage: 'Invalid RUN',\n  },\n  invalidIdSerialError: {\n    id: 'app.modules.id_cow.invalidIdSerialError',\n    defaultMessage: 'Invalid ID serial',\n  },\n  verifyYourIdentity: {\n    id: 'app.modules.id_cow.verifyYourIdentity',\n    defaultMessage: 'Verify your identity',\n  },\n  takenFormError: {\n    id: 'app.modules.id_cow.takenFormError',\n    defaultMessage: 'Already taken.',\n  },\n  noMatchFormError: {\n    id: 'app.modules.id_cow.noMatchFormError',\n    defaultMessage: 'No match was found.',\n  },\n  notEntitledFormError: {\n    id: 'app.modules.id_cow.notEntitledFormError',\n    defaultMessage: 'Not entitled.',\n  },\n  somethingWentWrongError: {\n    id: 'app.modules.id_cow.somethingWentWrongError',\n    defaultMessage: \"We can't verify you because something went wrong\",\n  },\n  submit: {\n    id: 'app.modules.id_cow.submit',\n    defaultMessage: 'Submit',\n  },\n  cancel: {\n    id: 'app.modules.id_cow.cancel',\n    defaultMessage: 'Cancel',\n  },\n});\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  modalHeaderRules: {\n    id: 'app.containers.AdminPage.Users.GroupCreation.modalHeaderRules',\n    defaultMessage: 'Define your smart group settings',\n  },\n});\n","import { hasPermission } from 'services/permissions/permissions';\nimport './rules/routePermissions';\nimport './rules/ideaPermissions';\nimport './rules/initiativePermissions';\nimport './rules/commentPermissions';\nimport './rules/projectPermissions';\nimport './rules/campaignPermissions';\n\nexport { hasPermission };\n\nexport * from './permissions';\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  newProjectFolder: {\n    id: 'app.containers.AdminPage.projects.all.newProjectFolder',\n    defaultMessage: 'Create a project folder',\n  },\n});\n","import React from 'react';\nimport Loadable from 'react-loadable';\nimport { Props } from './';\nimport { LoadableLoadingCitizen } from 'components/UI/LoadableLoading';\n\nconst LoadableUserDeleted = Loadable({\n  loading: LoadableLoadingCitizen,\n  loader: () => import('./'),\n  delay: false,\n  render(loaded, props: Props) {\n    const UserDeleted = loaded.default;\n\n    return <UserDeleted {...props} />;\n  },\n});\n\nexport default LoadableUserDeleted;\n","import React, { memo, useCallback, useState } from 'react';\nimport { SearchInput, SearchInputProps } from 'cl2-component-library';\nimport messages from './messages';\nimport { InjectedIntlProps } from 'react-intl';\nimport { injectIntl } from 'utils/cl-intl';\n\nexport interface Props {\n  placeholder?: string;\n  ariaLabel?: string;\n  debounce?: number;\n  setClearButtonRef?: (arg: HTMLButtonElement) => void;\n  onChange: (arg: string | null) => void;\n  className?: string;\n  size?: SearchInputProps['size'];\n}\n\nconst SearchInputWrapper = memo<Props & InjectedIntlProps>(\n  ({\n    placeholder,\n    ariaLabel,\n    debounce,\n    setClearButtonRef,\n    onChange,\n    className,\n    size,\n    intl: { formatMessage },\n  }) => {\n    const [searchTerm, setSearchTerm] = useState<string | null>(null);\n\n    const handleOnChange = useCallback(\n      (searchTerm: string | null) => {\n        setSearchTerm(searchTerm);\n        onChange(searchTerm);\n      },\n      [onChange]\n    );\n\n    const handleClearButtonRef = useCallback(\n      (element: HTMLButtonElement) => {\n        setClearButtonRef?.(element);\n      },\n      [setClearButtonRef]\n    );\n\n    return (\n      <SearchInput\n        placeholder={placeholder || formatMessage(messages.searchPlaceholder)}\n        ariaLabel={ariaLabel || formatMessage(messages.searchAriaLabel)}\n        debounce={debounce}\n        className={className}\n        setClearButtonRef={handleClearButtonRef}\n        onChange={handleOnChange}\n        i18nRemoveSearchTermMessage={formatMessage(messages.removeSearchTerm)}\n        i18nSearchTermMessage={formatMessage(messages.a11y_searchTerm, {\n          searchTerm,\n        })}\n        i18nSearchTermBlankMessage={formatMessage(\n          messages.a11y_searchTermBlank\n        )}\n        size={size}\n      />\n    );\n  }\n);\n\nconst SearchInputWrapperWithHoC = injectIntl(SearchInputWrapper);\n\nexport default SearchInputWrapperWithHoC;\n","import React, { memo, useState, useCallback, useEffect } from 'react';\nimport { isFunction } from 'lodash-es';\n\n// components\nimport Modal from 'components/UI/Modal';\nimport SignUpIn, { ISignUpInMetaData } from 'components/SignUpIn';\nimport { TSignUpSteps } from 'components/SignUpIn/SignUp';\n\n// services\nimport { completeRegistration } from 'services/users';\n\n// hooks\nimport useIsMounted from 'hooks/useIsMounted';\nimport useAuthUser from 'hooks/useAuthUser';\nimport useParticipationConditions from 'hooks/useParticipationConditions';\n\n// utils\nimport { isNilOrError } from 'utils/helperUtils';\n\n// events\nimport {\n  openSignUpInModal$,\n  closeSignUpInModal$,\n  signUpActiveStepChange$,\n  changeMetaData$,\n  closeSignUpInModal,\n} from 'components/SignUpIn/events';\n\n// style\nimport styled from 'styled-components';\n\nimport useUserCustomFieldsSchema from 'modules/commercial/user_custom_fields/hooks/useUserCustomFieldsSchema';\nimport Outlet from 'components/Outlet';\n\nconst Container = styled.div``;\n\ninterface Props {\n  className?: string;\n  onMounted?: (id?: string) => void;\n}\n\nconst UserCustomFieldsSignUpInModal = memo<Props>(\n  ({ className, onMounted }) => {\n    const isMounted = useIsMounted();\n    const [metaData, setMetaData] = useState<ISignUpInMetaData | undefined>(\n      undefined\n    );\n    const [signUpActiveStep, setSignUpActiveStep] = useState<\n      TSignUpSteps | null | undefined\n    >(undefined);\n\n    const authUser = useAuthUser();\n    const participationConditions = useParticipationConditions(\n      metaData?.verificationContext\n    );\n    const customFieldsSchema = useUserCustomFieldsSchema();\n    const opened = !!metaData?.inModal;\n\n    const hasParticipationConditions =\n      !isNilOrError(participationConditions) &&\n      participationConditions.length > 0;\n    const modalWidth =\n      signUpActiveStep === 'verification' && hasParticipationConditions\n        ? 820\n        : 580;\n\n    const modalNoClose = !!(\n      (metaData?.error !== true &&\n        (signUpActiveStep === 'verification' ||\n          (signUpActiveStep === 'custom-fields' &&\n            !isNilOrError(customFieldsSchema) &&\n            customFieldsSchema?.hasRequiredFields))) ||\n      (signUpActiveStep &&\n        metaData?.modalNoCloseSteps?.includes(signUpActiveStep))\n    );\n\n    useEffect(() => {\n      if (isMounted()) {\n        onMounted?.();\n      }\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [onMounted]);\n\n    useEffect(() => {\n      const subscriptions = [\n        openSignUpInModal$.subscribe(({ eventValue: metaData }) => {\n          // don't overwrite metaData if already present!\n          const isSignedIn = !isNilOrError(authUser);\n          const isSignedInNeedsVerification =\n            !isNilOrError(authUser) &&\n            !authUser.attributes.verified &&\n            metaData.verification;\n\n          if (!isSignedIn || isSignedInNeedsVerification) {\n            setMetaData((prevMetaData) =>\n              prevMetaData ? prevMetaData : metaData\n            );\n          }\n        }),\n        closeSignUpInModal$.subscribe(() => {\n          setMetaData(undefined);\n        }),\n        signUpActiveStepChange$.subscribe(({ eventValue: activeStep }) => {\n          setSignUpActiveStep(activeStep);\n        }),\n        changeMetaData$.subscribe(({ eventValue: metaData }) => {\n          setMetaData(metaData);\n        }),\n      ];\n\n      return () =>\n        subscriptions.forEach((subscription) => subscription.unsubscribe());\n    }, [authUser]);\n\n    const onClose = useCallback(() => {\n      // If the user presses the close button (x) in the modal top right corner when the custom-fields step is shown and\n      // when this step -does not- have required fields, then this action is the equivalent of pressing the 'skip this step' button\n      // and therefore should trigger completeRegistration() in order for the user to have a valid account.\n      // If completeRegistration() is not executed, the user will be logged in but will not have a valid account and therefore\n      // will not be able to perform any actions (e.g. voting, posting, commenting, ...)!\n      if (\n        signUpActiveStep === 'custom-fields' &&\n        !isNilOrError(authUser) &&\n        !isNilOrError(customFieldsSchema) &&\n        !customFieldsSchema?.hasRequiredFields\n      ) {\n        completeRegistration();\n      }\n\n      closeSignUpInModal();\n    }, [signUpActiveStep, customFieldsSchema, authUser]);\n\n    const onSignUpInCompleted = useCallback(() => {\n      const hasAction = isFunction(metaData?.action);\n      const requiresVerification = !!metaData?.verification;\n      const authUserIsVerified =\n        !isNilOrError(authUser) && authUser.attributes.verified;\n\n      if (hasAction && (!requiresVerification || authUserIsVerified)) {\n        metaData?.action?.();\n      }\n\n      closeSignUpInModal();\n    }, [metaData, authUser]);\n\n    return (\n      <Modal\n        width={modalWidth}\n        padding=\"0px\"\n        opened={opened}\n        close={onClose}\n        closeOnClickOutside={false}\n        noClose={modalNoClose}\n      >\n        <Container id=\"e2e-sign-up-in-modal\" className={className}>\n          {metaData && (\n            <SignUpIn\n              metaData={metaData}\n              onSignUpInCompleted={onSignUpInCompleted}\n            />\n          )}\n          <Outlet id=\"app.components.SignUpIn.metaData\" metaData={metaData} />\n        </Container>\n      </Modal>\n    );\n  }\n);\n\nexport default UserCustomFieldsSignUpInModal;\n","import React, { memo } from 'react';\n\n// components\nimport { StatusLabel } from 'cl2-component-library';\n\n// styles\nimport { colors } from 'utils/styleUtils';\n\n// i18n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from './messages';\n\n// types\nimport { PublicationStatus } from 'resources/GetProjects';\n\ninterface Props {\n  publicationStatus: PublicationStatus;\n}\n\nconst PublicationStatusLabel = memo<Props>(({ publicationStatus }) => {\n  if (publicationStatus !== 'published') {\n    const publicationStatusColor = {\n      draft: 'orangered',\n      archived: colors.clRedError,\n    }[publicationStatus];\n\n    return (\n      <StatusLabel\n        text={<FormattedMessage {...messages[publicationStatus]} />}\n        backgroundColor={publicationStatusColor}\n      />\n    );\n  }\n\n  return null;\n});\n\nexport default PublicationStatusLabel;\n","import { IRelationship, Multiloc } from 'typings';\nimport { API_PATH } from 'containers/App/constants';\nimport streams, { IStreamParams } from 'utils/streams';\n\nconst apiEndpoint = `${API_PATH}/pages`;\n\nexport type TLegalPage =\n  | 'information'\n  | 'terms-and-conditions'\n  | 'privacy-policy'\n  | 'cookie-policy'\n  | 'faq'\n  | 'accessibility-statement';\n\nexport const LEGAL_PAGES: TLegalPage[] = [\n  'information',\n  'terms-and-conditions',\n  'privacy-policy',\n  'cookie-policy',\n  'accessibility-statement',\n  'faq',\n];\n\nexport const LEGAL_PAGES_ALLOWED_TO_EDIT: TLegalPage[] = [\n  'information',\n  'terms-and-conditions',\n  'privacy-policy',\n  'faq',\n];\n\nexport interface IPageData {\n  id: string;\n  type: string;\n  attributes: {\n    title_multiloc: Multiloc;\n    body_multiloc: Multiloc;\n    slug: // to be found in cl2-back: config/tenant_templates/base.yml\n    | 'information'\n      | 'cookie-policy'\n      | 'privacy-policy'\n      | 'terms-and-conditions'\n      | 'accessibility-statement'\n      | 'homepage-info'\n      | 'faq'\n      | 'initiatives'\n      | 'initiatives-success-1'\n      | 'initiatives-success-2'\n      | 'initiatives-success-3'\n      // if a custom page gets added, it can be different than the strings above\n      | string;\n    created_at: string;\n    updated_at: string;\n  };\n  relationships: {\n    project: {\n      data: IRelationship[];\n    };\n    page_links: {\n      data: IRelationship[];\n    };\n  };\n}\n\nexport interface PageLink {\n  type: 'page_links';\n  id: string;\n  attributes: {\n    linked_page_slug: string;\n    linked_page_title_multiloc: Multiloc;\n    ordering: number;\n  };\n}\n\nexport interface PageUpdate {\n  title_multiloc?: Multiloc;\n  body_multiloc?: Multiloc;\n  slug?: string;\n}\n\nexport interface IPage {\n  data: IPageData;\n}\n\nexport function listPages(streamParams: IStreamParams | null = null) {\n  return streams.get<{ data: IPageData[] }>({\n    apiEndpoint: `${apiEndpoint}`,\n    ...streamParams,\n  });\n}\n\nexport function pageBySlugStream(\n  pageSlug: string,\n  streamParams: IStreamParams | null = null\n) {\n  return streams.get<IPage>({\n    apiEndpoint: `${apiEndpoint}/by_slug/${pageSlug}`,\n    ...streamParams,\n  });\n}\n\nexport function createPage(pageData: PageUpdate) {\n  return streams.add<IPage>(`${apiEndpoint}`, pageData);\n}\n\nexport function updatePage(pageId: string, pageData: PageUpdate) {\n  return streams.update<IPage>(`${apiEndpoint}/${pageId}`, pageId, pageData);\n}\n\nexport function deletePage(pageId: string) {\n  return streams.delete(`${apiEndpoint}/${pageId}`, pageId);\n}\n\nexport function pageByIdStream(\n  pageId: string,\n  streamParams: IStreamParams | null = null\n) {\n  return streams.get<IPage>({\n    apiEndpoint: `${apiEndpoint}/${pageId}`,\n    ...streamParams,\n  });\n}\n","/*\n * Navbar Messages\n *\n * This contains all the text for the Navbar component.\n */\nimport { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  search: {\n    id: 'app.containers.app.navbar.search',\n    defaultMessage: 'Search',\n  },\n  logoAltText: {\n    id: 'app.containers.app.navbar.logoAltText',\n    defaultMessage: 'Home page',\n  },\n  logIn: {\n    id: 'app.containers.app.navbar.logIn',\n    defaultMessage: 'Log in',\n  },\n  signUp: {\n    id: 'app.containers.app.navbar.signUp',\n    defaultMessage: 'Sign up',\n  },\n  myProfile: {\n    id: 'app.containers.app.navbar.myProfile',\n    defaultMessage: 'My profile',\n  },\n  editProfile: {\n    id: 'app.containers.app.navbar.editProfile',\n    defaultMessage: 'Settings',\n  },\n  signOut: {\n    id: 'app.containers.app.navbar.signOut',\n    defaultMessage: 'Sign out',\n  },\n  admin: {\n    id: 'app.containers.app.navbar.admin',\n    defaultMessage: 'Admin',\n  },\n  pageInputs: {\n    id: 'app.containers.app.navbar.pageInputs',\n    defaultMessage: 'Inputs',\n  },\n  pageInitiatives: {\n    id: 'app.containers.app.navbar.pageInitiatives',\n    defaultMessage: 'Initiatives',\n  },\n  pageEvents: {\n    id: 'app.containers.app.navbar.pageEvents',\n    defaultMessage: 'Events',\n  },\n  pageOverview: {\n    id: 'app.containers.app.navbar.pageOverview',\n    defaultMessage: 'Overview',\n  },\n  pageProjects: {\n    id: 'app.containers.app.navbar.pageProjects',\n    defaultMessage: 'Projects',\n  },\n  allProjects: {\n    id: 'app.containers.app.navbar.allProjects',\n    defaultMessage: 'All projects',\n  },\n  pageInformation: {\n    id: 'app.containers.app.navbar.pageInformation',\n    defaultMessage: 'Information',\n  },\n  pageFaq: {\n    id: 'app.containers.app.navbar.pageFaq',\n    defaultMessage: 'FAQ',\n  },\n  mobilePageHome: {\n    id: 'app.containers.app.navbar.mobilePageHome',\n    defaultMessage: 'Home',\n  },\n  mobilePageInputs: {\n    id: 'app.containers.app.navbar.mobilePageInputs',\n    defaultMessage: 'Inputs',\n  },\n  mobilePageInitiatives: {\n    id: 'app.containers.app.navbar.mobilePageInitiatives',\n    defaultMessage: 'Initiatives',\n  },\n  mobilePageEvents: {\n    id: 'app.containers.app.navbar.mobilePageEvents',\n    defaultMessage: 'Events',\n  },\n  mobilePageProjects: {\n    id: 'app.containers.app.navbar.mobilePageProjects',\n    defaultMessage: 'Projects',\n  },\n});\n","export default {\n  signUpFlowEntered: 'Sign up flow entered',\n  signUpFlowExited: 'Sign up flow exited',\n  signUpFlowCompleted: 'Sign up flow completed',\n\n  signUpEmailPasswordStepEntered:\n    'Sign up - email & password sign-up step entered',\n  signUpEmailPasswordStepExited:\n    'Sign up - email & password sign-up step exited',\n  signUpEmailPasswordStepCompleted:\n    'Sign - up email & password sign-up step completed',\n  signUpEmailPasswordStepFailed:\n    'Sign up - email & password sign-up step failed',\n\n  signInFlowEntered: 'Sign in flow entered',\n  signInFlowExited: 'Sign in flow exited',\n  signInFlowCompleted: 'Sign in flow completed',\n\n  signInEmailPasswordEntered: 'Sign in - email & password sign-in entered',\n  signInEmailPasswordExited: 'Sign in - email & password sign-in exited',\n  signInEmailPasswordCompleted: 'Sign in - email & password sign-in completed',\n  signInEmailPasswordFailed: 'Sign in - email & password sign-in failed',\n\n  signInWithSSOClicked: 'Sign in with SSO button clicked',\n\n  signUpWithSSOClicked: 'Sign up with SSO button clicked',\n};\n","import { FC, useEffect } from 'react';\nimport { InsertConfigurationOptions, ITab } from 'typings';\nimport { withRouter, WithRouterProps } from 'react-router';\n\n// i18n\nimport { injectIntl } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\nimport messages from '../messages';\n\ninterface Props {\n  onData: (data: InsertConfigurationOptions<ITab>) => void;\n}\n\nconst Tab: FC<Props & WithRouterProps & InjectedIntlProps> = ({\n  onData,\n  intl: { formatMessage },\n}) => {\n  useEffect(\n    () =>\n      onData({\n        configuration: {\n          label: formatMessage(messages.tabInsights),\n          name: 'insights',\n          url: '/admin/dashboard/insights',\n          feature: 'clustering',\n        },\n        insertAfterName: 'users',\n      }),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  );\n  return null;\n};\n\nexport default withRouter(injectIntl(Tab));\n","import React, { PureComponent } from 'react';\n// tslint:disable-next-line:no-vanilla-routing\nimport { Link as RouterLink, LinkProps } from 'react-router';\nimport { LocationDescriptor } from 'history';\nimport GetLocale, { GetLocaleChildProps } from 'resources/GetLocale';\nimport updateLocationDescriptor from './updateLocationDescriptor';\nimport { isNilOrError } from 'utils/helperUtils';\n\nexport interface InputProps extends LinkProps {\n  to: LocationDescriptor;\n}\n\ninterface DataProps {\n  locale: GetLocaleChildProps;\n}\n\ninterface Props extends InputProps, DataProps {}\n\ninterface State {}\n\n/*\n * This link override doesn't support url parameters, because updateLocationDescriptor doesn't parse them\n */\nexport class Link extends PureComponent<Props, State> {\n  render() {\n    const { to, locale, ...otherProps } = this.props;\n    return (\n      <RouterLink\n        to={!isNilOrError(locale) ? updateLocationDescriptor(to, locale) : '#'}\n        {...otherProps}\n      />\n    );\n  }\n}\n\nexport default (inputProps: InputProps) => (\n  <GetLocale>{(locale) => <Link {...inputProps} locale={locale} />}</GetLocale>\n);\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  goBack: {\n    id: 'app.components.ProjectTemplatePreview.goBack',\n    defaultMessage: 'Go back',\n  },\n  seeMoreTemplates: {\n    id: 'app.components.ProjectTemplatePreview.seeMoreTemplates',\n    defaultMessage: 'See more templates',\n  },\n  infoboxLine1: {\n    id: 'app.components.ProjectTemplatePreview.infoboxLine1',\n    defaultMessage: 'Want to use this template for your participation project?',\n  },\n  infoboxLine2: {\n    id: 'app.components.ProjectTemplatePreview.infoboxLine2',\n    defaultMessage:\n      'Reach out to the responsible person in your city administration, or contact a {link}.',\n  },\n  citizenlabExpert: {\n    id: 'app.components.ProjectTemplatePreview.citizenlabExpert',\n    defaultMessage: 'CitizenLab expert',\n  },\n  useTemplate: {\n    id: 'app.components.ProjectTemplatePreview.useTemplate',\n    defaultMessage: 'Use this template',\n  },\n});\n","var map = {\n\t\"./\": [\n\t\t\"Ofy1\",\n\t\t0,\n\t\t20\n\t],\n\t\"./ar-SA\": [\n\t\t\"rXYm\",\n\t\t61,\n\t\t0,\n\t\t56\n\t],\n\t\"./ar-SA.ts\": [\n\t\t\"rXYm\",\n\t\t61,\n\t\t0,\n\t\t56\n\t],\n\t\"./da-DK\": [\n\t\t\"GIoo\",\n\t\t0,\n\t\t34\n\t],\n\t\"./da-DK.ts\": [\n\t\t\"GIoo\",\n\t\t0,\n\t\t34\n\t],\n\t\"./de-DE\": [\n\t\t\"rUi0\",\n\t\t0,\n\t\t35\n\t],\n\t\"./de-DE.ts\": [\n\t\t\"rUi0\",\n\t\t0,\n\t\t35\n\t],\n\t\"./en\": [\n\t\t\"qS2j\",\n\t\t0,\n\t\t60\n\t],\n\t\"./en-CA\": [\n\t\t\"KAKb\",\n\t\t0,\n\t\t52\n\t],\n\t\"./en-CA.ts\": [\n\t\t\"KAKb\",\n\t\t0,\n\t\t52\n\t],\n\t\"./en-GB\": [\n\t\t\"F75E\",\n\t\t0,\n\t\t53\n\t],\n\t\"./en-GB.ts\": [\n\t\t\"F75E\",\n\t\t0,\n\t\t53\n\t],\n\t\"./en.ts\": [\n\t\t\"qS2j\",\n\t\t0,\n\t\t60\n\t],\n\t\"./es-CL\": [\n\t\t\"AGJF\",\n\t\t11,\n\t\t0,\n\t\t57\n\t],\n\t\"./es-CL.ts\": [\n\t\t\"AGJF\",\n\t\t11,\n\t\t0,\n\t\t57\n\t],\n\t\"./es-ES\": [\n\t\t\"HEZJ\",\n\t\t11,\n\t\t0,\n\t\t58\n\t],\n\t\"./es-ES.ts\": [\n\t\t\"HEZJ\",\n\t\t11,\n\t\t0,\n\t\t58\n\t],\n\t\"./fr-BE\": [\n\t\t\"FngY\",\n\t\t0,\n\t\t36\n\t],\n\t\"./fr-BE.ts\": [\n\t\t\"FngY\",\n\t\t0,\n\t\t36\n\t],\n\t\"./fr-FR\": [\n\t\t\"bNpx\",\n\t\t0,\n\t\t37\n\t],\n\t\"./fr-FR.ts\": [\n\t\t\"bNpx\",\n\t\t0,\n\t\t37\n\t],\n\t\"./hu-HU\": [\n\t\t\"AQm5\",\n\t\t0,\n\t\t38\n\t],\n\t\"./hu-HU.ts\": [\n\t\t\"AQm5\",\n\t\t0,\n\t\t38\n\t],\n\t\"./index\": [\n\t\t\"Ofy1\",\n\t\t0,\n\t\t20\n\t],\n\t\"./index.ts\": [\n\t\t\"Ofy1\",\n\t\t0,\n\t\t20\n\t],\n\t\"./it-IT\": [\n\t\t\"aFG7\",\n\t\t0,\n\t\t39\n\t],\n\t\"./it-IT.ts\": [\n\t\t\"aFG7\",\n\t\t0,\n\t\t39\n\t],\n\t\"./kl-GL\": [\n\t\t\"/DQW\",\n\t\t0,\n\t\t40\n\t],\n\t\"./kl-GL.ts\": [\n\t\t\"/DQW\",\n\t\t0,\n\t\t40\n\t],\n\t\"./mi\": [\n\t\t\"vkuX\",\n\t\t0,\n\t\t41\n\t],\n\t\"./mi.ts\": [\n\t\t\"vkuX\",\n\t\t0,\n\t\t41\n\t],\n\t\"./nb-NO\": [\n\t\t\"HnK/\",\n\t\t0,\n\t\t42\n\t],\n\t\"./nb-NO.ts\": [\n\t\t\"HnK/\",\n\t\t0,\n\t\t42\n\t],\n\t\"./nl-BE\": [\n\t\t\"9VJF\",\n\t\t0,\n\t\t43\n\t],\n\t\"./nl-BE.ts\": [\n\t\t\"9VJF\",\n\t\t0,\n\t\t43\n\t],\n\t\"./nl-NL\": [\n\t\t\"ilpW\",\n\t\t0,\n\t\t44\n\t],\n\t\"./nl-NL.ts\": [\n\t\t\"ilpW\",\n\t\t0,\n\t\t44\n\t],\n\t\"./pl-PL\": [\n\t\t\"M/a2\",\n\t\t0,\n\t\t45\n\t],\n\t\"./pl-PL.ts\": [\n\t\t\"M/a2\",\n\t\t0,\n\t\t45\n\t],\n\t\"./pt-BR\": [\n\t\t\"ntyA\",\n\t\t0,\n\t\t46\n\t],\n\t\"./pt-BR.ts\": [\n\t\t\"ntyA\",\n\t\t0,\n\t\t46\n\t],\n\t\"./ro-RO\": [\n\t\t\"zAyw\",\n\t\t0,\n\t\t47\n\t],\n\t\"./ro-RO.ts\": [\n\t\t\"zAyw\",\n\t\t0,\n\t\t47\n\t],\n\t\"./sr-Latn\": [\n\t\t\"dvzN\",\n\t\t0,\n\t\t48\n\t],\n\t\"./sr-Latn.ts\": [\n\t\t\"dvzN\",\n\t\t0,\n\t\t48\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__.t(id, 7);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"jY13\";\nmodule.exports = webpackAsyncContext;","import React from 'react';\nimport { ModuleConfiguration } from 'utils/moduleUtils';\nimport VerificationBadge from './citizen/components/VerificationBadge';\nimport VerificationModal from './citizen/components/VerificationModal';\nimport VerificationOnboardingStep from './citizen/components/VerificationOnboardingStep';\nimport VerificationSignUpSteps from './citizen/components/VerificationSignUpSteps';\nimport VerificationStatus from './citizen/components/VerificationStatus';\n\nconst configuration: ModuleConfiguration = {\n  outlets: {\n    'app.components.SignUpIn.SignUp.step': (props) => (\n      <VerificationSignUpSteps {...props} />\n    ),\n    'app.containers.UserEditPage.content': () => <VerificationStatus />,\n    'app.containers.Navbar.UserMenu.UserNameContainer': (props) => (\n      <VerificationBadge {...props} />\n    ),\n    'app.containers.App.modals': ({ onMounted }) => {\n      return <VerificationModal onMounted={onMounted} />;\n    },\n    'app.containers.LandingPage.onboardingCampaigns': VerificationOnboardingStep,\n  },\n};\n\nexport default configuration;\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  similarInputs: {\n    id: 'app.containers.IdeasShow.MetaInformation.similarInputs',\n    defaultMessage: 'Similar inputs',\n  },\n});\n","import React from 'react';\nimport styled from 'styled-components';\n\n// components\nimport { Section, SubSectionTitle } from 'components/admin/Section';\n\n// i18n\nimport { FormattedMessage, injectIntl } from 'utils/cl-intl';\nimport messages from './messages';\nimport { InjectedIntlProps } from 'react-intl';\n\n// components\nimport { IconTooltip } from 'cl2-component-library';\nimport ModeratorList from '../components/ModeratorList';\nimport UserSearch from '../components/UserSearch';\n\nconst ModeratorSubSection = styled(Section)`\n  margin-bottom: 30px;\n`;\n\nconst StyledA = styled.a`\n  &:hover {\n    text-decoration: underline;\n  }\n`;\n\ninterface Props {\n  projectId: string;\n}\n\nconst ProjectManagement = ({\n  projectId,\n  intl: { formatMessage },\n}: Props & InjectedIntlProps) => {\n  return (\n    <ModeratorSubSection>\n      <SubSectionTitle>\n        <FormattedMessage {...messages.moderatorsSectionTitle} />\n        <IconTooltip\n          content={\n            <FormattedMessage\n              {...messages.projectManagerTooltipContent}\n              values={{\n                moderationInfoCenterLink: (\n                  <StyledA\n                    href={formatMessage(messages.moreInfoModeratorLink)}\n                    target=\"_blank\"\n                  >\n                    <FormattedMessage\n                      {...messages.moderationInfoCenterLinkText}\n                    />\n                  </StyledA>\n                ),\n              }}\n            />\n          }\n        />\n      </SubSectionTitle>\n      <UserSearch projectId={projectId} />\n      <ModeratorList projectId={projectId} />\n    </ModeratorSubSection>\n  );\n};\n\nexport default injectIntl(ProjectManagement);\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  tokenLabel: {\n    id: 'app.containers.SignUp.tokenLabel',\n    defaultMessage: 'Invitation code',\n  },\n  tokenPlaceholder: {\n    id: 'app.containers.SignUp.tokenPlaceholder',\n    defaultMessage: 'Enter your invitation code',\n  },\n  noTokenError: {\n    id: 'app.containers.SignUp.noTokenError',\n    defaultMessage: 'Please enter your invitation code',\n  },\n  tokenNotFoundError: {\n    id: 'app.containers.SignUp.tokenNotFoundError',\n    defaultMessage: 'The invitation code could not be found',\n  },\n  tokenAlreadyAcceptedError: {\n    id: 'app.containers.SignUp.tokenAlreadyAcceptedError',\n    defaultMessage: 'The invitation has already been redeemed',\n  },\n  firstNamesLabel: {\n    id: 'app.containers.SignUp.firstNamesLabel',\n    defaultMessage: 'First names',\n  },\n  firstNamesPlaceholder: {\n    id: 'app.containers.SignUp.firstNamesPlaceholder',\n    defaultMessage: 'Enter your first names',\n  },\n  noFirstNameError: {\n    id: 'app.containers.SignUp.noFirstNameError',\n    defaultMessage: 'Your first name cannot be empty',\n  },\n  lastNameLabel: {\n    id: 'app.containers.SignUp.lastNameLabel',\n    defaultMessage: 'Last name',\n  },\n  lastNamePlaceholder: {\n    id: 'app.containers.SignUp.lastNamePlaceholder',\n    defaultMessage: 'Enter your last name',\n  },\n  noLastNameError: {\n    id: 'app.containers.SignUp.noLastNameError',\n    defaultMessage: 'Your last name cannot be empty',\n  },\n  emailLabel: {\n    id: 'app.containers.SignUp.emailLabel',\n    defaultMessage: 'Email',\n  },\n  emailOrPhoneLabel: {\n    id: 'app.containers.SignUp.emailOrPhoneLabel',\n    defaultMessage: 'Email or phone',\n  },\n  emailPlaceholder: {\n    id: 'app.containers.SignUp.emailPlaceholder',\n    defaultMessage: 'Enter your email address',\n  },\n  noEmailError: {\n    id: 'app.containers.SignUp.noEmailError',\n    defaultMessage: 'Your email address cannot be empty',\n  },\n  noValidEmailError: {\n    id: 'app.containers.SignUp.noValidEmailError',\n    defaultMessage: 'Please enter a valid email address',\n  },\n  passwordLabel: {\n    id: 'app.containers.SignUp.passwordLabel',\n    defaultMessage: 'Password',\n  },\n  passwordPlaceholder: {\n    id: 'app.containers.SignUp.passwordPlaceholder',\n    defaultMessage: 'Enter a password',\n  },\n  noPasswordError: {\n    id: 'app.containers.SignUp.noPasswordError',\n    defaultMessage: 'Your password cannot be empty',\n  },\n  continue: {\n    id: 'app.containers.SignUp.continue',\n    defaultMessage: 'Continue',\n  },\n  nextStep: {\n    id: 'app.containers.SignUp.nextStep',\n    defaultMessage: 'Next step',\n  },\n  signUp2: {\n    id: 'app.containers.SignUp.signUp2',\n    defaultMessage: 'Sign up',\n  },\n  submit: {\n    id: 'app.containers.SignUp.submit',\n    defaultMessage: 'Complete your profile',\n  },\n  skip: {\n    id: 'app.containers.SignUp.skip',\n    defaultMessage: 'Skip this step',\n  },\n  unknownError: {\n    id: 'app.containers.SignUp.unknownError',\n    defaultMessage: 'Something went wrong. Please try again later.',\n  },\n  or: {\n    id: 'app.containers.SignUp.or',\n    defaultMessage: 'or',\n  },\n  goToLogIn: {\n    id: 'app.containers.SignUp.goToLogIn',\n    defaultMessage: 'Already have an account? {goToOtherFlowLink}',\n  },\n  goToSignUp: {\n    id: 'app.containers.SignUp.goToSignUp',\n    defaultMessage: \"Don't have an account? {goToOtherFlowLink}\",\n  },\n  logIn2: {\n    id: 'app.containers.SignUp.logIn2',\n    defaultMessage: 'Log in',\n  },\n  iHaveReadAndAgreeTo: {\n    id: 'app.containers.SignUp.iHaveReadAndAgreeTo',\n    defaultMessage: 'I have read and agree to {link}.',\n  },\n  theTermsAndConditions: {\n    id: 'app.containers.SignUp.theTermsAndConditions',\n    defaultMessage: 'the terms and conditions',\n  },\n  thePrivacyPolicy: {\n    id: 'app.containers.SignUp.thePrivacyPolicy',\n    defaultMessage: 'the privacy policy',\n  },\n  tacError: {\n    id: 'app.containers.SignUp.tacError',\n    defaultMessage: 'Please accept the terms and conditions',\n  },\n  privacyError: {\n    id: 'app.containers.SignUp.privacyError',\n    defaultMessage: 'Please accept the privacy policy',\n  },\n  signUpButtonAltText: {\n    id: 'app.containers.SignUp.signUpButtonAltText',\n    defaultMessage: 'Sign up with {loginMechanismName}',\n  },\n  whatIsFranceConnect: {\n    id: 'app.containers.SignUp.whatIsFranceConnect',\n    defaultMessage: 'What is France Connect?',\n  },\n  somethingWentWrongText: {\n    id: 'app.containers.SignUp.somethingWentWrongText',\n    defaultMessage:\n      'Something went wrong while trying to create your account. Please try again in a few minutes.',\n  },\n  signUpWithEmail: {\n    id: 'app.containers.SignUp.signUpWithEmail',\n    defaultMessage: 'Sign up with Email',\n  },\n  logInWithEmail: {\n    id: 'app.containers.SignUp.logInWithEmail',\n    defaultMessage: 'Log in with Email',\n  },\n  signUpWithPhoneOrEmail: {\n    id: 'app.containers.SignUp.signUpWithPhoneOrEmail',\n    defaultMessage: 'Sign up with Phone or Email',\n  },\n  logInWithPhoneOrEmail: {\n    id: 'app.containers.SignUp.logInWithPhoneOrEmail',\n    defaultMessage: 'Log in with Phone or Email',\n  },\n  continueWithGoogle: {\n    id: 'app.containers.SignUp.continueWithGoogle',\n    defaultMessage: 'Continue with Google',\n  },\n  continueWithFacebook: {\n    id: 'app.containers.SignUp.continueWithFacebook',\n    defaultMessage: 'Continue with Facebook',\n  },\n  continueWithAzure: {\n    id: 'app.containers.SignUp.continueWithAzure',\n    defaultMessage: 'Continue with {azureProviderName}',\n  },\n  emailConsent: {\n    id: 'app.containers.SignUp.emailConsent',\n    defaultMessage:\n      'By signing up, you agree to receive emails from this platform. You can select which emails you wish to receive from your user settings.',\n  },\n  headerSubtitle: {\n    id: 'app.containers.SignUp.headerSubtitle',\n    defaultMessage: 'Step {activeStepNumber} of {totalStepsCount}: {stepName}',\n  },\n  createYourAccount: {\n    id: 'app.containers.SignUp.createYourAccount',\n    defaultMessage: 'Create your account',\n  },\n  verifyYourIdentity: {\n    id: 'app.containers.SignUp.verifyYourIdentity',\n    defaultMessage: 'Verify your identity',\n  },\n  completeYourProfile: {\n    id: 'app.containers.SignUp.completeYourProfile',\n    defaultMessage: 'Complete your profile',\n  },\n  backToSignUpOptions: {\n    id: 'app.containers.SignUp.backToSignUpOptions',\n    defaultMessage: 'Go back to sign up options',\n  },\n  completeSignUp: {\n    id: 'app.containers.SignUp.completeSignUp',\n    defaultMessage: 'Complete sign up',\n  },\n  signUpSuccess: {\n    id: 'app.containers.SignUp.signUpSuccess',\n    defaultMessage: 'You have signed up successfully!',\n  },\n  close: {\n    id: 'app.containers.SignUp.close',\n    defaultMessage: 'Close',\n  },\n  invitationError: {\n    id: 'app.containers.SignUp.invitationError',\n    defaultMessage: 'Your invitation has expired or has already been redeemed.',\n  },\n});\n","import React from 'react';\n\n// components\nimport TopBar from './TopBar';\nimport EventCard from 'components/EventCard';\nimport EventsMessage from 'containers/EventsPage/EventsViewer/EventsMessage';\nimport EventsSpinner from 'containers/EventsPage/EventsViewer/EventsSpinner';\nimport VerticalCenterer from 'components/VerticalCenterer';\n\n// hooks\nimport useEvents from 'hooks/useEvents';\n\n// i18n\nimport { injectIntl } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\n\n// styling\nimport styled from 'styled-components';\nimport { colors, fontSizes } from 'utils/styleUtils';\n\n// other\nimport { isNilOrError, isNil, isError } from 'utils/helperUtils';\nimport messages from 'containers/EventsPage/messages';\n\nconst EventsWidgetContainer = styled.div`\n  padding: 48px 0 124px 0;\n`;\n\nconst NoEventsText = styled.div`\n  margin: auto 0px;\n  text-align: center;\n  color: ${colors.label};\n  font-size: ${fontSizes.xl}px;\n`;\n\nconst CardsContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n\n  > * {\n    margin: 0px 19px;\n  }\n  > :first-child {\n    margin-left: 0px;\n  }\n  > :last-child {\n    margin-right: 0px;\n  }\n`;\n\nconst StyledEventCard = styled(EventCard)`\n  border-radius: 3px;\n  padding: 20px;\n`;\n\nexport default injectIntl<InjectedIntlProps>(({ intl }) => {\n  const { events } = useEvents({\n    projectPublicationStatuses: ['published'],\n    futureOnly: true,\n    pageSize: 3,\n    sort: 'oldest',\n  });\n\n  const eventsLoading = isNil(events);\n  const eventsError = isError(events);\n\n  return (\n    <EventsWidgetContainer>\n      <TopBar />\n\n      {eventsLoading && <EventsSpinner />}\n      {eventsError && (\n        <EventsMessage message={messages.errorWhenFetchingEvents} />\n      )}\n\n      {!isNilOrError(events) && events.length === 0 && (\n        <VerticalCenterer>\n          <NoEventsText>\n            {intl.formatMessage(messages.noUpcomingEvents)}\n          </NoEventsText>\n        </VerticalCenterer>\n      )}\n\n      {!isNilOrError(events) && events.length > 0 && (\n        <CardsContainer>\n          {events.map((event) => (\n            <StyledEventCard\n              event={event}\n              key={event.id}\n              titleFontSize={18}\n              showProjectTitle\n              onClickTitleGoToProjectAndScrollToEvent\n            />\n          ))}\n        </CardsContainer>\n      )}\n    </EventsWidgetContainer>\n  );\n});\n","import { API_PATH } from 'containers/App/constants';\nimport streams, { IStreamParams } from 'utils/streams';\n\nconst apiEndpoint = `${API_PATH}/phases`;\n\nexport interface IPhaseFileData {\n  id: string;\n  type: string;\n  attributes: {\n    file: {\n      url: string;\n    };\n    ordering: string | null;\n    name: string;\n    size: number;\n    created_at: string;\n    updated_at: string;\n  };\n}\n\nexport interface IPhaseFile {\n  data: IPhaseFileData;\n}\n\nexport interface IPhaseFiles {\n  data: IPhaseFileData[];\n}\n\nexport function phaseFilesStream(\n  phaseId: string,\n  streamParams: IStreamParams | null = null\n) {\n  return streams.get<IPhaseFiles>({\n    apiEndpoint: `${apiEndpoint}/${phaseId}/files`,\n    ...streamParams,\n  });\n}\n\nexport function phaseFileStream(\n  phaseId: string,\n  fileId: string,\n  streamParams: IStreamParams | null = null\n) {\n  return streams.get<IPhaseFile>({\n    apiEndpoint: `${apiEndpoint}/${phaseId}/files/${fileId}`,\n    ...streamParams,\n  });\n}\n\nexport async function addPhaseFile(\n  phaseId: string,\n  base64: string,\n  name: string,\n  ordering: number | null = null\n) {\n  return await streams.add<IPhaseFile>(`${apiEndpoint}/${phaseId}/files`, {\n    file: { name, ordering, file: base64 },\n  });\n}\n\nexport async function deletePhaseFile(phaseId: string, fileId: string) {\n  return await streams.delete(\n    `${apiEndpoint}/${phaseId}/files/${fileId}`,\n    fileId\n  );\n}\n","import { definePermissionRule } from 'services/permissions/permissions';\nimport { isAdmin, isProjectModerator } from '../roles';\nimport { IUser } from 'services/users';\n\ndefinePermissionRule(\n  'automatedCampaign',\n  'manage',\n  (_campaign: string, user: IUser) => {\n    return isAdmin(user);\n  }\n);\n\ndefinePermissionRule(\n  'manualCampaign',\n  'manage',\n  (_campaign: string, user: IUser) => {\n    return isAdmin(user) || isProjectModerator(user);\n  }\n);\n","export default {\n  clickOnProjectCard: 'Click on project folder card',\n  clickOnProjectTitle: 'Click on the project folder card title',\n};\n","import { getJwt } from 'utils/auth/jwt';\nimport {\n  ApolloClient,\n  HttpLink,\n  ApolloLink,\n  InMemoryCache,\n  concat,\n} from '@apollo/client';\n\nconst ADMIN_TEMPLATES_GRAPHQL_PATH = '/admin_templates_api/graphql';\nconst httpLink = new HttpLink({ uri: ADMIN_TEMPLATES_GRAPHQL_PATH });\nconst authMiddleware = new ApolloLink((operation, forward) => {\n  const jwt = getJwt();\n\n  operation.setContext({\n    headers: {\n      origin: '*',\n      authorization: jwt ? `Bearer ${jwt}` : '',\n      'Access-Control-Allow-Origin': '*',\n    },\n    fetchOptions: {\n      mode: 'cors',\n    },\n  });\n\n  return forward(operation);\n});\n\nexport const client = new ApolloClient({\n  cache: new InMemoryCache(),\n  link: concat(authMiddleware, httpLink),\n});\n","import 'services/verificationMethods';\n\ndeclare module 'services/verificationMethods' {\n  export interface IVerificationMethodNamesMap {\n    cow: 'cow';\n  }\n}\n","import React, { memo, FormEvent } from 'react';\n\n// i18n\nimport { InjectedIntlProps } from 'react-intl';\nimport { injectIntl } from 'utils/cl-intl';\nimport messages from './messages';\nimport { IAdminPublicationContent } from 'hooks/useAdminPublications';\n\n// services\nimport { deleteProject } from 'services/projects';\n\n// components\nimport { RowButton } from './StyledComponents';\nimport { ButtonContainerProps } from 'components/UI/Button';\n\n// styles\nimport { colors } from 'utils/styleUtils';\n\ninterface Props extends ButtonContainerProps {\n  publication: IAdminPublicationContent;\n  setDeleteIsProcessing: (status: boolean) => void;\n  setDeletionError: (error: string) => void;\n}\n\nconst DeleteProjectButton = memo<Props & InjectedIntlProps>(\n  ({\n    publication,\n    setDeleteIsProcessing,\n    setDeletionError,\n    intl: { formatMessage },\n    ...rest\n  }) => {\n    const deletionProps = {\n      copy: formatMessage(messages[`deleteProjectButton`]),\n      errorCopy: formatMessage(messages[`deleteProjectError`]),\n      confirmationCopy: formatMessage(messages[`deleteProjectConfirmation`]),\n      handleDelete: deleteProject,\n    };\n\n    const handleDeletePublication = async (event: FormEvent<any>) => {\n      event.preventDefault();\n\n      if (publication && window.confirm(deletionProps.confirmationCopy)) {\n        try {\n          setDeleteIsProcessing(true);\n          await deletionProps.handleDelete(publication.publicationId);\n          setDeleteIsProcessing(false);\n          setDeletionError('');\n        } catch {\n          setDeleteIsProcessing(false);\n          setDeletionError(deletionProps.errorCopy);\n        }\n      }\n    };\n\n    return (\n      <RowButton\n        onClick={handleDeletePublication}\n        type=\"button\"\n        icon=\"delete\"\n        buttonStyle=\"text\"\n        className={`e2e-admin-delete-publication`}\n        iconHoverColor={colors.clRedError}\n        textHoverColor={colors.clRedError}\n        {...rest}\n      >\n        {deletionProps.copy}\n      </RowButton>\n    );\n  }\n);\n\nexport default injectIntl(DeleteProjectButton);\n","export default __webpack_public_path__ + \".htaccess.bin\";","import React from 'react';\nimport { adopt } from 'react-adopt';\nimport { isNilOrError } from 'utils/helperUtils';\n\nimport styled from 'styled-components';\nimport { fontSizes, colors } from 'utils/styleUtils';\n\nimport { trackEventByName } from 'utils/analytics';\nimport tracks from '../../tracks';\n\nimport NotificationCount from './components/NotificationCount';\nimport Notification from './components/Notification';\nimport { Spinner, Dropdown } from 'cl2-component-library';\nimport InfiniteScroll from 'react-infinite-scroller';\n\nimport messages from './messages';\nimport { FormattedMessage } from 'utils/cl-intl';\n\nimport { markAllAsRead } from 'services/notifications';\nimport GetNotifications, {\n  GetNotificationsChildProps,\n} from 'resources/GetNotifications';\nimport GetAuthUser, { GetAuthUserChildProps } from 'resources/GetAuthUser';\n\n// illustrations\nimport EmptyStateImg from './assets/no_notification_image.svg';\n\nconst Container = styled.div`\n  position: relative;\n`;\n\nconst LoadingContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst NotificationsWrapper = styled.div``;\n\nconst EmptyStateContainer = styled.div`\n  height: 200px;\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  justify-content: center;\n`;\n\nconst EmptyStateImageWrapper = styled.div`\n  display: flex;\n  justify-content: center;\n`;\n\nconst EmptyStateImage = styled.img`\n  margin-bottom: 20px;\n`;\n\nconst EmptyStateText = styled.div`\n  color: ${colors.label};\n  font-size: ${fontSizes.base}px;\n  line-height: normal;\n  text-align: center;\n  overflow-wrap: break-word;\n  word-wrap: break-word;\n  word-break: break-word;\n  white-space: normal;\n  margin-left: 15px;\n  margin-right: 15px;\n`;\n\ninterface InputProps {}\n\ninterface DataProps {\n  notifications: GetNotificationsChildProps;\n  authUser: GetAuthUserChildProps;\n}\n\ninterface Props extends InputProps, DataProps {}\n\ninterface State {\n  dropdownOpened: boolean;\n}\n\nexport class NotificationMenu extends React.PureComponent<Props, State> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      dropdownOpened: false,\n    };\n  }\n\n  toggleDropdown = (event: React.FormEvent<any>) => {\n    event.preventDefault();\n\n    this.setState(({ dropdownOpened }) => {\n      if (!dropdownOpened) {\n        trackEventByName(tracks.clickOpenNotifications.name);\n      } else {\n        markAllAsRead();\n        trackEventByName(tracks.clickCloseNotifications.name);\n      }\n\n      return { dropdownOpened: !dropdownOpened };\n    });\n  };\n\n  render() {\n    const { dropdownOpened } = this.state;\n    const { notifications, authUser } = this.props;\n\n    if (!isNilOrError(authUser)) {\n      return (\n        <Container>\n          <NotificationCount\n            count={authUser.attributes.unread_notifications}\n            onClick={this.toggleDropdown}\n            dropdownOpened={dropdownOpened}\n          />\n          <Dropdown\n            width=\"300px\"\n            mobileWidth=\"220px\"\n            top=\"42px\"\n            right=\"-5px\"\n            mobileRight=\"-15px\"\n            opened={dropdownOpened}\n            onClickOutside={this.toggleDropdown}\n            content={\n              <InfiniteScroll\n                pageStart={0}\n                loadMore={notifications.onLoadMore}\n                useWindow={false}\n                hasMore={notifications.hasMore}\n                threshold={50}\n                loader={\n                  <LoadingContainer key=\"0\">\n                    <Spinner />\n                  </LoadingContainer>\n                }\n              >\n                {!isNilOrError(notifications?.list) &&\n                  notifications.list.length > 0 && (\n                    <NotificationsWrapper>\n                      {notifications.list.map((notification) => (\n                        <Notification\n                          key={notification.id}\n                          notification={notification}\n                        />\n                      ))}\n                    </NotificationsWrapper>\n                  )}\n                {(notifications?.list === null ||\n                  notifications?.list?.length === 0) && (\n                  <EmptyStateContainer>\n                    <EmptyStateImageWrapper>\n                      <EmptyStateImage\n                        src={EmptyStateImg}\n                        role=\"presentation\"\n                        alt=\"\"\n                      />\n                    </EmptyStateImageWrapper>\n                    <EmptyStateText>\n                      <FormattedMessage {...messages.noNotifications} />\n                    </EmptyStateText>\n                  </EmptyStateContainer>\n                )}\n              </InfiniteScroll>\n            }\n          />\n        </Container>\n      );\n    }\n\n    return null;\n  }\n}\n\nconst Data = adopt<DataProps, InputProps>({\n  notifications: <GetNotifications />,\n  authUser: <GetAuthUser />,\n});\n\nexport default (inputProps: InputProps) => (\n  <Data>\n    {(dataProps) => <NotificationMenu {...inputProps} {...dataProps} />}\n  </Data>\n);\n","import { AUTH_PATH } from 'containers/App/constants';\nimport { ISignUpInMetaData } from 'components/SignUpIn';\nimport { stringify } from 'qs';\nimport { omitBy, isNil } from 'lodash-es';\nimport { isProjectContext } from 'components/Verification/verificationModalEvents';\n\nexport type SSOProvider =\n  | 'google'\n  | 'facebook'\n  | 'azureactivedirectory'\n  | 'franceconnect';\n\n// Note: these are url parameters so therefore all typed as strings\nexport interface SSOParams {\n  sso_response: 'true';\n  sso_flow: 'signup' | 'signin';\n  sso_pathname: string;\n  sso_verification?: string;\n  sso_verification_action?: string;\n  sso_verification_id?: string;\n  sso_verification_type?: string;\n}\n\nexport const handleOnSSOClick = (\n  provider: SSOProvider,\n  metaData: ISignUpInMetaData\n) => {\n  const { pathname, verification, verificationContext } = metaData;\n  const ssoParams: SSOParams = {\n    sso_response: 'true',\n    sso_flow: metaData.flow,\n    sso_pathname: pathname, // Also used by back-end to set user.locale following succesful signup\n    sso_verification: verification === true ? 'true' : undefined,\n    sso_verification_action: verificationContext?.action,\n    sso_verification_id: isProjectContext(verificationContext)\n      ? verificationContext.id\n      : undefined,\n    sso_verification_type: verificationContext?.type,\n  };\n  const urlSearchParams = stringify(omitBy(ssoParams, isNil));\n  window.location.href = `${AUTH_PATH}/${provider}?${urlSearchParams}`;\n};\n","import { API_PATH } from 'containers/App/constants';\nimport streams, { IStreamParams } from 'utils/streams';\nimport { IRelationship, Multiloc } from 'typings';\n\nexport const userCustomFieldsSchemaApiEndpoint = `${API_PATH}/users/custom_fields/schema`;\n\nexport type IUserCustomFieldInputType =\n  | 'text'\n  | 'number'\n  | 'multiline_text'\n  | 'select'\n  | 'multiselect'\n  | 'checkbox'\n  | 'date';\n\nexport interface IUserCustomFieldData {\n  id: string;\n  type: string;\n  attributes: {\n    key: string;\n    title_multiloc: Multiloc;\n    description_multiloc: Multiloc;\n    input_type: IUserCustomFieldInputType;\n    required: boolean;\n    code: string | null;\n    enabled: boolean;\n    ordering: number;\n    hidden: boolean;\n    created_at: string;\n    updated_at: string;\n  };\n  relationships?: {\n    custom_field_options: {\n      data: IRelationship;\n    };\n  };\n}\n\nexport interface IUserCustomField {\n  data: IUserCustomFieldData;\n}\n\nexport interface IUserCustomFields {\n  data: IUserCustomFieldData[];\n}\n\nexport interface UserCustomFieldsInfos {\n  schema: any;\n  uiSchema: any;\n  hasRequiredFields: boolean;\n  hasCustomFields: boolean;\n}\n\nexport function isBuiltInField(field: IUserCustomFieldData) {\n  return !!field.attributes.code;\n}\n\nexport function isHiddenField(field: IUserCustomFieldData) {\n  return !!field.attributes.hidden;\n}\n\nexport interface IUserCustomField {\n  data: IUserCustomFieldData;\n}\n\nexport interface IUserCustomFields {\n  data: IUserCustomFieldData[];\n}\n\nexport function userCustomFieldStream(\n  customFieldId: string,\n  streamParams: IStreamParams | null = null\n) {\n  return streams.get<IUserCustomField>({\n    apiEndpoint: `${API_PATH}/users/custom_fields/${customFieldId}`,\n    ...streamParams,\n  });\n}\n\nexport function userCustomFieldsStream(\n  streamParams: IStreamParams | null = null\n) {\n  return streams.get<IUserCustomFields>({\n    apiEndpoint: `${API_PATH}/users/custom_fields`,\n    ...streamParams,\n  });\n}\n\nexport function customFieldsSchemaForUsersStream(\n  streamParams: IStreamParams | null = null\n) {\n  return streams.get<any>({\n    apiEndpoint: userCustomFieldsSchemaApiEndpoint,\n    ...streamParams,\n  });\n}\n\nexport function addCustomFieldForUsers(data) {\n  return streams.add<IUserCustomField>(`${API_PATH}/users/custom_fields`, {\n    custom_field: data,\n  });\n}\n\nexport function updateCustomFieldForUsers(customFieldId: string, object) {\n  return streams.update<IUserCustomField>(\n    `${API_PATH}/users/custom_fields/${customFieldId}`,\n    customFieldId,\n    { custom_field: object }\n  );\n}\n\nexport function reorderCustomFieldForUsers(customFieldId: string, object) {\n  return streams.update<IUserCustomField>(\n    `${API_PATH}/users/custom_fields/${customFieldId}/reorder`,\n    customFieldId,\n    { custom_field: object }\n  );\n}\n\nexport function deleteUserCustomField(customFieldId: string) {\n  return streams.delete(\n    `${API_PATH}/users/custom_fields/${customFieldId}`,\n    customFieldId\n  );\n}\n","import React, { PureComponent } from 'react';\nimport {\n  isArray,\n  find,\n  isEmpty,\n  isString,\n  cloneDeep,\n  includes,\n  without,\n} from 'lodash-es';\n\n// components\nimport Title from './title';\nimport ValuesList from './valuesList';\n\n// style\nimport styled from 'styled-components';\nimport { media, isRtl } from 'utils/styleUtils';\n\nconst Container = styled.div`\n  display: inline-block;\n  position: relative;\n\n  &:not(:last-child) {\n    margin-right: 40px;\n\n    ${media.smallerThanMaxTablet`\n      margin-right: 30px;\n    `}\n\n    ${media.smallerThanMinTablet`\n      margin-right: 25px;\n    `}\n\n    ${media.smallPhone`\n      margin-right: 20px;\n    `}\n  }\n\n  &.last {\n    margin-right: 0px;\n  }\n\n  ${isRtl`\n    &:not(:last-child) {\n      margin-left: 40px;\n\n      ${media.smallerThanMaxTablet`\n        margin-left: 30px;\n      `}\n\n      ${media.smallPhone`\n        margin-left: 20px;\n      `}\n    }\n\n    &.last {\n      margin-left: 0px;\n    }\n  `}\n`;\n\nexport interface IFilterSelectorValue {\n  text: string | JSX.Element;\n  value: any;\n}\n\ninterface DefaultProps {\n  width?: string;\n  mobileWidth?: string;\n  maxHeight?: string;\n  mobileMaxHeight?: string;\n  top?: string;\n  left?: string;\n  mobileLeft?: string;\n  right?: string;\n  mobileRight?: string;\n  last?: boolean;\n  textColor?: string;\n}\n\ninterface Props extends DefaultProps {\n  id?: string | undefined;\n  title: string | JSX.Element;\n  name: string;\n  values: IFilterSelectorValue[];\n  onChange?: (value: any) => void;\n  multipleSelectionAllowed: boolean;\n  selected: string[];\n  className?: string;\n}\n\ninterface State {\n  opened: boolean;\n}\n\nexport default class FilterSelector extends PureComponent<Props, State> {\n  baseID: string;\n\n  static defaultProps: DefaultProps = {\n    width: undefined,\n    mobileWidth: undefined,\n    maxHeight: undefined,\n    mobileMaxHeight: undefined,\n    top: undefined,\n    left: undefined,\n    mobileLeft: undefined,\n    right: undefined,\n    mobileRight: undefined,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      opened: false,\n    };\n    this.baseID = `filter-${Math.floor(Math.random() * 10000000)}`;\n  }\n\n  getTitle = (selection, values, multipleSelectionAllowed, title) => {\n    let newTitle: any = '';\n\n    if (\n      !multipleSelectionAllowed &&\n      isArray(selection) &&\n      !isEmpty(selection)\n    ) {\n      const selected = find(values, { value: selection[0] });\n      newTitle = selected ? selected['text'] : '';\n    } else if (isArray(selection) && !isEmpty(selection)) {\n      if (isString(title)) {\n        newTitle = `${title} (${selection.length})`;\n      } else {\n        newTitle = [\n          title,\n          ' ',\n          <span key={Math.floor(Math.random() * 10000000)}>\n            ({selection.length})\n          </span>,\n        ];\n      }\n    } else {\n      newTitle = title;\n    }\n\n    return newTitle;\n  };\n\n  toggleExpanded = () => {\n    this.setState((state) => ({ opened: !state.opened }));\n  };\n\n  closeExpanded = () => {\n    this.setState({ opened: false });\n  };\n\n  selectionChange = (value: string) => {\n    let newSelection = cloneDeep(this.props.selected);\n\n    if (!this.props.multipleSelectionAllowed) {\n      newSelection = [value];\n    } else if (includes(newSelection, value)) {\n      newSelection = without(newSelection, value);\n    } else {\n      newSelection.push(value);\n    }\n\n    if (this.props.onChange) {\n      this.props.onChange(newSelection);\n    }\n\n    if (!this.props.multipleSelectionAllowed) {\n      this.closeExpanded();\n    }\n  };\n\n  handleClickOutside = () => {\n    this.closeExpanded();\n  };\n\n  render() {\n    const { className, textColor } = this.props;\n    const { opened } = this.state;\n    const {\n      id,\n      values,\n      multipleSelectionAllowed,\n      selected,\n      title,\n      width,\n      mobileWidth,\n      maxHeight,\n      mobileMaxHeight,\n      top,\n      left,\n      mobileLeft,\n      right,\n      mobileRight,\n      last,\n      name,\n    } = this.props;\n    const currentTitle = this.getTitle(\n      selected,\n      values,\n      multipleSelectionAllowed,\n      title\n    );\n\n    return (\n      <Container\n        id={id}\n        className={`e2e-filter-selector-${this.props.name} ${className} ${\n          last ? 'last' : ''\n        }`}\n      >\n        <Title\n          key={this.baseID}\n          title={currentTitle}\n          opened={opened}\n          onClick={this.toggleExpanded}\n          baseID={this.baseID}\n          textColor={textColor}\n        />\n        <ValuesList\n          title={currentTitle}\n          opened={opened}\n          values={values}\n          selected={selected}\n          onChange={this.selectionChange}\n          onClickOutside={this.handleClickOutside}\n          multipleSelectionAllowed={multipleSelectionAllowed}\n          baseID={this.baseID}\n          width={width}\n          mobileWidth={mobileWidth}\n          maxHeight={maxHeight}\n          mobileMaxHeight={mobileMaxHeight}\n          top={top}\n          left={left}\n          mobileLeft={mobileLeft}\n          right={right}\n          mobileRight={mobileRight}\n          name={name}\n        />\n      </Container>\n    );\n  }\n}\n","import React from 'react';\nimport { ModuleConfiguration } from 'utils/moduleUtils';\nimport Tab from './admin/components/Tab';\n\nconst configuration: ModuleConfiguration = {\n  routes: {\n    'admin.dashboards': [\n      {\n        path: 'insights',\n        container: () => import('./admin/containers/All'),\n      },\n      {\n        path: 'insights/new',\n        container: () => import('./admin/containers/New'),\n      },\n      {\n        path: 'insights/:clusteringId',\n        container: () => import('./admin/containers/Show'),\n      },\n    ],\n  },\n  outlets: {\n    'app.containers.Admin.dashboards.tabs': (props) => <Tab {...props} />,\n  },\n};\n\nexport default configuration;\n","import React from 'react';\n\nimport { Input } from 'cl2-component-library';\n\ntype Props = {\n  value: string;\n  onChange: (string) => void;\n};\n\ninterface State {}\n\nclass TextValueSelector extends React.PureComponent<Props, State> {\n  handleOnChange = (value) => {\n    this.props.onChange(value);\n  };\n\n  render() {\n    const { value } = this.props;\n    return <Input type=\"text\" value={value} onChange={this.handleOnChange} />;\n  }\n}\n\nexport default TextValueSelector;\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  mapTab: {\n    id: 'app.containers.AdminPage.ProjectEdit.mapTab',\n    defaultMessage: 'Map',\n  },\n});\n","import React, { memo, FormEvent } from 'react';\n\n// i18n\nimport { InjectedIntlProps } from 'react-intl';\nimport { injectIntl } from 'utils/cl-intl';\nimport messages from './messages';\nimport { IAdminPublicationContent } from 'hooks/useAdminPublications';\n\n// services\nimport { deleteProjectFolder } from '../../../services/projectFolders';\n\n// components\nimport { RowButton } from './StyledComponents';\nimport { ButtonContainerProps } from 'components/UI/Button';\n\n// styles\nimport { colors } from 'utils/styleUtils';\n\ninterface Props extends ButtonContainerProps {\n  publication: IAdminPublicationContent;\n  setDeleteIsProcessing: (status: boolean) => void;\n  setDeletionError: (error: string) => void;\n}\n\nconst DeleteProjectFolderButton = memo<Props & InjectedIntlProps>(\n  ({\n    publication,\n    setDeleteIsProcessing,\n    setDeletionError,\n    intl: { formatMessage },\n    ...rest\n  }) => {\n    const deletionProps = {\n      copy: formatMessage(messages[`deleteFolderButton`]),\n      errorCopy: formatMessage(messages[`deleteFolderError`]),\n      confirmationCopy: formatMessage(messages[`deleteFolderConfirmation`]),\n      handleDelete: deleteProjectFolder,\n    };\n\n    const handleDeletePublication = async (event: FormEvent<any>) => {\n      event.preventDefault();\n\n      if (publication && window.confirm(deletionProps.confirmationCopy)) {\n        try {\n          setDeleteIsProcessing(true);\n          await deletionProps.handleDelete(publication.publicationId);\n          setDeleteIsProcessing(false);\n          setDeletionError('');\n        } catch {\n          setDeleteIsProcessing(false);\n          setDeletionError(deletionProps.errorCopy);\n        }\n      }\n    };\n\n    return (\n      <RowButton\n        onClick={handleDeletePublication}\n        type=\"button\"\n        icon=\"delete\"\n        buttonStyle=\"text\"\n        className={`e2e-admin-delete-publication`}\n        iconHoverColor={colors.clRedError}\n        textHoverColor={colors.clRedError}\n        {...rest}\n      >\n        {deletionProps.copy}\n      </RowButton>\n    );\n  }\n);\n\nexport default injectIntl(DeleteProjectFolderButton);\n","import React, { ReactNode } from 'react';\nimport { ModuleConfiguration } from 'utils/moduleUtils';\nimport { isNilOrError } from 'utils/helperUtils';\n\nimport NewProjectFolderButton from './admin/components/NewProjectFolderButton';\nimport ProjectFolderRow from './admin/components/ProjectFolderRow';\nimport ProjectFolderTitle from './admin/components/ProjectFolderTitle';\nimport ProjectFolderSelect from './admin/components/ProjectFolderSelect';\n\nimport ProjectFolderCard from './citizen/components/ProjectFolderCard';\nimport ProjectFolderSiteMap from './citizen/components/ProjectFolderSiteMap';\nimport ProjectFolderModerationRightsReceivedNotification from './citizen/components/ProjectFolderModerationRightsReceivedNotification';\nimport CreateProject from 'containers/Admin/projects/all/CreateProject';\nimport ProjectFolderGoBackButton from './citizen/components/ProjectFolderGoBackButton';\n\nimport ProjectsListItem from 'containers/Navbar/components/ProjectsListItem';\n\nimport { isProjectFolderModerator } from './permissions/roles';\nimport useAuthUser from 'hooks/useAuthUser';\nimport { IAdminPublicationContent } from 'hooks/useAdminPublications';\nimport { IProjectFolderModerationRightsReceivedNotificationData } from 'services/notifications';\nimport { RenderOnNotificationTypeProps } from 'modules/utilComponents/RenderOnNotificationType';\nimport FeatureFlag from 'components/FeatureFlag';\n\ntype RenderOnPublicationTypeProps = {\n  publication: IAdminPublicationContent;\n  children: ReactNode;\n};\n\ntype RenderOnProjectFolderModeratorProps = {\n  children: ReactNode;\n};\n\nconst RenderOnPublicationType = ({\n  publication,\n  children,\n}: RenderOnPublicationTypeProps) => {\n  if (publication.publicationType !== 'folder') return null;\n  return <>{children}</>;\n};\n\nconst RenderOnProjectFolderModerator = ({\n  children,\n}: RenderOnProjectFolderModeratorProps) => {\n  const authUser = useAuthUser();\n\n  if (!isNilOrError(authUser) && isProjectFolderModerator(authUser)) {\n    return <>{children}</>;\n  }\n\n  return null;\n};\n\nconst RenderOnNotificationType = ({\n  children,\n  notification,\n  notificationType,\n}: RenderOnNotificationTypeProps) => {\n  if (notification.attributes.type === notificationType) {\n    return <>{children}</>;\n  }\n\n  return null;\n};\n\nconst configuration: ModuleConfiguration = {\n  afterMountApplication: () => {\n    import('./permissions/rules');\n  },\n  outlets: {\n    'app.containers.Navbar.projectlist.item': (props) => {\n      const { localize, publication } = props;\n      return (\n        <RenderOnPublicationType publication={publication}>\n          <ProjectsListItem\n            to={`/folders/${publication.attributes.publication_slug}`}\n            {...props}\n          >\n            {localize(publication.attributes.publication_title_multiloc)}\n          </ProjectsListItem>\n        </RenderOnPublicationType>\n      );\n    },\n    'app.containers.AdminPage.projects.all.projectsAndFolders.title': () => (\n      <FeatureFlag name=\"project_folders\">\n        <ProjectFolderTitle />\n      </FeatureFlag>\n    ),\n    'app.containers.AdminPage.projects.all.projectsAndFolders.actions': () => (\n      <FeatureFlag name=\"project_folders\">\n        <NewProjectFolderButton />\n      </FeatureFlag>\n    ),\n    'app.containers.AdminPage.projects.all.projectsAndFolders.row': (props) => (\n      <RenderOnPublicationType publication={props.publication}>\n        <ProjectFolderRow {...props} />\n      </RenderOnPublicationType>\n    ),\n    'app.components.ProjectAndFolderCards.card': (props) => (\n      <RenderOnPublicationType publication={props.publication}>\n        <ProjectFolderCard {...props} />\n      </RenderOnPublicationType>\n    ),\n    'app.containers.SiteMap.ProjectsSection.listitem': (props) => (\n      <RenderOnPublicationType publication={props.adminPublication}>\n        <ProjectFolderSiteMap {...props} />\n      </RenderOnPublicationType>\n    ),\n    'app.components.AdminPage.projects.form.additionalInputs.inputs': ({\n      onChange,\n      projectAttrs,\n      authUser,\n    }) => (\n      <FeatureFlag name=\"project_folders\">\n        <ProjectFolderSelect\n          onChange={onChange}\n          projectAttrs={projectAttrs}\n          authUser={authUser}\n        />\n      </FeatureFlag>\n    ),\n    'app.containers.AdminPage.projects.all.createProjectNotAdmin': () => (\n      <FeatureFlag name=\"project_folders\">\n        <RenderOnProjectFolderModerator>\n          <CreateProject />\n        </RenderOnProjectFolderModerator>\n      </FeatureFlag>\n    ),\n    'app.components.NotificationMenu.Notification': ({ notification }) => (\n      <FeatureFlag name=\"project_folders\">\n        <RenderOnNotificationType\n          notification={notification}\n          notificationType=\"project_folder_moderation_rights_received\"\n        >\n          <ProjectFolderModerationRightsReceivedNotification\n            notification={\n              notification as IProjectFolderModerationRightsReceivedNotificationData\n            }\n          />\n        </RenderOnNotificationType>\n      </FeatureFlag>\n    ),\n    'app.containers.ProjectsShowPage.shared.header.ProjectHeader.GoBackButton': (\n      props\n    ) => (\n      <FeatureFlag name=\"project_folders\">\n        <ProjectFolderGoBackButton {...props} />\n      </FeatureFlag>\n    ),\n  },\n  routes: {\n    citizen: [\n      {\n        path: 'folders/:slug',\n        name: 'Project folder page',\n        container: () => import('./citizen/containers/ProjectFolderShowPage'),\n      },\n    ],\n    admin: [\n      {\n        path: 'projects/folders/new',\n        name: 'admin projects single project',\n        container: () => import('./admin/containers/settings'),\n      },\n      {\n        path: 'projects/folders/:projectFolderId',\n        name: 'admin projects edit folder',\n        container: () => import('./admin/containers'),\n        indexRoute: {\n          name: 'admin projects edit folder projects',\n          container: () => import('./admin/containers/projects'),\n        },\n        childRoutes: [\n          {\n            path: 'settings',\n            name: 'admin projects edit folder settings',\n            container: () => import('./admin/containers/settings'),\n          },\n          {\n            path: 'permissions',\n            name: 'admin projects edit folder permissions',\n            container: () => import('./admin/containers/permissions'),\n          },\n        ],\n      },\n    ],\n  },\n};\n\nexport default configuration;\n","import React, { PureComponent } from 'react';\nimport Dropzone from 'react-dropzone';\nimport { size, isEmpty, uniqBy, forEach } from 'lodash-es';\nimport { reportError } from 'utils/loggingUtils';\n\n// components\nimport { Icon } from 'cl2-component-library';\nimport Error from 'components/UI/Error';\n\n// i18n\nimport { InjectedIntlProps } from 'react-intl';\nimport { injectIntl } from 'utils/cl-intl';\nimport messages from './messages';\n\n// utils\nimport { getBase64FromFile } from 'utils/fileTools';\n\n// style\nimport styled from 'styled-components';\nimport { colors, fontSizes, defaultOutline } from 'utils/styleUtils';\n\n// typings\nimport { UploadFile } from 'typings';\n\nconst Container = styled.div`\n  width: 100%;\n  display: column;\n`;\n\nconst ContentWrapper = styled.div`\n  width: 100%;\n  display: flex;\n  flex-wrap: wrap;\n`;\n\nconst ErrorWrapper = styled.div`\n  flex: 1;\n  display: flex;\n`;\n\nconst DropzoneLabelText = styled.span`\n  color: ${colors.label};\n  font-size: ${fontSizes.base}px;\n  line-height: normal;\n  font-weight: 400;\n  text-align: center;\n  width: 100%;\n  transition: all 100ms ease-out;\n`;\n\nconst DropzoneLabelIcon = styled(Icon)`\n  flex: 0 0 30px;\n  height: 30px;\n  fill: ${colors.label};\n  margin-bottom: 4px;\n  transition: all 100ms ease-out;\n`;\n\nconst DropzoneImagesRemaining = styled.div`\n  color: ${colors.label};\n  font-size: ${fontSizes.small}px;\n  line-height: normal;\n  font-weight: 400;\n  text-align: center;\n  margin-top: 5px;\n  transition: all 100ms ease-out;\n`;\n\nconst DropzoneInput = styled.input``;\n\nconst DropzoneContent = styled.div<{ borderRadius?: string }>`\n  box-sizing: border-box;\n  border: 1px dashed ${colors.border};\n  border-radius: ${(props) =>\n    props.borderRadius ? props.borderRadius : props.theme.borderRadius};\n  position: relative;\n  cursor: pointer;\n  background: transparent;\n  transition: all 100ms ease-out;\n  outline: none;\n\n  &:not(.disabled) {\n    &:focus-within {\n      ${defaultOutline};\n    }\n\n    &:hover,\n    &:focus-within {\n      border-color: #000;\n\n      ${DropzoneLabelText},\n      ${DropzoneImagesRemaining} {\n        color: #000;\n      }\n\n      ${DropzoneLabelIcon} {\n        fill: #000;\n      }\n    }\n  }\n\n  &.disabled {\n    cursor: no-drop;\n    border-color: #ccc;\n\n    ${DropzoneLabelText},\n    ${DropzoneImagesRemaining} {\n      color: #ccc;\n    }\n\n    ${DropzoneLabelIcon} {\n      fill: #ccc;\n    }\n  }\n`;\n\nconst DropzoneContentInner = styled.div`\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 20px;\n`;\n\nconst Image = styled.div<{\n  borderRadius: string | undefined;\n  src: string;\n  objectFit: 'cover' | 'contain' | undefined;\n}>`\n  background-repeat: no-repeat;\n  background-position: center center;\n  background-size: ${(props) => props.objectFit};\n  background-image: url(${(props) => props.src});\n  position: relative;\n  box-sizing: border-box;\n  border-radius: ${(props) =>\n    props.borderRadius ? props.borderRadius : props.theme.borderRadius};\n  border: solid 1px #ccc;\n`;\n\nconst Box = styled.div<{ maxWidth: string | undefined; ratio: number }>`\n  width: 100%;\n  max-width: ${({ maxWidth }) => (maxWidth ? maxWidth : '100%')};\n  margin-bottom: 16px;\n  position: relative;\n\n  &.hasRightMargin {\n    margin-right: 20px;\n  }\n\n  ${Image},\n  ${DropzoneContent} {\n    width: 100%;\n    height: ${({ maxWidth, ratio }) => (ratio !== 1 ? 'auto' : maxWidth)};\n    padding-bottom: ${({ ratio }) =>\n      ratio !== 1 ? `${Math.round(ratio * 100)}%` : '0'};\n  }\n`;\n\nconst RemoveIcon = styled(Icon)`\n  height: 10px;\n  fill: #fff;\n  transition: all 100ms ease-out;\n`;\n\nconst RemoveButton = styled.button`\n  width: 30px;\n  height: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0;\n  margin: 0;\n  position: absolute;\n  top: 8px;\n  right: 8px;\n  z-index: 0;\n  cursor: pointer;\n  border-radius: 50%;\n  border: solid 1px transparent;\n  background: rgba(0, 0, 0, 0.6);\n  transition: all 100ms ease-out;\n\n  &:hover {\n    background: #000;\n    border-color: #fff;\n\n    ${RemoveIcon} {\n      fill: #fff;\n    }\n  }\n`;\n\ninterface InputProps {\n  id?: string;\n  images: UploadFile[] | null;\n  acceptedFileTypes?: string | null | undefined;\n  imagePreviewRatio: number;\n  maxImagePreviewWidth?: string;\n  maxImageFileSize?: number;\n  maxNumberOfImages?: number;\n  label?: string | JSX.Element | null | undefined;\n  errorMessage?: string | null | undefined;\n  objectFit?: 'cover' | 'contain' | undefined;\n  onAdd: (arg: UploadFile[]) => void;\n  onRemove: (arg: UploadFile) => void;\n  borderRadius?: string;\n  removeIconAriaTitle?: string;\n  className?: string;\n}\n\ninterface Props extends InputProps {\n  maxNumberOfImages: number;\n  maxImageFileSize: number;\n}\n\ninterface State {\n  urlObjects: {\n    [key: string]: string;\n  };\n  errorMessage: string | null;\n}\n\nclass ImagesDropzone extends PureComponent<Props & InjectedIntlProps, State> {\n  static defaultProps = {\n    maxNumberOfImages: 1,\n    maxImageFileSize: 10000000,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      urlObjects: {},\n      errorMessage: null,\n    };\n  }\n\n  componentDidMount() {\n    this.setUrlObjects();\n    this.removeExcessImages();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.images !== this.props.images) {\n      this.setUrlObjects();\n    }\n\n    if (!prevProps.images || prevProps.images.length === 0) {\n      this.removeExcessImages();\n    }\n\n    if (prevProps.errorMessage !== this.props.errorMessage) {\n      const errorMessage =\n        this.props.errorMessage &&\n        this.props.errorMessage !== this.state.errorMessage\n          ? this.props.errorMessage\n          : this.state.errorMessage;\n      this.setState({ errorMessage });\n    }\n  }\n\n  removeExcessImages = () => {\n    // Logic to automatically trigger removal of the images that exceed the maxNumberOfImages treshold\n    // E.g. the maxNumberOfImages has been reduced from 5 to 1, but the server still returns 5 images and so this.props.images\n    // array will have a length of 5 instead of the new max. allowed length of 1. In this case onRemove() will be triggered\n    // for this.props.images[1] up to this.props.images[4] when this.props.images is loaded\n    if (\n      this.props.images &&\n      this.props.images.length > this.props.maxNumberOfImages\n    ) {\n      for (\n        let step = this.props.maxNumberOfImages;\n        step < this.props.images.length;\n        step += 1\n      ) {\n        this.props.onRemove(this.props.images[step]);\n      }\n    }\n  };\n\n  // eslint-disable-next-line react/no-deprecated\n  componentWillMount() {\n    forEach(this.state.urlObjects, (urlObject) =>\n      window.URL.revokeObjectURL(urlObject)\n    );\n  }\n\n  setUrlObjects = () => {\n    const images = this.props.images || [];\n    const { urlObjects } = this.state;\n    const newUrlObjects = {};\n\n    images\n      .filter((image) => !urlObjects[image.base64])\n      .forEach((image) => {\n        newUrlObjects[image.base64] = window.URL.createObjectURL(image);\n      });\n\n    forEach(urlObjects, (urlObject, key) => {\n      if (!images.some((image) => image.base64 === key)) {\n        window.URL.revokeObjectURL(urlObject);\n      } else {\n        newUrlObjects[key] = urlObject;\n      }\n    });\n\n    this.setState({ urlObjects: newUrlObjects });\n  };\n\n  onDrop = async (images: UploadFile[]) => {\n    const { formatMessage } = this.props.intl;\n    const maxItemsCount = this.props.maxNumberOfImages;\n    const oldItemsCount = size(this.props.images);\n    const newItemsCount = size(images);\n    const remainingItemsCount = maxItemsCount\n      ? maxItemsCount - oldItemsCount\n      : null;\n\n    this.setState({ errorMessage: null });\n\n    if (\n      maxItemsCount &&\n      remainingItemsCount &&\n      newItemsCount > remainingItemsCount\n    ) {\n      const errorMessage =\n        maxItemsCount === 1\n          ? formatMessage(messages.onlyOneImage)\n          : formatMessage(messages.onlyXImages, { maxItemsCount });\n      this.setState({ errorMessage });\n      setTimeout(() => this.setState({ errorMessage: null }), 6000);\n    } else if (images && images.length > 0) {\n      for (let i = 0; i < images.length; i += 1) {\n        if (!images[i].base64) {\n          try {\n            images[i].base64 = await getBase64FromFile(images[i]);\n          } catch (error) {\n            reportError(error);\n          }\n        }\n      }\n\n      this.props.onAdd(\n        uniqBy(\n          [...(this.props.images || []), ...images],\n          'base64'\n        ) as UploadFile[]\n      );\n    }\n  };\n\n  onDropRejected = (images: UploadFile[]) => {\n    const { formatMessage } = this.props.intl;\n    const maxImageSizeInMb = this.getMaxImageSizeInMb();\n\n    if (images.some((image) => image.size / 1000000 > maxImageSizeInMb)) {\n      const maxSizeExceededErrorMessage =\n        images.length === 1 || this.props.maxNumberOfImages === 1\n          ? messages.errorImageMaxSizeExceeded\n          : messages.errorImagesMaxSizeExceeded;\n      const errorMessage = formatMessage(maxSizeExceededErrorMessage, {\n        maxFileSize: maxImageSizeInMb,\n      });\n      this.setState({ errorMessage });\n      setTimeout(() => this.setState({ errorMessage: null }), 6000);\n    }\n  };\n\n  removeImage = (removedImage: UploadFile) => (event: React.FormEvent) => {\n    event.preventDefault();\n    event.stopPropagation();\n    this.props.onRemove(removedImage);\n  };\n\n  removeFocus = (event: React.MouseEvent) => {\n    event.preventDefault();\n  };\n\n  getMaxImageSizeInMb = () => {\n    return this.props.maxImageFileSize / 1000000;\n  };\n\n  render() {\n    const {\n      id,\n      images,\n      maxImageFileSize,\n      maxNumberOfImages,\n      maxImagePreviewWidth,\n      imagePreviewRatio,\n      borderRadius,\n      className,\n    } = this.props;\n    const { formatMessage } = this.props.intl;\n    const { errorMessage } = this.state;\n    const remainingImages =\n      maxNumberOfImages && maxNumberOfImages !== 1\n        ? `(${maxNumberOfImages - size(images)} ${formatMessage(\n            messages.remaining\n          )})`\n        : null;\n    const maxImageSizeInMb = this.getMaxImageSizeInMb();\n    const acceptedFileTypes = this.props.acceptedFileTypes || '*';\n    const label =\n      this.props.label ||\n      (maxNumberOfImages && maxNumberOfImages === 1\n        ? formatMessage(messages.uploadImageLabel, { maxImageSizeInMb })\n        : formatMessage(messages.uploadMultipleImagesLabel));\n    const objectFit = this.props.objectFit || 'cover';\n\n    return (\n      <Container className={className || ''}>\n        <ContentWrapper>\n          {(maxNumberOfImages > 1 ||\n            (maxNumberOfImages === 1 && isEmpty(images))) && (\n            <Box\n              maxWidth={maxImagePreviewWidth}\n              ratio={imagePreviewRatio}\n              className={\n                images && maxNumberOfImages > 1 && images.length > 0\n                  ? 'hasRightMargin'\n                  : ''\n              }\n            >\n              <Dropzone\n                accept={acceptedFileTypes}\n                maxSize={maxImageFileSize}\n                disabled={!!(images && maxNumberOfImages === images.length)}\n                onDrop={this.onDrop as any}\n                onDropRejected={this.onDropRejected as any}\n              >\n                {({ getRootProps, getInputProps }) => {\n                  return (\n                    <DropzoneContent\n                      {...getRootProps()}\n                      borderRadius={borderRadius}\n                      className={\n                        images && maxNumberOfImages === images.length\n                          ? 'disabled'\n                          : ''\n                      }\n                    >\n                      <DropzoneInput {...getInputProps()} id={id || ''} />\n                      <DropzoneContentInner>\n                        <DropzoneLabelIcon name=\"upload\" ariaHidden />\n                        <DropzoneLabelText>{label}</DropzoneLabelText>\n                        {remainingImages && (\n                          <DropzoneImagesRemaining>\n                            {remainingImages}\n                          </DropzoneImagesRemaining>\n                        )}\n                      </DropzoneContentInner>\n                    </DropzoneContent>\n                  );\n                }}\n              </Dropzone>\n            </Box>\n          )}\n\n          {images &&\n            images.length > 0 &&\n            images.slice(0, maxNumberOfImages).map((image, index) => (\n              <Box\n                key={index}\n                maxWidth={maxImagePreviewWidth}\n                ratio={imagePreviewRatio}\n                className={\n                  images && maxNumberOfImages > 1 && index !== images.length - 1\n                    ? 'hasRightMargin'\n                    : ''\n                }\n              >\n                <Image\n                  borderRadius={borderRadius}\n                  src={this.state.urlObjects[image.base64]}\n                  objectFit={objectFit}\n                >\n                  <RemoveButton\n                    onMouseDown={this.removeFocus}\n                    onClick={this.removeImage(image)}\n                    className=\"remove-button\"\n                  >\n                    <RemoveIcon\n                      name=\"close\"\n                      title={\n                        this.props.removeIconAriaTitle ||\n                        formatMessage(messages.a11y_removeImage)\n                      }\n                    />\n                  </RemoveButton>\n                </Image>\n              </Box>\n            ))}\n        </ContentWrapper>\n\n        <ErrorWrapper>\n          <Error text={errorMessage} />\n        </ErrorWrapper>\n      </Container>\n    );\n  }\n}\n\nexport default injectIntl<InputProps>(ImagesDropzone as any);\n","import React, { memo } from 'react';\n\n// i18n\nimport messages from './messages';\nimport { FormattedMessage } from 'utils/cl-intl';\n\n// components\nimport NotificationWrapper from 'containers/Navbar/components/NotificationMenu/components/NotificationWrapper';\n\n// services\nimport { INLPFlagNotificationData } from 'services/notifications';\n\ninterface Props {\n  notification: INLPFlagNotificationData;\n}\n\nconst NLPFlagNotification = memo<Props>((props) => {\n  const { notification } = props;\n\n  return (\n    <NotificationWrapper\n      linkTo={notification.attributes.flaggable_url}\n      timing={notification.attributes.created_at}\n      icon=\"flag\"\n      isRead={!!notification.attributes.read_at}\n    >\n      <FormattedMessage {...messages.inappropriateContentAutoDetected} />\n    </NotificationWrapper>\n  );\n});\n\nexport default NLPFlagNotification;\n","import { API_PATH } from 'containers/App/constants';\nimport streams, { IStreamParams } from 'utils/streams';\nimport { ImageSizes } from 'typings';\n\nexport interface IMentionData {\n  id: string;\n  type: 'user';\n  attributes: {\n    first_name: string;\n    last_name: string;\n    slug: string;\n    avatar: ImageSizes;\n  };\n}\n\nexport interface IMention {\n  data: IMentionData;\n}\n\nexport interface IMentions {\n  data: IMentionData[];\n}\n\nexport function mentionsStream(streamParams: IStreamParams | null = null) {\n  return streams.get<IMentions>({\n    apiEndpoint: `${API_PATH}/mentions/users`,\n    ...streamParams,\n    cacheStream: false,\n  });\n}\n\nexport function getMentionUsers(name: string, ideaId: string | null = null) {\n  return streams.get<IMentions>({\n    apiEndpoint: `${API_PATH}/mentions/users`,\n    queryParameters: {\n      mention: name,\n      idea_id: ideaId,\n    },\n    cacheStream: false,\n  });\n}\n","import { FC, useEffect } from 'react';\n\nimport { InjectedIntlProps } from 'react-intl';\nimport { InsertConfigurationOptions, ITab } from 'typings';\nimport { injectIntl } from 'utils/cl-intl';\n\nimport messages from './messages';\n\ninterface Props {\n  onData: (data: InsertConfigurationOptions<ITab>) => void;\n}\n\nconst Tab: FC<Props & InjectedIntlProps> = ({\n  onData,\n  intl: { formatMessage },\n}) => {\n  const tabName = 'ideaform';\n  useEffect(() => {\n    onData({\n      configuration: {\n        label: formatMessage(messages.inputFormTab),\n        url: 'ideaform',\n        feature: 'idea_custom_fields',\n        name: tabName,\n      },\n      insertAfterName: 'survey-results',\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return null;\n};\n\nexport default injectIntl(Tab);\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  permissionsEveryoneLabel: {\n    id: 'app.containers.admin.project.permissions.permissionsEveryoneLabel',\n    defaultMessage: 'Everyone',\n  },\n  permissionsAdministrators: {\n    id: 'app.containers.admin.project.permissions.permissionsAdministrators',\n    defaultMessage: 'Administrators',\n  },\n  permissionsSelectionLabel: {\n    id: 'app.containers.admin.project.permissions.permissionsSelectionLabel',\n    defaultMessage: 'Selection',\n  },\n  participationAccessRightsTitle: {\n    id: 'app.containers.AdminPage.ProjectEdit.participationAccessRightsTitle',\n    defaultMessage: 'Participation',\n  },\n  moderationRightsTitle: {\n    id: 'app.containers.AdminPage.ProjectEdit.moderationRightsTitle',\n    defaultMessage: 'Moderation',\n  },\n});\n","import { isFeatureActive } from 'components/FeatureFlag';\nimport { IAppConfigurationData } from 'services/appConfiguration';\nimport { IUserData } from 'services/users';\n\nexport interface IDestinationMap {}\n\nexport type IDestination = IDestinationMap[keyof IDestinationMap];\nexport const CATEGORIES = ['analytics', 'advertising', 'functional'] as const;\nexport type TCategory = typeof CATEGORIES[number];\n\nconst destinationConfigs: IDestinationConfig[] = [];\n\nexport interface IDestinationConfig {\n  /** A unique key, used to name the destination in the stored cookie */\n  key: IDestination;\n  /** Destinations are grouped in categories. Under which category should it be listed? */\n  category: TCategory | ((tenant: IAppConfigurationData) => TCategory);\n  /** The name of the feature flag that should be active for the destination to be functional */\n  feature_flag?: keyof IAppConfigurationData['attributes']['settings'];\n  /** Can the destination be active for the given user? */\n  hasPermission?: (user?: IUserData) => boolean;\n  /** Name of the destination shown in the UI */\n  name?: (tenant: IAppConfigurationData) => JSX.Element | string;\n}\n\nexport const getDestinationConfigs = () => {\n  return destinationConfigs;\n};\n\nexport const getDestinationConfig = (destination: IDestination) => {\n  return destinationConfigs.find((d) => d.key === destination);\n};\n\nexport const allCategories = () => {\n  return CATEGORIES;\n};\n\nexport const registerDestination = (destinationConfig: IDestinationConfig) => {\n  destinationConfigs.push(destinationConfig);\n};\n\nexport const isDestinationActive = (\n  config: IDestinationConfig,\n  tenant: IAppConfigurationData,\n  user?: IUserData | null\n): boolean => {\n  if (config?.feature_flag && !isFeatureActive(config.feature_flag, tenant)) {\n    return false;\n  }\n\n  if (config?.hasPermission && !config.hasPermission(user || undefined)) {\n    return false;\n  }\n\n  return true;\n};\n","import React, { PureComponent, Suspense, lazy } from 'react';\nimport { adopt } from 'react-adopt';\nimport { Subscription, combineLatest } from 'rxjs';\nimport { tap, first } from 'rxjs/operators';\nimport { uniq, has, includes } from 'lodash-es';\nimport { isNilOrError, isPage, endsWith } from 'utils/helperUtils';\nimport { withRouter, WithRouterProps } from 'react-router';\nimport clHistory from 'utils/cl-router/history';\nimport { parse } from 'qs';\nimport moment from 'moment';\nimport 'moment-timezone';\nimport 'intersection-observer';\nimport 'focus-visible';\nimport smoothscroll from 'smoothscroll-polyfill';\nimport { configureScope } from '@sentry/browser';\nimport GlobalStyle from 'global-styles';\n\n// constants\nimport { appLocalesMomentPairs, locales } from 'containers/App/constants';\n\n// context\nimport { PreviousPathnameContext } from 'context';\n\n// signup/in\nimport { openSignUpInModal } from 'components/SignUpIn/events';\n\n// verification\nimport { openVerificationModal } from 'components/Verification/verificationModalEvents';\n\n// analytics\nimport ConsentManager from 'components/ConsentManager';\nimport { trackPage } from 'utils/analytics';\n\n// components\nimport Meta from './Meta';\nimport Navbar from 'containers/Navbar';\nimport PlatformFooter from 'containers/PlatformFooter';\nimport ForbiddenRoute from 'components/routing/forbiddenRoute';\nimport LoadableModal from 'components/Loadable/Modal';\nimport LoadableUserDeleted from 'components/UserDeletedModalContent/LoadableUserDeleted';\nimport ErrorBoundary from 'components/ErrorBoundary';\nimport SignUpInModal from 'components/SignUpIn/SignUpInModal';\nimport Outlet from 'components/Outlet';\n\nimport { LiveAnnouncer } from 'react-aria-live';\nconst PostPageFullscreenModal = lazy(() => import('./PostPageFullscreenModal'));\n\n// auth\nimport HasPermission from 'components/HasPermission';\n\n// services\nimport { localeStream } from 'services/locale';\nimport { IUser } from 'services/users';\nimport {\n  authUserStream,\n  signOut,\n  signOutAndDeleteAccountPart2,\n} from 'services/auth';\nimport {\n  currentAppConfigurationStream,\n  IAppConfiguration,\n  IAppConfigurationStyle,\n} from 'services/appConfiguration';\n\n// resources\nimport GetFeatureFlag, {\n  GetFeatureFlagChildProps,\n} from 'resources/GetFeatureFlag';\n\n// events\nimport eventEmitter from 'utils/eventEmitter';\n\n// style\nimport styled, { ThemeProvider } from 'styled-components';\nimport { media, getTheme } from 'utils/styleUtils';\n\n// typings\nimport { SSOParams } from 'services/singleSignOn';\nimport { Locale } from 'typings';\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  position: relative;\n  background: #fff;\n`;\n\nconst InnerContainer = styled.div`\n  width: 100vw;\n  padding-top: ${(props) => props.theme.menuHeight}px;\n  min-height: calc(100vh - ${(props) => props.theme.menuHeight}px);\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n\n  ${media.smallerThanMaxTablet`\n    padding-top: ${(props) => props.theme.mobileTopBarHeight}px;\n    min-height: calc(100vh - ${(props) =>\n      props.theme.mobileTopBarHeight}px - ${(props) =>\n    props.theme.mobileMenuHeight}px);\n  `}\n`;\n\nexport interface IOpenPostPageModalEvent {\n  id: string;\n  slug: string;\n  type: 'idea' | 'initiative';\n}\n\ninterface InputProps {}\n\ninterface DataProps {\n  redirectsEnabled: GetFeatureFlagChildProps;\n}\n\ninterface Props extends WithRouterProps, InputProps, DataProps {}\n\ninterface State {\n  previousPathname: string | null;\n  tenant: IAppConfiguration | null;\n  authUser: IUser | null | undefined;\n  modalId: string | null;\n  modalSlug: string | null;\n  modalType: 'idea' | 'initiative' | null;\n  visible: boolean;\n  userDeletedModalOpened: boolean;\n  userActuallyDeleted: boolean;\n  signUpInModalMounted: boolean;\n  verificationModalMounted: boolean;\n  navbarRef: HTMLElement | null;\n  mobileNavbarRef: HTMLElement | null;\n  locale: Locale | null;\n}\n\nclass App extends PureComponent<Props, State> {\n  subscriptions: Subscription[];\n  unlisten: () => void;\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      previousPathname: null,\n      tenant: null,\n      authUser: undefined,\n      modalId: null,\n      modalSlug: null,\n      modalType: null,\n      visible: true,\n      userDeletedModalOpened: false,\n      userActuallyDeleted: false,\n      signUpInModalMounted: false,\n      verificationModalMounted: false,\n      navbarRef: null,\n      mobileNavbarRef: null,\n      locale: null,\n    };\n    this.subscriptions = [];\n  }\n\n  componentDidMount() {\n    const { redirectsEnabled } = this.props;\n    const authUser$ = authUserStream().observable;\n    const locale$ = localeStream().observable;\n    const tenant$ = currentAppConfigurationStream().observable;\n\n    this.unlisten = clHistory.listenBefore((newLocation) => {\n      const newPreviousPathname = location.pathname;\n      const pathsToIgnore = [\n        'sign-up',\n        'sign-in',\n        'complete-signup',\n        'invite',\n        'authentication-error',\n      ];\n      this.setState((state) => ({\n        previousPathname: !endsWith(newPreviousPathname, pathsToIgnore)\n          ? newPreviousPathname\n          : state.previousPathname,\n      }));\n      if (redirectsEnabled) {\n        this.handleCustomRedirect();\n      }\n      trackPage(newLocation.pathname);\n    });\n\n    trackPage(location.pathname);\n\n    smoothscroll.polyfill();\n\n    this.subscriptions = [\n      combineLatest(\n        authUser$.pipe(\n          tap((authUser) => {\n            if (isNilOrError(authUser)) {\n              signOut();\n            } else {\n              configureScope((scope) => {\n                scope.setUser({\n                  id: authUser.data.id,\n                });\n              });\n            }\n          })\n        ),\n        locale$,\n        tenant$.pipe(\n          tap((tenant) => {\n            moment.tz.setDefault(tenant.data.attributes.settings.core.timezone);\n\n            uniq(\n              tenant.data.attributes.settings.core.locales\n                .filter((locale) => locale !== 'en')\n                .map((locale) => appLocalesMomentPairs[locale])\n            ).forEach((locale) => require(`moment/locale/${locale}.js`));\n          })\n        )\n      ).subscribe(([authUser, locale, tenant]) => {\n        const momentLoc = appLocalesMomentPairs[locale] || 'en';\n        moment.locale(momentLoc);\n        this.setState({ tenant, authUser, locale });\n      }),\n\n      tenant$.pipe(first()).subscribe((tenant) => {\n        if (\n          tenant.data.attributes.style &&\n          tenant.data.attributes.style.customFontAdobeId\n        ) {\n          import('webfontloader').then((WebfontLoader) => {\n            WebfontLoader.load({\n              typekit: {\n                id: (tenant.data.attributes.style as IAppConfigurationStyle)\n                  .customFontAdobeId,\n              },\n            });\n          });\n        }\n      }),\n\n      eventEmitter\n        .observeEvent<IOpenPostPageModalEvent>('cardClick')\n        .subscribe(({ eventValue: { id, slug, type } }) => {\n          this.openPostPageModal(id, slug, type);\n        }),\n\n      eventEmitter.observeEvent('closeIdeaModal').subscribe(() => {\n        this.closePostPageModal();\n      }),\n\n      eventEmitter.observeEvent('tryAndDeleteProfile').subscribe(() => {\n        signOutAndDeleteAccountPart2().then((success) => {\n          if (success) {\n            this.setState({\n              userDeletedModalOpened: true,\n              userActuallyDeleted: true,\n            });\n          } else {\n            this.setState({\n              userDeletedModalOpened: true,\n              userActuallyDeleted: false,\n            });\n          }\n        });\n      }),\n    ];\n  }\n\n  componentDidUpdate(prevProps: Props, prevState: State) {\n    const {\n      authUser,\n      tenant,\n      signUpInModalMounted,\n      verificationModalMounted,\n    } = this.state;\n    const { redirectsEnabled } = this.props;\n    const { pathname, search } = this.props.location;\n    const isAuthError = endsWith(pathname, 'authentication-error');\n    const isInvitation = endsWith(pathname, '/invite');\n    const signUpInModalHasMounted =\n      !prevState.signUpInModalMounted && signUpInModalMounted;\n\n    if (\n      redirectsEnabled &&\n      (prevState.tenant !== tenant ||\n        prevProps.location.pathname !== this.props.location.pathname)\n    ) {\n      this.handleCustomRedirect();\n    }\n\n    // here we check all the possible conditions that could potentially trigger the sign-up and/or verification flow to appear\n    if (\n      // when the user is redirected to the '/authentication-error' url (e.g. when SSO fails)\n      (signUpInModalHasMounted && isAuthError) ||\n      // when the user is sent to the '/invite' url (e.g. when the user clicks on an invitation link)\n      (signUpInModalHasMounted && isInvitation) ||\n      // when -both- the signup modal component has mounted and the authUser stream has initiated\n      // we proceed to the code below to check if any sign-up related url params are present in the url\n      (signUpInModalHasMounted && !isNilOrError(authUser)) ||\n      (prevState.authUser === undefined &&\n        !isNilOrError(authUser) &&\n        signUpInModalMounted)\n    ) {\n      const urlSearchParams = (parse(search, {\n        ignoreQueryPrefix: true,\n      }) as any) as SSOParams;\n      // this constant represents the 'token' param that can optionally be included in the url\n      // when a user gets sent to the platform through an invitation link (e.g. '/invite?token=123456)\n      const token = urlSearchParams?.['token'] as string | undefined;\n\n      // shouldCompleteRegistration is set to true when the authUser registration_completed_at attribute is not yet set.\n      // when this attribute is undefined the sign-up process has not yet been completed and the user account is not yet valid!\n      const shouldCompleteRegistration = !authUser?.data?.attributes\n        ?.registration_completed_at;\n\n      const shouldConfirm =\n        !!authUser?.data?.attributes?.confirmation_required &&\n        !!shouldCompleteRegistration;\n\n      // see services/singleSignOn.ts for the typed interface of all the sso related url params the url can potentially contain\n      const {\n        sso_response,\n        sso_flow,\n        sso_pathname,\n        sso_verification,\n        sso_verification_action,\n        sso_verification_id,\n        sso_verification_type,\n      } = urlSearchParams;\n\n      if (isAuthError || isInvitation) {\n        // remove all url params from the url as relevant params have already been captured in the code above.\n        // this avoids possbile polution by any remaining url params later on in the process.\n        window.history.replaceState(null, '', '/');\n      }\n\n      // 1. sso_response indicates the user got sent back to the platform from an external sso page (facebook, google, ...)\n      // 2. shouldCompleteRegistration indicates the authUser registration_completed_at attribute is noy yer set and the user still needs to complete their registration\n      // 3. isInvitation indicates the user got sent to the platform through an invitation link\n      if (\n        sso_response ||\n        shouldCompleteRegistration ||\n        isInvitation ||\n        shouldConfirm\n      ) {\n        // if the authUser verified attr is set to false but the sso_verification param is present (= set to the string 'true', not a boolean because it's a url param)\n        // the user still needs to complete the verification step\n        const shouldVerify =\n          !authUser?.data?.attributes?.verified && sso_verification;\n\n        // if the sso_pathname is present we redirect the user to it\n        // we do this to sent the user back to the page they came from after\n        // having been redirected to an external SSO service (e.g. '/project/123' -> facebook sign-on -> back to '/project/123')\n        if (!isAuthError && sso_pathname) {\n          clHistory.replace(sso_pathname);\n        }\n\n        // we do not open the modal when the user gets sent to the '/sign-up' or '/sign-in' urls because\n        // on those pages we show the sign-up-in flow directly on the page and not as a modal.\n        // otherwise, when any of the above-defined conditions is set to true, we do trigger the modal\n        if (\n          !endsWith(sso_pathname, ['sign-up', 'sign-in']) &&\n          (isAuthError ||\n            (isInvitation && shouldCompleteRegistration) ||\n            shouldConfirm ||\n            shouldVerify ||\n            shouldCompleteRegistration)\n        ) {\n          openSignUpInModal({\n            isInvitation,\n            token,\n            flow: isAuthError && sso_flow ? sso_flow : 'signup',\n            error: isAuthError,\n            verification: !!sso_verification,\n            requiresConfirmation: shouldConfirm,\n            modalNoCloseSteps: ['confirmation'],\n            verificationContext:\n              sso_verification &&\n              sso_verification_action &&\n              sso_verification_id &&\n              sso_verification_type\n                ? {\n                    action: sso_verification_action as any,\n                    id: sso_verification_id as any,\n                    type: sso_verification_type as any,\n                  }\n                : undefined,\n          });\n        }\n      }\n    }\n\n    // when -both- the authUser is initiated and the evrification modal component mounted\n    // we check if a 'verification_success' or 'verification_error' url param is present.\n    // if so, we open the verication modal with the appropriate step\n    if (\n      !isNilOrError(authUser) &&\n      verificationModalMounted &&\n      (prevState.authUser === undefined || !prevState.verificationModalMounted)\n    ) {\n      const urlSearchParams = parse(search, { ignoreQueryPrefix: true });\n\n      if (has(urlSearchParams, 'verification_success')) {\n        window.history.replaceState(null, '', window.location.pathname);\n        openVerificationModal({ step: 'success' });\n      }\n\n      if (\n        has(urlSearchParams, 'verification_error') &&\n        urlSearchParams.verification_error === 'true'\n      ) {\n        window.history.replaceState(null, '', window.location.pathname);\n        openVerificationModal({\n          step: 'error',\n          error: this.props.location.query?.error || null,\n          context: null,\n        });\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    this.unlisten();\n    this.subscriptions.forEach((subscription) => subscription.unsubscribe());\n  }\n\n  handleCustomRedirect() {\n    const {\n      location: { pathname },\n    } = this.props;\n    const { tenant } = this.state;\n    const urlSegments = pathname.replace(/^\\/+/g, '').split('/');\n\n    if (!isNilOrError(tenant) && tenant.data.attributes.settings.redirects) {\n      const { rules } = tenant.data.attributes.settings.redirects;\n\n      rules.forEach((rule) => {\n        if (\n          urlSegments.length === 2 &&\n          includes(locales, urlSegments[0]) &&\n          urlSegments[1] === rule.path\n        ) {\n          window.location.href = rule.target;\n        }\n      });\n    }\n  }\n\n  openPostPageModal = (\n    id: string,\n    slug: string,\n    type: 'idea' | 'initiative'\n  ) => {\n    this.setState({\n      modalId: id,\n      modalSlug: slug,\n      modalType: type,\n    });\n  };\n\n  closePostPageModal = () => {\n    this.setState({\n      modalId: null,\n      modalSlug: null,\n      modalType: null,\n    });\n  };\n\n  closeUserDeletedModal = () => {\n    this.setState({ userDeletedModalOpened: false });\n  };\n\n  setNavbarRef = (navbarRef: HTMLElement) => {\n    this.setState({ navbarRef });\n  };\n\n  setMobileNavigationRef = (mobileNavbarRef: HTMLElement) => {\n    this.setState({ mobileNavbarRef });\n  };\n\n  handleModalMounted = (id: string) => {\n    if (id === 'verification') {\n      this.setState({ verificationModalMounted: true });\n    }\n  };\n\n  handleSignUpInModalMounted = () => {\n    this.setState({ signUpInModalMounted: true });\n  };\n\n  render() {\n    const { location, children } = this.props;\n    const {\n      previousPathname,\n      tenant,\n      modalId,\n      modalSlug,\n      modalType,\n      visible,\n      userDeletedModalOpened,\n      userActuallyDeleted,\n      navbarRef,\n      mobileNavbarRef,\n    } = this.state;\n    const isAdminPage = isPage('admin', location.pathname);\n    const isInitiativeFormPage = isPage('initiative_form', location.pathname);\n    const isIdeaFormPage = isPage('idea_form', location.pathname);\n    const isIdeaEditPage = isPage('idea_edit', location.pathname);\n    const isInitiativeEditPage = isPage('initiative_edit', location.pathname);\n    const isSignInPage = isPage('sign_in', location.pathname);\n    const isSignUpPage = isPage('sign_up', location.pathname);\n    const theme = getTheme(tenant);\n    const showFooter =\n      !isAdminPage &&\n      !isIdeaFormPage &&\n      !isInitiativeFormPage &&\n      !isIdeaEditPage &&\n      !isInitiativeEditPage;\n    const showShortFeedback = !isSignInPage && !isSignUpPage;\n\n    return (\n      <>\n        {tenant && visible && (\n          <PreviousPathnameContext.Provider value={previousPathname}>\n            <ThemeProvider\n              theme={{ ...theme, isRtl: !!this.state.locale?.startsWith('ar') }}\n            >\n              <LiveAnnouncer>\n                <GlobalStyle />\n\n                <Container>\n                  <Meta />\n\n                  <ErrorBoundary>\n                    <Suspense fallback={null}>\n                      <PostPageFullscreenModal\n                        type={modalType}\n                        postId={modalId}\n                        slug={modalSlug}\n                        close={this.closePostPageModal}\n                        navbarRef={navbarRef}\n                        mobileNavbarRef={mobileNavbarRef}\n                      />\n                    </Suspense>\n                  </ErrorBoundary>\n\n                  <ErrorBoundary>\n                    <LoadableModal\n                      opened={userDeletedModalOpened}\n                      close={this.closeUserDeletedModal}\n                    >\n                      <LoadableUserDeleted\n                        userActuallyDeleted={userActuallyDeleted}\n                      />\n                    </LoadableModal>\n                  </ErrorBoundary>\n\n                  <ErrorBoundary>\n                    <Outlet\n                      id=\"app.containers.App.signUpInModal\"\n                      onMounted={this.handleSignUpInModalMounted}\n                    >\n                      {(outletComponents) => {\n                        return outletComponents.length > 0 ? (\n                          <>{outletComponents}</>\n                        ) : (\n                          <SignUpInModal\n                            onMounted={this.handleSignUpInModalMounted}\n                          />\n                        );\n                      }}\n                    </Outlet>\n                  </ErrorBoundary>\n\n                  <Outlet\n                    id=\"app.containers.App.modals\"\n                    onMounted={this.handleModalMounted}\n                  />\n\n                  <ErrorBoundary>\n                    <div id=\"modal-portal\" />\n                  </ErrorBoundary>\n\n                  <ErrorBoundary>\n                    <div id=\"topbar-portal\" />\n                  </ErrorBoundary>\n\n                  <ErrorBoundary>\n                    <ConsentManager />\n                  </ErrorBoundary>\n\n                  <ErrorBoundary>\n                    <Navbar\n                      setRef={this.setNavbarRef}\n                      setMobileNavigationRef={this.setMobileNavigationRef}\n                    />\n                  </ErrorBoundary>\n\n                  <InnerContainer>\n                    <HasPermission\n                      item={{ type: 'route', path: location.pathname }}\n                      action=\"access\"\n                    >\n                      <ErrorBoundary>{children}</ErrorBoundary>\n                      <HasPermission.No>\n                        <ForbiddenRoute />\n                      </HasPermission.No>\n                    </HasPermission>\n                  </InnerContainer>\n\n                  {showFooter && (\n                    <PlatformFooter showShortFeedback={showShortFeedback} />\n                  )}\n                </Container>\n              </LiveAnnouncer>\n            </ThemeProvider>\n          </PreviousPathnameContext.Provider>\n        )}\n      </>\n    );\n  }\n}\n\nconst Data = adopt<DataProps, InputProps>({\n  redirectsEnabled: <GetFeatureFlag name=\"redirects\" />,\n});\n\nconst AppWithHoC = withRouter(App);\n\nexport default (inputProps: InputProps) => (\n  <Data>{(dataProps) => <AppWithHoC {...dataProps} {...inputProps} />}</Data>\n);\n","import React from 'react';\nimport { Icon } from 'cl2-component-library';\nimport { colors } from 'utils/styleUtils';\nimport CSSTransition from 'react-transition-group/CSSTransition';\nimport styled from 'styled-components';\n\nimport {\n  HeaderContentCompleteProfile,\n  Left,\n  Right,\n  Text,\n  Icons,\n  AvatarAndShield,\n  AcceptButton,\n  SkipButton,\n  StyledAvatar,\n} from 'containers/LandingPage/SignedInHeader';\nimport messages from 'containers/LandingPage/messages';\n\nimport { FormattedMessage } from 'utils/cl-intl';\n\nconst ShieldIcon = styled(Icon)`\n  fill: ${colors.label};\n  width: 50px;\n  height: 56px;\n  margin-left: -3px;\n`;\n\nconst VerificationOnboardingStep = ({\n  onSkip,\n  onAccept,\n  onboardingCampaigns,\n  authUser,\n  contentTimeout,\n  contentDelay,\n  theme,\n}) => {\n  const handleSkip = () => onSkip(onboardingCampaigns.name)();\n  const handleAccept = () => onAccept(onboardingCampaigns.name);\n\n  return (\n    <CSSTransition\n      classNames=\"content\"\n      in={onboardingCampaigns.name === 'verification'}\n      timeout={\n        onboardingCampaigns.name === 'verification'\n          ? contentTimeout + contentDelay\n          : contentTimeout\n      }\n      mountOnEnter={true}\n      unmountOnExit={true}\n      enter={true}\n      exit={true}\n    >\n      <HeaderContentCompleteProfile id=\"e2e-signed-in-header-verification\">\n        <Left>\n          <Icons>\n            <AvatarAndShield aria-hidden>\n              <StyledAvatar\n                userId={authUser?.id}\n                size={50}\n                fillColor=\"#fff\"\n                padding={0}\n                borderThickness={0}\n              />\n              <ShieldIcon name=\"verify_light\" />\n            </AvatarAndShield>\n          </Icons>\n          <Text>\n            <FormattedMessage {...messages.verifyYourIdentity} tagName=\"h2\" />\n          </Text>\n        </Left>\n\n        <Right>\n          <SkipButton\n            buttonStyle=\"primary-outlined\"\n            text={<FormattedMessage {...messages.doItLater} />}\n            onClick={handleSkip}\n            borderColor=\"#fff\"\n            textColor=\"#fff\"\n            fontWeight=\"500\"\n            className=\"e2e-signed-in-header-verification-skip-btn\"\n          />\n          <AcceptButton\n            text={<FormattedMessage {...messages.verifyNow} />}\n            buttonStyle=\"primary-inverse\"\n            onClick={handleAccept}\n            textColor={theme.colorMain}\n            textHoverColor={theme.colorMain}\n            fontWeight=\"500\"\n            className=\"e2e-signed-in-header-accept-btn\"\n          />\n        </Right>\n      </HeaderContentCompleteProfile>\n    </CSSTransition>\n  );\n};\n\nexport default VerificationOnboardingStep;\n","import { colors, fontSizes, defaultStyles } from 'utils/styleUtils';\n\nexport function getSelectStyles(borderColor = colors.border) {\n  return {\n    container: (base) => ({\n      ...base,\n    }),\n    input: (base) => ({\n      ...base,\n    }),\n    control: (base, { isFocused }) => ({\n      ...base,\n      fontSize: `${fontSizes.base}px`,\n      borderWidth: '1px',\n      borderColor: isFocused ? colors.focussedBorder : `${borderColor}`,\n      borderRadius: '3px',\n      minHeight: '48px',\n      backgroundColor: '#fff',\n      boxShadow: isFocused ? defaultStyles.boxShadowFocused : 'none',\n      cursor: 'pointer',\n      '&:hover': {\n        borderColor: isFocused ? colors.focussedBorder : colors.hoveredBorder,\n      },\n    }),\n    indicatorSeparator: () => ({\n      display: 'none',\n    }),\n    dropdownIndicator: (base, { isFocused }) => ({\n      ...base,\n      color: isFocused ? colors.focussedBorder : `${borderColor}`,\n      '&:hover': {\n        color: isFocused ? colors.focussedBorder : colors.hoveredBorder,\n      },\n    }),\n    placeholder: (base) => ({\n      ...base,\n      color: '#999',\n    }),\n    option: (base, { isFocused }) => ({\n      ...base,\n      ':active': null,\n      fontSize: `${fontSizes.base}px`,\n      color: isFocused ? colors.text : colors.label,\n      backgroundColor: isFocused ? colors.clDropdownHoverBackground : '#fff',\n      cursor: 'pointer',\n    }),\n    multiValue: (base) => ({\n      ...base,\n      borderRadius: '3px',\n    }),\n    multiValueLabel: (base) => ({\n      ...base,\n      fontSize: `${fontSizes.base}px`,\n      padding: '6px',\n      paddingLeft: '10px',\n    }),\n    multiValueRemove: (base) => ({\n      ...base,\n      fontSize: `${fontSizes.large}px`,\n      ':hover': {\n        background: '#ccc',\n      },\n    }),\n  };\n}\n\nexport default getSelectStyles();\n","import Loadable from 'react-loadable';\nimport { LoadableLoadingAdmin } from 'components/UI/LoadableLoading';\n\nexport default () => ({\n  path: 'emails',\n  component: Loadable({\n    loader: () => import('./'),\n    loading: LoadableLoadingAdmin,\n    delay: 500,\n  }),\n  indexRoute: {\n    component: Loadable({\n      loader: () => import('./custom/All'),\n      loading: LoadableLoadingAdmin,\n      delay: 500,\n    }),\n  },\n  childRoutes: [\n    {\n      path: 'custom',\n      component: Loadable({\n        loader: () => import('./custom/All'),\n        loading: () => null,\n      }),\n    },\n    {\n      path: 'custom/new',\n      component: Loadable({\n        loader: () => import('./custom/New'),\n        loading: () => null,\n      }),\n    },\n    {\n      path: 'custom/:campaignId/edit',\n      component: Loadable({\n        loader: () => import('./custom/Edit'),\n        loading: () => null,\n      }),\n    },\n    {\n      path: 'custom/:campaignId',\n      component: Loadable({\n        loader: () => import('./custom/Show'),\n        loading: () => null,\n      }),\n    },\n    {\n      path: 'automated',\n      component: Loadable({\n        loader: () => import('./automated'),\n        loading: () => null,\n      }),\n    },\n  ],\n});\n","import { API_PATH } from 'containers/App/constants';\nimport streams, { IStreamParams } from 'utils/streams';\nimport { Multiloc, ILinks } from 'typings';\n\nconst apiEndpoint = `${API_PATH}/events`;\n\nexport interface IEventData {\n  id: string;\n  type: string;\n  attributes: {\n    title_multiloc: Multiloc;\n    description_multiloc: Multiloc;\n    location_multiloc: Multiloc;\n    start_at: string;\n    end_at: string;\n    created_at: string;\n    updated_at: string;\n  };\n  relationships: {\n    project: {\n      data: {\n        id: string;\n        type: string;\n      };\n    };\n  };\n}\n\nexport interface IEvent {\n  data: IEventData;\n}\n\nexport interface IEvents {\n  data: IEventData[];\n  links: ILinks;\n}\n\nexport interface IUpdatedEventProperties {\n  project_id?: string;\n  title_multiloc?: Multiloc;\n  description_multiloc?: Multiloc;\n  location_multiloc?: Multiloc;\n  start_at?: string;\n  end_at?: string;\n}\n\nexport type IEventsStreamParams = IStreamParams & {\n  queryParameters: {\n    project_ids?: string[];\n    start_at_lt?: string;\n    start_at_gteq?: string;\n    'page[number]'?: number;\n    'page[size]'?: number;\n    project_publication_statuses?: string[];\n  };\n};\n\nexport function eventsStream(streamParams: IEventsStreamParams | null = null) {\n  return streams.get<IEvents>({\n    apiEndpoint: `${API_PATH}/events`,\n    ...streamParams,\n  });\n}\n\nexport function eventStream(\n  eventId: string,\n  streamParams: IStreamParams | null = null\n) {\n  return streams.get<IEvent>({\n    apiEndpoint: `${apiEndpoint}/${eventId}`,\n    ...streamParams,\n  });\n}\n\nexport function updateEvent(eventId: string, object: IUpdatedEventProperties) {\n  return streams.update<IEvent>(`${apiEndpoint}/${eventId}`, eventId, {\n    event: object,\n  });\n}\n\nexport async function addEvent(\n  projectId: string,\n  object: IUpdatedEventProperties\n) {\n  const response = await streams.add<IEvent>(\n    `${API_PATH}/projects/${projectId}/events`,\n    {\n      event: object,\n    }\n  );\n\n  await streams.fetchAllWith({\n    apiEndpoint: [apiEndpoint],\n  });\n\n  return response;\n}\n\nexport function deleteEvent(eventId: string) {\n  return streams.delete(`${apiEndpoint}/${eventId}`, eventId);\n}\n","import React, { memo } from 'react';\nimport { IStatusChangeOnVotedInitiativeNotificationData } from 'services/notifications';\nimport messages from '../../messages';\nimport { FormattedMessage } from 'utils/cl-intl';\nimport T from 'components/T';\nimport NotificationWrapper from '../NotificationWrapper';\n\ninterface Props {\n  notification: IStatusChangeOnVotedInitiativeNotificationData;\n}\n\nconst StatusChangeOnVotedInitiativeNotification = memo<Props>((props) => {\n  const { notification } = props;\n\n  return (\n    <NotificationWrapper\n      linkTo={`/initiatives/${notification.attributes.post_slug}`}\n      timing={notification.attributes.created_at}\n      icon=\"notification_status\"\n      isRead={!!notification.attributes.read_at}\n    >\n      <FormattedMessage\n        {...messages.statusChangeOnVotedInitiative}\n        values={{\n          status: (\n            <T\n              value={notification.attributes.initiative_status_title_multiloc}\n            />\n          ),\n        }}\n      />\n    </NotificationWrapper>\n  );\n});\n\nexport default StatusChangeOnVotedInitiativeNotification;\n","import React from 'react';\nimport { IProjectData } from 'services/projects';\nimport Link from 'utils/cl-router/Link';\n\n// i18n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from './messages';\nimport { getInputTermMessage } from 'utils/i18n';\n\ninterface InputProps {\n  project: IProjectData;\n}\n\ninterface Props extends InputProps {}\n\nconst ContinuousProject = ({ project }: Props) => (\n  <>\n    {(project.attributes.participation_method === 'ideation' ||\n      project.attributes.participation_method === 'budgeting') && (\n      <li>\n        <Link to={`/projects/${project.attributes.slug}/ideas`}>\n          <FormattedMessage\n            {...getInputTermMessage(project.attributes.input_term, {\n              idea: messages.projectIdeas,\n              option: messages.options,\n              project: messages.projects,\n              question: messages.questions,\n              issue: messages.issues,\n              contribution: messages.contributions,\n            })}\n          />\n        </Link>\n      </li>\n    )}\n    {project.attributes.participation_method === 'poll' && (\n      <li>\n        <Link to={`/projects/${project.attributes.slug}/poll`}>\n          <FormattedMessage {...messages.projectPoll} />\n        </Link>\n      </li>\n    )}\n    {project.attributes.participation_method === 'survey' && (\n      <li>\n        <Link to={`/projects/${project.attributes.slug}/info`}>\n          <FormattedMessage {...messages.projectSurvey} />\n        </Link>\n      </li>\n    )}\n  </>\n);\n\nexport default ContinuousProject;\n","import React, { memo, useCallback, useState, useEffect } from 'react';\nimport { isNilOrError } from 'utils/helperUtils';\n\n// components\nimport Modal from 'components/UI/Modal';\nimport VerificationSuccess from './VerificationSuccess';\nimport VerificationError from './VerificationError';\nimport VerificationSteps from './VerificationSteps';\n\n// hooks\nimport useIsMounted from 'hooks/useIsMounted';\nimport useAuthUser from 'hooks/useAuthUser';\nimport useWindowSize from 'hooks/useWindowSize';\n\n// events\nimport {\n  ContextShape,\n  InitiativeContext,\n  IVerificationError,\n  TVerificationSteps,\n} from 'components/Verification/verificationModalEvents';\n\nimport {\n  openVerificationModal$,\n  closeVerificationModal$,\n  closeVerificationModal,\n} from './verificationModalEvents';\n\n// style\nimport styled from 'styled-components';\nimport { viewportWidths } from 'utils/styleUtils';\nimport ErrorBoundary from 'components/ErrorBoundary';\n\n// typings\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  padding-top: 40px;\n  padding-left: 20px;\n  padding-right: 20px;\n`;\n\nexport function isInitiativeContext(\n  obj: ContextShape\n): obj is InitiativeContext {\n  return (obj as InitiativeContext)?.type === 'initiative';\n}\n\nexport interface Props {\n  className?: string;\n  onMounted: (id?: string) => void;\n}\n\nconst VerificationModal = memo<Props>(({ className, onMounted }) => {\n  const authUser = useAuthUser();\n  const { windowWidth } = useWindowSize();\n\n  const isMounted = useIsMounted();\n  const [activeStep, setActiveStep] = useState<TVerificationSteps>(null);\n  const [context, setContext] = useState<ContextShape>(null);\n  const [error, setError] = useState<IVerificationError>(null);\n  const opened = !!activeStep;\n\n  const smallerThanSmallTablet = windowWidth <= viewportWidths.smallTablet;\n\n  useEffect(() => {\n    if (isMounted() && onMounted) {\n      onMounted('verification');\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [onMounted]);\n\n  useEffect(() => {\n    const subscriptions = [\n      openVerificationModal$.subscribe(\n        ({ eventValue: { step, context, error } }) => {\n          if (!isNilOrError(authUser)) {\n            setActiveStep(step);\n            setContext(context);\n            error && setError(error);\n          }\n        }\n      ),\n      closeVerificationModal$.subscribe(() => {\n        setActiveStep(null);\n        setContext(null);\n      }),\n    ];\n\n    return () =>\n      subscriptions.forEach((subscription) => subscription.unsubscribe());\n  }, [authUser]);\n\n  const onClose = useCallback(() => {\n    closeVerificationModal();\n  }, []);\n\n  const onCompleted = useCallback(() => {\n    setActiveStep('success');\n    setContext(null);\n  }, []);\n\n  const onError = useCallback(() => {\n    setActiveStep('error');\n    setContext(null);\n  }, []);\n\n  return (\n    <ErrorBoundary>\n      <Modal\n        width={820}\n        padding={\n          smallerThanSmallTablet ? '0px 5px 0px 5px' : '0px 20px 0px 20px'\n        }\n        opened={opened}\n        close={onClose}\n        closeOnClickOutside={false}\n      >\n        <Container id=\"e2e-verification-modal\" className={className || ''}>\n          {activeStep && activeStep !== 'success' && activeStep !== 'error' && (\n            <VerificationSteps\n              context={context}\n              inModal={true}\n              showHeader={true}\n              initialActiveStep={activeStep}\n              onCompleted={onCompleted}\n              onError={onError}\n            />\n          )}\n\n          {activeStep === 'success' && (\n            <VerificationSuccess onClose={onClose} />\n          )}\n\n          {activeStep === 'error' && <VerificationError error={error} />}\n        </Container>\n      </Modal>\n    </ErrorBoundary>\n  );\n});\n\nexport default VerificationModal;\n","import React from 'react';\n\n// components\nimport { Radio, IconTooltip } from 'cl2-component-library';\nimport Error from 'components/UI/Error';\nimport { SectionField, SubSectionTitle } from 'components/admin/Section';\n\n// i18n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from '../../messages';\n\n// typings\nimport { ApiErrors } from '..';\n\ninterface Props {\n  presentation_mode: 'card' | 'map' | null | undefined;\n  apiErrors: ApiErrors;\n  handleIdeasDisplayChange: (presentation_mode: 'map' | 'card') => void;\n}\n\nexport default ({\n  presentation_mode,\n  apiErrors,\n  handleIdeasDisplayChange,\n}: Props) => (\n  <SectionField>\n    <SubSectionTitle>\n      <FormattedMessage {...messages.inputsDefaultView} />\n      <IconTooltip\n        content={<FormattedMessage {...messages.inputsDefaultViewTooltip} />}\n      />\n    </SubSectionTitle>\n    {['card', 'map'].map((key) => (\n      <Radio\n        key={key}\n        onChange={handleIdeasDisplayChange}\n        currentValue={presentation_mode}\n        value={key}\n        name=\"presentation_mode\"\n        id={`presentation_mode-${key}`}\n        label={<FormattedMessage {...messages[`${key}Display`]} />}\n      />\n    ))}\n    <Error apiErrors={apiErrors && apiErrors.presentation_mode} />\n  </SectionField>\n);\n","import React from 'react';\nimport useAppConfiguration from 'hooks/useAppConfiguration';\nimport { isNilOrError } from 'utils/helperUtils';\n\n// i18n\nimport { injectIntl } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\nimport messages from './messages';\n\nconst FormattedCurrency = ({ intl: { formatMessage } }: InjectedIntlProps) => {\n  const appConfiguration = useAppConfiguration();\n\n  if (!isNilOrError(appConfiguration)) {\n    const currency = appConfiguration.data.attributes.settings.core.currency;\n\n    // custom implementations for custom currencies\n    // see appConfiguration.ts for all currencies\n    if (currency === 'TOK') {\n      return <>{formatMessage(messages.tokens)}</>;\n    } else if (currency === 'CRE') {\n      return <>{formatMessage(messages.credits)}</>;\n    } else {\n      return <>{currency}</>;\n    }\n  }\n\n  return null;\n};\n\nexport default injectIntl(FormattedCurrency);\n","import React from 'react';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { ModuleConfiguration } from 'utils/moduleUtils';\nimport CustomFieldGraphs from './admin/components/CustomFieldGraphs';\nimport RegistrationFieldsToGraphs from './admin/components/RegistrationFieldsToGraphs';\nimport AllCustomFields from './admin/components/CustomFields/All';\n\nimport CustomFieldsStep from './citizen/components/CustomFieldsStep';\nimport UserCustomFieldsForm from './citizen/components/UserCustomFieldsForm';\nimport useUserCustomFieldsSchema from './hooks/useUserCustomFieldsSchema';\nimport RegistrationQuestions from './admin/components/RegistrationQuestions';\nimport {\n  IUsersByBirthyear,\n  IUsersByDomicile,\n  IUsersByRegistrationField,\n} from './services/stats';\nimport UserCustomFieldsSignUpInModal from './citizen/components/UserCustomFieldsSignUpInModal';\n\ndeclare module 'resources/GetSerieFromStream' {\n  export interface ISupportedDataTypeMap {\n    usersByBirthyear: IUsersByBirthyear;\n  }\n}\n\ndeclare module 'containers/Admin/dashboard/users/charts/BarChartByCategory' {\n  export interface ISupportedDataTypeMap {\n    usersByBirthyear: IUsersByBirthyear;\n    usersByRegistrationField: IUsersByRegistrationField;\n    usersByDomicile: IUsersByDomicile;\n  }\n}\n\ndeclare module 'containers/Admin/dashboard/users/charts/HorizontalBarChart' {\n  export interface ISupportedDataTypeMap {\n    usersByBirthyear: IUsersByBirthyear;\n    usersByRegistrationField: IUsersByRegistrationField;\n    usersByDomicile: IUsersByDomicile;\n  }\n}\n\ndeclare module 'containers/Admin/dashboard/users/charts/PieChartByCategory' {\n  export interface ISupportedDataTypeMap {\n    usersByBirthyear: IUsersByBirthyear;\n    usersByRegistrationField: IUsersByRegistrationField;\n  }\n}\n\nconst RenderOnCustomFields = ({ children }) => {\n  const userCustomFieldsSchema = useUserCustomFieldsSchema();\n\n  const hasCustomFields =\n    !isNilOrError(userCustomFieldsSchema) &&\n    userCustomFieldsSchema.hasCustomFields;\n\n  if (!hasCustomFields) return null;\n\n  return <>{children}</>;\n};\n\nconst configuration: ModuleConfiguration = {\n  routes: {\n    admin: [\n      {\n        path: 'settings/registration/custom-fields',\n        container: () => import('./admin/containers/CustomFields/'),\n        childRoutes: [\n          {\n            path: 'new',\n            container: () =>\n              import(\n                './admin/containers/CustomFields/RegistrationCustomFieldNew'\n              ),\n          },\n          {\n            path: ':userCustomFieldId',\n            container: () =>\n              import(\n                './admin/containers/CustomFields/RegistrationCustomFieldEdit'\n              ),\n            childRoutes: [\n              {\n                path: 'field-settings',\n                container: () =>\n                  import(\n                    './admin/containers/CustomFields/RegistrationCustomFieldEdit/RegistrationCustomFieldSettings'\n                  ),\n              },\n              {\n                path: 'options',\n                container: () =>\n                  import(\n                    './admin/containers/CustomFields/RegistrationCustomFieldEdit/RegistrationCustomFieldOptions'\n                  ),\n              },\n              {\n                path: 'options/new',\n                container: () =>\n                  import(\n                    './admin/containers/CustomFields/RegistrationCustomFieldEdit/RegistrationCustomFieldOptionsNew'\n                  ),\n              },\n              {\n                path: 'options/:userCustomFieldOptionId',\n                container: () =>\n                  import(\n                    './admin/containers/CustomFields/RegistrationCustomFieldEdit/RegistrationCustomFieldOptionsEdit'\n                  ),\n              },\n            ],\n          },\n        ],\n      },\n    ],\n  },\n  outlets: {\n    'app.containers.Admin.dashboard.users.graphs': RegistrationFieldsToGraphs,\n    'app.components.SignUpIn.SignUp.step': ({\n      metaData: _metaData,\n      ...props\n    }) => <CustomFieldsStep {...props} />,\n    'app.containers.Admin.dashboard.reports.ProjectReport.graphs': CustomFieldGraphs,\n    'app.containers.UserEditPage.ProfileForm.forms': (props) => (\n      <RenderOnCustomFields>\n        <UserCustomFieldsForm {...props} />\n      </RenderOnCustomFields>\n    ),\n    'app.containers.Admin.settings.registration': AllCustomFields,\n    'app.containers.Admin.settings.registrationHelperText': RegistrationQuestions,\n    'app.containers.App.signUpInModal': (props) => (\n      <UserCustomFieldsSignUpInModal {...props} />\n    ),\n  },\n};\n\nexport default configuration;\n","import { FC } from 'react';\nimport useAdminPublications, {\n  InputProps as HookProps,\n  IUseAdminPublicationsOutput,\n} from 'hooks/useAdminPublications';\nimport { omit } from 'lodash-es';\nimport useAdminPublicationsPrefetchProjects from 'hooks/useAdminPublicationPrefetchProjects';\n\nexport interface GetAdminPublicationsChildProps\n  extends IUseAdminPublicationsOutput {}\n\ntype children = (\n  renderProps: IUseAdminPublicationsOutput\n) => JSX.Element | null;\n\ninterface Props extends HookProps {\n  prefetchProjects?: boolean;\n}\n\nconst GetAdminPublications: FC<Props> = (props) => {\n  let adminPublications: IUseAdminPublicationsOutput;\n  if (props.prefetchProjects) {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    adminPublications = useAdminPublicationsPrefetchProjects(\n      omit(props, ['children', 'prefetchProjects'])\n    );\n  } else {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    adminPublications = useAdminPublications(\n      omit(props, ['children', 'prefetchProjects'])\n    );\n  }\n  return (props.children as children)(adminPublications);\n};\n\nexport default GetAdminPublications;\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  closeModal: {\n    id: 'app.components.Modal.closeModal',\n    defaultMessage: 'Close modal',\n  },\n});\n","import React, { memo } from 'react';\nimport { IAdminRightsReceivedNotificationData } from 'services/notifications';\nimport messages from '../../messages';\nimport { FormattedMessage } from 'utils/cl-intl';\nimport NotificationWrapper from '../NotificationWrapper';\n\ninterface Props {\n  notification: IAdminRightsReceivedNotificationData;\n}\n\nconst AdminRightsReceivedNotification = memo<Props>((props) => {\n  const { notification } = props;\n\n  return (\n    <NotificationWrapper\n      linkTo={'/admin'}\n      timing={notification.attributes.created_at}\n      icon=\"admin\"\n      isRead={!!notification.attributes.read_at}\n    >\n      <FormattedMessage {...messages.adminRightsReceived} />\n    </NotificationWrapper>\n  );\n});\n\nexport default AdminRightsReceivedNotification;\n","import { useState, useEffect } from 'react';\nimport { Observable, of } from 'rxjs';\nimport { isNilOrError } from 'utils/helperUtils';\nimport {\n  IUser,\n  IUserData,\n  userByIdStream,\n  userBySlugStream,\n} from 'services/users';\n\ninterface Params {\n  userId?: string | null;\n  slug?: string | null;\n}\n\nexport default function useUser({ userId, slug }: Params) {\n  const [user, setUser] = useState<IUserData | undefined | null | Error>(\n    undefined\n  );\n\n  useEffect(() => {\n    setUser(undefined);\n\n    let observable: Observable<IUser | null> = of(null);\n\n    if (userId) {\n      observable = userByIdStream(userId).observable;\n    } else if (slug) {\n      observable = userBySlugStream(slug).observable;\n    }\n\n    const subscription = observable.subscribe((response) => {\n      const userResponse = !isNilOrError(response) ? response.data : response;\n      setUser(userResponse);\n    });\n\n    return () => subscription.unsubscribe();\n  }, [userId, slug]);\n\n  return user;\n}\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  projectFolderSelectTitle: {\n    id: 'app.containers.AdminPage.ProjectEdit.projectFolderSelectTitle',\n    defaultMessage: 'Add project to a folder?',\n  },\n  adminProjectFolderSelectTooltip: {\n    id: 'app.containers.AdminPage.ProjectEdit.adminProjectFolderSelectTooltip',\n    defaultMessage:\n      'You can add your project to an existing folder. You can also do this later in the Projects tab.',\n  },\n  folderAdminProjectFolderSelectTooltip: {\n    id:\n      'app.containers.AdminPage.ProjectEdit.folderAdminProjectFolderSelectTooltip',\n    defaultMessage:\n      'You will need to add the project to a folder that you have admin rights over.',\n  },\n  optionYes: {\n    id: 'app.containers.AdminPage.ProjectEdit.optionYes',\n    defaultMessage: 'Yes (select folder)',\n  },\n  optionNo: {\n    id: 'app.containers.AdminPage.ProjectEdit.optionNo',\n    defaultMessage: 'No',\n  },\n  folderSelectError: {\n    id: 'app.containers.AdminPage.ProjectEdit.folderSelectError',\n    defaultMessage: 'Select a folder to add this project to.',\n  },\n});\n","export default {\n  departmentFilterChanged: 'Project templates department filter changed',\n  purposeFilterChanged: 'Project templates purpose filter changed',\n  participationLevelFilterChanged:\n    'Project templates participation level filter changed',\n  projectTemplatesSearchValueChanged: 'Project templates search value changed',\n  templatesLoadMoreButtonClicked:\n    \"Project template cards 'Load more' button clicked\",\n  useTemplateButtonClicked:\n    \"Project template card 'Use template' button clicked\",\n  moreDetailsButtonClicked:\n    \"Project template card 'More details' button clicked\",\n  useTemplateModalClosed: 'Use template modal closed',\n  linkCopied: 'Project template preview page link copied',\n  useTemplateModalCreateProjectButtonClicked:\n    \"Use template modal 'Create project' button clicked\",\n};\n","import React, { useEffect, useState } from 'react';\nimport { CONFIRMATION_STEP_NAME } from '../../index';\nimport { SignUpStepOutletProps } from 'utils/moduleUtils';\nimport { injectIntl, FormattedMessage } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\nimport { trackEventByName } from 'utils/analytics';\nimport tracks from './tracks';\nimport messages from './messages';\nimport Error from 'components/UI/Error';\nimport {\n  confirm,\n  resendCode,\n  IConfirmation,\n} from '../../services/confirmation';\n\nimport useAuthUser from 'hooks/useAuthUser';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { CLErrors, CLError } from 'typings';\nimport styled from 'styled-components';\nimport { colors, fontSizes, media } from 'utils/styleUtils';\nimport { darken } from 'polished';\n\nimport { modifyMetaData } from 'components/SignUpIn/events';\n\nimport { Icon, Input, Label } from 'cl2-component-library';\nimport Link from 'utils/cl-router/Link';\nimport Button from 'components/UI/Button';\n\nexport const FormContainer = styled.div<{ inModal: boolean }>`\n  display: flex;\n  flex-direction: column;\n  align-items: ${(props) => (props.inModal ? 'center' : 'stretch')};\n  margin-bottom: 60px;\n`;\n\nexport const Title = styled.h1`\n  width: 100%;\n  color: ${({ theme }) => theme.colorText};\n  font-size: ${fontSizes.xxl}px;\n  font-weight: 300;\n  line-height: normal;\n  text-align: center;\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  margin: 0;\n  margin-bottom: 35px;\n  padding: 0;\n\n  strong {\n    font-weight: 600;\n  }\n\n  ${media.smallerThanMaxTablet`\n    font-size: ${fontSizes.xl}px;\n    margin-bottom: 20px;\n  `}\n`;\n\nexport const Subtitle = styled.h2`\n  color: ${({ theme }) => theme.colorText};\n  font-size: ${fontSizes.large}px;\n  font-weight: 600;\n  line-height: normal;\n`;\n\nexport const Form = styled.form<{ inModal: boolean }>`\n  width: 100%;\n  max-width: ${(props) => (props.inModal ? '380px' : 'unset')};\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  margin: 2rem 0;\n`;\n\nexport const FormField = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n`;\n\nexport const StyledLabel = styled(Label)`\n  display: block;\n  text-align: center;\n`;\n\nexport const LabelTextContainer = styled.div`\n  display: block;\n  color: ${({ theme }) => theme.colorText};\n  margin-bottom: 1.5rem;\n  font-size: ${fontSizes.base};\n\n  &:last-child {\n    margin-bottom: 1rem;\n  }\n`;\n\nexport const Footer = styled.div`\n  display: flex;\n  justify-content: center;\n  padding-top: 10px;\n`;\n\nexport const CancelButton = styled(Button)``;\n\nexport const HelpImage = styled.img`\n  width: 100%;\n`;\n\nexport const SubmitButton = styled(Button)`\n  width: 100%;\n  margin: 0.75rem 0;\n`;\n\nconst FooterNotes = styled.div`\n  margin: 18px 0 0;\n  text-align: center;\n`;\n\nconst FooterNote = styled.p`\n  color: ${({ theme }) => theme.colorText};\n  font-size: ${fontSizes.small}px;\n  line-height: normal;\n\n  &:not(:last-child) {\n    margin: 0 0 1rem;\n  }\n`;\n\nconst FooterNoteLink = styled(Link)`\n  font-size: ${fontSizes.small}px;\n  padding-left: 4px;\n  color: ${({ theme }) => theme.colorText};\n  text-decoration: underline;\n\n  &:hover {\n    color: ${({ theme }) => darken(0.2, theme.colorText)};\n    text-decoration: underline;\n  }\n`;\n\nconst FooterNoteSuccessMessage = styled.span`\n  color: ${colors.clGreen};\n  padding-left: 6px;\n`;\n\nconst FooterNoteSuccessMessageIcon = styled(Icon)`\n  width: 12px;\n  height: 12px;\n  margin-right: 4px;\n`;\n\ntype Props = SignUpStepOutletProps & InjectedIntlProps;\n\nconst ConfirmationSignupStep = ({\n  metaData,\n  intl: { formatMessage },\n  onCompleted,\n  ...props\n}: Props) => {\n  const user = useAuthUser();\n  const [confirmation, setConfirmation] = useState<IConfirmation>({\n    code: null,\n  });\n  const [newEmail, setNewEmail] = useState<string | null | undefined>(\n    undefined\n  );\n  const [apiErrors, setApiErrors] = useState<CLErrors>({});\n  const [processing, setProcessing] = useState<boolean>(false);\n  const [changingEmail, setChangingEmail] = useState<boolean>(false);\n  const [codeResent, setCodeResent] = useState<boolean>(false);\n\n  useEffect(() => {\n    props.onData({\n      key: CONFIRMATION_STEP_NAME,\n      configuration: {\n        position: 2.1,\n        stepName: formatMessage(messages.confirmYourAccount),\n        onSkipped: () => trackEventByName(tracks.signUpConfirmationStepSkipped),\n        onError: () => trackEventByName(tracks.signUpConfirmationStepFailed),\n        onCompleted: () =>\n          trackEventByName(tracks.signUpConfirmationStepCompleted),\n        isEnabled: (metaData) => !!metaData?.requiresConfirmation,\n        isActive: (authUser) => !!authUser?.attributes?.confirmation_required,\n      },\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  if (props.step !== CONFIRMATION_STEP_NAME || isNilOrError(user)) {\n    return null;\n  }\n\n  function handleCodeChange(code: string) {\n    setApiErrors({});\n    setConfirmation((prevConfirmation) => ({\n      ...prevConfirmation,\n      code,\n    }));\n  }\n\n  function handleSubmitConfirmation() {\n    setProcessing(true);\n\n    confirm(confirmation)\n      .then(() => {\n        setApiErrors({});\n        modifyMetaData(metaData, { requiresConfirmation: false });\n        setProcessing(false);\n        onCompleted();\n      })\n      .catch((errors) => {\n        setApiErrors(errors);\n        setProcessing(false);\n      });\n  }\n\n  function handleResendCode(e) {\n    e.preventDefault();\n    setProcessing(true);\n\n    resendCode()\n      .then(() => {\n        setProcessing(false);\n        setCodeResent(true);\n        setApiErrors({});\n      })\n      .catch((errors) => {\n        setApiErrors(errors);\n        setProcessing(false);\n      });\n  }\n\n  function handleEmailSubmit() {\n    setProcessing(true);\n\n    resendCode(newEmail)\n      .then(() => {\n        setProcessing(false);\n        setChangingEmail(false);\n        setApiErrors({});\n        setCodeResent(false);\n      })\n      .catch((errors) => {\n        setApiErrors(errors);\n        setProcessing(false);\n      });\n  }\n\n  function handleEmailChange(email) {\n    setNewEmail(email);\n  }\n\n  function handleShowEmailInput(e) {\n    e.preventDefault();\n    setChangingEmail(true);\n  }\n\n  function handleBackToCode(e) {\n    e.preventDefault();\n    setChangingEmail(false);\n  }\n\n  return (\n    <FormContainer id=\"e2e-confirmation-form\" inModal={true}>\n      {changingEmail ? (\n        <Form inModal={true} onSubmit={handleEmailSubmit}>\n          <FormField>\n            <StyledLabel>\n              <LabelTextContainer>\n                <FormattedMessage\n                  {...messages.pleaseInsertYourNewEmail}\n                  values={{ userEmail: user.attributes.email }}\n                />\n              </LabelTextContainer>\n            </StyledLabel>\n            <Input\n              type=\"email\"\n              value={newEmail}\n              onChange={handleEmailChange}\n              placeholder={formatMessage(messages.emailPlaceholder)}\n            />\n            {apiErrors.email && (\n              <Error\n                apiErrors={apiErrors.email as CLError[]}\n                fieldName=\"email\"\n              />\n            )}\n          </FormField>\n\n          <Footer>\n            <SubmitButton\n              id=\"e2e-confirmation-button\"\n              onClick={handleEmailSubmit}\n              processing={processing}\n            >\n              <FormattedMessage {...messages.sendEmailWithCode} />\n            </SubmitButton>\n          </Footer>\n          <FooterNotes>\n            <FooterNote>\n              <FormattedMessage {...messages.foundYourCode} />\n              <FooterNoteLink onClick={handleBackToCode} to=\"#\">\n                <FormattedMessage {...messages.goBack} />\n              </FooterNoteLink>\n            </FooterNote>\n          </FooterNotes>\n        </Form>\n      ) : (\n        <Form inModal={true} onSubmit={handleSubmitConfirmation}>\n          <FormField>\n            <StyledLabel>\n              <LabelTextContainer>\n                <FormattedMessage\n                  {...messages.weAskEveryoneToConfirmTheirEmail}\n                />\n              </LabelTextContainer>\n              <LabelTextContainer>\n                <FormattedMessage\n                  {...messages.anExampleCodeHasBeenSent}\n                  values={{ userEmail: user.attributes.email }}\n                />\n              </LabelTextContainer>\n            </StyledLabel>\n            <Input\n              id=\"e2e-confirmation-code-input\"\n              type=\"text\"\n              placeholder={formatMessage(messages.insertYour4DigitCodeHere)}\n              value={confirmation.code}\n              onChange={handleCodeChange}\n            />\n            {apiErrors.code && (\n              <Error\n                apiErrors={apiErrors.code as CLError[]}\n                fieldName=\"confirmation_code\"\n              />\n            )}\n          </FormField>\n\n          <Footer>\n            <SubmitButton\n              id=\"e2e-confirmation-button\"\n              onClick={handleSubmitConfirmation}\n              processing={processing}\n            >\n              <FormattedMessage {...messages.verifyAndContinue} />\n            </SubmitButton>\n          </Footer>\n          <FooterNotes>\n            <FooterNote>\n              <FormattedMessage {...messages.didntGetAnEmail} />\n\n              {codeResent ? (\n                <FooterNoteSuccessMessage>\n                  <FooterNoteSuccessMessageIcon name=\"checkmark-full\" />\n                  <FormattedMessage {...messages.confirmationCodeSent} />\n                </FooterNoteSuccessMessage>\n              ) : (\n                <FooterNoteLink onClick={handleResendCode} to=\"#\">\n                  <FormattedMessage {...messages.sendNewCode} />\n                </FooterNoteLink>\n              )}\n            </FooterNote>\n            <FooterNote>\n              <FormattedMessage {...messages.wrongEmail} />\n              <FooterNoteLink onClick={handleShowEmailInput} to=\"#\">\n                <FormattedMessage {...messages.changeYourEmail} />\n              </FooterNoteLink>\n            </FooterNote>\n          </FooterNotes>\n        </Form>\n      )}\n    </FormContainer>\n  );\n};\n\nexport default injectIntl(ConfirmationSignupStep);\n","import React, { useState, lazy, Suspense } from 'react';\nimport styled from 'styled-components';\nimport { Input, Button, Icon, colors } from 'cl2-component-library';\nimport useLocale from 'hooks/useLocale';\nimport useAppConfiguration from 'hooks/useAppConfiguration';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { ScreenReaderOnly } from 'utils/a11y';\nimport { Props as WrapperProps } from './';\n// components\nconst PasswordStrengthBar = lazy(() => import('react-password-strength-bar'));\nimport Error from 'components/UI/Error';\n\n// i18n\nimport { injectIntl } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\nimport messages from './messages';\n\nconst Container = styled.div`\n  position: relative;\n  display: flex;\n  margin-bottom: 10px;\n`;\n\nconst StyledInput = styled(Input)`\n  & input::-ms-reveal,\n  & input::-ms-clear {\n    display: none;\n  }\n`;\n\nconst EyeIcon = styled(Icon)`\n  width: 22px;\n  height: 15px;\n`;\n\nconst EyeClosedIcon = styled(Icon)`\n  width: 22px;\n  height: 19px;\n  margin-bottom: -1px;\n`;\n\nconst ShowPasswordButton = styled(Button)`\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 0;\n`;\ntype PasswordScore = 0 | 1 | 2 | 3 | 4;\n\ninterface Props extends WrapperProps {\n  minimumPasswordLength: number;\n}\n\nconst PasswordInputComponent = ({\n  id,\n  password,\n  autocomplete,\n  placeholder,\n  onChange,\n  onBlur,\n  minimumPasswordLength,\n  isLoginPasswordInput,\n  setRef,\n  errors,\n  intl: { formatMessage },\n}: Props & InjectedIntlProps) => {\n  const locale = useLocale();\n  const tenant = useAppConfiguration();\n  const [showPassword, setShowPassword] = useState(false);\n  const [passwordScore, setPasswordScore] = useState<PasswordScore>(0);\n  const { minimumLengthError, emptyError } = errors;\n  const minimumPasswordLengthErrorMessage = minimumLengthError\n    ? formatMessage(messages.minimumPasswordLengthErrorMessage, {\n        minimumPasswordLength,\n      })\n    : null;\n  const emptyPasswordErrorMessage = emptyError\n    ? formatMessage(messages.emptyPasswordError)\n    : null;\n\n  const handleOnChange = (password: string) => {\n    onChange(password);\n  };\n\n  const handleOnBlur = () => {\n    if (onBlur) {\n      onBlur();\n    }\n  };\n\n  const handleOnClick = () => {\n    setShowPassword(!showPassword);\n  };\n\n  const setInputRef = (inputElement: HTMLInputElement) => {\n    if (setRef) {\n      setRef(inputElement);\n    }\n  };\n\n  const handleOnChangeScore = (score: PasswordScore) => {\n    setPasswordScore(score);\n  };\n\n  if (!isNilOrError(locale) && !isNilOrError(tenant)) {\n    return (\n      <>\n        <Container>\n          <StyledInput\n            // don't use the error prop in this component\n            // because it will mess up the vertical alignment\n            // of the ShowPasswordButton\n            // We should remove Error from the Input component in the future\n            type={showPassword ? 'text' : 'password'}\n            id={id}\n            value={password}\n            onChange={handleOnChange}\n            onBlur={handleOnBlur}\n            autocomplete={autocomplete}\n            placeholder={placeholder}\n            setRef={setInputRef}\n          />\n          <ShowPasswordButton\n            locale={locale}\n            onClick={handleOnClick}\n            buttonStyle=\"text\"\n            height={'100%'}\n            type=\"button\"\n          >\n            {showPassword ? (\n              <EyeIcon\n                name=\"eye\"\n                title={formatMessage(messages.hidePassword)}\n              />\n            ) : (\n              <EyeClosedIcon\n                name=\"eyeClosed\"\n                title={formatMessage(messages.showPassword)}\n              />\n            )}\n          </ShowPasswordButton>\n          <ScreenReaderOnly aria-live=\"polite\">\n            {formatMessage(\n              showPassword\n                ? messages.a11y_passwordVisible\n                : messages.a11y_passwordHidden\n            )}\n          </ScreenReaderOnly>\n        </Container>\n        {!isLoginPasswordInput && (\n          <>\n            <Suspense fallback={null}>\n              <PasswordStrengthBar\n                password={password || undefined}\n                minLength={minimumPasswordLength}\n                shortScoreWord={formatMessage(\n                  messages.initialPasswordStrengthCheckerMessage,\n                  {\n                    minimumPasswordLength,\n                  }\n                )}\n                scoreWords={[\n                  formatMessage(messages.strength1Password),\n                  formatMessage(messages.strength2Password),\n                  formatMessage(messages.strength3Password),\n                  formatMessage(messages.strength4Password),\n                  formatMessage(messages.strength5Password),\n                ]}\n                onChangeScore={handleOnChangeScore}\n                scoreWordStyle={{\n                  color: colors.label,\n                }}\n              />\n            </Suspense>\n            <ScreenReaderOnly aria-live=\"polite\">\n              {formatMessage(\n                {\n                  0: messages.a11y_strength1Password,\n                  1: messages.a11y_strength2Password,\n                  2: messages.a11y_strength3Password,\n                  3: messages.a11y_strength4Password,\n                  4: messages.a11y_strength5Password,\n                }[passwordScore]\n              )}\n            </ScreenReaderOnly>\n          </>\n        )}\n        {isLoginPasswordInput && <Error text={emptyPasswordErrorMessage} />}\n        {!isLoginPasswordInput && (\n          <Error text={minimumPasswordLengthErrorMessage} />\n        )}\n      </>\n    );\n  }\n\n  return null;\n};\n\nexport default injectIntl(PasswordInputComponent);\n","import { NavItem } from 'containers/Admin/sideBar';\nimport { FC, useEffect } from 'react';\nimport { getUrlLocale } from 'services/locale';\nimport { InsertConfigurationOptions } from 'typings';\n\ntype Props = {\n  onData: (data: InsertConfigurationOptions<NavItem>) => void;\n};\n\nconst NavItemComponent: FC<Props> = ({ onData }) => {\n  useEffect(\n    () =>\n      onData({\n        configuration: {\n          name: 'insights',\n          link: '/admin/insights',\n          iconName: 'processing',\n          message: 'insights',\n          featureName: 'insights_manual_flow',\n          isActive: (pathName) =>\n            pathName.startsWith(\n              `${\n                getUrlLocale(pathName) ? `/${getUrlLocale(pathName)}` : ''\n              }/admin/insights`\n            ),\n        },\n        insertAfterName: 'projects',\n      }),\n    [onData]\n  );\n  return null;\n};\n\nexport default NavItemComponent;\n","import { useState, useEffect } from 'react';\nimport { IUserData } from 'services/users';\nimport { folderModeratorsStream } from '../services/projectFolderModerators';\n\nexport default function useProjectFolderModerators(projectFolderId: string) {\n  const [folderModerators, setFolderModerators] = useState<\n    IUserData[] | undefined | null | Error\n  >(undefined);\n\n  useEffect(() => {\n    const subscription = folderModeratorsStream(\n      projectFolderId\n    ).observable.subscribe((response) => {\n      setFolderModerators(response.data);\n    });\n\n    return () => subscription.unsubscribe();\n  }, [projectFolderId]);\n\n  return folderModerators;\n}\n","import React from 'react';\nimport Loadable from 'react-loadable';\n\ntype InputProps = {\n  className?: string;\n};\n\nconst LoadableLanguageSelector = Loadable({\n  loading: () => null,\n  loader: () => import('containers/Navbar/components/LanguageSelector'),\n  render(loaded, props: InputProps) {\n    const LanguageSelector = loaded.default;\n\n    return <LanguageSelector {...props} />;\n  },\n});\n\nexport default LoadableLanguageSelector;\n","import React, { memo, useCallback, useState } from 'react';\n\n// hooks\nimport useLocalize from 'hooks/useLocalize';\nimport useGraphqlTenantLocales from 'hooks/useGraphqlTenantLocales';\n\n// graphql\nimport { gql, useQuery } from '@apollo/client';\nimport { client } from '../../utils/apolloUtils';\n\n// components\nimport FilterSelector, {\n  IFilterSelectorValue,\n} from 'components/FilterSelector';\n\n// i18n\nimport { injectIntl } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\nimport messages from './messages';\n\ninterface Props {\n  onChange: (value: string[]) => void;\n}\n\nconst ParticipationlevelFilter = memo<Props & InjectedIntlProps>(\n  ({ intl: { formatMessage }, onChange }) => {\n    const localize = useLocalize();\n    const graphqlTenantLocales = useGraphqlTenantLocales();\n\n    const PARTICIPATIONLEVELS_QUERY = gql`\n    {\n      participationLevels {\n        nodes {\n          id\n          titleMultiloc {\n            ${graphqlTenantLocales}\n          }\n        }\n      }\n    }\n  `;\n\n    const [selectedValues, setSelectedValues] = useState<string[]>([]);\n\n    const { data } = useQuery(PARTICIPATIONLEVELS_QUERY, { client });\n\n    let options: IFilterSelectorValue[] = [];\n\n    if (data) {\n      options = data.participationLevels.nodes.map((node) => ({\n        value: node.id,\n        text: localize(node.titleMultiloc),\n      }));\n    }\n\n    const handleOnChange = useCallback((selectedValues: string[]) => {\n      setSelectedValues(selectedValues);\n      onChange(selectedValues);\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    return (\n      <FilterSelector\n        title={formatMessage(messages.participationLevels)}\n        name={formatMessage(messages.participationLevels)}\n        selected={selectedValues}\n        values={options}\n        onChange={handleOnChange}\n        multipleSelectionAllowed={true}\n        last={false}\n        left=\"-5px\"\n        mobileLeft=\"-5px\"\n      />\n    );\n  }\n);\n\nexport default injectIntl(ParticipationlevelFilter);\n","import React, { memo } from 'react';\nimport { IStatusChangeOfYourInitiativeNotificationData } from 'services/notifications';\nimport messages from '../../messages';\nimport { FormattedMessage } from 'utils/cl-intl';\nimport T from 'components/T';\nimport NotificationWrapper from '../NotificationWrapper';\n\ninterface Props {\n  notification: IStatusChangeOfYourInitiativeNotificationData;\n}\n\nconst StatusChangeOfYourInitiativeNotification = memo<Props>((props) => {\n  const { notification } = props;\n\n  return (\n    <NotificationWrapper\n      linkTo={`/initiatives/${notification.attributes.post_slug}`}\n      timing={notification.attributes.created_at}\n      icon=\"notification_status\"\n      isRead={!!notification.attributes.read_at}\n    >\n      <FormattedMessage\n        {...messages.statusChangedOfYourInitiative}\n        values={{\n          status: (\n            <T\n              value={notification.attributes.initiative_status_title_multiloc}\n            />\n          ),\n          initiativeTitle: (\n            <T value={notification.attributes.post_title_multiloc} />\n          ),\n        }}\n      />\n    </NotificationWrapper>\n  );\n});\n\nexport default StatusChangeOfYourInitiativeNotification;\n","import React, { FormEvent } from 'react';\nimport messages from './messages';\nimport { FormattedMessage } from 'utils/cl-intl';\nimport Button from 'components/UI/Button';\nimport { ButtonContainer } from './Container';\nimport { colors } from 'utils/styleUtils';\nimport { darken } from 'polished';\nimport styled from 'styled-components';\n\nconst CancelButton = styled(Button)`\n  margin-right: 4px;\n`;\n\ninterface Props {\n  validate: () => boolean;\n  handleCancelBack: () => void;\n  handleCancelConfirm: () => void;\n  handleCancel: () => void;\n  handleSave: (e: FormEvent<any>) => void;\n  mode: 'preferenceForm' | 'noDestinations' | 'cancelling';\n}\n\nconst Footer = ({\n  validate,\n  mode,\n  handleCancelBack,\n  handleCancelConfirm,\n  handleCancel,\n  handleSave,\n}: Props) => {\n  const isValid = validate();\n  return mode === 'cancelling' ? (\n    <ButtonContainer>\n      <CancelButton\n        onClick={handleCancelBack}\n        buttonStyle=\"primary-inverse\"\n        textColor={colors.adminTextColor}\n        textHoverColor={colors.adminTextColor}\n      >\n        <FormattedMessage {...messages.back} />\n      </CancelButton>\n      <Button\n        onClick={handleCancelConfirm}\n        buttonStyle=\"primary\"\n        bgColor={colors.adminTextColor}\n        bgHoverColor={darken(0.1, colors.adminTextColor)}\n      >\n        <FormattedMessage {...messages.confirm} />\n      </Button>\n    </ButtonContainer>\n  ) : mode === 'preferenceForm' ? (\n    <ButtonContainer>\n      <CancelButton\n        onClick={handleCancel}\n        className=\"integration-cancel\"\n        buttonStyle=\"primary-inverse\"\n        textColor={colors.adminTextColor}\n        textHoverColor={colors.adminTextColor}\n      >\n        <FormattedMessage {...messages.cancel} />\n      </CancelButton>\n      <Button\n        onClick={handleSave}\n        buttonStyle=\"primary\"\n        bgColor={colors.adminTextColor}\n        bgHoverColor={darken(0.1, colors.adminTextColor)}\n        className=\"integration-save\"\n        disabled={!isValid}\n        id=\"e2e-preferences-save\"\n      >\n        <FormattedMessage {...messages.save} />\n      </Button>\n    </ButtonContainer>\n  ) : (\n    <Button\n      onClick={handleCancel}\n      buttonStyle=\"primary\"\n      bgColor={colors.adminTextColor}\n      bgHoverColor={darken(0.1, colors.adminTextColor)}\n    >\n      <FormattedMessage {...messages.close} />\n    </Button>\n  );\n};\n\nexport default Footer;\n","import { useState, useEffect } from 'react';\nimport { Locale } from 'typings';\nimport {\n  IMachineTranslationData,\n  machineTranslationByIdeaIdStream,\n  machineTranslationByCommentIdStream,\n  machineTranslationByInitiativeIdStream,\n} from 'modules/commercial/machine_translations/services/machineTranslations';\n\ninterface Parameters {\n  attributeName: 'body_multiloc' | 'title_multiloc';\n  localeTo: Locale;\n  id: string;\n  context: 'idea' | 'initiative' | 'comment';\n}\n\nexport default function useTranslation({\n  attributeName,\n  localeTo,\n  id,\n  context,\n}: Parameters) {\n  const [machineTranslation, setMachineTranslation] = useState<\n    IMachineTranslationData | undefined | null | Error\n  >(undefined);\n\n  useEffect(() => {\n    const getObservable = () => {\n      const queryParameters = {\n        machine_translation: {\n          locale_to: localeTo,\n          attribute_name: attributeName,\n        },\n      };\n\n      switch (context) {\n        case 'idea':\n          return machineTranslationByIdeaIdStream(id, {\n            queryParameters,\n          }).observable;\n        case 'initiative':\n          return machineTranslationByInitiativeIdStream(id, {\n            queryParameters,\n          }).observable;\n        case 'comment':\n          return machineTranslationByCommentIdStream(id, {\n            queryParameters,\n          }).observable;\n      }\n    };\n\n    const observable = getObservable();\n\n    const subscription = observable.subscribe((machineTranslation) => {\n      setMachineTranslation(machineTranslation.data);\n    });\n\n    return () => subscription.unsubscribe();\n  }, [attributeName, localeTo, id, context]);\n\n  return machineTranslation;\n}\n","import { API_PATH } from 'containers/App/constants';\nimport streams, { IStreamParams } from 'utils/streams';\nimport { IRelationship, Multiloc } from 'typings';\nimport { first } from 'rxjs/operators';\nimport { get } from 'lodash-es';\nimport { CommentingDisabledReason } from './projects';\n\nexport type IdeaPublicationStatus = 'draft' | 'published' | 'archived' | 'spam';\n\n// keys in ideas.attributes.action_descriptor\nexport type IIdeaAction =\n  | 'voting_idea'\n  | 'commenting_idea'\n  | 'comment_voting_idea'\n  | 'budgeting';\n\nexport type IdeaVotingDisabledReason =\n  | 'project_inactive'\n  | 'not_ideation'\n  | 'voting_disabled'\n  | 'downvoting_disabled'\n  | 'not_signed_in'\n  | 'voting_limited_max_reached'\n  | 'idea_not_in_current_phase'\n  | 'not_permitted'\n  | 'not_verified';\n\nexport type IdeaCommentingDisabledReason =\n  | 'idea_not_in_current_phase'\n  | CommentingDisabledReason;\n\nexport type IdeaBudgetingDisabledReason =\n  | 'project_inactive'\n  | 'idea_not_in_current_phase'\n  | 'not_permitted'\n  | 'not_verified'\n  | 'not_signed_in'\n  | null\n  | undefined;\n\nexport interface IIdeaData {\n  id: string;\n  type: string;\n  attributes: {\n    title_multiloc: Multiloc;\n    body_multiloc: Multiloc;\n    author_name: string;\n    slug: string;\n    publication_status: IdeaPublicationStatus;\n    upvotes_count: number;\n    downvotes_count: number;\n    comments_count: number;\n    baskets_count: number;\n    location_point_geojson: GeoJSON.Point | null;\n    location_description: string | null;\n    budget: number | null;\n    proposed_budget: number | null;\n    created_at: string;\n    updated_at: string;\n    published_at: string;\n    action_descriptor: {\n      voting_idea: {\n        enabled: boolean;\n        future_enabled: string | null;\n        disabled_reason: IdeaVotingDisabledReason | null;\n        cancelling_enabled: boolean;\n        downvoting_enabled: boolean | null;\n      };\n      commenting_idea: {\n        enabled: boolean;\n        future_enabled: string | null;\n        disabled_reason: IdeaCommentingDisabledReason | null;\n      };\n      comment_voting_idea: {\n        enabled: boolean;\n      };\n      budgeting?: {\n        enabled: boolean;\n        future_enabled: string | null;\n        disabled_reason: IdeaBudgetingDisabledReason;\n      };\n    };\n  };\n  relationships: {\n    topics?: {\n      data: IRelationship[];\n    };\n    areas: {\n      data: IRelationship[];\n    };\n    idea_images: {\n      data: IRelationship[] | null;\n    };\n    author: {\n      data: IRelationship | null;\n    };\n    assignee?: {\n      data: IRelationship | null;\n    };\n    phases: {\n      data: IRelationship[];\n    };\n    project: {\n      data: IRelationship;\n    };\n    idea_status: {\n      data: IRelationship;\n    };\n    user_vote?: {\n      data: IRelationship;\n    };\n  };\n}\n\nexport interface IMinimalIdeaData {\n  id: string;\n  type: string;\n  attributes: {\n    slug: string;\n    title_multiloc: Multiloc;\n  };\n}\n\nexport interface IGeotaggedIdeaData {\n  id: string;\n  type: string;\n  attributes: {\n    title_multiloc: Multiloc;\n    location_point_geojson: GeoJSON.Point;\n    location_description: string;\n  };\n}\n\nexport interface IIdeaMarkerData {\n  id: string;\n  type: string;\n  attributes: {\n    slug: string;\n    title_multiloc: Multiloc;\n    location_point_geojson: GeoJSON.Point;\n    location_description: string;\n    upvotes_count: number;\n    downvotes_count: number;\n    comments_count: number;\n    budget: number | null;\n  };\n}\n\nexport interface IIdeaLinks {\n  self: string;\n  first: string;\n  prev: string;\n  next: string;\n  last: string;\n}\n\nexport interface IIdeaMarker {\n  data: IIdeaMarkerData;\n}\n\nexport interface IIdea {\n  data: IIdeaData;\n}\n\nexport interface IIdeas {\n  data: IIdeaData[];\n  links: IIdeaLinks;\n}\n\nexport interface IdeaActivity {\n  id: string;\n  type: 'activity';\n  attributes: {\n    action: string;\n    acted_at: string;\n    change: string[] | { [key: string]: string }[] | null;\n  };\n  relationships: {\n    user: { data: IRelationship };\n  };\n}\n\nexport interface IIdeaAdd {\n  author_id: string | null;\n  project_id: string | null;\n  assignee_id?: string | null;\n  idea_status_id?: string | null;\n  publication_status: IdeaPublicationStatus;\n  title_multiloc: Multiloc;\n  body_multiloc: Multiloc;\n  topic_ids: string[] | null;\n  area_ids?: string[] | null;\n  phase_ids?: string[] | null;\n  location_point_geojson: GeoJSON.Point | null;\n  location_description: string | null;\n  budget: number | null;\n  proposed_budget: number | null;\n}\n\nexport interface IIdeasFilterCounts {\n  idea_status_id: {\n    [key: string]: number;\n  };\n  area_id: {\n    [key: string]: number;\n  };\n  topic_id: {\n    [key: string]: number;\n  };\n  total: number;\n}\n\nexport function ideaByIdStream(ideaId: string) {\n  return streams.get<IIdea>({ apiEndpoint: `${API_PATH}/ideas/${ideaId}` });\n}\n\nexport function ideaBySlugStream(ideaSlug: string) {\n  return streams.get<IIdea>({\n    apiEndpoint: `${API_PATH}/ideas/by_slug/${ideaSlug}`,\n  });\n}\n\nexport function ideasStream(streamParams: IStreamParams | null = null) {\n  return streams.get<IIdeas>({\n    apiEndpoint: `${API_PATH}/ideas`,\n    ...streamParams,\n  });\n}\nexport function ideasMiniStream(streamParams: IStreamParams | null = null) {\n  return streams.get<IIdeas>({\n    apiEndpoint: `${API_PATH}/ideas/mini`,\n    ...streamParams,\n    cacheStream: false,\n  });\n}\n\nexport function ideasFilterCountsStream(\n  streamParams: IStreamParams | null = null\n) {\n  return streams.get<IIdeasFilterCounts>({\n    apiEndpoint: `${API_PATH}/ideas/filter_counts`,\n    ...streamParams,\n    cacheStream: false,\n  });\n}\n\nexport function ideasMarkersStream(streamParams: IStreamParams | null = null) {\n  return streams.get<{ data: IIdeaMarkerData[]; links: IIdeaLinks }>({\n    apiEndpoint: `${API_PATH}/ideas/as_markers`,\n    ...streamParams,\n    cacheStream: false,\n  });\n}\n\nexport function geotaggedIdeasStream(\n  streamParams: IStreamParams | null = null\n) {\n  return streams.get<{ data: IGeotaggedIdeaData[]; links: IIdeaLinks }>({\n    apiEndpoint: `${API_PATH}/ideas/geotagged`,\n    ...streamParams,\n    cacheStream: false,\n  });\n}\n\nexport function similarIdeasStream(\n  ideaId: string,\n  streamParams: IStreamParams | null = null\n) {\n  return streams.get<{ data: IMinimalIdeaData[] }>({\n    apiEndpoint: `${API_PATH}/ideas/${ideaId}/similar`,\n    ...streamParams,\n    cacheStream: false,\n  });\n}\n\nexport async function addIdea(object: IIdeaAdd) {\n  const response = await streams.add<IIdea>(`${API_PATH}/ideas/`, {\n    idea: object,\n  });\n  streams.fetchAllWith({\n    dataId: [response.data.relationships.project.data.id],\n    apiEndpoint: [`${API_PATH}/users/${object.author_id}/ideas_count`],\n  });\n  return response;\n}\n\nexport async function updateIdea(ideaId: string, object: Partial<IIdeaAdd>) {\n  const response = await streams.update<IIdea>(\n    `${API_PATH}/ideas/${ideaId}`,\n    ideaId,\n    { idea: object }\n  );\n  streams.fetchAllWith({\n    dataId: [response.data.relationships.project.data.id],\n    apiEndpoint: [\n      `${API_PATH}/stats/ideas_count`,\n      `${API_PATH}/ideas`,\n      `${API_PATH}/ideas/${ideaId}/activities`,\n    ],\n  });\n  return response;\n}\n\nexport async function deleteIdea(ideaId: string) {\n  const [idea, response] = await Promise.all([\n    ideaByIdStream(ideaId).observable.pipe(first()).toPromise(),\n    streams.delete(`${API_PATH}/ideas/${ideaId}`, ideaId),\n  ]);\n\n  const authorId = get(idea, 'relationships.author.data.id', false);\n  const projectId = idea.data.relationships.project.data.id;\n\n  streams.fetchAllWith({\n    dataId: [projectId],\n    apiEndpoint: authorId\n      ? [\n          `${API_PATH}/users/${authorId}/ideas_count`,\n          `${API_PATH}/stats/ideas_count`,\n        ]\n      : [`${API_PATH}/stats/ideas_count`],\n  });\n\n  return response;\n}\n\nexport function ideaActivities(ideaId: string) {\n  return streams.get<{ data: IdeaActivity[] }>({\n    apiEndpoint: `${API_PATH}/ideas/${ideaId}/activities`,\n  });\n}\n","import React, { memo } from 'react';\nimport { IProjectPhaseUpcomingNotificationData } from 'services/notifications';\n\n// i18n\nimport messages from '../../messages';\nimport { FormattedMessage } from 'utils/cl-intl';\n\n// components\nimport NotificationWrapper from '../NotificationWrapper';\nimport T from 'components/T';\nimport { FormattedDate } from 'react-intl';\n\ninterface Props {\n  notification: IProjectPhaseUpcomingNotificationData;\n}\n\nconst ProjectPhaseUpcomingNotification = memo<Props>((props) => {\n  const { notification } = props;\n\n  return (\n    <NotificationWrapper\n      linkTo={`/projects/${notification.attributes.project_slug}`}\n      timing={notification.attributes.created_at}\n      icon=\"timeline\"\n      isRead={!!notification.attributes.read_at}\n    >\n      <FormattedMessage\n        {...messages.projectPhaseUpcoming}\n        values={{\n          projectTitle: (\n            <T value={notification.attributes.project_title_multiloc} />\n          ),\n          phaseStartAt: (\n            <FormattedDate value={notification.attributes.phase_start_at} />\n          ),\n        }}\n      />\n    </NotificationWrapper>\n  );\n});\n\nexport default ProjectPhaseUpcomingNotification;\n","import React, { memo } from 'react';\nimport { isNilOrError, stopPropagation } from 'utils/helperUtils';\n\n// data\nimport { ICommentOnYourCommentNotificationData } from 'services/notifications';\n\n// i18n\nimport messages from '../../messages';\nimport { FormattedMessage } from 'utils/cl-intl';\n\n// components\nimport NotificationWrapper from '../NotificationWrapper';\nimport { DeletedUser } from '../Notification';\nimport Link from 'utils/cl-router/Link';\n\ninterface Props {\n  notification: ICommentOnYourCommentNotificationData;\n}\n\nconst mapPostTypeToLink = (\n  notification: ICommentOnYourCommentNotificationData\n): string => {\n  switch (notification.attributes.post_type) {\n    case 'Idea':\n      return `/ideas/${notification.attributes.post_slug}`;\n    case 'Initiative':\n      return `/initiatives/${notification.attributes.post_slug}`;\n  }\n};\n\nconst CommentOnYourCommentNotification = memo<Props>((props) => {\n  const { notification } = props;\n\n  const deletedUser =\n    isNilOrError(notification.attributes.initiating_user_first_name) ||\n    isNilOrError(notification.attributes.initiating_user_slug);\n\n  return (\n    <NotificationWrapper\n      linkTo={mapPostTypeToLink(notification)}\n      timing={notification.attributes.created_at}\n      icon=\"comments\"\n      isRead={!!notification.attributes.read_at}\n    >\n      <FormattedMessage\n        {...messages.userReactedToYourComment}\n        values={{\n          name: deletedUser ? (\n            <DeletedUser>\n              <FormattedMessage {...messages.deletedUser} />\n            </DeletedUser>\n          ) : (\n            <Link\n              to={`/profile/${notification.attributes.initiating_user_slug}`}\n              onClick={stopPropagation}\n            >\n              {notification.attributes.initiating_user_first_name}\n            </Link>\n          ),\n        }}\n      />\n    </NotificationWrapper>\n  );\n});\n\nexport default CommentOnYourCommentNotification;\n","import { API_PATH } from 'containers/App/constants';\nimport streams from 'utils/streams';\n\nimport { Multiloc, IParticipationContextType, IPCAction } from 'typings';\nimport { IInitiativeAction } from './initiatives';\n\nexport type IParticipationConditions = Multiloc[][];\n\nexport function getPCParticipationConditions(\n  id: string,\n  type: IParticipationContextType,\n  action: IPCAction\n) {\n  return streams.get<IParticipationConditions>({\n    apiEndpoint: `${API_PATH}/${type}s/${id}/permissions/${action}/participation_conditions`,\n  });\n}\n\n// TODO\nexport function getGlobalParticipationConditions(action: IInitiativeAction) {\n  return streams.get<IParticipationConditions>({\n    apiEndpoint: `${API_PATH}/permissions/${action}/participation_conditions`,\n  });\n}\n","import { API_PATH } from 'containers/App/constants';\nimport streams, { IStreamParams } from 'utils/streams';\nimport { Multiloc } from 'typings';\n\nconst apiEndpoint = `${API_PATH}/areas`;\n\nexport interface IAreaData {\n  id: string;\n  type: string;\n  attributes: {\n    title_multiloc: Multiloc;\n    description_multiloc: Multiloc;\n    ordering: number;\n  };\n}\n\nexport interface IAreaLinks {\n  self: string;\n  first: string;\n  prev: string;\n  next: string;\n  last: string;\n}\n\nexport interface IAreas {\n  data: IAreaData[];\n  links: IAreaLinks;\n}\n\nexport interface IArea {\n  data: IAreaData;\n}\n\nexport function areaByIdStream(areaId: string) {\n  return streams.get<IArea>({ apiEndpoint: `${apiEndpoint}/${areaId}` });\n}\n\nexport function areasStream(streamParams: IStreamParams | null = null) {\n  return streams.get<IAreas>({ apiEndpoint, ...streamParams });\n}\n\nexport function addArea(object) {\n  return streams.add<IArea>(apiEndpoint, { area: object });\n}\n\nexport function updateArea(areaId: string, object) {\n  return streams.update<IArea>(`${apiEndpoint}/${areaId}`, areaId, {\n    area: object,\n  });\n}\n\nexport function deleteArea(areaId: string) {\n  return streams.delete(`${apiEndpoint}/${areaId}`, areaId);\n}\n\nexport async function reorderArea(areaId: string, newOrder: number) {\n  const response = streams.update<IArea>(`${apiEndpoint}/${areaId}`, areaId, {\n    area: { ordering: newOrder },\n  });\n\n  await streams.fetchAllWith({\n    apiEndpoint: [apiEndpoint],\n  });\n\n  return response;\n}\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  translate: {\n    id: 'app.components.UI.TranslateButton.translate',\n    defaultMessage: 'Translate',\n  },\n  original: {\n    id: 'app.components.UI.TranslateButton.original',\n    defaultMessage: 'Original',\n  },\n});\n","import React from 'react';\nimport styled from 'styled-components';\nimport { colors, IconTooltip } from 'cl2-component-library';\nimport { isNilOrError } from 'utils/helperUtils';\n\n// services\nimport { getFlagType } from '../../utils';\n\n// hooks\nimport useInappropriateContentFlag from '../../hooks/useInappropriateContentFlag';\n\n// i18n\nimport { injectIntl } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\nimport messages from './messages';\n\nconst Container = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nconst WarningContent = styled.div`\n  color: ${colors.clRedError};\n  font-weight: bold;\n  margin-right: 5px;\n`;\n\nconst StyledIconTooltip = styled(IconTooltip)``;\n\ninterface Props {\n  inappropriateContentFlagId: string;\n}\n\nconst InappropriateContentWarning = ({\n  inappropriateContentFlagId,\n  intl: { formatMessage },\n}: Props & InjectedIntlProps) => {\n  const inappropriateContentFlag = useInappropriateContentFlag(\n    inappropriateContentFlagId\n  );\n\n  if (!isNilOrError(inappropriateContentFlag)) {\n    const flagType = getFlagType(inappropriateContentFlag);\n    const reasonCode = inappropriateContentFlag.attributes.reason_code;\n\n    // if reasonCode is null, it means the flag has been removed\n    // and we shouldn't display anything\n    if (reasonCode && flagType) {\n      return (\n        <Container>\n          <WarningContent>\n            {\n              {\n                nlp_flagged: formatMessage(messages.nlpFlaggedWarningText),\n                user_flagged: formatMessage(messages.userFlaggedWarningText),\n              }[flagType]\n            }\n          </WarningContent>\n          <StyledIconTooltip\n            iconColor={colors.clRedError}\n            content={formatMessage(messages.flagTooltip)}\n          />\n        </Container>\n      );\n    }\n  }\n\n  return null;\n};\n\nexport default injectIntl(InappropriateContentWarning);\n","import React, { memo } from 'react';\n\n// components\nimport { EventDateBlock, EventDate, EventYear } from './styling';\nimport DayAndMonth from './DayAndMonth';\n\ninterface Props {\n  startAtDay: string;\n  endAtDay?: string;\n  startAtMonth: string;\n  endAtMonth?: string;\n  startAtYear: string;\n  isMultiDayEvent?: boolean;\n}\n\nexport default memo<Props>((props) => {\n  const {\n    startAtDay,\n    endAtDay,\n    startAtMonth,\n    endAtMonth,\n    startAtYear,\n    isMultiDayEvent,\n  } = props;\n\n  const isMultiMonthEvent = startAtMonth !== endAtMonth;\n\n  return (\n    <EventDateBlock>\n      <EventDate>\n        <DayAndMonth day={startAtDay} month={startAtMonth} />\n\n        {isMultiDayEvent && (\n          <>\n            <span>-</span>\n            <DayAndMonth\n              day={endAtDay}\n              month={isMultiMonthEvent ? endAtMonth : null}\n            />\n          </>\n        )}\n      </EventDate>\n\n      <EventYear>\n        <span>{startAtYear}</span>\n      </EventYear>\n    </EventDateBlock>\n  );\n});\n","import useFeatureFlag from 'hooks/useFeatureFlag';\nimport React, { ReactNode } from 'react';\nimport { ModuleConfiguration } from 'utils/moduleUtils';\nimport ProjectManagement from './admin/containers/ProjectManagement';\nimport Tab from './admin/components/Tab';\nimport FeatureFlag from 'components/FeatureFlag';\n\ntype RenderOnTabHideConditionProps = {\n  children: ReactNode;\n};\n\nconst RenderOnTabHideCondition = ({\n  children,\n}: RenderOnTabHideConditionProps) => {\n  // Could be more than just a feature flag check,\n  // hence we're not using the FeatureFlag component\n  const isEnabled = useFeatureFlag('project_management');\n  if (isEnabled) {\n    return <>{children}</>;\n  }\n  return null;\n};\n\nconst configuration: ModuleConfiguration = {\n  outlets: {\n    'app.containers.Admin.project.edit.permissions.moderatorRights': (\n      props\n    ) => (\n      <FeatureFlag name=\"project_management\">\n        <ProjectManagement {...props} />\n      </FeatureFlag>\n    ),\n    'app.containers.Admin.projects.edit': (props) => {\n      return (\n        <RenderOnTabHideCondition>\n          <Tab {...props} />\n        </RenderOnTabHideCondition>\n      );\n    },\n  },\n};\n\nexport default configuration;\n","import React from 'react';\nimport {\n  IDestinationConfig,\n  registerDestination,\n} from 'components/ConsentManager/destinations';\nimport { initializeFor } from 'utils/analytics';\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from './messages';\nimport { combineLatest } from 'rxjs';\nimport { currentAppConfigurationStream } from 'services/appConfiguration';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { ModuleConfiguration } from 'utils/moduleUtils';\n\ndeclare module 'components/ConsentManager/destinations' {\n  export interface IDestinationMap {\n    google_tag_manager: 'google_tag_manager';\n  }\n}\n\nconst destinationConfig: IDestinationConfig = {\n  key: 'google_tag_manager',\n  category: (tenant) =>\n    tenant.attributes.settings.google_tag_manager?.category || 'analytics',\n  feature_flag: 'google_tag_manager',\n  name: (tenant) => (\n    <FormattedMessage\n      {...messages.google_tag_manager}\n      values={{\n        destinations:\n          tenant.attributes.settings.google_tag_manager?.destinations,\n      }}\n    />\n  ),\n};\n\nconst configuration: ModuleConfiguration = {\n  beforeMountApplication: () => {\n    combineLatest([\n      currentAppConfigurationStream().observable,\n      initializeFor('google_tag_manager'),\n    ]).subscribe(([tenant, _]) => {\n      if (isNilOrError(tenant)) return;\n\n      (function (w, d, s, l, i) {\n        w[l] = w[l] || [];\n        w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' });\n        const f = d.getElementsByTagName(s)[0];\n        const j = d.createElement(s) as HTMLScriptElement;\n        const dl = l !== 'dataLayer' ? `&l=${l}` : '';\n        j.async = true;\n        j.src = `https://www.googletagmanager.com/gtm.js?id=${i}${dl}`;\n        f?.parentNode?.insertBefore(j, f);\n      })(\n        window,\n        document,\n        'script',\n        'dataLayer',\n        tenant.data.attributes.settings.google_tag_manager?.container_id\n      );\n    });\n\n    registerDestination(destinationConfig);\n  },\n};\n\nexport default configuration;\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  or: {\n    id: 'app.containers.SignIn.or',\n    defaultMessage: 'Or',\n  },\n});\n","export default {\n  signUpCustomFieldsStepEntered: 'Sign up - custom fields step entered',\n  signUpCustomFieldsStepExited: 'Sign up - custom fields step exited',\n  signUpCustomFieldsStepCompleted: 'Sign up - custom fields step completed',\n  signUpCustomFieldsStepSkipped: 'Sign up - custom fields step skipped',\n  signUpCustomFieldsStepFailed: 'Sign up - custom fields step failed',\n};\n","'use strict';\nexports.__esModule = true;\nexports.appLocalesMomentPairs = exports.shortenedAppLocalePairs = exports.appGraphqlLocalePairs = exports.appLocalePairs = exports.graphqlLocales = exports.locales = exports.DEFAULT_LOCALE = exports.GRAPHQL_PORT = exports.GRAPHQL_HOST = exports.API_PORT = exports.API_HOST = exports.GOOGLE_MAPS_API_KEY = exports.API_PATH = exports.AUTH_PATH = void 0;\nexports.AUTH_PATH = '/auth';\nexports.API_PATH = '/web_api/v1';\nexports.GOOGLE_MAPS_API_KEY = process.env.GOOGLE_MAPS_API_KEY || '';\nexports.API_HOST =\n  process.env.API_HOST ||\n  (typeof window === 'undefined' ? 'localhost' : window.location.hostname);\nexports.API_PORT = process.env.API_PORT || 4000;\nexports.GRAPHQL_HOST =\n  process.env.GRAPHQL_HOST ||\n  (typeof window === 'undefined' ? 'localhost' : window.location.hostname);\nexports.GRAPHQL_PORT = process.env.GRAPHQL_PORT || 5001;\nexports.DEFAULT_LOCALE = 'en';\n// the locales we \"support\" :\n// platformBaseUrl/{oneOfTheseStrings}/{anything we have a route for}\n// - won't 404\n// - will replace the oneOfTheseStrings with authUser's locale if there is one\n// - else, will replace the oneOfTheseStrings with the one if the cookie if it exists\n// - else, will replce the oneOfTheseStrings with the first locale of the platfom (default)\nexports.locales = [\n  'en',\n  'fr',\n  'de',\n  'nl',\n  'nb',\n  'da',\n  'es',\n  'de-DE',\n  'it-IT',\n  'en-GB',\n  'en-CA',\n  'fr-BE',\n  'fr-FR',\n  'nl-BE',\n  'nl-NL',\n  'da-DK',\n  'nb-NO',\n  'es-ES',\n  'es-CL',\n  'pl-PL',\n  'kl-GL',\n  'hu-HU',\n  'ro-RO',\n  'pt-BR',\n  'ar-SA',\n  'mi',\n  'sr-Latn',\n];\nexports.graphqlLocales = [\n  'en',\n  'fr',\n  'de',\n  'nl',\n  'nb',\n  'da',\n  'es',\n  'enGb',\n  'enCa',\n  'frBe',\n  'frFr',\n  'nlBe',\n  'nlNl',\n  'deDe',\n  'itIt',\n  'daDk',\n  'nbNo',\n  'esEs',\n  'esCl',\n  'plPl',\n  'klGl',\n  'huHu',\n  'roRo',\n  'ptBr',\n  'arSa',\n  'mi',\n  'srLatn',\n];\n// the locales we really support, ie we have translations for these ect\nexports.appLocalePairs = {\n  en: 'English',\n  'en-GB': 'English (Great Britain)',\n  'en-CA': 'English (Canada)',\n  'fr-BE': 'Franais (Belgique)',\n  'fr-FR': 'Franais (France)',\n  'nl-BE': 'Nederlands (Belgi)',\n  'nl-NL': 'Nederlands (Nederland)',\n  'de-DE': 'Deutsch',\n  'it-IT': 'Italiano',\n  'da-DK': 'Dansk',\n  'nb-NO': 'Norsk (Bokml)',\n  'es-ES': 'Espaol (Espaa)',\n  'es-CL': 'Espaol (Chile)',\n  'pl-PL': 'Polski',\n  'kl-GL': 'Kalaallisut',\n  'hu-HU': 'Magyar',\n  'ro-RO': 'Romn',\n  'pt-BR': 'Portugus (Brasil)',\n  'ar-SA': '',\n  mi: 'Mori',\n  'sr-Latn': 'Serbian (Latin)',\n};\nexports.appGraphqlLocalePairs = {\n  en: 'en',\n  fr: 'fr',\n  de: 'de',\n  nl: 'nl',\n  nb: 'nb',\n  da: 'da',\n  es: 'es',\n  enGb: 'en-GB',\n  enCa: 'en-CA',\n  frBe: 'fr-BE',\n  frFr: 'fr-FR',\n  nlBe: 'nl-BE',\n  nlNl: 'nl-NL',\n  deDe: 'de-DE',\n  itIt: 'it-IT',\n  daDk: 'da-DK',\n  nbNo: 'nb-NO',\n  esEs: 'es-ES',\n  esCl: 'es-CL',\n  plPl: 'pl-PL',\n  klGl: 'kl-GL',\n  huHu: 'hu-HU',\n  roRo: 'ro-RO',\n  ptBr: 'pt-BR',\n  arSa: 'ar',\n  mi: 'mi',\n  srLatn: 'sr-Latn',\n};\nexports.shortenedAppLocalePairs = {\n  en: 'English',\n  'en-GB': 'English',\n  'en-CA': 'English',\n  'fr-BE': 'Franais',\n  'fr-FR': 'Franais',\n  'nl-BE': 'Nederlands',\n  'nl-NL': 'Nederlands',\n  'de-DE': 'Deutsch',\n  'it-IT': 'Italiano',\n  'da-DK': 'Dansk',\n  'nb-NO': 'Norsk',\n  'es-ES': 'Espaol',\n  'es-CL': 'Espaol',\n  'pl-PL': 'Polski',\n  'kl-GL': 'Kalaallisut',\n  'hu-HU': 'Magyar',\n  'ro-RO': 'Romn',\n  'pt-BR': 'Portugus',\n  'ar-SA': '',\n  mi: 'Mori',\n  'sr-Latn': 'Serbian',\n};\n// see https://www.ge.com/digital/documentation/predix-services/c_custom_locale_support.html\nexports.appLocalesMomentPairs = {\n  'en-GB': 'en-gb',\n  'en-CA': 'en-ca',\n  'fr-BE': 'fr',\n  'fr-FR': 'fr',\n  'nl-BE': 'nl',\n  'nl-NL': 'nl',\n  'de-DE': 'de',\n  'it-IT': 'it',\n  'da-DK': 'da',\n  'nb-NO': 'nb',\n  'es-ES': 'es',\n  'es-CL': 'es',\n  'pl-PL': 'pl',\n  'kl-GL': 'da',\n  'hu-HU': 'hu',\n  'ro-RO': 'ro',\n  'pt-BR': 'pt',\n  'ar-SA': 'ar',\n  mi: 'mi',\n  'sr-Latn': 'sr',\n};\n","// libraries\nimport React from 'react';\n\n// intl\nimport { injectIntl, FormattedMessage } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\nimport messages from '../../messages';\n\n// styling\nimport { withTheme } from 'styled-components';\n\n// components\nimport ReportExportMenu from 'components/admin/ReportExportMenu';\nimport { PieChart, Pie, Tooltip, Cell, ResponsiveContainer } from 'recharts';\nimport {\n  IGraphUnit,\n  NoDataContainer,\n  GraphCardHeader,\n  GraphCardTitle,\n  GraphCard,\n  GraphCardInner,\n  PieChartStyleFixesDiv,\n} from 'components/admin/Chart';\n\n// resources\nimport GetSerieFromStream from 'resources/GetSerieFromStream';\n\n// typings\nimport { IStreamParams, IStream } from 'utils/streams';\n\nimport { IGraphFormat } from 'typings';\n\ninterface DataProps {\n  serie: IGraphFormat;\n}\n\nexport interface ISupportedDataTypeMap {}\n\nexport type ISupportedDataType = ISupportedDataTypeMap[keyof ISupportedDataTypeMap];\n\ninterface InputProps {\n  stream: (\n    streamParams?: IStreamParams | null,\n    customId?: string\n  ) => IStream<ISupportedDataType>;\n  convertToGraphFormat: (ISupportedDataType) => IGraphFormat | null;\n  startAt: string | null | undefined;\n  endAt: string | null;\n  currentGroupFilter: string | undefined;\n  currentGroupFilterLabel: string | undefined;\n  graphTitleString: string;\n  graphUnit: IGraphUnit;\n  className?: string;\n  customId: string;\n  xlsxEndpoint: string;\n}\n\ninterface Props extends InputProps, DataProps {}\n\nconst labelColors = ['#C37281 ', '#5D99C6', '#B0CDC4 ', '#C0C2CE'];\n\nclass PieChartByCategory extends React.PureComponent<\n  Props & InjectedIntlProps\n> {\n  currentChart: React.RefObject<any>;\n\n  constructor(props: Props & InjectedIntlProps) {\n    super(props as any);\n    this.currentChart = React.createRef();\n  }\n\n  formatEntry = (entry) => {\n    return `${entry.name} : ${entry.value}`;\n  };\n  render() {\n    const { colorMain, animationBegin, animationDuration } = this.props[\n      'theme'\n    ];\n    const {\n      className,\n      graphTitleString,\n      serie,\n      xlsxEndpoint,\n      currentGroupFilter,\n      currentGroupFilterLabel,\n    } = this.props;\n\n    return (\n      <GraphCard className={className}>\n        <GraphCardInner>\n          <GraphCardHeader>\n            <GraphCardTitle>{graphTitleString}</GraphCardTitle>\n            {serie && (\n              <ReportExportMenu\n                name={graphTitleString}\n                svgNode={this.currentChart}\n                xlsxEndpoint={xlsxEndpoint}\n                currentGroupFilter={currentGroupFilter}\n                currentGroupFilterLabel={currentGroupFilterLabel}\n              />\n            )}\n          </GraphCardHeader>\n          {!serie ? (\n            <NoDataContainer>\n              <FormattedMessage {...messages.noData} />\n            </NoDataContainer>\n          ) : (\n            <PieChartStyleFixesDiv>\n              <ResponsiveContainer height={175} width=\"100%\" minWidth={175}>\n                <PieChart>\n                  <Pie\n                    animationDuration={animationDuration}\n                    animationBegin={animationBegin}\n                    isAnimationActive={true}\n                    data={serie}\n                    dataKey=\"value\"\n                    innerRadius={60}\n                    fill={colorMain}\n                    label={this.formatEntry}\n                    ref={this.currentChart}\n                  >\n                    {serie.map((_, index) => (\n                      <Cell key={`cell-${index}`} fill={labelColors[index]} />\n                    ))}\n                  </Pie>\n                  <Tooltip isAnimationActive={false} />\n                </PieChart>\n              </ResponsiveContainer>\n            </PieChartStyleFixesDiv>\n          )}\n        </GraphCardInner>\n      </GraphCard>\n    );\n  }\n}\n\nconst PieChartByCategoryWithHoCs = injectIntl<Props>(\n  withTheme(PieChartByCategory as any) as any\n);\n\nconst WrappedPieChartByCategory = (inputProps: InputProps) => (\n  <GetSerieFromStream {...inputProps}>\n    {(serie) => <PieChartByCategoryWithHoCs {...serie} {...inputProps} />}\n  </GetSerieFromStream>\n);\n\nexport default WrappedPieChartByCategory;\n","import { FunctionComponent } from 'react';\nimport { ILeafletMapConfig } from 'components/UI/LeafletMap/useLeaflet';\nimport {\n  TSignUpStepConfigurationObject,\n  TSignUpSteps,\n} from 'components/SignUpIn/SignUp';\n\nimport {\n  LoadableLoadingAdmin,\n  LoadableLoadingCitizen,\n} from 'components/UI/LoadableLoading';\nimport { ISignUpInMetaData } from 'components/SignUpIn';\n\nimport { GroupCreationModal } from 'containers/Admin/users';\nimport { NormalFormValues } from 'containers/Admin/users/NormalGroupForm';\nimport { IAdminPublicationContent } from 'hooks/useAdminPublications';\nimport { IProjectData, IUpdatedProjectProperties } from 'services/projects';\nimport { onProjectFormStateChange } from 'containers/Admin/projects/edit/general';\nimport { ITabItem } from 'components/UI/Tabs';\nimport { OutletRenderProps } from 'components/Outlet';\nimport { mergeWith, castArray, clamp } from 'lodash-es';\n\nimport Loadable from 'react-loadable';\nimport { IGroupDataAttributes, MembershipType } from 'services/groups';\nimport { ParticipationMethod } from 'services/participationContexts';\nimport {\n  CellConfiguration,\n  FormikSubmitHandler,\n  InsertConfigurationOptions,\n  ITab,\n  MessageDescriptor,\n  Multiloc,\n} from 'typings';\nimport { LatLngTuple } from 'leaflet';\nimport { Point } from 'components/UI/LeafletMap/typings';\nimport { IUserData } from 'services/users';\nimport { MessageValue } from 'react-intl';\nimport { NavItem } from 'containers/Admin/sideBar';\nimport {\n  IAppConfigurationSettings,\n  IAppConfigurationSettingsCore,\n  IAppConfigurationStyle,\n} from 'services/appConfiguration';\nimport { ManagerType } from 'components/admin/PostManager';\nimport { IdeaCellComponentProps } from 'components/admin/PostManager/components/PostTable/IdeaRow';\nimport { IdeaHeaderCellComponentProps } from 'components/admin/PostManager/components/PostTable/IdeaHeaderRow';\nimport { TTabName } from 'containers/Admin/projects/all/CreateProject';\nimport { IVerificationMethod } from 'services/verificationMethods';\nimport { IPhaseData } from 'services/phases';\nimport { GetInitiativeChildProps } from 'resources/GetInitiative';\nimport { GetLocaleChildProps } from 'resources/GetLocale';\nimport { ICommentData } from 'services/comments';\nimport { GetAppConfigurationLocalesChildProps } from 'resources/GetAppConfigurationLocales';\nimport { GetWindowSizeChildProps } from 'resources/GetWindowSize';\nimport { GetIdeaChildProps } from 'resources/GetIdea';\nimport {\n  IOnboardingCampaignNames,\n  IOnboardingCampaigns,\n} from 'services/onboardingCampaigns';\nimport { TNotificationData } from 'services/notifications';\n\ntype Localize = (\n  multiloc: Multiloc | null | undefined,\n  maxChar?: number | undefined\n) => string;\n\nexport type ITabsOutlet = {\n  formatMessage: (\n    messageDescriptor: MessageDescriptor,\n    values?: { [key: string]: MessageValue } | undefined\n  ) => string;\n  onData: (data: InsertConfigurationOptions<ITab>) => void;\n};\n\nexport type SignUpStepOutletProps = {\n  onData: (data: {\n    key: TSignUpSteps;\n    configuration: TSignUpStepConfigurationObject;\n  }) => void;\n  step: TSignUpSteps | null;\n  metaData: ISignUpInMetaData;\n  onCompleted: () => void;\n  onSkipped: () => void;\n  onError: () => void;\n};\n\nexport type IAdminSettingsRegistrationFormOutletProps = {\n  onChange: (\n    propertyName: string,\n    submitOnChange?: boolean\n  ) => (value: any) => void;\n  latestAppConfigSettings?:\n    | IAppConfigurationSettings\n    | Partial<IAppConfigurationSettings>;\n};\n\nexport type IAdminSettingsRegistrationFormPageOutletProps = {\n  onChange: (propertyName: string) => (multiloc: Multiloc) => void;\n  latestAppConfigCoreSettings?:\n    | IAppConfigurationSettingsCore\n    | Partial<IAppConfigurationSettingsCore>;\n};\n\nexport type OutletsPropertyMap = {\n  'app.containers.Navbar.projectlist.item': {\n    publication: IAdminPublicationContent;\n    localize: Localize;\n  };\n  'app.containers.Navbar.projectsAndFolders.title': Record<string, any>;\n  'app.containers.AdminPage.projects.all.projectsAndFolders.row': {\n    publication: IAdminPublicationContent;\n  };\n  'app.containers.AdminPage.projects.all.projectsAndFolders.title': Record<\n    string,\n    any\n  >;\n  'app.components.AdminPage.projects.form.additionalInputs.inputs': {\n    projectAttrs: IUpdatedProjectProperties;\n    onChange: onProjectFormStateChange;\n    authUser: IUserData;\n  };\n  'app.containers.AdminPage.projects.all.createProjectNotAdmin': Record<\n    string,\n    any\n  >;\n  'app.containers.AdminPage.projects.all.projectsAndFolders.actions': Record<\n    string,\n    any\n  >;\n  'app.containers.Admin.projects.all.createProject': {\n    selectedTabValue: TTabName;\n  };\n  'app.containers.Admin.projects.all.createProject.tabs': {\n    onData: (data: InsertConfigurationOptions<ITabItem>) => void;\n  };\n  'app.components.SignUpIn.metaData': {\n    metaData: ISignUpInMetaData | undefined;\n  };\n  'app.containers.Admin.projects.all.container': {\n    onRender: (hasRendered: boolean) => void;\n  };\n  'app.components.ProjectAndFolderCards.card': {\n    publication: IAdminPublicationContent;\n    size: 'small' | 'medium' | 'large';\n    layout: 'dynamic' | 'threecolumns' | 'twocolumns';\n  };\n  'app.containers.SiteMap.ProjectsSection.listitem': {\n    adminPublication: IAdminPublicationContent;\n    hightestTitle: 'h3' | 'h4';\n  };\n  'app.containers.Admin.users.GroupsListPanel.listitem.icon': {\n    type: MembershipType;\n  };\n  'app.containers.Admin.users.GroupCreationStep1.type': {\n    onClick: (groupType: MembershipType) => () => void;\n    formattedLink: string;\n  };\n  'app.containers.Admin.users.form': {\n    type: GroupCreationModal;\n    onSubmit: FormikSubmitHandler<NormalFormValues>;\n    isVerificationEnabled: boolean;\n  };\n  'app.containers.Admin.users.header': {\n    type: GroupCreationModal;\n  };\n  'app.containers.Admin.users.UsersGroup.form': {\n    initialValues: IGroupDataAttributes;\n    type: GroupCreationModal;\n    onSubmit: FormikSubmitHandler<NormalFormValues>;\n    isVerificationEnabled: boolean;\n  };\n  'app.containers.Admin.users.UsersGroup.header': {\n    type: GroupCreationModal;\n  };\n  'app.containers.Admin.users.UsersHeader.icon': {\n    type: GroupCreationModal;\n  };\n  'app.containers.Admin.dashboard.users.graphs': {\n    startAt?: string | null;\n    endAt: string | null;\n    currentGroupFilter?: string;\n    currentGroupFilterLabel?: string;\n  };\n  'app.components.SignUpIn.SignUp.step': SignUpStepOutletProps;\n  'app.containers.Admin.dashboard.reports.ProjectReport.graphs': {\n    startAt: string;\n    endAt: string;\n    participationMethods: ParticipationMethod[];\n    project: IProjectData;\n  };\n  'app.containers.IdeasShow.MetaInformation': {\n    ideaId: string;\n    compact?: boolean;\n  };\n  'app.containers.UserEditPage.ProfileForm.forms': {\n    authUser: IUserData;\n    onChange: () => void;\n    onSubmit: (data: { key: string; formData: Record<string, any> }) => void;\n    onData: (data: { key: string; data: Record<string, any> }) => void;\n  };\n  'app.containers.Admin.project.edit.permissions.participationRights': {\n    project: IProjectData;\n    projectId: string;\n    children: OutletRenderProps;\n  };\n  'app.containers.Admin.project.edit.permissions.moderatorRights': {\n    projectId: string;\n    children: OutletRenderProps;\n  };\n  'app.containers.Admin.projects.edit': {\n    onData: (data: InsertConfigurationOptions<ITab>) => void;\n    project: IProjectData;\n    phases: IPhaseData[] | null;\n  };\n  'app.containers.Admin.settings.tabs': {\n    onData: (data: InsertConfigurationOptions<ITab>) => void;\n  };\n  'app.containers.Admin.initiatives.tabs': ITabsOutlet;\n  'app.containers.Admin.ideas.tabs': ITabsOutlet;\n  'app.containers.Admin.dashboards.tabs': ITabsOutlet;\n  'app.containers.Admin.sideBar.navItems': {\n    onData: (data: InsertConfigurationOptions<NavItem>) => void;\n  };\n  'app.components.admin.PostManager.topActionBar': {\n    assignee?: string | null;\n    projectId?: string | null;\n    handleAssigneeFilterChange: (value: string) => void;\n    type: ManagerType;\n  };\n  'app.components.admin.PostManager.components.PostTable.IdeaRow.cells': {\n    onData: (\n      data: InsertConfigurationOptions<\n        CellConfiguration<IdeaCellComponentProps>\n      >\n    ) => void;\n  };\n  'app.components.admin.PostManager.components.PostTable.IdeaHeaderRow.cells': {\n    onData: (\n      data: InsertConfigurationOptions<\n        CellConfiguration<IdeaHeaderCellComponentProps>\n      >\n    ) => void;\n  };\n  'app.containers.Admin.guide.SetupSection': Record<string, any>;\n  'app.components.Map.leafletConfig': {\n    onLeafletConfigChange: (newLeafletConfig: ILeafletMapConfig) => void;\n    projectId?: string | null;\n    centerLatLng?: LatLngTuple;\n    zoomLevel?: number;\n    points?: Point[];\n  };\n  'app.components.Map.Legend': {\n    projectId?: string | null;\n    className?: string;\n  };\n  'app.containers.Admin.settings.registration': Record<string, any>;\n  'app.containers.Admin.settings.registrationHelperText': IAdminSettingsRegistrationFormPageOutletProps;\n  'app.containers.Admin.settings.registrationBeginning': IAdminSettingsRegistrationFormOutletProps;\n  'app.components.VerificationModal.button': {\n    method: IVerificationMethod;\n    onMethodSelected: () => void;\n    last: boolean;\n  };\n  'app.components.VerificationModal.methodStep': {\n    method: IVerificationMethod;\n    onCancel: () => void;\n    onVerified: () => void;\n    showHeader?: boolean;\n    inModal: boolean;\n  };\n  'app.components.PostShowComponents.ActionBar.right': {\n    translateButtonClicked: boolean;\n    onClick: () => void;\n    initiative: GetInitiativeChildProps;\n    locale: GetLocaleChildProps;\n  };\n  'app.components.PostShowComponents.CommentFooter.left': {\n    comment: ICommentData;\n    locale: GetLocaleChildProps;\n    tenantLocales: GetAppConfigurationLocalesChildProps;\n  };\n  'app.containers.InitiativesShow.left': {\n    windowSize: GetWindowSizeChildProps;\n    translateButtonClicked: boolean;\n    onClick: () => void;\n    initiative: GetInitiativeChildProps;\n    locale: GetLocaleChildProps;\n  };\n  'app.containers.IdeasShow.left': {\n    translateButtonClicked: boolean;\n    onClick: () => void;\n    idea: GetIdeaChildProps;\n    locale: GetLocaleChildProps;\n  };\n  'app.components.PostShowComponents.CommentBody.translation': {\n    translateButtonClicked: boolean;\n    commentContent: string;\n    locale: GetLocaleChildProps;\n    commentId: string;\n  };\n  'app.components.PostShowComponents.Body.translation': {\n    postId: string;\n    body: string;\n    locale: GetLocaleChildProps;\n    translateButtonClicked?: boolean;\n    postType: 'idea' | 'initiative';\n  };\n  'app.components.PostShowComponents.Title.translation': {\n    postId: string;\n    postType: 'idea' | 'initiative';\n    title: string;\n    locale?: GetLocaleChildProps;\n    translateButtonClicked?: boolean;\n    color?: string;\n    align: 'left' | 'center';\n  };\n  'app.containers.UserEditPage.content': Record<string, any>;\n  'app.containers.Navbar.UserMenu.UserNameContainer': {\n    isVerified: boolean;\n  };\n  'app.containers.App.modals': { onMounted: (id: string) => void };\n  'app.containers.LandingPage.onboardingCampaigns': {\n    onboardingCampaigns: IOnboardingCampaigns;\n    contentTimeout: number;\n    contentDelay: number;\n    authUser: IUserData;\n    theme: unknown;\n    onSkip: (name: IOnboardingCampaignNames) => void;\n    onAccept: (name: IOnboardingCampaignNames) => void;\n  };\n  'app.containers.App.signUpInModal': {\n    onMounted: (id: string) => void;\n  };\n  'app.containers.Admin.settings.customize.fields': {\n    onChange: (key: string) => (value: unknown) => void;\n    latestAppConfigStyleSettings?: IAppConfigurationStyle | null;\n    theme: any;\n  };\n  'app.containers.Admin.settings.general.form': {\n    onSettingChange: (settingName: string, settingValue: any) => void;\n  };\n  'app.modules.commercial.moderation.admin.containers.ModerationRow.content': {\n    inappropriateContentFlagId: string | undefined;\n  };\n  'app.modules.commercial.moderation.admin.components.EmptyMessage': {\n    isWarningsTabSelected: boolean;\n  };\n  'app.modules.commercial.moderation.admin.containers.actionbar.buttons': {\n    selectedActiveFlagsCount: number;\n    processing: boolean;\n    onRemoveFlags: () => void;\n    isWarningsTabSelected: boolean;\n  };\n  'app.modules.commercial.moderation.admin.containers.tabs': {\n    onData: (data: InsertConfigurationOptions<ITabItem>) => void;\n    activeFlagsCount: number;\n  };\n  'app.components.NotificationMenu.Notification': {\n    notification: TNotificationData;\n  };\n  'app.containers.ProjectsShowPage.shared.header.ProjectHeader.GoBackButton': {\n    projectFolderId: string;\n    className?: string;\n  };\n  'app.containers.LandingPage.EventsWidget': Record<string, any>;\n  'app.containers.Admin.settings.customize.EventsWidgetSwitch': {\n    checked: boolean;\n    onChange: () => void;\n    title: string;\n    description: string;\n  };\n};\n\ntype Outlet<Props> = FunctionComponent<Props> | FunctionComponent<Props>[];\n\ntype OutletComponents<O> = {\n  [K in keyof O]?: Outlet<O[K]>;\n};\n\nexport type Outlets = OutletComponents<OutletsPropertyMap>;\n\nexport type OutletId = keyof Outlets;\n\nexport type RouteConfiguration = {\n  path?: string;\n  name?: string;\n  container: () => Promise<any>;\n  type?: string;\n  indexRoute?: RouteConfiguration;\n  childRoutes?: RouteConfiguration[];\n};\n\ntype RecursivePartial<T> = {\n  [P in keyof T]?: T[P] extends (infer U)[]\n    ? RecursivePartial<U>[]\n    : T[P] extends Record<string, any>\n    ? RecursivePartial<T[P]>\n    : T[P];\n};\n\ninterface Routes {\n  citizen: RouteConfiguration[];\n  admin: RouteConfiguration[];\n  'admin.projects': RouteConfiguration[];\n  'admin.initiatives': RouteConfiguration[];\n  'admin.ideas': RouteConfiguration[];\n  'admin.dashboards': RouteConfiguration[];\n  'admin.project_templates': RouteConfiguration[];\n  'admin.settings': RouteConfiguration[];\n}\n\nexport interface ParsedModuleConfiguration {\n  routes: Routes;\n  outlets: Outlets;\n  /** this function triggers before the Root component is mounted */\n  beforeMountApplication: () => void;\n  /** this function triggers after the Root component mounted */\n  afterMountApplication: () => void;\n  /** used to reset streams created in a module */\n  streamsToReset: string[];\n}\n\nexport type ModuleConfiguration = RecursivePartial<\n  ParsedModuleConfiguration\n> & {\n  /** this function triggers before the Root component is mounted */\n  beforeMountApplication?: () => void;\n  /** this function triggers after the Root component mounted */\n  afterMountApplication?: () => void;\n  /** used to reset streams created in a module */\n  streamsToReset?: string[];\n};\n\ntype Modules = {\n  configuration: ModuleConfiguration;\n  isEnabled: boolean;\n}[];\n\nexport const RouteTypes = {\n  CITIZEN: 'citizen',\n  ADMIN: 'admin',\n};\n\nconst convertConfigurationToRoute = ({\n  path,\n  name,\n  container: loader,\n  type = RouteTypes.CITIZEN,\n  indexRoute,\n  childRoutes,\n}: RouteConfiguration) => ({\n  path,\n  name,\n  component: Loadable({\n    loader,\n    loading:\n      type === RouteTypes.ADMIN ? LoadableLoadingAdmin : LoadableLoadingCitizen,\n    delay: 500,\n  }),\n  indexRoute:\n    indexRoute && convertConfigurationToRoute({ ...indexRoute, type }),\n  childRoutes:\n    childRoutes &&\n    childRoutes.length > 0 &&\n    childRoutes.map((childRoute) =>\n      convertConfigurationToRoute({ ...childRoute, type })\n    ),\n});\n\nconst parseModuleRoutes = (\n  routes: RouteConfiguration[] = [],\n  type = RouteTypes.CITIZEN\n) => routes.map((route) => convertConfigurationToRoute({ ...route, type }));\n\ntype LifecycleMethod = 'beforeMountApplication' | 'afterMountApplication';\n\nexport const loadModules = (modules: Modules): ParsedModuleConfiguration => {\n  const enabledModuleConfigurations = modules\n    .filter((module) => module.isEnabled)\n    .map((module) => module.configuration);\n\n  const mergedRoutes: Routes = mergeWith(\n    {},\n    ...enabledModuleConfigurations.map(({ routes }) => routes),\n    (objValue = [], srcValue = []) =>\n      castArray(objValue).concat(castArray(srcValue))\n  );\n\n  const mergedOutlets: Outlets = mergeWith(\n    {},\n    ...enabledModuleConfigurations.map(({ outlets }) => outlets),\n    (objValue = [], srcValue = []) =>\n      castArray(objValue).concat(castArray(srcValue))\n  );\n\n  const callLifecycleMethods = (lifecycleMethod: LifecycleMethod) => () => {\n    enabledModuleConfigurations.forEach((module: ModuleConfiguration) =>\n      module?.[lifecycleMethod]?.()\n    );\n  };\n\n  return {\n    outlets: mergedOutlets,\n    routes: {\n      citizen: parseModuleRoutes(mergedRoutes?.citizen),\n      admin: parseModuleRoutes(mergedRoutes?.admin, RouteTypes.ADMIN),\n      'admin.initiatives': parseModuleRoutes(\n        mergedRoutes?.['admin.initiatives'],\n        RouteTypes.ADMIN\n      ),\n      'admin.ideas': parseModuleRoutes(\n        mergedRoutes?.['admin.ideas'],\n        RouteTypes.ADMIN\n      ),\n      'admin.dashboards': parseModuleRoutes(\n        mergedRoutes?.['admin.dashboards'],\n        RouteTypes.ADMIN\n      ),\n      'admin.projects': parseModuleRoutes(\n        mergedRoutes?.['admin.projects'],\n        RouteTypes.ADMIN\n      ),\n      'admin.project_templates': parseModuleRoutes(\n        mergedRoutes?.['admin.project_templates'],\n        RouteTypes.ADMIN\n      ),\n      'admin.settings': parseModuleRoutes(\n        mergedRoutes?.['admin.settings'],\n        RouteTypes.ADMIN\n      ),\n    },\n    beforeMountApplication: callLifecycleMethods('beforeMountApplication'),\n    afterMountApplication: callLifecycleMethods('afterMountApplication'),\n    streamsToReset: enabledModuleConfigurations.reduce(\n      (acc: string[], module: ModuleConfiguration) => {\n        return [...acc, ...(module?.streamsToReset ?? [])];\n      },\n      []\n    ),\n  };\n};\n\nexport const insertConfiguration = <T extends { name: string }>({\n  configuration,\n  insertAfterName,\n  insertBeforeName,\n}: InsertConfigurationOptions<T>) => (items: T[]): T[] => {\n  const itemAlreadyInserted = items.some(\n    (item) => item.name === configuration.name\n  );\n  // index of item where we need to insert before/after\n  const referenceIndex = items.findIndex(\n    (item) => item.name === (insertAfterName || insertBeforeName)\n  );\n  const insertIndex = clamp(\n    // if number is outside of lower and upper, it picks\n    // the closes value. If it's inside the ranges, the\n    // number is kept\n    insertAfterName ? referenceIndex + 1 : referenceIndex - 1,\n    0,\n    items.length\n  );\n\n  if (itemAlreadyInserted) {\n    items.splice(insertIndex, 1);\n  }\n\n  return [\n    ...items.slice(0, insertIndex),\n    configuration,\n    ...items.slice(insertIndex),\n  ];\n};\n","import { ModuleConfiguration } from 'utils/moduleUtils';\nimport React from 'react';\nimport NavItem from './admin/components/NavItem';\n\nconst configuration: ModuleConfiguration = {\n  routes: {\n    admin: [\n      {\n        path: 'moderation',\n        name: 'moderation',\n        container: () => import('./admin/containers'),\n      },\n    ],\n  },\n  outlets: {\n    'app.containers.Admin.sideBar.navItems': (props) => <NavItem {...props} />,\n  },\n};\n\nexport default configuration;\n","import { API_PATH } from 'containers/App/constants';\nimport streams, { IStreamParams } from 'utils/streams';\n\nconst apiEndpoint = `${API_PATH}/events`;\n\nexport interface IEventFileData {\n  id: string;\n  type: string;\n  attributes: {\n    file: {\n      url: string;\n    };\n    ordering: string | null;\n    name: string;\n    size: number;\n    created_at: string;\n    updated_at: string;\n  };\n}\n\nexport interface IEventFile {\n  data: IEventFileData;\n}\n\nexport interface IEventFiles {\n  data: IEventFileData[];\n}\n\nexport function eventFilesStream(\n  eventId: string,\n  streamParams: IStreamParams | null = null\n) {\n  return streams.get<IEventFiles>({\n    apiEndpoint: `${apiEndpoint}/${eventId}/files`,\n    ...streamParams,\n  });\n}\n\nexport function eventFileStream(\n  eventId: string,\n  fileId: string,\n  streamParams: IStreamParams | null = null\n) {\n  return streams.get<IEventFile>({\n    apiEndpoint: `${apiEndpoint}/${eventId}/files/${fileId}`,\n    ...streamParams,\n  });\n}\n\nexport function addEventFile(\n  eventId: string,\n  base64: string,\n  name: string,\n  ordering: number | null = null\n) {\n  return streams.add<IEventFile>(`${apiEndpoint}/${eventId}/files`, {\n    file: { name, ordering, file: base64 },\n  });\n}\n\nexport function deleteEventFile(eventId: string, fileId: string) {\n  return streams.delete(`${apiEndpoint}/${eventId}/files/${fileId}`, fileId);\n}\n","import React, { PureComponent, FormEvent } from 'react';\nimport styled from 'styled-components';\nimport { get, map, merge, set } from 'lodash-es';\nimport { Subscription } from 'rxjs';\nimport { isNilOrError } from 'utils/helperUtils';\n\n// typings\nimport { CLError, Multiloc, IOption } from 'typings';\n\n// i18n\nimport { InjectedIntlProps } from 'react-intl';\nimport { FormattedMessage, injectIntl } from 'utils/cl-intl';\nimport { appLocalePairs } from 'containers/App/constants';\nimport messages from '../messages';\n\n// components\nimport InputMultilocWithLocaleSwitcher from 'components/UI/InputMultilocWithLocaleSwitcher';\nimport {\n  Input,\n  IconTooltip,\n  Label,\n  Success,\n  Error,\n  Toggle,\n} from 'cl2-component-library';\nimport MultipleSelect from 'components/UI/MultipleSelect';\nimport SubmitWrapper from 'components/admin/SubmitWrapper';\nimport {\n  Section,\n  SectionTitle,\n  SubSectionTitle,\n  SectionField,\n  SectionDescription,\n} from 'components/admin/Section';\nimport Outlet from 'components/Outlet';\n\n// services\nimport {\n  currentAppConfigurationStream,\n  updateAppConfiguration,\n  IUpdatedAppConfigurationProperties,\n  IAppConfigurationData,\n  TAppConfigurationSetting,\n} from 'services/appConfiguration';\n\n// Utils\nimport getSubmitState from 'utils/getSubmitState';\nimport { isCLErrorJSON } from 'utils/errorUtils';\n\nconst StyledSection = styled(Section)`\n  margin-bottom: 50px;\n`;\n\nexport const StyledToggle = styled(Toggle)`\n  margin-right: 15px;\n`;\n\nexport const Setting = styled.div`\n  margin-bottom: 20px;\n`;\n\nexport const LabelTitle = styled.div`\n  font-weight: bold;\n`;\n\nexport const ToggleLabel = styled.label`\n  display: flex;\n`;\n\nexport const LabelDescription = styled.div``;\nexport const LabelContent = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nexport interface Props {}\n\ninterface State {\n  loading: boolean;\n  saved: boolean;\n  attributesDiff: IUpdatedAppConfigurationProperties;\n  appConfiguration: IAppConfigurationData | null;\n  errors: {\n    [fieldName: string]: CLError[];\n  };\n  hasUrlError: boolean;\n  settingsUpdatedSuccessFully: boolean;\n  settingsSavingError: boolean;\n}\n\nclass SettingsGeneralTab extends PureComponent<\n  Props & InjectedIntlProps,\n  State\n> {\n  subscriptions: Subscription[];\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      attributesDiff: {},\n      appConfiguration: null,\n      loading: false,\n      errors: {},\n      hasUrlError: false,\n      saved: false,\n      settingsUpdatedSuccessFully: false,\n      settingsSavingError: false,\n    };\n  }\n\n  componentDidMount() {\n    const appConfiguration$ = currentAppConfigurationStream().observable;\n\n    this.subscriptions = [\n      appConfiguration$.subscribe((appConfiguration) => {\n        this.setState({ appConfiguration: appConfiguration.data });\n      }),\n    ];\n  }\n\n  componentWillUnmount() {\n    this.subscriptions.forEach((subsription) => subsription.unsubscribe());\n  }\n\n  handleCoreMultilocSettingOnChange = (propertyName: string) => (\n    multiloc: Multiloc\n  ) => {\n    this.setState((state) => ({\n      attributesDiff: {\n        ...state.attributesDiff,\n        settings: {\n          ...get(state.attributesDiff, 'settings', {}),\n          core: {\n            ...get(state.attributesDiff, 'settings.core', {}),\n            [propertyName]: multiloc,\n          },\n        },\n      },\n    }));\n  };\n\n  handleLocalesOnChange = (selectedLocaleOptions: IOption[]) => {\n    this.setState((state) => ({\n      attributesDiff: {\n        ...state.attributesDiff,\n        settings: {\n          ...get(state.attributesDiff, 'settings', {}),\n          core: {\n            ...get(state.attributesDiff, 'settings.core', {}),\n            locales: selectedLocaleOptions.map((option) => option.value),\n          },\n        },\n      },\n    }));\n  };\n\n  handleUrlOnChange = (url: string) => {\n    this.setState((state) => ({\n      hasUrlError: false,\n      attributesDiff: {\n        ...state.attributesDiff,\n        settings: {\n          ...get(state.attributesDiff, 'settings', {}),\n          core: {\n            ...get(state.attributesDiff, 'settings.core', {}),\n            organization_site: url,\n          },\n        },\n      },\n    }));\n  };\n\n  save = (event: FormEvent<any>) => {\n    event.preventDefault();\n\n    const { appConfiguration, attributesDiff } = this.state;\n\n    if (appConfiguration) {\n      this.setState({\n        loading: true,\n        saved: false,\n        hasUrlError: false,\n        errors: {},\n      });\n\n      updateAppConfiguration(attributesDiff)\n        .then(() => {\n          this.setState({ saved: true, attributesDiff: {}, loading: false });\n        })\n        .catch((e) => {\n          if (isCLErrorJSON(e)) {\n            const errors = e.json.errors;\n            this.setState({ errors, loading: false });\n            // This error check uses an undocumented API from the backend.\n            // Needs to be reimplemented to use frontend validation when converted to a Formik form.\n            if (errors.settings && errors.settings.length > 0) {\n              const foundUrlError = !!errors.settings.find(\n                (error) => error.error.fragment === '#/core/organization_site'\n              );\n              if (foundUrlError) {\n                this.setState({ hasUrlError: true });\n              }\n            }\n          } else {\n            this.setState({ errors: e, loading: false });\n          }\n        });\n    }\n  };\n\n  localeOptions = () => {\n    return map(appLocalePairs, (label, locale) => ({\n      label,\n      value: locale,\n    }));\n  };\n\n  localesToOptions = (locales) => {\n    return locales.map((locale) => ({\n      value: locale,\n      label: appLocalePairs[locale],\n    }));\n  };\n\n  handleOrganizatioNameOnChange = this.handleCoreMultilocSettingOnChange(\n    'organization_name'\n  );\n\n  onToggleBlockProfanitySetting = () => {\n    const { appConfiguration } = this.state;\n\n    if (\n      !isNilOrError(appConfiguration) &&\n      appConfiguration.attributes.settings.blocking_profanity\n    ) {\n      const oldProfanityBlockerEnabled =\n        appConfiguration.attributes.settings.blocking_profanity.enabled;\n      this.setState({\n        settingsSavingError: false,\n      });\n      updateAppConfiguration({\n        settings: {\n          blocking_profanity: {\n            enabled: !oldProfanityBlockerEnabled,\n          },\n        },\n      })\n        .then(() => {\n          this.setState({\n            settingsUpdatedSuccessFully: true,\n          });\n          setTimeout(() => {\n            this.setState({\n              settingsUpdatedSuccessFully: false,\n            });\n          }, 2000);\n        })\n        .catch((_error) => {\n          this.setState({\n            settingsSavingError: true,\n          });\n        });\n    }\n  };\n\n  handleSettingChange = (settingName: TAppConfigurationSetting) => {\n    const { appConfiguration } = this.state;\n\n    if (!isNilOrError(appConfiguration)) {\n      const setting = appConfiguration.attributes.settings[settingName];\n\n      if (setting) {\n        const oldSettingEnabled = setting.enabled;\n        this.setState({\n          settingsSavingError: false,\n        });\n\n        updateAppConfiguration({\n          settings: {\n            [settingName]: {\n              enabled: !oldSettingEnabled,\n            },\n          },\n        })\n          .then(() => {\n            this.setState({\n              settingsUpdatedSuccessFully: true,\n            });\n            setTimeout(() => {\n              this.setState({\n                settingsUpdatedSuccessFully: false,\n              });\n            }, 2000);\n          })\n          .catch((_error) => {\n            this.setState({\n              settingsSavingError: true,\n            });\n          });\n      }\n    }\n  };\n\n  render() {\n    const {\n      appConfiguration,\n      settingsSavingError,\n      settingsUpdatedSuccessFully,\n    } = this.state;\n    const {\n      intl: { formatMessage },\n    } = this.props;\n\n    if (appConfiguration) {\n      const { errors, saved, attributesDiff, hasUrlError } = this.state;\n      const updatedLocales = get(attributesDiff, 'settings.core.locales');\n\n      let appConfigAttrs = appConfiguration\n        ? merge({}, appConfiguration.attributes, attributesDiff)\n        : merge({}, attributesDiff);\n\n      // Prevent merging the arrays of locales\n      if (updatedLocales) {\n        appConfigAttrs = set(\n          appConfigAttrs,\n          'settings.core.locales',\n          updatedLocales\n        );\n      }\n\n      const appConfigLocales: string[] | null = get(\n        appConfigAttrs,\n        'settings.core.locales',\n        null\n      );\n      const organizationType: string | null = get(\n        appConfigAttrs,\n        'settings.core.organization_type',\n        null\n      );\n      const appConfigSite: string | null = get(\n        appConfigAttrs,\n        'settings.core.organization_site',\n        null\n      );\n      const organizationNameMultiloc: Multiloc | null = get(\n        appConfigAttrs,\n        'settings.core.organization_name',\n        null\n      );\n      const localeOptions = this.localeOptions();\n      const selectedLocaleOptions = this.localesToOptions(appConfigLocales);\n      const profanityBlockerSetting =\n        appConfiguration.attributes.settings.blocking_profanity;\n\n      return (\n        <form onSubmit={this.save}>\n          <SectionTitle>\n            <FormattedMessage {...messages.titleBasic} />\n          </SectionTitle>\n          <StyledSection>\n            <SubSectionTitle>\n              <FormattedMessage {...messages.platformConfiguration} />\n            </SubSectionTitle>\n            <SectionDescription>\n              <FormattedMessage {...messages.subtitleBasic} />\n            </SectionDescription>\n\n            <SectionField>\n              <InputMultilocWithLocaleSwitcher\n                type=\"text\"\n                id=\"organization_name\"\n                label={\n                  <FormattedMessage\n                    {...messages.organizationName}\n                    values={{ type: organizationType }}\n                  />\n                }\n                valueMultiloc={organizationNameMultiloc}\n                onChange={this.handleOrganizatioNameOnChange}\n              />\n            </SectionField>\n\n            <SectionField>\n              <Label>\n                <FormattedMessage {...messages.languages} />\n                <IconTooltip\n                  content={<FormattedMessage {...messages.languagesTooltip} />}\n                />\n              </Label>\n              <MultipleSelect\n                placeholder=\"\"\n                value={selectedLocaleOptions}\n                onChange={this.handleLocalesOnChange}\n                options={localeOptions}\n              />\n            </SectionField>\n\n            <SectionField>\n              <Label>\n                <FormattedMessage {...messages.urlTitle} />\n                <IconTooltip\n                  content={formatMessage(messages.urlTitleTooltip)}\n                />\n              </Label>\n              <Input\n                type=\"text\"\n                placeholder=\"https://...\"\n                onChange={this.handleUrlOnChange}\n                value={appConfigSite}\n                error={hasUrlError ? formatMessage(messages.urlError) : null}\n              />\n            </SectionField>\n\n            <SubmitWrapper\n              loading={this.state.loading}\n              status={getSubmitState({ errors, saved, diff: attributesDiff })}\n              messages={{\n                buttonSave: messages.save,\n                buttonSuccess: messages.saveSuccess,\n                messageError: messages.saveErrorMessage,\n                messageSuccess: messages.saveSuccessMessage,\n              }}\n            />\n          </StyledSection>\n          <StyledSection>\n            <SubSectionTitle>\n              <FormattedMessage {...messages.contentModeration} />\n            </SubSectionTitle>\n            {profanityBlockerSetting && profanityBlockerSetting.allowed && (\n              <Setting>\n                <ToggleLabel>\n                  <StyledToggle\n                    checked={profanityBlockerSetting.enabled}\n                    onChange={this.onToggleBlockProfanitySetting}\n                  />\n                  <LabelContent>\n                    <LabelTitle>\n                      {formatMessage(messages.profanityBlockerSetting)}\n                    </LabelTitle>\n                    <LabelDescription>\n                      {formatMessage(\n                        messages.profanityBlockerSettingDescription\n                      )}\n                    </LabelDescription>\n                  </LabelContent>\n                </ToggleLabel>\n              </Setting>\n            )}\n            <Outlet\n              id=\"app.containers.Admin.settings.general.form\"\n              onSettingChange={this.handleSettingChange}\n            />\n            {settingsUpdatedSuccessFully && (\n              <Success\n                showBackground\n                text={formatMessage(messages.successfulUpdateSettings)}\n              />\n            )}\n            {settingsSavingError && (\n              <Error text={formatMessage(messages.settingsSavingError)} />\n            )}\n          </StyledSection>\n        </form>\n      );\n    }\n\n    return null;\n  }\n}\n\nexport default injectIntl<Props>(SettingsGeneralTab);\n","import React from 'react';\nimport { TRule } from '../rules';\nimport { IOption } from 'typings';\nimport GetAreas, { GetAreasChildProps } from 'resources/GetAreas';\nimport { Select } from 'cl2-component-library';\nimport localize, { InjectedLocalized } from 'utils/localize';\nimport { isNilOrError } from 'utils/helperUtils';\n\ntype Props = {\n  rule: TRule;\n  value: string;\n  onChange: (string) => void;\n  areas: GetAreasChildProps;\n};\n\ninterface State {}\n\nclass AreaValueSelector extends React.PureComponent<\n  Props & InjectedLocalized,\n  State\n> {\n  generateOptions = (): IOption[] => {\n    const { areas, localize } = this.props;\n\n    if (!isNilOrError(areas)) {\n      return areas.map((area) => ({\n        value: area.id,\n        label: localize(area.attributes.title_multiloc),\n      }));\n    } else {\n      return [];\n    }\n  };\n\n  handleOnChange = (option: IOption) => {\n    this.props.onChange(option.value);\n  };\n\n  render() {\n    const { value } = this.props;\n\n    return (\n      <Select\n        value={value}\n        options={this.generateOptions()}\n        onChange={this.handleOnChange}\n      />\n    );\n  }\n}\n\nconst AreaValueSelectorWithHOC = localize(AreaValueSelector);\n\nexport default (inputProps: Props) => (\n  <GetAreas>\n    {(areas) => <AreaValueSelectorWithHOC {...inputProps} areas={areas} />}\n  </GetAreas>\n);\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  viewingRightsTitle: {\n    id: 'app.containers.admin.project.permissions.viewingRightsTitle',\n    defaultMessage: 'Who can see this project?',\n  },\n  save: {\n    id: 'app.containers.AdminPage.groups.permissions.save',\n    defaultMessage: 'Save',\n  },\n  saveSuccess: {\n    id: 'app.containers.AdminPage.groups.permissions.saveSuccess',\n    defaultMessage: 'Success!',\n  },\n  saveErrorMessage: {\n    id: 'app.containers.AdminPage.groups.permissions.saveErrorMessage',\n    defaultMessage: 'Something went wrong, please try again later.',\n  },\n  saveSuccessMessage: {\n    id: 'app.containers.AdminPage.groups.permissions.saveSuccessMessage',\n    defaultMessage: 'Your changes have been saved.',\n  },\n});\n","import { FC, useEffect } from 'react';\nimport { InjectedIntlProps } from 'react-intl';\nimport { InsertConfigurationOptions, ITab } from 'typings';\nimport { injectIntl } from 'utils/cl-intl';\nimport messages from './messages';\n\ntype Props = {\n  onData: (data: InsertConfigurationOptions<ITab>) => void;\n};\n\nconst ProjectEditTab: FC<Props & InjectedIntlProps> = ({\n  onData,\n  intl: { formatMessage },\n}) => {\n  const tabName = 'topics';\n  useEffect(() => {\n    onData({\n      configuration: {\n        label: formatMessage(messages.topicsTab),\n        name: tabName,\n        url: 'topics',\n        feature: 'custom_topics',\n      },\n      insertBeforeName: 'phases',\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return null;\n};\n\nexport default injectIntl(ProjectEditTab);\n","import React from 'react';\nimport { Subscription } from 'rxjs';\nimport { currentAppConfigurationStream } from 'services/appConfiguration';\nimport { Locale } from 'typings';\nimport { isNilOrError } from 'utils/helperUtils';\n\ninterface InputProps {}\n\ntype children = (\n  renderProps: GetAppConfigurationLocalesChildProps\n) => JSX.Element | null;\n\ninterface Props extends InputProps {\n  children?: children;\n}\n\ninterface State {\n  appConfigurationLocales: Locale[] | undefined | null | Error;\n}\n\nexport type GetAppConfigurationLocalesChildProps =\n  | Locale[]\n  | undefined\n  | null\n  | Error;\n\nexport default class GetAppConfigurationLocales extends React.Component<\n  Props,\n  State\n> {\n  private subscriptions: Subscription[];\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      appConfigurationLocales: undefined,\n    };\n  }\n\n  componentDidMount() {\n    const currentAppConfiguration$ = currentAppConfigurationStream().observable;\n    console.log('currentAppConfiguration: ', currentAppConfiguration$);\n    \n    this.subscriptions = [\n      currentAppConfiguration$.subscribe((currentAppConfiguration) => {\n        this.setState({\n          appConfigurationLocales: !isNilOrError(currentAppConfiguration)\n            ? currentAppConfiguration.data.attributes.settings.core.locales\n            : currentAppConfiguration,\n        });\n      }),\n    ];\n  }\n\n  componentWillUnmount() {\n    this.subscriptions.forEach((subscription) => subscription.unsubscribe());\n  }\n\n  render() {\n    const { children } = this.props;\n    const { appConfigurationLocales } = this.state;\n    return (children as children)(appConfigurationLocales);\n  }\n}\n","import React, { lazy, Suspense } from 'react';\nimport { ManagerType, TFilterMenu } from '../..';\n\n// services\nimport { IIdeaData } from 'services/ideas';\nimport { IInitiativeData } from 'services/initiatives';\nimport { IPhaseData } from 'services/phases';\nimport { IIdeaStatusData } from 'services/ideaStatuses';\nimport { IInitiativeStatusData } from 'services/initiativeStatuses';\n\n// style\nimport styled from 'styled-components';\n\n// lazy-loaded components\nconst IdeaRow = lazy(() => import('./IdeaRow'));\nconst InitiativeRow = lazy(() => import('./InitiativeRow'));\n\nexport const StyledRow = styled.tr<{ undraggable: boolean }>`\n  height: 5.7rem !important;\n  cursor: ${({ undraggable }) => (undraggable ? 'pointer' : 'move')};\n`;\n\nexport const FilterCell = styled.td`\n  border-top: none !important;\n`;\n\nexport const TitleLink = styled.a`\n  display: block;\n  display: -webkit-box;\n  margin: 0 auto;\n  &:not(:last-child) {\n    margin-bottom: 7px;\n  }\n  font-size: $font-size;\n  line-height: $line-height;\n  -webkit-line-clamp: 1;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  cursor: pointer;\n  color: black;\n  &:hover,\n  &:focus {\n    text-decoration: underline;\n  }\n`;\n\nfunction nothingHappens(event) {\n  event.preventDefault();\n  event.stopPropagation();\n}\n\ntype Props = {\n  type: ManagerType;\n  post: IIdeaData | IInitiativeData;\n  phases?: IPhaseData[];\n  statuses?: IIdeaStatusData[] | IInitiativeStatusData[];\n  /** A set of ids of ideas/initiatives that are currently selected */\n  selection: Set<string>;\n  onUnselect: () => void;\n  onToggleSelect: () => void;\n  onSingleSelect: () => void;\n  activeFilterMenu: TFilterMenu;\n  openPreview: (ideaId: string) => void;\n  className?: string;\n};\n\nexport default class Row extends React.PureComponent<Props> {\n  onClickCheckbox = (event) => {\n    event.stopPropagation();\n    this.props.onToggleSelect();\n  };\n\n  onClickTitle = (event) => {\n    event.preventDefault();\n    event.stopPropagation();\n    const { post, openPreview } = this.props;\n    openPreview(post.id);\n  };\n\n  render() {\n    const {\n      type,\n      post,\n      selection,\n      activeFilterMenu,\n      phases,\n      statuses,\n      className,\n    } = this.props;\n\n    if (type === 'AllIdeas' || type === 'ProjectIdeas') {\n      return (\n        <Suspense fallback={null}>\n          <IdeaRow\n            type={type}\n            idea={post as IIdeaData}\n            phases={phases}\n            statuses={statuses}\n            selection={selection}\n            activeFilterMenu={activeFilterMenu}\n            className={className}\n            onClickCheckbox={this.onClickCheckbox}\n            onClickTitle={this.onClickTitle}\n            nothingHappens={nothingHappens}\n          />\n        </Suspense>\n      );\n    } else if (type === 'Initiatives') {\n      return (\n        <Suspense fallback={null}>\n          <InitiativeRow\n            type={type}\n            initiative={post as IInitiativeData}\n            statuses={statuses as IInitiativeStatusData[]}\n            selection={selection}\n            activeFilterMenu={activeFilterMenu}\n            className={className}\n            onClickCheckbox={this.onClickCheckbox}\n            onClickTitle={this.onClickTitle}\n            nothingHappens={nothingHappens}\n          />\n        </Suspense>\n      );\n    }\n    return null;\n  }\n}\n","import useFeatureFlag from 'hooks/useFeatureFlag';\nimport React, { ReactNode } from 'react';\nimport { ModuleConfiguration } from 'utils/moduleUtils';\nimport InitiativeSettingsTab from './admin/components/InitiativeSettingsTab';\nimport ProjectSettingsTab from './admin/components/ProjectSettingsTab';\nimport Granular from './admin/containers/Granular';\nimport FeatureFlag from 'components/FeatureFlag';\n\ntype RenderOnTabHideConditionProps = {\n  children: ReactNode;\n};\n\nconst RenderOnTabHideCondition = ({\n  children,\n}: RenderOnTabHideConditionProps) => {\n  // Could be more than just a feature flag check,\n  // hence we're not using the FeatureFlag component\n  const isGranularPermissionsEnabled = useFeatureFlag('granular_permissions');\n  if (isGranularPermissionsEnabled) {\n    return <>{children}</>;\n  }\n  return null;\n};\n\nconst configuration: ModuleConfiguration = {\n  routes: {\n    'admin.initiatives': [\n      {\n        path: 'permissions',\n        container: () => import('./admin/containers/permissions'),\n      },\n    ],\n  },\n  outlets: {\n    'app.containers.Admin.project.edit.permissions.participationRights': (\n      props\n    ) => (\n      <FeatureFlag name=\"granular_permissions\">\n        <Granular {...props} />\n      </FeatureFlag>\n    ),\n    'app.containers.Admin.initiatives.tabs': (props) => (\n      <InitiativeSettingsTab {...props} />\n    ),\n    'app.containers.Admin.projects.edit': (props) => {\n      return (\n        <RenderOnTabHideCondition>\n          <ProjectSettingsTab {...props} />\n        </RenderOnTabHideCondition>\n      );\n    },\n  },\n};\n\nexport default configuration;\n","import React from 'react';\n\n// components\nimport { EventDay, EventMonth } from './styling';\n\n// hooks\nimport useLocale from 'hooks/useLocale';\n\ninterface Props {\n  day?: string;\n  month?: string | null;\n}\n\nexport default ({ day, month }: Props) => {\n  const locale = useLocale();\n\n  if (locale === 'en') {\n    return (\n      <>\n        {month && <EventMonth>{month}</EventMonth>}\n        <EventDay>{day}</EventDay>\n      </>\n    );\n  }\n\n  return (\n    <>\n      <EventDay>{day}</EventDay>\n      {month && <EventMonth>{month}</EventMonth>}\n    </>\n  );\n};\n","import 'services/verificationMethods';\nimport { Multiloc } from 'typings';\n\ndeclare module 'services/verificationMethods' {\n  export interface IVerificationMethodNamesMap {\n    auth0: 'auth0';\n  }\n\n  export type IDAuth0Method = {\n    id: string;\n    type: 'verification_method';\n    attributes: {\n      name: 'auth0';\n      method_name_multiloc: Multiloc;\n    };\n  };\n\n  export interface IVerificationMethodMap {\n    auth0: IDAuth0Method;\n  }\n}\n","// Libraries\nimport React, { PureComponent } from 'react';\n\n// Lazy Images observer\nimport Observer from '@researchgate/react-intersection-observer';\n\n// Stylings\nimport styled, { css } from 'styled-components';\nimport { colors } from 'utils/styleUtils';\n\nconst ImageElement = styled.img<{\n  cover: boolean;\n  fadeIn: boolean;\n  fadeInDuration: number | undefined;\n  placeholderBg?: string;\n  loaded: boolean;\n}>`\n  background: ${(props) => props.placeholderBg};\n\n  ${(props) =>\n    props.cover &&\n    css`\n      object-fit: cover;\n      object-position: center center;\n    `}\n\n  ${(props) =>\n    props.fadeIn &&\n    css`\n      transition: opacity ${props.fadeInDuration || 130}ms ease-out;\n      opacity: ${props.loaded ? 1 : 0};\n    `};\n`;\n\nconst Fallback = styled.div<{ src: string | undefined }>`\n  background-repeat: no-repeat;\n  background-position: center center;\n  background-size: cover;\n  background-image: url(${({ src }) => src});\n`;\n\ninterface Props {\n  id?: string;\n  src: HTMLImageElement['src'];\n  alt?: HTMLImageElement['alt'];\n  role?: string;\n  cover?: boolean;\n  fadeIn?: boolean;\n  fadeInDuration?: number;\n  placeholderBg?: string;\n  isLazy?: boolean;\n  className?: string;\n}\n\ninterface State {\n  visible: boolean;\n  loaded: boolean;\n}\n\nexport default class Image extends PureComponent<Props, State> {\n  static defaultProps = {\n    alt: '',\n    fadeIn: true,\n    placeholderBg: colors.placeholderBg,\n    isLazy: true,\n  };\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      visible: props.isLazy ? false : true,\n      loaded: false,\n    };\n  }\n\n  handleIntersection = (\n    event: IntersectionObserverEntry,\n    unobserve: () => void\n  ) => {\n    if (event.isIntersecting) {\n      this.setState({ visible: true });\n      unobserve();\n    }\n  };\n\n  handleImageLoaded = () => {\n    this.setState({ loaded: true });\n  };\n\n  render() {\n    const {\n      id,\n      src,\n      alt,\n      role,\n      cover,\n      fadeIn,\n      fadeInDuration,\n      placeholderBg,\n      className,\n    } = this.props;\n    const { isLazy } = this.props;\n    const { visible, loaded } = this.state;\n\n    let image = (\n      <ImageElement\n        src={visible ? src : undefined}\n        alt={alt}\n        role={role}\n        cover={!!cover}\n        fadeIn={!!fadeIn}\n        fadeInDuration={fadeInDuration}\n        placeholderBg={placeholderBg}\n        loaded={loaded}\n        onLoad={this.handleImageLoaded}\n        id={id || ''}\n        className={className || ''}\n      />\n    );\n\n    if (cover && !(window['CSS'] && CSS.supports('object-fit: cover'))) {\n      image = <Fallback src={src} className={className} />;\n    }\n\n    if (isLazy) {\n      return (\n        <Observer rootMargin=\"200px\" onChange={this.handleIntersection}>\n          {image}\n        </Observer>\n      );\n    }\n\n    return image;\n  }\n}\n","import { NavItem } from 'containers/Admin/sideBar';\nimport { FC, useEffect } from 'react';\nimport { getUrlLocale } from 'services/locale';\nimport { InsertConfigurationOptions } from 'typings';\n\ntype Props = {\n  onData: (data: InsertConfigurationOptions<NavItem>) => void;\n};\n\nconst NavItemComponent: FC<Props> = ({ onData }) => {\n  useEffect(\n    () =>\n      onData({\n        configuration: {\n          name: 'processing',\n          link: '/admin/processing',\n          iconName: 'processing',\n          featureName: 'manual_tagging',\n          message: 'processing',\n          isActive: (pathName) =>\n            pathName.startsWith(\n              `${\n                getUrlLocale(pathName) ? `/${getUrlLocale(pathName)}` : ''\n              }/admin/processing`\n            ),\n        },\n        insertAfterName: 'dashboard',\n      }),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  );\n  return null;\n};\n\nexport default NavItemComponent;\n","import eventEmitter from 'utils/eventEmitter';\nimport { ISignUpInMetaData } from 'components/SignUpIn';\nimport { TSignUpSteps } from 'components/SignUpIn/SignUp';\n\nenum events {\n  openSignUpInModal = 'openSignUpInModal',\n  closeSignUpInModal = 'closeSignUpInModal',\n  signUpActiveStepChange = 'signUpActiveStepChange',\n  changeMetaData = 'metaDataChange',\n}\n\n// ---------\n\nexport function openSignUpInModal(metaData?: Partial<ISignUpInMetaData>) {\n  const emittedMetaData: ISignUpInMetaData = {\n    flow: metaData?.flow || 'signup',\n    pathname: metaData?.pathname || window.location.pathname,\n    verification: metaData?.verification,\n    verificationContext: metaData?.verificationContext,\n    error: !!metaData?.error,\n    requiresConfirmation: !!metaData?.requiresConfirmation,\n    isInvitation: !!metaData?.isInvitation,\n    token: metaData?.token,\n    inModal: true,\n    modalNoCloseSteps: [],\n    action: metaData?.action || undefined,\n  };\n\n  eventEmitter.emit<ISignUpInMetaData>(\n    events.openSignUpInModal,\n    emittedMetaData\n  );\n}\n\nexport function modifyMetaData(\n  oldMetaData: ISignUpInMetaData | undefined,\n  newMetaData: Partial<ISignUpInMetaData>\n) {\n  const overridenMetaData = oldMetaData\n    ? { ...oldMetaData, ...newMetaData }\n    : newMetaData;\n\n  if (overridenMetaData === oldMetaData) {\n    return;\n  }\n\n  const emittedMetaData: ISignUpInMetaData = {\n    flow: 'signup',\n    pathname: window.location.pathname,\n    verification: undefined,\n    verificationContext: undefined,\n    error: false,\n    isInvitation: false,\n    token: undefined,\n    inModal: undefined,\n    action: undefined,\n    modalNoCloseSteps: [],\n    ...overridenMetaData,\n  };\n\n  eventEmitter.emit<ISignUpInMetaData>(events.changeMetaData, emittedMetaData);\n}\n\nexport function resetMetaData() {\n  eventEmitter.emit<ISignUpInMetaData>(events.changeMetaData, undefined);\n}\n\nexport const openSignUpInModal$ = eventEmitter.observeEvent<ISignUpInMetaData>(\n  events.openSignUpInModal\n);\n\nexport const changeMetaData$ = eventEmitter.observeEvent<ISignUpInMetaData>(\n  events.changeMetaData\n);\n\n// ---------\n\nexport function closeSignUpInModal() {\n  eventEmitter.emit(events.closeSignUpInModal);\n}\n\nexport const closeSignUpInModal$ = eventEmitter.observeEvent(\n  events.closeSignUpInModal\n);\n\n// ---------\n\nexport function signUpActiveStepChange(\n  newActiveStep: TSignUpSteps | null | undefined\n) {\n  eventEmitter.emit<TSignUpSteps | null | undefined>(\n    events.signUpActiveStepChange,\n    newActiveStep\n  );\n}\n\nexport const signUpActiveStepChange$ = eventEmitter.observeEvent<\n  TSignUpSteps | null | undefined\n>(events.signUpActiveStepChange);\n\n// ---------\n","import React from 'react';\n\nimport { Input } from 'cl2-component-library';\n\ntype Props = {\n  value: string;\n  onChange: (string) => void;\n};\n\ninterface State {}\n\nclass NumberValueSelector extends React.PureComponent<Props, State> {\n  handleOnChange = (value: string) => {\n    this.props.onChange(parseInt(value, 10));\n  };\n\n  render() {\n    const { value } = this.props;\n    return <Input type=\"number\" value={value} onChange={this.handleOnChange} />;\n  }\n}\n\nexport default NumberValueSelector;\n","import React, { memo } from 'react';\nimport { IOption } from 'typings';\nimport useIdeaStatuses from 'hooks/useIdeaStatuses';\nimport useLocalize from 'hooks/useLocalize';\nimport { Select } from 'cl2-component-library';\nimport { isNilOrError } from 'utils/helperUtils';\n\nexport interface Props {\n  value: string;\n  onChange: (value: string) => void;\n}\n\nconst IdeaStatusValueSelector = memo(({ value, onChange }: Props) => {\n  const ideaStatuses = useIdeaStatuses();\n  const localize = useLocalize();\n  const generateOptions = (): IOption[] => {\n    if (!isNilOrError(ideaStatuses)) {\n      return ideaStatuses.map((ideaStatus) => {\n        return {\n          value: ideaStatus.id,\n          label: localize(ideaStatus.attributes.title_multiloc),\n        };\n      });\n    } else {\n      return [];\n    }\n  };\n\n  const handleOnChange = (option: IOption) => {\n    onChange(option.value);\n  };\n\n  return (\n    <Select\n      value={value}\n      options={generateOptions()}\n      onChange={handleOnChange}\n    />\n  );\n});\n\nexport default IdeaStatusValueSelector;\n","/*\n * AdminPage.SettingsPage Messages\n *\n * This contains all the text for the AdminPage.SettingsPage component.\n */\n\nimport { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  helmetTitle: {\n    id: 'app.containers.AdminPage.SettingsPage.helmetTitle',\n    defaultMessage: 'Admin settings page',\n  },\n  helmetDescription: {\n    id: 'app.containers.AdminPage.SettingsPage.helmetDescription',\n    defaultMessage: 'Admin settings page',\n  },\n  pageTitle: {\n    id: 'app.containers.AdminPage.SettingsPage.pageTitle',\n    defaultMessage: 'Settings',\n  },\n  tabSettings: {\n    id: 'app.containers.AdminPage.SettingsPage.tabSettings',\n    defaultMessage: 'General',\n  },\n  subtitleBasic: {\n    id: 'app.containers.AdminPage.SettingsPage.subtitleBasic',\n    defaultMessage:\n      'Add the name of your organisation or city, a url to your website and the languages in which this platform should be made available.',\n  },\n  tabCustomize: {\n    id: 'app.containers.AdminPage.SettingsPage.tabCustomize',\n    defaultMessage: 'Customize',\n  },\n  subtitleHomepageStyle: {\n    id: 'app.containers.AdminPage.SettingsPage.subtitleHomepageStyle',\n    defaultMessage:\n      'Add your logo, set the platform colors, customize the homepage banner and text, and add your own content to the customizable section at the bottom of the homepage.',\n  },\n  titleHomepageStyle: {\n    id: 'app.containers.AdminPage.SettingsPage.titleHomepageStyle',\n    defaultMessage: 'Homepage and style',\n  },\n  tabPages: {\n    id: 'app.containers.AdminPage.SettingsPage.tabPages',\n    defaultMessage: 'Pages',\n  },\n  tabRegistration: {\n    id: 'app.containers.AdminPage.SettingsPage.tabRegistration',\n    defaultMessage: 'Registration',\n  },\n  organizationName: {\n    id: 'app.containers.AdminPage.SettingsPage.organizationName',\n    defaultMessage: '{type, select, generic {Organization} other {City}} name',\n  },\n  languages: {\n    id: 'app.containers.AdminPage.SettingsPage.languages',\n    defaultMessage: 'Languages',\n  },\n  languagesTooltip: {\n    id: 'app.containers.AdminPage.SettingsPage.languagesTooltip',\n    defaultMessage:\n      'Select the languages in which your platform is made available to users. They can easily choose their preferred language from this list via a button in the navbar.',\n  },\n  color_primary: {\n    id: 'app.containers.AdminPage.SettingsPage.color_primary',\n    defaultMessage: 'Primary color',\n  },\n  color_secondary: {\n    id: 'app.containers.AdminPage.SettingsPage.color_secondary',\n    defaultMessage: 'Secondary color',\n  },\n  color_text: {\n    id: 'app.containers.AdminPage.SettingsPage.color_text',\n    defaultMessage: 'Text color',\n  },\n  imageOverlayColor: {\n    id: 'app.containers.AdminPage.SettingsPage.imageOverlayColor',\n    defaultMessage: 'Image overlay color',\n  },\n  imageOverlayOpacity: {\n    id: 'app.containers.AdminPage.SettingsPage.imageOverlayOpacity',\n    defaultMessage: 'Image overlay opacity',\n  },\n  logo: {\n    id: 'app.containers.AdminPage.SettingsPage.logo',\n    defaultMessage: 'Logo',\n  },\n  header: {\n    id: 'app.containers.AdminPage.SettingsPage.header',\n    defaultMessage: 'Homepage header',\n  },\n  header_bg: {\n    id: 'app.containers.AdminPage.SettingsPage.header_bg',\n    defaultMessage: 'Header image',\n  },\n  header_bgTooltip: {\n    id: 'app.containers.AdminPage.SettingsPage.header_bgTooltip',\n    defaultMessage:\n      'Shown on the home page. Recommended dimensions are 1440x480.',\n  },\n  titleBasic: {\n    id: 'app.containers.AdminPage.SettingsPage.titleBasic',\n    defaultMessage: 'Basic information',\n  },\n  titlePlatformBranding: {\n    id: 'app.containers.AdminPage.SettingsPage.titlePlatformBranding',\n    defaultMessage: 'Platform branding',\n  },\n  bannerHeaderSignedOut: {\n    id: 'app.containers.AdminPage.SettingsPage.bannerHeaderSignedOut',\n    defaultMessage: 'Header text for non-registered visitors',\n  },\n  bannerHeaderSignedOutTooltip: {\n    id: 'app.containers.AdminPage.SettingsPage.bannerHeaderSignedOutTooltip',\n    defaultMessage: 'This text is shown on the banner image.',\n  },\n  titleMaxCharError: {\n    id: 'app.containers.AdminPage.SettingsPage.titleMaxCharError',\n    defaultMessage:\n      'The provided title exceeds the maximum allowed character limit',\n  },\n  bannerHeaderSignedOutSubtitle: {\n    id: 'app.containers.AdminPage.SettingsPage.bannerHeaderSignedOutSubtitle',\n    defaultMessage: 'Sub-header text for non-registered visitors',\n  },\n  subtitleMaxCharError: {\n    id: 'app.containers.AdminPage.SettingsPage.subtitleMaxCharError',\n    defaultMessage:\n      'The provided subtitle exceeds the maximum allowed character limit',\n  },\n  noLogo: {\n    id: 'app.containers.AdminPage.SettingsPage.noLogo',\n    defaultMessage: 'Please upload a logo',\n  },\n  noHeader: {\n    id: 'app.containers.AdminPage.SettingsPage.noHeader',\n    defaultMessage: 'Please upload a header image',\n  },\n  save: {\n    id: 'app.containers.AdminPage.SettingsPage.save',\n    defaultMessage: 'Save',\n  },\n  saveSuccess: {\n    id: 'app.containers.AdminPage.SettingsPage.saveSuccess',\n    defaultMessage: 'Success!',\n  },\n  saveErrorMessage: {\n    id: 'app.containers.AdminPage.SettingsPage.saveErrorMessage',\n    defaultMessage: 'Something went wrong, please try again later.',\n  },\n  saveSuccessMessage: {\n    id: 'app.containers.AdminPage.SettingsPage.saveSuccessMessage',\n    defaultMessage: 'Your changes have been saved.',\n  },\n  registrationTitle: {\n    id: 'app.containers.AdminPage.SettingsPage.registrationTitle',\n    defaultMessage: 'Registration',\n  },\n  tabAreas: {\n    id: 'app.containers.AdminPage.SettingsPage.tabAreas',\n    defaultMessage: 'Areas',\n  },\n  urlError: {\n    id: 'app.containers.AdminPage.SettingsPage.urlError',\n    defaultMessage: 'The URL needs to start with \"http://\" or \"https://\".',\n  },\n  urlTitle: {\n    id: 'app.containers.AdminPage.SettingsPage.urlTitle',\n    defaultMessage: 'Website (URL)',\n  },\n  urlTitleTooltip: {\n    id: 'app.containers.AdminPage.SettingsPage.urlTitleTooltip',\n    defaultMessage:\n      'Add the URL of the website you want to link this platform with. Used in the footer on the home page.',\n  },\n  homePageCustomizableSection: {\n    id: 'app.components.AdminPage.SettingsPage.homePageCustomizableSection',\n    defaultMessage: 'Homepage customizable section',\n  },\n  eventsSection: {\n    id: 'app.components.AdminPage.SettingsPage.eventsSection',\n    defaultMessage: 'Events',\n  },\n  eventsPageSetting: {\n    id: 'app.components.AdminPage.SettingsPage.eventsPageSetting',\n    defaultMessage: 'Add Events to navigation bar',\n  },\n  eventsPageSettingDescription: {\n    id: 'app.components.AdminPage.SettingsPage.eventsPageSettingDescription',\n    defaultMessage:\n      'Add a link to view all project events in the navigation bar',\n  },\n  eventsWidgetSetting: {\n    id: 'app.components.AdminPage.SettingsPage.eventsWidgetSetting',\n    defaultMessage: 'Add upcoming events to homepage',\n  },\n  eventsWidgetSettingDescription: {\n    id: 'app.components.AdminPage.SettingsPage.eventsWidgetSettingDescription',\n    defaultMessage: 'Display a preview of upcoming events on the homepage',\n  },\n  customSectionLabel: {\n    id: 'app.components.AdminPage.SettingsPage.customSectionLabel',\n    defaultMessage: 'Content',\n  },\n  homePageCustomizableSectionTooltip: {\n    id:\n      'app.components.AdminPage.SettingsPage.homePageCustomizableSectionTooltip',\n    defaultMessage:\n      'This empty section at the bottom of the homepage can be customized with your own images, text and links.',\n  },\n  contrastRatioTooLow: {\n    id: 'app.components.AdminPage.SettingsPage.contrastRatioTooLow',\n    defaultMessage:\n      \"The color you selected doesn't have a high enough contrast (to a white background) to comply with the {wcagLink} accessibility standard. {lineBreak} {lineBreak} Not meeting this ratio may impair the user experience of users with visual disabilities, or even make it impossible to use the platform altogether. {lineBreak} {lineBreak} A ratio of at least 4.5 to 1 is needed to comply. Current ratio: {contrastRatio} to 1. Choose a darker color to increase the ratio.\",\n  },\n  bannerHeaderSignedIn: {\n    id: 'app.components.AdminPage.SettingsPage.bannerHeaderSignedIn',\n    defaultMessage: 'Header text for registered users',\n  },\n  projects_header: {\n    id: 'app.containers.AdminPage.SettingsPage.projects_header',\n    defaultMessage: 'Projects header',\n  },\n  projects_header_tooltip: {\n    id: 'app.containers.AdminPage.SettingsPage.project_headers_tooltip',\n    defaultMessage: 'This text is shown on the homepage above the projects.',\n  },\n  signupFormText: {\n    id: 'app.containers.AdminPage.SettingsPage.signupFormText',\n    defaultMessage: 'Registration helper text',\n  },\n  signupFormTooltip: {\n    id: 'app.containers.AdminPage.SettingsPage.signupFormTooltip',\n    defaultMessage: 'Add a short description at the top of the sign-up form.',\n  },\n  step1: {\n    id: 'app.containers.AdminPage.SettingsPage.step1',\n    defaultMessage: 'Step 1 (email and password)',\n  },\n  step1Tooltip: {\n    id: 'app.containers.AdminPage.SettingsPage.step1Tooltip',\n    defaultMessage:\n      'This is shown on the top of the first page of the sign-up form (name, email, password).',\n  },\n  platformConfiguration: {\n    id: 'app.containers.AdminPage.SettingsPage.platformConfiguration',\n    defaultMessage: 'Platform configuration',\n  },\n  contentModeration: {\n    id: 'app.containers.AdminPage.SettingsPage.contentModeration',\n    defaultMessage: 'Content moderation',\n  },\n  registrationTabDescription: {\n    id: 'app.containers.AdminPage.SettingsPage.registrationTabDescription',\n    defaultMessage:\n      'Provide a short description at the top of your registration form. Add and configure the registration fields for your platform.',\n  },\n  profanityBlockerSetting: {\n    id: 'app.containers.AdminPage.SettingsPage.profanityBlockerSetting',\n    defaultMessage: 'Profanity blocker',\n  },\n  profanityBlockerSettingDescription: {\n    id:\n      'app.containers.AdminPage.SettingsPage.profanityBlockerSettingDescription',\n    defaultMessage:\n      'Block input, proposals and comments containing the most commonly reported offensive words',\n  },\n  successfulUpdateSettings: {\n    id: 'app.containers.AdminPage.SettingsPage.successfulUpdateSettings',\n    defaultMessage: 'Settings updated successfully.',\n  },\n  settingsSavingError: {\n    id: 'app.containers.AdminPage.SettingsPage.settingsSavingError',\n    defaultMessage: \"Couldn't save. Try changing the setting again.\",\n  },\n});\n","import React, { useRef } from 'react';\nimport { adopt } from 'react-adopt';\nimport { isNilOrError } from 'utils/helperUtils';\nimport scrollToComponent from 'react-scroll-to-component';\n\n// intl\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from './messages';\n\n// components\nimport { Spinner } from 'cl2-component-library';\nimport FeatureFlag from 'components/FeatureFlag';\nimport QuillEditedContent from 'components/UI/QuillEditedContent';\nimport ContentContainer from 'components/ContentContainer';\nimport SiteMapMeta from './SiteMapMeta';\nimport ProjectsSection from './ProjectsSection';\nimport StoryLink from './StoryLink';\nimport Link from 'utils/cl-router/Link';\n\n// styles\nimport styled from 'styled-components';\nimport { media, colors, fontSizes } from 'utils/styleUtils';\n\n// resources\nimport GetProjects, { GetProjectsChildProps } from 'resources/GetProjects';\nimport GetAppConfiguration, {\n  GetAppConfigurationChildProps,\n} from 'resources/GetAppConfiguration';\nimport GetAuthUser, { GetAuthUserChildProps } from 'resources/GetAuthUser';\n\nconst Container = styled.div`\n  min-height: calc(\n    100vh - ${(props) => props.theme.menuHeight + props.theme.footerHeight}px\n  );\n  display: flex;\n  flex-direction: column;\n  background: ${colors.background};\n\n  ${media.smallerThanMaxTablet`\n    min-height: calc(100vh - ${(props) => props.theme.mobileMenuHeight}px - ${(\n    props\n  ) => props.theme.mobileTopBarHeight}px);\n  `}\n`;\n\nconst StyledContentContainer = styled(ContentContainer)`\n  max-width: calc(${(props) => props.theme.maxPageWidth}px - 100px);\n  margin-left: auto;\n  margin-right: auto;\n  margin-bottom: 30px;\n`;\n\nconst PageContent = styled.main`\n  flex-shrink: 0;\n  flex-grow: 1;\n  background: #fff;\n  padding-top: 60px;\n  padding-bottom: 60px;\n`;\n\nconst Loading = styled.div`\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst Title = styled.h1`\n  margin-bottom: 30px;\n`;\n\nconst TOC = styled.div`\n  border: 1px solid #ccc;\n  padding: 20px;\n  margin-bottom: 30px;\n`;\n\nconst Ul = styled.ul`\n  list-style-type: initial;\n  margin-bottom: 0 !important;\n`;\n\nconst ProjectsSubsectionUl = styled.ul`\n  list-style-type: circle;\n  margin-bottom: 0 !important;\n`;\n\nconst Header = styled.h2`\n  font-weight: bold;\n`;\n\nexport const H2 = styled.h2`\n  font-size: ${fontSizes.xxl}px !important;\n`;\n\nexport const H3 = styled.h3`\n  font-size: ${fontSizes.xl}px !important;\n`;\n\nexport const H4 = styled.h4`\n  font-size: ${fontSizes.large}px !important;\n`;\n\nconst NavItem = styled.button`\n  cursor: pointer;\n  &:focus,\n  &:hover {\n    text-decoration: underline;\n  }\n`;\n\ninterface DataProps {\n  projects: GetProjectsChildProps;\n  tenant: GetAppConfigurationChildProps;\n  authUser: GetAuthUserChildProps;\n}\n\ninterface Props extends DataProps {}\n\nconst SiteMap = ({ projects, tenant, authUser }: Props) => {\n  const loaded = projects !== undefined;\n  const successStories = !isNilOrError(tenant)\n    ? tenant.attributes.settings?.initiatives?.success_stories\n    : [];\n\n  const scrollTo = (component) => (event: any) => {\n    // if the event is synthetic, it's a key event and we move focus\n    // https://github.com/facebook/react/issues/3907\n    if (event.detail === 0) {\n      component.current.focus();\n    }\n    scrollToComponent(component.current, {\n      align: 'top',\n      offset: -90,\n      duration: 300,\n    });\n  };\n\n  const removeFocus = (event: React.MouseEvent<HTMLElement>) => {\n    event.preventDefault();\n  };\n\n  const homeSection = useRef(null);\n  const projectsSection = useRef(null);\n  const archivedSection = useRef(null);\n  const currentSection = useRef(null);\n  const draftSection = useRef(null);\n  const initiativesSection = useRef(null);\n  const userSpaceSection = useRef(null);\n  const hasProjectSubsection =\n    archivedSection.current || draftSection.current || currentSection.current;\n\n  return (\n    <Container>\n      <SiteMapMeta />\n      {!loaded && (\n        <Loading>\n          <Spinner />\n        </Loading>\n      )}\n      {loaded && (\n        <PageContent>\n          <StyledContentContainer>\n            <QuillEditedContent>\n              <Title>\n                <FormattedMessage {...messages.siteMapTitle} />\n              </Title>\n\n              <TOC aria-labelledby=\"nav-header\">\n                <Header id=\"nav-header\">\n                  <FormattedMessage {...messages.pageContents} />\n                </Header>\n                <Ul>\n                  <li>\n                    <NavItem\n                      onMouseDown={removeFocus}\n                      onClick={scrollTo(homeSection)}\n                    >\n                      <FormattedMessage {...messages.homeSection} />\n                    </NavItem>\n                  </li>\n                  <li>\n                    <NavItem\n                      onMouseDown={removeFocus}\n                      onClick={scrollTo(userSpaceSection)}\n                    >\n                      <FormattedMessage {...messages.userSpaceSection} />\n                    </NavItem>\n                  </li>\n                  {!isNilOrError(projects) && (\n                    <li>\n                      <NavItem\n                        onMouseDown={removeFocus}\n                        onClick={scrollTo(projectsSection)}\n                      >\n                        <FormattedMessage {...messages.projectsSection} />\n                      </NavItem>\n                      {hasProjectSubsection && (\n                        <ProjectsSubsectionUl>\n                          {currentSection.current && (\n                            <li>\n                              <NavItem\n                                onMouseDown={removeFocus}\n                                onClick={scrollTo(currentSection)}\n                              >\n                                <FormattedMessage\n                                  {...messages.projectsCurrent}\n                                />\n                              </NavItem>\n                            </li>\n                          )}\n                          {archivedSection.current && (\n                            <li>\n                              <NavItem\n                                onMouseDown={removeFocus}\n                                onClick={scrollTo(archivedSection)}\n                              >\n                                <FormattedMessage\n                                  {...messages.projectsArchived}\n                                />\n                              </NavItem>\n                            </li>\n                          )}\n                          {draftSection.current && (\n                            <li>\n                              <NavItem\n                                onMouseDown={removeFocus}\n                                onClick={scrollTo(draftSection)}\n                              >\n                                <FormattedMessage {...messages.projectsDraft} />\n                              </NavItem>\n                            </li>\n                          )}\n                        </ProjectsSubsectionUl>\n                      )}\n                    </li>\n                  )}\n                  <FeatureFlag name=\"initiatives\">\n                    <li>\n                      <NavItem\n                        onMouseDown={removeFocus}\n                        onClick={scrollTo(initiativesSection)}\n                      >\n                        <FormattedMessage {...messages.initiativesSection} />\n                      </NavItem>\n                    </li>\n                  </FeatureFlag>\n                </Ul>\n              </TOC>\n\n              <H2 ref={homeSection} tabIndex={-1}>\n                <FormattedMessage {...messages.homeSection} />\n              </H2>\n              <ul>\n                <li>\n                  <Link to=\"/\">\n                    <FormattedMessage {...messages.homePage} />\n                  </Link>\n                </li>\n                <li>\n                  <Link to=\"/pages/information\">\n                    <FormattedMessage {...messages.aboutLink} />\n                  </Link>\n                </li>\n                <li>\n                  <Link to=\"/pages/cookie-policy\">\n                    <FormattedMessage {...messages.cookiePolicyLink} />\n                  </Link>\n                </li>\n                <li>\n                  <Link to=\"/pages/terms-and-conditions\">\n                    <FormattedMessage {...messages.termsAndConditionsLink} />\n                  </Link>\n                </li>\n                <li>\n                  <Link to=\"/pages/privacy-policy\">\n                    <FormattedMessage {...messages.privacyPolicyLink} />\n                  </Link>\n                </li>\n                <li>\n                  <Link to=\"/pages/accessibility-statement\">\n                    <FormattedMessage\n                      {...messages.accessibilityStatementLink}\n                    />\n                  </Link>\n                </li>\n                <li>\n                  <Link to=\"/pages/faq\">\n                    <FormattedMessage {...messages.faqLink} />\n                  </Link>\n                </li>\n              </ul>\n\n              <H2 ref={userSpaceSection} tabIndex={-1}>\n                <FormattedMessage {...messages.userSpaceSection} />\n              </H2>\n              <ul>\n                {isNilOrError(authUser) ? (\n                  <>\n                    <li>\n                      <Link to=\"/sign-in\">\n                        <FormattedMessage {...messages.signInPage} />\n                      </Link>\n                    </li>\n                    <li>\n                      <Link to=\"/sign-up\">\n                        <FormattedMessage {...messages.signUpPage} />\n                      </Link>\n                    </li>\n                  </>\n                ) : (\n                  <>\n                    <li>\n                      <Link to={`/profile/${authUser.attributes.slug}`}>\n                        <FormattedMessage {...messages.profilePage} />\n                      </Link>\n                    </li>\n                    <li>\n                      <Link to=\"/profile/edit\">\n                        <FormattedMessage {...messages.profileSettings} />\n                      </Link>\n                    </li>\n                  </>\n                )}\n              </ul>\n\n              <ProjectsSection projectsSectionRef={projectsSection} />\n              <FeatureFlag name=\"initiatives\">\n                <H2 ref={initiativesSection} tabIndex={-1}>\n                  <FormattedMessage {...messages.initiativesSection} />\n                </H2>\n                <Ul>\n                  <li>\n                    <Link to=\"/initiatives\">\n                      <FormattedMessage {...messages.initiativesList} />\n                    </Link>\n                  </li>\n                  <li>\n                    <Link to=\"/pages/initiatives\">\n                      <FormattedMessage {...messages.initiativesInfo} />\n                    </Link>\n                  </li>\n                  {successStories && successStories.length === 3 && (\n                    <li>\n                      <FormattedMessage {...messages.successStories} />\n                      <ul>\n                        {successStories.map((story) => (\n                          <li key={story.page_slug}>\n                            <StoryLink story={story} />\n                          </li>\n                        ))}\n                      </ul>\n                    </li>\n                  )}\n                </Ul>\n              </FeatureFlag>\n            </QuillEditedContent>\n          </StyledContentContainer>\n        </PageContent>\n      )}\n    </Container>\n  );\n};\n\nconst Data = adopt<DataProps>({\n  projects: (\n    <GetProjects publicationStatuses={['draft', 'published', 'archived']} />\n  ),\n  tenant: <GetAppConfiguration />,\n  authUser: <GetAuthUser />,\n});\n\nexport default () => <Data>{(dataprops) => <SiteMap {...dataprops} />}</Data>;\n","import { isEmpty, get } from 'lodash-es';\nimport { Multiloc } from 'typings';\nimport { IUpdatedProjectProperties } from 'services/projects';\nimport messages from '../messages';\n\nexport default function validate(\n  currentTenant,\n  projectAttributesDiff,\n  project,\n  formatMessage\n) {\n  let hasErrors = false;\n\n  const currentTenantLocales = currentTenant\n    ? currentTenant.data.attributes.settings.core.locales\n    : null;\n\n  const projectAttrs = {\n    ...(project ? project.data.attributes : {}),\n    ...projectAttributesDiff,\n  } as IUpdatedProjectProperties;\n\n  const titleError = {} as Multiloc;\n\n  if (currentTenantLocales) {\n    currentTenantLocales.forEach((currentTenantLocale) => {\n      const title = get(projectAttrs.title_multiloc, currentTenantLocale);\n\n      if (isEmpty(title)) {\n        titleError[currentTenantLocale] = formatMessage(\n          messages.noTitleErrorMessage\n        );\n        hasErrors = true;\n      }\n    });\n  }\n\n  return { hasErrors, titleError };\n}\n","import { definePermissionRule } from 'services/permissions/permissions';\nimport { isAdmin } from '../roles';\nimport { IInitiativeData } from 'services/initiatives';\nimport { IUser } from 'services/users';\n\nconst isAuthor = (initiative: IInitiativeData, user?: IUser) => {\n  return (\n    user &&\n    initiative.relationships.author.data &&\n    initiative.relationships.author.data.id === user.data.id\n  );\n};\n\nexport const canCommentOnInitiative = (user: IUser) => {\n  return !isAdmin(user);\n};\n\nexport const canModerateInitiative = (user: IUser) => {\n  return isAdmin(user);\n};\n\ndefinePermissionRule(\n  'initiative',\n  'edit',\n  (initiative: IInitiativeData, user: IUser) => {\n    return !!(isAuthor(initiative, user) || isAdmin(user));\n  }\n);\n\ndefinePermissionRule('initiative', 'markAsSpam', () => {\n  return true;\n});\n\ndefinePermissionRule(\n  'initiative',\n  'moderate',\n  (_initiative: IInitiativeData, user: IUser) => {\n    return isAdmin(user);\n  }\n);\n","import React from 'react';\nimport { isString } from 'lodash-es';\nimport { Subscription, BehaviorSubject } from 'rxjs';\nimport { distinctUntilChanged, switchMap, filter } from 'rxjs/operators';\nimport shallowCompare from 'utils/shallowCompare';\nimport { isNilOrError } from 'utils/helperUtils';\nimport {\n  phasePermissions,\n  IPCPermissionData,\n} from 'services/actionPermissions';\n\ninterface InputProps {\n  phaseId?: string | null;\n}\n\ntype children = (\n  renderProps: GetPhasePermissionsChildProps\n) => JSX.Element | null;\n\ninterface Props extends InputProps {\n  children?: children;\n}\n\ninterface State {\n  permissions: IPCPermissionData[] | undefined | null | Error;\n}\n\nexport type GetPhasePermissionsChildProps = State['permissions'];\n\nexport default class GetPhasePermissions extends React.Component<Props, State> {\n  private inputProps$: BehaviorSubject<InputProps>;\n  private subscriptions: Subscription[];\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      permissions: undefined,\n    };\n  }\n\n  componentDidMount() {\n    const { phaseId } = this.props;\n\n    this.inputProps$ = new BehaviorSubject({ phaseId });\n\n    this.subscriptions = [\n      this.inputProps$\n        .pipe(\n          distinctUntilChanged((prev, next) => shallowCompare(prev, next)),\n          filter(({ phaseId }: { phaseId: string }) => isString(phaseId)),\n          switchMap(({ phaseId }) => phasePermissions(phaseId).observable)\n        )\n        .subscribe((permissions) => {\n          this.setState({\n            permissions: !isNilOrError(permissions)\n              ? permissions.data\n              : permissions,\n          });\n        }),\n    ];\n  }\n\n  componentDidUpdate() {\n    const { phaseId } = this.props;\n    this.inputProps$.next({ phaseId });\n  }\n\n  componentWillUnmount() {\n    this.subscriptions.forEach((subscription) => subscription.unsubscribe());\n  }\n\n  render() {\n    const { children } = this.props;\n    const { permissions } = this.state;\n    return (children as children)(permissions);\n  }\n}\n","import React from 'react';\nimport { Table } from 'semantic-ui-react';\nimport Checkbox from 'components/UI/Checkbox';\nimport { FormattedMessage } from 'utils/cl-intl';\nimport SortableTableHeader from 'components/admin/SortableTableHeader';\nimport messages from '../../messages';\nimport { TableHeaderCellText } from '.';\n\nexport default ({\n  sortAttribute,\n  sortDirection,\n  allSelected,\n  toggleSelectAll,\n  handleSortClick,\n}) => (\n  <Table.Header>\n    <Table.Row>\n      <Table.HeaderCell width={1}>\n        <Checkbox\n          checked={!!allSelected}\n          onChange={toggleSelectAll}\n          size=\"21px\"\n        />\n      </Table.HeaderCell>\n      <Table.HeaderCell width={4}>\n        <TableHeaderCellText>\n          <FormattedMessage {...messages.title} />\n        </TableHeaderCellText>\n      </Table.HeaderCell>\n      <Table.HeaderCell width={2}>\n        <TableHeaderCellText>\n          <FormattedMessage {...messages.assignee} />\n        </TableHeaderCellText>\n      </Table.HeaderCell>\n      <Table.HeaderCell width={2}>\n        <SortableTableHeader\n          direction={sortAttribute === 'new' ? sortDirection : null}\n          onToggle={handleSortClick('new')}\n        >\n          <TableHeaderCellText>\n            <FormattedMessage {...messages.remainingTime} />\n          </TableHeaderCellText>\n        </SortableTableHeader>\n      </Table.HeaderCell>\n      <Table.HeaderCell width={1}>\n        <SortableTableHeader\n          direction={sortAttribute === 'upvotes_count' ? sortDirection : null}\n          onToggle={handleSortClick('upvotes_count')}\n        >\n          <TableHeaderCellText>\n            <FormattedMessage {...messages.votes} />\n          </TableHeaderCellText>\n        </SortableTableHeader>\n      </Table.HeaderCell>\n      <Table.HeaderCell width={1}>\n        <TableHeaderCellText>\n          <FormattedMessage {...messages.comments} />\n        </TableHeaderCellText>\n      </Table.HeaderCell>\n    </Table.Row>\n  </Table.Header>\n);\n","import 'services/verificationMethods';\n\ndeclare module 'services/verificationMethods' {\n  export interface IVerificationMethodNamesMap {\n    gent_rrn: 'gent_rrn';\n  }\n}\n","import { API_PATH } from 'containers/App/constants';\nimport streams, { IStreamParams } from 'utils/streams';\nimport { IRelationship } from 'typings';\n\nexport interface IProjectTopicData {\n  id: string;\n  type: 'projects_topic';\n  attributes: {\n    ordering: number;\n  };\n  relationships: {\n    project: {\n      data: IRelationship;\n    };\n    topic: {\n      data: IRelationship;\n    };\n  };\n}\n\nexport interface IProjectTopic {\n  data: IProjectTopicData;\n}\n\nexport interface IProjectTopics {\n  data: IProjectTopicData[];\n}\n\nconst apiEndpoint = `${API_PATH}/projects`;\n\nexport async function deleteProjectTopic(\n  projectId: string,\n  projectTopicId: string\n) {\n  const response = await streams.delete(\n    `${API_PATH}/projects_topics/${projectTopicId}`,\n    projectTopicId\n  );\n  await streams.fetchAllWith({\n    apiEndpoint: [`${apiEndpoint}/${projectId}/projects_topics`],\n  });\n  return response;\n}\n\nexport async function addProjectTopic(projectId: string, topicId: string) {\n  const response = await streams.add(`${API_PATH}/projects_topics`, {\n    project_id: projectId,\n    topic_id: topicId,\n  });\n  await streams.fetchAllWith({\n    apiEndpoint: [`${apiEndpoint}/${projectId}/projects_topics`],\n  });\n  return response;\n}\n\nexport async function reorderProjectTopic(\n  projectTopicId: string,\n  newOrder: number,\n  projectId: string\n) {\n  const response = await streams.update(\n    `${API_PATH}/projects_topics/${projectTopicId}/reorder`,\n    projectTopicId,\n    {\n      projects_topic: {\n        ordering: newOrder,\n      },\n    }\n  );\n\n  streams.fetchAllWith({\n    apiEndpoint: [`${apiEndpoint}/${projectId}/projects_topics`],\n  });\n\n  return response;\n}\n\nexport function projectTopicsStream(\n  projectId: string,\n  streamParams: IStreamParams | null = null\n) {\n  return streams.get<IProjectTopics>({\n    apiEndpoint: `${apiEndpoint}/${projectId}/projects_topics`,\n    ...streamParams,\n  });\n}\n","import React, { PureComponent } from 'react';\nimport styled from 'styled-components';\nimport { media } from 'utils/styleUtils';\n\nconst Wrapper = styled.div`\n  background: #fff;\n  border-radius: ${(props: any) => props.theme.borderRadius};\n  border: 1px solid ${(props) => props.theme.colors.separation};\n  box-sizing: border-box;\n  padding: 3.5rem 4rem;\n  margin-bottom: 60px;\n\n  ${media.smallerThan1280px`\n    padding: 2rem 2rem;\n  `}\n`;\n\nexport const ButtonWrapper = styled.div`\n  display: flex;\n  margin: 2em 0;\n  padding: 0;\n\n  &:first-child {\n    margin-top: 0;\n  }\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n`;\n\nexport default class PageWrapper extends PureComponent<{ className?: string }> {\n  render() {\n    return (\n      <Wrapper className={this.props.className}>{this.props.children}</Wrapper>\n    );\n  }\n}\n","import 'core-js/stable';\nimport 'regenerator-runtime/runtime';\nimport React, { useEffect } from 'react';\nimport { render } from 'react-dom';\n// tslint:disable-next-line:no-vanilla-routing\nimport { applyRouterMiddleware, Router, browserHistory } from 'react-router';\nimport { useScroll } from 'react-router-scroll';\nimport 'assets/css/reset.min.css';\nimport 'assets/fonts/fonts.css';\nimport 'tippy.js/dist/tippy.css';\nimport 'tippy.js/themes/light.css';\nimport App from 'containers/App';\nimport LanguageProvider from 'containers/LanguageProvider';\nimport 'file-loader?name=[name].[ext]!./.htaccess';\nimport createRoutes from './routes';\nimport { init } from '@sentry/browser';\nimport OutletsProvider from 'containers/OutletsProvider';\nimport modules from 'modules';\n\nconst rootRoute = {\n  component: App,\n  childRoutes: createRoutes(),\n};\n\nconst Root = () => {\n  useEffect(() => {\n    modules.afterMountApplication();\n  }, []);\n\n  console.log('env variables: ', process.env);\n\n  return (\n    <OutletsProvider>\n      <LanguageProvider>\n        <Router\n          history={browserHistory}\n          routes={rootRoute}\n          render={applyRouterMiddleware(useScroll())}\n        />\n      </LanguageProvider>\n    </OutletsProvider>\n  );\n};\n\nconst mountApplication = () => {\n  try {\n    modules.beforeMountApplication();\n  } finally {\n    render(<Root />, document.getElementById('app'));\n  }\n};\n\nmountApplication();\n\nif (process.env.SENTRY_DSN) {\n  import('@sentry/integrations').then((Integrations) => {\n    init({\n      dsn: process.env.SENTRY_DSN,\n      environment: process.env.NODE_ENV,\n      release: process.env.CIRCLE_BUILD_NUM,\n      integrations: [new Integrations.RewriteFrames()],\n    });\n  });\n}\n","import React from 'react';\nimport { adopt } from 'react-adopt';\nimport { ISuccessStory } from 'services/appConfiguration';\nimport GetPage, { GetPageChildProps } from 'resources/GetPage';\nimport { isNilOrError } from 'utils/helperUtils';\nimport T from 'components/T';\nimport Link from 'utils/cl-router/Link';\n\ninterface InputProps {\n  story: ISuccessStory;\n}\n\ninterface DataProps {\n  page: GetPageChildProps;\n}\n\ninterface Props extends InputProps, DataProps {}\n\nconst StoryLink = ({ page, story }: Props) =>\n  !isNilOrError(page) ? (\n    <Link to={`/pages/${story.page_slug}`}>\n      <T value={page.attributes.title_multiloc} />\n    </Link>\n  ) : null;\n\nconst Data = adopt<DataProps, InputProps>({\n  page: ({ story, render }) => (\n    <GetPage slug={story.page_slug}>{render}</GetPage>\n  ),\n});\n\nexport default (inputProps: InputProps) => (\n  <Data {...inputProps}>\n    {(dataprops) => <StoryLink {...inputProps} {...dataprops} />}\n  </Data>\n);\n","import React, { memo } from 'react';\nimport { IStatusChangeOfYourIdeaNotificationData } from 'services/notifications';\nimport messages from '../../messages';\nimport { FormattedMessage } from 'utils/cl-intl';\nimport T from 'components/T';\nimport NotificationWrapper from '../NotificationWrapper';\n\ninterface Props {\n  notification: IStatusChangeOfYourIdeaNotificationData;\n}\n\nconst StatusChangeOfYourIdeaNotification = memo<Props>((props) => {\n  const { notification } = props;\n\n  return (\n    <NotificationWrapper\n      linkTo={`/ideas/${notification.attributes.post_slug}`}\n      timing={notification.attributes.created_at}\n      icon=\"notification_status\"\n      isRead={!!notification.attributes.read_at}\n    >\n      <FormattedMessage\n        {...messages.statusChangedOfYourIdea}\n        values={{\n          status: (\n            <T value={notification.attributes.idea_status_title_multiloc} />\n          ),\n          ideaTitle: <T value={notification.attributes.post_title_multiloc} />,\n        }}\n      />\n    </NotificationWrapper>\n  );\n});\n\nexport default StatusChangeOfYourIdeaNotification;\n","import 'services/verificationMethods';\n\ndeclare module 'services/verificationMethods' {\n  export interface IVerificationMethodNamesMap {\n    bogus: 'bogus';\n  }\n}\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  loading: {\n    id: 'app.containers.App.loading',\n    defaultMessage: 'Loading...',\n  },\n  metaTitle: {\n    id: 'app.containers.App.metaTitle',\n    defaultMessage: 'Citizen engagement platform of {orgName} | CitizenLab',\n  },\n  appMetaDescription: {\n    id: 'app.containers.App.appMetaDescription',\n    defaultMessage:\n      'Welcome to the online participation platform of {orgName}. \\nExplore local projects and engage in the discussion!',\n  },\n});\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  addModerators: {\n    id: 'app.components.UserSearch.addModerators',\n    defaultMessage: 'Add',\n  },\n  searchUsers: {\n    id: 'app.components.UserSearch.searchUsers',\n    defaultMessage: 'Type to search users...',\n  },\n  noOptions: {\n    id: 'app.components.UserSearch.noOptions',\n    defaultMessage: 'No options',\n  },\n  pendingInvitation: {\n    id: 'app.containers.AdminPage.groups.permissions.pendingInvitation',\n    defaultMessage: 'Pending invitation',\n  },\n  unknownName: {\n    id: 'app.containers.AdminPage.groups.permissions.unknownName',\n    defaultMessage: 'Unknown name',\n  },\n  moderatorDeletionConfirmation: {\n    id:\n      'app.containers.AdminPage.groups.permissions.moderatorDeletionConfirmation',\n    defaultMessage: 'Are you sure?',\n  },\n  deleteModeratorLabel: {\n    id: 'app.containers.AdminPage.groups.permissions.deleteModeratorLabel',\n    defaultMessage: 'Delete',\n  },\n  moderatorsNotFound: {\n    id: 'app.containers.AdminPage.groups.permissions.moderatorsNotFound',\n    defaultMessage: 'Moderators not found',\n  },\n  permissionsTab: {\n    id: 'app.modules.project_management.admin.components.permissionsTab',\n    defaultMessage: 'Access rights',\n  },\n});\n","import React, { PureComponent } from 'react';\nimport { Subscription, combineLatest } from 'rxjs';\nimport { currentAppConfigurationStream } from 'services/appConfiguration';\n// tslint:disable-next-line:no-vanilla-formatted-messages\nimport {\n  injectIntl as originalInjectIntl,\n  InjectedIntlProps,\n  InjectIntlConfig,\n} from 'react-intl';\nimport { localeStream } from 'services/locale';\nimport { getLocalized } from 'utils/i18n';\nimport { getDisplayName, isNilOrError } from 'utils/helperUtils';\n\ntype State = {\n  tenantName: string | null;\n  orgName: string | null;\n  orgType: string | null;\n  loaded: boolean;\n};\n\nfunction buildComponent<P>(\n  Component: React.ComponentType<P & InjectedIntlProps>\n) {\n  return class NewFormatMessageComponent extends PureComponent<\n    P & InjectedIntlProps,\n    State\n  > {\n    subscriptions: Subscription[];\n    static displayName = `WithIntl(${getDisplayName(Component)})`;\n\n    constructor(props) {\n      super(props);\n      this.state = {\n        tenantName: null,\n        orgName: null,\n        orgType: null,\n        loaded: false,\n      };\n      this.subscriptions = [];\n    }\n\n    componentDidMount() {\n      const locale$ = localeStream().observable;\n      const currentTenant$ = currentAppConfigurationStream().observable;\n\n      this.subscriptions = [\n        combineLatest(locale$, currentTenant$).subscribe(([locale, tenant]) => {\n          if (!isNilOrError(locale) && !isNilOrError(tenant)) {\n            const tenantLocales = tenant.data.attributes.settings.core.locales;\n            const tenantName = tenant.data.attributes.name;\n            const orgName = getLocalized(\n              tenant.data.attributes.settings.core.organization_name,\n              locale,\n              tenantLocales\n            );\n            const orgType =\n              tenant.data.attributes.settings.core.organization_type;\n            this.setState({ tenantName, orgName, orgType, loaded: true });\n          }\n        }),\n      ];\n    }\n\n    componentWillUnmount() {\n      this.subscriptions.forEach((subscription) => subscription.unsubscribe());\n    }\n\n    formatMessageReplacement = (\n      messageDescriptor: ReactIntl.FormattedMessage.MessageDescriptor,\n      values?: { [key: string]: string | number | boolean | Date } | undefined\n    ) => {\n      return this.props.intl.formatMessage(messageDescriptor, {\n        tenantName: this.state.tenantName,\n        orgName: this.state.orgName,\n        orgType: this.state.orgType,\n        ...(values || {}),\n      });\n    };\n\n    render() {\n      const { loaded } = this.state;\n\n      if (loaded) {\n        const { intl } = this.props;\n        const intlReplacement = {\n          ...(intl as Record<string, any>),\n          formatMessage: this.formatMessageReplacement,\n        };\n\n        return <Component {...this.props} intl={intlReplacement} />;\n      }\n\n      return null;\n    }\n  };\n}\n\nexport default function injectIntl<P>(\n  component: React.ComponentType<P & InjectedIntlProps>,\n  options?: InjectIntlConfig\n) {\n  return originalInjectIntl<P & InjectedIntlProps>(\n    buildComponent<P & InjectedIntlProps>(component),\n    options\n  );\n}\n","import React, { Component } from 'react';\nimport { clone, find } from 'lodash-es';\n\nimport { DragDropContext } from 'react-dnd-cjs';\nimport HTML5Backend from 'react-dnd-html5-backend-cjs';\nimport { List } from 'components/admin/ResourceList';\n\nexport interface InputProps {\n  items: any[];\n  onReorder: (fieldId: string, newOrder: number) => void;\n  children: (renderProps: RenderProps) => JSX.Element | JSX.Element[] | null;\n  className?: string;\n  id?: string;\n}\n\ntype RenderProps = {\n  itemsList: any[];\n  handleDragRow: (fromIndex: number, toIndex: number) => void;\n  handleDropRow: (itemId: string, toIndex: number) => void;\n};\n\nexport interface SortableListState {\n  itemsWhileDragging: any[] | null;\n}\n\nexport class SortableList extends Component<InputProps, SortableListState> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      itemsWhileDragging: null,\n    };\n  }\n\n  handleDragRow = (fromIndex, toIndex) => {\n    const listItems = this.listItems();\n    if (!listItems) return;\n\n    const itemsWhileDragging = clone(listItems);\n    itemsWhileDragging.splice(fromIndex, 1);\n    itemsWhileDragging.splice(toIndex, 0, listItems[fromIndex]);\n    this.setState({ itemsWhileDragging });\n  };\n\n  handleDropRow = (itemId, toIndex) => {\n    const listItems = this.listItems();\n    if (!listItems) return;\n    const item = find(listItems, { id: itemId });\n    if (item && item.attributes?.ordering !== toIndex) {\n      this.props.onReorder(itemId, toIndex);\n    } else {\n      this.setState({ itemsWhileDragging: null });\n    }\n  };\n\n  listItems = () => {\n    const { items } = this.props;\n    return this.state.itemsWhileDragging || items;\n  };\n\n  render() {\n    const itemsList = this.listItems() || [];\n    const { children, id, className } = this.props;\n\n    return (\n      <List id={id} className={className}>\n        {children({\n          itemsList,\n          handleDragRow: this.handleDragRow,\n          handleDropRow: this.handleDropRow,\n        })}\n      </List>\n    );\n  }\n}\n\nexport default DragDropContext(HTML5Backend)(SortableList);\n","import { ModuleConfiguration } from 'utils/moduleUtils';\nimport CustomStyleInputs from './admin/components/CustomStyleInputs';\n\nconst configuration: ModuleConfiguration = {\n  outlets: {\n    'app.containers.Admin.settings.customize.fields': CustomStyleInputs,\n  },\n};\n\nexport default configuration;\n","import React from 'react';\nimport {\n  SectionWrapper,\n  SectionHeader,\n  SectionTitle,\n  SectionContent,\n  renderArticle,\n} from './';\nimport AdminGuideArticle from './AdminGuideArticle';\n\nimport { Icon } from 'cl2-component-library';\nimport { colors } from 'utils/styleUtils';\n\n// analytics\nimport { trackEventByName } from 'utils/analytics';\nimport tracks from './tracks';\n\n// i18n\nimport { FormattedMessage, injectIntl } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\nimport messages from './messages';\nimport Outlet from 'components/Outlet';\n\ntype SetupArticle = 'projects' | 'user_custom_fields';\nconst articles: SetupArticle[] = ['projects', 'user_custom_fields'];\ntype SetupMessages = {\n  [key in SetupArticle]: ReactIntl.FormattedMessage.MessageDescriptor;\n};\n\nconst SetupSection = ({ intl: { formatMessage } }: InjectedIntlProps) => {\n  const handleClickExternalTrack = () => {\n    trackEventByName(tracks.externalLink.name, {\n      extra: { section: 'setup' },\n    });\n  };\n  const getHandleClickInteralTrack = (article: SetupArticle) => () => {\n    trackEventByName(tracks.internalLink.name, {\n      extra: { article, section: 'setup' },\n    });\n  };\n\n  return (\n    <SectionWrapper>\n      <SectionHeader>\n        <SectionTitle color={colors.adminOrangeIcons}>\n          <Icon name={'setup'} />\n          <FormattedMessage tagName=\"h2\" {...messages.setupSectionTitle} />\n        </SectionTitle>\n        <a\n          href={formatMessage(messages.setupSectionLink)}\n          target=\"_blank\"\n          onClick={handleClickExternalTrack}\n          rel=\"noreferrer\"\n        >\n          <FormattedMessage {...messages.readCompleteGuide} />\n        </a>\n      </SectionHeader>\n      <SectionContent>\n        {articles.map((article, i) => {\n          const linkMessages: SetupMessages = {\n            projects: messages.setupArticle1Link,\n            user_custom_fields: messages.setupArticle2Link,\n          };\n          const titleMessages: SetupMessages = {\n            projects: messages.setupArticle1Title,\n            user_custom_fields: messages.setupArticle2Title,\n          };\n          const descriptionMessages: SetupMessages = {\n            projects: messages.setupArticle1Description,\n            user_custom_fields: messages.setupArticle2Description,\n          };\n          const linkMessage = linkMessages[article];\n          const titleMessage = titleMessages[article];\n          const descriptionMessage = descriptionMessages[article];\n          const adminGuideArticle = (\n            <AdminGuideArticle\n              key={`setupArticle${i}`}\n              linkMessage={linkMessage}\n              titleMessage={titleMessage}\n              trackLink={getHandleClickInteralTrack(article)}\n              descriptionMessage={descriptionMessage}\n            />\n          );\n\n          return renderArticle(article, i, adminGuideArticle);\n        })}\n        <Outlet id=\"app.containers.Admin.guide.SetupSection\" />\n      </SectionContent>\n    </SectionWrapper>\n  );\n};\n\nexport default injectIntl(SetupSection);\n","import 'services/verificationMethods';\n\ndeclare module 'services/verificationMethods' {\n  export interface IVerificationMethodNamesMap {\n    franceconnect: 'franceconnect';\n  }\n}\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  tabStatuses: {\n    id: 'app.containers.Admin.ideas.tabStatuses',\n    defaultMessage: 'Statuses',\n  },\n  fieldTitle: {\n    id: 'app.containers.admin.ideaStatuses.form.fieldTitle',\n    defaultMessage: 'Status Name',\n  },\n  fieldDescription: {\n    id: 'app.containers.admin.ideaStatuses.form.fieldDescription',\n    defaultMessage: 'Status Description',\n  },\n  fieldColor: {\n    id: 'app.containers.admin.ideaStatuses.form.fieldColor',\n    defaultMessage: 'Color',\n  },\n  category: {\n    id: 'app.containers.admin.ideaStatuses.form.category',\n    defaultMessage: 'Category',\n  },\n  categoryDescription: {\n    id: 'app.containers.admin.ideaStatuses.form.categoryDescription',\n    defaultMessage:\n      'Please select the category that best represents your status. This selection will help our analytics tool to more accurately process and analyze posts.',\n  },\n  proposedFieldCodeTitle: {\n    id: 'app.containers.admin.ideaStatuses.form.proposedFieldCodeTitle',\n    defaultMessage: 'Proposed',\n  },\n  viewedFieldCodeTitle: {\n    id: 'app.containers.admin.ideaStatuses.form.viewedFieldCodeTitle',\n    defaultMessage: 'Viewed',\n  },\n  under_considerationFieldCodeTitle: {\n    id:\n      'app.containers.admin.ideaStatuses.form.under_considerationFieldCodeTitle',\n    defaultMessage: 'Under Consideration',\n  },\n  acceptedFieldCodeTitle: {\n    id: 'app.containers.admin.ideaStatuses.form.acceptedFieldCodeTitle',\n    defaultMessage: 'Approved',\n  },\n  implementedFieldCodeTitle: {\n    id: 'app.containers.admin.ideaStatuses.form.implementedFieldCodeTitle',\n    defaultMessage: 'Implemented',\n  },\n  rejectedFieldCodeTitle: {\n    id: 'app.containers.admin.ideaStatuses.form.rejectedFieldCodeTitle',\n    defaultMessage: 'Not Selected',\n  },\n  customFieldCodeTitle: {\n    id: 'app.containers.admin.ideaStatuses.form.customFieldCodeTitle',\n    defaultMessage: 'Other',\n  },\n  proposedFieldCodeDescription: {\n    id: 'app.containers.admin.ideaStatuses.form.proposedFieldCodeDescription',\n    defaultMessage: 'Successfully submitted as a proposal for consideration',\n  },\n  viewedFieldCodeDescription: {\n    id: 'app.containers.admin.ideaStatuses.form.viewedFieldCodeDescription',\n    defaultMessage: 'Viewed but not yet processed',\n  },\n  under_considerationFieldCodeDescription: {\n    id:\n      'app.containers.admin.ideaStatuses.form.under_considerationFieldCodeDescription',\n    defaultMessage: 'Considered for implementation or next steps',\n  },\n  acceptedFieldCodeDescription: {\n    id: 'app.containers.admin.ideaStatuses.form.acceptedFieldCodeDescription',\n    defaultMessage: 'Selected for implementation or next steps',\n  },\n  implementedFieldCodeDescription: {\n    id:\n      'app.containers.admin.ideaStatuses.form.implementedFieldCodeDescription',\n    defaultMessage: 'Successfully implemented',\n  },\n  rejectedFieldCodeDescription: {\n    id: 'app.containers.admin.ideaStatuses.form.rejectedFieldCodeDescription',\n    defaultMessage: 'Ineligible or not selected to move forward',\n  },\n});\n","// extracted by mini-css-extract-plugin\nexport {};","import Loadable from 'react-loadable';\nimport { LoadableLoadingAdmin } from 'components/UI/LoadableLoading';\n\nexport default () => ({\n  name: 'Admin invitations',\n  path: 'invitations',\n  component: Loadable({\n    loader: () => import('./'),\n    loading: LoadableLoadingAdmin,\n    delay: 500,\n  }),\n  indexRoute: {\n    component: Loadable({\n      loader: () => import('./invite'),\n      loading: () => null,\n    }),\n  },\n  childRoutes: [\n    {\n      path: 'all',\n      component: Loadable({\n        loader: () => import('./all'),\n        loading: () => null,\n      }),\n    },\n  ],\n});\n","import TextValueSelector from './ValueSelector/TextValueSelector';\nimport DateValueSelector from './ValueSelector/DateValueSelector';\nimport AreaValueSelector from './ValueSelector/AreaValueSelector';\nimport AreaValuesSelector from './ValueSelector/AreaValuesSelector';\nimport ProjectValueSelector from './ValueSelector/ProjectValueSelector';\nimport ProjectValuesSelector from './ValueSelector/ProjectValuesSelector';\nimport NumberValueSelector from './ValueSelector/NumberValueSelector';\n\nimport CustomFieldOptionValueSelector from 'modules/commercial/user_custom_fields/admin/components/CustomFieldOptionValueSelector';\nimport CustomFieldOptionValuesSelector from 'modules/commercial/user_custom_fields/admin/components/CustomFieldOptionValuesSelector';\n\nimport TopicValueSelector from './ValueSelector/TopicValueSelector';\nimport TopicValuesSelector from './ValueSelector/TopicValuesSelector';\nimport IdeaStatusValueSelector from './ValueSelector/IdeaStatusValueSelector';\nimport IdeaStatusValuesSelector from './ValueSelector/IdeaStatusValuesSelector';\n\n/**\n  The TRule type below was generated by json-schema-to-typescript:\n  https://github.com/bcherny/json-schema-to-typescript\n\n  The JSON schema can be found in the groups API docs\n  => Create a group with 'rules' membership_type\n\n  At the time of this commit, the url is:\n  http://developers.citizenlab.co/api-docs/frontweb_api/master/groups/create_a_group_with_%27rules%27_membership_type.html\n */\n\n/**\n * Schema for validating the rules used in smart groups\n */\n\nexport type TRuleType = TStaticRuleType | TCustomRuleType;\n\nexport type TStaticRuleType =\n  | 'email'\n  | 'lives_in'\n  | 'registration_completed_at'\n  | 'role'\n  | 'participated_in_project'\n  | 'participated_in_topic'\n  | 'participated_in_idea_status'\n  | 'verified';\n\nexport type TCustomRuleType =\n  | 'custom_field_text'\n  | 'custom_field_select'\n  | 'custom_field_checkbox'\n  | 'custom_field_date'\n  | 'custom_field_number';\n\nexport type TPredicate = TStaticPredicate | TCustomPredicate;\n\ntype TStaticPredicate =\n  | TRolePredicate\n  | TEmailPredicate\n  | TResidencePredicate\n  | TRegistrationCompletedPredicate\n  | TParticipatedInProjectPredicate\n  | TParticipatedInTopicPredicate\n  | TParticipatedInStatusPredicate\n  | TVerifiedPredicate;\n\ntype TRolePredicate =\n  | 'is_admin'\n  | 'not_is_admin'\n  | 'is_project_moderator'\n  | 'not_is_project_moderator'\n  | 'is_normal_user'\n  | 'not_is_normal_user';\n\ntype TEmailPredicate =\n  | 'is'\n  | 'not_is'\n  | 'contains'\n  | 'not_contains'\n  | 'begins_with'\n  | 'not_begins_with'\n  | 'ends_on'\n  | 'not_ends_on';\n\ntype TResidencePredicate =\n  | 'has_value'\n  | 'not_has_value'\n  | 'is_empty'\n  | 'not_is_empty'\n  | 'is_one_of'\n  | 'not_is_one_of';\n\ntype TRegistrationCompletedPredicate =\n  | 'is_empty'\n  | 'not_is_empty'\n  | 'is_before'\n  | 'is_exactly'\n  | 'is_after';\n\ntype TParticipatedInProjectPredicate =\n  | 'in'\n  | 'not_in'\n  | 'posted_in'\n  | 'not_posted_in'\n  | 'commented_in'\n  | 'not_commented_in'\n  | 'voted_idea_in'\n  | 'not_voted_idea_in'\n  | 'voted_comment_in'\n  | 'not_voted_comment_in'\n  | 'budgeted_in'\n  | 'not_budgeted_in'\n  | 'volunteered_in'\n  | 'not_volunteered_in';\n\ntype TParticipatedInTopicPredicate =\n  | 'in'\n  | 'not_in'\n  | 'posted_in'\n  | 'not_posted_in'\n  | 'commented_in'\n  | 'not_commented_in'\n  | 'voted_idea_in'\n  | 'not_voted_idea_in'\n  | 'voted_comment_in'\n  | 'not_voted_comment_in';\n\ntype TParticipatedInStatusPredicate =\n  | 'in'\n  | 'not_in'\n  | 'posted_in'\n  | 'not_posted_in'\n  | 'commented_in'\n  | 'not_commented_in'\n  | 'voted_idea_in'\n  | 'not_voted_idea_in'\n  | 'voted_comment_in'\n  | 'not_voted_comment_in';\n\ntype TVerifiedPredicate = 'is_verified' | 'not_is_verified';\n\ntype TCustomPredicate =\n  | TCustomFieldSelectPredicate\n  | TCustomFieldCheckboxPredicate\n  | TCustomFieldDatePredicate\n  | TCustomFieldTextPredicate\n  | TCustomFieldNumberPredicate;\n\ntype TCustomFieldTextPredicate =\n  | 'is'\n  | 'not_is'\n  | 'contains'\n  | 'not_contains'\n  | 'begins_with'\n  | 'not_begins_with'\n  | 'ends_on'\n  | 'not_ends_on'\n  | 'is_empty'\n  | 'not_is_empty';\n\ntype TCustomFieldSelectPredicate =\n  | 'is_empty'\n  | 'not_is_empty'\n  | 'is_one_of'\n  | 'not_is_one_of'\n  | 'has_value'\n  | 'not_has_value';\n\ntype TCustomFieldCheckboxPredicate = 'is_checked' | 'not_is_checked';\n\ntype TCustomFieldDatePredicate =\n  | 'is_empty'\n  | 'not_is_empty'\n  | 'is_before'\n  | 'is_exactly'\n  | 'is_after';\n\ntype TCustomFieldNumberPredicate =\n  | 'is_equal'\n  | 'not_is_equal'\n  | 'is_larger_than'\n  | 'is_larger_than_or_equal'\n  | 'is_smaller_than'\n  | 'is_smaller_than_or_equal'\n  | 'is_empty'\n  | 'not_is_empty';\n\nexport type TRule =\n  | {\n      ruleType?: 'custom_field_text';\n      /**\n       * The ID of a custom field\n       */\n      customFieldId?: string;\n      predicate?:\n        | 'is'\n        | 'not_is'\n        | 'contains'\n        | 'not_contains'\n        | 'begins_with'\n        | 'not_begins_with'\n        | 'ends_on'\n        | 'not_ends_on';\n      value?: string;\n    }\n  | {\n      ruleType?: 'custom_field_text';\n      /**\n       * The ID of a custom field\n       */\n      customFieldId?: string;\n      predicate?: 'is_empty' | 'not_is_empty';\n      value?: undefined;\n    }\n  | {\n      ruleType?: 'custom_field_select';\n      /**\n       * The ID of a custom field\n       */\n      customFieldId?: string;\n      predicate?: 'has_value' | 'not_has_value';\n      /**\n       * The id of one of the options of the custom field\n       */\n      value?: string;\n    }\n  | {\n      ruleType?: 'custom_field_select';\n      /**\n       * The ID of a custom field\n       */\n      customFieldId?: string;\n      predicate?: 'is_empty' | 'not_is_empty';\n      value?: undefined;\n    }\n  | {\n      ruleType?: 'custom_field_select';\n      /**\n       * The IDs of a custom fields\n       */\n      customFieldId?: string;\n      predicate?: 'is_one_of' | 'not_is_one_of';\n      value?: string[];\n    }\n  | {\n      ruleType?: 'custom_field_checkbox';\n      /**\n       * The ID of a custom field\n       */\n      customFieldId?: string;\n      predicate?: 'is_checked' | 'not_is_checked';\n      value?: undefined;\n    }\n  | {\n      ruleType?: 'custom_field_date';\n      /**\n       * The ID of a custom field\n       */\n      customFieldId?: string;\n      predicate?: 'is_before' | 'is_exactly' | 'is_after';\n      /**\n       * The date formatted as yyyy-mm-dd\n       */\n      value?: string;\n    }\n  | {\n      ruleType?: 'custom_field_date';\n      /**\n       * The ID of a custom field\n       */\n      customFieldId?: string;\n      predicate?: 'is_empty' | 'not_is_empty';\n      value?: undefined;\n    }\n  | {\n      ruleType?: 'custom_field_number';\n      /**\n       * The ID of a custom field\n       */\n      customFieldId?: string;\n      predicate?:\n        | 'is_equal'\n        | 'not_is_equal'\n        | 'is_larger_than'\n        | 'is_larger_than_or_equal'\n        | 'is_smaller_than'\n        | 'is_smaller_than_or_equal';\n      value?: number;\n    }\n  | {\n      ruleType?: 'custom_field_number';\n      /**\n       * The ID of a custom field\n       */\n      customFieldId?: string;\n      predicate?: 'is_empty' | 'not_is_empty';\n      value?: undefined;\n    }\n  | {\n      ruleType?: 'role';\n      predicate?:\n        | 'is_admin'\n        | 'not_is_admin'\n        | 'is_project_moderator'\n        | 'not_is_project_moderator'\n        | 'is_normal_user'\n        | 'not_is_normal_user';\n      value?: undefined;\n    }\n  | {\n      ruleType?: 'email';\n      predicate?:\n        | 'is'\n        | 'not_is'\n        | 'contains'\n        | 'not_contains'\n        | 'begins_with'\n        | 'not_begins_with'\n        | 'ends_on'\n        | 'not_ends_on';\n      value?: string;\n    }\n  | {\n      ruleType?: 'lives_in';\n      predicate?: 'has_value' | 'not_has_value';\n      /**\n       * The id of an area\n       */\n      value?: string;\n    }\n  | {\n      ruleType?: 'lives_in';\n      predicate?: 'is_empty' | 'not_is_empty';\n      value?: undefined;\n    }\n  | {\n      ruleType?: 'lives_in';\n      /**\n       * The IDs of areas\n       */\n      predicate?: 'is_one_of' | 'not_is_one_of';\n      value?: string[];\n    }\n  | {\n      ruleType?: 'registration_completed_at';\n      predicate?: 'is_before' | 'is_exactly' | 'is_after';\n      /**\n       * The date formatted as yyyy-mm-dd\n       */\n      value?: string;\n    }\n  | {\n      ruleType?: 'registration_completed_at';\n      predicate?: 'is_empty' | 'not_is_empty';\n      value?: undefined;\n    }\n  | {\n      ruleType?: 'participated_in_project';\n      predicate?:\n        | 'not_in'\n        | 'not_posted_in'\n        | 'not_commented_in'\n        | 'not_voted_idea_in'\n        | 'not_voted_comment_in'\n        | 'not_budgeted_in'\n        | 'not_volunteered_in';\n\n      /**\n       * The id of a project\n       */\n      value?: string;\n    }\n  | {\n      ruleType?: 'participated_in_project';\n      predicate?:\n        | 'in'\n        | 'posted_in'\n        | 'commented_in'\n        | 'voted_idea_in'\n        | 'voted_comment_in'\n        | 'budgeted_in'\n        | 'volunteered_in';\n\n      /**\n       * The IDs of projects\n       */\n      value?: string[];\n    }\n  | {\n      ruleType?: 'participated_in_topic';\n      predicate?:\n        | 'not_in'\n        | 'not_posted_in'\n        | 'not_commented_in'\n        | 'not_voted_idea_in'\n        | 'not_voted_comment_in';\n      /**\n       * The id of a topic\n       */\n      value?: string;\n    }\n  | {\n      ruleType?: 'participated_in_topic';\n      predicate?:\n        | 'in'\n        | 'posted_in'\n        | 'commented_in'\n        | 'voted_idea_in'\n        | 'voted_comment_in';\n      /**\n       * The IDs of topics\n       */\n      value?: string[];\n    }\n  | {\n      ruleType?: 'participated_in_idea_status';\n      predicate?:\n        | 'not_in'\n        | 'not_posted_in'\n        | 'not_commented_in'\n        | 'not_voted_idea_in'\n        | 'not_voted_comment_in';\n      /**\n       * The id of an idea status\n       */\n      value?: string;\n    }\n  | {\n      ruleType?: 'participated_in_idea_status';\n      predicate?:\n        | 'in'\n        | 'posted_in'\n        | 'commented_in'\n        | 'voted_idea_in'\n        | 'voted_comment_in';\n      /**\n       * The IDs of idea statuses\n       */\n      value?: string[];\n    }\n  | {\n      ruleType?: 'verified';\n      predicate?: 'is_verified' | 'not_is_verified';\n    };\n\nexport const ruleTypeConstraints = {\n  custom_field_text: {\n    is: TextValueSelector,\n    not_is: TextValueSelector,\n    contains: TextValueSelector,\n    not_contains: TextValueSelector,\n    begins_with: TextValueSelector,\n    not_begins_with: TextValueSelector,\n    ends_on: TextValueSelector,\n    not_ends_on: TextValueSelector,\n    is_empty: null,\n    not_is_empty: null,\n  },\n  custom_field_select: {\n    has_value: CustomFieldOptionValueSelector,\n    not_has_value: CustomFieldOptionValueSelector,\n    is_one_of: CustomFieldOptionValuesSelector,\n    not_is_one_of: CustomFieldOptionValuesSelector,\n    is_empty: null,\n    not_is_empty: null,\n  },\n  custom_field_checkbox: {\n    is_checked: null,\n    not_is_checked: null,\n  },\n  custom_field_date: {\n    is_before: DateValueSelector,\n    is_exactly: DateValueSelector,\n    is_after: DateValueSelector,\n    is_empty: null,\n    not_is_empty: null,\n  },\n  custom_field_number: {\n    is_equal: NumberValueSelector,\n    not_is_equal: NumberValueSelector,\n    is_larger_than: NumberValueSelector,\n    is_larger_than_or_equal: NumberValueSelector,\n    is_smaller_than: NumberValueSelector,\n    is_smaller_than_or_equal: NumberValueSelector,\n    is_empty: null,\n    not_is_empty: null,\n  },\n  email: {\n    is: TextValueSelector,\n    not_is: TextValueSelector,\n    contains: TextValueSelector,\n    not_contains: TextValueSelector,\n    begins_with: TextValueSelector,\n    not_begins_with: TextValueSelector,\n    ends_on: TextValueSelector,\n    not_ends_on: TextValueSelector,\n  },\n  lives_in: {\n    has_value: AreaValueSelector,\n    not_has_value: AreaValueSelector,\n    is_one_of: AreaValuesSelector,\n    not_is_one_of: AreaValuesSelector,\n    is_empty: null,\n    not_is_empty: null,\n  },\n  registration_completed_at: {\n    is_before: DateValueSelector,\n    is_exactly: DateValueSelector,\n    is_after: DateValueSelector,\n    is_empty: null,\n    not_is_empty: null,\n  },\n  role: {\n    is_admin: null,\n    not_is_admin: null,\n    is_project_moderator: null,\n    not_is_project_moderator: null,\n    is_normal_user: null,\n    not_is_normal_user: null,\n  },\n  participated_in_project: {\n    in: ProjectValuesSelector,\n    not_in: ProjectValueSelector,\n    posted_in: ProjectValuesSelector,\n    not_posted_in: ProjectValueSelector,\n    commented_in: ProjectValuesSelector,\n    not_commented_in: ProjectValueSelector,\n    voted_idea_in: ProjectValuesSelector,\n    not_voted_idea_in: ProjectValueSelector,\n    voted_comment_in: ProjectValuesSelector,\n    not_voted_comment_in: ProjectValueSelector,\n    budgeted_in: ProjectValuesSelector,\n    not_budgeted_in: ProjectValueSelector,\n    volunteered_in: ProjectValuesSelector,\n    not_volunteered_in: ProjectValueSelector,\n  },\n  participated_in_topic: {\n    in: TopicValuesSelector,\n    not_in: TopicValueSelector,\n    posted_in: TopicValuesSelector,\n    not_posted_in: TopicValueSelector,\n    commented_in: TopicValuesSelector,\n    not_commented_in: TopicValueSelector,\n    voted_idea_in: TopicValuesSelector,\n    not_voted_idea_in: TopicValueSelector,\n    voted_comment_in: TopicValuesSelector,\n    not_voted_comment_in: TopicValueSelector,\n  },\n  participated_in_idea_status: {\n    in: IdeaStatusValuesSelector,\n    not_in: IdeaStatusValueSelector,\n    posted_in: IdeaStatusValuesSelector,\n    not_posted_in: IdeaStatusValueSelector,\n    commented_in: IdeaStatusValuesSelector,\n    not_commented_in: IdeaStatusValueSelector,\n    voted_idea_in: IdeaStatusValuesSelector,\n    not_voted_idea_in: IdeaStatusValueSelector,\n    voted_comment_in: IdeaStatusValuesSelector,\n    not_voted_comment_in: IdeaStatusValueSelector,\n  },\n  verified: {\n    is_verified: null,\n    not_is_verified: null,\n  },\n};\n","import React, { PureComponent } from 'react';\nimport { FormattedMessage, injectIntl } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\nimport messages from './messages';\nimport ContentContainer from 'components/ContentContainer';\nimport Link from 'utils/cl-router/Link';\nimport Button from 'components/UI/Button';\nimport { Icon } from 'cl2-component-library';\nimport styled from 'styled-components';\nimport { media, fontSizes, colors, isRtl } from 'utils/styleUtils';\nimport { rgba } from 'polished';\n\nconst Container = styled.div`\n  position: fixed;\n  bottom: 0;\n  color: white;\n  background: ${colors.adminTextColor};\n  font-size: ${fontSizes.base};\n  z-index: 1001;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding-top: 20px;\n  padding-bottom: 20px;\n\n  ${media.smallerThanMaxTablet`\n    bottom: ${(props) => props.theme.mobileMenuHeight}px;\n  `}\n`;\n\nconst ContentContainerInner = styled.div`\n  display: flex;\n  align-items: center;\n\n  ${isRtl`\n    flex-direction: row-reverse;\n  `}\n\n  ${media.smallerThanMinTablet`\n    max-width: auto;\n    flex-direction: column;\n    align-items: stretch;\n    justify-content: center;\n  `}\n`;\n\nconst Left = styled.div`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  margin-right: 40px;\n\n  ${media.smallerThanMinTablet`\n    margin-right: 0px;\n    margin-bottom: 20px;\n  `}\n\n  ${isRtl`\n    margin-right: 0;\n    margin-left: 40px;\n\n    ${media.smallerThanMinTablet`\n        margin-left: 0px;\n    `}\n  `}\n`;\n\nconst Line = styled.div`\n  font-size: ${fontSizes.base}px;\n  font-weight: 400;\n  line-height: normal;\n  overflow-wrap: break-word;\n  word-wrap: break-word;\n  word-break: break-word;\n\n  &.first {\n    margin-bottom: 4px;\n  }\n\n  ${media.phone`\n    &.second {\n      display: none;\n    }\n  `}\n`;\n\nconst StyledLink = styled(Link)`\n  color: white;\n  text-decoration: underline;\n\n  &:hover,\n  &:focus {\n    color: white;\n    text-decoration: underline;\n  }\n`;\n\nconst ButtonContainer = styled.div`\n  display: flex;\n\n  ${isRtl`\n    flex-direction: row-reverse;\n  `}\n`;\n\nconst PreferencesButton = styled(Button)`\n  margin-right: 10px;\n\n  ${media.smallerThanMinTablet`\n    margin-right: 0px;\n    order: 2;\n  `}\n\n  ${isRtl`\n    margin-right: 0;\n    margin-left: 10px;\n\n    ${media.smallerThanMinTablet`\n        margin-left: 0px;\n    `}\n  `}\n`;\n\nconst AcceptButton = styled(Button)`\n  ${media.smallerThanMinTablet`\n    margin-right: 10px;\n    order: 1;\n  `}\n`;\n\nconst CloseIcon = styled(Icon)`\n  width: 15px;\n  height: 15px;\n  fill: rgba(255, 255, 255, 0.7);\n`;\n\nconst CloseButton = styled.button`\n  position: absolute;\n  right: 15px;\n  top: 50%;\n  transform: translateY(-50%);\n  border: none;\n  background: none;\n  cursor: pointer;\n\n  &:hover {\n    ${CloseIcon} {\n      fill: #fff;\n    }\n  }\n\n  ${media.smallerThan1280px`\n    display: none;\n  `}\n`;\n\ninterface Props {\n  onAccept: () => void;\n  onChangePreferences: () => void;\n}\n\nclass Banner extends PureComponent<Props & InjectedIntlProps> {\n  render() {\n    const {\n      onAccept,\n      onChangePreferences,\n      intl: { formatMessage },\n    } = this.props;\n\n    const policyLink = (\n      <StyledLink to=\"/pages/cookie-policy\">\n        <FormattedMessage {...messages.policyLink} />\n      </StyledLink>\n    );\n\n    return (\n      <Container role=\"dialog\" id=\"e2e-cookie-banner\">\n        <ContentContainer mode=\"page\">\n          <ContentContainerInner>\n            <Left>\n              <Line className=\"first\">\n                <FormattedMessage\n                  {...messages.mainText}\n                  values={{ policyLink }}\n                />\n              </Line>\n              <Line className=\"second\">\n                <FormattedMessage {...messages.subText} />\n              </Line>\n            </Left>\n            <ButtonContainer>\n              <PreferencesButton\n                borderColor=\"transparent\"\n                textColor=\"#fff\"\n                bgColor={colors.adminTextColor}\n                bgHoverColor={rgba(255, 255, 255, 0.15)}\n                onClick={onChangePreferences}\n                className=\"integration-open-modal\"\n              >\n                <FormattedMessage {...messages.manage} />\n              </PreferencesButton>\n              <AcceptButton\n                className=\"e2e-accept-cookies-btn\"\n                buttonStyle=\"primary-inverse\"\n                textColor={colors.adminTextColor}\n                textHoverColor={colors.adminTextColor}\n                onClick={onAccept}\n              >\n                <FormattedMessage {...messages.accept} />\n              </AcceptButton>\n            </ButtonContainer>\n          </ContentContainerInner>\n        </ContentContainer>\n\n        <CloseButton\n          type=\"button\"\n          className=\"integration-button-close\"\n          title={formatMessage(messages.ariaButtonClose)}\n          aria-label={formatMessage(messages.ariaButtonClose)}\n          onClick={onAccept}\n        >\n          <CloseIcon name=\"close\" />\n        </CloseButton>\n      </Container>\n    );\n  }\n}\n\nexport default injectIntl(Banner);\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  nlpFlaggedWarningText: {\n    id:\n      'app.modules.commercial.flag_inappropriate_content.admin.components.nlpFlaggedWarningText',\n    defaultMessage: 'Inappropriate content auto-detected.',\n  },\n  userFlaggedWarningText: {\n    id:\n      'app.modules.commercial.flag_inappropriate_content.admin.components.userFlaggedWarningText',\n    defaultMessage: 'Reported as inappropriate by a platform user.',\n  },\n  removeWarning: {\n    id:\n      'app.modules.commercial.flag_inappropriate_content.admin.components.removeWarning',\n    defaultMessage:\n      'Remove {numberOfItems, plural, one {content warning} other {# content warnings}}',\n  },\n  warnings: {\n    id:\n      'app.modules.commercial.flag_inappropriate_content.admin.components.warnings',\n    defaultMessage: 'Content Warnings',\n  },\n  flagTooltip: {\n    id:\n      'app.modules.commercial.flag_inappropriate_content.admin.components.flagTooltip',\n    defaultMessage:\n      'You can remove this content flag by selecting this item and clicking the remove button at the top. It will then reappear in the Seen or Not seen tabs',\n  },\n  noWarningItems: {\n    id:\n      'app.modules.commercial.flag_inappropriate_content.admin.components.noWarningItems',\n    defaultMessage:\n      'There are no posts reported for review by the community or flagged for inappropriate content by our Natural Language Processing system',\n  },\n});\n","import React from 'react';\nimport styled from 'styled-components';\nimport { findDOMNode } from 'react-dom';\nimport { DragSource, DropTarget } from 'react-dnd-cjs';\nimport { Row } from 'components/admin/ResourceList';\nimport { Icon } from 'semantic-ui-react';\n\nconst DragHandle = styled.div`\n  cursor: move;\n  padding: 1rem 0;\n  height: 100%;\n`;\n\n// TODO: type checking doesn't work for this component\nexport interface Props {\n  connectDragSource: any;\n  connectDropTarget: any;\n  isDragging: boolean;\n  index: number;\n  id: string;\n  className?: string;\n  lastItem: boolean;\n  moveRow: (fromIndex: number, toIndex: number) => void;\n  dropRow: (itemId: string, toIndex: number) => void;\n}\n\ninterface State {}\n\nclass SortableRow extends React.Component<Props, State> {\n  render() {\n    const {\n      connectDropTarget,\n      connectDragSource,\n      isDragging,\n      lastItem,\n      className,\n      children,\n    } = this.props;\n    const opacity = isDragging ? 0 : 1;\n\n    if (!children) {\n      return null;\n    }\n\n    return connectDropTarget(\n      connectDragSource(\n        <div style={{ opacity }} className={className}>\n          <Row isLastItem={lastItem}>\n            <DragHandle className=\"sortablerow-draghandle\">\n              <Icon name=\"sort\" />\n            </DragHandle>\n            {children}\n          </Row>\n        </div>\n      )\n    );\n  }\n}\n\nconst dragSource = {\n  beginDrag(props) {\n    return {\n      id: props.id,\n      index: props.index,\n    };\n  },\n};\n\nconst dropTarget = {\n  hover(props, monitor, component) {\n    const fromIndex = monitor.getItem().index;\n    const toIndex = props.index;\n\n    // Don't replace items with themselves\n    if (fromIndex === toIndex) {\n      return;\n    }\n\n    // Determine rectangle on screen\n    // eslint-disable-next-line react/no-find-dom-node\n    const domNode = findDOMNode(component);\n    const hoverBoundingRect = (domNode as Element).getBoundingClientRect();\n\n    // Get vertical middle\n    const hoverMiddleY = (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2;\n\n    // Determine mouse position\n    const clientOffset = monitor.getClientOffset();\n\n    // Get pixels to the top\n    const hoverClientY = clientOffset.y - hoverBoundingRect.top;\n\n    // Only perform the move when the mouse has crossed half of the items height\n    // When dragging downwards, only move when the cursor is below 50%\n    // When dragging upwards, only move when the cursor is above 50%\n\n    // Dragging downwards\n    if (fromIndex < toIndex && hoverClientY < hoverMiddleY) {\n      return;\n    }\n\n    // Dragging upwards\n    if (fromIndex > toIndex && hoverClientY > hoverMiddleY) {\n      return;\n    }\n    // Time to actually perform the action\n    props.moveRow(fromIndex, toIndex);\n\n    // Note: we're mutating the monitor item here!\n    // Generally it's better to avoid mutations,\n    // but it's good here for the sake of performance\n    // to avoid expensive index searches.\n    monitor.getItem().index = toIndex;\n  },\n  drop(props, monitor) {\n    const { id, index } = monitor.getItem();\n    props.dropRow(id, index);\n  },\n};\n\nexport default DropTarget('ROW', dropTarget, (connect) => ({\n  connectDropTarget: connect.dropTarget(),\n}))(\n  DragSource('ROW', dragSource, (connect, monitor) => ({\n    connectDragSource: connect.dragSource(),\n    isDragging: monitor.isDragging(),\n  }))(SortableRow)\n);\n","import React, { memo } from 'react';\n\nimport { IOfficialFeedbackOnYourInitiativeNotificationData } from 'services/notifications';\n\n// i18n\nimport messages from '../../messages';\nimport { FormattedMessage } from 'utils/cl-intl';\n\n// components\nimport NotificationWrapper from '../NotificationWrapper';\nimport Link from 'utils/cl-router/Link';\nimport T from 'components/T';\n\ninterface Props {\n  notification: IOfficialFeedbackOnYourInitiativeNotificationData;\n}\n\nconst OfficialFeedbackOnYourInitiativeNotification = memo<Props>((props) => {\n  const { notification } = props;\n\n  return (\n    <NotificationWrapper\n      linkTo={`/initiatives/${notification.attributes.post_slug}`}\n      timing={notification.attributes.created_at}\n      icon=\"comments\"\n      isRead={!!notification.attributes.read_at}\n    >\n      <FormattedMessage\n        {...messages.officialFeedbackOnYourInitiative}\n        values={{\n          officialName: (\n            <T value={notification.attributes.official_feedback_author} />\n          ),\n          initiative: (\n            <Link to={`/initiatives/${notification.attributes.post_slug}`}>\n              <T value={notification.attributes.post_title_multiloc} />\n            </Link>\n          ),\n        }}\n      />\n    </NotificationWrapper>\n  );\n});\n\nexport default OfficialFeedbackOnYourInitiativeNotification;\n","import { useState, useEffect } from 'react';\nimport {\n  verificationMethodsStream,\n  IVerificationMethods,\n} from 'services/verificationMethods';\n\nexport default function useVerificationMethods() {\n  const [verificationMethods, setVerificationMethods] = useState<\n    IVerificationMethods | undefined | null | Error\n  >(undefined);\n\n  useEffect(() => {\n    const subscription = verificationMethodsStream().observable.subscribe(\n      (response) => {\n        setVerificationMethods(response);\n      }\n    );\n\n    return () => subscription.unsubscribe();\n  }, []);\n\n  return verificationMethods;\n}\n","import React from 'react';\nimport moment, { Moment } from 'moment';\n\nimport { DateInput } from 'cl2-component-library';\n\ntype Props = {\n  value: string;\n  onChange: (string) => void;\n};\n\ninterface State {}\n\nclass DateValueSelector extends React.PureComponent<Props, State> {\n  handleOnChange = (moment: Moment) => {\n    this.props.onChange(moment.format('YYYY-MM-DD'));\n  };\n\n  render() {\n    const { value } = this.props;\n\n    return (\n      <DateInput\n        value={moment(value) || null}\n        onChange={this.handleOnChange}\n        openOnLeft={true}\n      />\n    );\n  }\n}\n\nexport default DateValueSelector;\n","// styles\nimport styled from 'styled-components';\n\n// components\nimport Button from 'components/UI/Button';\n\nexport const RowButton = styled(Button)`\n  margin-left: 7px;\n`;\n","export default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjkiIGhlaWdodD0iNDEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMgMykiPgogICAgPHVzZSB4bGluazpocmVmPSIjcGF0aDBfZmlsbCIgZmlsbD0iIzAwODRmZiIvPgogICAgPG1hc2sgaWQ9ImEiPgogICAgICA8cGF0aCBmaWxsPSIjZmZmIiBkPSJNLTMtM2gyOXY0MUgtM3oiLz4KICAgICAgPHVzZSB4bGluazpocmVmPSIjcGF0aDBfZmlsbCIvPgogICAgPC9tYXNrPgogICAgPGcgbWFzaz0idXJsKCNhKSI+CiAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgxX3N0cm9rZV8yeCIgZmlsbD0iI0ZGRiIvPgogICAgPC9nPgogIDwvZz4KICA8ZGVmcz4KICAgIDxwYXRoIGlkPSJwYXRoMF9maWxsIiBkPSJNMTEuNSAwQzUuMTUgMCAwIDUuMTczIDAgMTEuNTUgMCAyMC4yMTIgMTEuNSAzMyAxMS41IDMzUzIzIDIwLjIxMiAyMyAxMS41NUMyMyA1LjE3MyAxNy44NSAwIDExLjUgMHptMCAxNS42NzVjLTIuMjY3IDAtNC4xMDctMS44NDgtNC4xMDctNC4xMjVzMS44NC00LjEyNSA0LjEwNy00LjEyNWMyLjI2NyAwIDQuMTA3IDEuODQ4IDQuMTA3IDQuMTI1cy0xLjg0IDQuMTI1LTQuMTA3IDQuMTI1eiIvPgogICAgPHBhdGggaWQ9InBhdGgxX3N0cm9rZV8yeCIgZD0iTTExLjUgMzNsLTIuMjMgMi4wMDYgMi4yMyAyLjQ4IDIuMjMtMi40OEwxMS41IDMzem0wLTM2QzMuNDgtMy0zIDMuNTI5LTMgMTEuNTVoNkMzIDYuODE3IDYuODIgMyAxMS41IDN2LTZ6TS0zIDExLjU1YzAgNS4zMzggMy4zOTkgMTEuMzg4IDYuMjYgMTUuNjQ2YTgxLjE0NCA4MS4xNDQgMCAwIDAgNS40NjkgNy4xOSA0OS4zNiA0OS4zNiAwIDAgMCAuNTI3LjYwNWwuMDA5LjAxLjAwMi4wMDMuMDAyLjAwMUwxMS41IDMzYTExNTMuOTYgMTE1My45NiAwIDAgMSAyLjIzMi0yLjAwNWwtLjAwNC0uMDA0LS4wMi0uMDIyYTI4LjU4NCAyOC41ODQgMCAwIDEtLjQyNS0uNDg5IDcyLjMyMyA3Mi4zMjMgMCAwIDEtNS4wNDMtNi42M0M1LjM1MSAxOS41NSAzIDE0Ljg3NCAzIDExLjU1aC02ek0xMS41IDMzYTcxMS45NzQgNzExLjk3NCAwIDAgMCAyLjIzMiAyLjAwNXYtLjAwMWwuMDAzLS4wMDMuMDEtLjAxLjAzLS4wMzRhMzYuNzY5IDM2Ljc2OSAwIDAgMCAuNDk2LS41N2MuMzIzLS4zNzcuOC0uOTQ0IDEuMzYtMS42MzVhODEuMTcgODEuMTcgMCAwIDAgNC4xMS01LjU1NkMyMi42IDIyLjkzOCAyNiAxNi44ODggMjYgMTEuNTVoLTZjMCAzLjMyNC0yLjM1MSA4LTUuMjQgMTIuM2E3Mi4zMDkgNzIuMzA5IDAgMCAxLTUuNDg4IDcuMTRsLS4wMDMuMDA1TDExLjUgMzN6TTI2IDExLjU1QzI2IDMuNTI5IDE5LjUyLTMgMTEuNS0zdjZjNC42OCAwIDguNSAzLjgxNyA4LjUgOC41NWg2em0tMTQuNSAxLjEyNWExLjExOCAxLjExOCAwIDAgMS0xLjEwNy0xLjEyNWgtNmMwIDMuOTIxIDMuMTcgNy4xMjUgNy4xMDcgNy4xMjV2LTZ6bS0xLjEwNy0xLjEyNWMwLS42MzMuNTEtMS4xMjUgMS4xMDctMS4xMjV2LTZjLTMuOTM2IDAtNy4xMDcgMy4yMDQtNy4xMDcgNy4xMjVoNnptMS4xMDctMS4xMjVjLjU5OCAwIDEuMTA3LjQ5MiAxLjEwNyAxLjEyNWg2YzAtMy45MjItMy4xNy03LjEyNS03LjEwNy03LjEyNXY2em0xLjEwNyAxLjEyNWMwIC42MzItLjUxIDEuMTI1LTEuMTA3IDEuMTI1djZjMy45MzYgMCA3LjEwNy0zLjIwNCA3LjEwNy03LjEyNWgtNnoiLz4KICA8L2RlZnM+Cjwvc3ZnPgo=\"","import React from 'react';\n\n// components\nimport { IconTooltip, Radio } from 'cl2-component-library';\nimport Link from 'utils/cl-router/Link';\nimport { SubSectionTitle } from 'components/admin/Section';\nimport { StyledSectionField, StyledMultipleSelect } from './styling';\n\n// i18n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from '../messages';\n\n// typings\nimport { IOption } from 'typings';\n\ninterface Props {\n  areaType: 'all' | 'selection';\n  areasOptions: IOption[];\n  areasValues: IOption[];\n  handleAreaTypeChange: (value: 'all' | 'selection') => void;\n  handleAreaSelectionChange: (values: IOption[]) => void;\n}\n\nexport default ({\n  areaType,\n  areasOptions,\n  areasValues,\n  handleAreaTypeChange,\n  handleAreaSelectionChange,\n}: Props) => (\n  <StyledSectionField>\n    <SubSectionTitle>\n      <FormattedMessage {...messages.areasLabel} />\n      <IconTooltip\n        content={\n          <FormattedMessage\n            {...messages.areasLabelTooltip}\n            values={{\n              areasLabelTooltipLink: (\n                <Link to=\"/admin/settings/areas\">\n                  <FormattedMessage {...messages.areasLabelTooltipLinkText} />\n                </Link>\n              ),\n            }}\n          />\n        }\n      />\n    </SubSectionTitle>\n    <Radio\n      onChange={handleAreaTypeChange}\n      currentValue={areaType}\n      value=\"all\"\n      name=\"areas\"\n      id=\"areas-all\"\n      label={<FormattedMessage {...messages.areasAllLabel} />}\n    />\n    <Radio\n      onChange={handleAreaTypeChange}\n      currentValue={areaType}\n      value=\"selection\"\n      name=\"areas\"\n      id=\"areas-selection\"\n      className=\"e2e-areas-selection\"\n      label={<FormattedMessage {...messages.areasSelectionLabel} />}\n    />\n\n    {areaType === 'selection' && (\n      <StyledMultipleSelect\n        id=\"e2e-area-selector\"\n        options={areasOptions}\n        value={areasValues}\n        onChange={handleAreaSelectionChange}\n        placeholder=\"\"\n        disabled={areaType !== 'selection'}\n      />\n    )}\n  </StyledSectionField>\n);\n","import React from 'react';\nimport { TRule } from '../rules';\nimport { IOption } from 'typings';\nimport GetAreas, { GetAreasChildProps } from 'resources/GetAreas';\nimport MultipleSelect from 'components/UI/MultipleSelect';\nimport localize, { InjectedLocalized } from 'utils/localize';\nimport { isNilOrError } from 'utils/helperUtils';\n\ntype Props = {\n  rule: TRule;\n  value: string;\n  onChange: (string) => void;\n  areas: GetAreasChildProps;\n};\n\ninterface State {}\n\nclass AreaValuesSelector extends React.PureComponent<\n  Props & InjectedLocalized,\n  State\n> {\n  generateOptions = (): IOption[] => {\n    const { areas, localize } = this.props;\n\n    if (!isNilOrError(areas)) {\n      return areas.map((area) => ({\n        value: area.id,\n        label: localize(area.attributes.title_multiloc),\n      }));\n    } else {\n      return [];\n    }\n  };\n\n  handleOnChange = (options: IOption[]) => {\n    const optionIds = options.map((o) => o.value);\n    this.props.onChange(optionIds);\n  };\n\n  render() {\n    const { value } = this.props;\n\n    return (\n      <MultipleSelect\n        value={value}\n        options={this.generateOptions()}\n        onChange={this.handleOnChange}\n      />\n    );\n  }\n}\n\nconst AreaValuesSelectorWithHOC = localize(AreaValuesSelector);\n\nexport default (inputProps) => (\n  <GetAreas>\n    {(areas) => <AreaValuesSelectorWithHOC {...inputProps} areas={areas} />}\n  </GetAreas>\n);\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  sendFeedback: {\n    id: 'app.components.sendFeedback',\n    defaultMessage: 'Send your feedback about the platform',\n  },\n  sendFeedbackLink: {\n    id: 'app.components.sendFeedbackLink',\n    defaultMessage: 'https://citizenlabco.typeform.com/to/z7baRP?source={url}',\n  },\n});\n","import React from 'react';\n\nimport { ModuleConfiguration } from 'utils/moduleUtils';\nimport ActionBarTranslateButton from './citizen/components/ActionBarTranslateButton';\nimport CommentTranslateButton from './citizen/components/CommentTranslateButton';\nimport IdeasShowTranslateButton from './citizen/components/IdeasShowTranslateButton';\nimport InitiativesTranslateButton from './citizen/components/InitiativesTranslateButton';\nimport PostShowTranslatedBody from './citizen/components/PostShowTranslatedBody';\nimport PostShowTranslatedCommentBody from './citizen/components/PostShowTranslatedCommentBody';\nimport PostShowTranslatedTitle from './citizen/components/PostShowTranslatedTitle';\n\nconst configuration: ModuleConfiguration = {\n  outlets: {\n    'app.components.PostShowComponents.ActionBar.right': ActionBarTranslateButton,\n    'app.components.PostShowComponents.CommentFooter.left': (props) => (\n      <CommentTranslateButton {...props} />\n    ),\n    'app.containers.InitiativesShow.left': InitiativesTranslateButton,\n    'app.containers.IdeasShow.left': IdeasShowTranslateButton,\n    'app.components.PostShowComponents.CommentBody.translation': PostShowTranslatedCommentBody,\n    'app.components.PostShowComponents.Body.translation': PostShowTranslatedBody,\n    'app.components.PostShowComponents.Title.translation': PostShowTranslatedTitle,\n  },\n};\n\nexport default configuration;\n","import React, { memo } from 'react';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { Header, Item } from 'components/IdeasShowComponents/MetaInfoStyles';\n\n// styles\nimport styled from 'styled-components';\nimport { colors, fontSizes } from 'utils/styleUtils';\nimport { darken } from 'polished';\n\n// components\nimport T from 'components/T';\nimport Link from 'utils/cl-router/Link';\n\n// analytics\nimport { trackEventByName } from 'utils/analytics';\nimport tracks from '../tracks';\n\n// hooks\nimport useSimilarIdeas from '../hooks/useSimilarIdeas';\n\n// i18n\nimport { injectIntl } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\nimport messages from '../messages';\n\nconst IdeaList = styled.ul`\n  margin: 0;\n  padding: 0;\n  padding-left: 17px;\n`;\n\nconst IdeaListItem = styled.li`\n  color: ${colors.label};\n  font-size: ${fontSizes.small}px;\n  line-height: normal;\n  overflow-wrap: break-word;\n  word-wrap: break-word;\n  word-break: break-word;\n  margin-bottom: 15px;\n\n  &:last-child {\n    margin-bottom: 0px;\n  }\n`;\n\nconst IdeaLink = styled(Link)`\n  color: ${colors.label};\n  font-size: ${fontSizes.small}px;\n  line-height: normal;\n  text-decoration: underline;\n\n  &:hover {\n    color: ${darken(0.2, colors.label)};\n    text-decoration: underline;\n  }\n`;\n\ninterface Props {\n  ideaId: string;\n  compact?: boolean;\n  className?: string;\n}\n\nconst SimilarIdeas = memo<Props & InjectedIntlProps>(\n  ({ ideaId, compact, className, intl: { formatMessage } }) => {\n    const similarIdeas = useSimilarIdeas({ ideaId, pageSize: 5 });\n    const onClickIdeaLink = (index: number) => () => {\n      trackEventByName(tracks.clickSimilarIdeaLink.name, { extra: { index } });\n    };\n\n    if (!isNilOrError(similarIdeas) && similarIdeas.length > 0) {\n      return (\n        <Item className={className || ''} compact={compact}>\n          <Header>{formatMessage(messages.similarInputs)}</Header>\n          <IdeaList className={className}>\n            {similarIdeas.map((similarIdea, index) => (\n              <IdeaListItem key={similarIdea.id}>\n                <IdeaLink\n                  to={`/ideas/${similarIdea.attributes.slug}`}\n                  onClick={onClickIdeaLink(index)}\n                >\n                  <T value={similarIdea.attributes.title_multiloc} />\n                </IdeaLink>\n              </IdeaListItem>\n            ))}\n          </IdeaList>\n        </Item>\n      );\n    }\n\n    return null;\n  }\n);\n\nexport default injectIntl(SimilarIdeas);\n","import React, { memo } from 'react';\nimport { get } from 'lodash-es';\n// hooks\nimport useLocalize from 'hooks/useLocalize';\n\n// components\nimport ProjectTemplateCard from './ProjectTemplateCard';\nimport SearchInput from 'components/UI/SearchInput';\nimport { Spinner } from 'cl2-component-library';\nimport Button from 'components/UI/Button';\nimport DepartmentFilter from '../components/DepartmentFilter';\nimport PurposeFilter from './PurposeFilter';\nimport ParticipationLevelFilter from './ParticipationLevelFilter';\n\n// i18n\nimport { injectIntl, FormattedMessage } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\nimport messages from './messages';\n\n// style\nimport styled from 'styled-components';\nimport { colors, fontSizes } from 'utils/styleUtils';\n\nconst Container = styled.div`\n  margin-bottom: 15px;\n`;\n\nconst Filters = styled.div`\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 20px;\n`;\n\nconst Left = styled.div`\n  display: none;\n`;\n\nconst Spacer = styled.div`\n  flex: 1;\n`;\n\nconst Right = styled.div``;\n\nconst StyledSearchInput = styled(SearchInput)`\n  width: 300px;\n`;\n\nconst SpinnerWrapper = styled.div`\n  width: 100%;\n  height: 500px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst Cards = styled.div`\n  width: 100%;\n  display: flex;\n  flex-wrap: wrap;\n`;\n\nconst StyledProjectTemplateCard = styled(ProjectTemplateCard)`\n  flex-grow: 0;\n  width: calc(100% * (1 / 3) - 18px);\n  margin-right: 27px;\n  margin-bottom: 27px;\n\n  &:nth-child(3n) {\n    margin-right: 0px;\n  }\n`;\n\nconst LoadMoreButtonWrapper = styled.div`\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-top: 25px;\n`;\n\nconst LoadMoreButton = styled(Button)``;\n\nconst NoTemplates = styled.div`\n  width: 100%;\n  height: 260px;\n  color: ${colors.label};\n  font-size: ${fontSizes.base}px;\n  font-weight: 400;\n  text-align: center;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: ${({ theme }) => theme.borderRadius};\n`;\n\ninterface Props {\n  className?: string;\n  loading: boolean;\n  onLoadMore: () => void;\n  loadingMore: boolean;\n  onSearchChange: (searchValue: string) => void;\n  onPurposeFilterChange: (purposes: string[]) => void;\n  onDepartmentFilterChange: (departments: string[]) => void;\n  onParticipationLevelFilterChange: (participationLevels: string[]) => void;\n  templates: {\n    edges: [];\n    pageInfo: {\n      hasNextPage: boolean;\n    };\n  };\n}\n\nconst ProjectTemplateCards = memo<Props & InjectedIntlProps>(\n  ({\n    intl,\n    className,\n    templates,\n    loadingMore,\n    loading,\n    onLoadMore,\n    onSearchChange,\n    onPurposeFilterChange,\n    onDepartmentFilterChange,\n    onParticipationLevelFilterChange,\n  }) => {\n    const searchPlaceholder = intl.formatMessage(messages.searchPlaceholder);\n    const searchAriaLabel = intl.formatMessage(messages.searchPlaceholder);\n    const localize = useLocalize();\n\n    return (\n      <Container className={className}>\n        <Filters>\n          <Left>\n            <DepartmentFilter onChange={onDepartmentFilterChange} />\n            <PurposeFilter onChange={onPurposeFilterChange} />\n            <ParticipationLevelFilter\n              onChange={onParticipationLevelFilterChange}\n            />\n          </Left>\n\n          <Spacer />\n\n          <Right>\n            <StyledSearchInput\n              placeholder={searchPlaceholder}\n              ariaLabel={searchAriaLabel}\n              onChange={onSearchChange}\n            />\n          </Right>\n        </Filters>\n\n        {loading && !templates && (\n          <SpinnerWrapper>\n            <Spinner />\n          </SpinnerWrapper>\n        )}\n\n        {templates && templates.edges && templates.edges.length > 0 && (\n          <>\n            <Cards>\n              {templates.edges.map(\n                ({\n                  node: { id, titleMultiloc, subtitleMultiloc, cardImage },\n                }) => {\n                  return (\n                    <StyledProjectTemplateCard\n                      key={id}\n                      projectTemplateId={id}\n                      imageUrl={cardImage}\n                      title={localize(titleMultiloc)}\n                      body={localize(subtitleMultiloc)}\n                    />\n                  );\n                }\n              )}\n            </Cards>\n\n            {get(templates, 'pageInfo.hasNextPage') && (\n              <LoadMoreButtonWrapper>\n                <LoadMoreButton\n                  processing={loadingMore}\n                  onClick={onLoadMore}\n                  buttonStyle=\"secondary\"\n                >\n                  <FormattedMessage {...messages.loadMoreTemplates} />\n                </LoadMoreButton>\n              </LoadMoreButtonWrapper>\n            )}\n          </>\n        )}\n\n        {templates && templates.edges && templates.edges.length === 0 && (\n          <NoTemplates>\n            <FormattedMessage {...messages.noTemplatesFound} />\n          </NoTemplates>\n        )}\n      </Container>\n    );\n  }\n);\n\nexport default injectIntl(ProjectTemplateCards);\n","import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport getSubmitState from 'utils/getSubmitState';\nimport { isCLErrorJSON } from 'utils/errorUtils';\nimport { CLError, Multiloc } from 'typings';\nimport { isNilOrError } from 'utils/helperUtils';\n\n// hooks\nimport useAppConfiguration from 'hooks/useAppConfiguration';\n\nimport {\n  IAppConfigurationSettings,\n  IUpdatedAppConfigurationProperties,\n  updateAppConfiguration,\n} from 'services/appConfiguration';\n\n// components\nimport messages from 'containers/Admin/settings/messages';\n\nimport {\n  SectionTitle,\n  SubSectionTitleWithDescription,\n  SectionField,\n  SectionDescription,\n} from 'components/admin/Section';\nimport InputMultilocWithLocaleSwitcher from 'components/UI/InputMultilocWithLocaleSwitcher';\nimport { IconTooltip } from 'cl2-component-library';\nimport SubmitWrapper from 'components/admin/SubmitWrapper';\n\n// i18n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport Outlet from 'components/Outlet';\n\nexport const LabelTooltip = styled.div`\n  display: flex;\n`;\n\nconst SignUpFieldsSection = styled.div`\n  margin-bottom: 60px;\n`;\n\ninterface Props {}\n\nconst SettingsRegistrationTab = (_props: Props) => {\n  const appConfig = useAppConfiguration();\n  const [isFormSubmitting, setIsFormSubmitting] = useState(false);\n  const [isFormSaved, setIsFormSaved] = useState(false);\n  const [errors, setErrors] = useState<{ [fieldName: string]: CLError[] }>({});\n  const [attributesDiff, setAttributesDiff] = useState<\n    IUpdatedAppConfigurationProperties\n  >({});\n\n  const handlePageOnChange = (propertyName: string) => (multiloc: Multiloc) => {\n    setAttributesDiff({\n      ...attributesDiff,\n      settings: {\n        ...(attributesDiff.settings || {}),\n        core: {\n          ...(attributesDiff.settings?.core || {}),\n          [propertyName]: multiloc,\n        },\n      },\n    });\n  };\n\n  const handleConfigSettingsChange = (propertyName: string) => (value: any) => {\n    const newAttributesDiff = { ...(attributesDiff || { settings: {} }) };\n    setAttributesDiff({\n      ...newAttributesDiff,\n      settings: {\n        ...(newAttributesDiff.settings || {}),\n        [propertyName]: value,\n      },\n    });\n  };\n\n  const handleSubmit = async (event?: React.FormEvent<HTMLFormElement>) => {\n    if (event) {\n      event.preventDefault();\n    }\n\n    setIsFormSubmitting(true);\n    setIsFormSaved(false);\n\n    try {\n      await updateAppConfiguration(\n        attributesDiff as IUpdatedAppConfigurationProperties\n      );\n\n      setIsFormSubmitting(false);\n      setIsFormSaved(true);\n      setAttributesDiff({});\n    } catch (error) {\n      setIsFormSubmitting(false);\n      setErrors(isCLErrorJSON(error) ? error.json.errors : error);\n    }\n  };\n\n  if (!isNilOrError(appConfig)) {\n    const latestAppConfigSettings = {\n      ...appConfig.data.attributes,\n      ...attributesDiff,\n    }.settings as IAppConfigurationSettings;\n    const latestAppConfigCoreSettings = latestAppConfigSettings.core;\n\n    return (\n      <>\n        <SectionTitle>\n          <FormattedMessage {...messages.registrationTitle} />\n        </SectionTitle>\n        <SectionDescription>\n          <FormattedMessage {...messages.registrationTabDescription} />\n        </SectionDescription>\n\n        <Outlet\n          id=\"app.containers.Admin.settings.registrationBeginning\"\n          onChange={handleConfigSettingsChange}\n          latestAppConfigSettings={latestAppConfigSettings}\n        />\n\n        <SignUpFieldsSection key={'signup_fields'}>\n          <SubSectionTitleWithDescription>\n            <FormattedMessage {...messages.signupFormText} />\n          </SubSectionTitleWithDescription>\n          <SectionDescription>\n            <FormattedMessage {...messages.signupFormTooltip} />\n          </SectionDescription>\n          <form onSubmit={handleSubmit}>\n            <SectionField>\n              <InputMultilocWithLocaleSwitcher\n                type=\"text\"\n                valueMultiloc={\n                  latestAppConfigCoreSettings?.signup_helper_text || null\n                }\n                onChange={handlePageOnChange('signup_helper_text')}\n                label={\n                  <LabelTooltip>\n                    <FormattedMessage {...messages.step1} />\n                    <IconTooltip\n                      content={<FormattedMessage {...messages.step1Tooltip} />}\n                    />\n                  </LabelTooltip>\n                }\n              />\n            </SectionField>\n            <Outlet\n              id=\"app.containers.Admin.settings.registrationHelperText\"\n              onChange={handlePageOnChange}\n              latestAppConfigCoreSettings={latestAppConfigCoreSettings}\n            />\n            <SubmitWrapper\n              loading={isFormSubmitting}\n              status={getSubmitState({\n                errors,\n                saved: isFormSaved,\n                diff: attributesDiff,\n              })}\n              messages={{\n                buttonSave: messages.save,\n                buttonSuccess: messages.saveSuccess,\n                messageError: messages.saveErrorMessage,\n                messageSuccess: messages.saveSuccessMessage,\n              }}\n            />\n          </form>\n        </SignUpFieldsSection>\n        <Outlet id=\"app.containers.Admin.settings.registration\" />\n      </>\n    );\n  }\n\n  return null;\n};\n\nexport default SettingsRegistrationTab;\n","import React, { memo, FormEvent } from 'react';\nimport clHistory from 'utils/cl-router/history';\nimport { Button } from 'cl2-component-library';\nimport useProjectFolder from '../../../hooks/useProjectFolder';\nimport useLocale from 'hooks/useLocale';\nimport useLocalize from 'hooks/useLocalize';\nimport { isNilOrError } from 'utils/helperUtils';\n\ninterface Props {\n  projectFolderId: string;\n  className?: string;\n}\n\nconst GoBackButton = memo(({ projectFolderId, className }: Props) => {\n  const projectFolder = useProjectFolder({ projectFolderId });\n  const locale = useLocale();\n  const localize = useLocalize();\n\n  const onGoBack = (event: FormEvent<HTMLButtonElement>) => {\n    event.preventDefault();\n\n    if (!isNilOrError(projectFolder)) {\n      clHistory.push(`/folders/${projectFolder.attributes.slug}`);\n    }\n  };\n\n  if (!isNilOrError(projectFolder) && !isNilOrError(locale)) {\n    return (\n      <Button\n        className={className}\n        locale={locale}\n        icon=\"circle-arrow-left\"\n        onClick={onGoBack}\n        buttonStyle=\"text\"\n        iconSize=\"26px\"\n        padding=\"0\"\n        textDecorationHover=\"underline\"\n      >\n        {localize(projectFolder.attributes.title_multiloc)}\n      </Button>\n    );\n  }\n\n  return null;\n});\n\nexport default GoBackButton;\n","import { useState, useEffect } from 'react';\nimport { authUserStream } from 'services/auth';\nimport { IUserData } from 'services/users';\n\nexport type TAuthUser = IUserData | undefined | null | Error;\n\nexport default function useAuthUser() {\n  const [authUser, setAuthUser] = useState<TAuthUser>(undefined);\n\n  useEffect(() => {\n    const subscription = authUserStream().observable.subscribe(\n      (currentAuthUser) => {\n        setAuthUser(currentAuthUser?.data || null);\n      }\n    );\n\n    return () => subscription.unsubscribe();\n  }, []);\n\n  return authUser;\n}\n","export default {\n  assigneeFilterUsed: 'Idea assignment filter was used in idea manager',\n};\n","import { API_PATH } from 'containers/App/constants';\n\n// typings\nimport { ISubmitState } from 'components/admin/SubmitWrapper';\nimport { Locale } from 'cl2-component-library/dist/utils/typings';\nimport {\n  IRelationship,\n  Multiloc,\n  ImageSizes,\n  UploadFile,\n  IOption,\n  CLError,\n} from 'typings';\nimport { IAreaData } from './areas';\nimport { IAppConfiguration } from 'services/appConfiguration';\n\nimport streams, { IStreamParams } from 'utils/streams';\nimport {\n  SurveyServices,\n  ParticipationMethod,\n  IdeaDefaultSortMethod,\n  InputTerm,\n} from './participationContexts';\n\nconst apiEndpoint = `${API_PATH}/projects`;\n\ntype Visibility = 'public' | 'groups' | 'admins';\nexport type ProcessType = 'continuous' | 'timeline';\ntype PresentationMode = 'map' | 'card';\nexport type PublicationStatus = 'draft' | 'published' | 'archived';\n\n// keys in project.attributes.action_descriptor\nexport type IProjectAction =\n  | 'commenting_idea'\n  | 'voting_idea'\n  | 'comment_voting_idea'\n  | 'posting_idea'\n  | 'taking_survey'\n  | 'taking_poll';\n\nexport type PostingDisabledReason =\n  | 'project_inactive'\n  | 'not_ideation'\n  | 'posting_disabled'\n  | 'not_permitted'\n  | 'not_verified'\n  | 'not_signed_in';\n\nexport type CommentingDisabledReason =\n  | 'not_verified'\n  | 'project_inactive'\n  | 'not_supported'\n  | 'commenting_disabled'\n  | 'not_permitted'\n  | 'not_signed_in';\n\nexport type VotingDisabledReason =\n  | 'project_inactive'\n  | 'not_ideation'\n  | 'voting_disabled'\n  | 'not_permitted'\n  | 'voting_limited_max_reached'\n  | 'not_signed_in';\n\nexport type SurveyDisabledReason =\n  | 'project_inactive'\n  | 'not_survey'\n  | 'not_permitted'\n  | 'not_verified'\n  | 'not_signed_in';\n\nexport type PollDisabledReason =\n  | 'project_inactive'\n  | 'not_poll'\n  | 'not_permitted'\n  | 'already_responded'\n  | 'not_verified'\n  | 'not_signed_in';\n\nexport interface IProjectAttributes {\n  title_multiloc: Multiloc;\n  description_multiloc: Multiloc;\n  description_preview_multiloc: Multiloc;\n  slug: string;\n  header_bg: ImageSizes;\n  ideas_count: number;\n  comments_count: number;\n  avatars_count: number;\n  created_at: string;\n  updated_at: string;\n  visible_to: Visibility;\n  process_type: ProcessType;\n  timeline_active?: 'past' | 'present' | 'future' | null;\n  participants_count: number;\n  participation_method: ParticipationMethod | null;\n  posting_enabled: boolean;\n  commenting_enabled: boolean;\n  voting_enabled: boolean;\n  voting_method: 'limited' | 'unlimited';\n  voting_limited_max: number;\n  downvoting_enabled: boolean;\n  presentation_mode: PresentationMode;\n  internal_role: 'open_idea_box' | null;\n  publication_status: PublicationStatus;\n  min_budget?: number;\n  max_budget?: number;\n  survey_service?: SurveyServices;\n  survey_embed_url?: string;\n  ordering: number;\n  poll_anonymous?: boolean;\n  ideas_order?: IdeaDefaultSortMethod;\n  input_term: InputTerm;\n  action_descriptor: {\n    posting_idea: {\n      enabled: boolean;\n      future_enabled: string | null;\n      disabled_reason: PostingDisabledReason | null;\n    };\n    commenting_idea: {\n      enabled: boolean;\n      disabled_reason: CommentingDisabledReason | null;\n    };\n    voting_idea: {\n      enabled: boolean;\n      disabled_reason: VotingDisabledReason | null;\n    };\n    taking_survey: {\n      enabled: boolean;\n      disabled_reason: SurveyDisabledReason | null;\n    };\n    taking_poll: {\n      enabled: boolean;\n      disabled_reason: PollDisabledReason | null;\n    };\n  };\n}\n\nexport interface IProjectData {\n  id: string;\n  type: 'project';\n  attributes: IProjectAttributes;\n  relationships: {\n    project_images: {\n      data: IRelationship[];\n    };\n    areas: {\n      data: IRelationship[];\n    };\n    avatars?: {\n      data?: IRelationship[];\n    };\n    current_phase?: {\n      data: IRelationship | null;\n    };\n    user_basket?: {\n      data: IRelationship | null;\n    };\n    default_assignee?: {\n      data: IRelationship | null;\n    };\n    admin_publication: {\n      data: IRelationship | null;\n    };\n    topics: {\n      data: IRelationship[] | null;\n    };\n  };\n}\n\nexport interface IUpdatedProjectProperties {\n  header_bg?: string | { small: string; medium: string; large: string } | null;\n  title_multiloc?: Multiloc;\n  description_multiloc?: Multiloc;\n  description_preview_multiloc?: Multiloc;\n  area_ids?: string[];\n  visible_to?: Visibility;\n  process_type?: ProcessType;\n  participation_method?: ParticipationMethod | null;\n  posting_enabled?: boolean | null;\n  commenting_enabled?: boolean | null;\n  voting_enabled?: boolean | null;\n  voting_method?: 'limited' | 'unlimited' | null;\n  voting_limited_max?: number | null;\n  downvoting_enabled?: boolean | null;\n  presentation_mode?: PresentationMode | null;\n  admin_publication_attributes?: {\n    publication_status?: PublicationStatus;\n  };\n  publication_status?: PublicationStatus;\n  min_budget?: number | null;\n  max_budget?: number | null;\n  survey_service?: SurveyServices | null;\n  survey_embed_url?: string | null;\n  default_assignee_id?: string | null;\n  poll_anonymous?: boolean;\n  ideas_order?: IdeaDefaultSortMethod;\n  input_term?: InputTerm;\n  slug?: string;\n}\n\nexport interface IProjectFormState {\n  processing: boolean;\n  project: IProject | null | undefined;\n  publicationStatus: 'draft' | 'published' | 'archived';\n  projectType: 'continuous' | 'timeline';\n  projectAttributesDiff: IUpdatedProjectProperties;\n  projectHeaderImage: UploadFile[] | null;\n  presentationMode: 'map' | 'card';\n  projectImages: UploadFile[];\n  projectImagesToRemove: UploadFile[];\n  projectFiles: UploadFile[];\n  projectFilesToRemove: UploadFile[];\n  titleError: Multiloc | null;\n  apiErrors: { [fieldName: string]: CLError[] };\n  saved: boolean;\n  areas: IAreaData[];\n  areaType: 'all' | 'selection';\n  locale: Locale;\n  currentTenant: IAppConfiguration | null;\n  areasOptions: IOption[];\n  submitState: ISubmitState;\n  slug: string | null;\n  showSlugErrorMessage: boolean;\n}\n\nexport interface IProject {\n  data: IProjectData;\n}\n\nexport interface IProjects {\n  data: IProjectData[];\n}\n\ntype IQueryParametersWithPS =\n  | {\n      publication_statuses: PublicationStatus[];\n      [key: string]: any;\n    }\n  | {\n      filter_ids: string[];\n      [key: string]: any;\n    };\n\ninterface StreamParamsForProjects extends IStreamParams {\n  queryParameters: IQueryParametersWithPS;\n}\n\nexport function projectsStream(streamParams: StreamParamsForProjects) {\n  return streams.get<IProjects>({ apiEndpoint, ...streamParams });\n}\n\nexport function projectBySlugStream(\n  projectSlug: string,\n  streamParams: IStreamParams | null = null\n) {\n  return streams.get<IProject>({\n    apiEndpoint: `${apiEndpoint}/by_slug/${projectSlug}`,\n    ...streamParams,\n  });\n}\n\nexport function projectByIdStream(\n  projectId: string,\n  streamParams: IStreamParams | null = null\n) {\n  return streams.get<IProject>({\n    apiEndpoint: `${apiEndpoint}/${projectId}`,\n    ...streamParams,\n  });\n}\n\nexport async function addProject(projectData: IUpdatedProjectProperties) {\n  const response = await streams.add<IProject>(apiEndpoint, {\n    project: projectData,\n  });\n  const projectId = response.data.id;\n  await streams.fetchAllWith({\n    dataId: [projectId],\n    apiEndpoint: [\n      `${API_PATH}/projects`,\n      `${API_PATH}/admin_publications`,\n      `${API_PATH}/users/me`,\n    ],\n  });\n  return response;\n}\n\nexport async function updateProject(\n  projectId: string,\n  projectData: IUpdatedProjectProperties\n) {\n  const response = await streams.update<IProject>(\n    `${apiEndpoint}/${projectId}`,\n    projectId,\n    { project: projectData }\n  );\n  streams.fetchAllWith({\n    dataId: [projectId],\n    apiEndpoint: [\n      `${API_PATH}/projects`,\n      `${API_PATH}/admin_publications`,\n      `${API_PATH}/users/me`,\n    ],\n  });\n\n  // TODO: clear partial cache\n\n  return response;\n}\n\nexport function reorderProject(\n  projectId: IProjectData['id'],\n  newOrder: number\n) {\n  return streams.update<IProject>(\n    `${apiEndpoint}/${projectId}/reorder`,\n    projectId,\n    { project: { ordering: newOrder } }\n  );\n}\n\nexport async function deleteProject(projectId: string) {\n  const response = await streams.delete(\n    `${apiEndpoint}/${projectId}`,\n    projectId\n  );\n  await streams.fetchAllWith({\n    apiEndpoint: [`${API_PATH}/projects`, `${API_PATH}/admin_publications`],\n  });\n  return response;\n}\n\nexport function getProjectUrl(project: IProjectData) {\n  return `/projects/${project.attributes.slug}`;\n}\n\nexport function getProjectIdeasUrl(project: IProjectData) {\n  let projectUrl: string;\n  const projectType = project.attributes.process_type;\n  const projectMethod = project.attributes.participation_method;\n  const rootProjectUrl = `/projects/${project.attributes.slug}`;\n\n  if (projectType === 'timeline') {\n    projectUrl = `${rootProjectUrl}/process`;\n  } else if (projectMethod === 'ideation' || projectMethod === 'budgeting') {\n    projectUrl = `${rootProjectUrl}/ideas`;\n  } else {\n    projectUrl = getProjectUrl(project);\n  }\n\n  return projectUrl;\n}\n\nexport function getProjectInputTerm(project: IProjectData) {\n  return project.attributes.input_term;\n}\n","import { useEffect } from 'react';\nimport { InsertConfigurationOptions } from 'typings';\n\n// i18n\nimport { injectIntl } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\nimport messages from './messages';\nimport { ITabItem } from 'components/UI/Tabs';\n\ndeclare module 'modules/commercial/moderation/admin/containers/index' {\n  export interface ITabNamesMap {\n    warnings: 'warnings';\n  }\n}\n\ninterface Props {\n  onData: (data: InsertConfigurationOptions<ITabItem>) => void;\n  activeFlagsCount: number;\n}\n\nconst ActivityWarningsTab = ({\n  onData,\n  activeFlagsCount,\n  intl: { formatMessage },\n}: Props & InjectedIntlProps) => {\n  useEffect(\n    () =>\n      onData({\n        configuration: {\n          name: 'warnings',\n          label: `${formatMessage(messages.warnings)} (${activeFlagsCount})`,\n        },\n        insertAfterName: 'read',\n      }),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [activeFlagsCount, onData]\n  );\n  return null;\n};\n\nexport default injectIntl(ActivityWarningsTab);\n","import React from 'react';\n\n// components\nimport { Spinner } from 'cl2-component-library';\n\n// styling\nimport styled from 'styled-components';\nimport { media } from 'utils/styleUtils';\n\nexport interface Props {\n  admin?: boolean;\n}\n\n// Centered spinner taking the navbar height (and admin sidebar) into account\nconst FullPageContainer: any = styled.div`\n  position: fixed;\n  top: ${(props) => props.theme.menuHeight}px;\n  // 260px is the width of the admin sidebar\n  left: ${(props: Props) => (props.admin ? '260px' : '0')};\n  width: ${(props: Props) => (props.admin ? 'calc(100% - 260px)' : '100%')};\n  min-height: calc(\n    100vh - ${(props) => props.theme.menuHeight + props.theme.footerHeight}px\n  );\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  ${media.smallerThanMaxTablet`\n    min-height: calc(100vh - ${(props) => props.theme.mobileMenuHeight}px - ${(\n    props\n  ) => props.theme.mobileTopBarHeight}px);\n  `}\n`;\n\nconst FullPageSpinner = (props: Props) => {\n  const { admin } = props;\n  return (\n    <FullPageContainer admin={admin}>\n      <Spinner />\n    </FullPageContainer>\n  );\n};\n\nexport default FullPageSpinner;\n","import React from 'react';\n\n// components\nimport { Input, Radio, IconTooltip } from 'cl2-component-library';\nimport Error from 'components/UI/Error';\nimport { SectionField, SubSectionTitle } from 'components/admin/Section';\nimport { StyledA, StyledWarning } from './styling';\n\n// i18n\nimport { FormattedMessage, injectIntl } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\nimport messages from '../../messages';\n\n// typings\nimport { SurveyServices } from 'services/participationContexts';\nimport { ApiErrors } from '..';\n\ninterface Props {\n  survey_service: SurveyServices | null | undefined;\n  survey_embed_url: string | null | undefined;\n  apiErrors: ApiErrors;\n  surveyProviders: { [key in SurveyServices]: boolean };\n  handleSurveyProviderChange: (survey_service: SurveyServices) => void;\n  handleSurveyEmbedUrlChange: (survey_embed_url: string) => void;\n}\n\nexport default injectIntl<Props & InjectedIntlProps>(\n  ({\n    intl: { formatMessage },\n    survey_service,\n    survey_embed_url,\n    apiErrors,\n    surveyProviders,\n    handleSurveyProviderChange,\n    handleSurveyEmbedUrlChange,\n  }) => (\n    <>\n      <SectionField>\n        <SubSectionTitle>\n          <FormattedMessage {...messages.surveyService} />\n          <IconTooltip\n            content={\n              <FormattedMessage\n                {...messages.surveyServiceTooltip}\n                values={{\n                  surveyServiceTooltipLink: (\n                    <StyledA\n                      href={formatMessage(messages.surveyServiceTooltipLink)}\n                      target=\"_blank\"\n                    >\n                      <FormattedMessage\n                        {...messages.surveyServiceTooltipLinkText}\n                      />\n                    </StyledA>\n                  ),\n                }}\n              />\n            }\n          />\n        </SubSectionTitle>\n        <StyledWarning>\n          <FormattedMessage\n            {...messages.hiddenFieldsTip}\n            values={{\n              hiddenFieldsLink: (\n                <a\n                  href={formatMessage(messages.hiddenFieldsSupportArticleUrl)}\n                  target=\"_blank\"\n                  rel=\"noreferrer\"\n                >\n                  {formatMessage(messages.hiddenFieldsLinkText)}\n                </a>\n              ),\n            }}\n          />\n        </StyledWarning>\n        {Object.keys(surveyProviders).map((provider) => {\n          if (surveyProviders[provider]) {\n            return (\n              <Radio\n                onChange={handleSurveyProviderChange}\n                currentValue={survey_service}\n                value={provider}\n                name=\"survey-provider\"\n                id={`survey-provider-${provider}`}\n                label={<FormattedMessage {...messages[provider]} />}\n                key={provider}\n              />\n            );\n          }\n          return null;\n        })}\n        <Error apiErrors={apiErrors && apiErrors.survey_service} />\n      </SectionField>\n      <SectionField>\n        <SubSectionTitle>\n          <FormattedMessage {...messages.surveyEmbedUrl} />\n        </SubSectionTitle>\n        <Input\n          onChange={handleSurveyEmbedUrlChange}\n          type=\"text\"\n          value={survey_embed_url}\n        />\n        <Error apiErrors={apiErrors && apiErrors.survey_embed_url} />\n      </SectionField>\n    </>\n  )\n);\n","import { API_PATH } from 'containers/App/constants';\nimport streams, { IStreamParams } from 'utils/streams';\n\nconst apiEndpoint = `${API_PATH}/pages`;\n\nexport interface IPageFileData {\n  id: string;\n  type: string;\n  attributes: {\n    file: {\n      url: string;\n    };\n    ordering: string | null;\n    name: string;\n    size: number;\n    created_at: string;\n    updated_at: string;\n  };\n}\n\nexport interface IPageFile {\n  data: IPageFileData;\n}\n\nexport interface IPageFiles {\n  data: IPageFileData[];\n}\n\nexport function pageFilesStream(\n  pageId: string,\n  streamParams: IStreamParams | null = null\n) {\n  return streams.get<IPageFiles>({\n    apiEndpoint: `${apiEndpoint}/${pageId}/files`,\n    ...streamParams,\n  });\n}\n\nexport function pageFileStream(\n  pageId: string,\n  fileId: string,\n  streamParams: IStreamParams | null = null\n) {\n  return streams.get<IPageFile>({\n    apiEndpoint: `${apiEndpoint}/${pageId}/files/${fileId}`,\n    ...streamParams,\n  });\n}\n\nexport function addPageFile(\n  pageId: string,\n  base64: string,\n  name: string,\n  ordering: number | null = null\n) {\n  return streams.add<IPageFile>(`${apiEndpoint}/${pageId}/files`, {\n    file: { name, ordering, file: base64 },\n  });\n}\n\nexport function deletePageFile(pageId: string, fileId: string) {\n  return streams.delete(`${apiEndpoint}/${pageId}/files/${fileId}`, fileId);\n}\n","import { useState, useEffect } from 'react';\nimport { currentAppConfigurationStream } from 'services/appConfiguration';\nimport { Locale } from 'typings';\nimport { isNilOrError } from 'utils/helperUtils';\n\nexport default function useAppConfigurationLocales() {\n  const [appConfigurationLocales, setAppConfigurationLocales] = useState<\n    Locale[] | undefined | null | Error\n  >(undefined);\n\n  useEffect(() => {\n    const subscription = currentAppConfigurationStream().observable.subscribe(\n      (currentAppConfiguration) => {\n        setAppConfigurationLocales(\n          !isNilOrError(currentAppConfiguration)\n            ? currentAppConfiguration.data.attributes.settings.core.locales\n            : currentAppConfiguration\n        );\n      }\n    );\n    return () => subscription.unsubscribe();\n  }, []);\n\n  return appConfigurationLocales;\n}\n","import React, { PureComponent, Fragment } from 'react';\nimport { pick, clone, omit } from 'lodash-es';\nimport FieldSelector, { FieldDescriptor } from './FieldSelector';\nimport PredicateSelector from './PredicateSelector';\nimport ValueSelector from './ValueSelector';\nimport Button from 'components/UI/Button';\nimport { TRule, ruleTypeConstraints } from './rules';\n\n// i18n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from './messages';\n\n// Styling\nimport styled from 'styled-components';\nimport { colors } from 'utils/styleUtils';\n\nconst Container = styled.div`\n  display: flex;\n`;\n\nconst IconCell = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding-left: 5px;\n  padding-right: 5px;\n\n  &.showLabels {\n    margin-top: 15px;\n  }\n`;\n\nconst SelectorCell = styled.div`\n  color: ${colors.label};\n  flex: 1;\n  padding: 10px 5px;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst StyledRemoveButton = styled(Button)``;\n\ntype Props = {\n  rule: TRule;\n  onChange: (rule: TRule) => void;\n  onRemove: () => void;\n  showLabels?: boolean;\n  ruleName?: string;\n};\n\ninterface State {}\n\nclass Rule extends PureComponent<Props, State> {\n  handleChangeField = (fieldDescriptor: FieldDescriptor) => {\n    const newRule = clone(fieldDescriptor) as TRule;\n    this.props.onChange(newRule);\n  };\n\n  fieldDescriptorFromRule = (rule: TRule): FieldDescriptor => {\n    return pick(rule, ['ruleType', 'customFieldId']);\n  };\n\n  handleChangePredicate = (predicate: TRule['predicate']) => {\n    const newRule = omit({ ...this.props.rule, predicate }, 'value') as TRule;\n    this.props.onChange(newRule);\n  };\n\n  handleChangeValue = (value: any) => {\n    const newRule = { ...this.props.rule, value };\n    this.props.onChange(newRule);\n  };\n\n  ruleToValueSelector = (rule: TRule) => {\n    if (rule.ruleType) {\n      const ruleType = rule.ruleType;\n\n      if (rule.predicate) {\n        return ruleTypeConstraints[ruleType][rule.predicate];\n      }\n    }\n  };\n\n  render() {\n    const { rule, onRemove, showLabels, ruleName } = this.props;\n    const hasValue =\n      rule.ruleType && rule.predicate\n        ? ruleTypeConstraints[rule.ruleType as any][rule.predicate]\n        : true;\n\n    return (\n      <Container>\n        <IconCell className={`${showLabels && 'showLabels'}`}>\n          <StyledRemoveButton\n            onClick={onRemove}\n            icon=\"minus-circle\"\n            buttonStyle=\"text\"\n            padding=\"0\"\n          />\n        </IconCell>\n        <SelectorCell>\n          {showLabels && <FormattedMessage {...messages.rulesFormLabelField} />}\n          <FieldSelector\n            field={this.fieldDescriptorFromRule(rule)}\n            onChange={this.handleChangeField}\n            fieldName={`${ruleName}-field-e2e`}\n          />\n        </SelectorCell>\n        <SelectorCell>\n          {rule.ruleType && (\n            <Fragment key={rule.ruleType}>\n              {showLabels && (\n                <FormattedMessage {...messages.rulesFormLabelPredicate} />\n              )}\n              <PredicateSelector\n                ruleType={rule.ruleType}\n                selectedPredicate={rule.predicate}\n                onChange={this.handleChangePredicate}\n              />\n            </Fragment>\n          )}\n        </SelectorCell>\n        <SelectorCell>\n          {rule.predicate && (\n            <Fragment key={rule.ruleType}>\n              {showLabels && hasValue && (\n                <FormattedMessage {...messages.rulesFormLabelValue} />\n              )}\n              <ValueSelector\n                rule={rule}\n                value={(rule as any).value}\n                onChange={this.handleChangeValue}\n              />\n            </Fragment>\n          )}\n        </SelectorCell>\n      </Container>\n    );\n  }\n}\n\nexport default Rule;\n","import React from 'react';\nimport { isEmpty } from 'lodash-es';\n\n// components\nimport Error from 'components/UI/Error';\nimport TextareaAutosize from 'react-autosize-textarea';\nimport { IconTooltip, Label } from 'cl2-component-library';\n\n// style\nimport styled from 'styled-components';\nimport { colors, defaultInputStyle, isRtl } from 'utils/styleUtils';\n\n// typings\nimport { Locale } from 'typings';\n\nconst Container = styled.div``;\n\nconst TextAreaContainer = styled.div`\n  width: 100%;\n  position: relative;\n  padding: 2px;\n  margin-top: -1px;\n  margin-left: -1px;\n\n  textarea {\n    width: 100%;\n    ${defaultInputStyle}\n    ${isRtl`\n        direction: rtl\n    `}\n  }\n`;\n\nconst CharacterCount = styled.p`\n  bottom: 0;\n  color: ${colors.label};\n  margin: 0;\n  padding: 0.5rem;\n  position: absolute;\n  right: 0;\n\n  &.error {\n    color: ${colors.clRedError};\n  }\n`;\n\nexport type Props = {\n  id?: string | undefined;\n  name?: string;\n  label?: string | JSX.Element | null | undefined;\n  labelTooltipText?: string | JSX.Element | null;\n  locale?: Locale;\n  value?: string | null;\n  placeholder?: string | null | undefined;\n  rows?: number | undefined;\n  error?: string | null | undefined;\n  onChange?: (value: string, locale: Locale | undefined) => void;\n  onFocus?: () => void | undefined;\n  onBlur?: () => void | undefined;\n  autofocus?: boolean | undefined;\n  maxCharCount?: number;\n  disabled?: boolean;\n  focusOnError?: boolean;\n  className?: string;\n};\n\ninterface State {}\n\nexport default class TextArea extends React.PureComponent<Props, State> {\n  textareaElement: HTMLTextAreaElement | null = null;\n\n  constructor(props) {\n    super(props);\n    this.textareaElement = null;\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    const { focusOnError, error } = this.props;\n\n    if (\n      focusOnError &&\n      error &&\n      error !== prevProps.error &&\n      this.textareaElement !== null\n    ) {\n      setTimeout(() => {\n        if (this.textareaElement) {\n          this.textareaElement.focus();\n        }\n      }, 50);\n    }\n  }\n\n  handleOnChange = (event: React.FormEvent<HTMLTextAreaElement>) => {\n    const value = this.props.maxCharCount\n      ? event.currentTarget.value.substr(0, this.props.maxCharCount)\n      : event.currentTarget.value;\n\n    if (this.props.onChange) {\n      this.props.onChange(value, this.props.locale);\n    }\n  };\n\n  handleOnFocus = () => {\n    if (this.props.onFocus) {\n      this.props.onFocus();\n    }\n  };\n\n  handleOnBlur = () => {\n    if (this.props.onBlur) {\n      this.props.onBlur();\n    }\n  };\n\n  noop = () => {};\n\n  render() {\n    const {\n      id,\n      name,\n      label,\n      labelTooltipText,\n      value,\n      rows,\n      placeholder,\n      error,\n      children,\n      maxCharCount,\n      disabled,\n      className,\n    } = this.props;\n\n    return (\n      <Container className={className}>\n        {label && (\n          <Label htmlFor={id}>\n            <span>{label}</span>\n            {labelTooltipText && <IconTooltip content={labelTooltipText} />}\n          </Label>\n        )}\n\n        <TextAreaContainer className=\"TextArea\">\n          <TextareaAutosize\n            id={id}\n            className={`textarea ${!isEmpty(error) ? 'error' : ''}`}\n            name={name || ''}\n            rows={rows || 5}\n            value={value || ''}\n            placeholder={placeholder || undefined}\n            onChange={this.handleOnChange}\n            onFocus={this.handleOnFocus}\n            onBlur={this.handleOnBlur}\n            disabled={disabled}\n          />\n          {value && maxCharCount && (\n            <CharacterCount\n              className={value.length === maxCharCount ? 'error' : ''}\n            >\n              {value.length} / {maxCharCount}\n            </CharacterCount>\n          )}\n          {children}\n        </TextAreaContainer>\n        <Error text={error} />\n      </Container>\n    );\n  }\n}\n","import { isString } from 'lodash-es';\nimport {\n  getUrlLocale,\n  replacePathnameLocale,\n  setPathnameLocale,\n} from 'services/locale';\nimport { LocationDescriptor, LocationDescriptorObject } from 'history';\nimport { Locale } from 'typings';\n\n// prerequisite : the pathname (location or lcoation.pathname) should start with a / or a locale\nexport default function updateLocationDescriptor(\n  location: LocationDescriptor,\n  locale: Locale\n): LocationDescriptorObject {\n  const descriptor = isString(location) ? { pathname: location } : location;\n  const urlLocale = descriptor.pathname\n    ? getUrlLocale(descriptor.pathname)\n    : null;\n\n  if (descriptor.pathname) {\n    if (!urlLocale && locale) {\n      descriptor.pathname = setPathnameLocale(descriptor.pathname, locale);\n    } else if (urlLocale && locale && urlLocale !== locale) {\n      descriptor.pathname = replacePathnameLocale(descriptor.pathname, locale);\n    }\n  }\n\n  descriptor.state = { ...(descriptor.state as Record<string, any>), locale };\n\n  return descriptor;\n}\n\nexport function removeLocale(\n  location: LocationDescriptor\n): { pathname?: string; urlLocale: string | null } {\n  const pathname = isString(location) ? location : location.pathname;\n  const urlLocale = pathname ? getUrlLocale(pathname) : null;\n\n  const result = { pathname, urlLocale };\n  if (pathname && urlLocale) {\n    const matchRegexp = new RegExp(`^/(${urlLocale})/`);\n    result.pathname = `${pathname.replace(matchRegexp, '/')}`;\n  }\n\n  return result;\n}\n","import React from 'react';\nimport styled from 'styled-components';\nimport FileDisplay from './FileDisplay';\nimport { IProjectFileData } from 'services/projectFiles';\nimport { IPhaseFileData } from 'services/phaseFiles';\nimport { IEventFileData } from 'services/eventFiles';\nimport { IPageFileData } from 'services/pageFiles';\nimport { IIdeaFileData } from 'services/ideaFiles';\nimport { IInitiativeFileData } from 'services/initiativeFiles';\n\nconst Container = styled.div`\n  margin-top: 25px;\n`;\n\ninterface Props {\n  files:\n    | IProjectFileData[]\n    | IPhaseFileData[]\n    | IEventFileData[]\n    | IPageFileData[]\n    | IIdeaFileData[]\n    | IInitiativeFileData[];\n  className?: string;\n}\n\nconst FileAttachments = ({ files, className }: Props) => {\n  return (\n    <Container className={className}>\n      {Array.isArray(files) &&\n        files.map((file) => <FileDisplay key={file.id} file={file} />)}\n    </Container>\n  );\n};\n\nexport default FileAttachments;\n","import Loadable from 'react-loadable';\nimport { LoadableLoadingAdmin } from 'components/UI/LoadableLoading';\nimport moduleConfiguration from 'modules';\n\nexport default () => {\n  return {\n    path: 'projects',\n    name: 'admin projects',\n    component: Loadable({\n      loader: () => import('containers/Admin/projects'),\n      loading: LoadableLoadingAdmin,\n      delay: 500,\n    }),\n    indexRoute: {\n      name: 'admin projects index',\n      component: Loadable({\n        loader: () => import('containers/Admin/projects/all'),\n        loading: LoadableLoadingAdmin,\n        delay: 500,\n      }),\n    },\n    childRoutes: [\n      ...moduleConfiguration.routes['admin.project_templates'],\n      {\n        path: ':projectId/edit',\n        name: 'admin projects single project',\n        component: Loadable({\n          loader: () => import('containers/Admin/projects/edit'),\n          loading: LoadableLoadingAdmin,\n          delay: 500,\n        }),\n        indexRoute: {\n          name: 'admin projects single edit',\n          component: Loadable({\n            loader: () => import('containers/Admin/projects/edit/general'),\n            loading: () => null,\n          }),\n        },\n        childRoutes: [\n          {\n            path: '/:locale/admin/projects/new',\n            name: 'admin projects create new',\n            component: Loadable({\n              loader: () => import('containers/Admin/projects/edit/general'),\n              loading: LoadableLoadingAdmin,\n              delay: 500,\n            }),\n          },\n          {\n            path: '/:locale/admin/projects/:projectId/description',\n            name: 'admin projects description',\n            component: Loadable({\n              loader: () =>\n                import('containers/Admin/projects/edit/description'),\n              loading: () => null,\n            }),\n          },\n          {\n            path: '/:locale/admin/projects/:projectId/ideas',\n            name: 'admin projects ideas manager',\n            component: Loadable({\n              loader: () => import('containers/Admin/projects/edit/ideas'),\n              loading: () => null,\n            }),\n          },\n          {\n            path: '/:locale/admin/projects/:projectId/volunteering',\n            name: 'admin projects volunteering',\n            component: Loadable({\n              loader: () =>\n                import('containers/Admin/projects/edit/volunteering'),\n              loading: () => null,\n            }),\n          },\n          {\n            path: '/:locale/admin/projects/:projectId/volunteering/causes/new',\n            name: 'admin projects make a new cause in a project',\n            component: Loadable({\n              loader: () =>\n                import('containers/Admin/projects/edit/volunteering/NewCause'),\n              loading: () => null,\n            }),\n          },\n          {\n            path:\n              '/:locale/admin/projects/:projectId/volunteering/phases/:phaseId/causes/new',\n            name: 'admin projects make a new cause in a phase',\n            component: Loadable({\n              loader: () =>\n                import('containers/Admin/projects/edit/volunteering/NewCause'),\n              loading: () => null,\n            }),\n          },\n          {\n            path:\n              '/:locale/admin/projects/:projectId/volunteering/causes/:causeId',\n            name: 'admin projects timeline edit',\n            component: Loadable({\n              loader: () =>\n                import('containers/Admin/projects/edit/volunteering/EditCause'),\n              loading: () => null,\n            }),\n          },\n          {\n            path: '/:locale/admin/projects/:projectId/timeline',\n            name: 'admin projects timeline',\n            component: Loadable({\n              loader: () => import('containers/Admin/projects/edit/timeline'),\n              loading: () => null,\n            }),\n          },\n          {\n            path: '/:locale/admin/projects/:projectId/timeline/new',\n            name: 'admin projects timeline create',\n            component: Loadable({\n              loader: () =>\n                import('containers/Admin/projects/edit/timeline/edit'),\n              loading: () => null,\n            }),\n          },\n          {\n            path: '/:locale/admin/projects/:projectId/timeline/:id',\n            name: 'admin projects timeline edit',\n            component: Loadable({\n              loader: () =>\n                import('containers/Admin/projects/edit/timeline/edit'),\n              loading: () => null,\n            }),\n          },\n          {\n            path: '/:locale/admin/projects/:projectId/events',\n            name: 'admin projects events',\n            component: Loadable({\n              loader: () => import('containers/Admin/projects/edit/events'),\n              loading: () => null,\n            }),\n          },\n          {\n            path: '/:locale/admin/projects/:projectId/events/new',\n            name: 'admin projects events create',\n            component: Loadable({\n              loader: () =>\n                import('containers/Admin/projects/edit/events/edit'),\n              loading: () => null,\n            }),\n          },\n          {\n            path: '/:locale/admin/projects/:projectId/events/:id',\n            name: 'admin projects events edit',\n            component: Loadable({\n              loader: () =>\n                import('containers/Admin/projects/edit/events/edit'),\n              loading: () => null,\n            }),\n          },\n          {\n            path: '/:locale/admin/projects/:projectId/events',\n            name: 'admin projects edit events',\n            component: Loadable({\n              loader: () => import('containers/Admin/projects/edit/events'),\n              loading: () => null,\n            }),\n          },\n          {\n            path: '/:locale/admin/projects/:projectId/permissions',\n            name: 'admin projects edit permissions',\n            component: Loadable({\n              loader: () =>\n                import('containers/Admin/projects/edit/permissions'),\n              loading: () => null,\n            }),\n          },\n          {\n            path: '/:locale/admin/projects/:projectId/survey-results',\n            name: 'admin projects edit survey results',\n            component: Loadable({\n              loader: () =>\n                import('containers/Admin/projects/edit/surveyResults'),\n              loading: () => null,\n            }),\n          },\n          {\n            path: '/:locale/admin/projects/:projectId/poll',\n            name: 'admin projects edit poll',\n            component: Loadable({\n              loader: () => import('containers/Admin/projects/edit/poll'),\n              loading: () => null,\n            }),\n          },\n          ...moduleConfiguration.routes['admin.projects'],\n        ],\n      },\n    ],\n  };\n};\n","import React, { memo } from 'react';\nimport { isNilOrError, stopPropagation } from 'utils/helperUtils';\n\n// i18n\nimport messages from '../../messages';\nimport { FormattedMessage } from 'utils/cl-intl';\n\n// components\nimport NotificationWrapper from '../NotificationWrapper';\nimport Link from 'utils/cl-router/Link';\nimport { DeletedUser } from '../Notification';\nimport T from 'components/T';\n\n// services\nimport { IIdeaMarkedAsSpamNotificationData } from 'services/notifications';\n\ninterface Props {\n  notification: IIdeaMarkedAsSpamNotificationData;\n}\n\nconst IdeaMarkedAsSpamNotification = memo<Props>((props) => {\n  const { notification } = props;\n\n  const deletedUser =\n    isNilOrError(notification.attributes.initiating_user_first_name) ||\n    isNilOrError(notification.attributes.initiating_user_slug);\n\n  return (\n    <NotificationWrapper\n      linkTo={`/ideas/${notification.attributes.post_slug}`}\n      timing={notification.attributes.created_at}\n      icon=\"idea\"\n      isRead={!!notification.attributes.read_at}\n    >\n      <FormattedMessage\n        {...messages.userMarkedPostAsSpam}\n        values={{\n          name: deletedUser ? (\n            <DeletedUser>\n              <FormattedMessage {...messages.deletedUser} />\n            </DeletedUser>\n          ) : (\n            <Link\n              to={`/profile/${notification.attributes.initiating_user_slug}`}\n              onClick={stopPropagation}\n            >\n              {notification.attributes.initiating_user_first_name}\n            </Link>\n          ),\n          postTitle: <T value={notification.attributes.post_title_multiloc} />,\n        }}\n      />\n    </NotificationWrapper>\n  );\n});\n\nexport default IdeaMarkedAsSpamNotification;\n","import React, { memo } from 'react';\n\nimport { IOfficialFeedbackOnVotedInitiativeNotificationData } from 'services/notifications';\n\n// i18n\nimport messages from '../../messages';\nimport { FormattedMessage } from 'utils/cl-intl';\n\n// components\nimport NotificationWrapper from '../NotificationWrapper';\nimport T from 'components/T';\n\ninterface Props {\n  notification: IOfficialFeedbackOnVotedInitiativeNotificationData;\n}\n\nconst OfficialFeedbackOnVotedInitiativeNotification = memo<Props>((props) => {\n  const { notification } = props;\n\n  return (\n    <NotificationWrapper\n      linkTo={`/initiatives/${notification.attributes.post_slug}`}\n      timing={notification.attributes.created_at}\n      icon=\"comments\"\n      isRead={!!notification.attributes.read_at}\n    >\n      <FormattedMessage\n        {...messages.officialFeedbackOnVotedInitiative}\n        values={{\n          officialName: (\n            <T value={notification.attributes.official_feedback_author} />\n          ),\n        }}\n      />\n    </NotificationWrapper>\n  );\n});\n\nexport default OfficialFeedbackOnVotedInitiativeNotification;\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  setupArticle3Link: {\n    id: 'containers.Admin.onboarding.setupArticle3Link',\n    defaultMessage: '/admin/settings/widgets',\n  },\n  setupArticle3Title: {\n    id: 'containers.Admin.onboarding.setupArticle3Title',\n    defaultMessage: 'Link the platform to third party websites using a widget',\n  },\n  setupArticle3Description: {\n    id: 'containers.Admin.onboarding.setupArticle3Description',\n    defaultMessage:\n      'A personalized widget brings people from other websites to your platform.',\n  },\n  tabWidgets: {\n    id: 'app.containers.AdminPage.SettingsPage.tabWidgets',\n    defaultMessage: 'Widgets',\n  },\n  title: {\n    id: 'app.containers.AdminPage.widgets.title',\n    defaultMessage: 'Widgets',\n  },\n  titleWidgets: {\n    id: 'app.containers.AdminPage.widgets.titleWidgets',\n    defaultMessage: 'Widgets',\n  },\n  subtitleWidgets: {\n    id: 'app.containers.AdminPage.widgets.subtitleWidgets',\n    defaultMessage:\n      'Generate as many widgets as you like, and add the html-code to your website.',\n  },\n  titleInputSelection: {\n    id: 'app.containers.AdminPage.widgets.titleInputSelection',\n    defaultMessage: 'Input selection',\n  },\n  titleDimensions: {\n    id: 'app.containers.AdminPage.widgets.titleDimensions',\n    defaultMessage: 'Dimensions',\n  },\n  titleStyle: {\n    id: 'app.containers.AdminPage.widgets.titleStyle',\n    defaultMessage: 'Style',\n  },\n  titleHeaderAndFooter: {\n    id: 'app.containers.AdminPage.widgets.titleHeaderAndFooter',\n    defaultMessage: 'Header & Footer',\n  },\n  fieldWidth: {\n    id: 'app.containers.AdminPage.widgets.fieldWidth',\n    defaultMessage: 'Width',\n  },\n  fieldHeight: {\n    id: 'app.containers.AdminPage.widgets.fieldHeight',\n    defaultMessage: 'Height',\n  },\n  fieldSiteBackgroundColor: {\n    id: 'app.containers.AdminPage.widgets.fieldSiteBackgroundColor',\n    defaultMessage: 'Site background color',\n  },\n  fieldBackgroundColor: {\n    id: 'app.containers.AdminPage.widgets.fieldBackgroundColor',\n    defaultMessage: 'Widget background color',\n  },\n  fieldTextColor: {\n    id: 'app.containers.AdminPage.widgets.fieldTextColor',\n    defaultMessage: 'Text color',\n  },\n  fieldAccentColor: {\n    id: 'app.containers.AdminPage.widgets.fieldAccentColor',\n    defaultMessage: 'Accent color',\n  },\n  fieldFont: {\n    id: 'app.containers.AdminPage.widgets.fieldFont',\n    defaultMessage: 'Font',\n  },\n  fieldFontSize: {\n    id: 'app.containers.AdminPage.widgets.fieldFontSize',\n    defaultMessage: 'Font size',\n  },\n  fieldFontDescription: {\n    id: 'app.containers.AdminPage.widgets.fieldFontDescription',\n    defaultMessage:\n      'Must be a valid font name available through {googleFontsLink}. Leave empty to use the default font.',\n  },\n  fieldRelativeLink: {\n    id: 'app.containers.AdminPage.widgets.fieldRelativeLink',\n    defaultMessage: 'Links to',\n  },\n  fieldShowHeader: {\n    id: 'app.containers.AdminPage.widgets.fieldShowHeader',\n    defaultMessage: 'Show header',\n  },\n  fieldShowLogo: {\n    id: 'app.containers.AdminPage.widgets.fieldShowLogo',\n    defaultMessage: 'Show logo',\n  },\n  fieldHeaderText: {\n    id: 'app.containers.AdminPage.widgets.fieldHeaderText',\n    defaultMessage: 'Header title',\n  },\n  fieldHeaderTextDefault: {\n    id: 'app.containers.AdminPage.widgets.fieldHeaderTextDefault',\n    defaultMessage: 'Our participation platform',\n  },\n  fieldHeaderSubText: {\n    id: 'app.containers.AdminPage.widgets.fieldHeaderSubText',\n    defaultMessage: 'Header subtitle',\n  },\n  fieldHeaderSubTextDefault: {\n    id: 'app.containers.AdminPage.widgets.fieldHeaderSubTextDefault',\n    defaultMessage: 'You can have a say',\n  },\n  fieldShowFooter: {\n    id: 'app.containers.AdminPage.widgets.fieldShowFooter',\n    defaultMessage: 'Show button',\n  },\n  fieldButtonText: {\n    id: 'app.containers.AdminPage.widgets.fieldButtonText',\n    defaultMessage: 'Button text',\n  },\n  fieldButtonTextDefault: {\n    id: 'app.containers.AdminPage.widgets.fieldButtonTextDefault',\n    defaultMessage: 'Join now',\n  },\n  fieldProjects: {\n    id: 'app.containers.AdminPage.widgets.fieldProjects',\n    defaultMessage: 'Projects',\n  },\n  fieldTopics: {\n    id: 'app.containers.AdminPage.widgets.fieldTopics',\n    defaultMessage: 'Topics',\n  },\n  fieldSort: {\n    id: 'app.containers.AdminPage.widgets.fieldSort',\n    defaultMessage: 'Sorted by',\n  },\n  sortTrending: {\n    id: 'app.containers.AdminPage.widgets.sortTrending',\n    defaultMessage: 'Trending',\n  },\n  sortPopular: {\n    id: 'app.containers.AdminPage.widgets.sortPopular',\n    defaultMessage: 'Popular',\n  },\n  sortNewest: {\n    id: 'app.containers.AdminPage.widgets.sortNewest',\n    defaultMessage: 'Newest',\n  },\n  fieldInputsLimit: {\n    id: 'app.containers.AdminPage.widgets.fieldInputsLimit',\n    defaultMessage: 'Number of inputs',\n  },\n  settingsTitle: {\n    id: 'app.containers.AdminPage.widgets.settingsTitle',\n    defaultMessage: 'Settings',\n  },\n  previewTitle: {\n    id: 'app.containers.AdminPage.widgets.previewTitle',\n    defaultMessage: 'Preview',\n  },\n  exportHtmlCodeButton: {\n    id: 'app.containers.AdminPage.widgets.exportHtmlCodeButton',\n    defaultMessage: 'Export HTML code',\n  },\n  htmlCodeTitle: {\n    id: 'app.containers.AdminPage.widgets.htmlCodeTitle',\n    defaultMessage: 'Widget HTML code',\n  },\n  htmlCodeExplanation: {\n    id: 'app.containers.AdminPage.widgets.htmlCodeExplanation',\n    defaultMessage:\n      'Copy the following snippet of HTML code and paste it on the website where you want the widget to appear.',\n  },\n  homepage: {\n    id: 'app.containers.AdminPage.widgets.homepage',\n    defaultMessage: 'Homepage',\n  },\n  copyToClipboard: {\n    id: 'app.containers.AdminPage.widgets.copyToClipboard',\n    defaultMessage: 'Copy to clipboard',\n  },\n  copied: {\n    id: 'app.containers.AdminPage.widgets.copied',\n    defaultMessage: 'Copied to clipboard',\n  },\n});\n","import { FC, useEffect } from 'react';\nimport messages from './messages';\nimport { ITabsOutlet } from 'utils/moduleUtils';\n\nconst Tab: FC<ITabsOutlet> = ({ onData, formatMessage }) => {\n  useEffect(\n    () =>\n      onData({\n        configuration: {\n          label: formatMessage(messages.tabMap),\n          name: 'geographic_dashboard',\n          url: '/admin/dashboard/map',\n          feature: 'geographic_dashboard',\n        },\n        insertAfterName: 'users',\n      }),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  );\n  return null;\n};\n\nexport default Tab;\n","import { useState, useEffect } from 'react';\nimport { projectTopicsStream } from 'services/projectTopics';\nimport {\n  ITopicData,\n  topicByIdStream,\n  topicsStream,\n  Code,\n} from 'services/topics';\nimport { Observable, of, combineLatest } from 'rxjs';\nimport { map, switchMap } from 'rxjs/operators';\nimport { isNilOrError } from 'utils/helperUtils';\n\ninterface Parameters {\n  projectId?: string;\n  topicIds?: string[];\n  code?: Code;\n  exclude_code?: Code;\n  sort?: 'new' | 'custom';\n}\n\nexport default function useTopics(parameters: Parameters) {\n  const { projectId, topicIds, code, exclude_code, sort } = parameters;\n  const [topics, setTopics] = useState<\n    (ITopicData | Error)[] | undefined | null | Error\n  >(undefined);\n  const queryParameters = { code, exclude_code, sort };\n\n  useEffect(() => {\n    let observable: Observable<(ITopicData | Error)[] | null> = of(null);\n\n    if (projectId) {\n      observable = projectTopicsStream(projectId).observable.pipe(\n        map((topics) =>\n          topics.data\n            .filter((topic) => topic)\n            .map((topic) => topic.relationships.topic.data.id)\n        ),\n        switchMap((topicIds) => {\n          return combineLatest(\n            topicIds.map((topicId) =>\n              topicByIdStream(topicId).observable.pipe(\n                map((topic) => (!isNilOrError(topic) ? topic.data : topic))\n              )\n            )\n          );\n        })\n      );\n    } else if (topicIds) {\n      if (topicIds.length > 0) {\n        observable = combineLatest(\n          topicIds.map((id) =>\n            topicByIdStream(id).observable.pipe(\n              map((topic) => (!isNilOrError(topic) ? topic.data : topic))\n            )\n          )\n        );\n      }\n    } else {\n      observable = topicsStream({ queryParameters }).observable.pipe(\n        map((topics) => topics.data)\n      );\n    }\n\n    const subscription = observable.subscribe((topics) => {\n      setTopics(topics);\n    });\n\n    return () => subscription.unsubscribe();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [topicIds]);\n\n  return topics;\n}\n","import React, { memo, useCallback, useState, useEffect } from 'react';\n\n// components\nimport PasswordSignin from 'components/SignUpIn/SignIn/PasswordSignin';\nimport AuthProviders, { AuthProvider } from 'components/SignUpIn/AuthProviders';\nimport Error from 'components/UI/Error';\nimport {\n  StyledHeaderContainer,\n  StyledHeaderTitle,\n  StyledModalContentContainer,\n} from 'components/SignUpIn/styles';\n\n// utils\nimport { handleOnSSOClick } from 'services/singleSignOn';\n\n// i18n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from './messages';\n\n// analytics\nimport { trackEventByName } from 'utils/analytics';\nimport tracks from 'components/SignUpIn/tracks';\n\n// style\nimport styled from 'styled-components';\n\n// typings\nimport { ISignUpInMetaData } from 'components/SignUpIn';\n\nconst Container = styled.div``;\n\nexport type TSignInSteps = 'auth-providers' | 'password-signin';\n\nexport interface Props {\n  metaData: ISignUpInMetaData;\n  windowHeight: number;\n  customHeader?: JSX.Element;\n  onSignInCompleted: (userId: string) => void;\n  onGoToSignUp: () => void;\n  className?: string;\n}\n\nconst SignIn = memo<Props>(\n  ({\n    metaData,\n    windowHeight,\n    customHeader,\n    onSignInCompleted,\n    onGoToSignUp,\n    className,\n  }) => {\n    const [activeStep, setActiveStep] = useState<TSignInSteps>(\n      'auth-providers'\n    );\n\n    useEffect(() => {\n      trackEventByName(tracks.signInFlowEntered);\n\n      return () => {\n        trackEventByName(tracks.signInFlowExited);\n      };\n    }, []);\n\n    const handleOnAuthProviderSelected = useCallback(\n      (selectedMethod: AuthProvider) => {\n        if (selectedMethod === 'email') {\n          setActiveStep('password-signin');\n        } else {\n          handleOnSSOClick(selectedMethod, metaData);\n        }\n      },\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      []\n    );\n\n    const handleGoToSignUpFlow = useCallback(() => {\n      onGoToSignUp();\n    }, [onGoToSignUp]);\n\n    const handleOnSignInCompleted = useCallback(\n      (userId: string) => {\n        trackEventByName(tracks.signInFlowCompleted);\n        onSignInCompleted(userId);\n      },\n      [onSignInCompleted]\n    );\n\n    const handleGoToLogInOptions = useCallback(() => {\n      setActiveStep('auth-providers');\n    }, []);\n\n    return (\n      <Container id=\"e2e-sign-in-container\" className={className}>\n        <StyledHeaderContainer\n          className=\"signupinheadercontainer\"\n          inModal={!!metaData.inModal}\n        >\n          {!customHeader ? (\n            <StyledHeaderTitle inModal={!!metaData.inModal}>\n              <FormattedMessage {...messages.logIn} />\n            </StyledHeaderTitle>\n          ) : (\n            customHeader\n          )}\n        </StyledHeaderContainer>\n\n        <StyledModalContentContainer\n          inModal={!!metaData.inModal}\n          windowHeight={`${windowHeight}px`}\n          headerHeight=\"68px\"\n          className=\"signupincontentcontainer\"\n        >\n          {metaData.error ? (\n            <Error\n              text={<FormattedMessage {...messages.somethingWentWrongText} />}\n              animate={false}\n              marginBottom=\"30px\"\n            />\n          ) : (\n            <>\n              {activeStep === 'auth-providers' && (\n                <AuthProviders\n                  metaData={metaData}\n                  onAuthProviderSelected={handleOnAuthProviderSelected}\n                  goToOtherFlow={handleGoToSignUpFlow}\n                />\n              )}\n\n              {activeStep === 'password-signin' && (\n                <PasswordSignin\n                  metaData={metaData}\n                  onSignInCompleted={handleOnSignInCompleted}\n                  onGoToLogInOptions={handleGoToLogInOptions}\n                  onGoToSignUp={onGoToSignUp}\n                />\n              )}\n            </>\n          )}\n        </StyledModalContentContainer>\n      </Container>\n    );\n  }\n);\n\nexport default SignIn;\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  projectsAndFolders: {\n    id: 'app.containers.AdminPage.projects.all.projectsAndFolders',\n    defaultMessage: 'Projects and folders',\n  },\n});\n","import React from 'react';\nimport styled from 'styled-components';\n\n// i18n\nimport messages from '../../messages';\nimport { FormattedMessage } from 'utils/cl-intl';\n\n// styling\nimport { colors, fontSizes } from 'utils/styleUtils';\n\n// components\nimport Button from 'components/UI/Button';\nimport { Icon } from 'cl2-component-library';\nimport { ManagerType } from '../..';\n\nexport const NoPostPage = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  font-size: ${fontSizes.base}px;\n  font-weight: bold;\n  line-height: 25px;\n  padding: 100px 0;\n  width: 100%;\n\n  border: 1px solid ${colors.separation};\n  svg {\n    margin-bottom: 20px;\n    height: 50px;\n    fill: ${colors.clIconAccent};\n  }\n\n  transition: all 200ms ease;\n  overflow: hidden;\n\n  &.fade-enter {\n    opacity: 0;\n\n    &.fade-enter-active {\n      opacity: 1;\n    }\n  }\n\n  &.fade-enter-done {\n    opacity: 1;\n  }\n\n  &.fade-exit {\n    opacity: 1;\n\n    &.fade-exit-active {\n      opacity: 0;\n    }\n  }\n\n  &.fade-exit-done {\n    display: none;\n  }\n`;\n\nexport const NoPostHeader = styled.h2`\n  font-size: ${fontSizes.medium}px;\n  font-weight: 600;\n  margin-top: 0;\n  margin-bottom: 5px;\n`;\n\nexport const NoPostDescription = styled.p`\n  color: ${colors.adminSecondaryTextColor};\n  font-weight: 400;\n  font-size: ${fontSizes.small}px;\n  margin-bottom: 30px;\n  max-width: 450px;\n`;\n\ninterface Props {\n  type: ManagerType;\n  handleSeeAll: () => void;\n}\n\nexport default (props: Props) => (\n  <NoPostPage>\n    <Icon name=\"blankPage\" />\n    <NoPostHeader>\n      {props.type === 'Initiatives' ? (\n        <FormattedMessage {...messages.noInitiativesHere} />\n      ) : (\n        <FormattedMessage {...messages.noFilteredResults} />\n      )}\n    </NoPostHeader>\n    <NoPostDescription>\n      <FormattedMessage {...messages.resetInputFiltersDescription} />\n    </NoPostDescription>\n    <Button buttonStyle=\"cl-blue\" onClick={props.handleSeeAll}>\n      <FormattedMessage {...messages.resetFiltersButton} />\n    </Button>\n  </NoPostPage>\n);\n","import React from 'react';\nimport { returnFileSize, isNilOrError } from 'utils/helperUtils';\n\n// styles\nimport styled from 'styled-components';\nimport { colors, fontSizes, media } from 'utils/styleUtils';\nimport { lighten } from 'polished';\n\n// components\nimport { Icon } from 'cl2-component-library';\n\n// services\nimport { IProjectFileData } from 'services/projectFiles';\nimport { IPhaseFileData } from 'services/phaseFiles';\nimport { IEventFileData } from 'services/eventFiles';\nimport { IPageFileData } from 'services/pageFiles';\nimport { IIdeaFileData } from 'services/ideaFiles';\n\nconst Container = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  color: ${colors.label};\n  border: 1px solid ${lighten(0.4, colors.label)};\n  border-radius: ${(props: any) => props.theme.borderRadius};\n  font-size: ${fontSizes.base}px;\n  line-height: 24px;\n  padding: 10px 20px;\n  margin-bottom: 10px;\n`;\n\nconst Paperclip = styled(Icon)`\n  min-width: 10px;\n  min-height: 20px;\n  width: 10px;\n  height: 20px;\n  fill: ${colors.label};\n  margin-right: 15px;\n`;\n\nconst FileDownloadLink = styled.a`\n  color: ${colors.label};\n  text-decoration: underline;\n  display: inline-block;\n  margin-right: 10px;\n  hyphens: auto;\n\n  &:hover {\n    color: #000;\n    text-decoration: underline;\n  }\n\n  ${media.smallerThanMinTablet`\n    margin-right: auto;\n  `}\n`;\n\nconst Spacer = styled.div`\n  flex: 1;\n`;\n\nconst FileSize = styled.span`\n  margin-left: 20px;\n  white-space: nowrap;\n\n  ${media.smallerThanMinTablet`\n    display: none;\n  `}\n`;\n\nconst DeleteButton = styled.button`\n  display: flex;\n  height: 20px;\n  align-items: center;\n  cursor: pointer;\n  margin-left: 10px;\n\n  &:hover {\n    .cl-icon {\n      fill: ${colors.clRed};\n    }\n  }\n`;\n\nconst StyledIcon = styled(Icon)`\n  width: 12px;\n  fill: ${colors.label};\n`;\n\ninterface Props {\n  file:\n    | IProjectFileData\n    | IPhaseFileData\n    | IPageFileData\n    | IEventFileData\n    | IIdeaFileData;\n  onDeleteClick?: () => void;\n  className?: string;\n}\n\nconst FileDisplay = ({ file, onDeleteClick, className }: Props) => {\n  if (!isNilOrError(file)) {\n    return (\n      <Container className={className}>\n        <Paperclip name=\"paperclip\" />\n        <FileDownloadLink\n          href={file.attributes.file.url}\n          download={file.attributes.name}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          {file.attributes.name}\n        </FileDownloadLink>\n        <Spacer />\n        <FileSize>({returnFileSize(file.attributes.size)})</FileSize>\n        {onDeleteClick && (\n          <DeleteButton onClick={onDeleteClick}>\n            <StyledIcon name=\"delete\" />\n          </DeleteButton>\n        )}\n      </Container>\n    );\n  }\n\n  return null;\n};\n\nexport default FileDisplay;\n","import React, { memo, useState, useCallback, useEffect } from 'react';\nimport { isNilOrError } from 'utils/helperUtils';\n\n// components\nimport QuillEditor, {\n  Props as QuillEditorProps,\n} from 'components/UI/QuillEditor';\nimport { IconTooltip, LocaleSwitcher, Label } from 'cl2-component-library';\n\n// hooks\nimport useLocale from 'hooks/useLocale';\nimport useAppConfigurationLocales from 'hooks/useAppConfigurationLocales';\n\n// style\nimport styled from 'styled-components';\n\n// typings\nimport { Locale, Multiloc } from 'typings';\n\nconst Container = styled.div``;\n\nconst LabelContainer = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 10px;\n`;\n\nconst StyledLabel = styled(Label)`\n  margin-bottom: 0px;\n`;\n\nconst StyledIconTooltip = styled(IconTooltip)``;\n\nconst Spacer = styled.div`\n  flex: 1;\n`;\n\nconst StyledLocaleSwitcher = styled(LocaleSwitcher)`\n  width: auto;\n  margin-left: 20px;\n`;\n\nexport interface Props\n  extends Omit<\n    QuillEditorProps,\n    'value' | 'onChange' | 'locale' | 'labelTooltip'\n  > {\n  valueMultiloc: Multiloc | null | undefined;\n  labelTooltipText?: string | JSX.Element | null;\n  onChange: (value: Multiloc, locale: Locale) => void;\n}\n\nconst QuillMutilocWithLocaleSwitcher = memo<Props>((props) => {\n  const {\n    valueMultiloc,\n    onChange,\n    className,\n    label,\n    labelTooltipText,\n    ...quillProps\n  } = props;\n\n  const [selectedLocale, setSelectedLocale] = useState<Locale | null>(null);\n\n  const locale = useLocale();\n  const tenantLocales = useAppConfigurationLocales();\n\n  useEffect(() => {\n    !isNilOrError(locale) && setSelectedLocale(locale);\n  }, [locale]);\n\n  const handleValueOnChange = useCallback(\n    (value: string, locale: Locale) => {\n      const newValueMultiloc = {\n        ...(valueMultiloc || {}),\n        [locale]: value,\n      } as Multiloc;\n\n      onChange(newValueMultiloc, locale);\n    },\n    [valueMultiloc, onChange]\n  );\n\n  const handleOnSelectedLocaleChange = useCallback(\n    (newSelectedLocale: Locale) => {\n      setSelectedLocale(newSelectedLocale);\n    },\n    []\n  );\n\n  if (selectedLocale) {\n    const id = `${props.id}-${selectedLocale}`;\n\n    return (\n      <Container className={className}>\n        <LabelContainer>\n          {label && (\n            <StyledLabel htmlFor={id}>\n              <span>{label}</span>\n              {labelTooltipText && (\n                <StyledIconTooltip content={labelTooltipText} />\n              )}\n            </StyledLabel>\n          )}\n\n          {!label && <Spacer />}\n\n          <StyledLocaleSwitcher\n            onSelectedLocaleChange={handleOnSelectedLocaleChange}\n            locales={!isNilOrError(tenantLocales) ? tenantLocales : []}\n            selectedLocale={selectedLocale}\n            values={{ valueMultiloc }}\n          />\n        </LabelContainer>\n\n        <QuillEditor\n          {...quillProps}\n          id={id}\n          value={valueMultiloc?.[selectedLocale]}\n          locale={selectedLocale}\n          onChange={handleValueOnChange}\n        />\n      </Container>\n    );\n  }\n\n  return null;\n});\n\nexport default QuillMutilocWithLocaleSwitcher;\n","import React, { memo } from 'react';\nimport { IStatusChangeOnCommentedInitiativeNotificationData } from 'services/notifications';\nimport messages from '../../messages';\nimport { FormattedMessage } from 'utils/cl-intl';\nimport T from 'components/T';\nimport NotificationWrapper from '../NotificationWrapper';\n\ninterface Props {\n  notification: IStatusChangeOnCommentedInitiativeNotificationData;\n}\n\nconst StatusChangeOnCommentedInitiativeNotification = memo<Props>((props) => {\n  const { notification } = props;\n\n  return (\n    <NotificationWrapper\n      linkTo={`/initiatives/${notification.attributes.post_slug}`}\n      timing={notification.attributes.created_at}\n      icon=\"notification_status\"\n      isRead={!!notification.attributes.read_at}\n    >\n      <FormattedMessage\n        {...messages.statusChangeOnCommentedInitiative}\n        values={{\n          status: (\n            <T\n              value={notification.attributes.initiative_status_title_multiloc}\n            />\n          ),\n        }}\n      />\n    </NotificationWrapper>\n  );\n});\n\nexport default StatusChangeOnCommentedInitiativeNotification;\n","import React from 'react';\nimport { Subscription, combineLatest } from 'rxjs';\n// tslint:disable-next-line:no-vanilla-formatted-messages\nimport { FormattedMessage as OriginalFormattedMessage } from 'react-intl';\nimport { currentAppConfigurationStream } from 'services/appConfiguration';\nimport { localeStream } from 'services/locale';\nimport { getLocalized } from 'utils/i18n';\nimport { isNilOrError } from 'utils/helperUtils';\n\ntype State = {\n  tenantName: string | null;\n  orgType: string | null;\n  orgName: string | null;\n  loaded: boolean;\n};\n\ntype Props = OriginalFormattedMessage.Props;\n\nexport default class FormattedMessage extends React.PureComponent<\n  Props,\n  State\n> {\n  subscriptions: Subscription[];\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      tenantName: null,\n      orgType: null,\n      orgName: null,\n      loaded: false,\n    };\n  }\n\n  componentDidMount() {\n    const locale$ = localeStream().observable;\n    const currentTenant$ = currentAppConfigurationStream().observable;\n\n    this.subscriptions = [\n      combineLatest(locale$, currentTenant$).subscribe(([locale, tenant]) => {\n        if (!isNilOrError(locale) && !isNilOrError(tenant)) {\n          const tenantLocales = tenant.data.attributes.settings.core.locales;\n          const tenantName = tenant.data.attributes.name;\n          const orgName = getLocalized(\n            tenant.data.attributes.settings.core.organization_name,\n            locale,\n            tenantLocales\n          );\n          const orgType =\n            tenant.data.attributes.settings.core.organization_type;\n          this.setState({ tenantName, orgName, orgType, loaded: true });\n        }\n      }),\n    ];\n  }\n\n  componentWillUnmount() {\n    this.subscriptions.forEach((subscription) => subscription.unsubscribe());\n  }\n\n  render() {\n    if (this.state.loaded) {\n      const { tenantName, orgType, orgName } = this.state;\n      const values = this.props.values || {};\n\n      if (tenantName) {\n        values.tenantName = tenantName;\n      }\n\n      if (orgType) {\n        values.orgType = orgType;\n      }\n\n      if (orgName) {\n        values.orgName = orgName;\n      }\n\n      return <OriginalFormattedMessage {...this.props} values={values} />;\n    }\n\n    return null;\n  }\n}\n","import React, { memo } from 'react';\nimport { ICommentDeletedByAdminNotificationData } from 'services/notifications';\nimport messages from '../../messages';\nimport { FormattedMessage } from 'utils/cl-intl';\nimport T from 'components/T';\nimport NotificationWrapper from '../NotificationWrapper';\n\ninterface Props {\n  notification: ICommentDeletedByAdminNotificationData;\n}\n\nconst mapPostTypeToLink = (\n  notification: ICommentDeletedByAdminNotificationData\n): string => {\n  switch (notification.attributes.post_type) {\n    case 'Idea':\n      return `/ideas/${notification.attributes.post_slug}`;\n    case 'Initiative':\n      return `/initiatives/${notification.attributes.post_slug}`;\n  }\n};\n\nexport const CommentDeletedByAdminNotification = memo<Props>((props) => {\n  const { notification } = props;\n\n  return (\n    <NotificationWrapper\n      linkTo={mapPostTypeToLink(notification)}\n      timing={notification.attributes.created_at}\n      icon=\"comments\"\n      isRead={!!notification.attributes.read_at}\n    >\n      <FormattedMessage\n        {...messages.commentDeletedByAdminFor}\n        values={{\n          postTitle: <T value={notification.attributes.post_title_multiloc} />,\n          reasonCode: notification.attributes.reason_code,\n          otherReason: notification.attributes.other_reason,\n        }}\n      />\n    </NotificationWrapper>\n  );\n});\n\nexport default CommentDeletedByAdminNotification;\n","import React from 'react';\nimport FullPageSpinner from '../FullPageSpinner';\nimport { LoadingComponentProps } from 'react-loadable';\n\nexport const LoadableLoadingCitizen = (props: LoadingComponentProps) => {\n  if (process.env.NODE_ENV === 'development' && props.error) {\n    // eslint-disable-next-line no-console\n    console.log(props.error);\n  }\n  if (props.pastDelay) {\n    return <FullPageSpinner />;\n  }\n\n  return null;\n};\n\nexport const LoadableLoadingAdmin = (props: LoadingComponentProps) => {\n  if (props.pastDelay) {\n    return <FullPageSpinner admin={true} />;\n  }\n\n  return null;\n};\n","import React from 'react';\nimport { GetAppConfigurationLocalesChildProps } from 'resources/GetAppConfigurationLocales';\nimport { replacePathnameLocale } from 'services/locale';\nimport { isPage } from 'utils/helperUtils';\n\n// https://github.com/nfl/react-helmet/issues/279 href comes first!\nexport default function getAlternateLinks(\n  tenantLocales: GetAppConfigurationLocalesChildProps\n) {\n  const pathName = location.pathname;\n\n  if (\n    !isPage('admin', pathName) &&\n    Array.isArray(tenantLocales) &&\n    tenantLocales.length > 1\n  ) {\n    return tenantLocales.map((loc) => {\n      return (\n        <link\n          href={`${location.origin}${replacePathnameLocale(pathName, loc)}`}\n          rel=\"alternate\"\n          hrefLang={loc}\n          key={loc}\n        />\n      );\n    });\n  }\n\n  return null;\n}\n","import { definePermissionRule } from 'services/permissions/permissions';\nimport { isAdmin, isProjectModerator } from '../roles';\nimport { IUser } from 'services/users';\nimport { IProjectData } from 'services/projects';\n\ndefinePermissionRule(\n  'project',\n  'create',\n  (_project: IProjectData, user: IUser) => {\n    return isAdmin(user);\n  }\n);\n\ndefinePermissionRule(\n  'project',\n  'delete',\n  (_project: IProjectData, user: IUser) => {\n    return isAdmin(user);\n  }\n);\n\ndefinePermissionRule(\n  'project',\n  'reorder',\n  (_project: IProjectData, user: IUser) => {\n    return isAdmin(user);\n  }\n);\n\nexport function canModerateProject(\n  projectId: string | null | undefined,\n  user: IUser\n) {\n  if (projectId) {\n    return isAdmin(user) || isProjectModerator(user, projectId);\n  }\n\n  return isAdmin(user);\n}\n\ndefinePermissionRule(\n  'project',\n  'moderate',\n  (project: IProjectData, user: IUser) => {\n    return canModerateProject(project.id, user);\n  }\n);\n","// libraries\nimport React, { Component } from 'react';\nimport Link from 'utils/cl-router/Link';\nimport styled from 'styled-components';\nimport { DragDropContext } from 'react-dnd-cjs';\nimport HTML5Backend from 'react-dnd-html5-backend-cjs';\nimport { isEqual, clone } from 'lodash-es';\n\n// i18n\nimport { FormattedMessage, injectIntl } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\nimport messages from './messages';\nimport customfieldMessages from '../../../../admin/containers/CustomFields/messages';\nimport T from 'components/T';\n\n// components\nimport FeatureFlag from 'components/FeatureFlag';\nimport Button from 'components/UI/Button';\nimport { ButtonWrapper } from 'components/admin/PageWrapper';\nimport { List, SortableRow, TextCell } from 'components/admin/ResourceList';\nimport { Toggle, Badge, IconTooltip } from 'cl2-component-library';\n\nimport {\n  Section,\n  SubSectionTitleWithDescription,\n  SectionDescription,\n} from 'components/admin/Section';\n\n// services\nimport {\n  IUserCustomFieldData,\n  deleteUserCustomField,\n  updateCustomFieldForUsers,\n  reorderCustomFieldForUsers,\n  isBuiltInField,\n  isHiddenField,\n} from '../../../../services/userCustomFields';\n\n// resources\nimport GetUserCustomFields, {\n  GetUserCustomFieldsChildProps,\n} from '../../../../resources/GetUserCustomFields';\n\n// styling\nimport { colors } from 'utils/styleUtils';\n\nconst Buttons = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nconst StyledBadge = styled(Badge)`\n  margin-left: 10px;\n`;\n\nconst StyledTextCell = styled(TextCell)`\n  display: flex;\n`;\n\nconst TextCellContent = styled.span`\n  display: flex;\n  align-items: center;\n`;\n\nconst StyledIconTooltip = styled(IconTooltip)`\n  margin-left: 5px;\n`;\n\ninterface State {\n  itemsWhileDragging: IUserCustomFieldData[] | null;\n  isProcessing: boolean;\n}\n\nexport interface InputProps {}\n\ninterface DataProps {\n  userCustomFields: GetUserCustomFieldsChildProps;\n}\n\ninterface Props extends InputProps, DataProps {}\n\nclass CustomFields extends Component<Props & InjectedIntlProps, State> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      itemsWhileDragging: null,\n      isProcessing: false,\n    };\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    const { itemsWhileDragging } = this.state;\n    const prevCustomFieldsIds =\n      prevProps.userCustomFields &&\n      prevProps.userCustomFields.map((customField) => customField.id);\n    const nextCustomFieldsIds =\n      this.props.userCustomFields &&\n      this.props.userCustomFields.map((customField) => customField.id);\n\n    if (\n      itemsWhileDragging &&\n      !isEqual(prevCustomFieldsIds, nextCustomFieldsIds)\n    ) {\n      this.setState({ itemsWhileDragging: null });\n    }\n  }\n\n  handleOnDeleteClick = (customFieldId) => (event) => {\n    if (!this.state.isProcessing) {\n      const deleteMessage = this.props.intl.formatMessage(\n        messages.customFieldDeletionConfirmation\n      );\n      event.preventDefault();\n\n      if (window.confirm(deleteMessage)) {\n        this.setState({ itemsWhileDragging: null, isProcessing: true });\n        deleteUserCustomField(customFieldId).then(() => {\n          this.setState({ isProcessing: false });\n        });\n      }\n    }\n  };\n\n  handleOnEnabledToggle = (field: IUserCustomFieldData) => () => {\n    if (!this.state.isProcessing) {\n      this.setState({ isProcessing: true });\n      updateCustomFieldForUsers(field.id, {\n        enabled: !field.attributes.enabled,\n      }).then(() => {\n        const listItems = this.listItems();\n\n        if (!listItems) return;\n        const newListItems = clone(listItems);\n        newListItems.splice(field.attributes.ordering, 1, {\n          ...field,\n          attributes: {\n            ...field.attributes,\n            enabled: !field.attributes.enabled,\n          },\n        });\n        this.setState({\n          itemsWhileDragging: newListItems,\n          isProcessing: false,\n        });\n      });\n    }\n  };\n\n  handleDragRow = (fromIndex, toIndex) => {\n    if (!this.state.isProcessing) {\n      const listItems = this.listItems();\n\n      if (!listItems) return;\n\n      const itemsWhileDragging = clone(listItems);\n      itemsWhileDragging.splice(fromIndex, 1);\n      itemsWhileDragging.splice(toIndex, 0, listItems[fromIndex]);\n      this.setState({ itemsWhileDragging });\n    }\n  };\n\n  handleDropRow = (fieldId: string, toIndex: number) => {\n    const listItems = this.listItems();\n\n    if (!listItems) return;\n\n    const field = listItems.find((listItem) => listItem.id === fieldId);\n\n    if (field && field.attributes.ordering !== toIndex) {\n      this.setState({ isProcessing: true });\n      reorderCustomFieldForUsers(fieldId, { ordering: toIndex }).then(() =>\n        this.setState({ isProcessing: false })\n      );\n    } else {\n      this.setState({ itemsWhileDragging: null });\n    }\n  };\n\n  listItems = () => {\n    const { itemsWhileDragging } = this.state;\n    const { userCustomFields } = this.props;\n    return itemsWhileDragging || userCustomFields;\n  };\n\n  render() {\n    const {\n      intl: { formatMessage },\n    } = this.props;\n    const listItems = this.listItems() || [];\n    const listItemsLength = listItems.length;\n    let lastItem = false;\n\n    return (\n      <Section>\n        <SubSectionTitleWithDescription>\n          <FormattedMessage {...messages.registrationFields} />\n        </SubSectionTitleWithDescription>\n        <SectionDescription>\n          <FormattedMessage {...messages.subtitleRegistration} />\n        </SectionDescription>\n        <FeatureFlag name=\"user_custom_fields\">\n          <ButtonWrapper>\n            <Button\n              buttonStyle=\"cl-blue\"\n              icon=\"plus-circle\"\n              linkTo=\"/admin/settings/registration/custom-fields/new\"\n            >\n              <FormattedMessage {...messages.addAFieldButton} />\n            </Button>\n          </ButtonWrapper>\n        </FeatureFlag>\n\n        <List key={listItems.length}>\n          {listItems.map((field, index) => {\n            if (index === listItemsLength - 1) {\n              lastItem = true;\n            }\n            return (\n              <SortableRow\n                key={field.id}\n                id={field.id}\n                className=\"e2e-custom-registration-field-row\"\n                index={index}\n                lastItem={lastItem}\n                moveRow={this.handleDragRow}\n                dropRow={this.handleDropRow}\n              >\n                <Toggle\n                  className={`e2e-custom-registration-field-toggle ${\n                    field.attributes.enabled ? 'enabled' : 'disabled'\n                  }`}\n                  checked={field.attributes.enabled}\n                  disabled={isHiddenField(field)}\n                  onChange={this.handleOnEnabledToggle(field)}\n                />\n                <StyledTextCell className=\"expand\">\n                  <TextCellContent>\n                    <T value={field.attributes.title_multiloc} />\n                    {field.attributes.code === 'domicile' && (\n                      <StyledIconTooltip\n                        content={\n                          <FormattedMessage\n                            {...messages.domicileManagementInfo}\n                            values={{\n                              geographicAreasTabLink: (\n                                <Link to={'/admin/settings/areas'}>\n                                  {formatMessage(\n                                    messages.geographicAreasTabLinkText\n                                  )}\n                                </Link>\n                              ),\n                            }}\n                          />\n                        }\n                      />\n                    )}\n                  </TextCellContent>\n                  {field.attributes.required && (\n                    <StyledBadge className=\"inverse\" color={colors.clRed}>\n                      <FormattedMessage {...customfieldMessages.required} />\n                    </StyledBadge>\n                  )}\n                </StyledTextCell>\n                {isBuiltInField(field) && (\n                  <div>\n                    <FormattedMessage {...customfieldMessages.defaultField} />\n                  </div>\n                )}\n                {isHiddenField(field) && (\n                  <div>\n                    <FormattedMessage {...customfieldMessages.hiddenField} />\n                  </div>\n                )}\n                <Buttons>\n                  {!isBuiltInField(field) && !isHiddenField(field) && (\n                    <Button\n                      className={`e2e-delete-custom-field-btn e2e-${field.attributes.title_multiloc['en-GB']}`}\n                      onClick={this.handleOnDeleteClick(field.id)}\n                      buttonStyle=\"text\"\n                      icon=\"delete\"\n                    >\n                      <FormattedMessage\n                        {...customfieldMessages.deleteButtonLabel}\n                      />\n                    </Button>\n                  )}\n                  {!isHiddenField(field) && (\n                    <Button\n                      className={`e2e-custom-field-edit-btn e2e-${field.attributes.title_multiloc['en-GB']}`}\n                      linkTo={`/admin/settings/registration/custom-fields/${field.id}/field-settings`}\n                      buttonStyle=\"secondary\"\n                      icon=\"edit\"\n                    >\n                      <FormattedMessage\n                        {...customfieldMessages.editButtonLabel}\n                      />\n                    </Button>\n                  )}\n                </Buttons>\n              </SortableRow>\n            );\n          })}\n        </List>\n      </Section>\n    );\n  }\n}\n\nconst CustomFieldsListWithHoCs = DragDropContext(HTML5Backend)(\n  injectIntl<Props>(CustomFields)\n);\n\nexport default (inputProps: InputProps) => (\n  <GetUserCustomFields>\n    {(customFields) => (\n      <CustomFieldsListWithHoCs\n        {...inputProps}\n        userCustomFields={customFields}\n      />\n    )}\n  </GetUserCustomFields>\n);\n","import React from 'react';\nimport {\n  SectionWrapper,\n  SectionHeader,\n  SectionTitle,\n  SectionContent,\n  TEngageArticle,\n  renderArticle,\n} from './';\nimport AdminGuideArticle from './AdminGuideArticle';\nimport { Icon } from 'cl2-component-library';\nimport { colors } from 'utils/styleUtils';\n\n// analytics\nimport { trackEventByName } from 'utils/analytics';\nimport tracks from './tracks';\n\n// i18n\nimport { FormattedMessage, injectIntl } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\nimport messages from './messages';\n\nconst articles: TEngageArticle[] = [\n  'invitations_colleagues',\n  'invitations_target_audience',\n  'manual_emailing',\n];\ntype EngageMessages = {\n  [key in TEngageArticle]: ReactIntl.FormattedMessage.MessageDescriptor;\n};\n\nconst EngageSection = ({ intl: { formatMessage } }: InjectedIntlProps) => {\n  const handleClickExternalTrack = () => {\n    trackEventByName(tracks.externalLink.name, {\n      extra: { section: 'engage' },\n    });\n  };\n  const getHandleClickInteralTrack = (article) => () => {\n    trackEventByName(tracks.internalLink.name, {\n      extra: { article, section: 'engage' },\n    });\n  };\n\n  return (\n    <SectionWrapper>\n      <SectionHeader>\n        <SectionTitle color={colors.adminOrangeIcons}>\n          <Icon name={'engage'} />\n          <FormattedMessage tagName=\"h2\" {...messages.engageSectionTitle} />\n        </SectionTitle>\n        <a\n          href={formatMessage(messages.setupSectionLink)}\n          target=\"_blank\"\n          onClick={handleClickExternalTrack}\n          rel=\"noreferrer\"\n        >\n          <FormattedMessage {...messages.readCompleteGuide} />\n        </a>\n      </SectionHeader>\n      <SectionContent>\n        {articles.map((article, i) => {\n          const linkMessages: EngageMessages = {\n            invitations_colleagues: messages.engageArticle1Link,\n            invitations_target_audience: messages.engageArticle2Link,\n            manual_emailing: messages.engageArticle3Link,\n          };\n          const titleMessages: EngageMessages = {\n            invitations_colleagues: messages.engageArticle1Title,\n            invitations_target_audience: messages.engageArticle2Title,\n            manual_emailing: messages.engageArticle3Title,\n          };\n          const descriptionMessages: EngageMessages = {\n            invitations_colleagues: messages.engageArticle1Description,\n            invitations_target_audience: messages.engageArticle2Description,\n            manual_emailing: messages.engageArticle3Description,\n          };\n          const linkMessage = linkMessages[article];\n          const titleMessage = titleMessages[article];\n          const descriptionMessage = descriptionMessages[article];\n          const adminGuideArticle = (\n            <AdminGuideArticle\n              key={`engageArticle${i}`}\n              trackLink={getHandleClickInteralTrack(article)}\n              linkMessage={linkMessage}\n              titleMessage={titleMessage}\n              descriptionMessage={descriptionMessage}\n            />\n          );\n\n          return renderArticle(article, i, adminGuideArticle);\n        })}\n      </SectionContent>\n    </SectionWrapper>\n  );\n};\n\nexport default injectIntl(EngageSection);\n","import React, { memo, useCallback, useState } from 'react';\n\n// utils\nimport eventEmitter from 'utils/eventEmitter';\n\n// analytics\nimport { trackEventByName } from 'utils/analytics';\nimport tracks from '../../tracks';\n\n// components\nimport Button from 'components/UI/Button';\nimport UseTemplateModal from './UseTemplateModal';\n\n// i18n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from './messages';\n\n// style\nimport styled from 'styled-components';\nimport { colors, fontSizes } from 'utils/styleUtils';\nimport { darken } from 'polished';\n\nconst duration = 300;\nconst easing = 'cubic-bezier(0.165, 0.84, 0.44, 1)';\n\nconst Image = styled.div<{ src: string }>`\n  width: 100%;\n  height: 118px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  overflow: hidden;\n  border-radius: ${({ theme }) => theme.borderRadius};\n  background-repeat: no-repeat;\n  background-position: center center;\n  background-size: cover;\n  background-image: url(${({ src }) => src});\n  margin-bottom: 10px;\n  transition: all ${duration - 50}ms ease-out;\n`;\n\nconst Content = styled.div`\n  height: 400px;\n  background: #f2f4f5;\n  transition: all ${duration}ms ${easing};\n`;\n\nconst Title = styled.h3`\n  color: ${colors.adminTextColor};\n  font-size: ${fontSizes.xl}px;\n  font-weight: 500;\n  padding: 0;\n  margin: 0;\n  margin-top: 15px;\n  margin-bottom: 5px;\n`;\n\nconst Subtitle = styled.div`\n  color: #808080;\n`;\n\nconst Buttons = styled.div`\n  position: absolute;\n  left: 16px;\n  right: 16px;\n  bottom: -102px;\n  opacity: 0;\n  transition: all ${duration}ms ${easing};\n`;\n\nconst UseTemplateButton = styled(Button)``;\n\nconst MoreDetailsButton = styled(Button)`\n  margin-top: 10px;\n`;\n\nconst Container = styled.div`\n  width: 100%;\n  height: 263px;\n  padding: 16px;\n  border-radius: ${({ theme }) => theme.borderRadius};\n  background: #f2f4f5;\n  border: solid 1px #eaeaea;\n  overflow: hidden;\n  position: relative;\n\n  &:hover {\n    &.hasImage {\n      ${Image} {\n        opacity: 0;\n      }\n\n      ${Content} {\n        transform: translateY(-128px);\n      }\n    }\n\n    ${Buttons} {\n      opacity: 1;\n      transform: translateY(-118px);\n    }\n  }\n`;\n\ninterface Props {\n  projectTemplateId: string;\n  imageUrl: string | null;\n  title: string;\n  body: string;\n  className?: string;\n}\n\nconst ProjectTemplateCard = memo<Props>(\n  ({ projectTemplateId, imageUrl, title, body, className }) => {\n    const [modalOpened, setModalOpened] = useState<boolean>(false);\n\n    const onMoreDetailsBtnClick = useCallback(() => {\n      trackEventByName(tracks.moreDetailsButtonClicked, {\n        projectTemplateId,\n        title,\n      });\n      eventEmitter.emit<string>(\n        'ProjectTemplateCardClicked',\n        projectTemplateId\n      );\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    const onOpenModal = useCallback(() => {\n      trackEventByName(tracks.useTemplateButtonClicked, {\n        projectTemplateId,\n        title,\n      });\n      setModalOpened(true);\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    const onCloseModal = useCallback(() => {\n      trackEventByName(tracks.useTemplateModalClosed, {\n        projectTemplateId,\n        title,\n      });\n      setModalOpened(false);\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    return (\n      <Container className={`${className} ${imageUrl ? 'hasImage' : ''}`}>\n        {imageUrl && <Image src={imageUrl} />}\n\n        <Content>\n          <Title className=\"e2e-card-title\">{title}</Title>\n\n          <Subtitle>{body}</Subtitle>\n        </Content>\n\n        <Buttons>\n          <UseTemplateButton\n            onClick={onOpenModal}\n            buttonStyle=\"secondary\"\n            fullWidth={true}\n            bgColor={darken(0.05, colors.lightGreyishBlue)}\n            bgHoverColor={darken(0.1, colors.lightGreyishBlue)}\n          >\n            <FormattedMessage {...messages.useTemplate} />\n          </UseTemplateButton>\n\n          <MoreDetailsButton\n            onClick={onMoreDetailsBtnClick}\n            buttonStyle=\"admin-dark\"\n            fullWidth={true}\n          >\n            <FormattedMessage {...messages.moreDetails} />\n          </MoreDetailsButton>\n        </Buttons>\n\n        <UseTemplateModal\n          projectTemplateId={projectTemplateId}\n          opened={modalOpened}\n          close={onCloseModal}\n        />\n      </Container>\n    );\n  }\n);\n\nexport default ProjectTemplateCard;\n","import { IUser, deleteUser } from 'services/users';\nimport { IHttpMethod, Locale } from 'typings';\nimport { API_PATH, AUTH_PATH } from 'containers/App/constants';\nimport { getJwt, setJwt, removeJwt, decode } from 'utils/auth/jwt';\nimport { endsWith } from 'utils/helperUtils';\nimport request from 'utils/request';\nimport streams from 'utils/streams';\nimport clHistory from 'utils/cl-router/history';\nimport { removeLocale } from 'utils/cl-router/updateLocationDescriptor';\nimport eventEmitter from 'utils/eventEmitter';\n\nexport const authApiEndpoint = `${API_PATH}/users/me`;\n\nexport interface IUserToken {\n  jwt: string;\n}\n\nexport function authUserStream() {\n  return streams.get<IUser | null>({ apiEndpoint: authApiEndpoint });\n}\n\nexport interface ILockedField {\n  type: 'locked_attribute';\n  id: string;\n  attributes: {\n    name: 'first_name' | 'last_name' | 'email';\n  };\n}\n\nexport function lockedFieldsStream() {\n  return streams.get<{ data: ILockedField[] }>({\n    apiEndpoint: `${authApiEndpoint}/locked_attributes`,\n  });\n}\n\nexport async function signIn(email: string, password: string) {\n  try {\n    const bodyData = { auth: { email, password } };\n    const httpMethod: IHttpMethod = { method: 'POST' };\n    const { jwt } = await request<IUserToken>(\n      `${API_PATH}/user_token`,\n      bodyData,\n      httpMethod,\n      null\n    );\n    setJwt(jwt);\n    const authUser = await getAuthUserAsync();\n    await streams.reset();\n    return authUser;\n  } catch (error) {\n    signOut();\n    throw error;\n  }\n}\n\nexport async function signUp(\n  firstName: string,\n  lastName: string,\n  email: string,\n  password: string,\n  locale: Locale,\n  isInvitation: boolean | null | undefined,\n  token: string | undefined | null\n) {\n  const innerBodyData = {\n    email,\n    password,\n    locale,\n    first_name: firstName,\n    last_name: lastName,\n  };\n\n  const httpMethod: IHttpMethod = {\n    method: 'POST',\n  };\n\n  // eslint-disable-next-line no-useless-catch\n  try {\n    const signUpEndpoint =\n      isInvitation === true\n        ? `${API_PATH}/invites/by_token/${token}/accept`\n        : `${API_PATH}/users`;\n    const bodyData = { [token ? 'invite' : 'user']: innerBodyData };\n    await request(signUpEndpoint, bodyData, httpMethod, null);\n    const authenticatedUser = await signIn(email, password);\n    return authenticatedUser;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport function signOut() {\n  const jwt = getJwt();\n\n  if (jwt) {\n    const decodedJwt = decode(jwt);\n\n    removeJwt();\n\n    if (decodedJwt.logout_supported) {\n      const { provider, sub } = decodedJwt;\n      const url = `${AUTH_PATH}/${provider}/logout?user_id=${sub}`;\n      window.location.href = url;\n    } else {\n      streams.reset();\n      const { pathname } = removeLocale(location.pathname);\n\n      if (\n        pathname &&\n        (endsWith(pathname, '/sign-up') || pathname.startsWith('/admin'))\n      ) {\n        clHistory.push('/');\n      }\n    }\n  }\n}\n\nexport function signOutAndDeleteAccountPart1() {\n  setTimeout(() => eventEmitter.emit('tryAndDeleteProfile'), 500);\n  clHistory.push('/');\n}\n\nexport function signOutAndDeleteAccountPart2() {\n  return new Promise((resolve, _reject) => {\n    const jwt = getJwt();\n\n    if (jwt) {\n      const decodedJwt = decode(jwt);\n\n      const { provider, sub } = decodedJwt;\n\n      deleteUser(sub)\n        .then((_res) => {\n          removeJwt();\n          if (decodedJwt.logout_supported) {\n            const url = `${AUTH_PATH}/${provider}/logout?user_id=${sub}`;\n            window.location.href = url;\n          } else {\n            streams.reset();\n          }\n          clHistory.push('/');\n          resolve(true);\n        })\n        .catch((_res) => {\n          resolve(false);\n        });\n    }\n  });\n}\n\nexport async function getAuthUserAsync() {\n  try {\n    const authenticatedUser = await request<IUser>(\n      authApiEndpoint,\n      null,\n      null,\n      null\n    );\n    return authenticatedUser;\n  } catch {\n    signOut();\n    throw new Error('not_authenticated');\n  }\n}\n\nexport async function sendPasswordResetMail(email: string) {\n  // eslint-disable-next-line no-useless-catch\n  try {\n    const bodyData = {\n      user: {\n        email,\n      },\n    };\n    const httpMethod: IHttpMethod = { method: 'POST' };\n    const response = await request(\n      `${API_PATH}/users/reset_password_email`,\n      bodyData,\n      httpMethod,\n      null\n    );\n    return response;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function resetPassword(password: string, token: string) {\n  // eslint-disable-next-line no-useless-catch\n  try {\n    const bodyData = {\n      user: {\n        password,\n        token,\n      },\n    };\n    const httpMethod: IHttpMethod = { method: 'POST' };\n    const response = await request(\n      `${API_PATH}/users/reset_password`,\n      bodyData,\n      httpMethod,\n      null\n    );\n    return response;\n  } catch (error) {\n    throw error;\n  }\n}\n","import { useState, useEffect } from 'react';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { Observable, of } from 'rxjs';\nimport {\n  projectByIdStream,\n  projectBySlugStream,\n  IProject,\n  IProjectData,\n} from 'services/projects';\n\ninterface Props {\n  projectId?: string | null;\n  projectSlug?: string | null;\n}\n\nexport default function useProject({ projectId, projectSlug }: Props) {\n  const [project, setProject] = useState<IProjectData | undefined | null>(\n    undefined\n  );\n\n  useEffect(() => {\n    setProject(undefined);\n\n    let observable: Observable<IProject | null> = of(null);\n\n    if (projectId) {\n      observable = projectByIdStream(projectId).observable;\n    } else if (projectSlug) {\n      observable = projectBySlugStream(projectSlug).observable;\n    }\n\n    const subscription = observable.subscribe((response) => {\n      const project = !isNilOrError(response) ? response.data : null;\n      setProject(project);\n    });\n\n    return () => subscription.unsubscribe();\n  }, [projectId, projectSlug]);\n\n  return project;\n}\n","// libraries\nimport { PureComponent } from 'react';\nimport { Subscription, BehaviorSubject } from 'rxjs';\nimport { distinctUntilChanged, switchMap } from 'rxjs/operators';\n\n// utils\nimport shallowCompare from 'utils/shallowCompare';\n\n// typings\nimport { IStreamParams, IStream } from 'utils/streams';\n\nimport {\n  IIdeasByTopic,\n  ICommentsByTopic,\n  IVotesByTopic,\n  IIdeasByStatus,\n  IIdeasByProject,\n  ICommentsByProject,\n  IVotesByProject,\n} from 'services/stats';\n\nimport { IGraphFormat, IParticipationByTopic } from 'typings';\nimport { isNilOrError } from 'utils/helperUtils';\n\ninterface State {\n  serie: IGraphFormat | IParticipationByTopic | null | undefined;\n}\n\ntype children = (renderProps: {\n  serie: IGraphFormat | IParticipationByTopic | null | undefined;\n}) => JSX.Element | null;\n\nexport interface ISupportedDataTypeMap {\n  ideasByTopic: IIdeasByTopic;\n  commentsByTopic: ICommentsByTopic;\n  votesByTopic: IVotesByTopic;\n  ideasByProject: IIdeasByProject;\n  ideasByStatus: IIdeasByStatus;\n  votesByProject: IVotesByProject;\n  commentsByProject: ICommentsByProject;\n}\n\nexport type ISupportedDataType = ISupportedDataTypeMap[keyof ISupportedDataTypeMap];\n\ninterface QueryProps {\n  startAt?: string | undefined | null;\n  endAt: string | null;\n  currentGroupFilter?: string | null;\n  currentProjectFilter?: string | null;\n  currentTopicFilter?: string | null;\n  stream: (\n    streamParams?: IStreamParams | null,\n    customId?: string\n  ) => IStream<ISupportedDataType>;\n  customId?: string;\n}\n\ninterface Props extends QueryProps {\n  convertToGraphFormat: (\n    data: ISupportedDataType\n  ) => IGraphFormat | IParticipationByTopic | null;\n}\n\nexport default class GetSerieFromStream extends PureComponent<Props, State> {\n  private queryProps$: BehaviorSubject<QueryProps>;\n  private subscriptions: Subscription[];\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      serie: undefined,\n    };\n  }\n\n  componentDidMount() {\n    const {\n      startAt,\n      endAt,\n      currentGroupFilter,\n      currentProjectFilter,\n      currentTopicFilter,\n      stream,\n      convertToGraphFormat,\n      customId,\n    } = this.props;\n\n    this.queryProps$ = new BehaviorSubject({\n      startAt,\n      endAt,\n      currentGroupFilter,\n      currentProjectFilter,\n      currentTopicFilter,\n      stream,\n    });\n\n    this.subscriptions = [\n      this.queryProps$\n        .pipe(\n          distinctUntilChanged((prev, next) => shallowCompare(prev, next)),\n          switchMap(\n            ({\n              startAt,\n              endAt,\n              currentGroupFilter,\n              currentProjectFilter,\n              currentTopicFilter,\n              stream,\n            }) =>\n              stream(\n                {\n                  queryParameters: {\n                    start_at: startAt,\n                    end_at: endAt,\n                    group: currentGroupFilter,\n                    project: currentProjectFilter,\n                    topic: currentTopicFilter,\n                  },\n                },\n                customId\n              ).observable\n          )\n        )\n        .subscribe((serie) => {\n          const convertedSerie = !isNilOrError(serie)\n            ? convertToGraphFormat(serie)\n            : null;\n          this.setState({ serie: convertedSerie });\n        }),\n    ];\n  }\n\n  componentDidUpdate() {\n    const {\n      startAt,\n      endAt,\n      currentGroupFilter,\n      currentProjectFilter,\n      currentTopicFilter,\n      stream,\n    } = this.props;\n    this.queryProps$.next({\n      startAt,\n      endAt,\n      currentGroupFilter,\n      currentTopicFilter,\n      currentProjectFilter,\n      stream,\n    });\n  }\n\n  componentWillUnmount() {\n    this.subscriptions.forEach((subscription) => subscription.unsubscribe());\n  }\n\n  render() {\n    const { children } = this.props;\n    return (children as children)({\n      ...this.state,\n    });\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { adopt } from 'react-adopt';\n\nimport {\n  allCategories,\n  getDestinationConfigs,\n  IDestination,\n  IDestinationConfig,\n  isDestinationActive,\n  TCategory,\n} from './destinations';\n\n// utils\nimport { isNilOrError } from 'utils/helperUtils';\n\n// components\n\n// resources\nimport GetAuthUser, { GetAuthUserChildProps } from 'resources/GetAuthUser';\nimport Container from './Container';\nimport GetAppConfiguration, {\n  GetAppConfigurationChildProps,\n} from 'resources/GetAppConfiguration';\nimport {\n  getConsent,\n  IConsentCookie,\n  ISavedDestinations,\n  setConsent,\n} from './consent';\nimport eventEmitter from 'utils/eventEmitter';\nimport { IAppConfigurationData } from 'services/appConfiguration';\n\n// the format in which the user will make its choices,\nexport type IPreferences = Partial<Record<TCategory, boolean>>;\n\n// the format in which we'll present the destinations to the user\nexport type CategorizedDestinations = Record<TCategory, IDestination[]>;\n\ninterface InputProps {}\ninterface DataProps {\n  tenant: GetAppConfigurationChildProps;\n  authUser: GetAuthUserChildProps;\n}\ninterface Props extends InputProps, DataProps {}\n\ninterface State {\n  preferences: IPreferences;\n  cookieConsent: IConsentCookie | null;\n}\n\nexport class ConsentManager extends PureComponent<Props, State> {\n  constructor(props) {\n    super(props);\n\n    const cookieConsent = getConsent();\n\n    this.state = {\n      cookieConsent,\n      preferences: this.getCurrentPreferences(cookieConsent),\n    };\n\n    eventEmitter.emit<ISavedDestinations>(\n      'destinationConsentChanged',\n      cookieConsent?.savedChoices || {}\n    );\n  }\n\n  getActiveDestinations(): IDestinationConfig[] {\n    const { authUser, tenant } = this.props;\n    if (isNilOrError(tenant)) return [];\n    return getDestinationConfigs().filter((config) =>\n      isDestinationActive(config, tenant, authUser)\n    );\n  }\n\n  getCategory(\n    tenant: IAppConfigurationData,\n    destinationConfig: IDestinationConfig\n  ) {\n    return typeof destinationConfig.category === 'function'\n      ? destinationConfig.category(tenant)\n      : destinationConfig.category;\n  }\n\n  categorizeDestinations(\n    destinations: IDestinationConfig[]\n  ): CategorizedDestinations {\n    const { tenant } = this.props;\n    const output = {};\n    allCategories().forEach((category) => (output[category] = []));\n\n    if (isNilOrError(tenant)) {\n      return output as CategorizedDestinations;\n    }\n\n    destinations.forEach((destinationConfig) => {\n      const category = this.getCategory(tenant, destinationConfig);\n      output[category].push(destinationConfig.key);\n    });\n\n    return output as CategorizedDestinations;\n  }\n\n  getCurrentPreferences(cookieConsent: IConsentCookie | null) {\n    const newDestinations = this.getActiveDestinations().filter(\n      (config) => cookieConsent?.savedChoices[config.key] === undefined\n    );\n\n    const output = {};\n    allCategories().forEach((category) => {\n      // if it was enabled and there's a new destination\n      if (\n        !cookieConsent ||\n        (cookieConsent[category] &&\n          newDestinations.find((config) => config.category === category))\n      ) {\n        // reset the category\n        output[category] = undefined;\n      } else {\n        // keep the previous value\n        output[category] = cookieConsent[category];\n      }\n    });\n    return output;\n  }\n\n  setPreferences = (changedPreference) => {\n    this.setState((state) => ({\n      ...state,\n      preferences: { ...state.preferences, ...changedPreference },\n    }));\n  };\n\n  resetPreferences = () => {\n    this.setState((state) => ({\n      ...state,\n      preferences: this.getCurrentPreferences(state.cookieConsent),\n    }));\n  };\n\n  saveConsent = () => {\n    const { preferences, cookieConsent } = this.state;\n    const { tenant } = this.props;\n\n    if (isNilOrError(tenant)) return;\n\n    const newChoices: ISavedDestinations = {};\n    this.getActiveDestinations().forEach((config) => {\n      newChoices[config.key] = preferences[this.getCategory(tenant, config)];\n    });\n\n    setConsent({\n      ...preferences,\n      savedChoices: {\n        ...cookieConsent?.savedChoices,\n        ...newChoices,\n      },\n    });\n\n    eventEmitter.emit<ISavedDestinations>(\n      'destinationConsentChanged',\n      newChoices\n    );\n\n    this.setState({ cookieConsent: getConsent() });\n  };\n\n  accept = () => {\n    this.setState(\n      (state) => {\n        const newPreferences = {};\n        allCategories().forEach((category) => {\n          if (state.preferences[category] === undefined) {\n            newPreferences[category] = true;\n          }\n        });\n        return {\n          ...state,\n          preferences: {\n            ...state.preferences,\n            ...newPreferences,\n          },\n        };\n      },\n      () => this.saveConsent()\n    );\n  };\n\n  toggleDefault = (modalOpened) => {\n    this.setState((state) => {\n      const newPreferences = {};\n      allCategories().forEach((category) => {\n        // set to false when opening the modal\n        if (!modalOpened) {\n          if (state.preferences[category] === undefined) {\n            newPreferences[category] = false;\n          }\n        }\n        // reset false to undefined when closing the modal\n        else if (state.preferences[category] === false) {\n          newPreferences[category] = undefined;\n        }\n      });\n      return {\n        ...state,\n        preferences: {\n          ...state.preferences,\n          ...newPreferences,\n        },\n      };\n    });\n  };\n\n  render() {\n    const { tenant, authUser } = this.props;\n    const { preferences, cookieConsent } = this.state;\n\n    const activeDestinations = this.getActiveDestinations();\n\n    const activeCategorizedDestinations = this.categorizeDestinations(\n      activeDestinations\n    );\n\n    const isConsentRequired =\n      !cookieConsent ||\n      !!activeDestinations.find(\n        (destination) =>\n          !Object.keys(cookieConsent?.savedChoices).includes(destination.key)\n      );\n\n    if (!isNilOrError(tenant) && authUser !== undefined) {\n      return (\n        <Container\n          accept={this.accept}\n          onToggleModal={this.toggleDefault}\n          setPreferences={this.setPreferences}\n          resetPreferences={this.resetPreferences}\n          saveConsent={this.saveConsent}\n          isConsentRequired={isConsentRequired}\n          preferences={preferences}\n          categorizedDestinations={activeCategorizedDestinations}\n        />\n      );\n    }\n\n    return null;\n  }\n}\n\nconst Data = adopt<DataProps, InputProps>({\n  tenant: <GetAppConfiguration />,\n  authUser: <GetAuthUser />,\n});\n\nexport default (inputProps: InputProps) => (\n  <Data {...inputProps}>\n    {(dataProps) => <ConsentManager {...inputProps} {...dataProps} />}\n  </Data>\n);\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  permissionTab: {\n    id: 'app.containers.Admin.initiatives.permissionTab',\n    defaultMessage: 'Participation Rights',\n  },\n  projectPermissionsTab: {\n    id:\n      'app.modules.granular_permissions.admin.components.projectPermissionsTab',\n    defaultMessage: 'Access rights',\n  },\n});\n","import React from 'react';\n\nimport FeatureFlag from 'components/FeatureFlag';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { media } from 'utils/styleUtils';\nimport styled from 'styled-components';\nimport TranslateButton from 'components/UI/TranslateButton';\nimport { GetLocaleChildProps } from 'resources/GetLocale';\nimport { GetInitiativeChildProps } from 'resources/GetInitiative';\n\nconst StyledTranslateButton = styled(TranslateButton)`\n  ${media.smallerThanMinTablet`\n    display: none;\n  `}\n`;\n\ninterface Props {\n  translateButtonClicked: boolean;\n  onClick: () => void;\n  initiative: GetInitiativeChildProps;\n  locale: GetLocaleChildProps;\n}\n\nconst ActionBarTranslateButton = ({\n  initiative,\n  locale,\n  onClick,\n  translateButtonClicked,\n}: Props) => {\n  const showTranslateButton =\n    !isNilOrError(initiative) &&\n    !isNilOrError(locale) &&\n    !initiative.attributes.title_multiloc[locale];\n\n  return (\n    <FeatureFlag name=\"machine_translations\">\n      {showTranslateButton && (\n        <StyledTranslateButton\n          translateButtonClicked={translateButtonClicked}\n          onClick={onClick}\n        />\n      )}\n    </FeatureFlag>\n  );\n};\n\nexport default ActionBarTranslateButton;\n","export { default as useProjectFolder } from './useProjectFolder';\nexport { default as useProjectFolderFiles } from './useProjectFolderFiles';\nexport { default as useProjectFolderImages } from './useProjectFolderImages';\nexport { default as useProjectFolderModerators } from './useProjectFolderModerators';\nexport { default as useProjectFolders } from './useProjectFolders';\n","import useFeatureFlag from 'hooks/useFeatureFlag';\nimport React, { FC } from 'react';\nimport styled from 'styled-components';\nimport { colors } from 'utils/styleUtils';\nimport { Icon } from 'cl2-component-library';\nimport { transparentize } from 'polished';\nimport FormattedMessage from 'utils/cl-intl/FormattedMessage';\n\nimport messages from './messages';\nimport adminUsersMessages from 'containers/Admin/users/messages';\n\nimport {\n  MoreInfoLink,\n  DescriptionText,\n  GroupType as BaseGroupType,\n  IconWrapper as BaseIconWrapper,\n  GroupDescription,\n  Step2Button,\n  GroupName,\n} from 'containers/Admin/users/GroupCreationStep1';\n\nimport { MembershipType } from 'services/groups';\n\nconst GroupType = styled(BaseGroupType)`\n  background: ${colors.background};\n`;\n\nconst IconWrapper = styled(BaseIconWrapper)`\n  background: ${transparentize(0.9, colors.adminOrangeIcons)};\n`;\n\nconst LightningBoltIcon = styled(Icon).attrs({ name: 'lightningBolt' })`\n  width: 28px;\n  height: 28px;\n  fill: ${colors.adminOrangeIcons};\n`;\n\nconst BlackedOut = styled.div`\n  position: absolute;\n  top: 0;\n  height: 100%;\n  width: 100%;\n  background-color: rgba(0, 0, 0, 0.8);\n  color: white;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding: 2rem;\n  text-align: center;\n`;\n\nconst Copy = styled.p`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst LockIcon = styled(Icon)`\n  width: 30px;\n  height: 30px;\n  margin-bottom: 30px;\n`;\n\nconst LearnMoreLink = styled.a`\n  color: white;\n  text-decoration: underline;\n\n  &:hover {\n    color: inherit;\n    cursor: pointer;\n    text-decoration: underline;\n  }\n`;\n\nexport interface SmartGroupTypeProps {\n  formattedLink: string;\n  onClick: (type: MembershipType) => () => any;\n}\n\nconst SmartGroupType: FC<SmartGroupTypeProps> = ({\n  formattedLink,\n  onClick,\n}) => {\n  const isSmartGroupsEnabled = useFeatureFlag('smart_groups');\n\n  return (\n    <GroupType className=\"rules\">\n      <IconWrapper>\n        <LightningBoltIcon />\n      </IconWrapper>\n      <GroupName>\n        <FormattedMessage {...adminUsersMessages.step1TypeNameSmart} />\n      </GroupName>\n      <GroupDescription>\n        <DescriptionText>\n          <FormattedMessage {...adminUsersMessages.step1TypeDescriptionSmart} />\n        </DescriptionText>\n        <MoreInfoLink href={formattedLink} target=\"_blank\">\n          <FormattedMessage {...adminUsersMessages.step1LearnMoreGroups} />\n        </MoreInfoLink>\n      </GroupDescription>\n      <Step2Button\n        disabled={!isSmartGroupsEnabled}\n        className=\"e2e-create-rules-group-button\"\n        buttonStyle=\"cl-blue\"\n        onClick={onClick('rules')}\n      >\n        <FormattedMessage {...adminUsersMessages.step1CreateButtonSmart} />\n      </Step2Button>\n      {!isSmartGroupsEnabled && (\n        <BlackedOut>\n          <LockIcon name=\"lock\" />\n          <Copy>\n            <FormattedMessage {...messages.smartGroupsAvailability} />\n          </Copy>\n          <LearnMoreLink href=\"https://www.citizenlab.co/plans\" target=\"_blank\">\n            <FormattedMessage {...messages.learnMorePlans} />\n          </LearnMoreLink>\n        </BlackedOut>\n      )}\n    </GroupType>\n  );\n};\n\nexport default SmartGroupType;\n","// libraries\nimport React from 'react';\nimport { isEmpty } from 'lodash-es';\n\n// intl\nimport { injectIntl, FormattedMessage } from 'utils/cl-intl';\nimport { InjectedIntlProps } from 'react-intl';\nimport messages from '../../messages';\n\n// styling\nimport { withTheme } from 'styled-components';\n\n// components\nimport ReportExportMenu from 'components/admin/ReportExportMenu';\nimport {\n  BarChart,\n  Bar,\n  Tooltip,\n  XAxis,\n  YAxis,\n  ResponsiveContainer,\n  LabelList,\n} from 'recharts';\nimport {\n  IGraphUnit,\n  NoDataContainer,\n  GraphCardHeader,\n  GraphCardTitle,\n  GraphCard,\n  GraphCardInner,\n} from 'components/admin/Chart';\n\n// resources\nimport GetSerieFromStream from 'resources/GetSerieFromStream';\n\n// types\nimport { IStreamParams, IStream } from 'utils/streams';\n\nimport { IGraphFormat } from 'typings';\n\ninterface DataProps {\n  serie: IGraphFormat;\n}\n\nexport interface ISupportedDataTypeMap {}\n\nexport type ISupportedDataType = ISupportedDataTypeMap[keyof ISupportedDataTypeMap];\n\ninterface InputProps {\n  stream: (\n    streamParams?: IStreamParams | null,\n    customId?: string\n  ) => IStream<ISupportedDataType>;\n  convertToGraphFormat: (data: ISupportedDataType) => IGraphFormat | null;\n  startAt: string | null | undefined;\n  endAt: string | null;\n  currentGroupFilter: string | undefined;\n  currentGroupFilterLabel: string | undefined;\n  graphTitleString: string;\n  graphUnit: IGraphUnit;\n  className?: string;\n  customId?: string;\n  xlsxEndpoint: string;\n}\n\ninterface Props extends InputProps, DataProps {}\n\nexport class BarChartByCategory extends React.PureComponent<\n  Props & InjectedIntlProps\n> {\n  currentChart: React.RefObject<any>;\n  constructor(props: Props & InjectedIntlProps) {\n    super(props as any);\n    this.currentChart = React.createRef();\n  }\n  render() {\n    const {\n      newBarFill,\n      barFill,\n      chartLabelSize,\n      chartLabelColor,\n      barHoverColor,\n      animationBegin,\n      animationDuration,\n    } = this.props['theme'];\n    const {\n      currentGroupFilterLabel,\n      currentGroupFilter,\n      xlsxEndpoint,\n      className,\n      graphTitleString,\n      serie,\n      intl: { formatMessage },\n      graphUnit,\n    } = this.props;\n\n    const noData =\n      !serie || serie.every((item) => isEmpty(item)) || serie.length <= 0;\n\n    const unitName = formatMessage(messages[graphUnit]);\n\n    return (\n      <GraphCard className={className}>\n        <GraphCardInner>\n          <GraphCardHeader>\n            <GraphCardTitle>{graphTitleString}</GraphCardTitle>\n            {!noData && (\n              <ReportExportMenu\n                name={graphTitleString}\n                svgNode={this.currentChart}\n                xlsxEndpoint={xlsxEndpoint}\n                currentGroupFilterLabel={currentGroupFilterLabel}\n                currentGroupFilter={currentGroupFilter}\n              />\n            )}\n          </GraphCardHeader>\n          {noData ? (\n            <NoDataContainer>\n              <FormattedMessage {...messages.noData} />\n            </NoDataContainer>\n          ) : (\n            <ResponsiveContainer>\n              <BarChart\n                data={serie}\n                margin={{ right: 40 }}\n                ref={this.currentChart}\n                layout=\"horizontal\"\n              >\n                <Bar\n                  dataKey=\"value\"\n                  name={unitName}\n                  fill={newBarFill}\n                  animationDuration={animationDuration}\n                  animationBegin={animationBegin}\n                  isAnimationActive={true}\n                >\n                  <LabelList fill={barFill} fontSize={chartLabelSize} />\n                </Bar>\n                <XAxis\n                  dataKey=\"name\"\n                  stroke={chartLabelColor}\n                  fontSize={chartLabelSize}\n                  tick={{ transform: 'translate(0, 7)' }}\n                />\n                <YAxis stroke={chartLabelColor} fontSize={chartLabelSize} />\n                <Tooltip\n                  isAnimationActive={false}\n                  cursor={{\n                    fill: barHoverColor,\n                  }}\n                />\n              </BarChart>\n            </ResponsiveContainer>\n          )}\n        </GraphCardInner>\n      </GraphCard>\n    );\n  }\n}\n\nconst BarChartByCategoryWithHoCs = injectIntl<Props>(\n  withTheme(BarChartByCategory as any) as any\n);\n\nconst WrappedBarChartByCategory = (inputProps: InputProps) => (\n  <GetSerieFromStream {...inputProps}>\n    {(serie) => <BarChartByCategoryWithHoCs {...serie} {...inputProps} />}\n  </GetSerieFromStream>\n);\n\nexport default WrappedBarChartByCategory;\n","import 'services/verificationMethods';\n\ndeclare module 'services/verificationMethods' {\n  export interface IVerificationMethodNamesMap {\n    bosa_fas: 'bosa_fas';\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { adopt } from 'react-adopt';\nimport qs from 'qs';\n\n// styling\nimport styled from 'styled-components';\n\n// resources\nimport GetAppConfiguration, {\n  GetAppConfigurationChildProps,\n} from 'resources/GetAppConfiguration';\nimport GetFeatureFlag, {\n  GetFeatureFlagChildProps,\n} from 'resources/GetFeatureFlag';\n\nconst StyledIframe = styled.iframe`\n  border: 0;\n  height: ${(props) => (props.height ? `${props.height}px` : 'auto')};\n  width: 100%;\n`;\n\ninterface DataProps {\n  tenant: GetAppConfigurationChildProps;\n  fragmentsFeatureFlag: GetFeatureFlagChildProps;\n}\n\ninterface InputProps {\n  name: string;\n  title?: string;\n  children?: any;\n  className?: string;\n  queryParameters?: { [key: string]: string };\n}\n\ninterface Props extends DataProps, InputProps {}\n\ninterface State {\n  iframeHeight?: number;\n}\n\n/**\n * Wrap content in a named fragment to allow the content to be overridden\n * for a specific tenant\n */\nclass Fragment extends PureComponent<Props, State> {\n  iframeNode: HTMLIFrameElement;\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      iframeHeight: undefined,\n    };\n  }\n\n  fragmentUrl = (): string => {\n    const { tenant, queryParameters } = this.props;\n    if (!isNilOrError(tenant)) {\n      const params = qs.stringify(queryParameters, { addQueryPrefix: true });\n      return `/fragments/${tenant.id}/${this.props.name}.html${params}`;\n    } else {\n      return '';\n    }\n  };\n\n  fragmentActive = (): boolean => {\n    const { tenant, fragmentsFeatureFlag } = this.props;\n    if (\n      isNilOrError(tenant) ||\n      !fragmentsFeatureFlag ||\n      !tenant.attributes.settings.fragments\n    ) {\n      return false;\n    }\n    {\n      return tenant.attributes.settings.fragments.enabled_fragments.includes(\n        this.props.name\n      );\n    }\n  };\n\n  setIframeRef = (ref) => {\n    this.iframeNode = ref;\n  };\n\n  setIframeHeight = () => {\n    if (this.iframeNode && this.iframeNode.contentWindow) {\n      this.setState({\n        iframeHeight:\n          this.iframeNode.contentWindow.document.body.scrollHeight * 1.1,\n      });\n    }\n  };\n\n  render() {\n    const { children, title, className } = this.props;\n    const { iframeHeight } = this.state;\n\n    if (this.fragmentActive()) {\n      return (\n        <StyledIframe\n          className={className}\n          title={title}\n          ref={this.setIframeRef}\n          src={this.fragmentUrl()}\n          height={iframeHeight}\n          onLoad={this.setIframeHeight}\n        />\n      );\n    } else {\n      return children || null;\n    }\n  }\n}\n\nconst Data = adopt<DataProps, InputProps>({\n  tenant: <GetAppConfiguration />,\n  fragmentsFeatureFlag: <GetFeatureFlag name=\"fragments\" />,\n});\n\nexport default (inputProps: InputProps) => (\n  <Data {...inputProps}>\n    {(dataProps) => <Fragment {...inputProps} {...dataProps} />}\n  </Data>\n);\n","import React from 'react';\nimport { Subscription } from 'rxjs';\nimport {\n  currentAppConfigurationStream,\n  IAppConfigurationData,\n} from 'services/appConfiguration';\nimport { isNilOrError } from 'utils/helperUtils';\n\ninterface InputProps {}\n\ntype children = (\n  renderProps: GetAppConfigurationChildProps\n) => JSX.Element | null;\n\ninterface Props extends InputProps {\n  children?: children;\n}\n\ninterface State {\n  tenant: IAppConfigurationData | undefined | null | Error;\n}\n\nexport type GetAppConfigurationChildProps =\n  | IAppConfigurationData\n  | undefined\n  | null\n  | Error;\n\nexport default class GetAppConfiguration extends React.Component<Props, State> {\n  private subscriptions: Subscription[];\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      tenant: undefined,\n    };\n  }\n\n  componentDidMount() {\n    const currentTenant$ = currentAppConfigurationStream().observable;\n\n    this.subscriptions = [\n      currentTenant$.subscribe((currentTenant) => {\n        this.setState({\n          tenant: !isNilOrError(currentTenant)\n            ? currentTenant.data\n            : currentTenant,\n        });\n      }),\n    ];\n  }\n\n  componentWillUnmount() {\n    this.subscriptions.forEach((subscription) => subscription.unsubscribe());\n  }\n\n  render() {\n    const { children } = this.props;\n    const { tenant } = this.state;\n    return (children as children)(tenant);\n  }\n}\n","import React, { ReactElement } from 'react';\nimport { FormattedMessage } from 'utils/cl-intl';\nimport styled from 'styled-components';\nimport { fontSizes } from 'utils/styleUtils';\nimport messages from './messages';\n\nconst OrContainer = styled.div`\n  display: flex;\n  align-items: center;\n  margin-top: 15px;\n  margin-bottom: 25px;\n`;\n\nconst Line = styled.span`\n  flex: 1;\n  height: 1px;\n  background: #e0e0e0;\n`;\n\nconst OrText = styled.div`\n  color: ${(props: any) => props.theme.colorText};\n  font-size: ${fontSizes.base}px;\n  font-weight: 300;\n  text-transform: lowercase;\n  padding-left: 10px;\n  padding-right: 10px;\n`;\n\nconst Or = (): ReactElement => {\n  return (\n    <OrContainer aria-hidden>\n      <Line />\n      <OrText>\n        <FormattedMessage {...messages.or} />\n      </OrText>\n      <Line />\n    </OrContainer>\n  );\n};\n\nexport default Or;\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  continue: {\n    id: 'app.components.SignUpIn.continue',\n    defaultMessage: 'Continue',\n  },\n});\n","import React, { PureComponent, ReactNode } from 'react';\nimport { Range, getTrackBackground } from 'react-range';\nimport styled from 'styled-components';\nimport { colors, defaultOutline } from 'utils/styleUtils';\n\nconst Container = styled.div`\n  display: flex;\n  justify-content: center;\n  flex-wrap: wrap;\n\n  & .thumb {\n    &:not(.dragged):hover {\n      border-color: #333 !important;\n    }\n\n    &.dragged {\n      border-color: #333 !important;\n      background: linear-gradient(180deg, #e0e0e0 40%, #fff 100%) !important;\n    }\n\n    &:focus {\n      outline: none;\n    }\n\n    &.focus-visible {\n      ${defaultOutline};\n    }\n  }\n`;\n\ninterface Props {\n  step: number;\n  min: number;\n  max: number;\n  value: number;\n  onChange: (value: number) => void;\n  className?: string;\n}\n\ninterface State {}\n\ninterface IThumbProps {\n  key: number;\n  style: React.CSSProperties;\n  tabIndex?: number;\n  'aria-valuemax': number;\n  'aria-valuemin': number;\n  'aria-valuenow': number;\n  draggable: boolean;\n  role: string;\n  onKeyDown: (e: React.KeyboardEvent) => void;\n  onKeyUp: (e: React.KeyboardEvent) => void;\n}\n\ninterface ITrackProps {\n  style: React.CSSProperties;\n  ref: React.RefObject<any>;\n  onMouseDown: (e: React.MouseEvent) => void;\n  onTouchStart: (e: React.TouchEvent) => void;\n}\n\nclass RangeInput extends PureComponent<Props, State> {\n  handleOnChange = (values: number[]) => {\n    this.props.onChange(values[0]);\n  };\n\n  render() {\n    const track = ({\n      props,\n      children,\n    }: {\n      props: ITrackProps;\n      children: ReactNode;\n    }) => (\n      <div\n        role=\"button\"\n        onMouseDown={props.onMouseDown}\n        onTouchStart={props.onTouchStart}\n        style={{\n          ...props.style,\n          height: '36px',\n          display: 'flex',\n          width: '100%',\n        }}\n      >\n        <div\n          ref={props.ref}\n          style={{\n            height: '2px',\n            width: '100%',\n            borderRadius: '4px',\n            background: getTrackBackground({\n              values: [this.props.value],\n              colors: [colors.label, '#e0e0e0'],\n              min: this.props.min,\n              max: this.props.max,\n            }),\n            alignSelf: 'center',\n          }}\n        >\n          {children}\n        </div>\n      </div>\n    );\n\n    const thumb = ({\n      props,\n      isDragged,\n    }: {\n      props: IThumbProps;\n      isDragged: boolean;\n    }) => (\n      <div\n        {...props}\n        style={{\n          ...props.style,\n          height: '25px',\n          width: '25px',\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center',\n          borderRadius: '50%',\n          border: 'solid 1px #999',\n          background: 'linear-gradient(180deg, #fff 40%, #e0e0e0 100%)',\n        }}\n        className={`thumb ${isDragged ? 'dragged' : ''}`}\n      >\n        <div\n          style={{\n            position: 'absolute',\n            top: '-32px',\n            color: '#fff',\n            fontWeight: 400,\n            fontSize: '14px',\n            padding: '2px 6px',\n            borderRadius: '4px',\n            backgroundColor: '#333',\n            display: isDragged ? 'block' : 'none',\n          }}\n        >\n          {this.props.value.toFixed(0)}\n        </div>\n      </div>\n    );\n\n    return (\n      <Container className={this.props.className || ''}>\n        <Range\n          values={[this.props.value]}\n          step={this.props.step}\n          min={this.props.min}\n          max={this.props.max}\n          onChange={this.handleOnChange}\n          renderTrack={track}\n          renderThumb={thumb}\n        />\n      </Container>\n    );\n  }\n}\n\nexport default RangeInput;\n","import React from 'react';\nimport { Subscription } from 'rxjs';\nimport { Locale } from 'typings';\nimport { localeStream } from 'services/locale';\n\ninterface InputProps {}\n\ntype children = (renderProps: GetLocaleChildProps) => JSX.Element | null;\n\ninterface Props extends InputProps {\n  children?: children;\n}\n\ninterface State {\n  locale: Locale | undefined | null;\n}\n\nexport type GetLocaleChildProps = Locale | undefined | null;\n\nexport default class GetLocale extends React.Component<Props, State> {\n  private subscriptions: Subscription[];\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      locale: undefined,\n    };\n  }\n\n  componentDidMount() {\n    const locale$ = localeStream().observable;\n\n    this.subscriptions = [\n      locale$.subscribe((locale) => {\n        this.setState({ locale });\n      }),\n    ];\n  }\n\n  componentWillUnmount() {\n    this.subscriptions.forEach((subscription) => subscription.unsubscribe());\n  }\n\n  render() {\n    const { children } = this.props;\n    const { locale } = this.state;\n    return (children as children)(locale);\n  }\n}\n","import React, { memo, useCallback, useState } from 'react';\nimport { isEmpty, get } from 'lodash-es';\nimport { reportError } from 'utils/loggingUtils';\nimport { API_PATH } from 'containers/App/constants';\nimport streams from 'utils/streams';\nimport { isNilOrError } from 'utils/helperUtils';\n\n// components\nimport { Input, IconTooltip } from 'cl2-component-library';\nimport Error from 'components/UI/Error';\nimport Collapse from 'components/UI/Collapse';\nimport {\n  FormContainer,\n  Title,\n  Form,\n  FormField,\n  StyledLabel,\n  LabelTextContainer,\n  Footer,\n  SubmitButton,\n  CancelButton,\n  HelpImage,\n} from 'modules/commercial/verification/citizen/components/styles';\n\n// hooks\nimport useAuthUser from 'hooks/useAuthUser';\n\n// services\nimport { verifyIDLookup } from '../services/verify';\n\n// i18n\nimport { InjectedIntlProps } from 'react-intl';\nimport { injectIntl, FormattedMessage } from 'utils/cl-intl';\nimport messages from '../messages';\nimport T from 'components/T';\n\n// typings\nimport { IDLookupMethod } from 'services/verificationMethods';\n\ninterface Props {\n  onCancel: () => void;\n  onVerified: () => void;\n  showHeader?: boolean;\n  inModal: boolean;\n  className?: string;\n  method: IDLookupMethod;\n}\n\nconst VerificationFormLookup = memo<Props & InjectedIntlProps>(\n  ({ onCancel, onVerified, showHeader, inModal, className, method, intl }) => {\n    const authUser = useAuthUser();\n\n    const [cardId, setCardId] = useState<string>('');\n    const [cardIdError, setCardIdError] = useState<string | null>(null);\n    const [formError, setFormError] = useState<string | null>(null);\n    const [showHelp, setShowHelp] = useState<boolean>(false);\n\n    const onCardIdChange = useCallback((cardId: string) => {\n      setCardIdError(null);\n      setCardId(cardId);\n    }, []);\n\n    const onSubmit = useCallback(\n      async (event: React.FormEvent<HTMLButtonElement>) => {\n        event.preventDefault();\n\n        const { formatMessage } = intl;\n        let hasEmptyFields = false;\n\n        // first reset the errors\n        setCardIdError(null);\n        setFormError(null);\n\n        if (isEmpty(cardId)) {\n          setCardIdError(formatMessage(messages.emptyFieldError));\n          hasEmptyFields = true;\n        }\n\n        if (!hasEmptyFields) {\n          try {\n            await verifyIDLookup(cardId);\n\n            const endpointsToRefetch = [\n              `${API_PATH}/users/me`,\n              `${API_PATH}/projects`,\n            ];\n            const partialEndpointsToRefetch = [\n              `${API_PATH}/projects/`,\n              `${API_PATH}/ideas/`,\n            ];\n\n            if (!isNilOrError(authUser)) {\n              endpointsToRefetch.push(`${API_PATH}/users/${authUser.id}`);\n            }\n\n            await streams.fetchAllWith({\n              apiEndpoint: endpointsToRefetch,\n              partialApiEndpoint: partialEndpointsToRefetch,\n            });\n\n            onVerified();\n          } catch (error) {\n            if (get(error, 'json.errors.base[0].error') === 'taken') {\n              setFormError(formatMessage(messages.takenFormError));\n            } else if (get(error, 'json.errors.base[0].error') === 'no_match') {\n              setFormError(formatMessage(messages.noMatchFormError));\n            } else if (\n              get(error, 'json.errors.cardId[0].error') === 'invalid'\n            ) {\n              setCardIdError(formatMessage(messages.invalidCardIdError));\n            } else {\n              reportError(error);\n              setFormError(formatMessage(messages.somethingWentWrongError));\n            }\n          }\n        }\n      },\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      [cardId, authUser]\n    );\n\n    const onCancelButtonClicked = useCallback(() => {\n      onCancel();\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    const onToggleHelpButtonClick = useCallback(() => {\n      setShowHelp((showHelp) => !showHelp);\n    }, []);\n\n    return (\n      <FormContainer className={className} inModal={inModal}>\n        {showHeader && (\n          <Title>\n            <strong>\n              <FormattedMessage {...messages.verifyYourIdentity} />\n            </strong>\n          </Title>\n        )}\n\n        <Form inModal={inModal}>\n          <FormField>\n            <StyledLabel htmlFor=\"cardId\">\n              <LabelTextContainer>\n                <T value={method.attributes.card_id_multiloc} />\n                <IconTooltip\n                  maxTooltipWidth={200}\n                  content={\n                    <T value={method.attributes.card_id_tooltip_multiloc} />\n                  }\n                />\n              </LabelTextContainer>\n              <Input\n                id=\"cardId\"\n                type=\"text\"\n                placeholder={method.attributes.card_id_placeholder}\n                onChange={onCardIdChange}\n                value={cardId}\n                error={cardIdError}\n              />\n            </StyledLabel>\n            <Collapse\n              opened={showHelp}\n              onToggle={onToggleHelpButtonClick}\n              label={<FormattedMessage {...messages.showHelp} />}\n            >\n              <HelpImage\n                src={method.attributes.explainer_image_url}\n                alt=\"help\"\n              />\n            </Collapse>\n          </FormField>\n\n          {formError && <Error text={formError} />}\n\n          <Footer>\n            <SubmitButton onClick={onSubmit}>\n              <FormattedMessage {...messages.submit} />\n            </SubmitButton>\n            <CancelButton\n              onClick={onCancelButtonClicked}\n              buttonStyle=\"secondary\"\n            >\n              <FormattedMessage {...messages.cancel} />\n            </CancelButton>\n          </Footer>\n        </Form>\n      </FormContainer>\n    );\n  }\n);\n\nexport default injectIntl<Props>(VerificationFormLookup);\n","import React, { PureComponent } from 'react';\n\n// components\nimport { Icon } from 'cl2-component-library';\n\n// utils\nimport { isPage } from 'utils/helperUtils';\n\n// style\nimport styled from 'styled-components';\nimport { fontSizes, colors } from 'utils/styleUtils';\nimport { darken } from 'polished';\n\nconst Text = styled.span<{ textColor?: string }>`\n  color: ${({ textColor }) => textColor ?? colors.text};\n  font-size: ${fontSizes.base}px;\n  font-weight: 400;\n  transition: all 100ms ease-out;\n  &::first-letter {\n    text-transform: uppercase;\n  }\n`;\n\nconst DropdownIcon = styled(Icon)<{ textColor?: string }>`\n  width: 10px;\n  height: 7px;\n  fill: ${({ textColor }) => textColor ?? colors.text};\n  transition: all 100ms ease-out;\n  margin-left: 7px;\n`;\n\nconst Container = styled.button<{ textColor?: string }>`\n  height: 24px;\n  cursor: pointer;\n\n  &.adminpage {\n    ${Text} {\n      color: ${colors.adminTextColor};\n    }\n\n    ${DropdownIcon} {\n      fill: ${colors.adminTextColor};\n    }\n  }\n\n  &:hover,\n  &:focus,\n  &.opened {\n    ${Text} {\n      color: ${({ textColor }) => darken(0.2, textColor ?? colors.text)};\n      text-decoration: underline;\n    }\n\n    ${DropdownIcon} {\n      fill: ${({ textColor }) => darken(0.2, textColor ?? colors.text)};\n    }\n  }\n`;\n\ninterface Props {\n  title: string | JSX.Element;\n  opened: boolean;\n  onClick: (arg: React.MouseEvent<HTMLButtonElement>) => void;\n  baseID: string;\n  className?: string;\n  textColor?: string;\n}\n\ninterface State {}\n\nexport default class Title extends PureComponent<Props, State> {\n  removeFocus = (event: React.MouseEvent<HTMLButtonElement>) => {\n    event.preventDefault();\n  };\n\n  handleOnClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n    this.props.onClick(event);\n  };\n\n  render() {\n    const { title, opened, baseID, className, textColor } = this.props;\n    const adminPage = isPage('admin', location.pathname);\n\n    return (\n      <Container\n        onMouseDown={this.removeFocus}\n        onClick={this.handleOnClick}\n        aria-expanded={opened}\n        id={`${baseID}-label`}\n        className={`e2e-filter-selector-button FilterSelectorTitle ${\n          opened ? 'opened' : ''\n        } ${className} ${adminPage ? 'adminpage' : ''}`}\n        aria-live=\"polite\"\n        textColor={textColor}\n      >\n        <Text className=\"FilterSelectorTitleText\" textColor={textColor}>\n          {title}\n        </Text>\n        <DropdownIcon\n          className=\"FilterSelectorTitleIcon\"\n          name=\"dropdown\"\n          ariaHidden\n          textColor={textColor}\n        />\n      </Container>\n    );\n  }\n}\n","import React, { memo } from 'react';\nimport { stopPropagation } from 'utils/helperUtils';\nimport { IThresholdReachedForAdminNotificationData } from 'services/notifications';\nimport messages from '../../messages';\nimport { FormattedMessage } from 'utils/cl-intl';\nimport Link from 'utils/cl-router/Link';\nimport T from 'components/T';\nimport NotificationWrapper from '../NotificationWrapper';\n\ninterface Props {\n  notification: IThresholdReachedForAdminNotificationData;\n}\n\nconst ThresholdReachedForAdminNotification = memo<Props>((props) => {\n  const { notification } = props;\n\n  return (\n    <NotificationWrapper\n      linkTo={`/initiatives/${notification.attributes.post_slug}`}\n      timing={notification.attributes.created_at}\n      icon=\"notification_status\"\n      isRead={!!notification.attributes.read_at}\n    >\n      <FormattedMessage\n        {...messages.thresholdReachedForAdmin}\n        values={{\n          post: (\n            <Link\n              to={`/initiatives/${notification.attributes.post_slug}`}\n              onClick={stopPropagation}\n            >\n              <T value={notification.attributes.post_title_multiloc} />\n            </Link>\n          ),\n        }}\n      />\n    </NotificationWrapper>\n  );\n});\n\nexport default ThresholdReachedForAdminNotification;\n","import React from 'react';\nimport { clone } from 'lodash-es';\nimport styled from 'styled-components';\nimport { TRule } from './rules';\n\n// components\nimport Button from 'components/UI/Button';\nimport Rule from './Rule';\n\n// i18n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from './messages';\n\n// tracking\nimport { injectTracks } from 'utils/analytics';\nimport tracks from 'containers/Admin/users/tracks';\n\n// styling\nimport { colors } from 'utils/styleUtils';\n\nconst Container = styled.div`\n  width: 560px;\n`;\n\nconst RulesList = styled.div`\n  margin: 0 -5px;\n`;\n\nconst AddButton = styled(Button)`\n  display: inline-flex;\n  align-items: center;\n  margin: 0;\n  margin-top: 15px;\n  padding: 0;\n\n  &:hover {\n    .buttonIcon {\n      fill: ${colors.adminTextColor};\n    }\n  }\n\n  .button {\n    padding: 0;\n  }\n\n  .buttonIcon {\n    fill: ${colors.clBlueDark};\n  }\n\n  .buttonText {\n    color: ${colors.adminTextColor};\n  }\n`;\n\ntype Props = {\n  rules: TRule[];\n  onChange: (rules: TRule[]) => void;\n};\n\ninterface State {}\n\ninterface Tracks {\n  trackConditionAdd: () => void;\n}\n\nclass UserFilterConditions extends React.PureComponent<Props & Tracks, State> {\n  handleOnChangeRule = (index) => (rule: TRule) => {\n    const newRules = clone(this.props.rules);\n    newRules.splice(index, 1, rule);\n    this.props.onChange(newRules);\n  };\n\n  handleOnRemoveRule = (index) => () => {\n    const newRules = clone(this.props.rules);\n    newRules.splice(index, 1);\n    this.props.onChange(newRules);\n  };\n\n  handleOnAddRule = () => {\n    this.props.trackConditionAdd();\n    const newRules = clone(this.props.rules);\n    newRules.push({});\n    this.props.onChange(newRules);\n  };\n\n  render() {\n    const { rules } = this.props;\n    return (\n      <Container>\n        <RulesList>\n          {rules.map((rule, index) => (\n            <Rule\n              key={index}\n              ruleName={`e2e-rule-${index}`}\n              rule={rule}\n              onChange={this.handleOnChangeRule(index)}\n              onRemove={this.handleOnRemoveRule(index)}\n              showLabels={index === 0}\n            />\n          ))}\n        </RulesList>\n        <AddButton\n          className=\"e2e-add-condition-button\"\n          onClick={this.handleOnAddRule}\n          icon=\"plus-circle\"\n          buttonStyle=\"text\"\n          justify=\"left\"\n        >\n          <FormattedMessage {...messages.addCondition} />\n        </AddButton>\n      </Container>\n    );\n  }\n}\n\nconst UserFilterConditionsWithHoc = injectTracks<Props>({\n  trackConditionAdd: tracks.conditionAdd,\n})(UserFilterConditions);\n\nexport default UserFilterConditionsWithHoc;\n\nimport { FieldProps } from 'formik';\n\nexport class FormikUserFilterConditions extends React.Component<\n  Props & FieldProps\n> {\n  handleOnChange = (newValue) => {\n    this.props.form.setFieldTouched(this.props.field.name, true);\n    this.props.form.setFieldValue(this.props.field.name, newValue);\n  };\n\n  render() {\n    const { value } = this.props.field;\n    return (\n      <UserFilterConditionsWithHoc\n        {...this.props}\n        onChange={this.handleOnChange}\n        rules={value}\n      />\n    );\n  }\n}\n","import React, { memo } from 'react';\n\n// typings\nimport { Locale } from 'typings';\n\n// styling\nimport styled from 'styled-components';\nimport { media, fontSizes } from 'utils/styleUtils';\nimport Outlet from 'components/Outlet';\n\nconst Container = styled.div<{ align: 'left' | 'center' }>`\n  width: ${({ align }) => (align === 'left' ? '100%' : 'auto')};\n`;\n\nexport const Title = styled.h1<{\n  color: string | undefined;\n  align: 'left' | 'center';\n}>`\n  width: 100%;\n  color: ${({ color, theme }) => color || theme.colorText};\n  font-size: ${fontSizes.xxxl}px;\n  font-weight: 500;\n  line-height: normal;\n  overflow-wrap: break-word;\n  word-wrap: break-word;\n  word-break: break-word;\n  margin: 0;\n  padding: 0;\n  z-index: 1;\n\n  ${media.smallerThanMaxTablet`\n    font-size: ${fontSizes.xxl}px;\n  `}\n`;\n\ninterface Props {\n  postId: string;\n  postType: 'idea' | 'initiative';\n  title: string;\n  locale?: Locale;\n  translateButtonClicked?: boolean;\n  className?: string;\n  color?: string;\n  align?: 'left' | 'center';\n}\n\nconst PostTitle = memo<Props>(\n  ({\n    postId,\n    postType,\n    title,\n    locale,\n    translateButtonClicked,\n    className,\n    color,\n    align = 'center',\n  }) => {\n    return (\n      <Container className={className} align={align}>\n        <Outlet\n          id=\"app.components.PostShowComponents.Title.translation\"\n          title={title}\n          postId={postId}\n          postType={postType}\n          color={color}\n          align={align}\n          translateButtonClicked={translateButtonClicked}\n          locale={locale}\n        >\n          {(outletComponents) =>\n            outletComponents.length > 0 ? (\n              <>{outletComponents}</>\n            ) : (\n              <Title id={`e2e-${postType}-title`} color={color} align={align}>\n                {title}\n              </Title>\n            )\n          }\n        </Outlet>\n      </Container>\n    );\n  }\n);\n\nexport default PostTitle;\n","import { useState, useEffect } from 'react';\nimport { isNilOrError } from 'utils/helperUtils';\nimport { Observable, of } from 'rxjs';\nimport {\n  inappropriateContentFlagByIdStream,\n  IInappropriateContentFlag,\n  IInappropriateContentFlagData,\n} from '../services/inappropriateContentFlags';\n\nexport default function useInappropriateContentFlag(\n  inappropriateContentFlagId: string\n) {\n  const [inappropriateContentFlag, setInappropriateContentFlag] = useState<\n    IInappropriateContentFlagData | undefined | null | Error\n  >(undefined);\n\n  useEffect(() => {\n    setInappropriateContentFlag(undefined);\n\n    let observable: Observable<IInappropriateContentFlag | null> = of(null);\n\n    observable = inappropriateContentFlagByIdStream(inappropriateContentFlagId)\n      .observable;\n\n    const subscription = observable.subscribe((response) => {\n      const idea = !isNilOrError(response) ? response.data : response;\n      setInappropriateContentFlag(idea);\n    });\n\n    return () => subscription.unsubscribe();\n  }, [inappropriateContentFlagId]);\n\n  return inappropriateContentFlag;\n}\n","import React from 'react';\nimport { ModuleConfiguration } from 'utils/moduleUtils';\nimport './services/verificationMethods';\nimport CowButton from './components/CowButton';\nimport VerificationFormCOW from './components/VerificationFormCOW';\n\nconst configuration: ModuleConfiguration = {\n  outlets: {\n    'app.components.VerificationModal.button': (props) => {\n      if (props.method.attributes.name !== 'cow') return null;\n      return <CowButton {...props} />;\n    },\n    'app.components.VerificationModal.methodStep': (props) => {\n      if (props.method.attributes.name !== 'cow') return null;\n\n      return <VerificationFormCOW {...props} />;\n    },\n  },\n};\n\nexport default configuration;\n","import React, { memo, useCallback, useState } from 'react';\nimport { isNilOrError } from 'utils/helperUtils';\n\n// components\nimport FeatureFlag from 'components/FeatureFlag';\n\n// i18n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from 'components/PostShowComponents/Comments/messages';\n\n// events\nimport { commentTranslateButtonClicked } from 'components/PostShowComponents/Comments/events';\n\n// analytics\nimport { trackEventByName } from 'utils/analytics';\nimport tracks from 'components/PostShowComponents/Comments/tracks';\n\n// style\nimport styled from 'styled-components';\nimport { colors, fontSizes } from 'utils/styleUtils';\n\n// types\nimport { GetCommentChildProps } from 'resources/GetComment';\nimport { GetLocaleChildProps } from 'resources/GetLocale';\nimport { GetAppConfigurationLocalesChildProps } from 'resources/GetAppConfigurationLocales';\n\nconst Container = styled.li`\n  display: flex;\n  align-items: center;\n  list-style: none;\n  margin: 0;\n  padding: 0;\n`;\n\nconst TranslateButton = styled.button`\n  color: ${colors.label};\n  font-size: ${fontSizes.small}px;\n  font-weight: 400;\n  white-space: nowrap;\n  cursor: pointer;\n  padding: 0;\n  margin: 0;\n  border: none;\n\n  &:hover {\n    color: #000;\n    text-decoration: underline;\n  }\n`;\n\ninterface Props {\n  comment: GetCommentChildProps;\n  locale: GetLocaleChildProps;\n  tenantLocales: GetAppConfigurationLocalesChildProps;\n  className?: string;\n}\n\nconst CommentTranslateButton = memo<Props>(\n  ({ comment, locale, tenantLocales, className }) => {\n    const [translateButtonClicked, setTranslateButtonClicked] = useState(false);\n\n    const onTranslate = useCallback(() => {\n      if (!isNilOrError(comment)) {\n        const {\n          clickGoBackToOriginalCommentButton,\n          clickTranslateCommentButton,\n        } = tracks;\n        const eventName = translateButtonClicked\n          ? clickGoBackToOriginalCommentButton\n          : clickTranslateCommentButton;\n        trackEventByName(eventName);\n        setTranslateButtonClicked((value) => !value);\n        commentTranslateButtonClicked(comment.id);\n      }\n    }, [comment, translateButtonClicked]);\n\n    if (\n      !isNilOrError(comment) &&\n      !isNilOrError(tenantLocales) &&\n      !isNilOrError(locale)\n    ) {\n      const commentBodyMultiloc = comment.attributes.body_multiloc;\n      const showTranslateButton = !!(\n        commentBodyMultiloc &&\n        !commentBodyMultiloc[locale] &&\n        tenantLocales.length > 1\n      );\n\n      if (showTranslateButton) {\n        return (\n          <FeatureFlag name=\"machine_translations\">\n            <Container className={`translate ${className || ''}`}>\n              <TranslateButton onClick={onTranslate}>\n                {!translateButtonClicked ? (\n                  <FormattedMessage {...messages.seeTranslation} />\n                ) : (\n                  <FormattedMessage {...messages.seeOriginal} />\n                )}\n              </TranslateButton>\n            </Container>\n          </FeatureFlag>\n        );\n      }\n    }\n\n    return null;\n  }\n);\n\nexport default styled(CommentTranslateButton)`\n  height: 30px;\n  margin-top: 6px;\n`;\n","import { useState, useEffect } from 'react';\nimport {\n  userCustomFieldsStream,\n  IUserCustomFieldData,\n  IUserCustomFieldInputType,\n} from '../services/userCustomFields';\n\ninterface Props {\n  inputTypes?: IUserCustomFieldInputType[];\n}\n\nexport default function useUserCustomFields({ inputTypes }: Props) {\n  const [userCustomFields, setUserCustomFields] = useState<\n    IUserCustomFieldData[] | undefined | null | Error\n  >(undefined);\n\n  useEffect(() => {\n    const subscription = userCustomFieldsStream({\n      queryParameters: { input_types: inputTypes },\n    }).observable.subscribe((userCustomFields) => {\n      setUserCustomFields(userCustomFields.data);\n    });\n\n    return () => subscription.unsubscribe();\n  }, [inputTypes]);\n\n  return userCustomFields;\n}\n","import { NavItem } from 'containers/Admin/sideBar';\nimport { FC, useEffect } from 'react';\nimport { getUrlLocale } from 'services/locale';\nimport { InsertConfigurationOptions } from 'typings';\n\ntype Props = {\n  onData: (data: InsertConfigurationOptions<NavItem>) => void;\n};\n\nconst NavItemComponent: FC<Props> = ({ onData }) => {\n  useEffect(\n    () =>\n      onData({\n        configuration: {\n          name: 'moderation',\n          link: '/admin/moderation',\n          iconName: 'moderation',\n          message: 'moderation',\n          featureName: 'moderation',\n          isActive: (pathName) =>\n            pathName.startsWith(\n              `${\n                getUrlLocale(pathName) ? `/${getUrlLocale(pathName)}` : ''\n              }/admin/moderation`\n            ),\n        },\n        insertAfterName: 'dashboard',\n      }),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  );\n  return null;\n};\n\nexport default NavItemComponent;\n","import React, { memo, useCallback } from 'react';\nimport { isNilOrError } from 'utils/helperUtils';\n\n// i18n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from './messages';\n\n// components\nimport Avatar from 'components/Avatar';\nimport Button from 'components/UI/Button';\nimport { Title } from './styles';\n\n// hooks\nimport useAuthUser from 'hooks/useAuthUser';\n\n// style\nimport styled from 'styled-components';\nimport { fontSizes, colors } from 'utils/styleUtils';\n\n// svg\nimport illustration from './illustration.svg';\n\nconst Container = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding-bottom: 30px;\n`;\n\nconst ImageAvatarContainer = styled.div`\n  position: relative;\n  margin-bottom: 30px;\n`;\n\nconst StyledAvatar = styled(Avatar)`\n  position: absolute;\n  bottom: 0;\n  left: calc(50% - 48px);\n`;\n\nconst Subtitle = styled.h2`\n  width: 100%;\n  max-width: 500px;\n  color: ${colors.text};\n  font-size: ${fontSizes.medium}px;\n  line-height: normal;\n  font-weight: 300;\n  text-align: center;\n  margin: 0;\n  padding: 0;\n`;\n\nconst ButtonWrapper = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  margin-top: 30px;\n`;\n\ninterface Props {\n  onClose: () => void;\n  className?: string;\n}\n\nexport default memo<Props>(({ onClose, className }) => {\n  const authUser = useAuthUser();\n\n  const handleOnClose = useCallback(() => {\n    onClose();\n  }, [onClose]);\n\n  if (!isNilOrError(authUser)) {\n    return (\n      <Container id=\"e2e-verification-success\" className={className}>\n        <ImageAvatarContainer aria-hidden>\n          <img src={illustration} alt=\"\" role=\"presentation\" />\n          <StyledAvatar userId={authUser.id} size={96} addVerificationBadge />\n        </ImageAvatarContainer>\n        <Title className=\"e2e-user-verified-success-modal-content\">\n          <strong>\n            <FormattedMessage {...messages.userVerifiedTitle} />\n          </strong>\n        </Title>\n        <Subtitle>\n          <FormattedMessage {...messages.userVerifiedSubtitle} />\n        </Subtitle>\n        <ButtonWrapper>\n          <Button onClick={handleOnClose}>\n            <FormattedMessage {...messages.close} />\n          </Button>\n        </ButtonWrapper>\n      </Container>\n    );\n  }\n\n  return null;\n});\n","// Adapted from https://github.com/ReactTraining/react-router/blob/master/packages/react-router/modules/matchPath.js\n// Because I couldn't find an equivalent in react router v3\n\nimport { pathToRegexp } from 'path-to-regexp';\nimport { RouteConfiguration } from 'utils/moduleUtils';\n\nconst cache = {};\nconst cacheLimit = 10000;\nlet cacheCount = 0;\n\nfunction compilePath(path, options) {\n  const cacheKey = `${options.end}${options.strict}${options.sensitive}`;\n  const pathCache = cache[cacheKey] || (cache[cacheKey] = {});\n\n  if (pathCache[path]) return pathCache[path];\n\n  const keys = [];\n  const regexp = pathToRegexp(path, keys, options);\n  const result = { regexp, keys };\n\n  if (cacheCount < cacheLimit) {\n    pathCache[path] = result;\n    cacheCount += 1;\n  }\n\n  return result;\n}\n\n/**\n * Public API for matching a URL pathname to a path.\n */\nfunction matchPath(pathname, options = {} as any) {\n  if (typeof options === 'string' || Array.isArray(options)) {\n    // eslint-disable-next-line no-param-reassign\n    options = { path: options };\n  }\n\n  const { path, exact = false, strict = false, sensitive = false } = options;\n\n  const paths = [].concat(path);\n\n  return paths.reduce((matched, path) => {\n    if (!path && path !== '') return null;\n    if (matched) return matched;\n\n    const { regexp, keys } = compilePath(path, {\n      strict,\n      sensitive,\n      end: exact,\n    });\n    const match = regexp.exec(pathname);\n\n    if (!match) return null;\n\n    const [url, ...values] = match;\n    const isExact = pathname === url;\n\n    if (exact && !isExact) return null;\n\n    return {\n      path, // the path used to match\n      isExact, // whether or not we matched exactly\n      url: path === '/' && url === '' ? '/' : url, // the matched portion of the URL\n      params: keys.reduce((memo, key, index) => {\n        memo[key.name] = values[index];\n        return memo;\n      }, {}),\n    };\n  }, null);\n}\n\nexport function getAllPathsFromRoutes(route) {\n  const res = [] as string[];\n  function makeRoute(head: string, path: string | undefined) {\n    if (path?.startsWith('/')) {\n      return path;\n    } else {\n      return `${head}/${path || ''}`;\n    }\n  }\n  function paths(route: RouteConfiguration, head: string) {\n    if (route.childRoutes) {\n      if (route.indexRoute) {\n        res.push(makeRoute(head, route.path));\n      }\n      route.childRoutes.forEach((r) => paths(r, makeRoute(head, route.path)));\n    } else {\n      res.push(makeRoute(head, route.path));\n    }\n  }\n  paths(route, '');\n  return res.map((path) => path.replaceAll('/*', ''));\n}\n\nexport default matchPath;\n","import { combineLatest, of, Observable } from 'rxjs';\nimport { switchMap, map, filter as rxFilter } from 'rxjs/operators';\n\n// i18n\nimport { getLocalized } from 'utils/i18n';\n\n// streams\nimport { projectFilesStream } from 'services/projectFiles';\nimport { projectImagesStream } from 'services/projectImages';\n\n// utils\nimport { convertUrlToUploadFileObservable } from 'utils/fileTools';\nimport { isNilOrError } from 'utils/helperUtils';\n\n// typings\nimport { UploadFile, Locale } from 'typings';\nimport { IProjectFormState, IProject } from 'services/projects';\nimport { IAppConfiguration } from 'services/appConfiguration';\nimport { IAreas } from 'services/areas';\n\nexport const getDefaultState = () =>\n  ({\n    processing: false,\n    project: undefined,\n    publicationStatus: 'draft',\n    projectType: 'timeline',\n    projectAttributesDiff: {\n      admin_publication_attributes: {\n        publication_status: 'draft',\n      },\n    },\n    projectHeaderImage: null,\n    presentationMode: 'card',\n    projectImages: [],\n    projectImagesToRemove: [],\n    projectFiles: [],\n    projectFilesToRemove: [],\n    titleError: null,\n    apiErrors: {},\n    saved: false,\n    areas: [],\n    areaType: 'all',\n    locale: 'en',\n    currentTenant: null,\n    areasOptions: [],\n    submitState: 'disabled',\n    slug: null,\n    showSlugErrorMessage: false,\n  } as IProjectFormState);\n\nexport function initSubscriptions(\n  locale$: Observable<Locale>,\n  currentTenant$: Observable<IAppConfiguration>,\n  areas$: Observable<IAreas>,\n  project$: Observable<IProject | null>\n) {\n  return [\n    combineLatest(locale$, currentTenant$, areas$, project$).subscribe(\n      ([locale, currentTenant, areas, project]) => {\n        this.setState((state) => {\n          const publicationStatus = project\n            ? project.data.attributes.publication_status\n            : state.publicationStatus;\n          const projectType = project\n            ? project.data.attributes.process_type\n            : state.projectType;\n          const areaType =\n            project && project.data.relationships.areas.data.length > 0\n              ? 'selection'\n              : 'all';\n          const areasOptions = areas.data.map((area) => ({\n            value: area.id,\n            label: getLocalized(\n              area.attributes.title_multiloc,\n              locale,\n              currentTenant.data.attributes.settings.core.locales\n            ),\n          }));\n          const slug = project ? project.data.attributes.slug : null;\n\n          const newState: IProjectFormState = {\n            ...state,\n            locale,\n            currentTenant,\n            project,\n            publicationStatus,\n            projectType,\n            areaType,\n            areasOptions,\n            slug,\n            presentationMode:\n              (project && project.data.attributes.presentation_mode) ||\n              state.presentationMode,\n            areas: areas.data,\n            projectAttributesDiff: {\n              admin_publication_attributes: {\n                publication_status: publicationStatus,\n              },\n            },\n          };\n\n          if (project && this.props.isProjectFoldersEnabled) {\n            newState.folder_id = project.data.attributes.folder_id;\n          }\n\n          return newState;\n        });\n      }\n    ),\n\n    project$\n      .pipe(\n        switchMap((project) => {\n          if (project) {\n            const headerUrl = project.data.attributes.header_bg.large;\n            const projectHeaderImage$ = headerUrl\n              ? convertUrlToUploadFileObservable(headerUrl, null, null)\n              : of(null);\n\n            const projectFiles$ = project\n              ? projectFilesStream(project.data.id).observable.pipe(\n                  switchMap((projectFiles) => {\n                    if (\n                      projectFiles &&\n                      projectFiles.data &&\n                      projectFiles.data.length > 0\n                    ) {\n                      return combineLatest(\n                        projectFiles.data.map((projectFile) => {\n                          const url = projectFile.attributes.file.url;\n                          const filename = projectFile.attributes.name;\n                          const id = projectFile.id;\n                          return convertUrlToUploadFileObservable(\n                            url,\n                            id,\n                            filename\n                          );\n                        })\n                      );\n                    }\n\n                    return of([]);\n                  })\n                )\n              : of([]);\n\n            const projectImages$ = project\n              ? projectImagesStream(project.data.id).observable.pipe(\n                  switchMap((projectImages) => {\n                    if (\n                      projectImages &&\n                      projectImages.data &&\n                      projectImages.data.length > 0\n                    ) {\n                      return combineLatest(\n                        projectImages.data\n                          .filter((projectImage) => {\n                            return !!(\n                              projectImage.attributes.versions &&\n                              projectImage.attributes.versions.large\n                            );\n                          })\n                          .map((projectImage) => {\n                            const url = projectImage.attributes.versions\n                              .large as string;\n                            return convertUrlToUploadFileObservable(\n                              url,\n                              projectImage.id,\n                              null\n                            );\n                          })\n                      );\n                    }\n\n                    return of([]);\n                  })\n                )\n              : of([]);\n\n            return combineLatest(\n              this.processing$,\n              projectHeaderImage$,\n              projectFiles$,\n              projectImages$\n            ).pipe(\n              rxFilter(([processing]) => !processing),\n              map(\n                ([\n                  _processing,\n                  projectHeaderImage,\n                  projectFiles,\n                  projectImages,\n                ]) => ({\n                  projectHeaderImage,\n                  projectFiles,\n                  projectImages,\n                })\n              )\n            );\n          }\n\n          return of({\n            projectHeaderImage: null,\n            projectFiles: [],\n            projectImages: [],\n          });\n        })\n      )\n      .subscribe(({ projectHeaderImage, projectFiles, projectImages }) => {\n        this.setState({\n          projectFiles: projectFiles\n            ? (projectFiles.filter(\n                (file) => !isNilOrError(file)\n              ) as UploadFile[])\n            : [],\n          projectImages: projectImages\n            ? (projectImages.filter(\n                (image) => !isNilOrError(image)\n              ) as UploadFile[])\n            : [],\n          projectHeaderImage: projectHeaderImage ? [projectHeaderImage] : null,\n        });\n      }),\n\n    this.processing$.subscribe((processing) => {\n      this.setState({ processing });\n    }),\n  ];\n}\n","import React from 'react';\n\n// components\nimport { IconTooltip } from 'cl2-component-library';\nimport { SubSectionTitle } from 'components/admin/Section';\nimport { StyledSectionField, StyledFileUploader } from './styling';\n\n// i18n\nimport { FormattedMessage } from 'utils/cl-intl';\nimport messages from '../messages';\n\n// typings\nimport { UploadFile, CLErrors } from 'typings';\n\ninterface Props {\n  projectFiles: UploadFile[];\n  apiErrors: CLErrors;\n  handleProjectFileOnAdd: (newProjectFile: UploadFile) => void;\n  handleProjectFileOnRemove: (projectFileToRemove: UploadFile) => void;\n}\n\nexport default ({\n  projectFiles,\n  apiErrors,\n  handleProjectFileOnAdd,\n  handleProjectFileOnRemove,\n}: Props) => (\n  <StyledSectionField>\n    <SubSectionTitle>\n      <FormattedMessage {...messages.fileUploadLabel} />\n      <IconTooltip\n        content={<FormattedMessage {...messages.fileUploadLabelTooltip} />}\n      />\n    </SubSectionTitle>\n    <StyledFileUploader\n      onFileAdd={handleProjectFileOnAdd}\n      onFileRemove={handleProjectFileOnRemove}\n      files={projectFiles}\n      errors={apiErrors}\n    />\n  </StyledSectionField>\n);\n","import React from 'react';\n\nimport RangeInput from 'components/UI/RangeInput';\nimport messages from 'containers/Admin/settings/messages';\nimport { ColorPickerSectionField } from 'containers/Admin/settings/customize';\nimport { IAppConfigurationStyle } from 'services/appConfiguration';\nimport { Label, ColorPickerInput } from 'cl2-component-library';\nimport { FormattedMessage } from 'utils/cl-intl';\n\nimport { SectionField } from 'components/admin/Section';\n\ntype Props = {\n  onChange: (key: string) => (value: unknown) => void;\n  latestAppConfigStyleSettings?: IAppConfigurationStyle | null;\n  theme: any;\n};\n\nconst CustomStyleInputs = ({\n  theme,\n  onChange,\n  latestAppConfigStyleSettings,\n}: Props) => {\n  return (\n    <>\n      <ColorPickerSectionField>\n        <Label>\n          <FormattedMessage {...messages.imageOverlayColor} />\n        </Label>\n        <ColorPickerInput\n          type=\"text\"\n          value={\n            latestAppConfigStyleSettings?.signedOutHeaderOverlayColor ||\n            theme.colorMain\n          }\n          onChange={onChange('signedOutHeaderOverlayColor')}\n        />\n      </ColorPickerSectionField>\n      <SectionField>\n        <Label>\n          <FormattedMessage {...messages.imageOverlayOpacity} />\n        </Label>\n        <RangeInput\n          step={1}\n          min={0}\n          max={100}\n          value={\n            latestAppConfigStyleSettings?.signedOutHeaderOverlayOpacity || 90\n          }\n          onChange={onChange('signedOutHeaderOverlayOpacity')}\n        />\n      </SectionField>\n    </>\n  );\n};\n\nexport default CustomStyleInputs;\n"],"sourceRoot":""}