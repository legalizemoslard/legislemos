(window.webpackJsonp=window.webpackJsonp||[]).push([[119],{IIZS:function(e,t,n){"use strict";n("SuFq"),n("tkto"),n("pNMO"),n("5DmW"),n("FZtP"),n("27RR"),n("ENF9");var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("QILm")),l=a(n("pVnL")),o=a(n("lwsE")),d=a(n("W8MJ")),u=a(n("PJYZ")),s=a(n("7W2i")),c=a(n("a1gu")),f=a(n("Nsbk")),p=a(n("lSNA")),h=a(n("VkAN"));n("4mDm"),n("07d7"),n("5s+n"),n("PKPk"),n("3bBZ"),n("TeQF"),n("rB9j"),n("hByQ"),n("2B1R");var m,g,y,b,v,S,C,w,I=X(n("q1tI")),F=n("ifvJ"),x=n("T89o"),O=n("KLnl"),j=n("KuRP"),E=a(n("zAZl")),_=a(n("XJHN")),P=n("iP56"),M=a(n("Q/be")),N=a(n("oTPw")),k=a(n("QYso")),W=a(n("j2uE")),R=a(n("jPkm")),T=a(n("v9Nx")),B=a(n("sokT")),D=a(n("2fl8")),q=a(n("HahP")),A=a(n("anjn")),L=a(n("NugB")),V=a(n("17nk")),J=a(n("08jh")),z=n("Rw3A"),Z=X(n("vOnD")),K=n("96Cm"),Q=n("+9pX"),U=n("ufqH"),$=n("DbO4"),Y=["render","children"];function H(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(H=function(e){return e?n:t})(e)}function X(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=H(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=i?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}return a.default=e,n&&n.set(e,a),a}function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){(0,p.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}var ne=(0,I.lazy)((function(){return Promise.all([n.e(12),n.e(3),n.e(4),n.e(1),n.e(68)]).then(n.t.bind(null,"mz5S",7))})),ae=Z.default.div.withConfig({displayName:"WithFiltersSidebar__Container",componentId:"sc-19j6r9r-0"})(["width:100%;max-width:1445px;margin-left:auto;margin-right:auto;display:flex;flex-direction:column;align-items:stretch;@media (max-width:1279px){max-width:1000px;}"]),re=Z.default.div.withConfig({displayName:"WithFiltersSidebar__InitialLoading",componentId:"sc-19j6r9r-1"})(["width:100%;height:300px;display:flex;align-items:center;justify-content:center;",";",""],K.defaultCardStyle,K.media.smallerThanMinTablet(m||(m=(0,h.default)(["\n    height: 150px;\n  "])))),ie=(0,Z.default)(W.default).withConfig({displayName:"WithFiltersSidebar__MobileSearchInput",componentId:"sc-19j6r9r-2"})(["margin-bottom:20px;"]),le=(0,Z.default)(D.default).withConfig({displayName:"WithFiltersSidebar__MobileFilterButton",componentId:"sc-19j6r9r-3"})([""]),oe=Z.default.div.withConfig({displayName:"WithFiltersSidebar__MobileFiltersSidebarWrapper",componentId:"sc-19j6r9r-4"})(["background:",";padding:15px;"],K.colors.background),de=Z.default.div.withConfig({displayName:"WithFiltersSidebar__AboveContent",componentId:"sc-19j6r9r-5"})(["display:flex;align-items:center;justify-content:space-between;margin-right:","px;margin-bottom:22px;"," ",""],(function(e){return e.filterColumnWidth+35}),(0,K.isRtl)(g||(g=(0,h.default)(["\n    flex-direction: row-reverse;\n  "]))),K.media.smallerThanMaxTablet(y||(y=(0,h.default)(["\n    margin-right: 0;\n    margin-top: 20px;\n  "])))),ue=Z.default.div.withConfig({displayName:"WithFiltersSidebar__AboveContentLeft",componentId:"sc-19j6r9r-6"})(["display:flex;align-items:center;"]),se=Z.default.div.withConfig({displayName:"WithFiltersSidebar__AboveContentRight",componentId:"sc-19j6r9r-7"})(["display:flex;align-items:center;"]),ce=(0,Z.default)(q.default).withConfig({displayName:"WithFiltersSidebar__StyledViewButtons",componentId:"sc-19j6r9r-8"})(["margin-right:20px;"]),fe=Z.default.div.withConfig({displayName:"WithFiltersSidebar__IdeasCount",componentId:"sc-19j6r9r-9"})(["color:",";font-size:","px;line-height:21px;white-space:nowrap;display:flex;align-items:center;span > span{font-weight:600;}"],(function(e){return e.theme.colorText}),K.fontSizes.base),pe=Z.default.div.withConfig({displayName:"WithFiltersSidebar__Content",componentId:"sc-19j6r9r-10"})(["display:flex;"]),he=Z.default.div.withConfig({displayName:"WithFiltersSidebar__ContentLeft",componentId:"sc-19j6r9r-11"})(["flex:1;display:flex;flex-direction:column;align-items:stretch;position:relative;"]),me=Z.default.div.withConfig({displayName:"WithFiltersSidebar__Loading",componentId:"sc-19j6r9r-12"})(["width:100%;display:flex;align-items:center;justify-content:center;"," ",""],K.media.biggerThanMinTablet(b||(b=(0,h.default)(["\n    height: calc(100vh - 280px);\n    position: sticky;\n    top: 200px;\n  "]))),K.media.smallerThanMinTablet(v||(v=(0,h.default)(["\n    height: 150px;\n  "])))),ge=Z.default.div.withConfig({displayName:"WithFiltersSidebar__EmptyContainer",componentId:"sc-19j6r9r-13"})(["flex:1;width:100%;display:flex;justify-content:center;",";"],K.defaultCardStyle),ye=Z.default.div.withConfig({displayName:"WithFiltersSidebar__EmptyContainerInner",componentId:"sc-19j6r9r-14"})(["display:flex;flex-direction:column;align-items:center;padding-left:30px;padding-right:30px;padding-top:100px;padding-bottom:100px;"]),be=(0,Z.default)(P.Icon).withConfig({displayName:"WithFiltersSidebar__IdeaIcon",componentId:"sc-19j6r9r-15"})(["flex:0 0 30px;width:30px;height:30px;fill:",";"],K.colors.label),ve=Z.default.div.withConfig({displayName:"WithFiltersSidebar__EmptyMessage",componentId:"sc-19j6r9r-16"})(["max-width:400px;color:",";font-size:","px;font-weight:400;line-height:normal;text-align:center;margin-top:10px;"],K.colors.label,K.fontSizes.base),Se=Z.default.div.withConfig({displayName:"WithFiltersSidebar__EmptyMessageMainLine",componentId:"sc-19j6r9r-17"})(["color:",";font-size:","px;font-weight:500;line-height:normal;text-align:center;margin-top:15px;"],(function(e){return e.theme.colorText}),K.fontSizes.xl),Ce=Z.default.div.withConfig({displayName:"WithFiltersSidebar__EmptyMessageSubLine",componentId:"sc-19j6r9r-18"})(["color:",";font-size:","px;font-weight:300;line-height:normal;text-align:center;margin-top:10px;"],K.colors.label,K.fontSizes.base),we=Z.default.div.withConfig({displayName:"WithFiltersSidebar__IdeasList",componentId:"sc-19j6r9r-19"})(["margin-left:-13px;margin-right:-13px;margin-top:-10px;display:flex;flex-wrap:wrap;"]),Ie=(0,Z.default)(_.default).withConfig({displayName:"WithFiltersSidebar__StyledIdeaCard",componentId:"sc-19j6r9r-20"})(["flex-grow:0;width:calc(50% - 20px);margin:10px;",";"],K.media.smallerThan1100px(S||(S=(0,h.default)(["\n    width: 100%;\n  "])))),Fe=Z.default.div.withConfig({displayName:"WithFiltersSidebar__ContentRight",componentId:"sc-19j6r9r-21"})(["flex:0 0 ","px;width:","px;display:flex;flex-direction:column;justify-content:flex-start;align-self:flex-start;margin-left:","px;position:relative;position:sticky;top:100px;"],(function(e){return e.filterColumnWidth}),(function(e){return e.filterColumnWidth}),35),xe=Z.default.div.withConfig({displayName:"WithFiltersSidebar__FiltersSidebarContainer",componentId:"sc-19j6r9r-22"})(["position:relative;"]),Oe=Z.default.span.withConfig({displayName:"WithFiltersSidebar__ClearFiltersText",componentId:"sc-19j6r9r-23"})(["color:",";font-size:","px;font-weight:400;line-height:auto;"],K.colors.label,K.fontSizes.base),je=Z.default.button.withConfig({displayName:"WithFiltersSidebar__ClearFiltersButton",componentId:"sc-19j6r9r-24"})(["height:32px;position:absolute;top:-48px;right:0px;display:flex;align-items:center;padding:0;margin:0;cursor:pointer;&:hover{","{color:#000;}}"],Oe),Ee=(0,Z.default)(W.default).withConfig({displayName:"WithFiltersSidebar__DesktopSearchInput",componentId:"sc-19j6r9r-25"})(["margin-bottom:20px;",""],K.media.smallerThanMaxTablet(C||(C=(0,h.default)(["\n    display: none;\n  "])))),_e=(0,Z.default)(N.default).withConfig({displayName:"WithFiltersSidebar__StyledIdeasStatusFilter",componentId:"sc-19j6r9r-26"})(["margin-bottom:20px;"]),Pe=(0,Z.default)(k.default).withConfig({displayName:"WithFiltersSidebar__StyledIdeasTopicsFilter",componentId:"sc-19j6r9r-27"})(["margin-bottom:0px;"]),Me=Z.default.div.withConfig({displayName:"WithFiltersSidebar__Spacer",componentId:"sc-19j6r9r-28"})(["flex:1;"]),Ne=Z.default.div.withConfig({displayName:"WithFiltersSidebar__Footer",componentId:"sc-19j6r9r-29"})(["width:100%;display:flex;justify-content:center;margin-top:30px;",""],K.media.smallerThanMinTablet(w||(w=(0,h.default)(["\n    flex-direction: column;\n    align-items: stretch;\n    margin-top: 0px;\n  "])))),ke=(0,Z.default)(D.default).withConfig({displayName:"WithFiltersSidebar__ShowMoreButton",componentId:"sc-19j6r9r-30"})([""]),We=function(e){(0,s.default)(n,e);var t=te(n);function n(e){var a;return(0,o.default)(this,n),a=t.call(this,e),(0,p.default)((0,u.default)(a),"desktopSearchInputClearButton",null),(0,p.default)((0,u.default)(a),"mobileSearchInputClearButton",null),(0,p.default)((0,u.default)(a),"openFiltersModal",(function(){a.setState((function(e){return{filtersModalOpened:!0,previouslySelectedIdeaFilters:e.selectedIdeaFilters}}))})),(0,p.default)((0,u.default)(a),"loadMore",(function(){a.props.ideas.onLoadMore()})),(0,p.default)((0,u.default)(a),"handleProjectsOnChange",(function(e){a.props.ideas.onChangeProjects(e)})),(0,p.default)((0,u.default)(a),"handleSortOnChange",(function(e){(0,j.trackEventByName)(E.default.sortingFilter,{sort:e}),a.props.ideas.onChangeSorting(e)})),(0,p.default)((0,u.default)(a),"handleSearchOnChange",(function(e){a.props.ideas.onChangeSearchTerm(e)})),(0,p.default)((0,u.default)(a),"handleStatusOnChange",(function(e){a.handleIdeaFiltersOnChange({idea_status:e})})),(0,p.default)((0,u.default)(a),"handleTopicsOnChange",(function(e){(0,j.trackEventByName)(E.default.topicsFilter,{topics:e}),a.handleIdeaFiltersOnChange({topics:e})})),(0,p.default)((0,u.default)(a),"handleStatusOnChangeAndApplyFilter",(function(e){a.handleIdeaFiltersOnChange({idea_status:e},!0)})),(0,p.default)((0,u.default)(a),"handleTopicsOnChangeAndApplyFilter",(function(e){a.handleIdeaFiltersOnChange({topics:e},!0)})),(0,p.default)((0,u.default)(a),"handleIdeaFiltersOnChange",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a.setState((function(n){var r=ee(ee({},n.selectedIdeaFilters),e);return t&&a.props.ideas.onIdeaFiltering(r),{selectedIdeaFilters:r}}))})),(0,p.default)((0,u.default)(a),"handleIdeaFiltersOnReset",(function(){a.setState((function(e){return{selectedIdeaFilters:ee(ee({},e.selectedIdeaFilters),{},{idea_status:null,areas:null,topics:null})}}))})),(0,p.default)((0,u.default)(a),"handleIdeaFiltersOnResetAndApply",(function(){a.setState((function(e){var t,n,r=ee(ee({},e.selectedIdeaFilters),{},{search:null,idea_status:null,areas:null,topics:null});return null===(t=a.desktopSearchInputClearButton)||void 0===t||t.click(),null===(n=a.mobileSearchInputClearButton)||void 0===n||n.click(),a.props.ideas.onIdeaFiltering(r),{selectedIdeaFilters:r}}))})),(0,p.default)((0,u.default)(a),"closeModalAndApplyFilters",(function(){a.setState((function(e){return a.props.ideas.onIdeaFiltering(e.selectedIdeaFilters),{filtersModalOpened:!1,previouslySelectedIdeaFilters:null}}))})),(0,p.default)((0,u.default)(a),"closeModalAndRevertFilters",(function(){a.setState((function(e){return a.props.ideas.onIdeaFiltering(e.previouslySelectedIdeaFilters||{}),{filtersModalOpened:!1,selectedIdeaFilters:e.previouslySelectedIdeaFilters||{},previouslySelectedIdeaFilters:null}}))})),(0,p.default)((0,u.default)(a),"selectView",(function(e){a.setState({selectedView:e})})),(0,p.default)((0,u.default)(a),"handleDesktopSearchInputClearButtonRef",(function(e){a.desktopSearchInputClearButton=e})),(0,p.default)((0,u.default)(a),"handleMobileSearchInputClearButtonRef",(function(e){a.mobileSearchInputClearButton=e})),(0,p.default)((0,u.default)(a),"filterMessage",I.default.createElement(z.FormattedMessage,J.default.filter)),a.state={selectedView:e.defaultView||"card",filtersModalOpened:!1,selectedIdeaFilters:(0,x.get)(e.ideas,"queryParameters",{}),previouslySelectedIdeaFilters:null},a}return(0,d.default)(n,[{key:"componentDidUpdate",value:function(e){var t=(0,x.get)(e.ideas,"queryParameters",null);(0,x.get)(this.props.ideas,"queryParameters",null)!==t&&this.setState({selectedIdeaFilters:(0,x.get)(this.props.ideas,"queryParameters",{})}),this.props.phaseId!==e.phaseId&&this.setState({selectedView:this.props.defaultView||"card"})}},{key:"render",value:function(){var e=this,t=this.state,n=t.selectedView,a=t.selectedIdeaFilters,r=t.filtersModalOpened,i=this.props,o=i.participationMethod,d=i.participationContextId,u=i.participationContextType,s=i.defaultSortingMethod,c=i.ideas,f=i.ideasFilterCounts,p=i.windowSize,h=i.className,m=i.theme,g=i.showViewToggle,y=c.queryParameters,b=c.list,v=c.hasMore,S=c.querying,C=c.loadingMore,w=!(0,O.isNilOrError)(b)&&b.length>0,F="card"===n,j="map"===n,E=!!(p&&p>=K.viewportWidths.largeTablet),_=!!(p&&p<=1440),N=!!(p&&p<=K.viewportWidths.phone),k=p&&p<1400?340:352,W=a.search||a.idea_status||a.areas||a.topics,D=I.default.createElement(xe,{className:h},W&&I.default.createElement(je,{onClick:this.handleIdeaFiltersOnResetAndApply},I.default.createElement(Oe,null,I.default.createElement(z.FormattedMessage,J.default.resetFilters))),I.default.createElement(Q.ScreenReaderOnly,{"aria-live":"polite"},f&&I.default.createElement(z.FormattedMessage,(0,l.default)({},J.default.a11y_totalItems,{values:{ideasCount:f.total}}))),I.default.createElement(Ee,{setClearButtonRef:this.handleDesktopSearchInputClearButtonRef,onChange:this.handleSearchOnChange,debounce:1500}),I.default.createElement(_e,{selectedStatusId:a.idea_status,selectedIdeaFilters:a,onChange:E?this.handleStatusOnChangeAndApplyFilter:this.handleStatusOnChange}),I.default.createElement(Pe,{selectedTopicIds:a.topics,onChange:E?this.handleTopicsOnChangeAndApplyFilter:this.handleTopicsOnChange}));return I.default.createElement(ae,{id:"e2e-ideas-container",className:h},void 0===b&&I.default.createElement(re,{id:"ideas-loading"},I.default.createElement(P.Spinner,null)),void 0!==b&&I.default.createElement(I.default.Fragment,null,!E&&I.default.createElement(I.default.Fragment,null,I.default.createElement(B.default,{opened:r,close:this.closeModalAndRevertFilters,animateInOut:!0,topBar:I.default.createElement(R.default,{onReset:E?this.handleIdeaFiltersOnResetAndApply:this.handleIdeaFiltersOnReset,onClose:this.closeModalAndRevertFilters}),bottomBar:I.default.createElement(L.default,{queryParameters:a},(function(t){var n=t&&(0,x.isNumber)(t.total)?I.default.createElement(z.FormattedMessage,(0,l.default)({},J.default.showXResults,{values:{ideasCount:t.total}})):I.default.createElement(z.FormattedMessage,J.default.showResults);return I.default.createElement(T.default,{buttonText:n,onClick:e.closeModalAndApplyFilters})}))},I.default.createElement(oe,null,D)),I.default.createElement(ie,{setClearButtonRef:this.handleMobileSearchInputClearButtonRef,onChange:this.handleSearchOnChange}),I.default.createElement(le,{buttonStyle:"secondary-outlined",onClick:this.openFiltersModal,icon:"filter",iconAriaHidden:!0,text:this.filterMessage})),I.default.createElement(de,{filterColumnWidth:k},I.default.createElement(ue,null,g&&I.default.createElement(ce,{selectedView:n,onClick:this.selectView}),!(0,O.isNilOrError)(f)&&I.default.createElement(fe,null,I.default.createElement(z.FormattedMessage,(0,l.default)({},J.default.xResults,{values:{ideasCount:f.total}})))),I.default.createElement(Me,null),!j&&I.default.createElement(se,null,I.default.createElement(M.default,{defaultSortingMethod:s||null,onChange:this.handleSortOnChange,alignment:"right"}))),I.default.createElement(pe,null,I.default.createElement(he,null,F&&S&&I.default.createElement(me,{id:"ideas-loading"},I.default.createElement(P.Spinner,null)),F&&!S&&w&&b&&I.default.createElement(we,{id:"e2e-ideas-list"},b.map((function(e){return I.default.createElement(Ie,{key:e.id,ideaId:e.id,participationMethod:o,participationContextId:d,participationContextType:u,hideImage:E&&_,hideImagePlaceholder:_,hideIdeaStatus:!!(E&&_||N)})}))),F&&!S&&v&&I.default.createElement(Ne,null,I.default.createElement(ke,{id:"e2e-idea-cards-show-more-button",onClick:this.loadMore,buttonStyle:"secondary",text:I.default.createElement(z.FormattedMessage,J.default.showMore),processing:C,height:"50px",icon:"showMore",iconPos:"left",textColor:m.colorText,bgColor:(0,U.rgba)(m.colorText,.08),bgHoverColor:(0,U.rgba)(m.colorText,.12),fontWeight:"500"})),!S&&!w&&I.default.createElement(ge,{id:"ideas-empty"},I.default.createElement(ye,null,I.default.createElement(be,{name:"idea",ariaHidden:!0}),I.default.createElement(ve,null,I.default.createElement(Se,null,I.default.createElement(z.FormattedMessage,J.default.noFilteredResults)),I.default.createElement(Ce,null,I.default.createElement(z.FormattedMessage,J.default.tryDifferentFilters))))),j&&w&&I.default.createElement(I.Suspense,{fallback:!1},I.default.createElement(ne,{projectIds:y.projects,phaseId:y.phase}))),E&&I.default.createElement(Fe,{id:"e2e-ideas-filters",filterColumnWidth:k},D))))}}]),n}(I.PureComponent);(0,p.default)(We,"defaultProps",{showViewToggle:!1});var Re=(0,F.adopt)({windowSize:I.default.createElement(V.default,null),ideas:function(e){var t=e.render,n=(e.children,(0,i.default)(e,Y));return I.default.createElement(A.default,(0,l.default)({},n,{pageSize:12,sort:n.defaultSortingMethod||$.ideaDefaultSortMethodFallback}),t)},ideasFilterCounts:function(e){var t=e.ideas,n=e.render;return I.default.createElement(L.default,{queryParameters:(0,x.get)(t,"queryParameters",null)},n)}}),Te=(0,Z.withTheme)((0,z.injectIntl)(We));t.default=function(e){return I.default.createElement(Re,e,(function(t){return I.default.createElement(Te,(0,l.default)({},e,t))}))}},NugB:function(e,t,n){"use strict";n("2B1R"),n("SuFq");var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("FZtP");var r=a(n("lwsE")),i=a(n("W8MJ")),l=a(n("PJYZ")),o=a(n("7W2i")),d=a(n("a1gu")),u=a(n("Nsbk")),s=a(n("lSNA")),c=a(n("q1tI")),f=n("DtyJ"),p=n("ahDk"),h=n("T89o"),m=n("KLnl"),g=n("ngE2");function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}var b=function(e){(0,o.default)(n,e);var t=y(n);function n(e){var a;return(0,r.default)(this,n),a=t.call(this,e),(0,s.default)((0,l.default)(a),"queryParameters$",void 0),(0,s.default)((0,l.default)(a),"subscriptions",void 0),a.state={ideasFilterCounts:void 0},a}return(0,i.default)(n,[{key:"componentDidMount",value:function(){var e=this;this.queryParameters$=new f.BehaviorSubject(this.props.queryParameters),this.subscriptions=[this.queryParameters$.pipe((0,p.map)((function(e){return e?(0,h.omitBy)(e,h.isNil):e})),(0,p.distinctUntilChanged)((function(e,t){return(0,h.isEqual)(e,t)})),(0,p.switchMap)((function(e){return e?(0,g.ideasFilterCountsStream)({queryParameters:e}).observable:(0,f.of)(null)}))).subscribe((function(t){e.setState({ideasFilterCounts:(0,m.isNilOrError)(t)?null:t})}))]}},{key:"componentDidUpdate",value:function(){this.queryParameters$.next(this.props.queryParameters)}},{key:"componentWillUnmount",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"render",value:function(){return(0,this.props.children)(this.state.ideasFilterCounts)}}]),n}(c.default.Component);t.default=b},QYso:function(e,t,n){"use strict";n("4mDm"),n("07d7"),n("PKPk"),n("ENF9"),n("3bBZ"),n("5DmW");var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("pVnL"));n("TeQF");var l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=i?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n("q1tI")),o=n("ifvJ"),d=n("KLnl"),u=a(n("SQnM")),s=a(n("lPdK"));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}var f=a(n("vOnD")).default.div.withConfig({displayName:"TopicFilterBox__Container",componentId:"gjqy0f-0"})([""]),p=(0,l.memo)((function(e){var t=e.selectedTopicIds,n=e.topics,a=e.onChange,r=e.className,i=(0,l.useCallback)((function(e){a(e)}),[]);return!(0,d.isNilOrError)(n)&&n.filter((function(e){return!(0,d.isNilOrError)(e)})).length>0?l.default.createElement(f,{className:r},l.default.createElement(u.default,{topics:n.filter((function(e){return!(0,d.isNilOrError)(e)})),selectedTopicIds:t,onChange:i})):null})),h=(0,o.adopt)({topics:l.default.createElement(s.default,null)});t.default=function(e){return l.default.createElement(h,e,(function(t){return l.default.createElement(p,(0,i.default)({},e,t))}))}},hEVc:function(e,t,n){"use strict";n("SuFq");var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("FZtP");var r=a(n("lwsE")),i=a(n("W8MJ")),l=a(n("PJYZ")),o=a(n("7W2i")),d=a(n("a1gu")),u=a(n("Nsbk")),s=a(n("lSNA")),c=a(n("q1tI")),f=n("X7fv");function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}var h=function(e){(0,o.default)(n,e);var t=p(n);function n(e){var a;return(0,r.default)(this,n),a=t.call(this,e),(0,s.default)((0,l.default)(a),"subscriptions",void 0),a.state={ideaStatuses:void 0},a}return(0,i.default)(n,[{key:"componentDidMount",value:function(){var e=this;this.subscriptions=[(0,f.ideaStatusesStream)().observable.subscribe((function(t){e.setState({ideaStatuses:t?t.data:null})}))]}},{key:"componentWillUnmount",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"render",value:function(){return(0,this.props.children)(this.state.ideaStatuses)}}]),n}(c.default.Component);t.default=h},lPdK:function(e,t,n){"use strict";n("SuFq");var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("ToJy"),n("2B1R"),n("TeQF"),n("FZtP");var r=a(n("lwsE")),i=a(n("W8MJ")),l=a(n("PJYZ")),o=a(n("7W2i")),d=a(n("a1gu")),u=a(n("Nsbk")),s=a(n("lSNA")),c=a(n("q1tI")),f=n("T89o"),p=n("DtyJ"),h=n("ahDk"),m=n("Sxt5"),g=n("rltp"),y=n("KLnl");function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}var v=function(e){(0,o.default)(n,e);var t=b(n);function n(e){var a;return(0,r.default)(this,n),a=t.call(this,e),(0,s.default)((0,l.default)(a),"inputProps$",void 0),(0,s.default)((0,l.default)(a),"subscriptions",void 0),a.state={topics:void 0},a}return(0,i.default)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.topicIds,a=t.code,r=t.exclude_code,i=t.sort,l=t.projectId;this.inputProps$=new p.BehaviorSubject({topicIds:n,code:a,exclude_code:r,sort:i,projectId:l}),this.subscriptions=[this.inputProps$.pipe((0,h.distinctUntilChanged)((function(e,t){return(0,f.isEqual)(e,t)})),(0,h.switchMap)((function(e){var t=e.topicIds,n=e.code,a=e.exclude_code,r=e.sort,i=e.projectId,l={code:n,exclude_code:a,sort:r};return i?(0,g.projectTopicsStream)(i).observable.pipe((0,h.map)((function(e){return e.data.filter((function(e){return e})).map((function(e){return e.relationships.topic.data.id}))})),(0,h.switchMap)((function(e){return(0,p.combineLatest)(e.map((function(e){return(0,m.topicByIdStream)(e).observable.pipe((0,h.map)((function(e){return(0,y.isNilOrError)(e)?e:e.data})))})))}))):t?t.length>0?(0,p.combineLatest)(t.map((function(e){return(0,m.topicByIdStream)(e).observable.pipe((0,h.map)((function(e){return(0,y.isNilOrError)(e)?e:e.data})))}))):(0,p.of)(null):(0,m.topicsStream)({queryParameters:l}).observable.pipe((0,h.map)((function(e){return e.data})))}))).subscribe((function(t){e.setState({topics:t})}))]}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.topicIds,n=e.code,a=e.exclude_code,r=e.sort,i=e.projectId;this.inputProps$.next({topicIds:t,code:n,exclude_code:a,sort:r,projectId:i})}},{key:"componentWillUnmount",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"render",value:function(){return(0,this.props.children)(this.state.topics)}}]),n}(c.default.Component);t.default=v},oTPw:function(e,t,n){"use strict";n("tkto"),n("pNMO"),n("TeQF"),n("5DmW"),n("FZtP"),n("27RR"),n("4mDm"),n("07d7"),n("PKPk"),n("ENF9"),n("3bBZ");var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("pVnL")),l=a(n("lSNA")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=i?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n("q1tI")),d=n("ifvJ"),u=n("KLnl"),s=a(n("4YsN")),c=a(n("hEVc")),f=a(n("NugB"));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,l.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=a(n("vOnD")).default.div.withConfig({displayName:"StatusFilterBox__Container",componentId:"sc-15fyj8k-0"})([""]),y=(0,o.memo)((function(e){var t=e.selectedStatusId,n=e.ideaStatuses,a=e.ideasFilterCounts,r=e.onChange,i=e.className,l=(0,o.useCallback)((function(e){r(e)}),[]);return!(0,u.isNilOrError)(n)&&n.length>0?o.default.createElement(g,{className:i},o.default.createElement(s.default,{type:"idea",statuses:n,filterCounts:a,selectedStatusId:t,onChange:l})):null})),b=(0,d.adopt)({ideaStatuses:o.default.createElement(c.default,null),ideasFilterCounts:function(e){var t=e.selectedIdeaFilters,n=e.render,a=m(m({},t),{},{idea_status:void 0,project_publication_status:"published",publication_status:"published"});return o.default.createElement(f.default,{queryParameters:a},n)}});t.default=function(e){return o.default.createElement(b,e,(function(t){return o.default.createElement(y,(0,i.default)({},e,t))}))}}}]);
//# sourceMappingURL=119.f7d9b53fd865ee260013.chunk.js.map