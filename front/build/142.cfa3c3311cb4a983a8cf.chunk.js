(window.webpackJsonp=window.webpackJsonp||[]).push([[142],{LZ4L:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,i("JRPe").defineMessages)({save:{id:"app.containers.AdminPage.ProjectDescription.save",defaultMessage:"Save"},saved:{id:"app.containers.AdminPage.ProjectDescription.saved",defaultMessage:"Saved!"},saveSuccessMessage:{id:"app.containers.AdminPage.ProjectDescription.saveSuccessMessage",defaultMessage:"Your changes have been saved successfully."},errorMessage:{id:"app.containers.AdminPage.ProjectDescription.errorMessage",defaultMessage:"Something went wrong, please try again later"},descriptionLabel:{id:"app.containers.AdminPage.ProjectDescription.descriptionLabel",defaultMessage:"Description"},descriptionTooltip:{id:"app.containers.AdminPage.ProjectDescription.descriptionTooltip",defaultMessage:"Shown on the project page. Clearly describe what the project is about, what you expect from your users and what they can expect from you."},descriptionPreviewLabel:{id:"app.containers.AdminPage.ProjectDescription.descriptionPreviewLabel",defaultMessage:"Description Preview"},descriptionPreviewTooltip:{id:"app.containers.AdminPage.ProjectDescription.descriptionPreviewTooltip",defaultMessage:"Shown on the project card on the home page."},titleDescription:{id:"app.containers.AdminPage.ProjectDescription.titleDescription",defaultMessage:"Project description"},subtitleDescription:{id:"app.containers.AdminPage.ProjectDescription.subtitleDescription",defaultMessage:"Decide on which message you want to give to your audience. Edit your project and enrich it with images, videos, file attachments,â€¦ This information helps visitors to understand what your project is about."}});t.default=r},YgBy:function(e,t,i){"use strict";i("tkto"),i("pNMO"),i("TeQF"),i("5DmW"),i("FZtP"),i("27RR"),i("4mDm"),i("07d7"),i("PKPk"),i("ENF9"),i("3bBZ");var r=i("TqRt"),a=i("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(i("lSNA")),n=r(i("J4zp")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var i=j(t);if(i&&i.has(e))return i.get(e);var r={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var o=l?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=e[n]}r.default=e,i&&i.set(e,r);return r}(i("q1tI")),c=i("T89o"),u=i("KLnl"),s=i("dtw8"),d=r(i("vEcv")),p=r(i("x3zm")),f=i("uZm3"),m=i("Loij"),v=r(i("l+xl")),b=r(i("w13Z")),w=r(i("2fl8")),g=r(i("Zc1O")),h=i("iP56"),y=i("Rw3A"),P=r(i("LZ4L")),O=r(i("vOnD"));function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(j=function(e){return e?i:t})(e)}function _(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function E(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?_(Object(i),!0).forEach((function(t){(0,l.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):_(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var M=O.default.div.withConfig({displayName:"description__Container",componentId:"lqlwss-0"})([""]),D=O.default.div.withConfig({displayName:"description__ButtonContainer",componentId:"lqlwss-1"})(["display:flex;"]),S=(0,o.memo)((function(e){var t=e.intl.formatMessage,i=(0,o.useState)(!1),r=(0,n.default)(i,2),a=r[0],l=r[1],s=(0,o.useState)(!1),O=(0,n.default)(s,2),j=O[0],_=O[1],S=(0,o.useState)(!1),T=(0,n.default)(S,2),C=T[0],L=T[1],x=(0,o.useState)({}),k=(0,n.default)(x,2),N=k[0],A=k[1],I=(0,o.useState)({description_preview_multiloc:null,description_multiloc:null}),W=(0,n.default)(I,2),F=W[0],R=W[1],Z=(0,d.default)(),B=(0,p.default)({projectId:e.params.projectId});(0,o.useEffect)((function(){(0,u.isNilOrError)(B)||R({description_preview_multiloc:B.attributes.description_preview_multiloc,description_multiloc:B.attributes.description_multiloc})}),[B]);var q=(0,o.useCallback)((function(e,t){l(!0),L(!1),R((function(t){return E(E({},t),{},{description_preview_multiloc:e})}))}),[]),J=(0,o.useCallback)((function(e,t){l(!0),L(!1),R((function(t){return E(E({},t),{},{description_multiloc:e})}))}),[]),K=(0,o.useCallback)((function(){return!0}),[Z,F]),Q=(0,o.useCallback)((function(){var e=F.description_preview_multiloc,t=F.description_multiloc;!j&&K()&&!(0,u.isNilOrError)(B)&&e&&t&&(_(!0),A({}),L(!1),(0,f.updateProject)(B.id,{description_multiloc:t,description_preview_multiloc:e}).then((function(){_(!1),A({}),l(!1),L(!0)})).catch((function(e){var t;_(!1),A((null==e||null===(t=e.json)||void 0===t?void 0:t.errors)||{}),L(!1)})))}),[B,F,j,K]);return(0,u.isNilOrError)(B)?null:o.default.createElement(M,null,o.default.createElement(m.SectionTitle,null,o.default.createElement(y.FormattedMessage,P.default.titleDescription)),o.default.createElement(m.SectionDescription,null,o.default.createElement(y.FormattedMessage,P.default.subtitleDescription)),o.default.createElement(m.Section,null,o.default.createElement(m.SectionField,null,o.default.createElement(v.default,{id:"project-description-preview",valueMultiloc:F.description_preview_multiloc,onChange:q,label:t(P.default.descriptionPreviewLabel),labelTooltipText:t(P.default.descriptionPreviewTooltip),rows:5,maxCharCount:280}),o.default.createElement(g.default,{fieldName:"description_preview_multiloc",apiErrors:null==N?void 0:N.description_preview_multiloc})),o.default.createElement(m.SectionField,null,o.default.createElement(b.default,{id:"project-description",valueMultiloc:F.description_multiloc,onChange:J,label:t(P.default.descriptionLabel),labelTooltipText:t(P.default.descriptionTooltip),withCTAButton:!0}),o.default.createElement(g.default,{fieldName:"description_multiloc",apiErrors:null==N?void 0:N.description_multiloc}))),o.default.createElement(D,null,o.default.createElement(w.default,{buttonStyle:"admin-dark",onClick:Q,processing:j,disabled:!a},C?o.default.createElement(y.FormattedMessage,P.default.saved):o.default.createElement(y.FormattedMessage,P.default.save)),C&&o.default.createElement(h.Success,{text:t(P.default.saveSuccessMessage),showBackground:!1,showIcon:!1}),!(0,c.isEmpty)(N)&&o.default.createElement(g.default,{text:t(P.default.errorMessage),showBackground:!1,showIcon:!1})))})),T=(0,s.withRouter)((0,y.injectIntl)(S));t.default=T},"l+xl":function(e,t,i){"use strict";i("tkto"),i("pNMO"),i("TeQF"),i("5DmW"),i("FZtP"),i("27RR"),i("4mDm"),i("07d7"),i("PKPk"),i("ENF9"),i("3bBZ");var r=i("TqRt"),a=i("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("ma9I");var l=r(i("pVnL")),n=r(i("lSNA")),o=r(i("J4zp")),c=r(i("QILm")),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var i=g(t);if(i&&i.has(e))return i.get(e);var r={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var o=l?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=e[n]}r.default=e,i&&i.set(e,r);return r}(i("q1tI")),s=i("KLnl"),d=r(i("vI50")),p=i("iP56"),f=r(i("JvRQ")),m=r(i("vEcv")),v=r(i("vOnD")),b=i("96Cm"),w=["valueMultiloc","onChange","className","label","labelTooltipText","labelTextElement"];function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(g=function(e){return e?i:t})(e)}function h(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function y(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?h(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var P=v.default.div.withConfig({displayName:"TextAreaMultilocWithLocaleSwitcher__Container",componentId:"sc-1ef8ych-0"})([""]),O=v.default.div.withConfig({displayName:"TextAreaMultilocWithLocaleSwitcher__LabelContainer",componentId:"sc-1ef8ych-1"})(["display:flex;align-items:center;justify-content:space-between;margin-bottom:10px;"]),j=(0,v.default)(p.Label).withConfig({displayName:"TextAreaMultilocWithLocaleSwitcher__StyledLabel",componentId:"sc-1ef8ych-2"})(["flex:1;padding:0;margin:0;"]),_=v.default.div.withConfig({displayName:"TextAreaMultilocWithLocaleSwitcher__Spacer",componentId:"sc-1ef8ych-3"})(["flex:1;"]),E=(0,v.default)(p.LocaleSwitcher).withConfig({displayName:"TextAreaMultilocWithLocaleSwitcher__StyledLocaleSwitcher",componentId:"sc-1ef8ych-4"})(["width:auto;"]),M=v.default.span.withConfig({displayName:"TextAreaMultilocWithLocaleSwitcher__LabelText",componentId:"sc-1ef8ych-5"})(["color:",";"],b.colors.label),D=(0,u.memo)((function(e){var t=e.valueMultiloc,i=e.onChange,r=e.className,a=e.label,v=e.labelTooltipText,b=e.labelTextElement,g=(0,c.default)(e,w),h=(0,u.useState)(null),D=(0,o.default)(h,2),S=D[0],T=D[1],C=(0,f.default)(),L=(0,m.default)();(0,u.useEffect)((function(){!(0,s.isNilOrError)(C)&&T(C)}),[C]);var x=(0,u.useCallback)((function(e,r){var a=y(y({},t||{}),{},(0,n.default)({},r,e));i(a,r)}),[t,i]),k=(0,u.useCallback)((function(e){T(e)}),[]);if(S){var N="".concat(e.id,"-").concat(S);return u.default.createElement(P,{className:r},u.default.createElement(O,null,a||b?u.default.createElement(j,{htmlFor:N},b||u.default.createElement(M,null,a),v&&u.default.createElement(p.IconTooltip,{content:v})):u.default.createElement(_,null),u.default.createElement(E,{onSelectedLocaleChange:k,locales:(0,s.isNilOrError)(L)?[]:L,selectedLocale:S,values:{valueMultiloc:t}})),u.default.createElement(d.default,(0,l.default)({},g,{value:(null==t?void 0:t[S])||null,locale:S,onChange:x,id:N})))}return null}));t.default=D}}]);
//# sourceMappingURL=142.cfa3c3311cb4a983a8cf.chunk.js.map