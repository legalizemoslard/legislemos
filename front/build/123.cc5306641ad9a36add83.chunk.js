(window.webpackJsonp=window.webpackJsonp||[]).push([[123],{"176b":function(e,t,n){"use strict";n("SuFq");var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("lwsE")),o=r(n("W8MJ")),l=r(n("PJYZ")),u=r(n("7W2i")),i=r(n("a1gu")),c=r(n("Nsbk")),s=r(n("lSNA"));n("TWNs"),n("rB9j"),n("JfAA"),n("ma9I"),n("2B1R"),n("sMBO");var d=r(n("q1tI")),f=n("dtw8"),p=r(n("jWBj")),m=r(n("vOnD")),b=n("96Cm"),v=n("Rw3A"),y=r(n("UjkJ")),g=r(n("2fl8")),h=n("Loij"),w=r(n("6SqH"));function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var a=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,i.default)(this,n)}}var j=m.default.div.withConfig({displayName:"TabbedResource__ResourceHeader",componentId:"sc-1ik1xlb-0"})(["display:flex;align-items:flex-end;justify-content:space-between;margin-bottom:30px;@media print{margin-bottom:10px;}p{margin-right:40px;}"]),O=m.default.nav.withConfig({displayName:"TabbedResource__TabbedNav",componentId:"sc-1ik1xlb-1"})(["background:#fcfcfc;border-radius:"," "," 0 0;padding-left:44px;display:flex;border:1px solid ",";border-bottom:1px solid transparent;@media print{border:none;padding:0;margin-bottom:10px;}"],(function(e){return e.theme.borderRadius}),(function(e){return e.theme.borderRadius}),b.colors.separation),E=m.default.div.withConfig({displayName:"TabbedResource__Tab",componentId:"sc-1ik1xlb-2"})(["list-style:none;cursor:pointer;display:flex;margin-bottom:-1px;&:first-letter{text-transform:uppercase;}&:not(:last-child){margin-right:40px;}a{color:",";font-size:","px;font-weight:400;line-height:1.5rem;padding:0;padding-top:1em;padding-bottom:1em;border-bottom:3px solid transparent;transition:all 100ms ease-out;}&:not(.active):hover a{color:",";border-color:#ddd;}&.active a{color:",";border-color:",";}"],b.colors.label,b.fontSizes.base,b.colors.adminTextColor,b.colors.adminTextColor,b.colors.adminTextColor),P=m.default.div.withConfig({displayName:"TabbedResource__ChildWrapper",componentId:"sc-1ik1xlb-3"})(["margin-bottom:60px;padding:42px;border:1px solid ",";background:",";@media print{border:none;padding:0;margin:0;}"],b.colors.separation,b.colors.adminContentBackground);function _(e){return new RegExp("^/([a-zA-Z]{2,3}(-[a-zA-Z]{2,3})?)(".concat(e,")(/)?$"))}var x=function(e){(0,u.default)(n,e);var t=k(n);function n(){var e;(0,a.default)(this,n);for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return e=t.call.apply(t,[this].concat(o)),(0,s.default)((0,l.default)(e),"activeClassForTab",(function(t){var n=e.props.location.pathname;return("function"==typeof t.active?t.active(n):t.active||n&&_(t.url).test(location.pathname))?"active":""})),e}return(0,o.default)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.resource,a=r.title,o=r.subtitle,l=r.publicLink,u=t.messages,i=t.tabs;return d.default.createElement(d.default.Fragment,null,d.default.createElement(j,{className:"e2e-resource-header"},d.default.createElement("div",null,d.default.createElement(w.default,null,a),o&&d.default.createElement(h.SectionDescription,null,o)),l&&u&&d.default.createElement(g.default,{buttonStyle:"cl-blue",icon:"eye",linkTo:l},d.default.createElement(v.FormattedMessage,u.viewPublicResource))),i&&i.length>0&&d.default.createElement(O,{className:"e2e-resource-tabs"},i.map((function(t){return t.feature?d.default.createElement(y.default,{key:t.url,name:t.feature},d.default.createElement(E,{key:t.url,className:"".concat(t.name," ").concat(e.activeClassForTab(t))},d.default.createElement(p.default,{to:t.url},t.label))):d.default.createElement(E,{key:t.url,className:"".concat(t.name," ").concat(e.activeClassForTab(t))},d.default.createElement(p.default,{to:t.url},t.label))}))),d.default.createElement(P,null,n))}}]),n}(d.default.PureComponent),N=(0,f.withRouter)(x);t.default=N},"6SqH":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("vOnD")),o=n("96Cm"),l=a.default.h1.withConfig({displayName:"PageTitle",componentId:"sc-14bkf2f-0"})(["font-size:","px;line-height:40px;font-weight:600;padding:0;margin:0;margin-bottom:15px;"],o.fontSizes.xxxl);t.default=l},"H+jt":function(e,t,n){"use strict";n("SuFq"),n("tkto"),n("pNMO"),n("5DmW"),n("27RR"),n("4mDm"),n("07d7"),n("PKPk"),n("ENF9"),n("3bBZ");var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.AdminProjectEdition=void 0,n("2B1R"),n("sMBO"),n("FZtP"),n("ma9I"),n("TeQF");var o=r(n("pVnL")),l=r(n("lwsE")),u=r(n("W8MJ")),i=r(n("PJYZ")),c=r(n("7W2i")),s=r(n("a1gu")),d=r(n("Nsbk")),f=r(n("lSNA")),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=F(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var u=o?Object.getOwnPropertyDescriptor(e,l):null;u&&(u.get||u.set)?Object.defineProperty(r,l,u):r[l]=e[l]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),m=n("T89o"),b=r(n("JUYq")),v=n("ifvJ"),y=n("KLnl"),g=n("dtw8"),h=r(n("y5tA")),w=r(n("2fl8")),k=r(n("176b")),j=r(n("Yjdl")),O=r(n("L+vo")),E=r(n("M8tl")),P=r(n("M7uY")),_=n("gSG5"),x=n("Rw3A"),N=r(n("V3HD")),R=r(n("Xs5y")),T=n("9FT3"),C=n("KuRP"),M=r(n("yKR6")),B=r(n("vOnD")),I=n("DbO4"),D=n("pGZn");function F(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(F=function(e){return e?n:t})(e)}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,f.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var q=B.default.div.withConfig({displayName:"edit__TopContainer",componentId:"sc-1kzn83k-0"})(["width:100%;margin-top:-5px;margin-bottom:30px;display:flex;align-items:center;justify-content:space-between;position:relative;"]),J=B.default.div.withConfig({displayName:"edit__ActionsContainer",componentId:"sc-1kzn83k-1"})(["display:flex;& > *:not(:last-child){margin-right:15px;}"]),z=function(e){(0,c.default)(n,e);var t=A(n);function n(e){var r;(0,l.default)(this,n),r=t.call(this,e),(0,f.default)((0,i.default)(r),"getTabs",(function(e,t){var n=r.state,a=n.tabs,o=n.tabHideConditions,l=r.props.phases,u="/admin/projects/".concat(e),i=a.map((function(e){return e.name})),c=a;return i.forEach((function(e){e&&o[e]&&o[e](t,l)&&(c=(0,m.reject)(c,{name:e}))})),c.map((function(e){return W(W({},e),{},{url:"".concat(u,"/").concat(e.url)})}))})),(0,f.default)((0,i.default)(r),"goBack",(function(){var e=r.state.goBackUrl&&r.state.goBackUrl!==r.props.location.pathname?r.state.goBackUrl:"/admin/projects";b.default.push(e)})),(0,f.default)((0,i.default)(r),"onNewIdea",(function(e){return function(t){(0,C.trackEventByName)(M.default.clickNewIdea.name,{extra:{pathnameFrom:e}})}})),(0,f.default)((0,i.default)(r),"handleData",(function(e){r.setState((function(t){var n=t.tabs;return{tabs:(0,D.insertConfiguration)(e)(n)}}))}));var a=e.intl.formatMessage;return r.state={tabs:[{label:a(R.default.generalTab),url:"edit",name:"general"},{label:a(R.default.descriptionTab),url:"description",name:"description"},{label:a(R.default.inputManagerTab),url:"ideas",name:"ideas"},{label:a(R.default.pollTab),url:"poll",feature:"polls",name:"poll"},{label:a(R.default.surveyResultsTab),url:"survey-results",name:"survey-results"},{label:a(R.default.phasesTab),url:"timeline",name:"phases"},{label:a(R.default.volunteeringTab),url:"volunteering",feature:"volunteering",name:"volunteering"},{label:a(R.default.eventsTab),url:"events",name:"events"}],tabHideConditions:{general:function(){return!1},description:function(){return!1},ideas:function(e){var t=null==e?void 0:e.attributes.process_type,n=e.attributes.participation_method;return"continuous"===t&&"ideation"!==n&&"budgeting"!==n},poll:function(e,t){var n=null==e?void 0:e.attributes.process_type,r=e.attributes.participation_method;return"continuous"===n&&"poll"!==r||"timeline"===n&&!(0,y.isNilOrError)(t)&&0===t.filter((function(e){return"poll"===e.attributes.participation_method})).length},"survey-results":function(t,n){var r=e.typeform_enabled,a=e.surveys_enabled,o=null==t?void 0:t.attributes.process_type,l=t.attributes.participation_method;return!!("survey"!==l&&"continuous"===o||!a||!r||a&&r&&"continuous"===o&&"survey"===l&&"typeform"!==t.attributes.survey_service||"timeline"===o&&!(0,y.isNilOrError)(n)&&0===n.filter((function(e){return"survey"===e.attributes.participation_method&&"typeform"===e.attributes.survey_service})).length)},phases:function(e){return"timeline"!==(null==e?void 0:e.attributes.process_type)},volunteering:function(e,t){var n=null==e?void 0:e.attributes.process_type,r=e.attributes.participation_method;return"continuous"===n&&"volunteering"!==r||"timeline"===n&&!(0,y.isNilOrError)(t)&&0===t.filter((function(e){return"volunteering"===e.attributes.participation_method})).length},events:function(){return!1}},goBackUrl:null},r}return(0,u.default)(n,[{key:"componentDidMount",value:function(){this.setState({goBackUrl:this.props.previousPathName})}},{key:"render",value:function(){var e=this.props,t=e.project,n=e.phases,r=e.intl.formatMessage,a=e.localize,o=e.children,l=e.location.pathname,u=p.default.cloneElement(o,{project:t}),i={resource:{title:(0,y.isNilOrError)(t)?r(R.default.newProject):a(t.attributes.title_multiloc)},tabs:(0,y.isNilOrError)(t)?[]:this.getTabs(t.id,t)};if(!(0,y.isNilOrError)(t)&&void 0!==n){var c=(0,I.getInputTerm)(null==t?void 0:t.attributes.process_type,t,n);return p.default.createElement(p.default.Fragment,null,p.default.createElement(j.default,{id:"app.containers.Admin.projects.edit",onData:this.handleData,project:t,phases:n}),p.default.createElement(q,null,p.default.createElement(h.default,{onClick:this.goBack}),p.default.createElement(J,null,i.tabs.some((function(e){return"ideas"===e.name}))&&p.default.createElement(w.default,{id:"e2e-new-idea",buttonStyle:"cl-blue",icon:"idea",linkTo:"/projects/".concat(t.attributes.slug,"/ideas/new"),text:r((0,T.getInputTermMessage)(c,{idea:R.default.addNewIdea,option:R.default.addNewOption,project:R.default.addNewProject,question:R.default.addNewQuestion,issue:R.default.addNewIssue,contribution:R.default.addNewContribution})),onClick:this.onNewIdea(l)}),p.default.createElement(w.default,{buttonStyle:"cl-blue",icon:"eye",id:"to-project",linkTo:"/projects/".concat(t.attributes.slug)},p.default.createElement(x.FormattedMessage,R.default.viewPublicProject)))),p.default.createElement(k.default,i,u))}return null}}]),n}(p.PureComponent);t.AdminProjectEdition=z;var Z=(0,g.withRouter)((0,x.injectIntl)((0,N.default)(z))),H=(0,v.adopt)({surveys_enabled:p.default.createElement(O.default,{name:"surveys"}),typeform_enabled:p.default.createElement(O.default,{name:"typeform_surveys"}),phases:function(e){var t=e.params,n=e.render;return p.default.createElement(E.default,{projectId:t.projectId},n)},project:function(e){var t=e.params,n=e.render;return p.default.createElement(P.default,{projectId:t.projectId},n)},previousPathName:function(e){var t=e.render;return p.default.createElement(_.PreviousPathnameContext.Consumer,null,t)}});t.default=function(e){return p.default.createElement(H,e,(function(t){return p.default.createElement(Z,(0,o.default)({},e,t))}))}},ebFa:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,n("JRPe").defineMessages)({goBack:{id:"app.components.GoBackButton.group.edit.goBack",defaultMessage:"Go back"}});t.default=r},y5tA:function(e,t,n){"use strict";n("SuFq"),n("4mDm"),n("07d7"),n("PKPk"),n("ENF9"),n("3bBZ"),n("5DmW");var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("lwsE")),l=r(n("W8MJ")),u=r(n("7W2i")),i=r(n("a1gu")),c=r(n("Nsbk")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var u=o?Object.getOwnPropertyDescriptor(e,l):null;u&&(u.get||u.set)?Object.defineProperty(r,l,u):r[l]=e[l]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),d=r(n("vOnD")),f=r(n("2fl8")),p=n("Rw3A"),m=r(n("ebFa"));function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var a=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,i.default)(this,n)}}var y=d.default.div.withConfig({displayName:"GoBackButton__Container",componentId:"a15d5t-0"})(["display:inline-block;"]),g=function(e){(0,u.default)(n,e);var t=v(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,l.default)(n,[{key:"render",value:function(){var e=this.props,t=e.onClick,n=e.className;return s.default.createElement(y,{className:n||""},s.default.createElement(f.default,{onClick:t,buttonStyle:"text",icon:"arrow-back",size:"2",padding:"0px",text:s.default.createElement(p.FormattedMessage,m.default.goBack)}))}}]),n}(s.PureComponent);t.default=g},yKR6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={clickNewIdea:{name:"New Idea button clicked"}}}}]);
//# sourceMappingURL=123.cc5306641ad9a36add83.chunk.js.map